(function(e,n){var r={},t=function(){return this}();function o(n,u){if(u)return t.__figbuildCommonChunkRequire(n);var i=r[n];return i?i.exports:(i=r[n]={exports:{},id:n,loaded:!1},e[n].call(t,i,i.exports,o),i.exports instanceof Function&&(i.exports.default=i.exports),i.loaded=!0,i.exports)}return n&&(t.__figbuildCommonChunkRequire=o),o(e.length-1)})([
(function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isEmpty=function(n){for(const o in n)if(n.hasOwnProperty(o))return!1;return!0},o.promiseResolveReject=function(){let n,o;return[new Promise((e,t)=>{n=e,o=t}),n,o]},o.assert=function(n,o){if(!Boolean(n))throw new Error(o||"assertion failure")},o.union=function(...n){const o=new Set;for(const e of n)for(const n of e)o.add(n);return o},o.noop=function(){}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.name=e.name,this.values=e.values}validate(e){}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._=null,t.ifExistsPredicate=function(e){return null!==e&&Object.keys(e).every(t=>{const n=e[t];return!!n&&(!Array.isArray(n)||n.length>0)})},t.isObjectField=function(e){return"object"===e.type.kind||"objects"===e.type.kind},t.isEmbeddedObjectField=function(e){return"embedded"in e&&e.embedded},t.isComputedField=function(e){return"computed"in e},t.fieldArg=(e=>({type:"field",ref:e})),t.viewArg=(e=>({type:"view",ref:e})),t.session=(e=>({type:"session",ref:e})),t.parent=(e=>({type:"parent",ref:e}))}),
(function(e,r,n){"use strict";function t(e,r){if(e===r)return!0;if(null==e||null==r)return!1;if(e.length!==r.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==r[n])return!1;return!0}Object.defineProperty(r,"__esModule",{value:!0}),r.isArgumentRef=function(e){return null!==e&&"object"==typeof e&&"type"in e},r.argumentDefByName=function(e,r){if(e)for(const n of e)if(n.name===r)return n;return null},r.argumentsEqual=function(e,r){for(const n in e){const u=e[n],f=r[n];if(void 0===u){if(void 0!==f)return!1}else if(u instanceof Array){if(!(f instanceof Array))return!1;if(!t(u,f))return!1}else if(u!==f)return!1}return Object.keys(e).length===Object.keys(r).length};r.AuthError=class extends Error{};r.OutdatedSchemaError=class extends Error{}}),
(function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=n(3         );s.expressionFields=function(e){const s=new Set,n=e=>{switch(e.type){case"binary":case"in":s.add(e.left);break;case"or":case"and":e.expressions.forEach(n)}};return e&&n(e),s},s.expressionArgumentRefs=function(e){const s=[],n=e=>{switch(e.type){case"binary":case"in":r.isArgumentRef(e.right)&&s.push(e.right);break;case"or":case"and":e.expressions.forEach(n)}};return e&&n(e),s}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}}),
(function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e,u,i=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),o=(e=["",""],u=["",""],Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(u)}})));var a=function(){function t(){for(var n=this,r=arguments.length,e=Array(r),u=0;u<r;u++)e[u]=arguments[u];return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag=function(t){for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return"function"==typeof t?n.interimTag.bind(n,t):"string"==typeof t?n.transformEndResult(t):(t=t.map(n.transformString.bind(n)),n.transformEndResult(t.reduce(n.processSubstitutions.bind(n,e))))},e.length>0&&Array.isArray(e[0])&&(e=e[0]),this.transformers=e.map(function(t){return"function"==typeof t?t():t}),this.tag}return i(t,[{key:"interimTag",value:function(t,n){for(var r=arguments.length,e=Array(r>2?r-2:0),u=2;u<r;u++)e[u-2]=arguments[u];return this.tag(o,t.apply(void 0,[n].concat(e)))}},{key:"processSubstitutions",value:function(t,n,r){var e=this.transformSubstitution(t.shift(),n);return"".concat(n,e,r)}},{key:"transformString",value:function(t){return this.transformers.reduce(function(t,n){return n.onString?n.onString(t):t},t)}},{key:"transformSubstitution",value:function(t,n){return this.transformers.reduce(function(t,r){return r.onSubstitution?r.onSubstitution(t,n):t},t)}},{key:"transformEndResult",value:function(t){return this.transformers.reduce(function(t,n){return n.onEndResult?n.onEndResult(t):t},t)}}]),t}();n.default=a,t.exports=n.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,d=u(6),l=(a=d)&&a.__esModule?a:{default:a};t.default=l.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}},e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(8),r=(d=l)&&d.__esModule?d:{default:d};t.default=r.default,e.exports=t.default}),
(function(r,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(n){if("initial"===r){var e=n.match(/^[^\S\n]*(?=\S)/gm),t=e&&Math.min.apply(Math,function(r){if(Array.isArray(r)){for(var n=0,e=Array(r.length);n<r.length;n++)e[n]=r[n];return e}return Array.from(r)}(e.map(function(r){return r.length})));if(t){var a=new RegExp("^.{"+t+"}","gm");return n.replace(a,"")}return n}if("all"===r)return n.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+r)}}},r.exports=n.default}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,r=d(10),a=(u=r)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=function(e,r){return{onEndResult:function(t){if(null==e||null==r)throw new Error("replaceResultTransformer requires at least 2 arguments.");return t.replace(e,r)}}},e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,a=u(12),d=(l=a)&&l.__esModule?l:{default:l};t.default=d.default,e.exports=t.default}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){return{onSubstitution:function(r,n){if(null==t||null==e)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==r?r:r.toString().replace(t,e)}}},t.exports=e.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,d=u(14),l=(a=d)&&a.__esModule?a:{default:a};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=function(e,r){return{onString:function(t){if(null==e||null==r)throw new Error("replaceStringTransformer requires at least 2 arguments.");return t.replace(e,r)}}},e.exports=r.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=r(16),d=(u=a)&&u.__esModule?u:{default:u};t.default=d.default,e.exports=t.default}),
(function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={separator:"",conjunction:"",serial:!1};t.default=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return{onSubstitution:function(t,e){if(Array.isArray(t)){var r=t.length,i=n.separator,a=n.conjunction,o=n.serial,u=e.match(/(\n?[^\S\n]+)$/);if(t=u?t.join(i+u[1]):t.join(i+" "),a&&r>1){var s=t.lastIndexOf(i);t=t.slice(0,s)+(o?i:"")+" "+a+t.slice(s+1)}}return t}}},n.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=r(18),d=(u=a)&&u.__esModule?u:{default:u};t.default=d.default,e.exports=t.default}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return{onSubstitution:function(e,n){if(null==t||"string"!=typeof t)throw new Error("You need to specify a string character to split by.");return"string"==typeof e&&e.includes(t)&&(e=e.split(t)),e}}},t.exports=e.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(20),r=(d=l)&&d.__esModule?d:{default:d};t.default=r.default,e.exports=t.default}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return null!=t&&!Number.isNaN(t)&&"boolean"!=typeof t};e.default=function(){return{onSubstitution:function(t){return Array.isArray(t)?t.filter(n):n(t)?t:""}}},t.exports=e.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=u(22),d=(r=a)&&r.__esModule?r:{default:r};t.default=d.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=l(t(7)),u=l(t(11)),n=l(t(19)),f=l(t(9));function l(e){return e&&e.__esModule?e:{default:e}}var d=new a.default((0,n.default)({separator:","}),u.default,f.default);r.default=d,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,a=u(24),l=(d=a)&&d.__esModule?d:{default:d};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=l(t(7)),n=l(t(11)),u=l(t(19)),f=l(t(9));function l(e){return e&&e.__esModule?e:{default:e}}var d=new a.default((0,u.default)({separator:",",conjunction:"and"}),n.default,f.default);r.default=d,e.exports=r.default}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=d(26),l=(u=a)&&u.__esModule?u:{default:u};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=l(t(7)),n=l(t(11)),u=l(t(19)),f=l(t(9));function l(e){return e&&e.__esModule?e:{default:e}}var o=new a.default((0,u.default)({separator:",",conjunction:"or"}),n.default,f.default);r.default=o,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,a=u(28),l=(d=a)&&d.__esModule?d:{default:d};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=d(t(7)),n=d(t(11)),u=d(t(19)),f=d(t(9)),l=d(t(21)),s=d(t(23));function d(e){return e&&e.__esModule?e:{default:e}}var o=new a.default((0,l.default)("\n"),s.default,u.default,n.default,f.default);r.default=o,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(30),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(31),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(31),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(7)),u=s(r(11)),l=s(r(19)),f=s(r(9)),n=s(r(21)),d=s(r(15));function s(e){return e&&e.__esModule?e:{default:e}}var o=new a.default((0,n.default)("\n"),l.default,u.default,f.default,(0,d.default)(/&/g,"&amp;"),(0,d.default)(/</g,"&lt;"),(0,d.default)(/>/g,"&gt;"),(0,d.default)(/"/g,"&quot;"),(0,d.default)(/'/g,"&#x27;"),(0,d.default)(/`/g,"&#x60;"));t.default=o,e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(34),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=f(r(7)),a=f(r(9)),l=f(r(13));function f(e){return e&&e.__esModule?e:{default:e}}var n=new u.default((0,l.default)(/(?:\n(?:\s*))+/g," "),a.default);t.default=n,e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(36),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=f(r(7)),a=f(r(9)),l=f(r(13));function f(e){return e&&e.__esModule?e:{default:e}}var n=new u.default((0,l.default)(/(?:\n\s*)/g,""),a.default);t.default=n,e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(38),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=n(t(7)),u=n(t(19)),l=n(t(9)),f=n(t(13));function n(e){return e&&e.__esModule?e:{default:e}}var s=new a.default((0,u.default)({separator:","}),(0,f.default)(/(?:\s+)/g," "),l.default);r.default=s,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,a=u(40),l=(d=a)&&d.__esModule?d:{default:d};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=f(t(7)),u=f(t(19)),l=f(t(9)),n=f(t(13));function f(e){return e&&e.__esModule?e:{default:e}}var o=new a.default((0,u.default)({separator:",",conjunction:"or"}),(0,n.default)(/(?:\s+)/g," "),l.default);r.default=o,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,a=u(42),l=(d=a)&&d.__esModule?d:{default:d};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=f(t(7)),u=f(t(19)),n=f(t(9)),l=f(t(13));function f(e){return e&&e.__esModule?e:{default:e}}var o=new a.default((0,u.default)({separator:",",conjunction:"and"}),(0,l.default)(/(?:\s+)/g," "),n.default);r.default=o,e.exports=r.default}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=d(44),l=(u=a)&&u.__esModule?u:{default:u};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=l(t(7)),u=l(t(11)),n=l(t(19)),f=l(t(9));function l(e){return e&&e.__esModule?e:{default:e}}var d=new a.default(n.default,u.default,f.default);r.default=d,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(46),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=n(t(7)),u=n(t(19)),l=n(t(9)),f=n(t(13));function n(e){return e&&e.__esModule?e:{default:e}}var s=new a.default(u.default,(0,f.default)(/(?:\s+)/g," "),l.default);r.default=s,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(48),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=l(r(7)),a=l(r(11)),f=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}var n=new u.default(a.default,f.default);t.default=n,e.exports=t.default}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,l=d(50),a=(u=l)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(r(7)),u=f(r(11)),l=f(r(9));function f(e){return e&&e.__esModule?e:{default:e}}var n=new a.default((0,u.default)("all"),l.default);t.default=n,e.exports=t.default}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,l=d(52),a=(u=l)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.stripIndents=r.stripIndent=r.oneLineInlineLists=r.inlineLists=r.oneLineCommaListsAnd=r.oneLineCommaListsOr=r.oneLineCommaLists=r.oneLineTrim=r.oneLine=r.safeHtml=r.source=r.codeBlock=r.html=r.commaListsOr=r.commaListsAnd=r.commaLists=r.removeNonPrintingValuesTransformer=r.splitStringTransformer=r.inlineArrayTransformer=r.replaceStringTransformer=r.replaceSubstitutionTransformer=r.replaceResultTransformer=r.stripIndentTransformer=r.trimResultTransformer=r.TemplateTag=void 0;var t=_(n(7)),s=_(n(9)),i=_(n(11)),a=_(n(13)),o=_(n(15)),m=_(n(17)),l=_(n(19)),f=_(n(21)),u=_(n(23)),d=_(n(25)),L=_(n(27)),T=_(n(29)),c=_(n(31)),p=_(n(32)),g=_(n(33)),I=_(n(35)),A=_(n(37)),C=_(n(39)),S=_(n(41)),O=_(n(43)),v=_(n(45)),R=_(n(47)),b=_(n(49)),y=_(n(51)),P=_(n(53));function _(e){return e&&e.__esModule?e:{default:e}}r.TemplateTag=t.default,r.trimResultTransformer=s.default,r.stripIndentTransformer=i.default,r.replaceResultTransformer=a.default,r.replaceSubstitutionTransformer=o.default,r.replaceStringTransformer=m.default,r.inlineArrayTransformer=l.default,r.splitStringTransformer=f.default,r.removeNonPrintingValuesTransformer=u.default,r.commaLists=d.default,r.commaListsAnd=L.default,r.commaListsOr=T.default,r.html=c.default,r.codeBlock=p.default,r.source=g.default,r.safeHtml=I.default,r.oneLine=A.default,r.oneLineTrim=C.default,r.oneLineCommaLists=S.default,r.oneLineCommaListsOr=O.default,r.oneLineCommaListsAnd=v.default,r.inlineLists=R.default,r.oneLineInlineLists=b.default,r.stripIndent=y.default,r.stripIndents=P.default}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.argErrorForArgValue=function e(n,t,r){const{type:a,name:s}=t,i=s;if(void 0===r)return{argName:i,msg:"must not be undefined"};if(null===r){if(!t.nullable)return{argName:i,msg:"must not be null"}}else if("list"===a.kind){if(!(r instanceof Array))return{argName:i,msg:"expected an array"};for(const t in r){const i=e(n,{name:`${s}[${t}]`,type:a.ofType},r[t]);if(i)return i}}else if("map"===a.kind){if("object"!=typeof r||r instanceof Array||r instanceof Date)return{argName:i,msg:"expected a map"};for(const t in r){const i=e(n,{name:`${s}["${t}"]`,type:a.valueType},r[t]);if(i)return i}}else if("enum"===a.kind){const e=n.enumDef(a);if("string"!=typeof r||e.values.indexOf(r)<0)return{argName:i,msg:`expects one of: ${e.values.join(", ")}`}}else{const e=typeof r;let n;switch(a.kind){case"datetime":case"date":case"string":n="string";break;case"int":case"float":n="number";break;case"bool":n="boolean"}if(e!==n)return{argName:i,msg:`expected ${n}, got ${e} from ${JSON.stringify(r)}`}}return null}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(54           ),a=t(5                    ),i=t(3         ),o=t(55           );function s(e,n){return new a.default(`${e.join(".")} - ${n}`)}n.pathError=s,n.validateArgs=function(e,n,t,a,u){for(const f in n){const l=n[f],d=i.argumentDefByName(t,f);if(!d)throw s(e,r.oneLine`
        Found arg with name '${f}', but the field doesn't accept an
        arg with this name`);if(i.isArgumentRef(l)){const n=i.argumentDefByName("session"===l.type?u.session.args:a,l.ref);if(!n)throw s(e,r.oneLine`
          Found arg with name '${l.ref}', but there isn't a declaration of
          an arg with this name in the GraphQuery`);if(n.nullable&&!d.nullable)throw s(e,r.oneLine`
          Query arg '${l.ref}' is nullable but used as a field argument that
          is not nullable`);if(n.type.kind!==d.type.kind)throw s(e,r.oneLine`
          Query arg '${n.name}' of type ${n.type.kind} is being
          used for field argument '${d.name}' of type
          ${d.type.kind}`)}else{const n=o.argErrorForArgValue(u,d,l);if(n)throw s(e,`Arg '${n.argName}': ${n.msg}`)}}for(const{name:r}of t)if(void 0===n[r])throw s(e,`Argument '${r}' is required`)},n.validateArgumentDefs=function(e,n){const t=new Set;for(const{name:i}of n){if(t.has(i))throw new a.default(r.oneLine`
        ${e} declares multiple arguments named '${i}'
      `);t.add(i)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3         ),o=n(2      ),a=n(4             ),f=n(5                    ),s=n(56               ),r=n(54           );function d(e){if("or"in e)return{type:"or",expressions:e.or.map(d)};if("and"in e)return{type:"and",expressions:e.and.map(d)};const[t,n,i]=e;switch(n){case"in":return{type:"in",left:t,right:i};default:return{type:"binary",left:t,op:n,right:i}}}t.default=class{constructor(e){this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1,o.isEmbeddedObjectField(e)?(this.embedded=!0,this.args=[],this.checkCanRead=void 0):(this.embedded=!1,this.args=e.args||[],this.filter=e.filter?d(e.filter):void 0,this.checkCanRead=e.checkCanRead||void 0),this.orderBy=function(e){if(e)return e.map(e=>e instanceof Array?e:[e,"ASC"])}(e.orderBy)}isNullable(){return this.nullable}isList(){return"objects"===this.type.kind}get filterFields(){const e=new Set;for(const{type:t,ref:n}of a.expressionArgumentRefs(this.filter))"parent"===t&&e.add(n);return e}get dependentFields(){const e=new Set;if(this.orderBy)for(const[t]of this.orderBy)e.add(t);for(const t of a.expressionFields(this.filter))e.add(t);return e}validate(e,t){if(!e.objects.has(this.type.name))throw new f.default(r.oneLine`
        field '${this.name}' of object type '${t.name}' refers to undefined
        object type '${this.type.name}'`);const n=new Set;if(this.checkCanRead)for(const s in this.checkCanRead){const e=this.checkCanRead[s];if(i.isArgumentRef(e)){if(!i.argumentDefByName(this.args,e.ref))throw new f.default(r.oneLine`
              field '${this.name}' of object type '${t.name}' uses argument
              '${e.ref}' in its checkCanRead call but does not declare it`);n.add(e.ref)}}const o=e.objectDef(this.type);if(this.embedded&&!o.embedded)throw new f.default(r.oneLine`
        field '${this.name}' of object type '${t.name}' refers to object '${this.type.name}'
        as an embedded field, but object '${this.type.name}' is not marked as embedded
      `);if(this.checkCanRead&&!o.fields.has("canRead"))throw new f.default(r.oneLine`
          field '${this.name}' of object type '${t.name}' has checkCanRead
          set to true but '${o.name}' does not have a 'canRead' field`);s.validateArgumentDefs(`field '${this.name}' of object type '${t.name}'`,this.args);const a=e=>{const n=o.fields.get(e.left);if(!n)throw new f.default(r.oneLine`
          filter condition of '${this.name}' in object type '${t.name}' refers to field
          '${e.left}', which does not exist on object '${this.type.name}'`);return n},d=e=>{if(i.isArgumentRef(e.right)&&"field"===e.right.type){const o=i.argumentDefByName(this.args,e.right.ref);if(!o)throw new f.default(r.oneLine`
            field '${this.name}' of object type '${t.name}' uses argument
            '${e.right.ref}' in its filter but does not declare it`);return n.add(e.right.ref),o}if(i.isArgumentRef(e.right)&&"parent"===e.right.type){const n=t.fields.get(e.right.ref);if(!n)throw new f.default(r.oneLine`
            field '${this.name}' of object type '${t.name}' refers to
            unknown parent field '${e.right.ref}' in its filter`);return n}throw new f.default(r.oneLine`
        Filter condition of '${this.name}' in object type ${t.name} expects an argument or parent field,
        but is a ${typeof e.right} with the value '${e.right}'`)},l=n=>{if(!n)return;let o=null,s=null;switch(n.type){case"binary":if(o=a(n),["list","map","object","objects"].indexOf(o.type.kind)>-1)throw new f.default(r.oneLine`
              Cannot filter on field '${n.left}' in object type '${t.name}'. Filter on type
              '${o.type.kind}' is not supported.`);if(!("date"!==o.type.kind&&"datetime"!==o.type.kind||"="!==n.op&&"<>"!==n.op||null===n.right))throw new f.default(r.oneLine`
              Cannot filter on field '${n.left}' in object type '${t.name}'. '${n.op}' filter
              on type '${o.type.kind}' is not is not supported for non-null values.`);if(i.isArgumentRef(n.right)){if((s=d(n)).type.kind!==o.type.kind)throw new f.default(r.oneLine`
                Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                LHS is a '${o.type.kind}' but RHS is a '${s.type.kind}'`)}else if(null!==n.right)switch(o.type.kind){case"int":case"float":if("number"!=typeof n.right)throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a number but RHS is a '${typeof n.right}'`);break;case"string":if("string"!=typeof n.right)throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a string but RHS is a '${typeof n.right}'`);break;case"enum":if("string"!=typeof n.right)throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a string but RHS is a '${typeof n.right}'`);const i=e.enumDef(o.type);if(i.values.indexOf(n.right)<0)throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to invalid enum value '${n.right}'.
                      Expecting one of ${i.values.join(", ")}`);break;case"bool":if("boolean"!=typeof n.right)throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a boolean but RHS is a '${typeof n.right}'`);break;case"datetime":case"date":if(!(n.right instanceof Date))throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a date but RHS is a '${typeof n.right}'`);break;default:throw new f.default(r.oneLine`
                    Filter on field '${n.left}' in object type '${t.name}' has unexpected type ${o.type.kind}`)}else if([">","<",">=","<="].indexOf(n.op)>-1)throw new f.default(r.oneLine`
                  Cannot filter on field '${n.left}' in object type '${t.name}'. '${n.op}' filter
                  on type '${o.type.kind}' is not is not supported for null values.`);break;case"in":if(o=a(n),["list","map","object","objects","date","datetime"].indexOf(o.type.kind)>-1)throw new f.default(r.oneLine`
              Cannot filter on field '${n.left}' in object type '${t.name}'. Filter on type
              ${o.type.kind} is not supported.`);if(i.isArgumentRef(n.right)){if("list"!==(s=d(n)).type.kind)throw new f.default(r.oneLine`
                Cannot filter on field '${n.left}' in object type '${t.name}' because
                argument ${n.right.ref} has invalid type ${s.type.kind}`);if(s.type.ofType.kind!==o.type.kind)throw new f.default(r.oneLine`
                Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                LHS is a '${o.type.kind}' but RHS is a list of '${s.type.ofType.kind}'`)}else if(n.right.length>0)switch(o.type.kind){case"int":case"float":if("number"!=typeof n.right[0])throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a number but RHS is a list of ${typeof n.right[0]}`);break;case"string":if("string"!=typeof n.right[0])throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a string but RHS is a list of ${typeof n.right[0]}`);break;case"enum":if("string"!=typeof n.right[0])throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a string but RHS is a list of ${typeof n.right[0]}`);const i=e.enumDef(o.type);for(const e of n.right)if(i.values.indexOf(e)<0)throw new f.default(r.oneLine`
                        Cannot filter on field '${n.left}' in object type '${t.name}' due to invalid enum value '${e}'.
                        Expecting one of ${i.values.join(", ")}`);break;case"bool":if("boolean"!=typeof n.right[0])throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a boolean but RHS is a list of ${typeof n.right[0]}`);break;default:throw new f.default(r.oneLine`
                    Filter on field '${n.left}' in object type '${t.name}' has unexpected type ${o.type.kind}`)}break;case"or":case"and":n.expressions.map(e=>l(e))}};l(this.filter);for(const i of this.args)if(!n.has(i.name))throw new f.default(r.oneLine`
          field '${this.name}' of object type '${t.name}' declares argument
          '${i.name}' but does not use it`)}},t.isObjectFieldDef=function(e){return"boolean"==typeof e.embedded}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=s(3         );e.default=class{constructor(t={},e={},s){this.session=t,this.view=e,this.tracingContext=s}substituteFieldArgument(t){return r.isArgumentRef(t)?this[t.type][t.ref]:t}substituteExpressionArgument(t,e,s){return r.isArgumentRef(t)?"parent"===t.type?s[t.ref]:this.substituteFieldArgument(e[t.ref]):t}substituteExpression(t,e,s){const r=t=>{switch(t.type){case"binary":case"in":return Object.assign(Object.assign({},t),{right:this.substituteExpressionArgument(t.right,e,s)});case"or":case"and":return Object.assign(Object.assign({},t),{expressions:t.expressions.map(r)})}};return t?r(t):void 0}substituteIndexingHint(t,e,s){if(!t)return null;if(Array.isArray(t.values))return t;const r=this.substituteExpressionArgument(t.values,e,s);return Array.isArray(r)||"object"!=typeof r||null===r?{field:t.field,values:Array.isArray(r)?r:[r]}:null}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,i){this.computationDef=e,this.context=t,this.computationId=JSON.stringify([this.objectName,this.fieldName,i,t.view])}get fieldDef(){return this.computationDef.computedFieldDef}get objectName(){return this.fieldDef.objectDef.name}get fieldName(){return this.fieldDef.name}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(56               ),o=s(58               ),n=s(59                                 );e.default=class{constructor(t,e,s,o,n){this.computedFieldDef=t,this.fieldArgs=e,this.viewArgs=s;const r=this.computedFieldDef.name;i.validateArgs([...n,r],Object.assign(Object.assign({},this.fieldArgs),{_rootId:""}),this.computedFieldDef.args,this.viewArgs,o)}parameterizedComputation(t,e){const s={_rootId:e};for(const i in this.fieldArgs){const e=this.fieldArgs[i];s[i]=t.substituteFieldArgument(e)}return new n.default(this,new o.default(t.session,s,t.tracingContext),e)}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3         ),n=i(2      ),d=i(57                  ),r=i(63                    ),f=i(60                 ),l=i(56               );class o{constructor({parent:e,objectDef:t,objectFieldDef:i,fieldArgs:h,fields:a,viewArgs:c,schema:u}){this.queries=new Map,this.computations=new Map,this.projectedFields=new Map,this.transmittedFields=new Set,this.parent=e,this.objectDef=t,this.objectFieldDef=i,this.fieldArgs=h,this.schema=u,l.validateArgs(this.path,h,i.args,c,u);for(const s in a){const e=this.objectDef.fieldDef(s),t=a[s],[i,h]=Array.isArray(t)?t:[{},t];if(e instanceof d.default){if(h===n._)throw l.pathError(this.path,`expected nested fields for '${s}' but got '_'`);this.queries.set(s,new o({parent:this,objectDef:u.objectDef(e.type),objectFieldDef:e,fieldArgs:i,fields:h,viewArgs:c,schema:u})),e.embedded&&this.transmittedFields.add(s);for(const t of e.filterFields)this.transmittedFields.add(t)}else if(e instanceof r.default){if(h!==n._)throw l.pathError(this.path,`cannot query field '${s}'`);this.computations.set(s,new f.default(e,i,c,u,this.path))}else{if(h!==n._)throw l.pathError(this.path,`cannot query field '${s}'`);this.projectedFields.set(s,e),this.transmittedFields.add(s)}}"root"!==t.name&&this.transmittedFields.add("id");const{checkCanRead:p}=this.objectFieldDef;if(p){const e={};for(const t in p){const i=p[t];s.isArgumentRef(i)?e[t]=this.fieldArgs[i.ref]:e[t]=i}this.permissionComputation=new f.default(this.objectDef.fieldDef("canRead"),e,c,u,this.path)}for(const s of this.objectFieldDef.dependentFields)this.transmittedFields.add(s)}isNullable(){return this.objectFieldDef.isNullable()}isList(){return this.objectFieldDef.isList()}get path(){return[...this.parent.path,this.objectFieldDef.name]}get indexingHint(){if(void 0!==this._indexingHint)return this._indexingHint;if(!this.objectFieldDef.filter)return this._indexingHint=null,null;const e=(e,t)=>{const i=[e=>!!e&&"id"===e.field,e=>!!e&&"string"===this.objectDef.fieldDef(e.field).type.kind,e=>null!==e,e=>!0];return i.findIndex(t=>t(e))<=i.findIndex(e=>e(t))?e:t},t=i=>"or"===i.type?null:"and"===i.type?i.expressions.map(t).reduce((t,i)=>e(t,i)):"in"===i.type?{field:i.left,values:i.right}:"="===i.op?{field:i.left,values:s.isArgumentRef(i.right)?i.right:[i.right]}:null;return this._indexingHint=t(this.objectFieldDef.filter)||null,this._indexingHint}}t.default=o}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(3         ),n=r(61           ),s=r(55           ),i=r(57                  ),o=r(5                    ),f=r(56               ),g=r(54           );t.default=class{constructor(e,t,r,a){this.name=e,this.fields=t.fields,this.root=new n.default({parent:this,objectDef:r,objectFieldDef:new i.default({name:e,type:{kind:"object",name:r.name}}),fieldArgs:{},fields:t.fields,viewArgs:t.args||[],schema:a}),this.args=t.args||[],f.validateArgumentDefs(`View '${e}'`,this.args)}get path(){return[]}validateArguments(e,t){for(const r in e){const n=e[r],i=a.argumentDefByName(this.args,r);if(!i)throw new o.default(g.oneLine`
          View argument error: '${r}' is not a valid argument
          name`);{const e=s.argErrorForArgValue(t,i,n);if(e)throw new o.default(g.oneLine`
            View argument error: '${e.argName}' '${e.msg}'`)}}for(const{name:r}of this.args)if(void 0===e[r])throw new o.default(`Missing argument '${r}'`)}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(65            ),o=i(62          ),s=i(2      ),a=i(56               );t.default=class{constructor(e,t,i){this.objectDef=t,this.name=e.name,this.type=e.type,this.nullable=!1,this.args=(e.args||[]).concat([{name:"_rootId",type:{kind:"string"}}]),this.view=new o.default(this.name,{fields:{root:[{_rootId:s.viewArg("_rootId")},e.dependencies]},args:this.args},new n.default({name:"root",fields:[{name:"root",args:[{name:"_rootId",type:{kind:"string"}}],type:{kind:"object",name:t.name},filter:["id","=",s.fieldArg("_rootId")]}]}),i)}get displayName(){return`${this.objectDef.name}.${this.name}`}validate(e,t){a.validateArgumentDefs(`Computed field '${this.name}' of object type '${t.name}'`,this.args)}},t.isComputedFieldDef=function(e){return"object"==typeof e.view}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(5                    ),s=i(54           ),a=i(57                  ),l=i(63                    );t.default=class{constructor(e){this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1}validate(e,t){if("enum"===this.type.kind&&!e.enums.has(this.type.name))throw new n.default(s.oneLine`
        field '${this.name}' of object type '${t.name}' refers to undefined
        enum type '${this.type.name}'`)}},t.isScalarFieldDef=function(e){return!a.isObjectFieldDef(e)&&!l.isComputedFieldDef(e)}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(0        ),d=i(2      ),n=i(57                  ),f=i(64                  ),o=i(63                    ),l=i(5                    ),r=i(54           );function a(e){return"date"===e.kind||"datetime"===e.kind}function u(e){return s.assert("string"==typeof e),new Date(e)}t.default=class{constructor(e){this.queriedFields=[],this.name=e.name,this.fields=new Map,this.embedded=e.embedded;for(const t of e.fields)d.isObjectField(t)?(this.fields.set(t.name,new n.default(t)),d.isEmbeddedObjectField(t)&&this.queriedFields.push(t.name)):d.isComputedField(t)||(this.fields.set(t.name,new f.default(t)),this.queriedFields.push(t.name));this.needsTransform=e.fields.some(({type:e})=>a(e)||"list"===e.kind&&a(e.ofType))}constructComputedFields(e,t){for(const i of e.fields)d.isComputedField(i)&&this.fields.set(i.name,new o.default(i,this,t))}validate(e){if("root"===this.name)for(const t of this.fields.values()){if(!(t instanceof n.default))throw new l.default(r.oneLine`
            root fields must be of object type, but '${t.name}' is
            '${t.type.kind}'`);if(t.embedded)throw new l.default(r.oneLine`
               root fields cannot be embedded type, but '${t.name}'
               is embedded`)}for(const t of this.fields.values())t.validate(e,this)}fieldDef(e){const t=this.fields.get(e);if(t)return t;throw new l.default(r.oneLine`
      field '${e}' isn't present in object type '${this.name}'`)}readPlainObject(e){if(!this.needsTransform)return e;const t={id:e.id};for(const[i,{type:s}]of this.fields.entries()){if(!(i in e))continue;const d=e[i];t[i]=this.readPlainObjectField(i,d,s)}return t}readPlainObjectField(e,t,i){if(!this.needsTransform)return t;if(i||(i=this.fields.get(e).type),null!==t){if(a(i))return u(t);if("list"===i.kind&&a(i.ofType))return t.map(u)}return t}}}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=n(54           ),s=n(3         ),a=n(55           ),o=n(5                    ),i=n(56               );r.default=class{constructor(e){this.args=e&&e.args||[],i.validateArgumentDefs("Session definition ",this.args)}validateArguments(e,r){for(const n in e){const i=s.argumentDefByName(this.args,n);if(!i)throw new o.default(t.oneLine`
          Session argument error: '${n}' is not a valid argument
          name`);{const s=a.argErrorForArgValue(r,i,e[n]);if(s)throw new o.default(t.oneLine`
            Session argument error: '${s.argName}' '${s.msg}'`)}}for(const n of this.args)if(!(n.name in e))throw new o.default(t.oneLine`
          Session argument error: the argument '${n.name}' is missing`)}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1           ),n=s(65            ),o=s(66             ),h=s(62          ),c=s(5                    );t.default=class{constructor(e){this.schema=e,this.session=new o.default(e.session),this.enums=new Map;for(const t of e.enums||[])this.enums.set(t.name,new i.default(t));this.objects=new Map;for(const t of e.objects)this.objects.set(t.name,new n.default(t));for(const t of e.objects)this.objects.get(t.name).constructComputedFields(t,this);this.enums.forEach(e=>e.validate(this)),this.objects.forEach(e=>e.validate(this)),this.views={};for(const t in e.views)this.views[t]=new h.default(t,e.views[t],this.objects.get("root"),this);this.version=e.version||"0.0.0"}typeWithKind(e,t){const s=this[e].get(t);if(s)return s;throw new c.default(`${e} with name '${t}' isn't present in schema`)}enumDef({name:e}){return this.typeWithKind("enums",e)}objectDef({name:e}){return this.typeWithKind("objects",e)}toJSON(){return this.schema}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor({fields:e,filter:t}){this.fields=e,this.filter=t}matches(e){if(!this.filter)return!0;const t=r=>{switch(r.type){case"binary":const s=e[r.left],i=r.right;switch(r.op){case"=":return s===i;case"<>":return s!==i}if(null===s||null===i)return!1;switch(r.op){case">":return s>i;case">=":return s>=i;case"<":return s<i;case"<=":return s<=i}case"in":const n=e[r.left];return r.right.some(e=>e===n);case"or":return r.expressions.some(t);case"and":return r.expressions.every(t)}};return t(this.filter)}singleMatchingId(){if(this.filter&&"binary"===this.filter.type){const{left:e,right:t}=this.filter;if("id"===e&&"string"==typeof t)return t}return null}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(3         ),i=s(4                     ),u=s(61                   ),n=s(68                   );t.default=class{constructor(e,t,s){this.queryDef=e,this.context=t;const f=[];for(const i of this.queryDef.objectFieldDef.args){const e=this.queryDef.fieldArgs[i.name];r.isArgumentRef(e)?f.push(this.context[e.type][e.ref]):f.push(e)}this.usedFilterValues=i.expressionArgumentRefs(this.filter).filter(({type:e})=>"parent"===e).map(({ref:e})=>s[e]),this.queryId=JSON.stringify([this.queryDef.parent instanceof u.default?this.queryDef.parent.objectDef.name:null,this.queryDef.objectFieldDef.name,f,this.usedFilterValues]),this._substituted=new n.default({fields:this.queryDef.objectDef.queriedFields,filter:this.context.substituteExpression(this.filter,this.queryDef.fieldArgs,s)}),this.indexingHint=this.context.substituteIndexingHint(this.queryDef.indexingHint,this.queryDef.fieldArgs,s)}get objectName(){return this.queryDef.objectFieldDef.type.name}get filter(){return this.queryDef.objectFieldDef.filter}get orderBy(){return this.queryDef.objectFieldDef.orderBy}substituted(){return this._substituted}isContextStale(e){return i.expressionArgumentRefs(this.filter).filter(({type:e})=>"parent"===e).some(({ref:t},s)=>this.usedFilterValues[s]!==e[t])}order(){const e=this.orderBy;return(t,s)=>{for(const[r,i]of[...e||[],["id","ASC"]]){const e=t[r],u=s[r];if(null!==e||null!==u){if(null===e)return"ASC"===i?1:-1;if(null===u)return"ASC"===i?-1:1;if(e<u)return"ASC"===i?-1:1;if(e>u)return"ASC"===i?1:-1}}return 0}}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(69                     ),r=s(72                         ),a=s(0        ),d=Object.freeze({status:"loading"});class n{constructor({parent:e,queryDef:t,observable:s,context:r,instance:a}){this.children=new Map,this._isLoaded=!1,this.detachedChildren=new Set,this.parent=e,this.observable=s,this.context=r,this.query=new i.default(t,r,a);const{objectFieldDef:d}=t;if(d.embedded){this.unsubscribe=(()=>{});const e=a[d.name],t=a.id;if(e)if(Array.isArray(e)){const s={};e.forEach((e,i)=>{const r=`${t}-${i}`;s[r]=Object.assign({id:r},e)}),this.onInitialResults(s)}else{const s=`${t}-0`;this.onInitialResults({[s]:Object.assign({id:s},e)})}else this.onInitialResults({})}else this.unsubscribe=this.observable.subscribeQuery(this.query,this)}get fieldName(){return this.query.queryDef.objectFieldDef.name}destroy(){for(const e of this.children.values())e.destroy();this.unsubscribe()}onInitialResults(e){a.assert(!this._isLoaded);for(const t in e)this.children.set(t,new r.default(this,this.context,e[t],this.query.queryDef));this._isLoaded=!0,this.resetResult(),this.parent.resultsUpdated()}onAddResult(e){a.assert(this._isLoaded),this.children.set(e.id,new r.default(this,this.context,e,this.query.queryDef)),this.resetResult(),this.parent.resultsUpdated()}onUpdateResult(e){a.assert(this._isLoaded),a.assert(this.children.has(e.id)),this.children.get(e.id).onUpdateResult(e),this.parent.resultsUpdated()}onRemoveResult({id:e}){a.assert(this._isLoaded),a.assert(this.children.has(e)),this.children.get(e).destroy(),this.children.delete(e),this.detachedChildren.delete(e),this.resetResult(),this.parent.resultsUpdated()}detachChild({id:e}){this.detachedChildren.add(e),this.resetResult(),this.parent.resultsUpdated()}restoreChild({id:e}){this.detachedChildren.delete(e),this.resetResult()}resultsUpdated(){this._isLoaded&&this.parent.resultsUpdated()}recreateIfStale(e){const{queryDef:t}=this.query;if(t.objectFieldDef.embedded||this.query.isContextStale(e))return new n({parent:this.parent,queryDef:this.query.queryDef,observable:this.observable,context:this.context,instance:e})}result(){if(!this._isLoaded)return d;if(this._result)return this._result;const e=[...this.children.values()].filter(e=>!this.detachedChildren.has(e.instance.id)),t=this.query.order();t&&e.sort(({instance:e},{instance:s})=>t(e,s));const{fieldName:s}=this,i=[],r=[];let a=!0;for(const d of e){const e=d.result();switch(e.status){case"loading":return this._result=e;case"errors":a=!1;for(const t of e.errors)i.push(Object.assign(Object.assign({},t),{path:[s,...t.path]}));break;case"loaded":for(const t of e.errors)i.push(Object.assign(Object.assign({},t),{path:[s,...t.path]}));r.push(e.data)}}return a?this.query.queryDef.isList()?this._result={status:"loaded",errors:i,data:r}:r.length>0?this._result={status:"loaded",errors:i,data:r[0]}:this.query.queryDef.isNullable()?this._result={status:"loaded",errors:i,data:null}:this._result={status:"errors",errors:[...i,{code:"nonNullableResult",path:[s]}]}:this.query.queryDef.isNullable()?this._result={status:"loaded",errors:i,data:null}:this._result={status:"errors",errors:i}}resetResult(){this._result=void 0,this.parent.resetResult()}isLoaded(){if(!this._isLoaded)return!1;for(const e of this.children.values())if(!e.isLoaded())return!1;return!0}}t.default=n,t.isLiveViewQueryNode=function(e){return e instanceof n}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Object.freeze({status:"loading"});class i{constructor({parent:t,computationDef:e,observable:s,context:r,instance:i}){this.parent=t,this.observable=s,this.computation=e.parameterizedComputation(r,i.id),this.unsubscribe=s.subscribeComputation(this.computation,this)}get fieldName(){return this.computation.fieldName}destroy(){this.unsubscribe()}onUpdateResult(t){this._result={status:"loaded",errors:[],data:t},this.parent.resetResult(),this.parent.resultsUpdated()}onErrors(t){const{name:e}=this.computation.fieldDef;this._result={status:"errors",errors:t.map(t=>Object.assign(Object.assign({},t),{path:[e,...t.path]}))}}recreateIfStale(t){}result(){return this._result?this._result:r}isLoaded(){return!!this._result}}e.default=i,e.isLiveViewComputationNode=function(t){return t instanceof i}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(70                      ),i=s(71                            );t.default=class{constructor(e,t,s,o){this.parent=e,this.instance=s,this.queryDef=o,this.children=[];for(const i of o.queries.values())this.children.push(new r.default({parent:this,queryDef:i,observable:e.observable,context:t,instance:s}));for(const r of o.computations.values())this.children.push(new i.default({parent:this,computationDef:r,observable:e.observable,context:t,instance:s}))}get queriedChildren(){return this.children.filter(r.isLiveViewQueryNode)}get computedChildren(){return this.children.filter(i.isLiveViewComputationNode)}destroy(){for(const e of this.children)e.destroy()}resultsUpdated(){this.parent.resultsUpdated()}onUpdateResult(e){this.resetResult(),this.instance=e;for(let t=0;t<this.children.length;t++){const s=this.children[t],r=s.recreateIfStale(e);r&&(s.destroy(),this.children[t]=r)}}projectResults(e){const t={};if(this.queryDef.objectFieldDef.embedded)for(const s of this.queryDef.projectedFields.keys())t[s]=s in e?e[s]:null;else for(const s of this.queryDef.projectedFields.keys())t[s]=e[s];return t}result(){if(this._result)return this._result;const e=[],t=this.projectResults(this.instance);let s=!0;for(const r of this.children){const i=r.result();switch(i.status){case"loading":return this._result=i;case"errors":s=!1,e.push.apply(e,i.errors);break;case"loaded":e.push.apply(e,i.errors),t[r.fieldName]=i.data}}return this._result=s?{status:"loaded",errors:e,data:t}:{status:"errors",errors:e}}resetResult(){this._result=void 0,this.parent.resetResult()}isLoaded(){for(const e of this.children)if(!e.isLoaded())return!1;return!0}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(72                         ),o=s(0        );e.default=class{constructor(t,e,s,n){this.viewDef=t,this.context=e,this.observable=s,this.cancelNextTick=(()=>{}),this.initResultReady=!1,n=n||{},this.root=new i.default(this,e,{},t.root),o.assert(!n.onResultsResolved||n.onNextTick),0===this.root.children.length&&n.onNextTick&&(this.cancelNextTick=n.onNextTick(()=>this.resultsUpdated())),this.onResultsResolved=n.onResultsResolved}get viewArgs(){return this.context.view}resultsUpdated(){this.reportTime(),this.onResultsResolved&&this.onResultsResolved(this.result())}destroy(){this.cancelNextTick(),this.root.destroy()}result(){return this.root.result()}resetResult(){}isLoaded(){return this.root.isLoaded()}reportTime(){this.context.tracingContext&&!this.initResultReady&&this.isLoaded()&&(this.initResultReady=!0,this.context.tracingContext.span.finish())}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e){this.key=t,this.value=e}orInsert(){return this.value}orInsertWith(){return this.value}andModify(t){return t(this.value),this}}class n{constructor(t,e){this.key=t,this.map=e}orInsert(t){return this.map.set(this.key,t),t}orInsertWith(t){return this.orInsert(t())}andModify(){return this}}e.EntryMap=class extends Map{entry(t){return this.has(t)?new r(t,this.get(t)):new n(t,this)}};class i extends r{orDefault(){return this.value}}class a extends n{orDefault(){return this.orInsert(this.map.default(this.key))}}e.DefaultMap=class extends Map{constructor(t,e){super(e),this.default=t}entry(t){return this.has(t)?new i(t,this.get(t)):new a(t,this)}}}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(s){this.shadowMutations=new Set,this.shadowQueries=new Set,this.serverQueries=new Set,this.serverFields=s,this.shadowFields=s}fields(){return 0===this.shadowMutations.size?this.serverFields:this.shadowFields}dependentQueries(){return 0===this.shadowMutations.size?this.serverQueries:this.shadowQueries}applyMutation(s){if(this.serverFields=Object.assign(Object.assign({},this.serverFields),s),0===this.shadowMutations.size)for(const e of this.dependentQueries().values())for(const s of e.observers)s.onUpdateResult(this.serverFields)}applyShadowMutation(s,e,t){0===this.shadowMutations.size&&(this.shadowFields=Object.assign({},this.serverFields),this.shadowQueries=new Set(this.serverQueries)),this.shadowMutations.add(s),t&&(this.shadowFields=Object.assign(Object.assign(Object.assign({},this.shadowFields),t),{id:e}))}removeShadowMutation(s,e){e?this.shadowMutations.delete(s):this.shadowMutations=new Set}}}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=t(0        ),a=t(74                 ),o=t(75                );e.default=class{constructor(s){this.objectDef=s,this.instanceStates=new a.EntryMap,this.shadowInstances=new Set,this.queryStates=new a.EntryMap,this.possiblyOrphanedQueryResults=new a.EntryMap,this.possiblyOrphanInstances=new Set}addInstance(s,e){if(!s.results.has(e)){if(s.results.add(e),s.loaded)for(const t of s.observers)t.onAddResult(e.fields());e.dependentQueries().add(s)}}removeInstance(s,e,t){n.assert(s.results.has(e)),s.results.delete(e);for(const n of s.observers)t?n.onRemoveResult(e.fields()):n.detachChild(e.fields());e.dependentQueries().delete(s)}applyShadowMutationAdd(s,e,t){const n=this.instanceStates.entry(e).orInsertWith(()=>new o.default({id:e}));this.shadowInstances.add(n),n.applyShadowMutation(s,e,t);for(const a of this.queryStates.values())a.query.matches(n.fields())&&this.addInstance(a,n)}applyShadowMutationDelete(s,e,t){this.shadowInstances.add(t),t.applyShadowMutation(s,e,null);for(const n of t.dependentQueries().values())this.removeInstance(n,t,!1)}applyShadowMutationUpdate(s,e,t,n){this.shadowInstances.add(t),t.applyShadowMutation(s,e,n);const a=t.fields();for(const o of this.queryStates.values())if(o.results.has(t))if(o.query.matches(a))for(const s of o.observers)s.onUpdateResult(a);else this.removeInstance(o,t,!1);else o.query.matches(a)&&this.addInstance(o,t)}removeShadowMutations(s,e,t){for(const n in e){const e=this.instanceStates.get(n);if(void 0===e)throw new Error("update triggered on non-existent instance");if(e.shadowMutations.has(s)&&(e.removeShadowMutation(s,t),0===e.shadowMutations.size)){this.shadowInstances.delete(e);const s=e.fields();for(const t of e.dependentQueries().values())for(const e of t.observers)e.restoreChild(s);for(const t of this.queryStates.values())if(t.results.has(e))if(e.dependentQueries().has(t))for(const e of t.observers)e.onUpdateResult(s);else this.removeInstance(t,e,!0);else e.dependentQueries().has(t)&&this.addInstance(t,e);this.checkOrphanInstance(e)}}}applyMutations(s,e){for(const t in s){const e=this.objectDef.readPlainObject(s[t]);this.instanceStates.entry(t).andModify(s=>{s.applyMutation(e)}).orInsertWith(()=>{const s=new o.default(e);return this.possiblyOrphanInstances.add(s),s})}for(const t in e){const s=e[t];if(!this.queryStates.has(t)){this.possiblyOrphanedQueryResults.set(t,s);continue}const n=this.queryStates.get(t);this.setQueryStateResults(n,s)}}subscribe(s,e){const t=this.queryStates.entry(s.queryId).orInsertWith(()=>({results:new Set,query:s.substituted(),observers:new Set,loaded:!1}));if(n.assert(!t.observers.has(e)),t.observers.add(e),this.possiblyOrphanedQueryResults.has(s.queryId))this.setQueryStateResults(t,this.possiblyOrphanedQueryResults.get(s.queryId)),this.possiblyOrphanedQueryResults.delete(s.queryId);else if(t.loaded){const s={};for(const e of t.results.values()){const t=e.fields();s[t.id]=t}e.onInitialResults(s)}return()=>{if(n.assert(t.observers.has(e)),t.observers.delete(e),0===t.observers.size){for(const s of t.results.values())s.dependentQueries().delete(t),this.checkOrphanInstance(s);this.queryStates.delete(s.queryId)}}}setQueryStateResults(s,{results:e,fullResults:t}){if(s.loaded){for(const t in e){n.assert(this.instanceStates.has(t));const a=this.instanceStates.get(t);this.shadowInstances.has(a)?!0===e[t]?a.serverQueries.add(s):a.serverQueries.delete(s):!0===e[t]?this.addInstance(s,a):(this.removeInstance(s,a,!0),this.possiblyOrphanInstances.add(a))}if(t){for(const t of s.results)this.shadowInstances.has(t)||e[t.fields().id]||(this.removeInstance(s,t,!0),this.possiblyOrphanInstances.add(t));for(const t of this.shadowInstances.values())e[t.fields().id]||t.serverQueries.delete(s)}}else{n.assert(t),s.loaded=!0;const a={};for(const t in e){n.assert(e[t]),n.assert(this.instanceStates.has(t));const o=this.instanceStates.get(t);o.serverQueries.add(s),this.shadowInstances.has(o)||(a[t]=o.fields(),s.results.add(o))}for(const e of this.shadowInstances.values()){const t=e.fields();s.query.matches(t)&&(a[t.id]=t)}for(const e of s.observers)e.onInitialResults(a)}}cleanupOrphans(){this.possiblyOrphanedQueryResults.clear();for(const s of this.possiblyOrphanInstances)this.checkOrphanInstance(s)}checkOrphanInstance(s){const e=this.instanceStates.has(s.fields().id),t=this.instanceStates.get(s.fields().id)===s,n=0===s.dependentQueries().size,a=this.shadowInstances.has(s);e&&t&&n&&!a&&this.instanceStates.delete(s.fields().id)}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(0        ),o=s(74                 );t.default=class{constructor(e){this.objectDef=e,this.states=new o.DefaultMap(()=>({value:null,loaded:!1,observers:new Set}))}applyMutations(e){for(const t in e){const{fieldName:s,value:a}=e[t],o=this.states.entry(t).orDefault();o.value=this.objectDef.readPlainObjectField(s,a),o.loaded=!0;for(const e of o.observers.values())e.onUpdateResult(o.value)}}subscribe({computationId:e},t){const s=this.states.entry(e).orDefault();return a.assert(!s.observers.has(t)),s.observers.add(t),s.loaded&&t.onUpdateResult(s.value),()=>{s.observers.delete(t),0===s.observers.size&&this.states.delete(e)}}}}),
(function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e(0        ),i=e(73                 ),r=e(76              ),n=e(77                   ),a=e(58               );t.default=class{constructor(s,t){this.args=s,this.schema=t,this.subscriptions=new Set,this.stores={};for(const[e,o]of t.objects)this.stores[e]={queries:new r.default(o),computations:new n.default(o)}}applyMutations(s){for(const t in s){const{instances:e,queries:o,computations:i}=s[t],r=this.stores[t];r.queries.applyMutations(e,o),r.computations.applyMutations(i)}this.notifyObservers();for(const t in s)this.stores[t].queries.cleanupOrphans()}applyShadowMutations(s,t){for(const e in t){const i=this.stores[e].queries,r=t[e];for(const n in t[e]){const t=i.instanceStates.get(n),e=r[n];void 0===t?(o.assert(e),i.applyShadowMutationAdd(s,n,e)):null===e?i.applyShadowMutationDelete(s,n,t):i.applyShadowMutationUpdate(s,n,t,e)}}this.notifyObservers()}removeShadowMutations(s,t,e){for(const o in t)this.stores[o].queries.removeShadowMutations(s,t[o],e);this.notifyObservers()}subscribeView(s,t,e){const o=this.schema.views[s];o.validateArguments(t,this.schema);const r=new i.default(o,new a.default(this.args,t),this),n={view:r,observer:e};return this.subscriptions.add(n),()=>{this.subscriptions.delete(n),r.destroy()}}subscribeQuery(s,t){return this.stores[s.objectName].queries.subscribe(s,t)}subscribeComputation(s,t){return this.stores[s.objectName].computations.subscribe(s,t)}notifyObservers(){for(const{view:s,observer:t}of this.subscriptions)t(s.result())}}}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=t(67                ),n=t(3         ),r=t(78                ),a=t(0        ),c=5e3,o=3e4;e.default=class{constructor(s,e,t,i,n={}){this.url=t,this.wsImpl=i,this.clientOptions=n,this.state={type:"disconnected"},this.unsentMessagesQueue=[],this.transactionId=1,this.syncCallbacks=new Map,this.subscriptions=new Set,this.session=new r.default(s,e),this.clientOptions.connectLazily||this.connect()}close(){return new Promise(s=>{this.clearReconnect(),this.clearKeepalive(),this.ws&&(this.ws.readyState!==this.ws.CLOSED?(this.ws.onclose=(()=>s()),this.ws.close()):s())})}subscribe(s,e,t){this.send({messageType:"subscribe",viewName:s._name,args:e});const i={view:s,args:e,observer:t,unsubscribe:this.session.subscribeView(s._name,e,t)};return this.subscriptions.add(i),()=>{i.unsubscribe(),this.subscriptions.delete(i),this.send({messageType:"unsubscribe",viewName:s._name,args:e})}}async applyMutations(s,e){const t=this.transactionId;let i;this.transactionId++,this.session.applyShadowMutations(t,s);try{i=await e}catch(n){throw this.session.removeShadowMutations(t,s,!1),n}return await this.sync(t),this.session.removeShadowMutations(t,s,!0),i}async sync(s=this.transactionId++){this.send({messageType:"sync",transactionId:s});const[e,t]=a.promiseResolveReject();this.syncCallbacks.set(s,t),await e,this.syncCallbacks.delete(s)}getIntervalWithJitter(){return o+(Math.random()-.5)*c}clearReconnect(){this.reconnect&&(clearTimeout(this.reconnect),this.reconnect=void 0)}clearKeepalive(){this.keepalive&&(clearInterval(this.keepalive),this.keepalive=void 0)}onDisconnect(){"error"===this.state.type&&"authFail"===this.state.errorType||this.scheduleReconnect(),this.state={type:"disconnected"},this.unsentMessagesQueue=[];for(const{view:s,args:e}of this.subscriptions)this.send({messageType:"subscribe",viewName:s._name,args:e});for(const s of this.syncCallbacks.keys())this.send({messageType:"sync",transactionId:s})}scheduleReconnect(){!1!==this.clientOptions.shouldSubscribeServer&&(this.reconnect=setTimeout(()=>{this.reconnect=void 0,this.connect()},this.getIntervalWithJitter()))}resetSession(s){this.ws&&this.ws.close(),this.session=new r.default(this.session.args,new i.default(s));for(const e of this.subscriptions){const{view:s,args:t,observer:i}=e;e.unsubscribe=this.session.subscribeView(s._name,t,i)}}connect(){!1!==this.clientOptions.shouldSubscribeServer&&(this.ws=new this.wsImpl(this.url),this.state={type:"connecting"},this.ws.onopen=(async()=>{this.ws&&(this.state={type:"connected",authenticated:!1},this.ws.send(JSON.stringify({messageType:"auth",args:this.session.args,schemaVersion:this.session.schema.version})))}),this.ws.onclose=(()=>{this.clearKeepalive(),this.onDisconnect()}),this.ws.onerror=(s=>{this.clientOptions.onError&&this.clientOptions.onError(s)}),this.ws.onmessage=(({data:s})=>{const e=JSON.parse(s);if(e)switch(e.messageType){case"authSuccess":for(this.state={type:"connected",authenticated:!0},this.keepalive=setInterval(()=>{this.send({messageType:"ping"})},this.getIntervalWithJitter());this.unsentMessagesQueue.length>0;)this.send(this.unsentMessagesQueue.shift());break;case"authFail":this.clientOptions.onError&&this.clientOptions.onError(new n.AuthError),this.state={type:"error",errorType:"authFail"};break;case"ack":break;case"pendingMutations":this.session.applyMutations(e.mutations);break;case"synced":const s=this.syncCallbacks.get(e.transactionId);s&&s();break;case"requestError":this.state={type:"error",errorType:"requestError"};break;case"serverError":this.state={type:"error",errorType:"serverError"};break;case"outdatedSchema":this.clientOptions.onError&&this.clientOptions.onError(new n.OutdatedSchemaError),this.state={type:"error",errorType:"outdatedSchema"};break;case"schemaUpgrade":this.resetSession(e.schema)}}))}send(s){var e,t;"disconnected"===this.state.type&&this.clientOptions.connectLazily&&this.connect(),"connected"===this.state.type&&this.state.authenticated&&(null===(e=this.ws)||void 0===e?void 0:e.readyState)===(null===(t=this.ws)||void 0===t?void 0:t.OPEN)?this.ws.send(JSON.stringify(s)):this.unsentMessagesQueue.push(s)}getState(){return this.state}}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const c=t(79                   );s.Client=c.default;const n=t(78                           );s.ClientSession=n.default;var r=t(3            );s.argumentsEqual=r.argumentsEqual;const a=t(2                 );s.DSL=a;const i=t(67                   );s.Schema=i.default;var l=t(2                 );s.parent=l.parent,s._=l._,s.fieldArg=l.fieldArg,s.viewArg=l.viewArg,s.session=l.session}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=e(2,1    ),i=e(0           ),r=e(23,1                     ),c=e(80        ),u=n.createContext(null),o=u.Provider;s.ContextProvider=o,s.subscribe=function(t){return s=>{const e=s=>{const e={};for(const n of t._argKeys)i.assert(n in s),e[n]=s[n];return e};class o extends a{constructor(t){super(t),this.state={status:"loading"}}componentDidMount(){this.startSubscription()}componentDidUpdate(t){c.argumentsEqual(e(this.props),e(t))||(this.endSubscription(),this.startSubscription())}componentWillUnmount(){this.endSubscription()}startSubscription(){this.setState({status:"loading"}),this.unsubscribe=this.context.client.subscribe(t,e(this.props),t=>this.setState(t))}endSubscription(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}render(){const t=Object.assign(Object.assign({},this.props),this.state);return n.createElement(s,Object.assign({},t))}}return o.WrappedComponent=s,o.contextType=u,r(o,s,{})}};class a extends n.Component{constructor(t){super(t),this.withRef=!1,this.setWrappedInstance=this.setWrappedInstance.bind(this)}getWrappedInstance(){return this.wrappedInstance}setWrappedInstance(t){this.wrappedInstance=t}}s.useSubscription=function(t,s){const[e,i]=n.useState({status:"loading"}),r=n.useContext(u),o=n.useRef(s);return c.argumentsEqual(s,o.current)||(o.current=s,i({status:"loading"})),n.useEffect(()=>r.client.subscribe(t,s,i),[o.current]),e}}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=r(80                   );s.LiveGraphClient=class extends i.Client{applyUpdates(e,s){return this.applyMutations(e,s)}},function(e){e.ORG_VIEW="org_view",e.ORG_EDIT="org_edit",e.VIEW="view",e.EDIT="edit",e.INHERIT="inherit"}(s.LinkAccess||(s.LinkAccess={})),function(e){e.PUBLIC="public",e.PRIVATE="private",e.SECRET="secret"}(s.OrgAccess||(s.OrgAccess={})),function(e){e.ADMIN="admin",e.MEMBER="member",e.GUEST="guest"}(s.OrgPermission||(s.OrgPermission={})),function(e){e._name="FileWithComments",e._argKeys=["fileKey"]}(s.FileWithComments||(s.FileWithComments={})),function(e){e._name="FilePermittedUsers",e._argKeys=["fileKey"]}(s.FilePermittedUsers||(s.FilePermittedUsers={})),function(e){e._name="UserResources",e._argKeys=["orgId"]}(s.UserResources||(s.UserResources={})),function(e){e._name="UserOrgResources",e._argKeys=["orgId"]}(s.UserOrgResources||(s.UserOrgResources={})),function(e){e._name="FileByKey",e._argKeys=["fileKey"]}(s.FileByKey||(s.FileByKey={})),function(e){e._name="TeamById",e._argKeys=["teamId"]}(s.TeamById||(s.TeamById={})),function(e){e._name="UserWithTeams",e._argKeys=[]}(s.UserWithTeams||(s.UserWithTeams={})),function(e){e._name="ProjectById",e._argKeys=["folderId"]}(s.ProjectById||(s.ProjectById={})),function(e){e._name="OrgTeamsWithSummary",e._argKeys=["orgId"]}(s.OrgTeamsWithSummary||(s.OrgTeamsWithSummary={})),function(e){e._name="OrgsByUser",e._argKeys=[]}(s.OrgsByUser||(s.OrgsByUser={})),function(e){e._name="OrgMembers",e._argKeys=["orgId"]}(s.OrgMembers||(s.OrgMembers={}))}),
(function(e,s,c){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=c(2                 );s.DSL=r;const a=c(67                   );s.Schema=a.default;var t=c(2                 );s.parent=t.parent,s._=t._,s.fieldArg=t.fieldArg,s.viewArg=t.viewArg,s.session=t.session}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=r(83            ),d={name:"CommentMessageMeta",embedded:!0,fields:[{name:"id",type:{kind:"string"}},{name:"t",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"string"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",i.parent("userId")],nullable:!0}]},t={name:"CommentReaction",fields:[{name:"id",type:{kind:"string"}},{name:"fileCommentId",type:{kind:"string"}},{name:"emoji",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",i.parent("userId")]},{name:"createdAt",type:{kind:"datetime"}},{name:"sortTimestamp",type:{kind:"datetime"},nullable:!0}]},a={name:"Comment",fields:[{name:"id",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"parentId",type:{kind:"string"},nullable:!0},{name:"orderId",type:{kind:"int"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"resolvedAt",type:{kind:"datetime"},nullable:!0},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"clientMeta",type:{kind:"object",name:"CommentClientMeta"},embedded:!0,nullable:!0},{name:"messageMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",i.parent("userId")]},{name:"reactions",type:{kind:"objects",name:"CommentReaction"},filter:["fileCommentId","=",i.parent("id")]}]},s={name:"Foft",fields:[{name:"id",type:{kind:"string"}},{name:"userIds",type:{kind:"list",ofType:{kind:"string"}}},{name:"users",type:{kind:"objects",name:"User"},filter:["id","in",i.parent("userIds")]}]},l={name:"RecentFiles",fields:[{name:"id",type:{kind:"string"}},{name:"fileKeys",type:{kind:"list",ofType:{kind:"string"}}},{name:"files",type:{kind:"objects",name:"File"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],checkCanRead:{userId:i.fieldArg("userId")},filter:["key","in",i.parent("fileKeys")]}]},m={name:"OrgUser",fields:[{name:"id",type:{kind:"string"}},{name:"orgId",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"permission",type:{kind:"enum",name:"OrgPermission"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",i.parent("userId")]},{name:"org",type:{kind:"object",name:"Org"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.parent("orgId")],checkCanRead:{userId:i.fieldArg("userId")},nullable:!0},{name:"visibleTeams",type:{kind:"objects",name:"Team"},nullable:!0,filter:["orgId","=",i.parent("orgId")]},{name:"orgBrowsableFiles",type:{kind:"objects",name:"File"},nullable:!0,filter:{and:[["orgBrowsable","=",!0],["parentOrgId","=",i.parent("orgId")],{or:[["linkAccess","=","org_view"],["linkAccess","=","org_edit"]]}]}}]},u={name:"File",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"key",type:{kind:"string"}},{name:"folderId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"parentOrgId",type:{kind:"string"},nullable:!0},{name:"touchedAt",type:{kind:"datetime"},nullable:!0},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0},{name:"orgBrowsable",type:{kind:"bool"},nullable:!0},{name:"linkAccess",type:{kind:"enum",name:"LinkAccess"}},{name:"protoLinkAccess",type:{kind:"enum",name:"LinkAccess"},nullable:!0},{name:"roles",type:{kind:"objects",name:"FileRole"},filter:{and:[["resourceId","=",i.parent("key")],["resourceType","=","file"]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"FileRole"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",i.fieldArg("userId")],["resourceId","=",i.parent("key")],["resourceType","=","file"]]}},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",i.fieldArg("userId")],["orgId","=",i.parent("parentOrgId")],["permission","<>","guest"]]}},{name:"currentUserFileFollower",type:{kind:"object",name:"FileFollower"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["key","=",i.parent("key")],["userId","=",i.fieldArg("userId")]]}},{name:"project",type:{kind:"object",name:"Project"},nullable:!0,filter:["id","=",i.parent("folderId")]},{name:"team",type:{kind:"object",name:"Team"},nullable:!0,filter:["id","=",i.parent("teamId")]},{name:"comments",type:{kind:"objects",name:"Comment"},filter:{and:[["key","=",i.parent("key")],["deletedAt","=",null]]}},{name:"facesOnFileTiles",type:{kind:"object",name:"Foft"},filter:["id","=",i.parent("key")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.fieldArg("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{id:i._,key:i._,deletedAt:i._,roleOnObjectForUser:[{userId:i.viewArg("userId")},{id:i._,level:i._}],orgBrowsable:i._,linkAccess:i._,protoLinkAccess:i._,parentOrgId:i._,currentOrgUser:[{userId:i.viewArg("userId")},{id:i._}],project:{id:i._,canRead:[{userId:i.viewArg("userId")},i._]},team:{id:i._,canRead:[{userId:i.viewArg("userId")},i._]}}}]},o={name:"Project",fields:[{name:"id",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"path",type:{kind:"string"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"viewOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"inviteOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"roles",type:{kind:"objects",name:"ProjectRole"},filter:{and:[["resourceId","=",i.parent("id")],["resourceType","=","folder"]]}},{name:"files",type:{kind:"objects",name:"File"},filter:["folderId","=",i.parent("id")],nullable:!0},{name:"team",nullable:!0,type:{kind:"object",name:"Team"},filter:{and:[["id","=",i.parent("teamId")]]}},{name:"subscription",type:{kind:"object",name:"ProjectSubscription"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:{and:[["folderId","=",i.parent("id")],["userId","=",i.fieldArg("userId")]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"ProjectRole"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",i.fieldArg("userId")],["resourceId","=",i.parent("id")],["resourceType","=","folder"]]}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.fieldArg("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{id:i._,roleOnObjectForUser:[{userId:i.viewArg("userId")},{id:i._}],inviteOnlyAt:i._,deletedAt:i._,path:i._,team:{id:i._,canRead:[{userId:i.viewArg("userId")},i._]}}}]},p={name:"Team",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"roles",type:{kind:"objects",name:"TeamRole"},filter:{and:[["resourceId","=",i.parent("id")],["resourceType","=","team"]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",i.fieldArg("userId")],["resourceId","=",i.parent("id")],["resourceType","=","team"]]}},{name:"projects",type:{kind:"objects",name:"Project"},nullable:!0,filter:{and:[["teamId","=",i.parent("id")],["inviteOnlyAt","=",null],["path","<>",""]]}},{name:"orgAccess",type:{kind:"enum",name:"OrgAccess"},nullable:!0},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",i.fieldArg("userId")],["orgId","=",i.parent("orgId")],["permission","<>","guest"]]}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.fieldArg("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{id:i._,roleOnObjectForUser:[{userId:i.viewArg("userId")},{id:i._,level:i._}]}}]},g={name:"TeamWithSummary",fields:[{name:"id",type:{kind:"string"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",i.parent("id")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.fieldArg("userId")]},{name:"memberCount",type:{kind:"int"},computed:!0,dependencies:{id:i._,team:{id:i._,projects:{id:i._},orgAccess:i._,roles:{id:i._}}}},{name:"projectCount",type:{kind:"int"},computed:!0,dependencies:{id:i._,team:{projects:{id:i._}}}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{id:i._,team:{canRead:[{userId:i.viewArg("userId")},i._],orgAccess:i._,currentOrgUser:[{userId:i.viewArg("userId")},{id:i._,permission:i._}],roles:{id:i._}}}}]},y={name:"Org",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"imgUrl",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",i.fieldArg("userId")],["orgId","=",i.parent("id")]]}},{name:"teams",type:{kind:"objects",name:"Team"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["orgId","=",i.parent("id")],checkCanRead:{userId:i.fieldArg("userId")}},{name:"teamsWithSummary",type:{kind:"objects",name:"TeamWithSummary"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,checkCanRead:{userId:i.fieldArg("userId")},filter:["orgId","=",i.parent("id")]},{name:"members",type:{kind:"objects",name:"OrgUser"},nullable:!0,filter:["orgId","=",i.parent("id")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.fieldArg("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{id:i._,currentOrgUser:[{userId:i.viewArg("userId")},{id:i._,permission:i._}]}}]},c={name:"User",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"email",type:{kind:"string"},nullable:!0},{name:"rawHandle",type:{kind:"string"},nullable:!0},{name:"handle",type:{kind:"string"},computed:!0,dependencies:{id:i._,name:i._,rawHandle:i._}},{name:"rawImgUrl",type:{kind:"string"},nullable:!0},{name:"imgUrl",type:{kind:"string"},computed:!0,dependencies:{id:i._,email:i._,name:i._,rawHandle:i._,rawImgUrl:i._}},{name:"teamRoles",type:{kind:"objects",name:"TeamRole"},nullable:!0,filter:{and:[["userId","=",i.parent("id")],["resourceType","=","team"]]}},{name:"projectRoles",type:{kind:"objects",name:"ProjectRole"},nullable:!0,filter:{and:[["userId","=",i.parent("id")],["resourceType","=","folder"]]}},{name:"fileRoles",type:{kind:"objects",name:"FileRole"},nullable:!0,filter:{and:[["userId","=",i.parent("id")],["resourceType","=","file"]]}},{name:"orgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"orgId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",i.parent("id")],["orgId","=",i.fieldArg("orgId")]]}},{name:"orgUsers",type:{kind:"objects",name:"OrgUser"},nullable:!0,filter:["userId","=",i.parent("id")]}]},k=[{name:"id",type:{kind:"string"}},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"string"},nullable:!0},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"string"}},{name:"pending",type:{kind:"bool"}},{name:"level",type:{kind:"int"}},{name:"rawUserString",type:{kind:"string"},nullable:!0},{name:"pendingEmail",type:{kind:"string"},nullable:!0,computed:!0,dependencies:{pending:i._,rawUserString:i._}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",i.parent("userId")],nullable:!0}],I={name:"TeamRole",fields:[...k,{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",i.parent("resourceId")],nullable:!0},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"}}],computed:!0,dependencies:{id:i._,userId:i._,level:i._,team:{id:i._,roleOnObjectForUser:[{userId:i.viewArg("userId")},{id:i._,userId:i._,level:i._}]}}}]},b={name:"FileRole",fields:[...k,{name:"file",type:{kind:"object",name:"File"},filter:["key","=",i.parent("resourceId")]}]},f={name:"ProjectRole",fields:[...k,{name:"project",type:{kind:"object",name:"Project"},filter:["id","=",i.parent("resourceId")]}]},_={pending:i._,pendingEmail:i._,user:{id:i._,email:i._,handle:i._,imgUrl:i._}};n.FigmaSchemaDef={version:"1.0.1",session:{args:[{name:"userId",type:{kind:"string"},nullable:!0}]},views:{FileWithComments:{args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:i.viewArg("fileKey"),userId:i.session("userId")},{id:i._,comments:{id:i._,key:i._,orderId:i._,parentId:i._,createdAt:i._,resolvedAt:i._,user:{id:i._,handle:i._,imgUrl:i._},clientMeta:{x:i._,y:i._,nodeId:i._,nodeOffset:{x:i._,y:i._},inFrame:i._},messageMeta:{t:i._,user:{id:i._,handle:i._,imgUrl:i._}},reactions:{id:i._,fileCommentId:i._,emoji:i._,userId:i._,user:{id:i._,handle:i._,imgUrl:i._},createdAt:i._,sortTimestamp:i._}},currentUserFileFollower:[{userId:i.session("userId")},{unreadComments:i._}]}]}},FilePermittedUsers:{args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:i.viewArg("fileKey"),userId:i.session("userId")},{id:i._,roles:Object.assign({},_),project:{inviteOnlyAt:i._,roles:Object.assign({},_)},team:{roles:Object.assign({},_)}}]}},UserResources:{args:[{name:"orgId",type:{kind:"string"},nullable:!0}],fields:{currentUser:[{userId:i.session("userId")},{fileRoles:{file:{id:i._,key:i._}},projectRoles:{project:{id:i._,files:{id:i._,key:i._}}},teamRoles:{team:{id:i._,projects:{id:i._,files:{id:i._,key:i._}}}},orgUser:[{orgId:i.viewArg("orgId")},{orgBrowsableFiles:{id:i._,key:i._},visibleTeams:{id:i._,projects:{id:i._,files:{id:i._,key:i._}}}}]}]}},UserOrgResources:{args:[{name:"orgId",type:{kind:"string"}}],fields:{currentUser:[{userId:i.session("userId")},{orgUser:[{orgId:i.viewArg("orgId")},{orgBrowsableFiles:{id:i._},visibleTeams:{id:i._,projects:{id:i._,files:{id:i._}}}}]}]}},FileByKey:{args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:i.viewArg("fileKey"),userId:i.session("userId")},{id:i._,key:i._}]}},TeamById:{args:[{name:"teamId",type:{kind:"string"}}],fields:{team:[{id:i.viewArg("teamId"),userId:i.session("userId")},{id:i._}]}},UserWithTeams:{fields:{currentUser:[{userId:i.session("userId")},{id:i._,teamRoles:{id:i._,team:{id:i._}}}]}},ProjectById:{args:[{name:"folderId",type:{kind:"string"}}],fields:{project:[{id:i.viewArg("folderId"),userId:i.session("userId")},{id:i._}]}},OrgTeamsWithSummary:{args:[{name:"orgId",type:{kind:"string"}}],fields:{org:[{id:i.viewArg("orgId"),userId:i.session("userId")},{teamsWithSummary:[{userId:i.session("userId")},{id:i._,memberCount:i._}]}]}},OrgsByUser:{fields:{currentUser:[{userId:i.session("userId")},{id:i._,orgUsers:{id:i._,org:[{userId:i.session("userId")},{id:i._,name:i._}]}}]}},OrgMembers:{args:[{name:"orgId",type:{kind:"string"}}],fields:{org:[{id:i.viewArg("orgId"),userId:i.session("userId")},{members:{id:i._,user:{id:i._}}}]}}},objects:[{name:"root",fields:[{name:"currentUser",type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.fieldArg("userId")]},{name:"team",type:{kind:"object",name:"Team"},args:[{name:"id",type:{kind:"string"}},{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.fieldArg("id")],checkCanRead:{userId:i.fieldArg("userId")},nullable:!0},{name:"project",type:{kind:"object",name:"Project"},args:[{name:"id",type:{kind:"string"}},{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.fieldArg("id")],checkCanRead:{userId:i.fieldArg("userId")},nullable:!0},{name:"recentFiles",type:{kind:"object",name:"RecentFiles"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.fieldArg("userId")]},{name:"file",type:{kind:"object",name:"File"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"string"},nullable:!0}],filter:["key","=",i.fieldArg("key")],checkCanRead:{userId:i.fieldArg("userId")},nullable:!0},{name:"org",type:{kind:"object",name:"Org"},args:[{name:"id",type:{kind:"string"}},{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",i.fieldArg("id")],checkCanRead:{userId:i.fieldArg("userId")},nullable:!0}]},y,m,b,I,f,c,p,g,o,{name:"ProjectSubscription",fields:[{name:"id",type:{kind:"string"}},{name:"folderId",type:{kind:"string"}},{name:"userId",type:{kind:"string"}}]},u,s,l,{name:"FileFollower",fields:[{name:"id",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"unreadComments",type:{kind:"map",valueType:{kind:"bool"}},nullable:!0}]},{name:"CommentClientMeta",embedded:!0,fields:[{name:"id",type:{kind:"string"}},{name:"x",type:{kind:"int"}},{name:"y",type:{kind:"int"}},{name:"nodeId",type:{kind:"string"},nullable:!0},{name:"nodeOffset",type:{kind:"object",name:"Vector"},nullable:!0,embedded:!0},{name:"inFrame",type:{kind:"bool"},nullable:!0}]},d,t,a,{name:"Vector",embedded:!0,fields:[{name:"id",type:{kind:"string"}},{name:"x",type:{kind:"int"}},{name:"y",type:{kind:"int"}}]}],enums:[{name:"LinkAccess",values:["org_view","org_edit","view","edit","inherit"]},{name:"OrgAccess",values:["public","private","secret"]},{name:"OrgPermission",values:["admin","member","guest"]}]};const j=new i.Schema(n.FigmaSchemaDef);n.default=j}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.emptyUserState={file_browser_preferences:{},disable_personal:!0,files:[],recent_files:[],recent_repos:[],folders:[],teams:[],roles:[],orgs:[],org_drafts_owners:[],user_favorite_fonts:[],user_flags:[],repos:[]};const r=JSON.parse(JSON.stringify(i().feature_flags||{}));function i(){return window.INITIAL_OPTIONS||{}}Object.freeze(r),s.getFeatureFlags=function(){return r},s.setEditingFile=(e=>{window.INITIAL_OPTIONS=Object.assign(Object.assign({},window.INITIAL_OPTIONS),{editing_file:e})}),s.initialOptions=i,s.default=i}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.debounce=function(e,n=200,t=!1){let u=0,l=null;const o=function(){if(clearTimeout(u),u=0,!l)return;const n=l;l=null,e.apply(void 0,n)},c=function(...c){t&&!u?(t=!1,e.apply(void 0,c),t=!0):l=c,clearTimeout(u),u=setTimeout(o,n)};return c.cancel=(()=>{clearTimeout(u),l=null,u=0}),c.flush=o,c}}),
(function(e,i,s){var o,r;o=this,r=function(){var e=!0;function i(i){function s(e){var s=i.match(e);return s&&s.length>1&&s[1]||""}function o(e){var s=i.match(e);return s&&s.length>1&&s[2]||""}var r,n=s(/(ipod|iphone|ipad)/i).toLowerCase(),t=!/like android/i.test(i)&&/android/i.test(i),a=/nexus\s*[0-6]\s*/i.test(i),d=!a&&/nexus\s*[0-9]+/i.test(i),m=/CrOS/.test(i),v=/silk/i.test(i),p=/sailfish/i.test(i),c=/tizen/i.test(i),l=/(web|hpw)os/i.test(i),u=/windows phone/i.test(i),f=(/SamsungBrowser/i.test(i),!u&&/windows/i.test(i)),h=!n&&!v&&/macintosh/i.test(i),w=!t&&!p&&!c&&!l&&/linux/i.test(i),b=o(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),g=s(/version\/(\d+(\.\d+)?)/i),k=/tablet/i.test(i)&&!/tablet pc/i.test(i),x=!k&&/[^-]mobi/i.test(i),y=/xbox/i.test(i);/opera/i.test(i)?r={name:"Opera",opera:e,version:g||s(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(i)?r={name:"Opera",opera:e,version:s(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||g}:/SamsungBrowser/i.test(i)?r={name:"Samsung Internet for Android",samsungBrowser:e,version:g||s(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(i)?r={name:"Opera Coast",coast:e,version:g||s(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(i)?r={name:"Yandex Browser",yandexbrowser:e,version:g||s(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(i)?r={name:"UC Browser",ucbrowser:e,version:s(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(i)?r={name:"Maxthon",maxthon:e,version:s(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(i)?r={name:"Epiphany",epiphany:e,version:s(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(i)?r={name:"Puffin",puffin:e,version:s(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(i)?r={name:"Sleipnir",sleipnir:e,version:s(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(i)?r={name:"K-Meleon",kMeleon:e,version:s(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:u?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(r.msedge=e,r.version=b):(r.msie=e,r.version=s(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(i)?r={name:"Internet Explorer",msie:e,version:s(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:m?r={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(i)?r={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(i)?r={name:"Vivaldi",vivaldi:e,version:s(/vivaldi\/(\d+(\.\d+)?)/i)||g}:p?r={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:s(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(i)?r={name:"SeaMonkey",seamonkey:e,version:s(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(i)?(r={name:"Firefox",firefox:e,version:s(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(i)&&(r.firefoxos=e,r.osname="Firefox OS")):v?r={name:"Amazon Silk",silk:e,version:s(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(i)?r={name:"PhantomJS",phantom:e,version:s(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(i)?r={name:"SlimerJS",slimer:e,version:s(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(i)||/rim\stablet/i.test(i)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:g||s(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:l?(r={name:"WebOS",osname:"WebOS",webos:e,version:g||s(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(i)&&(r.touchpad=e)):/bada/i.test(i)?r={name:"Bada",osname:"Bada",bada:e,version:s(/dolfin\/(\d+(\.\d+)?)/i)}:c?r={name:"Tizen",osname:"Tizen",tizen:e,version:s(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}:/qupzilla/i.test(i)?r={name:"QupZilla",qupzilla:e,version:s(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||g}:/chromium/i.test(i)?r={name:"Chromium",chromium:e,version:s(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||g}:/chrome|crios|crmo/i.test(i)?r={name:"Chrome",chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:t?r={name:"Android",version:g}:/safari|applewebkit/i.test(i)?(r={name:"Safari",safari:e},g&&(r.version=g)):n?(r={name:"iphone"==n?"iPhone":"ipad"==n?"iPad":"iPod"},g&&(r.version=g)):r=/googlebot/i.test(i)?{name:"Googlebot",googlebot:e,version:s(/googlebot\/(\d+(\.\d+))/i)||g}:{name:s(/^(.*)\/(.*) /),version:o(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(i)?(/(apple)?webkit\/537\.36/i.test(i)?(r.name=r.name||"Blink",r.blink=e):(r.name=r.name||"Webkit",r.webkit=e),!r.version&&g&&(r.version=g)):!r.opera&&/gecko\//i.test(i)&&(r.name=r.name||"Gecko",r.gecko=e,r.version=r.version||s(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!t&&!r.silk?!r.windowsphone&&n?(r[n]=e,r.ios=e,r.osname="iOS"):h?(r.mac=e,r.osname="macOS"):y?(r.xbox=e,r.osname="Xbox"):f?(r.windows=e,r.osname="Windows"):w&&(r.linux=e,r.osname="Linux"):(r.android=e,r.osname="Android");var S="";r.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(s(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?S=s(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?S=(S=s(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):n?S=(S=s(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):t?S=s(/android[ \/-](\d+(\.\d+)*)/i):r.webos?S=s(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?S=s(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?S=s(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(S=s(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(r.osversion=S);var B=!r.windows&&S.split(".")[0];return k||d||"ipad"==n||t&&(3==B||B>=4&&!x)||r.silk?r.tablet=e:(x||"iphone"==n||"ipod"==n||t||a||r.blackberry||r.webos||r.bada)&&(r.mobile=e),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=e:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=e:r.x=e,r}var s=i("undefined"!=typeof navigator&&navigator.userAgent||"");function o(e){return e.split(".").length}function r(e,i){var s,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,i);for(s=0;s<e.length;s++)o.push(i(e[s]));return o}function n(e){for(var i=Math.max(o(e[0]),o(e[1])),s=r(e,function(e){var s=i-o(e);return r((e+=new Array(s+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--i>=0;){if(s[0][i]>s[1][i])return 1;if(s[0][i]!==s[1][i])return-1;if(0===i)return 0}}function t(e,o,r){var t=s;"string"==typeof o&&(r=o,o=void 0),void 0===o&&(o=!1),r&&(t=i(r));var a=""+t.version;for(var d in e)if(e.hasOwnProperty(d)&&t[d]){if("string"!=typeof e[d])throw new Error("Browser version in the minVersion map should be a string: "+d+": "+String(e));return n([a,e[d]])<0}return o}return s.test=function(e){for(var i=0;i<e.length;++i){var o=e[i];if("string"==typeof o&&o in s)return!0}return!1},s.isUnsupportedBrowser=t,s.compareVersions=n,s.check=function(e,i,s){return!t(e,i,s)},s._detect=i,s.detect=i,s},void 0!==e&&e.exports?e.exports=r():"function"==typeof define&&define.amd?define("bowser",r):o.bowser=r()}),
(function(e,o,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=l(87      );o.sessionStorageOrNull=null,o.localStorageOrNull=null;try{o.sessionStorageOrNull=window.sessionStorage}catch(i){}try{o.localStorageOrNull=window.localStorage}catch(i){}function r(e,o){o+="=";for(let l of e.split(";")){const e=/^\s*(.*)$/.exec(l);if(e&&(l=e[1]).slice(0,o.length)===o)return decodeURIComponent(l.slice(o.length))}return null}o.getLocalStorageOrNull=function(){return o.localStorageOrNull},o.getSessionStorageOrNull=function(){return o.sessionStorageOrNull},o.parseCookieForKey=r;class n{get(e){const o=r(document.cookie,e);return null===o?null:JSON.parse(o)}set(e,o,l){let r=`${e}=${encodeURI(JSON.stringify(o))}; expires=${new Date(Date.now()+2592e6).toUTCString()}; path=/;`;const[n,a]=`${t.osversion}`.split(".");"none"===(null==l?void 0:l.sameSite)&&t.safari&&t.version<13&&t.mac&&+n<11&&+a<15||(r+=`samesite=${(null==l?void 0:l.sameSite)||"lax"};`),"https:"===location.protocol&&(r+=" secure;"),document.cookie=r}}class a{get(e){if(null==o.localStorageOrNull)return null;const l=window.localStorage.getItem(e);return null===l?null:JSON.parse(l)}set(e,l){null!=o.localStorageOrNull&&window.localStorage.setItem(e,JSON.stringify(l))}}const s=new Map;function c(){return o.localStorageOrNull?new a:s}o.getLocalOrMemoryStorage=c,o.getCookieOrLocalOrMemoryStorage=function(){return navigator.cookieEnabled?new n:c()}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(86          ),o(88         );function a(){const e=new Error("Hot Reloading APIs should not be used in production. Guard code with !FIGBUILD_PROD.");setTimeout(()=>{throw e},0)}let d={hasJSReloaded:()=>(a(),!1),stashState(e,t){a()},getStashedState(e){a()},getOrCreateStashedState:(e,t)=>(a(),null)};t.default=d}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(81                  );var n=i(81                  );t.subscribe=n.subscribe,t.useSubscription=n.useSubscription;const a=i(2,1    ),l=i(82            );!function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(82            ));const o=i(84          );t.Schema=o.default;const s=i(85                   );i(89              );function u(e){const t=`${"https:"===location.protocol?"wss":"ws"}://${location.host}/api/livegraph`;return new l.LiveGraphClient({userId:e},o.default,t,WebSocket)}t.livegraphCommentsLaunchState={livelaunch:s.getFeatureFlags().livegraph_enabled&&s.getFeatureFlags().livegraph_comments},t.livegraphPrototypeLaunchState={livelaunch:s.getFeatureFlags().livegraph_enabled&&s.getFeatureFlags().livegraph_prototype},t.LivegraphProvider=function({userId:e,children:i}){return function(e){!t.livegraphClient&&s.getFeatureFlags().livegraph_enabled&&(t.livegraphClient=u(e))}(e),a.createElement(r.ContextProvider,{value:{client:t.livegraphClient}},i)},t.useSubscriptionWithLaunchState=function(e,t,{livelaunch:i},n,a){if(i)return n(r.useSubscription(e,t));return a()}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=Object.create(null);function o(e){let t=e,n=0;for(;c[t];)t=e+`_${n}`,n+=1;return c[t]=!0,t}t.generateUniqueActionType=o,t.actionCreator=function(e){const t=o(e),n=(e={})=>({type:t,payload:e});return n.matches=(e=>e.type===t),n}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ERROR=1]="ERROR"}(e.FlashStatus||(e.FlashStatus={}))}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(92               );var u=0;!function(t){t.INIT="FLASH_INIT",t.ADD="FLASH_ADD",t.REMOVE="FLASH_REMOVE",t.REMOVE_ALL="FLASH_REMOVE_ALL",t.TIMEOUT=3e3,t.TIMEOUT_SERVER_SIDE=6e3,t.init=function(){return{type:t.INIT}},t.flash=function(e,n){return{type:t.ADD,payload:{message:e,status:a.FlashStatus.DEFAULT,timeout:n,id:u++}}},t.error=function(e,n){return{type:t.ADD,payload:{message:e,status:a.FlashStatus.ERROR,timeout:n,id:u++}}},t.remove=function(e){return{type:t.REMOVE,payload:{id:e}}},t.removeAll=function(){return{type:t.REMOVE_ALL,payload:null}}}(e.flash||(e.flash={}))}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(93               );function l(e={},a){switch(a.type){case t.flash.ADD:return Object.assign(Object.assign({},e),{[a.payload.id]:a.payload});case t.flash.REMOVE:let s=Object.assign({},e);return delete s[a.payload.id],s;case t.flash.REMOVE_ALL:return{};default:return e}}a.flashes=l,a.default=l}),
(function(s,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=e(93               ),l=e(85                   );a.flashMiddleware=(s=>a=>(function(e){switch(e.type){case t.flash.INIT:const f=a(e);let r=l.default().flash;return r&&(r.error?s.dispatch(t.flash.error(r.error,t.flash.TIMEOUT_SERVER_SIDE)):r.warn?s.dispatch(t.flash.flash(r.warn,t.flash.TIMEOUT_SERVER_SIDE)):r.success&&s.dispatch(t.flash.flash(r.success,t.flash.TIMEOUT_SERVER_SIDE))),f;case t.flash.ADD:const h=s.getState();for(let a in h.flashes){let l=h.flashes[a];if(l.message===e.payload.message&&l.status===e.payload.status){s.dispatch(t.flash.remove(parseInt(a)));break}}let o=e.payload.id,i=e.payload.timeout>t.flash.TIMEOUT?e.payload.timeout:t.flash.TIMEOUT;return setTimeout(()=>{s.dispatch(t.flash.remove(o))},i),a(e);default:return a(e)}}))}),
(function(s,h,e){s.exports={flashes:"flash_view--flashes--1wuM5",flash:"flash_view--flash--1qTMX text--_whiteText--2PkdM",flashError:"flash_view--flashError--Hen0k flash_view--flash--1qTMX text--_whiteText--2PkdM",flashBig:"flash_view--flashBig--3Qp1S"}}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=a(2,1    ),r=a(92                  ),l=a(96                );class i extends t.PureComponent{render(){let e=Object.keys(this.props.flashes).map(e=>parseInt(e)).sort((e,s)=>e-s);return t.createElement("div",{className:l.flashes},Array.from(e.entries()).map(([e,s])=>{let a=this.props.flashes[s];return t.createElement("div",{key:`flash-${s}`},t.createElement("div",{className:`${a.status===r.FlashStatus.ERROR?l.flashError:l.flash} ${this.props.isApercu?l.flashBig:""}`},a.message))}))}}s.FlashView=i,i.displayName="FlashView"}),
(function(e,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=l(93                        );a.flashActions=s.flash;var r=l(94                        );a.flashReducer=r.flashes;var i=l(95                           );a.flashMiddleware=i.flashMiddleware;var f=l(97                                );a.FlashView=f.FlashView}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(45,1            ),s=i(98                  );let n=0;function c(){return n++}function o(t,e,i){t.catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(s.flashActions.error(t.message))}catch(r){e.dispatch(s.flashActions.error(i||"An error occurred while performing that action."))}})}function a(t,e,i){const s=c();return t.then(()=>{e({type:null,optimist:{type:r.COMMIT,id:s}})}).catch(()=>{e({type:null,optimist:{type:r.REVERT,id:s}})}),e(Object.assign(Object.assign({},i),{optimist:{type:r.BEGIN,id:s}}))}e.getOptimisticTransactionID=c,e.flashOnFailure=o,e.optimisticRequest=a,e.optimisticRequestWithErrorHandling=function(t){const{requestPromise:e,fallbackError:i,store:r,next:s,action:n}=t;return o(e,r,i),a(e,s,n)}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(91                  ),n=i(99                      ),c=i(45,1            );e.asyncActionCreator=function(t,e,i){const n=o.generateUniqueActionType(t),c=t=>i?i(n,t):n,s=t=>{const i=c(t);return(o,c)=>{const s=e({dispatch:o,getState:c},t,i);return o({type:n,payload:t}),s}};return s.matches=(t=>t.type===n),s.loadingKeyForPayload=c,s},e.optimisticActionCreator=function(t,e,i){const s=o.generateUniqueActionType(t),r=t=>i?i(s,t):s,p=t=>(i,o)=>{const p=n.getOptimisticTransactionID(),a=e({dispatch:i,getState:o},t,p,r(t));return i({type:s,payload:t,optimist:{type:c.BEGIN,id:p}}),a};return p.matches=(t=>t.type===s),p.loadingKeyForPayload=r,p},function(t){t.commit=(t=>({type:null,optimist:{type:c.COMMIT,id:t}})),t.revert=(t=>({type:null,optimist:{type:c.REVERT,id:t}}))}(e.optimistActions||(e.optimistActions={}))}),
(function(_,E,T){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.PREVENT_EVENT_CAPTURE="js-fullscreen-prevent-event-capture",E.NUM_SECTIONS_INFINITE=2147483647,E.BG_PANEL_COLOR_PICKER_ID="background-panel-color-picker",E.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID="prototype-background-panel-color-picker",E.TYPE_PANEL_ID="type-settings",E.FONT_PICKER_ID="font-picker",E.EXPORT_PICKER_ID="export-picker",E.SELECTION_PAINT_PICKER_ID="selection-paint-item",E.SELECTION_STYLE_PICKER_ID="selection-style-item",E.DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU="DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU",E.DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU="DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU",E.DROPDOWN_TYPE_SELECTION_CONTEXT_MENU="DROPDOWN_TYPE_SELECTION_CONTEXT_MENU",E.DROPDOWN_TYPE_CANVAS_CONTEXT_MENU="DROPDOWN_TYPE_CANVAS_CONTEXT_MENU",E.DROPDOWN_TYPE_PAGE_CONTEXT_MENU="DROPDOWN_TYPE_PAGE_CONTEXT_MENU",E.DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU="DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(87      ),r=o(101                             );t.loadScript=function(e,t){const o=null==t?void 0:t.id,n=!t||!1!==t.cors,r=!t||!1!==t.retry,c=()=>{const e=document.createElement("script");return o&&o.length>0&&(e.id=o),e.type="text/javascript",e.async=!0,n&&(e.crossOrigin="anonymous"),e},s=new Promise((t,o)=>{const n=c();n.onload=t,n.onerror=(s=>{if(!r)return o(s);document.head.removeChild(n);const a=c();a.onload=t,a.onerror=o;const i=-1===e.indexOf("?")?"?":"&";a.src=e+i+"lsRetry="+Math.random(),document.head.appendChild(a)}),n.src=e,document.head.appendChild(n)});return s.catch(t=>console.error(`Fetching ${e} failed`,t)),s},t.copyText=function(e){return new Promise((t,o)=>{e.length>104857.6&&console.warn("string too long for copyText usage watchdog timer of 1s.  formatting will take too long");let c=document.createElement("input");c.setAttribute("style","position: fixed; top: -100px"),c.classList.add(r.PREVENT_EVENT_CAPTURE),document.body.appendChild(c),c.value=e,c.focus(),c.select();let s=document.execCommand("copy");!s&&n.msedge&&(s=!0),c.remove(),s?t():o()})},t.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},t.scrollToY=function(e,t,o){var n=window.scrollY||document.documentElement.scrollTop,r=(e=e||0,t=t||2e3,o=o||"easeOutSine",0),c=Math.max(.1,Math.min(Math.abs(n-e)/t,.8)),s={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}};!function t(){var a=(r+=1/60)/c,i=s[o](a);a<1?(requestAnimationFrame(t),window.scrollTo(0,n+(e-n)*i)):window.scrollTo(0,e)}()}}),
(function(t,n,e){"use strict";
// The MIT License (MIT)
// Copyright (c) 2010-2016 Robert Kieffer and other contributors
// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
Object.defineProperty(n,"__esModule",{value:!0});const o=[];for(var r=0;r<256;++r)o[r]=(r+256).toString(16).substr(1);const i=new Uint8Array(16);n.uuidv4=function(){if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(i);else{let t=0;for(let n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),i[n]=t>>>((3&n)<<3)&255}return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(t){let n=0;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}(i)}}),
(function(e,n,o){"use strict";
/**
 * FIGMA MODIFIED FROM:

  Copyright Joyent, Inc. and other Node contributors.

  Permission is hereby granted, free of charge, to any person obtaining a
  copy of this software and associated documentation files (the
  "Software"), to deal in the Software without restriction, including
  without limitation the rights to use, copy, modify, merge, publish,
  distribute, sublicense, and/or sell copies of the Software, and to permit
  persons to whom the Software is furnished to do so, subject to the
  following conditions:

  The above copyright notice and this permission notice shall be included
  in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
  NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
  DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
  OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
  USE OR OTHER DEALINGS IN THE SOFTWARE.
*/function t(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e.toString():"";default:return""}}Object.defineProperty(n,"__esModule",{value:!0}),n.encode=function(e,n,o,r){return n=n||"&",o=o||"=",e&&"object"==typeof e?Object.keys(e).map(function(r){var c=encodeURIComponent(t(r))+o;return Array.isArray(e[r])?e[r].map(function(e){return c+encodeURIComponent(t(e))}).join(n):c+encodeURIComponent(t(e[r]))}).join(n):r?encodeURIComponent(t(r))+o+encodeURIComponent(t(e)):""},n.parse=function(e){let n={};for(let o of e.slice(1).split("&")){let e=null,t=null,r=o.indexOf("=");-1!=r?(e=o.slice(0,r),t=o.slice(r+1)):(e=o,t=""),t=t.replace(/\+/g,"%20"),n[decodeURIComponent(e)]=decodeURIComponent(t)}return n}}),
(function(t,e,n){"use strict";function r(t,e,n=!1){const r=n?-1:1;t.sort((t,n)=>e(t)<e(n)?-r:r)}function o(t,e,n=!1){const r=n?-1:1,o=t=>{let n=e(t);return n&&n.toLowerCase?n.toLowerCase():""};t.sort((t,e)=>o(t)<o(e)?-r:r)}function u(t,e,n=!1){return t.sort((t,r)=>{const o=new Date(e(t)).getTime()<new Date(e(r)).getTime()?1:-1;return n?-o:o})}Object.defineProperty(e,"__esModule",{value:!0}),e.withElementMovedToFront=function(t,e){if(!(t&&e>=0&&e<t.length))return t;const n=(t=Array.from(t))[e];return t.splice(e,1),t.unshift(n),t},e.moveItem=function(t,e,n,r){const o=t.indexOf(e,0);if(o<0)return t;let u=null==n?-1:t.indexOf(n);u<0?u=r?0:t.length:r&&o<u?u-=1:!r&&o>u&&(u+=1);let i=t.slice();return o>-1&&u!==o&&(i.splice(o,1),i.splice(u,0,e)),i},e.pushIfAbsent=function(t,e){-1===t.indexOf(e)&&t.push(e)},e.removeByValue=function(t,e){const n=t.indexOf(e);-1!==n&&t.splice(n,1)},e.valuesEqual=function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},e.joinListsWithoutDuplicates=function(t,e){const n=Object.create(null),r=[];for(const o of t)n[o]||(n[o]=!0,r.push(o));for(const o of e)n[o]||(n[o]=!0,r.push(o));return r},e.shuffle=function(t){let e,n,r=t.length;for(;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},e.sortNumericallyByProperty=function(t,e,n=!1){return r(t,t=>t[e],n)},e.sortNumericallyByFn=r,e.sortAlphabeticallyByProperty=function(t,e,n=!1){o(t,t=>t[e],n)},e.sortAlphabeticallyByFn=o,e.sortByDateFn=u,e.sortByDate=function(t,e,n=!1){return u(t,t=>t[e],n)},e.sortByCreatedAt=function(t){return u(t,t=>t.created_at)},e.filterNull=function(t){return t.filter(t=>null!=t)}}),
(function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const e=i(85                   );let o="",s=0;n.trackingSessionId=function(){return""===o&&(o=e.initialOptions().tracking_session_id||Math.random().toString(36).substring(2)),o},n.getNextSequenceId=function(){return++s}}),
(function(e,t,i){"use strict";function n(e){return Promise.resolve(e)==e}Object.defineProperty(t,"__esModule",{value:!0}),t.waitFor=async function(e){await new Promise((t,i)=>setTimeout(t,e))},t.failAfter=async function(e){await new Promise((t,i)=>setTimeout(i,e))},t.isPromise=n,t.waitForTaskUntil=async function(e,t,i){return new Promise(async o=>{const s=setTimeout(()=>{t(),o()},i);n(e)?await e:await e(),clearTimeout(s),o()})}}),
(function(e,t,s){"use strict";
/**
 * FIGMA MODIFIED FROM:
 *
 * xr (c) James Cleveland 2015
 * URL: https://github.com/radiosilence/xr
 * License: BSD
 */Object.defineProperty(t,"__esModule",{value:!0});const n=s(104              ),r=s(105        ),a=s(106                   ),o=s(107         );function i(e,t){return{status:e.status,response:e.response,data:t}}let d=null;class u{constructor(e){this.settings=e,this._response=void 0}parsedURL(){const e=document.createElement("a");return e.href=this.settings.url||"",{host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search}}hostname(){return this.parsedURL().hostname}pathname(){return this.parsedURL().pathname}pathnameMatches(e){return!!new RegExp(e).exec(this.pathname())}sendRealRequest(){this._response="SEND_REAL_REQUEST"}respond(e){this._response=Promise.resolve(e)}failResponse(){this._response=Promise.reject(null)}neverRespond(){this._response=new Promise(()=>{})}response(){return this._response}}t.MockRequest=u;class l{constructor(){this._handlers=[]}static install(){return d||(d=new l),d}addHandler(e){r.pushIfAbsent(this._handlers,e)}removeHandler(e){r.removeByValue(this._handlers,e)}handleRequest(e){for(let t of this._handlers){const s=new u(e);t(s);const n=s.response();if(n)return n}return e.url&&!e.url.endsWith("realtime_token")&&"https://api.segment.io/v1/track"!==e.url&&console.log(`[xr.MockServer]: Ignoring ${e.method} request to ${e.url}`,e),new Promise((e,t)=>{})}}async function c(e){async function t(){try{return await function(e){if(d){const t=d.handleRequest(e);if(t!==l.SEND_REAL_REQUEST)return t}return new Promise((t,s)=>{const r=Object.assign(Object.assign({},c.defaults),e),a=new XMLHttpRequest,o=e=>{e.toString=(()=>{let t=r.url;return`XHR for "${t=(t=(t=(t=(t=t.replace(/\?.*$/,"")).replace(/^(\/api\/multiplayer\/)\w+(\/create_savepoint)$/,"$1XXX$2")).replace(/^(\/component\/)\w+(\/canvas)$/,"$1XXX$2")).replace(/^(\/style\/)\w+(\/canvas)$/,"$1XXX$2")).replace(/^(https:\/\/s3-alpha\.figma\.com\/checkpoints\/)\w+\/\w+\/\w+\/\w+(\.fig)$/,"$1XXX$2")}" failed with status ${e.status}`}),s(e)};a.withCredentials=!!r.withCredentials;try{a.timeout=r.timeout,a.responseType=r.responseType}catch(u){}a.open(r.method,r.params?`${r.url.split("?")[0]}?${n.encode(r.params)}`:r.url,!0),a.addEventListener(c.Events.LOAD,()=>{try{let e=null;"arraybuffer"===a.responseType?e=new Uint8Array(a.response):a.responseText&&(e=!0===r.raw?a.responseText:r.load(a.responseText)),c.shouldTreatStatusCodeAsFailure(a.status)?o(i(a,e)):t(i(a,e))}catch(u){s(u)}}),a.addEventListener(c.Events.ABORT,()=>o(i(a))),a.addEventListener(c.Events.ERROR,()=>o(i(a))),a.addEventListener(c.Events.TIMEOUT,()=>o(i(a)));for(const e in r.headers)({}).hasOwnProperty.call(r.headers,e)&&a.setRequestHeader(e,r.headers[e]);if(r.uploadEvents)for(const e in r.uploadEvents)({}).hasOwnProperty.call(r.uploadEvents,e)&&a.upload.addEventListener(e,r.uploadEvents[e].bind(null,a),!1);if(r.downloadEvents)for(const e in r.downloadEvents)({}).hasOwnProperty.call(r.downloadEvents,e)&&a.addEventListener(e,r.downloadEvents[e].bind(null,a),!1);const d="object"!=typeof r.data||r.raw?r.data:r.dump(r.data);void 0!==d?a.send(d):a.send()})}(e)}catch(t){return t}}let s,r=0;do{if(s=await t(),!c.shouldRetryOnStatusCode(s.status)){if(c.shouldTreatStatusCodeAsFailure(s.status))throw s;return s}await o.waitFor(500*r),r++}while(r<1+e.retryCount);if(c.shouldTreatStatusCodeAsFailure(s.status))throw s;return s}t.MockServer=l,l.SEND_REAL_REQUEST="SEND_REAL_REQUEST",function(e){e.Methods={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",OPTIONS:"OPTIONS"},e.Events={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"},e.defaults={method:e.Methods.GET,data:void 0,headers:{Accept:"application/json","Content-Type":"application/json","X-Csrf-Bypass":"yes",tsid:a.trackingSessionId()},responseType:"",dump:JSON.stringify,load:JSON.parse,withCredentials:!1,timeout:0},e.get=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.GET,params:s},n))},e.put=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.PUT,data:s},n))},e.post=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.POST,data:s},n))},e.patch=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.PATCH,data:s},n))},e.del=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.DELETE,data:s},n))},e.options=function(t,s){return e(Object.assign({url:t,method:e.Methods.OPTIONS},s))},e.shouldTreatStatusCodeAsFailure=function(e){return!(e>=200&&e<300)},e.shouldRetryOnStatusCode=function(e){return!(0!==e&&(e>0&&e<200||200<=e&&e<400||400<=e&&e<500||500!==e))}}(c||(c={})),t.default=c}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(85                   );const s=new class{constructor(){this.queue=[]}actionCompleted(e,n){}handle(e){this.queue.push(e)}reset(e){}};let i=s;function u(){return i}n.setGlobalResponsiveContentHandler=function(e){if(i===s)for(let n of s.queue)e.handle(n);s.queue=[],i=e},n.getResponsiveContentHandler=u,n.sendEventToResponsiveContentHandler=function(e){var n,t;u().handle(Object.assign({userId:null===(t=null===(n=o.default())||void 0===n?void 0:n.user_data)||void 0===t?void 0:t.id},e))}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GtmAllowedEvents=(()=>[{event:"Sign Up",paramNames:["isWorkEmail"]},{event:"CTA Clicked",paramNames:["trackingContext","text"]}])}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(85                   ),n=s(102              ),a=s(88           ),r=s(103       ),o=s(108     ),l=s(87      ),c=s(109                                                           ),d=s(106                   ),u=s(110                                             );t.referrer=document.referrer;let _=document.location.href;const g=e=>e.split(/[?#]/)[0];t.updateReferrer=(()=>{g(_)!==g(document.location.href)&&(t.referrer=_,_=document.location.href)}),window.addEventListener("popstate",t.updateReferrer),t.extraProps={browser_name:l.name,browser_version:+l.version,os_name:l.osname,os_version:l.osversion,release:i.initialOptions().release_git_commit,release_tag:i.initialOptions().release_git_tag};const h="https://api.segment.io/v1",m="ajs_anonymous_id";class p{constructor(e){this._userId=e,this._writeKey=null,this._storage=a.getCookieOrLocalOrMemoryStorage(),this._userIP=i.initialOptions().user_ip||null,this._isCloudfront=!0===i.initialOptions().is_cloudfront,this._anonymousId=r.uuidv4(),this._disableTracking=null;const t=this._storage.get(m);null==t?this._storage.set(m,this._anonymousId,{sameSite:"none"}):this._anonymousId=t}user(){return{id:()=>this._userId,anonymousId:()=>this._anonymousId,reset:()=>{this._anonymousId=r.uuidv4(),this._storage.set(m,this._anonymousId),this._userId=null}}}ready(e){e()}_getPage(){return{path:window.location.pathname,referrer:t.referrer,document_referrer:document.referrer,search:window.location.search,title:document.title,url:window.location.href}}_makeRequest(e,t){if(this._disableTracking)return;const s=(new Date).toISOString();o.default.post(`${h}/${e}`,Object.assign(Object.assign({},t),{anonymousId:this._anonymousId,context:{page:this._getPage(),ip:this._userIP,userAgent:navigator.userAgent,isCloudfront:this._isCloudfront},sentAt:s,timestamp:s,userId:this._userId,writeKey:this._writeKey}),{headers:{"content-type":"text/plain"}}).then(()=>{null===this._disableTracking&&(this._disableTracking=!1)},e=>{0===(null==e?void 0:e.status)?null===this._disableTracking&&(this._disableTracking=!0,console.log("[Segment] Request failed with status 0, disabling further tracking")):console.log(`[Segment] Error: ${e}`)})}identify(e,t){this._makeRequest("identify",{type:"identify",traits:t})}page(){this._makeRequest("page",{type:"page",properties:this._getPage()})}load(e){this._writeKey=e}track(e,t){this._makeRequest("track",{type:"track",properties:t,event:e})}}class f{constructor(e,t){if(this._analytics=e,this._PREFIX="segment:",this._USER_ID_KEY=this._PREFIX+"userId",this._storage=a.sessionStorageOrNull,this.identifyUser=(e=>{if(!this._storage)return;if(!e||!e.id)return void this.logoutUser();let t={email:e.email,name:e.name,username:e.handle||e.name,handle:e.handle,utcOffset:(new Date).getTimezoneOffset(),trackTags:e.track_tags,createdAt:e.created_at},s=JSON.stringify(t),i=this._PREFIX+"traits:"+e.id;this._storage[i]!==s&&(this._analytics.identify(e.id,t),this._storage[this._USER_ID_KEY]=e.id,this._storage[i]=s)}),this.logoutUser=(()=>{if(!this._storage)return;let e=this._storage[this._USER_ID_KEY];e&&(delete this._storage[this._USER_ID_KEY],delete this._storage[this._PREFIX+"traits:"+e],this._analytics.ready(()=>{this._analytics.user().reset()}))}),t){if(!this._analytics)throw new Error('Unable to use Segment, "analytics" is undefined.');this._analytics.load(t),this.identifyUser(i.initialOptions().user_data),this._analytics.page()}else console.warn("Segment tracking is disabled.")}get userId(){if(this._analytics.user)return this._analytics.user().id()||void 0}get anonymousId(){if(this._analytics.user)return this._analytics.user().anonymousId()}track(e,s={}){null==s&&(s={}),Object.keys(s).forEach(e=>{if("[object Object]"===Object.prototype.toString.call(s[e]))throw new Error("Analytics payloads CANNOT have object values")});let i=Object.assign(Object.assign(Object.assign({},s||{}),t.extraProps),{tracking_session_id:d.trackingSessionId(),tracking_session_sequence_id:d.getNextSequenceId()});this._analytics.track(e,i)}}class y{constructor(e){this.delegateSegment=e}get anonymousId(){return this.delegateSegment.anonymousId}get userId(){return this.delegateSegment.userId}track(e,t){i.initialOptions().user_data&&c.getResponsiveContentHandler().handle({id:e,userId:i.initialOptions().user_data.id,properties:t||{}}),this.delegateSegment.track(e,t)}}class I{constructor(e){this.delegateSegment=e,this.sendEventToGtm=(e=>{var t,s;this.gtmIframe||(this.gtmIframe=document.getElementsByTagName("iframe").namedItem("gtm-iframe")),null===(s=null===(t=this.gtmIframe)||void 0===t?void 0:t.contentWindow)||void 0===s||s.postMessage(e,i.initialOptions().google_tag_manager_iframe_url)}),this.eventForGtm=((e,t)=>{const s=u.GtmAllowedEvents().find(t=>t.event===e);if(!s)return;let i={};return t&&Object.keys(t).forEach(e=>{s.paramNames.includes(e)&&(i[e]=t[e])}),Object.assign({event:e},i)})}get anonymousId(){return this.delegateSegment.anonymousId}get userId(){return this.delegateSegment.userId}track(e,t){const s=this.eventForGtm(e,t);i.initialOptions().google_tag_manager_iframe_url&&s&&this.sendEventToGtm(s),this.delegateSegment.track(e,t)}}t.GtmSegment=I,t.segmentTrackEvent=((e,s)=>{t.segment&&t.segment.track(e,s)});const k=e=>{const t=i.initialOptions().user_data,s=t?t.id:null;let n={track(e,t={}){}};return e&&(n=new f(new p(s),e)),new I(new y(n))};t.segment=k(i.initialOptions().segment_web_key);const w=k(i.initialOptions().segment_fullscreen_key);{const e=window.location.pathname.startsWith("/files"),t=i.initialOptions().created_file_count;window.wootricSettings&&e&&t&&t>=5&&n.loadScript("https://cdn.wootric.com/wootric-sdk.js",{cors:!1,retry:!1}).then(()=>{window.wootric&&window.wootric("run")}).catch(()=>{})}function v(e,s={}){for(const t in s)t.match("_")&&console.error(`WARNING! snake_case not allowed as analytics keys. You're passing "${t}" as a key in params for event "${e}". Use camelCase instead.`);t.segmentTrackEvent(e,s)}t.trackFullscreenEvent=function(e,t){w.track(e,t)},t.trackEvent=v,t.trackContextCtaClicked=function(e){v("CTA Clicked",e)},function(e){e.NOT_POPULATED="not_populated",e.POPULATED_INCOMPLETE="populated_incomplete",e.POPULATED_COMPLETE="populated_complete"}(t.InputPopulationLevel||(t.InputPopulationLevel={})),t.trackContextInputBlurred=function(e){v("Input Blurred",e)},t.trackContextView=function(e){v("Context Viewed",e)}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(111        ),r=t(88           ),i=t(86            ),l=t(87      );function c(e,n){let t=document.createElement("a");t.href=e,t.rel="noreferrer noopener",n&&(t.target=n),document.body.appendChild(t),t.click(),t.remove()}function u(e,n){let t=document.createElement("a");t.href=e;let o=t.hostname;if(o!==window.location.hostname)throw new Error("Attempting to redirect to another domain.");window.self===window.top||n?c(e,n):window.top.location.href=t.href}n.unsafeRedirect=c,n.redirect=u;let s=null;function a(){if(null==r.sessionStorageOrNull)return!1;const e=JSON.parse(r.sessionStorageOrNull.getItem("reload_times")||JSON.stringify([])),n=Date.now()-3e5;for(;e&&e[0]<n;)e.shift();let t;return e.length>15?t=!0:(e.push(Date.now()),t=!1),r.sessionStorageOrNull.setItem("reload_times",JSON.stringify(e)),t}function m(e){return{top:e?e.top:0,right:e?e.right:0,bottom:e?e.bottom:0,left:e?e.left:0,width:e?e.width:0,height:e?e.height:0}}n.setOpenUrlInPrototypeListenerForTests=function(e){s=e},n.openUrlInPrototype=function(e){var n=e.url;null!=n&&(n.startsWith("mailto:")?c(n,e.openInNewWindow?"_blank":""):(n.startsWith("http://")||n.startsWith("https://")||(n="http://"+n),s?s(n):u("/exit?url="+encodeURIComponent(n),e.openInNewWindow?"_blank":"")))},n.unsafeWindowOpen=function(e,n,t){return window.open(e,n,t)},n.isLocationReloadExcessive=a,n.locationReload=function(e,n={}){const t=Object.assign(Object.assign({},n),{reason:e});a()?o.trackEvent("Location Reload Excessive",t):(o.trackEvent("Page Reloaded",t),console.log("Reloading the page... reason:",e,n),window.self!==window.top&&window.top.location.reload(),location.reload())},n.figmaClientRect=m,n.clientRectsEqual=function(e,n){return e&&n?JSON.stringify(m(e))===JSON.stringify(m(n)):e===n},n.isVisibleTab=function(){const e=document.__figmaTabHidden;return void 0!==e?!0!==e:!0!==document.hidden},n.isInIframe=function(){return self!==top},n.capabilities={};const d=document&&document.documentElement;function f(e,t){Object.defineProperty(n.capabilities,e,{enumerable:!0,configurable:!0,get(){const o=t();return Object.defineProperty(n.capabilities,e,{enumerable:!0,value:o}),o}})}f("pointerEvents",()=>"PointerEvent"in window),f("pointerCapture",()=>d&&"setPointerCapture"in d),f("exitPointerLockFunc",()=>document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||null),f("requestPointerLockFunc",()=>d&&(d.requestPointerLock||d.mozRequestPointerLock||d.webkitRequestPointerLock||d.msRequestPointerLock||null)),f("pointerLockChangeEventName",()=>"onpointerlockchange"in document?"pointerlockchange":"onmozpointerlockchange"in document?"mozpointerlockchange":"onwebkitpointerlockchange"in document?"webkitpointerlockchange":"onmspointerlockchange"in document?"mspointerlockchange":null),f("pointerLockErrorEventName",()=>"onpointerlockerror"in document?"pointerlockerror":"onmozpointerlockerror"in document?"mozpointerlockerror":"onwebkitpointerlockerror"in document?"webkitpointerlockerror":"onmspointerlockerror"in document?"mspointerlockerror":null),f("pointerLock",()=>!!n.capabilities.requestPointerLockFunc),f("fullscreenChangeEventName",()=>"onfullscreenchange"in document?"fullscreenchange":"onmozfullscreenchange"in document?"mozfullscreenchange":"onwebkitfullscreenchange"in document?"webkitfullscreenchange":"onMSFullscreenChange"in document?"MSFullscreenChange":"onmsfullscreenchange"in document?"msfullscreenchange":null),f("fullscreenErrorEventName",()=>"onfullscreenerror"in document?"fullscreenerror":"onmozfullscreenerror"in document?"mozfullscreenerror":"onwebkitfullscreenerror"in document?"webkitfullscreenerror":"onMSFullscreenError"in document?"MSFullscreenError":"onmsfullscreenerror"in document?"msfullscreenerror":null),f("requestFullscreenFunc",()=>d&&(d.requestFullscreen||d.mozRequestFullScreen||d.webkitRequestFullscreen||d.msRequestFullscreen||null)),f("exitFullscreenFunc",()=>{const e=document.exitFullscreen||document.mozExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen||null;return e?e.bind(document):null}),f("getFullscreenElement",()=>{return document.fullscreenElement?()=>document.fullscreenElement:document.mozFullScreenElement?()=>document.mozFullScreenElement:document.webkitFullscreenElement?()=>document.webkitFullscreenElement:document.msFullscreenElement?()=>document.msFullscreenElement:()=>null}),f("fullscreen",()=>null!=n.capabilities.requestFullscreenFunc&&null!=n.capabilities.exitFullscreenFunc&&(document.fullscreenEnabled||document.webkitFullscreenEnabled)),n.debouncedHistoryPushState=i.debounce((e,n,t)=>{try{history.pushState(e,n||"",t),o.updateReferrer()}catch(r){console.warn(r)}},300,!0),n.debouncedHistoryReplaceState=i.debounce((e,n,t)=>{try{history.replaceState(e,n||"",t),o.updateReferrer()}catch(r){console.warn(r)}},300,!0),n.promiseTabVisibility=function(){return null==document.visibilityState||"visible"===document.visibilityState?Promise.resolve():new Promise(e=>{document.addEventListener("visibilitychange",function n(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",n),e())})})},n.browserVersion=function(){const e=new RegExp(`${l.name}\\/${l.version}[0-9.]*`),n=navigator.userAgent.match(e);if(n)return n[0]}}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=t(91                  ),a=t(111          ),i=t(100               ),n=t(112          );!function(e){e.init=r.actionCreator("INIT"),e.hydrate=r.actionCreator("FILE_BROWSER_HYDRATE"),e.setUserStateLoaded=r.actionCreator("USER_STATE_LOADED"),e.reloadWhenConvenient=r.actionCreator("RELOAD_WHEN_CONVENIENT"),e.handleUrlParamsForCurrentView=r.actionCreator("HANDLE_URL_PARAMS_FOR_CURRENT_VIEW"),e.setTileSortFilterConfigForView=r.actionCreator("BROWSER_SET_TILE_SORT_VIEW"),e.setViewBarViewModeOptionForView=r.actionCreator("BROWSER_SET_VIEW_BAR_VIEW_MODE_OPTIONS"),e.setViewBarSortOptionsForView=r.actionCreator("BROWSER_SET_VIEW_BAR_SORT_OPTIONS"),e.setFileBrowserLoading=r.actionCreator("FILE_BROWSER_SET_LOADING"),e.showDropdown=r.actionCreator("SHOW_DROPDOWN"),e.hideDropdown=r.actionCreator("HIDE_DROPDOWN"),e.showModal=r.actionCreator("SHOW_MODAL"),e.hideModal=r.actionCreator("HIDE_MODAL"),e.popModalStack=r.actionCreator("POP_MODAL_STACK"),e.hideSpecificModal=r.actionCreator("HIDE_SPECIFIC_MODAL"),e.openInNewTab=i.asyncActionCreator("OPEN_IN_NEW_TAB",(e,o)=>{n.redirect(o.url,"_blank")}),e.selectView=r.actionCreator("SELECT_VIEW"),e.selectViewByFolderId=function(o,t={}){return e.selectView(Object.assign({view:"folder",folderId:o},t))},e.selectViewByTeamId=function(o,t={}){return e.selectView(Object.assign({view:"team",teamId:o},t))},e.openNewFolderModal=r.actionCreator("FOLDER_OPEN_NEW_FOLDER_MODAL"),e.beginCreateNewFolder=r.actionCreator("BEGIN_CREATE_NEW_FOLDER"),e.stopCreateNewFolder=r.actionCreator("STOP_CREATE_NEW_FOLDER"),e.beginRenameNavFolder=r.actionCreator("BEGIN_RENAME_NAV_FOLDER"),e.stopRenameNavFolder=r.actionCreator("STOP_RENAME_NAV_FOLDER"),e.beginRenameNavTeam=r.actionCreator("BEGIN_RENAME_NAV_TEAM"),e.stopRenameNavTeam=r.actionCreator("STOP_RENAME_NAV_TEAM"),e.showMobileNav=r.actionCreator("SHOW_MOBILE_NAV"),e.hideMobileNav=r.actionCreator("HIDE_MOBILE_NAV"),e.setLocalFonts=r.actionCreator("SET_LOCAL_FONTS"),e.setFileSearchQuery=r.actionCreator("SET_FILE_SEARCH_QUERY"),e.setFileSearchResults=r.actionCreator("SET_FILE_SEARCH_RESULTS"),e.searchResultClicked=r.actionCreator("SEARCH_RESULT_CLICKED"),e.recentFileClicked=i.asyncActionCreator("RECENT_FILE_CLICKED",(e,{index:o})=>{a.segment.track("Recent File Clicked",{index:o})}),e.downloadFontInstaller=r.actionCreator("DOWNLOAD_FONT_INSTALLER"),e.downloadFontUninstaller=r.actionCreator("DOWNLOAD_FONT_UNINSTALLER"),e.setDeletedFiles=r.actionCreator("SET_DELETED_FILES")}(o.fileBrowser||(o.fileBrowser={}))}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const a=t(113                                     );o.showModal=function(e){return a.fileBrowser.showModal(Object.assign({type:e.type.type,data:e.data||{}},e.prevModal&&{prevModal:e.prevModal}))}}),
(function(E,e,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceType={FILE:"file",FILE_REPO:"file_repo",FOLDER:"folder",TEAM:"team"},function(E){E[E.NONE=-1]="NONE",E[E.VIEW_PROTOTYPES=30]="VIEW_PROTOTYPES",E[E.VIEW_METADATA=50]="VIEW_METADATA",E[E.VIEWER=100]="VIEWER",E[E.EDITOR=300]="EDITOR",E[E.ADMIN=900]="ADMIN",E[E.OWNER=999]="OWNER"}(e.PermissionLevel||(e.PermissionLevel={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTeamParentOrgId=function(e,t){const r=t.teams[e];if(r&&r.org_id)return r.org_id}}),
(function(E,T,e){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),function(E){E[E.NAME=0]="NAME",E[E.CREATED_AT=1]="CREATED_AT",E[E.TOUCHED_AT=2]="TOUCHED_AT",E[E.TRASHED_AT=3]="TRASHED_AT",E[E.SEARCH_RELEVANCE=4]="SEARCH_RELEVANCE",E[E.PROJECT_NAME=5]="PROJECT_NAME",E[E.ACCESSED_AT=6]="ACCESSED_AT"}(T.TileSortKey||(T.TileSortKey={})),function(E){E[E.ASC=0]="ASC",E[E.DESC=1]="DESC"}(T.TileSortDir||(T.TileSortDir={})),function(E){E[E.ANY=0]="ANY",E[E.SELF=1]="SELF",E[E.OTHER=2]="OTHER"}(T.TileFilterCreator||(T.TileFilterCreator={})),function(E){E[E.LIST=0]="LIST",E[E.GRID=1]="GRID"}(T.TileViewMode||(T.TileViewMode={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(115                     ),i=r(125                        ),o=r(116                  ),l=r(117                                ),a=r(135                     );function d(e){return!!e.team_id}function s(e){return e&&e.name||"Drafts"}function m(e,t,r){const i=r.byFolderId[e.id],o=(i?Object.keys(i).map(e=>i[e]):[]).find(e=>e.level===n.PermissionLevel.OWNER);return{folderId:e.id,folderName:s(e),teamName:e.team_id&&t[e.team_id]?t[e.team_id].name:"",ownerHandle:o&&!1===o.pending?o.user.handle:""}}function u(e){return e.settings&&e.settings.webhooks&&e.settings.webhooks[Object.keys(e.settings.webhooks)[0]]}t.isTeamFolder=d,t.getFolderTeamId=function(e){return e.team_id},t.isADraftsFolder=function(e,t){let r=e[t];return r&&""===r.path&&!d(r)},t.getUserDraftsFolderOrNull=function(e,t,r,i,o){if(null==i)return null;const l=i&&t&&o[t]&&o[t][i.id];if(l)return e[l.drafts_folder_id]||null;for(let a in e){let t=e[a],o=r.byFolderId[a],l=o?o[i.id]:null;if(!d(t)&&""===t.path&&null==t.org_id&&l&&l.level===n.PermissionLevel.OWNER)return t}return null},t.isOrphanedOrgFolder=function(e,t){let r=e[t];return!d(r)&&""!==r.path&&!!r.org_id},t.getFolderName=s,t.getFolderNameDisambiguator=function(e,t,r,n){t=t.filter(t=>t.id!==e.id);const i=m(e,r,n),o=t.map(e=>m(e,r,n)).filter(e=>e.folderName===i.folderName);if(0===o.length)return;const l=o.filter(e=>e.teamName===i.teamName);if(i.teamName&&0===l.length)return i.teamName;const a=l.filter(e=>e.ownerHandle===i.ownerHandle);return i.ownerHandle&&0===a.length?i.ownerHandle:void 0},t.getWebhookUrl=function(e){return`/slack/folder_webhook/${e.id}`},t.getSlackChannelName=function(e){let t=u(e);return t&&t.incoming_webhook&&t.incoming_webhook.channel},t.getSlackTeamName=function(e){let t=u(e);return t&&t.team_name},t.getLastUpdatedTime=function(e,t,r){return t[e.id].filter(e=>e in r).map(e=>new Date(r[e].touched_at)).reduce((e,t)=>e>t?e:t,new Date(e.updated_at))},t.canAccessFolder=function(e,t){return null!=t&&t in e},t.isFolderEmpty=function(e,t){return t.fileKeysByFolderId[e]&&0===t.fileKeysByFolderId[e].length},t.getFolderParentOrgId=function(e,t){const r=t.folders[e];return r&&r.org_id?r.org_id:r&&r.team_id?o.getTeamParentOrgId(r.team_id,t):void 0},t.folderProps=function(e,t,r,n,o,l,d,s){const m=t[e],u=n[e]||[],f=o[e]||{},c=!!m.team_id&&i.canAdminTeam(m.team_id,s)&&!i.isFolderOwned(e,s),g=(d[e]||[]).map(e=>{var t;return null===(t=l[e])||void 0===t?void 0:t.default_file_key}).filter(e=>!!e);return Object.assign(Object.assign({},m),{files:[...u,...g].map(e=>r[e]).filter(Boolean).sort((e,t)=>new Date(t.touched_at).getTime()-new Date(e.touched_at).getTime()),pinnedFiles:Object.keys(f).map(e=>Object.assign(Object.assign({},r[e]),{pinned_by_user_name:f[e]})),canEdit:i.canEditFolder(m.id,s),canClaim:c,canView:i.canViewFolder(m.id,s),isEditingLocked:a.isFolderEditingLockedForUser(m,s),team:m.team_id&&s.teams[m.team_id]||null})};const f={filters:{creator:l.TileFilterCreator.ANY},sort:{key:l.TileSortKey.TOUCHED_AT,dir:l.TileSortDir.DESC}};t.folderSortFilterOptions=function(e,t){return{srcTileSortFilterConfig:{filters:{creator:l.TileFilterCreator.ANY},sort:{key:l.TileSortKey.TOUCHED_AT,dir:l.TileSortDir.DESC}},tileSortFilterConfig:t.folders.byId[e]||f,sortKeys:[l.TileSortKey.NAME,l.TileSortKey.CREATED_AT,l.TileSortKey.TOUCHED_AT]}}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.LinkAccess={EDIT:"edit",VIEW:"view",ORG_EDIT:"org_edit",ORG_VIEW:"org_view",INHERIT:"inherit"},i.ProtoLinkAccess={VIEW:"view",ORG_VIEW:"org_view",INHERIT:"inherit",NULL:null}}),
(function(e,_,t){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.Restrictions={LOCKED:"locked",EDITORS_LIMITED:"editors_limited",PROJECTS_LIMITED:"projects_limited",EDITORS_AND_PROJECTS_LIMITED:"editors_limited,projects_limited"},_.Subscription={OK:"ok",PAST_DUE:"past_due",CHARGE_FAILED:"grace_period",NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED:"no_monthly_sub_editor_count_exceeded"},_.OrgAccess={PUBLIC:"public",PRIVATE:"private",SECRET:"secret"}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OrgUserAccountType={FULL:"full",RESTRICTED:"restricted",STARTER:"starter"},r.OrgUserAccountTypeDisplayText={[r.OrgUserAccountType.FULL]:"Editor",[r.OrgUserAccountType.STARTER]:"Viewer",[r.OrgUserAccountType.RESTRICTED]:"Viewer"},r.OrgUserAccountTypeExtendedText={[r.OrgUserAccountType.FULL]:"Editor",[r.OrgUserAccountType.STARTER]:"Viewer",[r.OrgUserAccountType.RESTRICTED]:"Viewer - Restricted"},r.OrgPermissionType={GUEST:"guest",MEMBER:"member",ADMIN:"admin"},r.OrgPermissionTypeDisplayText={guest:"Guest",member:"Member",admin:"Admin"},function(e){e[e.GUEST=0]="GUEST",e[e.MEMBER=2]="MEMBER",e[e.ADMIN=3]="ADMIN"}(r.OrgUserPermissionLevel||(r.OrgUserPermissionLevel={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoizeLast=function(e){let t=null;return function(...r){if(null!=t&&t.args.length===r.length){let e=!0;for(let l=0,n=r.length;l<n;l++)if(r[l]!=t.args[l]){e=!1;break}if(e)return t.result}return(t={args:r,result:e(...r)}).result}}}),
(function(e,t,r){"use strict";function n(e,t){const r=e.charCodeAt(t);if(Number.isNaN(r))return"";if(r<55296||r>57343)return e.charAt(t);if(55296<=r&&r<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";const r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}throw"Not the start of a single- or multibyte-character"}Object.defineProperty(t,"__esModule",{value:!0}),t.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.toCamelCase=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},t.camelCasedToDashed=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.encodeUTF8=function(e){const t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(var n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},t.decodeUTF8=function(e){let t="";const r=e.length;for(var n=0;n<r;n+=1024)t+=String.fromCharCode.apply(String,e.subarray(n,n+1024));return"\0"===t.slice(-1)&&(t=t.slice(0,-1)),decodeURIComponent(escape(t))},t.truncateText=function(e,t){return e.length>t?e.slice(0,t-3)+"...":e},t.stringToArrayOfRealChars=function(e){const t=[];for(let r=0;r<e.length;r++){const o=n(e,r);r+=o.length-1,t.push(o)}return t};const o=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function a(e,t,r){return r=r||`${t}s`,1===e?t:r}function u(e){return e<1e3?e.toString():e<1e5?`${Math.floor(e/100)/10}k`:e<1e6?`${Math.floor(e/1e3)}k`:e<1e8?`${Math.floor(e/1e5)/10}m`:e<1e9?`${Math.floor(e/1e6)}m`:e<1e11?`${Math.floor(e/1e8)/10}b`:`${Math.floor(e/1e9)}b`}t.compareStringsNaturally=function(e,t){return e=e||"",t=t||"",o.compare(e,t)},t.joinWordsNaturally=function(e){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length-1).join(", ")} and ${e[e.length-1]}`},t.default=function(e){var t=[];return(e=e.replace(/_|-/g," ")).split(" ").forEach(function(e){t.push(e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}),t.join(" ")},t.getPluralOrSingular=a,t.pluralize=function(e=0,t,r){return`${e} ${a(e,t,r)}`},t.prettyRound=u,t.pluralizeAndRoundCount=function(e=0,t,r){return`${u(e)} ${a(e,t,r)}`},t.URISlug=function(e){return encodeURIComponent(e.replace(/ /g,"-"))},t.parseURIString=function(e){return decodeURIComponent(e)},t.isVowel=(e=>/^[aeiou]$/i.test(e)),t.isUrl=(e=>/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)/.test(e))}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const l=i(123         );n.isBranchFile=(e=>!(!e.file_repo_id||!e.source_file_key)),n.getFileNoun=(e=>n.isBranchFile(e)?"branch":"file"),n.isMainBranch=((e,n)=>e.key===n.default_file_key),n.getBranchName=((e,i)=>n.isMainBranch(e,i)?i.name:e.name),n.getRepoName=((e,n)=>{var i;return(null!==(i=null==n?void 0:n.name)&&void 0!==i?i:null==e?void 0:e.name)||"Untitled"}),n.getRepo=((e,n)=>{const i=e.file_repo_id;return i&&n[i]||null}),n.getBranches=((e,n,i)=>{return(n[e.id]||[]).map(e=>i[e])}),n.getBranchPath=((e,i,t)=>{let a=`/${t}`;a+=n.isBranchFile(e)&&(null==i?void 0:i.default_file_key)?`/${i.default_file_key}/branch/${e.key}`:`/${e.key}`;const r=l.URISlug(n.getRepoName(e,i));return r&&(a+=`/${r}`),a})}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(118                    ),n=s(116                  ),o=s(119                    ),t=s(135                     ),l=s(120                     ),c=s(121                        ),u=s(115                     ),d=s(122          ),a=s(124                      );function m(e,r,s,i,n,o,t,l,c,u){return{currentOrgId:e,user:r,fileByKey:s,repos:i,folders:n,teams:o,roles:t,orgById:l,orgDraftsOwners:c,orgUsersByOrgId:u}}const f=d.memoizeLast(m);function y(e,r){switch(e.resource_type){case u.ResourceType.FILE:return r.fileByKey[e.resource_id_or_key];case u.ResourceType.FOLDER:return r.folders[e.resource_id_or_key];case u.ResourceType.TEAM:return r.teams[e.resource_id_or_key]}}function _(e,r){for(let s of e)if(s.level>=r)return!0;return!1}function E(e,r){const s=r.user&&r.user.id;let i=r.roles;return e in i.byTeamId&&s&&s in i.byTeamId[e]?[i.byTeamId[e][s]]:[]}function p(e,r){const s=r.user&&r.user.id;let i=[],n=r.roles;e in n.byFolderId&&s&&s in n.byFolderId[e]&&i.push(n.byFolderId[e][s]);let o=r.folders[e];return o&&o.team_id&&!o.is_invite_only&&(i=i.concat(E(o.team_id,r))),i}function I(e,r){const s=r.user&&r.user.id,i=r.roles;let n=[];e in i.byRepoId&&s&&s in i.byRepoId[e]&&n.push(i.byRepoId[e][s]);const o=r.repos[e];return o&&(n=[...n,...p(o.folder_id,r)]),n}function R(e,r,s=!1){const i=r.user&&r.user.id;let n=[],o=r.roles;e in o.byFileKey&&i&&i in o.byFileKey[e]&&n.push(o.byFileKey[e][i]);let t=r.fileByKey[e];return t&&t.folder_id?n=n.concat(p(t.folder_id,r)):t&&t.file_repo_id&&s&&(n=[...n,...I(t.file_repo_id,r)]),n}function T(e,r,s){const i=s.teams[e];if(!i)return!1;const o=_(E(i.id,s),r),t=n.getTeamParentOrgId(i.id,s),l=t&&s.user&&s.orgUsersByOrgId.orgUsers[t]&&s.orgUsersByOrgId.orgUsers[t][s.user.id];return!(l&&N(l)&&r>u.PermissionLevel.VIEWER)&&(t?o&&B(t,s):o)}function g(e,r,s){let n;const o=s.user&&s.user.id,t=s.folders[e];if(!o||!t)return!1;const l=i.getFolderParentOrgId(t.id,s);if(l&&!B(l,s))return!1;const c=l&&s.orgUsersByOrgId.orgUsers[l]&&s.orgUsersByOrgId.orgUsers[l][o];if(c&&N(c)&&c.drafts_folder_id!==t.id&&r>u.PermissionLevel.VIEWER)return!1;const d=p(e,s);return d.forEach(e=>{e.resource_type===u.ResourceType.FOLDER&&(n=e)}),t.team_id?t.is_invite_only?!!n&&n.level>=r:t.is_view_only&&r>=u.PermissionLevel.EDITOR?!!n&&n.level>=r:_(d,r):!!n&&n.level>=r}function v(e,r,s){const n=s.user&&s.user.id,o=s.repos[e];if(!n||!o)return!1;const t=i.getFolderParentOrgId(o.folder_id,s);if(t&&!B(t,s))return!1;const l=t&&s.orgUsersByOrgId.orgUsers[t]&&s.orgUsersByOrgId.orgUsers[t][n];return!(l&&N(l)&&r>u.PermissionLevel.VIEWER)&&_(I(o.id,s),r)}function O(e,r,s,i,n){var t;const l=s.user&&s.user.id,c=s.fileByKey[e];if(!c)return!1;if(V(c,s,r))return!1;if(c.deleted_at)return!1;if(c.trashed_at&&r<=u.PermissionLevel.VIEW_PROTOTYPES)return!1;if(!i&&c.proto_link_access===o.LinkAccess.VIEW&&r<=u.PermissionLevel.VIEW_PROTOTYPES)return!0;if(!i&&(c.link_access===o.LinkAccess.EDIT||c.link_access===o.LinkAccess.VIEW)&&r<=u.PermissionLevel.VIEWER)return!0;if(!l)return!1;if(!i&&c.link_access===o.LinkAccess.EDIT&&r<=u.PermissionLevel.EDITOR)return!0;if(s.currentOrgId&&!B(s.currentOrgId,s))return!1;if(!i&&s.currentOrgId&&(c.link_access===o.LinkAccess.ORG_EDIT&&r<=u.PermissionLevel.EDITOR||c.link_access===o.LinkAccess.ORG_VIEW&&r<=u.PermissionLevel.VIEWER||c.proto_link_access===o.LinkAccess.ORG_VIEW&&r<=u.PermissionLevel.VIEW_PROTOTYPES)&&M(s.currentOrgId,s))return!0;let d=!1,a=!1;if(R(e,s,n).forEach(e=>{switch(e.resource_type){case u.ResourceType.FILE:case u.ResourceType.FILE_REPO:case u.ResourceType.FOLDER:e.level>=r&&(d=!0);break;case u.ResourceType.TEAM:e.level>=r&&(a=!0)}}),d)return!0;if(a){const e=n?c.file_repo_id&&(null===(t=s.repos[c.file_repo_id])||void 0===t?void 0:t.folder_id):c.folder_id;return!e||g(e,r,s)}return!1}function P(e,r,s,i){return O(e,u.PermissionLevel.VIEWER,r,s,i)}function L(e,r,s,i){if(!e)return!1;const n=r.fileByKey[e];return!!n&&(!(!s&&t.isFileEditingLockedForUser(n,r))&&O(e,u.PermissionLevel.EDITOR,r,void 0,i))}function h(e,r){return v(e,u.PermissionLevel.VIEWER,r)}function b(e,r){return v(e,u.PermissionLevel.EDITOR,r)}function F(e,r){return g(e,u.PermissionLevel.VIEWER,r)}function w(e,r){return g(e,u.PermissionLevel.EDITOR,r)}function k(e,r){return T(e,u.PermissionLevel.VIEWER,r)}function W(e,r){return T(e,u.PermissionLevel.EDITOR,r)}function A(e,r){return T(e,u.PermissionLevel.ADMIN,r)}function V(e,r,s){const i=r.currentOrgId,n=i&&r.user&&r.orgUsersByOrgId.orgUsers[i]&&r.orgUsersByOrgId.orgUsers[i][r.user.id];return!!n&&(n.drafts_folder_id!==e.folder_id&&(!!(e.folder_id&&N(r.orgDraftsOwners[e.folder_id])&&(s>=u.PermissionLevel.VIEWER||s==u.PermissionLevel.VIEW_PROTOTYPES))||!!(N(n)&&s>u.PermissionLevel.VIEWER)))}function U(e,r,s,i){switch(e){case u.ResourceType.FILE:return L(r,s,!1,i);case u.ResourceType.FILE_REPO:return b(r,s);case u.ResourceType.FOLDER:return w(r,s);case u.ResourceType.TEAM:return W(r,s)}}function D(e,r,s){return e===u.ResourceType.TEAM&&A(r,s)}function B(e,r){return S(e,c.OrgUserPermissionLevel.GUEST,r)}function M(e,r){return S(e,c.OrgUserPermissionLevel.MEMBER,r)}function S(e,r,s){if(!e)return!1;const i=s.user&&s.user.id,n=s.orgById[e],o=i&&s.orgUsersByOrgId.orgUsers[e]&&s.orgUsersByOrgId.orgUsers[e][i];return!!(n&&i&&o)&&function(e){switch(e){case c.OrgPermissionType.GUEST:return c.OrgUserPermissionLevel.GUEST;case c.OrgPermissionType.MEMBER:return c.OrgUserPermissionLevel.MEMBER;case c.OrgPermissionType.ADMIN:return c.OrgUserPermissionLevel.ADMIN}}(o.permission)>=r}function N(e){return e&&e.account_type===c.OrgUserAccountType.RESTRICTED}r.getPermissionsState=function(e){return m(e.currentOrgId,e.user,e.fileByKey,e.repos,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId)},r.getPermissionsStateMemoized=function(e){return f(e.currentOrgId,e.user,e.fileByKey,e.repos,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId)},r.getResource=y,r.getResourceTeamId=function(e,r){switch(e.resource_type){case u.ResourceType.FILE:const s=r.fileByKey[e.resource_id_or_key];return s&&s.team_id;case u.ResourceType.FILE_REPO:const i=r.repos[e.resource_id_or_key],n=r.folders[null==i?void 0:i.folder_id];return n&&n.team_id;case u.ResourceType.FOLDER:const o=r.folders[e.resource_id_or_key];return o&&o.team_id;case u.ResourceType.TEAM:return e.resource_id_or_key}},r.getResourceName=function(e,r){let s=y(e,r);if(s)return s.name},r.isOwnerOfResource=function(e,r,s){let i=function(e,r){switch(r){case u.ResourceType.FILE:return e.byFileKey;case u.ResourceType.FILE_REPO:return e.byRepoId;case u.ResourceType.FOLDER:return e.byFolderId;case u.ResourceType.TEAM:return e.byTeamId}}(s.roles,r.resource_type)[r.resource_id_or_key];return!!(i&&e in i)&&i[e].level===u.PermissionLevel.OWNER},r.hasMinRole=_,r.getRolesForUserAndFolder=p,r.getRolesForUserAndRepo=I,r.getRolesForUserAndFile=R,r.getRolesForResource=function(e,r,s,i=!1){switch(e){case u.ResourceType.FILE:return R(r,s,i);case u.ResourceType.FILE_REPO:return I(r,s);case u.ResourceType.FOLDER:return p(r,s);case u.ResourceType.TEAM:return E(r,s)}},r.hasImplicitOrExplicitRoleForFile=function(e,r,s){return O(e,r,s,!0)},r.canViewFileMetadata=function(e,r,s){return O(e,u.PermissionLevel.VIEW_METADATA,r,s)},r.canViewFile=P,r.canEditFile=L,r.canViewPrototypes=function(e,r,s,i){return O(e,u.PermissionLevel.VIEW_PROTOTYPES,r,s,i)},r.isFileTemplate=function(e,r){return!!e&&!!r.fileByKey[e]&&r.fileByKey[e].is_template},r.isCopyExportRestricted=function(e,r,s){if(!e)return!1;const i=r.fileByKey[e];return!!i&&!L(e,r,s)&&!!i.viewer_export_restricted},r.canManageFile=function(e,r,s){const i=r.user&&r.user.id;let n=!1,o=!1;const l=r.fileByKey[e];if(!i||!l)return!1;if(V(l,r,u.PermissionLevel.EDITOR))return!1;if(r.currentOrgId&&!B(r.currentOrgId,r))return!1;if(null===l.folder_id)return!0;if(!s&&t.isFileEditingLockedForUser(l,r))return!1;const c=r.roles.byFileKey[e];c&&i&&i in c&&(n=c[i].level>=u.PermissionLevel.OWNER);const d=r.roles.byFolderId[l.folder_id];return d&&i&&i in d&&(o=d[i].level>=u.PermissionLevel.EDITOR),!!o||(l.team_id?!!W(l.team_id,r)&&w(l.folder_id,r):!(l.team_id||!n))},r.canViewRepo=h,r.canEditRepo=b,r.canOwnRepo=function(e,r){return v(e,u.PermissionLevel.OWNER,r)},r.canViewFolder=F,r.canEditFolder=w,r.canOwnFolder=function(e,r){return g(e,u.PermissionLevel.OWNER,r)},r.canViewTeam=k,r.canEditTeam=W,r.canAdminTeam=A,r.canOwnTeam=function(e,r){return T(e,u.PermissionLevel.OWNER,r)},r.canEditResource=U,r.canViewResource=function(e,r,s,i){switch(e){case u.ResourceType.FILE:return P(r,s,!1,i);case u.ResourceType.FILE_REPO:return h(r,s);case u.ResourceType.FOLDER:return F(r,s);case u.ResourceType.TEAM:return k(r,s)}},r.canEditRole=function(e,r){return e.level!==u.PermissionLevel.OWNER&&(e.level===u.PermissionLevel.ADMIN?D(e.resource_type,e.resource_id_or_key,r):U(e.resource_type,e.resource_id_or_key,r))},r.canMakeAdmin=D,r.canGuestOrg=B,r.canMemberOrg=M,r.canAdminOrg=function(e,r){return S(e,c.OrgUserPermissionLevel.ADMIN,r)},r.orgPermissionName=function(e){switch(e){case c.OrgPermissionType.GUEST:return"Guest";case c.OrgPermissionType.MEMBER:return"Member";case c.OrgPermissionType.ADMIN:return"Admin"}},r.getOrgAccountTypeString=function(e){return c.OrgUserAccountTypeExtendedText[e]},r.isOrgUserRestricted=N,r.orgAccessStrings={[l.OrgAccess.PUBLIC]:"Open",[l.OrgAccess.PRIVATE]:"Closed",[l.OrgAccess.SECRET]:"Secret"},r.levelName=function(e){switch(e){case u.PermissionLevel.OWNER:return"owner";case u.PermissionLevel.ADMIN:return"admin";case u.PermissionLevel.EDITOR:return"can edit";case u.PermissionLevel.VIEWER:return"can view";case u.PermissionLevel.VIEW_PROTOTYPES:return"can view prototypes only";default:return"none"}},r.levelRoleName=function(e){switch(e){case u.PermissionLevel.OWNER:return"owner";case u.PermissionLevel.ADMIN:return"admin";case u.PermissionLevel.EDITOR:return"editor";case u.PermissionLevel.VIEWER:return"viewer";case u.PermissionLevel.VIEW_PROTOTYPES:return"prototype viewer";default:return""}},r.isFolderShared=function(e,r){let s=r.folders[e];return s&&s.team_id||Object.keys(r.roles.byFolderId[e]||{}).length>1},r.isFolderOwned=function(e,r){const s=r.roles.byFolderId[e];return!!s&&Object.values(s).filter(e=>e.level>=u.PermissionLevel.OWNER).length>0},r.getTeamAdmins=function(e,r){const s=r.roles.byTeamId[e];if(!s)return[];const i=[];for(let n in s){const e=s[n];!1===e.pending&&e.level>=u.PermissionLevel.ADMIN&&i.push(e.user)}return i},r.getReadOnlyOverrideMessage=function(e,r,s=!1){if(e.level!==u.PermissionLevel.VIEWER&&e.level!==u.PermissionLevel.VIEW_PROTOTYPES)return null;if(e.resource_type===u.ResourceType.FILE){const i=r.fileByKey[e.resource_id_or_key];if(!i)return null;const n=i.file_repo_id,t=n&&r.repos[n]||null,l=t?t.folder_id:i.folder_id,d=l&&r.folders[l],m=s?a.getFileNoun(i):"file";switch(e.level){case u.PermissionLevel.VIEWER:{if(i.link_access===o.LinkAccess.EDIT)return`This person can still edit, because the ${m} is set to allow editing by anybody with the link.`;if(i.link_access===o.LinkAccess.ORG_EDIT&&e.org_user&&e.org_user.permission!==c.OrgPermissionType.GUEST)return`This person can still edit, because the ${m} is set to allow editing by org members with the link.`;const t=e.user_id&&i.team_id&&r.roles.byTeamId[i.team_id]&&r.roles.byTeamId[i.team_id][e.user_id],a=d&&!d.is_invite_only&&!d.is_view_only;if(t&&t.level>u.PermissionLevel.VIEWER&&(!d||a))return"This person can still edit, because they have edit permissions on the team the file is in.";const f=e.user_id&&l&&r.roles.byFolderId[l]&&r.roles.byFolderId[l][e.user_id];if(f&&f.level>u.PermissionLevel.VIEWER)return"This person can still edit, because they have edit permissions on the project the file is in.";const y=s&&e.user_id&&n&&r.roles.byRepoId[n]&&r.roles.byRepoId[n][e.user_id];if(y&&y.level>u.PermissionLevel.VIEWER)return"This person can still edit, because they have edit permissions on the main file.";break}case u.PermissionLevel.VIEW_PROTOTYPES:{if(i.link_access===o.LinkAccess.EDIT)return`This person can still see and edit the ${m}, because the ${m} is set to allow editing by anybody with the link.`;if(i.link_access===o.LinkAccess.ORG_EDIT&&e.org_user&&e.org_user.permission!==c.OrgPermissionType.GUEST)return`This person can still see and edit the ${m}, because the ${m} is set to allow editing by org members with the link.`;const t=e.user_id&&i.team_id&&r.roles.byTeamId[i.team_id]&&r.roles.byTeamId[i.team_id][e.user_id],l=d&&!d.is_invite_only&&!d.is_view_only;if(t&&t.level>u.PermissionLevel.VIEWER&&(!d||l))return`This person can still see and edit the ${m}, because they have edit permissions on the team the file is in.`;const a=e.user_id&&i.folder_id&&r.roles.byFolderId[i.folder_id]&&r.roles.byFolderId[i.folder_id][e.user_id];if(a&&a.level>u.PermissionLevel.VIEWER)return`This person can still see and edit the ${m}, because they have edit permissions on the project the file is in.`;const f=s&&e.user_id&&n&&r.roles.byRepoId[n]&&r.roles.byRepoId[n][e.user_id];if(f&&f.level>u.PermissionLevel.VIEWER)return`This person can still see and edit the ${m}, because they have edit permissions on the main file.`;if(i.link_access===o.LinkAccess.VIEW)return`This person can still see the ${m}, because the ${m} is set to allow viewing by anybody with the link.`;if(i.link_access===o.LinkAccess.ORG_VIEW&&e.org_user&&e.org_user.permission!==c.OrgPermissionType.GUEST)return`This person can still see the ${m}, because the ${m} is set to allow editing by org members with the link.`;if(t&&t.level>=u.PermissionLevel.VIEWER&&(!d||l))return`This person can still see the ${m}, because they have permissions on the team the file is in.`;if(a&&a.level>=u.PermissionLevel.VIEWER)return`This person can still see the ${m}, because they have permissions on the project the file is in.`;if(f&&f.level>=u.PermissionLevel.VIEWER)return`This person can still see the ${m}, because they have edit permissions on the main file.`;break}}}else if(e.resource_type===u.ResourceType.FOLDER){const s=r.folders[e.resource_id_or_key];if(!s)return null;const i=e.user_id&&s.team_id&&r.roles.byTeamId[s.team_id]&&r.roles.byTeamId[s.team_id][e.user_id],n=!s.is_invite_only&&!s.is_view_only;if(i&&i.level>u.PermissionLevel.VIEWER&&n)return"This person can still edit, because they have edit permissions on the team the project is in."}return null},r.mapReduxStateToTeamPermissionsProps=function(e,r){const{user:s,teams:i,roles:n}=e,o={user:s,team:null,role:null,teamPermissionLevel:u.PermissionLevel.NONE};return s&&r&&r.teamId?(o.team=r.teamId&&i[r.teamId]||null,o.team?(o.role=n.byTeamId[o.team.id]&&n.byTeamId[o.team.id][s.id]||null,o.role?(o.teamPermissionLevel=o.role.level,o):o):(console.error("Unable to connect Redux PermissionsState to component class. Redux state not have Team",r.teamId,e,o),o)):o}}),
(function(e,i,n){"use strict";var t;Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.ANY="any",e.GOOGLE="google",e.SAML="saml"}(i.SignInMethod||(i.SignInMethod={})),i.OrgStanding={AUTO:"AUTO",GOOD:"GOOD",DELINQUENT:"DELINQUENT",SUSPENDED:"SUSPENDED"},function(e){e.DISABLED="disabled",e.QUARTERLY="quarterly",e.CHARGE_IMMEDIATELY="quarterly_auto_charge"}(t=i.OrgBillingType||(i.OrgBillingType={})),i.OrgBillingTypeName={[t.DISABLED]:"Invoiced - Paused",[t.QUARTERLY]:"Invoiced",[t.CHARGE_IMMEDIATELY]:"Charge Immediately"},function(e){e.Initial="Initial",e.TeamSelect="TeamSelect",e.Details="Details",e.Payment="Payment",e.Review="Review",e.Confirmation="Confirmation",e.Error="Error"}(i.SelfServeSteps||(i.SelfServeSteps={}))}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStudent=(e=>!!e.student_validated_at)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ExperimentToTreatments=class{constructor(){this.exp_welcome_sequence_02=["control","variant"],this.exp_cart=["control","variant"],this.exp_pro_trials_v2=["control","variant"],this.exp_comments_default_viewers_v2=["control_1","control_2","variant"],this.exp_remote_work_templates_v1=["control","variant"],this.exp_org_up_to_20_aa_v1=["control1","control2"]}}}),
(function(r,i,n){"use strict";function o(){return/FigmaMirror-Android/.test(navigator.userAgent)}function t(){return!!window.FigmaMobile}Object.defineProperty(i,"__esModule",{value:!0}),i.windows="Win32"===navigator.platform||"Win64"===navigator.platform,i.mac="MacIntel"===navigator.platform,i.isMobileBrowser=/Mobi/.test(navigator.userAgent),i.isMobileBrowserGetter=function(){return i.isMobileBrowser},i.isAndroidMirrorApp=o,i.isIosMirrorApp=t,i.getAndroidAppVersion=function(){if(o()){const r=navigator.userAgent.match(/FigmaMirror-Android\/(\d+)/);if(r)return parseInt(r[1])}return-1},i.getIosAppVersion=function(){return t()?window.FigmaMobile.appVersion||1:-1}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalReduxStore=function(e){t.globalReduxStore=e;{const t=Date.now,o=JSON.parse,s=JSON.stringify;window.store={getState(){console.warn("This API is intended only for debugging. Please wait 5 seconds.");const n=t();for(;t()-n<5e3;);return o(s(e.getState()))},dispatch(){console.error("Action dispatch is disabled in release builds")}}}}}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,r,h=[],l=Math.min;if(!t||!e)return(e||t).length;for(n=0;n<=e.length;h[n]=[n++]);for(r=0;r<=t.length;h[0][r]=r++);for(n=1;n<=e.length;n++)for(r=1;r<=t.length;r++)h[n][r]=e.charAt(n-1)==t.charAt(r-1)?h[n-1][r-1]:h[n][r]=l(h[n-1][r-1]+1,l(h[n][r-1]+1,h[n-1][r]+1));return h[e.length][t.length]}}),
(function(n,o,a){n.exports='{\n  "domains": [\n    "gmail.com",\n    "googlemail.com",\n    "hotmail.com",\n    "outlook.com",\n    "msn.com",\n    "live.com",\n    "windowslive.com",\n    "hotmail.be",\n    "hotmail.ca",\n    "hotmail.ch",\n    "hotmail.cl",\n    "hotmail.co",\n    "hotmail.co.il",\n    "hotmail.co.jp",\n    "hotmail.co.kr",\n    "hotmail.co.nz",\n    "hotmail.co.th",\n    "hotmail.co.uk",\n    "hotmail.co.za",\n    "hotmail.com",\n    "hotmail.com.ar",\n    "hotmail.com.au",\n    "hotmail.com.br",\n    "hotmail.com.hk",\n    "hotmail.com.in",\n    "hotmail.com.tw",\n    "hotmail.cz",\n    "hotmail.de",\n    "hotmail.dk",\n    "hotmail.dr",\n    "hotmail.es",\n    "hotmail.fi",\n    "hotmail.fr",\n    "hotmail.gr",\n    "hotmail.hu",\n    "hotmail.it",\n    "hotmail.lv",\n    "hotmail.my",\n    "hotmail.nl",\n    "hotmail.no",\n    "hotmail.ph",\n    "hotmail.rs",\n    "hotmail.se",\n    "hotmail.sg",\n    "hotmail.sk",\n    "live.at",\n    "live.be",\n    "live.ca",\n    "live.cl",\n    "live.cn",\n    "live.co.in",\n    "live.co.jp",\n    "live.co.kr",\n    "live.co.uk",\n    "live.co.za",\n    "live.com",\n    "live.com.ar",\n    "live.com.au",\n    "live.com.mx",\n    "live.com.my",\n    "live.com.pe",\n    "live.com.ph",\n    "live.com.pk",\n    "live.com.pt",\n    "live.com.sg",\n    "live.com.ve",\n    "live.de",\n    "live.dk",\n    "live.fi",\n    "live.fr",\n    "live.ie",\n    "live.in",\n    "live.it",\n    "live.jp",\n    "live.nl",\n    "live.no",\n    "live.ru",\n    "live.se",\n    "livemail.com.br",\n    "livemail.com.tw",\n    "yahoo.com",\n    "yahoo.com.ar",\n    "yahoo.com.au",\n    "yahoo.at",\n    "yahoo.nl",\n    "yahoo.be",\n    "yahoo.fr",\n    "yahoo.com.br",\n    "yahoo.ca",\n    "yahoo.en",\n    "yahoo.com.cn",\n    "yahoo.cn",\n    "yahoo.cz",\n    "yahoo.dk",\n    "yahoo.fi",\n    "yahoo.de",\n    "yahoo.gr",\n    "yahoo.com.hk",\n    "yahoo.hu",\n    "yahoo.co.in",\n    "yahoo.in",\n    "yahoo.co.id",\n    "yahoo.ie",\n    "yahoo.co.il",\n    "yahoo.it",\n    "yahoo.co.kr",\n    "yahoo.com.my",\n    "yahoo.com.mx",\n    "yahoo.ae",\n    "yahoo.co.nz",\n    "yahoo.no",\n    "yahoo.com.ph",\n    "yahoo.pl",\n    "yahoo.pt",\n    "yahoo.ro",\n    "yahoo.ru",\n    "yahoo.com.sg",\n    "yahoo.co.za",\n    "yahoo.es",\n    "yahoo.se",\n    "yahoo.ch",\n    "yahoo.com.tw",\n    "yahoo.co.th",\n    "yahoo.com.tr",\n    "yahoo.co.uk",\n    "yahoo.com.vn",\n    "att.yahoo.com",\n    "ameritech.net",\n    "att.net",\n    "bellsouth.net",\n    "btinternet.com",\n    "btopenworld.com",\n    "flash.net",\n    "y7mail.com",\n    "sbcyahoo.net",\n    "talk21.com",\n    "swbell.net",\n    "kimo.com",\n    "nvbell.net",\n    "prodigy.net",\n    "sbcglobal.net",\n    "ymail.com",\n    "rocketmail.com",\n    "wans.net",\n    "xtra.co.nz",\n    "pacbell.net",\n    "snet.net",\n    "worldnet.att.net",\n    "frontier.com",\n    "yahoo.co.jp",\n    "aol.com",\n    "aim.com",\n    "cs.com",\n    "netscape.com",\n    "orange.fr",\n    "wanadoo.co.uk",\n    "wanadoo.fr",\n    "freeserve.co.uk",\n    "orangehome.co.uk",\n    "mail.ru",\n    "inbox.ru",\n    "list.ru",\n    "bk.ru",\n    "optimum.net",\n    "optonline.net",\n    "comcast.com",\n    "comcast.net",\n    "rr.com",\n    "roadrunner.com",\n    "gmx.com",\n    "gmx.net",\n    "gmx.ch",\n    "gmx.de",\n    "gmx.at",\n    "icloud.com",\n    "mac.com",\n    "me.com",\n    "libero.it",\n    "web.de",\n    "seznam.cz",\n    "email.cz",\n    "o2.com",\n    "o2.pl",\n    "o2online.de",\n    "o2.co.uk",\n    "o2mail.de",\n    "free.fr",\n    "126.com",\n    "163.com",\n    "yandex.ru",\n    "narod.ru",\n    "ya.ru",\n    "yandex.com",\n    "yandex.ua",\n    "autorambler.ru",\n    "lenta.ru",\n    "myrambler.ru",\n    "rambler.ru",\n    "ro.ru",\n    "r0.ru",\n    "rediff.com",\n    "alice.it",\n    "telecomitalia.it",\n    "tim.it",\n    "virgilio.it",\n    "qq.com",\n    "freenet.de",\n    "verizon.com",\n    "verizon.net",\n    "sfr.fr",\n    "club-internet.fr",\n    "neuf.fr",\n    "9business.fr",\n    "9online.fr",\n    "cegetel.net",\n    "clearnet.co.nz",\n    "earthlink.net",\n    "peoplepc.com",\n    "cox.net",\n    "qip.ru",\n    "pochta.ru",\n    "pochta.com",\n    "fromru.com",\n    "front.ru",\n    "hotbox.ru",\n    "hotmail.ru",\n    "krovatka.su",\n    "land.ru.",\n    "mail15.com",\n    "mail333.com",\n    "newmail.ru",\n    "nightmail.ru",\n    "nm.ru",\n    "pisem.net",\n    "pochtamt.ru",\n    "pop3.ru",\n    "rbcmail.ru",\n    "smtp.ru",\n    "5ballov.ru",\n    "aeterna.ru",\n    "ziza.ru",\n    "memori.ru",\n    "photofile.ru",\n    "fotoplenka.ru",\n    "talktalk.co.uk",\n    "talktalk.net",\n    "tiscali.co.uk",\n    "telefonica.net",\n    "movistar.es",\n    "ig.com.br",\n    "ibest.com.br",\n    "naver.com",\n    "wp.pl"\n  ]\n}'}),
(function(n,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=t(85                   ),o=t(131              );i.isEmail=function(n){return/^[^<>\/\\:?*"|]*$/.test(n)&&/^[\u0000-\u007F]+$/.test(n)&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/i.test(n)},i.parseEmails=function(n){let i=[],t=n.split(/[,\n]/g);for(let e of t){let n=e.match(/^.*<(.*)>$/);n&&(e=n[1]),(e=e.trim())&&i.push(e)}return i};const l=JSON.parse(t(132                                                )).domains;let r={};function s(n){return n.toLowerCase().split("@")[1]||null}l.forEach(n=>r[n]=!0),i.spellcheckDomain=function(n){if(n in r)return null;for(let i of l)if(1===o.default(n,i))return i;return null},i.getEmailDomain=s,i.isFigmaEmail=function(n){return n.endsWith(e.default().figma_email_suffix)},i.isKnownDomain=function(n){const i=s(n);return!!i&&i in r},i.isSignUpFromWorkEmail=function(n){return"work"===(n.meta?n.meta.email_domain_type:void 0)}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2,1    ),i=r(88           ),s=r(111          ),a=r(85                         ),o=r(128                                   ),l=r(129           ),c=r(130                     ),d=r(133        ),m=null;class u{constructor(e){this.trackedSeedsByExperiment={},this.trackExperimentSeedForSession=((e,t,r)=>{const n=this.trackedSeedsByExperiment[e]||[];n.indexOf(r)>-1||(this.reportingHandler(e,t,r),n.push(r),this.trackedSeedsByExperiment[e]=n)}),this.reportingHandler=e}}t.ExperimentTracker=u;const p=new u((e,r,n)=>{const i=t.checkExperimentOverrides();i&&i[e]||s.segmentTrackEvent("set_experiment_treatment",{experimentId:e,treatmentId:r,seed:n.toString()})});class h{constructor(e,t,r,n,i){this.treatmentToValue=new Map,this.trackingEnabled=!0,this.mobileEnabled=!1,this.reportOnce=((e,t)=>{t&&null!=e&&this.trackingEnabled&&this.report(this.experimentId,t,e)}),this.experimentId=e,this.defaultValue=t,this.report=r,this.seed=n,this.allExperiments=i}}class E{constructor(e,t,r,n,i){this.state=new h(e,t,r,n,i)}enableMobile(){return this.state.mobileEnabled=!0,this}treatment(e,t){return this.state.treatmentToValue.set(e,t),this}disableTracking(){return this.state.trackingEnabled=!1,this}build(){const e=this.state.reportOnce,t=this.state.experimentId,r=this.state.defaultValue,i=this.state.seed,s=this.state.allExperiments,a=this.state.treatmentToValue,o=this.state.mobileEnabled;return class extends n.Component{experimentSeed(){return this.props.experimentSeed||i}treatment(){return f(t,this.experimentSeed(),s,o)}componentDidMount(){e(this.experimentSeed(),this.treatment())}render(){let e=r;const t=this.treatment();if(t){const r=a.get(t);r&&(e=r)}return n.createElement(e,Object.assign({},this.props))}}}}class x{constructor(e,t,r,n,i){this.state=new h(e,t,r,n,i)}enableMobile(){return this.state.mobileEnabled=!0,this}treatment(e,t){return this.state.treatmentToValue.set(e,t),this}disableTracking(){return this.state.trackingEnabled=!1,this}get(){const e=f(this.state.experimentId,this.state.seed,this.state.allExperiments,this.state.mobileEnabled);return e&&(this.state.reportOnce(this.state.seed,e),this.state.treatmentToValue.has(e))?this.state.treatmentToValue.get(e):this.state.defaultValue}}t.experiment=function(e,t=T(),r=p.trackExperimentSeedForSession,n=new o.ExperimentToTreatments){return{defaultComponentClass:function(i){return new E(e,i,r,t,n)},defaultValue:function(i){return new x(e,i,r,t,n)}}},t.LOCAL_EXPERIMENTS_SEED="experiment_seed",t.LOCAL_EXPERIMENTS_OVERRIDE="local_experiments",t.getUserSeedFromEmailDomainIfPresent=function(){const e=a.initialOptions().user_data,t=null==e?void 0:e.email;if(t){const r=d.getEmailDomain(t);if(d.isKnownDomain(t))return null==e?void 0:e.experiment_seed;if(r)return v(r)}};const g=[13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163];function f(e,r=T(),n=new o.ExperimentToTreatments,i=!1){const s=t.checkExperimentOverrides();if(s&&s[e])return s[e];if(!a.getFeatureFlags()[e])return;if(!i&&l.isMobileBrowserGetter())return;if(null==r)return;const c=n[e];if(!c)return;let d="string"==typeof r?parseInt(r,10):r;if(isNaN(d))return;var m;d>1e8&&(d=Math.floor(d/1e5));return c[67*(d%=(m=e.length,g[m%g.length]))%12345%c.length]}t.pickTreatment=f;const b=e=>btoa(JSON.stringify(e)),O=e=>JSON.parse(atob(e));function S(e){const r=i.getCookieOrLocalOrMemoryStorage();if(r)try{let i={};const s=r.get(t.LOCAL_EXPERIMENTS_OVERRIDE);return s&&(i=O(s)),i=e(i),r.set(t.LOCAL_EXPERIMENTS_OVERRIDE,b(i)),i}catch(n){return void console.error(`Failed to perform action ${e.name}`,n)}}const _=(e,t)=>S(r=>(r[e]=t,s.trackEvent("Set Experiment Override",{experimentId:e,treatmentId:t}),r)),I=e=>S(t=>(delete t[e],t)),k=()=>S(e=>({}));function T(e=function(){const e=a.initialOptions().user_data;if(e)return e.experiment_seed}()){if(e)return e;const r=encodeURIComponent(t.LOCAL_EXPERIMENTS_SEED),n=i.getCookieOrLocalOrMemoryStorage();try{const e=n.get(r);if(e){const t=parseInt(e,10);if(!isNaN(t))return t}}catch(o){return void console.error("Failed to read local experiment seed.",o)}const s=Math.floor(1e6*Math.random());try{n.set(r,s)}catch(o){return void console.error("Failed to write local experiment seed",o)}return s}function v(e){const t=e.toUpperCase().match(/[A-Z0-9]+/g),r=null==t?void 0:t.join("").match(/.{1,5}/g);if(r)return r.map(e=>parseInt(e,36)).reduce((e,t)=>e^t)}t.checkExperimentOverrides=(()=>S(e=>e)),window&&(window.experimentTools={checkExperimentOverrides:t.checkExperimentOverrides,setExperimentOverride:_,clearExperimentOverride:I,clearAllExperimentOverrides:k}),t.getLocalExperimentSeed=T,window.localSeed=T,t.asExperimentSeed=v,t.isNonOrgUser=function(){const e=c.globalReduxStore;if(!e)return!1;const t=e.getState();return t.userStateLoaded&&t.orgById&&0===Object.keys(t.orgById).length},t.getCurrentOrgExperimentSeed=function(){const e=c.globalReduxStore;if(!e)return m;const t=e.getState(),r=t.currentOrgId;if(!r)return m;const n=t.orgById[r];if(!n)return m;const i=n.experiment_seed,s=n.experiment_eligible;return i&&s?i:m}}),
(function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=i(43,1         ),a=i(125                        ),o=i(115                     ),s=i(118                    ),n=i(126                    ),d=i(120                     ),l=i(127          ),c=i(46,1    ),_=i(93                                   ),u=i(121                        ),m=i(134                               );function p(e,i){const t=Object.assign(Object.assign({},a.mapReduxStateToTeamPermissionsProps(e,i)),{selectedView:e.selectedView,isProTrialAvailableToStart:!1,isProTrialActive:!1,isProTrialExpired:!1,proTrialEndMoment:null,proTrialDuration:null});if(!t.team||t.team.org_id)return t;const s=t.teamPermissionLevel>=o.PermissionLevel.EDITOR&&!t.team.trial_period_end&&!t.team.subscription;return t.isProTrialAvailableToStart=s&&m.experiment("exp_pro_trials_v2",t.team.id).defaultValue(!1).treatment("variant",!0).get(),t.team.trial_period_end&&(t.team.trial_period_end===r.TRIAL_DOWNGRADED_CANARY?(t.isProTrialActive=!1,t.isProTrialExpired=!1):(t.proTrialEndMoment=c.utc(t.team.trial_period_end),t.proTrialDuration=c.duration(t.proTrialEndMoment.diff(c.utc())),t.isProTrialActive=t.proTrialDuration.asMilliseconds()>0,t.isProTrialExpired=!t.isProTrialActive)),t}r.MAX_FREE_EDITORS=2,r.MAX_FREE_FOLDERS=3,r.FREE_VERSION_HISTORY_MAX_DAYS=30,r.MAX_ANNUAL_SUBSCRIPTIONS=500,r.MAX_DISABLED_VERSIONS=5,r.MONTHLY_EDITOR_COST=1500,r.ANNUAL_EDITOR_COST=1200,r.ANNUAL_ORGANIZATION_MEMBER_COST=4500,r.TRIAL_DOWNGRADED_CANARY="2012-10-01T00:00:00.000Z",r.isProTrialAvailableToStart=(e=>{return e&&!e.org_id&&!e.trial_period_end&&!e.subscription&&m.experiment("exp_pro_trials_v2",e.id).defaultValue(!1).treatment("variant",!0).get()}),r.isProTrialActive=(e=>{if(e&&e.trial_period_end&&!e.org_id){return c.utc(e.trial_period_end).valueOf()>Date.now()}return!1}),r.isProTrialExpired=(e=>{if(e&&e.trial_period_end&&e.trial_period_end!==r.TRIAL_DOWNGRADED_CANARY&&!e.org_id){return c.utc(e.trial_period_end).valueOf()<=Date.now()}return!1}),r.earliestTrialTeam=(e=>{let r=void 0,i=void 0,t=c.utc();for(let a of e){const e=a.trial_period_end;e&&c.utc(e)>t&&(void 0===r||c.utc(e)<r)&&(i=a,r=c.utc(e))}return i}),r.isGracePeriodActive=(e=>{const r=e&&e.grace_period_end&&c.utc(e.grace_period_end);return!!r&&r.valueOf()>Date.now()}),r.isMemberOfDomainCaptureOrg=(e=>{const{user:r,orgById:i,orgUsersByOrgId:t}=e;if(!r)return!1;for(const a of Object.values(i)){const e=t.orgUsers[a.id][r.id];if(a.domain_capture&&e&&e.permission!==u.OrgPermissionType.GUEST)return!0}return!1}),r.isTeamPro=(e=>null!=e.subscription),r.isTeamStarter=(e=>r.isProTrialExpired(e)||!e.subscription),r.canShowUpgradeLinkFromStarter=((e,i)=>e&&(!r.isTeamPro(e)||r.isProTrialActive(e)||r.isProTrialExpired(e))&&e.restrictions!==d.Restrictions.LOCKED&&a.canEditTeam(e.id,i)),r.isFileEditingLockedForUser=((e,i)=>{if(e.team_id&&r.isTeamLockedForUser(e.team_id,i))return!0;const t=e.folder_id&&i.folders[e.folder_id];return!!t&&r.isFolderEditingLockedForUser(t,i)}),r.isFolderEditingLockedForUser=((e,i)=>{if(!e.team_id&&!s.isADraftsFolder(i.folders,e.id))return!0;if(e.team_id){if(r.isTeamLockedForUser(e.team_id,i))return!0;if(!r.canAccessProFeature(i.teams[e.team_id])&&(e.is_invite_only||e.is_view_only))return!0}return!1}),r.isTeamLockedForUser=((e,r)=>{const i=r.teams[e],t=r.user;return!!i&&(!!t&&(i.student_team?!l.isStudent(t):i.restrictions===d.Restrictions.LOCKED))}),r.isTeamAtFolderLimit=((e,r)=>{const i=r.teams[e];return i&&(i.restrictions===d.Restrictions.PROJECTS_LIMITED||i.restrictions===d.Restrictions.EDITORS_AND_PROJECTS_LIMITED)}),r.isOrgDelinquent=((e,r)=>{const i=r.orgById[e];return i&&i.standing===n.OrgStanding.DELINQUENT}),r.isOrgSuspended=((e,r)=>{const i=r.orgById[e];return i&&i.standing===n.OrgStanding.SUSPENDED}),r.shouldRestrictProFeature=(e=>!r.canAccessProFeature(e)),r.canAccessProFeature=(e=>!!e&&(r.isTeamPro(e)||e.student_team)),r.getLocale=(()=>{if(navigator){const e=navigator.languages;if(e&&e[0])return e[0];const r=navigator.language;if(r)return r}return"en-US"}),r.formatMoney=((e,i,t,a)=>{t=t||r.getLocale();const o={currency:a=a||"USD",style:"currency"};return i&&(o.minimumFractionDigits=0),(.01*Number(e)).toLocaleString(t,o)}),r.mapReduxStateToHasProTrialProps=p,r.connectToProTeamTrials=t.connect(p),r.contactSupportFlash=((e,r)=>{let i="An unknown error occurred. Please contact support for assistance.";e&&e.data&&e.data.message&&(i=e.data.message),r(_.flash.error(i))})}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2,1    ),a=new Map;t.registerModal=function(e,t){if(!t)throw new Error("registerModal called for a component without a valid type");if(a.has(t))throw new Error(`a modal with type ${t} has already been registered`);return a.set(t,t=>o.createElement(e,t.modalShown.data)),{type:t}},t.registerUnsafeModal=function(e,t){a.set(e,t)},t.modalForType=function(e){return a.get(e)}}),
(function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const s=r(2,1    ),i=r(111          ),a=r(109                                                           ),o=150;let c=null;t.clearCtaClickedReferrer=(()=>{c=null});const p=s.createContext({properties:{}});class l extends s.Component{constructor(){super(...arguments),this.trackedName=null,this.trackedProperties=null}trackUpdate(e,t){if(!this.trackedName||this.trackedName!==e||this.hasTrackedPropertiesChanged(t))if(this.props.disableViewTracking){let r={};for(let e of Object.keys(t))null!==t[e]&&void 0!==t[e]&&(r[e]=t[e]);a.sendEventToResponsiveContentHandler({id:e,properties:r})}else i.trackContextView(Object.assign(Object.assign({name:e},null!=c&&{ctaClickedReferrer:c}),t)),this.trackedName=e,this.trackedProperties=t||null}hasTrackedPropertiesChanged(e){const t=this.trackedProperties,r=Object.assign(Object.assign({},e),this.props.properties);if(!t||!r)return!t!=!r;const n=Object.keys(t),s=Object.keys(r);return n.length!==s.length||n.some(e=>t[e]!==r[e])}render(){return s.createElement(p.Consumer,null,e=>{const t=e.name?`${e.name} > ${this.props.name}`:this.props.name,r=Object.assign(Object.assign({},e.properties),this.props.properties);return this.trackUpdate(t,r),s.createElement(p.Provider,{value:{name:t,properties:r}},this.props.children)})}}function u(e){return class extends s.Component{render(){return s.createElement(p.Consumer,null,r=>{const a=e=>{const n=Object.assign(Object.assign({},r.properties),this.props.trackingProperties);r.name&&(n.trackingContext=r.name);const s=t.getTrackingText(this.props.children,this.props.innerText);s&&(n.text=s),i.trackContextCtaClicked(n),c=`${n.trackingContext} : ${n.text}`,this.props.onClick&&this.props.onClick(e),setTimeout(t.clearCtaClickedReferrer,o)},p=this.props,{trackingProperties:l,innerText:u}=p,d=n(p,["trackingProperties","innerText"]);return!this.props.children&&this.props.innerText,s.createElement(e,Object.assign({},d,{onClick:a}))})}}}t.TrackingContext=l,l.displayName="TrackingContext",t.asTrackedContext=function(e,t){var r;return(r=class extends s.PureComponent{render(){return s.createElement(l,{name:t||e.displayName},s.createElement(e,Object.assign({},this.props)))}}).displayName=e.displayName,r},t.asTrackedElement=function(e,t,r={}){return s.createElement(l,{name:t,properties:r},e)},t.getTrackingText=((e,t)=>t||(e&&"string"==typeof e?e:e&&Array.isArray(e)&&e.every(e=>"string"==typeof e)?e.join(""):void 0)),t.asTrackedClickable=u,t.ButtonTracked=u(e=>s.createElement("button",Object.assign({},e))),t.asTrackedInput=function(e){return class extends s.Component{render(){return s.createElement(p.Consumer,null,t=>{const r=this.props,{trackingProperties:a,trackingPopulationLevel:o,trackingFieldName:c}=r,p=n(r,["trackingProperties","trackingPopulationLevel","trackingFieldName"]);return s.createElement(e,Object.assign({},p,{onBlur:e=>{const r=Object.assign(Object.assign(Object.assign({},t.properties),this.props.trackingProperties),{fieldName:this.props.trackingFieldName,populationLevel:this.props.trackingPopulationLevel});t.name&&(r.trackingContext=t.name),i.trackContextInputBlurred(r),this.props.onBlur&&this.props.onBlur(e)}}))})}}},t.DivTrackable=u(e=>s.createElement("div",Object.assign({},e))),t.ATrackable=u(e=>s.createElement("a",Object.assign({},e)))}),
(function(E,A,_){"use strict";Object.defineProperty(A,"__esModule",{value:!0});const e=_(87      );var D;function P(E){return(E.altKey?D.ALT:0)|(E.metaKey?D.META:0)|(E.shiftKey?D.SHIFT:0)|(E.ctrlKey?D.CONTROL:0)}function K(E){return!!E&&(E.metaKey&&e.mac||E.ctrlKey&&!e.mac||E.shiftKey)}!function(E){E[E.ALT=256]="ALT",E[E.META=512]="META",E[E.SHIFT=1024]="SHIFT",E[E.CONTROL=2048]="CONTROL"}(D=A.ModifierKey||(A.ModifierKey={})),function(E){E[E.BACKSPACE=8]="BACKSPACE",E[E.TAB=9]="TAB",E[E.ENTER=13]="ENTER",E[E.SHIFT=16]="SHIFT",E[E.CTRL=17]="CTRL",E[E.ALT=18]="ALT",E[E.PAUSE=19]="PAUSE",E[E.CAPS_LOCK=20]="CAPS_LOCK",E[E.ESCAPE=27]="ESCAPE",E[E.SPACE=32]="SPACE",E[E.PAGE_UP=33]="PAGE_UP",E[E.PAGE_DOWN=34]="PAGE_DOWN",E[E.END=35]="END",E[E.HOME=36]="HOME",E[E.LEFT_ARROW=37]="LEFT_ARROW",E[E.UP_ARROW=38]="UP_ARROW",E[E.RIGHT_ARROW=39]="RIGHT_ARROW",E[E.DOWN_ARROW=40]="DOWN_ARROW",E[E.INSERT=45]="INSERT",E[E.DELETE=46]="DELETE",E[E.KEY_0=48]="KEY_0",E[E.KEY_1=49]="KEY_1",E[E.KEY_2=50]="KEY_2",E[E.KEY_3=51]="KEY_3",E[E.KEY_4=52]="KEY_4",E[E.KEY_5=53]="KEY_5",E[E.KEY_6=54]="KEY_6",E[E.KEY_7=55]="KEY_7",E[E.KEY_8=56]="KEY_8",E[E.KEY_9=57]="KEY_9",E[E.A=65]="A",E[E.B=66]="B",E[E.C=67]="C",E[E.D=68]="D",E[E.E=69]="E",E[E.F=70]="F",E[E.G=71]="G",E[E.H=72]="H",E[E.I=73]="I",E[E.J=74]="J",E[E.K=75]="K",E[E.L=76]="L",E[E.M=77]="M",E[E.N=78]="N",E[E.O=79]="O",E[E.P=80]="P",E[E.Q=81]="Q",E[E.R=82]="R",E[E.S=83]="S",E[E.T=84]="T",E[E.U=85]="U",E[E.V=86]="V",E[E.W=87]="W",E[E.X=88]="X",E[E.Y=89]="Y",E[E.Z=90]="Z",E[E.SELECT=93]="SELECT",E[E.NUMPAD_0=96]="NUMPAD_0",E[E.NUMPAD_1=97]="NUMPAD_1",E[E.NUMPAD_2=98]="NUMPAD_2",E[E.NUMPAD_3=99]="NUMPAD_3",E[E.NUMPAD_4=100]="NUMPAD_4",E[E.NUMPAD_5=101]="NUMPAD_5",E[E.NUMPAD_6=102]="NUMPAD_6",E[E.NUMPAD_7=103]="NUMPAD_7",E[E.NUMPAD_8=104]="NUMPAD_8",E[E.NUMPAD_9=105]="NUMPAD_9",E[E.NUMPAD_DELETE=1e3]="NUMPAD_DELETE",E[E.MULTIPLY=106]="MULTIPLY",E[E.ADD=107]="ADD",E[E.SUBTRACT=109]="SUBTRACT",E[E.DECIMAL=110]="DECIMAL",E[E.DIVIDE=111]="DIVIDE",E[E.SEMICOLON=186]="SEMICOLON",E[E.EQUALS=187]="EQUALS",E[E.COMMA=188]="COMMA",E[E.DASH=189]="DASH",E[E.PERIOD=190]="PERIOD",E[E.FORWARD_SLASH=191]="FORWARD_SLASH",E[E.GRAVE_ACCENT=192]="GRAVE_ACCENT",E[E.BACK_SLASH=220]="BACK_SLASH"}(A.Key||(A.Key={})),function(E){E[E.KEY_PRESS=1]="KEY_PRESS",E[E.KEY_RELEASE=2]="KEY_RELEASE"}(A.EventType||(A.EventType={})),A.isStandardShortcutKeyPressed=function(E){return e.mac?E.metaKey:E.ctrlKey},A.modifierKeys=P,A.isNoneOrAllowedModifiersPressed=function(E,A){const _=P(E);return 0===_||0==(_&~A)},A.isExactModifierPressed=function(E,A){return P(E)===A},A.shouldUseDefaultOpenBehavior=K,A.withDefaultOpenBehavior=(E=>A=>{K(A)||E(A)})}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=null,t=!1;function o(e,r){if(t){if(!i)throw new Error("Tried to record without a recording listener");i(e,r)}}r.enableRecording=function(){t=!0},r.disableRecording=function(){t=!1},r.isRecording=function(){return t},r.record=o,r.setRecordingListener=function(e){if(i)throw new Error("Tried to register already-registered recording listener");i=e},r.removeRecordingListener=function(){if(!i)throw new Error("Tried to unregister never-registered recording listener");i=null};const c=!1,d=Object.create(null);function l(e,r){if(-1!==(e in d?d[e].indexOf(r):-1))throw new Error(`Tried to register already registered playback handler for ${e}`);d[e]||(d[e]=[]),d[e].push(r)}function a(e,r){const n=e in d?d[e].indexOf(r):-1;if(-1===n)throw new Error(`Tried to unregister unknown playback handler for ${e}`);d[e].splice(n,1),0===d[e].length&&delete d[e]}function s(e,r){return`${e}.${r}`}function g(e){const r=e;if(r.__registeredRecordingKey){c&&console.log("[InteractionRecorder] unregister",r.__registeredRecordingKey);for(let e in r.__playbackHandlers){a(s(r.__registeredRecordingKey,e),r.__playbackHandlers[e])}r.__registeredRecordingKey=null}}r.playback=function(e,r){if(!(e in d)||0===d[e].length)throw new Error(`No playback handler registered for ${e}`);if(d[e].length>1)throw new Error(`Multiple playback handlers registered for ${e}`);d[e][0](r)},r.addPlaybackHandler=l,r.removePlaybackHandler=a,r.hasPlaybackHandler=function(e){return e in d},r.registerInteractable=function e(r){const n=r,i=r.recordingKey();if(i)if(n.__registeredRecordingKey)i!==n.__registeredRecordingKey&&(g(r),e(r));else{n.__registeredRecordingKey=i,c&&console.log("[InteractionRecorder] register",i);for(let e in n.__playbackHandlers)l(s(i,e),n.__playbackHandlers[e])}},r.unregisterInteractable=g,r.SKIP_RECORDING="SKIP_RECORDING",r.recordInteraction=function(e,r,n,i={}){const c=i.record||(e=>e),d=i.playback||(e=>e),l=e,a=l.__playbackHandlers||(l.__playbackHandlers=Object.create(null));if(r in a)throw new Error(`Tried to register duplicate playback handler for ${r}`);return a[r]=(e=>n(d(e))),function(e){0===n.length&&(e=void 0);const i=n(e);t&&"SKIP_RECORDING"!=i&&(l.__registeredRecordingKey?o(s(l.__registeredRecordingKey,r),c(e)):console.warn(`No recording key registered to handle ${r} on`,l))}}}),
(function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=new Int32Array(127);for(var o=0;o<127;o++)n[o]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(String.fromCharCode(o));e.decode=function(r){for(var e=0,t=r.length>>>2,o=new Uint8Array(3*t),a=0;e<t<<2;){var c=n[127&r.charCodeAt(e++)],d=n[127&r.charCodeAt(e++)],f=n[127&r.charCodeAt(e++)],i=n[127&r.charCodeAt(e++)];o[a++]=c<<2|d>>>4,f>=0&&(o[a++]=d<<4|f>>>2),i>=0&&(o[a++]=f<<6|i)}return a===o.length?o:o.subarray(0,a)},e.encode=function(r){for(var e="",t=r.length,n=0;n<t;n+=1024)e+=String.fromCharCode.apply(String,r.subarray(n,n+1024));return btoa(e)}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2,1    ),o=n(85                 ),s=n(139                      ),a=n(140       );let c="/test/interactions"===window.location.pathname;function i(){return c}t.isDevelopmentEnvironment=!1,t.setIsDevelopmentEnvironment=function(e){t.isDevelopmentEnvironment=e},t.setRunningInteractionTests=function(e){c=e},t.isRunningInteractionTests=i;const u=new Set;function l(){return!!t.isDevelopmentEnvironment||(c||o.getFeatureFlags()&&o.getFeatureFlags().interaction_recorder)}function d(e){l()&&s.registerInteractable(e)}function b(e){l()&&s.unregisterInteractable(e)}t.addTestStartListener=function(e){i()&&u.add(e)},t.removeTestStartListener=function(e){i()&&u.delete(e)},t.runTestStartCallbacks=function(){u.forEach(e=>e())},t.recordingOrPlaybackIsEnabled=l,t.register=d,t.unregister=b,t.joinKeys=function(e,...t){let n=e.recordingKey;return n?n+"."+t.join("."):n};class y extends r.PureComponent{recordingKey(){return this.props.recordingKey}UNSAFE_componentWillMount(){d(this)}componentDidUpdate(e,t){d(this)}componentWillUnmount(){b(this)}}t.PureComponent=y;class g extends r.Component{recordingKey(){return this.props.recordingKey}UNSAFE_componentWillMount(){d(this)}componentDidUpdate(e,t){d(this)}componentWillUnmount(){b(this)}}function f(e,t,n,r={}){return l()?s.recordInteraction(e,t,n,r):n}function p(e){const t={};return e.altKey&&(t.altKey=!0),e.shiftKey&&(t.shiftKey=!0),e.metaKey&&(t.metaKey=!0),e.ctrlKey&&(t.ctrlKey=!0),t}t.Component=g,t.SKIP_RECORDING=s.SKIP_RECORDING,t.otherEvent=f;const k={preventDefault(){},stopPropagation(){}};function m(e){const t={};return t.altKey=!!e.altKey,t.ctrlKey=!!e.ctrlKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t}function v(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=(()=>t(new Uint8Array(r.result))),r.onerror=(e=>n(e)),r.readAsArrayBuffer(e)})}t.mouseEvent=function(e,t,n,r){return f(e,t,n,{record:e=>(e||(e={}),Object.assign(Object.assign({buttons:e.buttons},p(e)),r?r.recordMetadata(e):{})),playback:e=>Object.assign(Object.assign(Object.assign({clientX:0,clientY:0,button:0,buttons:e.buttons},m(e)),k),r?r.playbackMetadata(e):{})})},t.dropEvent=function(e,t,n){return f(e,t,n,{record(e){const t=e.dataTransfer.files,n={};if(t){const e=[];for(const n of t){const t=e.length;e.push("(failed to read file)"),v(n).then(n=>{let r=a.encode(n);r.length>1e3&&(console.warn("Recording of drop events is only supported for small files"),r="(file too large)"),e[t]=r})}n.files=e}return Object.assign(Object.assign({buttons:e.buttons},p(e)),{dataTransfer:n})},playback(e){const t={};return e.dataTransfer.files&&(t.files=e.dataTransfer.files.map(e=>new Blob([a.decode(e)]))),Object.assign(Object.assign(Object.assign({clientX:0,clientY:0,button:0,buttons:e.buttons},m(e)),k),{dataTransfer:t})}})},t.wheelEvent=function(e,t,n,r){return f(e,t,n,{record:e=>(e||(e={}),Object.assign(Object.assign({buttons:e.buttons},p(e)),r?r.recordMetadata(e):{})),playback:e=>Object.assign(Object.assign(Object.assign({deltaX:0,deltaY:0,deltaMode:WheelEvent.DOM_DELTA_PIXEL,clientX:0,clientY:0,button:0,buttons:e.buttons},m(e)),k),r?r.playbackMetadata(e):{})})},t.keyboardEvent=function(e,t,n){return f(e,t,n,{record:e=>Object.assign({key:e.key,keyCode:e.keyCode},p(e)),playback:e=>Object.assign(Object.assign({key:e.key,keyCode:e.keyCode},m(e)),k)})},t.propagatingKeyboardEvent=function(e,t,n){return f(e,t,n,{record(e){const t=e.event;return Object.assign({key:t.key,keyCode:t.keyCode},p(t))},playback:e=>({event:Object.assign(Object.assign({key:e.key,keyCode:e.keyCode},m(e)),k),accept:()=>{}})})},t.changeEvent=function(e,t,n){return f(e,t,n,{record:e=>"checkbox"===e.currentTarget.type?{checked:e.currentTarget.checked}:{value:e.currentTarget.value},playback(e){const t={value:e.value,checked:e.checked};return Object.assign({target:t,currentTarget:t},k)}})},t.submitEvent=function(e,t,n){return f(e,t,n,{record:e=>({}),playback:e=>Object.assign({},k)})},t.focusEvent=function(e,t,n){return f(e,t,n,{record:e=>({}),playback:e=>({})})}}),
(function(n,t,p){n.exports={lazyInput:"lazy_input--lazyInput--2kTZE"}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(2,1    ),i=a(141              ),n=a(142               ),r=a(137                                    );class o extends i.PureComponent{constructor(t){super(t),this.procrastinating=!1,this.procrastinationTimer=null,this.onLazyUpdate=(()=>{this.procrastinating=!1,this.updateIfNotLazy(this.state.requestedValue)}),this.onChange=i.changeEvent(this,"change",t=>{this.procrastinate(),this.setState({value:t.target.value}),this.props.onChange(t)}),this.state={value:this.props.value}}UNSAFE_componentWillReceiveProps(t){this.updateIfNotLazy(t.value)}componentWillUnmount(){super.componentWillUnmount(),this.procrastinationTimer&&(clearTimeout(this.procrastinationTimer),this.procrastinating=!1)}updateIfNotLazy(t){this.procrastinating?this.setState({requestedValue:t}):this.state.value!==t&&this.setState({value:t,requestedValue:void 0})}procrastinate(){this.procrastinating=!0,this.procrastinationTimer&&clearTimeout(this.procrastinationTimer),this.procrastinationTimer=setTimeout(this.onLazyUpdate,this.props.delay)}getProps(){let t=Object.assign({},this.props);return delete t.delay,delete t.recordingKey,delete t.dataTestId,delete t.innerRef,t.value=this.state.value,t.onChange&&(t.onChange=this.onChange),null==t.value&&(t.value=void 0),t.className?t.className=`${t.className} ${n.lazyInput}`:t.className=n.lazyInput,null!=this.props.dataTestId&&(t["data-test-id"]=this.props.dataTestId),t}render(){return s.createElement("textarea"===this.props.type?"textarea":"input",Object.assign(Object.assign({},this.getProps()),{ref:this.props.innerRef}))}}o.displayName="LazyInput",o.defaultProps={type:"text",delay:1e3},e.LazyInput=s.forwardRef((t,e)=>s.createElement(o,Object.assign({},t,{innerRef:e}))),e.LazyInputTracked=r.asTrackedInput(e.LazyInput)}),
(function(i,t,s){i.exports={input:"basic_form--input--3cO2P",bigInput:"basic_form--bigInput--35JZw basic_form--input--3cO2P",textInput:"basic_form--textInput--3ZlM2 basic_form--input--3cO2P",bigTextInput:"basic_form--bigTextInput--iKJGz basic_form--textInput--3ZlM2 basic_form--input--3cO2P basic_form--bigInput--35JZw basic_form--input--3cO2P",checkboxContainer:"basic_form--checkboxContainer--2LsO1",checkbox:"basic_form--checkbox--3eCIg",checkboxShowFocus:"basic_form--checkboxShowFocus--2RbJL",mixedCheckbox:"basic_form--mixedCheckbox--3BUJh",label:"basic_form--label--hdhP9",btn:"basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",btnBig:"basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",primaryBtn:"basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",primaryBtnBig:"basic_form--primaryBtnBig--DLL1m basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",negativeBtn:"basic_form--negativeBtn--2N09z basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",secondaryNegativeBtn:"basic_form--secondaryNegativeBtn--FmDmU basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",negativeBtnBig:"basic_form--negativeBtnBig--2c7h3 basic_form--negativeBtn--2N09z basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",greenBtn:"basic_form--greenBtn--1opZg basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",whiteBtn:"basic_form--whiteBtn--3Xwp5 basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",greenBtnBig:"basic_form--greenBtnBig--1m5Oi basic_form--greenBtn--1opZg basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",secondaryBtnBig:"basic_form--secondaryBtnBig--evjXj basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",link:"basic_form--link--11HI0 blue_link--blueLink--22X56",inlineLink:"basic_form--inlineLink--3sRG- blue_link--blueLink--22X56",bigSelect:"basic_form--bigSelect--2lByI basic_form--bigTextInput--iKJGz basic_form--textInput--3ZlM2 basic_form--input--3cO2P basic_form--bigInput--35JZw basic_form--input--3cO2P"}}),
(function(a,o,s){a.exports={autoscale:"svg--autoscale--11OB-"}}),
(function(e,s,t){"use strict";var r=this&&this.__rest||function(e,s){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)s.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};Object.defineProperty(s,"__esModule",{value:!0});const o=t(2,1    ),n=t(141              ),i=t(145        );s.rawSvgSrc=function(e){return{src:e}};class l extends n.PureComponent{constructor(){super(...arguments),this.onClick=n.mouseEvent(this,"click",e=>{this.props.onClick(e)}),this.onMouseDown=n.mouseEvent(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e=this.props.svg;if(!e)return null;let s=e.src,t=Object.assign({},this.props);delete t.svg,delete t.useOriginalSrcFills,delete t.recordingKey,this.props.onClick&&this.props.recordingKey&&(t.onClick=this.onClick),this.props.onMouseDown&&this.props.recordingKey&&(t.onMouseDown=this.onMouseDown);let n=this.props.useOriginalSrcFills?"":"svg-container";this.props.className&&(n+=` ${this.props.className}`),s=s.replace("<svg ",'<svg class="svg" ');const{autosize:l}=t,c=r(t,["autosize"]);if(!0===l){n+=` ${i.autoscale}`;const e=c.style?Object.assign({},c.style):{};e.height=t.height,e.width=t.width,c.style=e}return this.props.href?o.createElement("a",Object.assign({dangerouslySetInnerHTML:{__html:s}},c,{className:n})):o.createElement("span",Object.assign({dangerouslySetInnerHTML:{__html:s}},c,{className:n}))}}s.Svg=l,l.displayName="Svg"}),
(function(e,t,s){"use strict";var n=this&&this.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]])}return s};Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),r=s(138      ),o=s(141              ),c=s(143                                      ),i=s(144               ),l=s(137                                                ),p=s(146                        );let d=null;t.setForwardInputKeyToFullscreenIfNecessary=function(e){d=e};class u extends o.Component{constructor(){super(...arguments),this.onKeyDown=(e=>{d&&d(e)||(this.props.onKeyDown&&this.props.onKeyDown(e),e.keyCode===r.Key.ESCAPE&&e.target.blur())}),this.onClick=o.mouseEvent(this,"click",e=>{this.props.onClick&&this.props.onClick(e)})}render(){const e=Object.assign({},this.props);return e.className=`${this.props.defaultClass} ${this.props.className||""}`,delete e.defaultClass,delete e.recordingKey,this.props.onClick&&this.props.recordingKey&&(e.onClick=this.onClick),a.createElement("button",Object.assign({onKeyDown:this.onKeyDown},e),this.props.children)}}t.ButtonBase=u,u.displayName="ButtonBase";class m extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.primaryBtn},this.props))}}t.ButtonPrimary=m,m.displayName="ButtonPrimary",t.ButtonPrimaryTracked=l.asTrackedClickable(m);class g extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.primaryBtnBig},this.props))}}t.BigButtonPrimary=g,g.displayName="BigButtonPrimary",t.BigButtonPrimaryTracked=l.asTrackedClickable(g);class b extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.btn,type:"button"},this.props))}}t.ButtonSecondary=b,b.displayName="ButtonSecondary",t.ButtonSecondaryTracked=l.asTrackedClickable(b);class h extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.secondaryBtnBig,type:"button"},this.props))}}t.BigButtonSecondary=h,h.displayName="BigButtonSecondary",t.BigButtonSecondaryTracked=l.asTrackedClickable(h);class k extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.secondaryNegativeBtn,type:"button"},this.props))}}t.ButtonSecondaryNegative=k,k.displayName="ButtonSecondaryNegative",t.ButtonSecondaryNegativeTracked=l.asTrackedClickable(k);class y extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.negativeBtn,type:"button"},this.props))}}t.ButtonNegative=y,y.displayName="ButtonNegative",t.ButtonNegativeTracked=l.asTrackedClickable(y);class B extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.negativeBtnBig,type:"button"},this.props))}}t.BigButtonNegative=B,B.displayName="BigButtonNegative";class C extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.whiteBtn},this.props))}}t.ButtonWhite=C,C.displayName="ButtonWhite",t.ButtonWhiteTracked=l.asTrackedClickable(C);class N extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.greenBtn},this.props))}}t.ButtonGreen=N,N.displayName="ButtonGreen",t.ButtonGreenTracked=l.asTrackedClickable(N);class O extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.greenBtnBig},this.props))}}t.BigButtonGreen=O,O.displayName="BigButtonGreen",t.BigButtonGreenTracked=l.asTrackedClickable(O);class j extends a.Component{render(){const e=`${i.primaryBtn} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.ButtonLink=j,j.displayName="ButtonLink",t.ButtonLinkTracked=l.asTrackedClickable(j);class x extends a.Component{render(){const e=`${i.primaryBtnBig} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.BigButtonLink=x,x.displayName="ButtonLink",t.BigButtonLinkTracked=l.asTrackedClickable(x);class T extends a.Component{render(){const e=`${i.btn} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.ButtonSecondaryLink=T,T.displayName="ButtonSecondaryLink",t.ButtonSecondaryLinkTracked=l.asTrackedClickable(T);class E extends a.Component{render(){const e=`${i.btnBig} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.BigButtonSecondaryLink=E,E.displayName="BigButtonSecondaryLink",t.BigButtonSecondaryLinkTracked=l.asTrackedClickable(E);class v extends a.Component{render(){const e=`${i.textInput} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement(c.LazyInput,Object.assign({},t))}}t.TextInput=v,v.displayName="TextInput",t.TextInputTracked=l.asTrackedInput(v);class S extends a.PureComponent{render(){return a.createElement("input",Object.assign({},this.props))}}t.MockTextInput=S,S.displayName="MockTextInput";class f extends a.Component{render(){const e=`${i.bigTextInput} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement(c.LazyInput,Object.assign({},t))}}t.BigTextInput=f,f.displayName="BigTextInput";class w extends a.PureComponent{constructor(e){super(e),this.documentKeyDown=(e=>{e.keyCode===r.Key.TAB&&this.setState({showFocus:!0})}),this.documentMouseDown=(e=>{this.setState({showFocus:!1})}),this.onFocus=(e=>{this.state.showFocus||e.target.blur()}),this.classNameForInput=(()=>{let e=`${i.checkbox} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${i.checkboxShowFocus}`),e}),this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){const e=this.props.classOverride||this.classNameForInput(),t=Object.assign(Object.assign({},this.props),{className:e});return delete t.classOverride,a.createElement("input",Object.assign({type:"checkbox",onFocus:this.onFocus},t))}}t.Checkbox=w,w.displayName="Checkbox";t.MixedCheckbox=class extends a.PureComponent{render(){const e=this.props,{allChecked:t,someChecked:s}=e,r=n(e,["allChecked","someChecked"]);return a.createElement(w,Object.assign({className:s&&!t?i.mixedCheckbox:"",checked:t},r))}};class L extends a.Component{render(){const e=`${i.label} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement("label",Object.assign({},t))}}t.Label=L,L.displayName="Label";class $ extends a.Component{render(){const e=`${i.link} ${this.props.className||""}`,t=this.props,{canFocus:s}=t,r=n(t,["canFocus"]);let o=Object.assign(Object.assign({},r),{className:e,rel:"noopener"});return s&&(o=Object.assign({href:"#",tabIndex:0},o)),a.createElement("a",Object.assign({},o))}}t.Link=$,$.displayName="Link",t.LinkTracked=l.asTrackedClickable($);class I extends a.Component{render(){const e=`${i.inlineLink} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.LinkInline=I,I.displayName="Link",t.LinkInlineTracked=l.asTrackedClickable(I);class F extends a.Component{render(){const e=`${i.bigSelect} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement("select",Object.assign({},t))}}t.BigSelect=F,F.displayName="BigSelect",t.Spacing=(e=>"x"===e.direction?a.createElement("div",{style:{width:8*e.multiple}},e.children):a.createElement("div",{style:{height:8*e.multiple}},e.children)),t.Spacing.displayName="Spacing",t.SvgTracked=l.asTrackedClickable(p.Svg),t.AnchorElementTracked=l.asTrackedClickable(e=>a.createElement("a",Object.assign({},e),e.children))}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(2,1    );class n extends a.Component{constructor(){super(...arguments),this.traverseChildren=(()=>{this.firstTabbableEl=null,this.lastTabbableEl=null;const t=e=>{i(e)&&((!this.firstTabbableEl||e.tabIndex<this.firstTabbableEl.tabIndex)&&(this.firstTabbableEl=e),(!this.lastTabbableEl||e.tabIndex>=this.lastTabbableEl.tabIndex)&&(this.lastTabbableEl=e));for(let s of Array.from(e.children))t(s)};t(this.container)}),this.containerRef=(t=>{this.container=t}),this.onFrontGuardFocus=(()=>{this.traverseChildren();const t=this.lastTabbableEl;t&&setTimeout(()=>{t.focus()},0)}),this.onBackGuardFocus=(()=>{this.traverseChildren();const t=this.firstTabbableEl;t&&setTimeout(()=>{t.focus()},0)})}render(){return a.createElement("span",null,a.createElement("span",{tabIndex:this.props.startTabIndex||0,onFocus:this.onFrontGuardFocus}),a.createElement("span",{ref:this.containerRef},this.props.children),a.createElement("span",{tabIndex:this.props.endTabIndex||0,onFocus:this.onBackGuardFocus}))}}e.TabLoop=n,n.displayName="TabLoop";const i=t=>{let e;const s=t.nodeName.toLowerCase(),a=null!=t.getAttribute("tabindex");return"-1"!==t.getAttribute("tabindex")&&!(!(e=/^(input|select|textarea|button)$/.test(s)?!t.disabled:"a"===s&&t.href||a)||!r(t))},r=t=>{if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;for(var e=getComputedStyle(t).visibility;"inherit"===e;)t=t.parentElement,e=getComputedStyle(t).visibility;return"hidden"!==e}}),
(function(o,t,e){o.exports={closeX:"close_button--closeX--2ttg_",closeXLight:"close_button--closeXLight--2VhUR",modalUpperRightCorner:"close_button--modalUpperRightCorner--DC2Iw"}}),
(function(o,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=e(2,1    ),t=e(141            ),i=e(137                                    );class u extends t.PureComponent{constructor(){super(...arguments),this.onClick=t.mouseEvent(this,"click",o=>this.props.onClick?this.props.onClick(o):t.SKIP_RECORDING),this.onContextClick=t.mouseEvent(this,"contextmenu",o=>this.props.onContextMenu?this.props.onContextMenu(o):t.SKIP_RECORDING),this.onDoubleClick=t.mouseEvent(this,"dblclick",o=>this.props.onDoubleClick?this.props.onDoubleClick(o):t.SKIP_RECORDING),this.onMouseDown=t.mouseEvent(this,"mousedown",o=>this.props.onMouseDown?this.props.onMouseDown(o):t.SKIP_RECORDING),this.onMouseUp=t.mouseEvent(this,"mouseup",o=>this.props.onMouseUp?this.props.onMouseUp(o):t.SKIP_RECORDING),this.onMouseMove=t.mouseEvent(this,"mousemove",o=>this.props.onMouseMove?this.props.onMouseMove(o):t.SKIP_RECORDING),this.onMouseEnter=t.mouseEvent(this,"mouseenter",o=>this.props.onMouseEnter?this.props.onMouseEnter(o):t.SKIP_RECORDING),this.onMouseLeave=t.mouseEvent(this,"mouseleave",o=>this.props.onMouseLeave?this.props.onMouseLeave(o):t.SKIP_RECORDING),this.onKeyDown=t.keyboardEvent(this,"keydown",o=>this.props.onKeyDown?this.props.onKeyDown(o):t.SKIP_RECORDING),this.onFocus=t.focusEvent(this,"focus",o=>this.props.onFocus?this.props.onFocus(o):t.SKIP_RECORDING),this.onBlur=t.focusEvent(this,"blur",o=>this.props.onBlur?this.props.onBlur(o):t.SKIP_RECORDING)}render(){const o=Object.assign({},this.props);return this.recordingKey&&(this.props.onClick&&(o.onClick=this.onClick),this.props.onDoubleClick&&(o.onDoubleClick=this.onDoubleClick),this.props.onMouseDown&&(o.onMouseDown=this.onMouseDown),this.props.onMouseMove&&(o.onMouseMove=this.onMouseMove),this.props.onMouseEnter&&(o.onMouseEnter=this.onMouseEnter),this.props.onMouseLeave&&(o.onMouseLeave=this.onMouseLeave),this.props.onMouseUp&&(o.onMouseUp=this.onMouseUp),this.props.onContextMenu&&(o.onContextMenu=this.onContextClick),this.props.onKeyDown&&(o.onKeyDown=this.onKeyDown),this.props.onFocus&&(o.onFocus=this.onFocus),this.props.onBlur&&(o.onBlur=this.onBlur),delete o.recordingKey),this.node(o)}}s.RecordableElement=u,u.displayName="RecordableDiv";class p extends u{node(o){return n.createElement("div",Object.assign({},o))}}s.RecordableDiv=p,s.RecordableDivTracked=i.asTrackedClickable(p);s.RecordableButton=class extends u{node(o){return n.createElement("button",Object.assign({},o))}}}),
(function(l,o,t){l.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M6 5.293l4.789-4.79.707.708-4.79 4.79 4.79 4.789-.707.707-4.79-4.79-4.789 4.79-.707-.707L5.293 6 .502 1.211 1.21.504 6 5.294z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,o,t){"use strict";var n=this&&this.__rest||function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};Object.defineProperty(o,"__esModule",{value:!0});const r=t(2,1    ),a=t(146                        ),s=t(137                                    ),l=t(149                 ),c=t(113                                     ),i=t(150                         ),p=t(141              ),g=t(151                           );function u(e){return o=>r.createElement("div",{className:l.modalUpperRightCorner},r.createElement(e,Object.assign({},o)))}function d(e){return o=>r.createElement(e,Object.assign({},o,{onClick:()=>{o.dispatch(c.fileBrowser.popModalStack())}}))}o.CloseButton=s.asTrackedClickable(e=>{var{onMouseDown:o,onClick:t,className:s,svg:c,dataOnboardingKey:u,useOriginalSrcFills:d=!1}=e,b=n(e,["onMouseDown","onClick","className","svg","dataOnboardingKey","useOriginalSrcFills"]);const m=c||g;return r.createElement(i.RecordableDiv,{"data-onboarding-key":u,className:`${l.closeX} ${s||""}`,onMouseDown:o,onClick:t,role:"button","aria-label":"Close",recordingKey:p.joinKeys(b,"closeButton")},r.createElement(a.Svg,{svg:m,useOriginalSrcFills:d}))}),o.modalUpperRightCorner=u,o.closeModalOnClick=d,o.ModalCloseButton=d(u(o.CloseButton))}),
(function(o,d,l){o.exports={modalBackground:"modal--modalBackground--sAvTW",tintedModalBackground:"modal--tintedModalBackground--3Lt8K",fixedTop:"modal--fixedTop--16UX_",modal:"modal--modal--35Ed8 modal--modal--OAB3b modal--modalShadow--HbHkT",modalContent:"modal--modalContent--30gqg modal--modalContent--32TRW",title:"modal--title--2yagD modal--title--1kOv4",buttonRow:"modal--buttonRow--JSWAJ",buttonRowLeft:"modal--buttonRowLeft--9Uyi9 ellipsis--ellipsis--1RWY6",cancelLink:"modal--cancelLink--RIsG0 modal--cancelLink--2FS5S modal--button--2Xn7t",confirmButton:"modal--confirmButton--12ON3 modal--confirmButton--3Mjew"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(2,1    ),i=t(6,1        ),a=t(138      ),n=t(141              ),r=t(113                                     ),p=t(147                                            ),l=t(148                                  ),c=t(152                                          ),d=t(153          ),h=t(101                             ),m=t(136                    ),u=400,f=492;class b extends o.Component{constructor(){super(...arguments),this.onBackgroundMouseDown=(()=>{this.props.disableClickOutsideToHide||this.props.hide()}),this.onModalMouseDown=(e=>{e.stopPropagation()}),this.onKeyDown=(e=>{if(e.keyCode===a.Key.ESCAPE&&!this.props.disableClickOutsideToHide)return this.props.hide(),e.preventDefault(),void e.stopPropagation();this.props.onKeyDown&&this.props.onKeyDown(e)}),this.bgRef=(e=>{e&&!e.contains(document.activeElement)&&e.focus()})}render(){let e=f,s=u;if("small"===this.props.size)e=u;else if("any"===this.props.size)e=void 0,s=void 0;else if("number"==typeof this.props.size){let t=this.props.size;e=t,s=t}let t=d.modalBackground;this.props.tintedModalBackground&&(t=t+" "+d.tintedModalBackground),this.props.backgroundClassName&&(t=t+" "+this.props.backgroundClassName),this.props.fixedTop&&(t=t+" "+d.fixedTop),t=t+" "+h.PREVENT_EVENT_CAPTURE;let i=d.modal;return this.props.className&&(i+=` ${this.props.className}`),o.createElement("div",{tabIndex:0,className:t,onMouseDown:this.onBackgroundMouseDown,onKeyDown:this.onKeyDown,ref:this.bgRef},o.createElement("div",{className:i,style:{maxWidth:e,minWidth:s},onMouseDown:this.onModalMouseDown},this.props.title&&o.createElement("div",{className:d.title},this.props.title),this.props.children))}}s.ModalView=b,b.displayName="ModalView";class M extends o.Component{constructor(){super(...arguments),this.hide=(()=>{this.props.popStack?this.props.dispatch(r.fileBrowser.popModalStack()):this.props.dispatch(r.fileBrowser.hideModal()),this.props.onHide&&this.props.onHide()})}render(){return o.createElement(b,Object.assign({},this.props,{hide:this.hide}))}}s.Modal=M,M.displayName="Modal",s.CONFIRMATION_MODAL="CONFIRMATION_MODAL",m.registerUnsafeModal(s.CONFIRMATION_MODAL,e=>o.createElement(C,Object.assign({},e.modalShown.data)));class C extends n.Component{constructor(){super(...arguments),this.onSubmit=n.otherEvent(this,"confirm",e=>{e.preventDefault(),this.hideModal(),this.props.onConfirm()},{playback:()=>({preventDefault:()=>{}})}),this.onCancel=n.otherEvent(this,"cancel",e=>{e.preventDefault(),this.hideModal(),this.props.onCancel&&this.props.onCancel()},{playback:()=>({preventDefault:()=>{}})}),this.buttonRef=(e=>{e&&i.findDOMNode(e).focus()})}hideModal(){this.props.dontClose||(this.props.popStack?this.props.dispatch(r.fileBrowser.popModalStack()):this.props.dispatch(r.fileBrowser.hideModal()))}render(){const e=this.props.destructive?p.ButtonNegativeTracked:p.ButtonPrimaryTracked;return o.createElement(M,Object.assign({size:this.props.size||"small"},this.props,{className:this.props.className||d.modal,onHide:this.props.onCancel}),!this.props.dontClose&&o.createElement(c.ModalCloseButton,Object.assign({},this.props)),o.createElement(l.TabLoop,null,o.createElement("div",{className:d.title},this.props.confirmationTitle),this.props.children?this.props.children:o.createElement("div",{className:d.modalContent},this.props.content),o.createElement("div",{className:d.buttonRow},o.createElement("div",{className:d.buttonRowLeft},this.props.helperText),o.createElement(p.ButtonSecondaryTracked,{className:d.cancelLink,onClick:this.onCancel,ref:this.buttonRef},this.props.cancelText||"Cancel"),o.createElement("form",{onSubmit:this.onSubmit},o.createElement(e,{tabIndex:0,type:"submit",className:d.confirmButton,disabled:this.props.disableConfirm,autoFocus:this.props.autoFocusConfirm},this.props.confirmText)))))}}s.ConfirmationModal=C,C.displayName="ConfirmationModal",C.defaultProps={confirmationTitle:"Are you sure?",destructive:!1}}),
(function(e,s,t){e.exports={contactSalesModal:"upgrade_contact_sales_modal--contactSalesModal--3JU4U",modalTitle:"upgrade_contact_sales_modal--modalTitle--28ZCA text--fontPos18--3M8-H text--_fontBase--YWDo0",closeButton:"upgrade_contact_sales_modal--closeButton--1ZO8u",companyDetails:"upgrade_contact_sales_modal--companyDetails--3N3Gy org_self_serve--detailsForm--1yJVD stripe--stripeCardAndAddress--2c5jf org_self_serve--paymentForm--1lfGf",select:"upgrade_contact_sales_modal--select--2OXqf stripe--selectRowFull--_pnW5",error:"upgrade_contact_sales_modal--error--2_Q7m stripe--group--3HWZs",errorMessage:"upgrade_contact_sales_modal--errorMessage--3eoSn text--fontPos11--RSei3 text--_fontBase--YWDo0",freeTextInput:"upgrade_contact_sales_modal--freeTextInput--3GINf text--fontPos14--3UJ36 text--_fontBase--YWDo0",submitButton:"upgrade_contact_sales_modal--submitButton--1szei",submissionError:"upgrade_contact_sales_modal--submissionError--gNfC6 universal_upgrade_sequence--submissionError--3aOok",successModalTitle:"upgrade_contact_sales_modal--successModalTitle--3bAHb upgrade_contact_sales_modal--modalTitle--28ZCA text--fontPos18--3M8-H text--_fontBase--YWDo0",successModalText:"upgrade_contact_sales_modal--successModalText--3aUU_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",successIcon:"upgrade_contact_sales_modal--successIcon--2i6XO"}}),
(function(e,r,s){e.exports={stripeCard:"stripe--stripeCard--1n88g",hasToken:"stripe--hasToken--3dPx0",stripeCardAndAddress:"stripe--stripeCardAndAddress--2c5jf",errorMessage:"stripe--errorMessage--2ybQK",group:"stripe--group--3HWZs",selectPlaceholder:"stripe--selectPlaceholder--2O8Bu",groupHalf:"stripe--groupHalf--2QJn0 stripe--group--3HWZs",groupQuarter:"stripe--groupQuarter--1JgxI stripe--group--3HWZs",groupedRow:"stripe--groupedRow--204KR",selectRowFull:"stripe--selectRowFull--_pnW5",selectRowQuarter:"stripe--selectRowQuarter--4YU_k stripe--selectRowFull--_pnW5",groupDisabled:"stripe--groupDisabled--26z0x stripe--group--3HWZs",smallGrayText:"stripe--smallGrayText--2O9Wh",menuSelector:"stripe--menuSelector--61507",hoverLabel:"stripe--hoverLabel--2f9lT"}}),
(function(n,o,e){n.exports={singleRowHeight:"raw_components--singleRowHeight--3PF2a",doubleRowHeight:"raw_components--doubleRowHeight--1jQtW",input:"raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",border:"raw_components--border--3I0I6",borderFocusWithin:"raw_components--borderFocusWithin--3IG2Z",iconInsideBorderFocusWithin:"raw_components--iconInsideBorderFocusWithin--Ry1th",rowSelectedSecondary:"raw_components--rowSelectedSecondary--N6MBn raw_components--rowSelected--1SC96",selectHiddenInput:"raw_components--selectHiddenInput--1Ss5k",iconButton:"raw_components--iconButton--1XZ77",borderFocus:"raw_components--borderFocus--tz1OP",multiValueInput:"raw_components--multiValueInput--1SaL7 raw_components--borderFocusWithin--3IG2Z",base:"raw_components--base--3TpZG",label:"raw_components--label--34YmO raw_components--base--3TpZG",labelInactive:"raw_components--labelInactive--2GwUQ raw_components--label--34YmO raw_components--base--3TpZG",textInput:"raw_components--textInput--23_ta raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",textAreaInput:"raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",noLeftBorder:"raw_components--noLeftBorder--22ykO",squareRightBorder:"raw_components--squareRightBorder--2-R1G",_iconButton:"raw_components--_iconButton--353Le",iconButtonEnabled:"raw_components--iconButtonEnabled--1oUUU raw_components--_iconButton--353Le",iconButtonDisabled:"raw_components--iconButtonDisabled--2yADb raw_components--_iconButton--353Le",iconButtonSelected:"raw_components--iconButtonSelected--2l7Qs raw_components--_iconButton--353Le",chitCenter:"raw_components--chitCenter--3mNyg",outlineButton:"raw_components--outlineButton--1TPi5",modalPanel:"raw_components--modalPanel--3UTJj",panel:"raw_components--panel--3IcXg",_row:"raw_components--_row--73H_w",singleRow:"raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",doubleRow:"raw_components--doubleRow--13dq7 raw_components--doubleRowHeight--1jQtW raw_components--_row--73H_w",labelRow:"raw_components--labelRow--3iB2d raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",rowSelected:"raw_components--rowSelected--1SC96",panelTitle:"raw_components--panelTitle--7MaOu",panelTitleExtended:"raw_components--panelTitleExtended--yLQuB raw_components--panelTitle--7MaOu",panelTitleWithTip:"raw_components--panelTitleWithTip--HuW_v raw_components--panelTitle--7MaOu",panelTitleWithTipText:"raw_components--panelTitleWithTipText--2GjkM",panelTitleWithTipIcon:"raw_components--panelTitleWithTipIcon--1mzL2",panelTitleFaded:"raw_components--panelTitleFaded--2DWvf raw_components--panelTitle--7MaOu",flushLeft:"raw_components--flushLeft--2dWma"}}),
(function(e,a,n){e.exports={expandingTextarea:"expanding_textarea--expandingTextarea--1OAyB"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),r=s(6,1        ),o=s(141              ),i=s(138      ),n=s(143                                      ),p=s(157                                                                            ),h=s(158                       );class l extends o.Component{constructor(){super(...arguments),this.ref=(e=>{e&&!this.textarea&&(this.textarea=r.findDOMNode(e),this.resizeTextareaToFitValue(this.textarea.value),this.props.selectOnMount&&(this.textarea.select(),this.textarea.setSelectionRange(this.textarea.value.length,this.textarea.value.length)))}),this.resizeTextareaToFitValue=(e=>{let t=this.textarea.cloneNode(!0);this.textarea.parentElement.appendChild(t),t.setAttribute("style","height: 0px"),t.value=e;const s=Math.max(t.scrollHeight,this.props.minHeight||0);this.textarea.setAttribute("style",`height: ${s}px`),t.remove()}),this.onKeyDown=o.keyboardEvent(this,"keydown",e=>{this.props.submit&&e.keyCode===i.Key.ENTER&&(e.ctrlKey||e.metaKey||e.altKey)&&(e.stopPropagation(),e.preventDefault(),this.textarea.blur()),this.props.onKeyDown&&this.props.onKeyDown(e),e.keyCode===i.Key.ESCAPE&&this.textarea.blur()}),this.onKeyUp=o.keyboardEvent(this,"keyup",e=>{if(!this.props.onKeyUp)return o.SKIP_RECORDING;this.props.onKeyUp(e)}),this.onBlur=o.focusEvent(this,"blur",e=>{this.props.submit&&this.props.submit(this.textarea.value),this.props.onBlur&&this.props.onBlur(e)})}componentDidUpdate(e){super.componentDidUpdate(e,{}),e.value!==this.props.value&&this.resizeTextareaToFitValue(this.props.value)}focus(){this.textarea&&this.textarea.focus()}render(){return a.createElement(n.LazyInput,{type:"textarea",ref:this.ref,className:`${h.expandingTextarea} ${p.textAreaInput} ${p.border} ${this.props.className||""}`,placeholder:this.props.placeholder,value:this.props.value,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onBlur:this.onBlur,onMouseDown:e=>{e.stopPropagation()},onChange:this.props.onChange,delay:this.props.delay,recordingKey:o.joinKeys(this.props,"input"),maxLength:this.props.maxLength})}}t.ExpandingTextarea=l,l.displayName="ExpandingTextarea"}),
(function(a,i,g){a.exports={figmaBlue:"#18A0FB",figmaPurple:"#7B61FF",figmaPink:"#FF00FF",figmaGreen:"#1BC47D",figmaRed:"#F24822",figmaYellow:"#FFEB00",figmaBrandWarmRed:"#F24E1E",figmaBrandCoral:"#FF8577",figmaBrandGoldenYellow:"#FFC700",figmaBrandGreen:"#0FA958",figmaBrandBlueTint:"#699BF7",figmaBrandBlue:"#5551FF",figmaBrandVioletTint:"#C7B9FF",figmaBrandViolet:"#A259FF",figmaBrandLightGrey:"#6A6A6A",figmaBrandDarkGrey:"#282828",figmaBrandSecondaryLightBlue:"#CFE2FF",figmaFGBlack:"rgba(0, 0, 0, 1)",figmaFGBlack4:"rgba(0, 0, 0, .4)",figmaFGBlack8:"rgba(0, 0, 0, .8)",figmaFGBlack3:"rgba(0, 0, 0, .3)",figmaFGBlack1:"rgba(0, 0, 0, .1)",figmaFGBlack06:"rgba(0, 0, 0, .06)",figmaFGWhite:"rgba(255, 255, 255, 1)",figmaFGWhite8:"rgba(255, 255, 255, .8)",figmaFGWhite4:"rgba(255, 255, 255, .4)",figmaFGWhite2:"rgba(255, 255, 255, .2)",figmaFGBlack54:"rgba(0, 0, 0 , 0.54)",figmaFGBlack8Opaque:"#333333",figmaFGBlack3Opaque:"#B3B3B3",figmaBGWhite:"#FFFFFF",figmaBGSilver:"#E5E5E5",figmaBGGreyOpaque:"#F0F0F0",figmaBGGrey:"rgba(0, 0, 0, 0.06)",figmaBGBlack:"#000000",figmaBGHUD:"#222222",figmaBGToolbar:"#2C2C2C",figmaBGRed8:"rgba(242, 72, 34, 0.08)",figmaBGRed3:"rgba(242, 72, 34, 0.03)",figmaSpecialBlue3:"color(#18A0FB alpha(30%))",figmaSpecialSelectionA:"#DAEBF7",figmaSpecialSelectionB:"#EDF5FA",figmaSpecialOutline:"rgba(0, 0, 0, 0.1)",figmaSpecialOutlineOpaque:"#E6E6E6",figmaSpecialScrollbar:"rgba(0, 0, 0, .15)",figmaBGPreviewGrey:"rgba(0, 0, 0, 0.03)",figmaProfileHeaderDropShadow:"rgba(0, 0, 0, 0.15)",figmaFGBlack6:"rgba(0, 0, 0, .6)",figmaFGBlack08:"rgba(0, 0, 0, .08)",figmaBlack__DEPRECATED:"#050505",figmaDarkGray__DEPRECATED:"#2c2c2c",figmaMediumGray__DEPRECATED:"#444",figmaMediumLightGray__DEPRECATED:"#888",figmaGray__DEPRECATED:"#aaa",figmaLightGray__DEPRECATED:"#d4d4d4",figmaLightLightGray__DEPRECATED:"#efefef",figmaLightestGray__DEPRECATED:"#f8f8f8",figmaWhite__DEPRECATED:"#fcfcfc",figmaLightBlue__DEPRECATED:"#c5e4f9",figmaLightLightBlue__DEPRECATED:"#f1f9ff",figmaDarkBlue__DEPRECATED:"#2288B3",figmaDarkestBlue__DEPRECATED:"#0d475f",figmaMediumPurple__DEPRECATED:"#bbb0f5",figmaOrange__DEPRECATED:"#ff6d30",white__DEPRECATED:"#ffffff"}}),
(function(n,o,a){n.exports={uiFontFamily:"'Inter', sans-serif",whyteFontFamily:"Whyte, sans-serif",whyteInktrapFontFamily:"WhyteInktrap, sans-serif",uiLabelFont__DEPRECATED:"normal 400 11px/16px 'Inter', sans-serif",uiLabelParagraphFont__DEPRECATED:"normal 400 11px/16px 'Inter', sans-serif",uiLabelLetterSpacing__DEPRECATED:"0.005em",uiLargeBodyFont__DEPRECATED:"normal 400 14px/24px 'Inter', sans-serif",uiLargeBodyLetterSpacing__DEPRECATED:"-0.006em",uiTitleFont__DEPRECATED:"normal 400 14px/24px 'Inter', sans-serif",uiSmallTitleFont__DEPRECATED:"normal 400 12px/16px 'Inter', sans-serif",uiLargeTitleFont__DEPRECATED:"normal 500 22px/32px 'Inter', sans-serif",uiHUDFont__DEPRECATED:"normal 400 14px/24px 'Inter', sans-serif",uiMonospaceFontFamily:"Roboto Mono, monospace",uiMonospaceFont:"normal 400 11px/16px Roboto Mono, monospace",keyboardShortcutFontFeatures:"'case' on, 'ss02' on, 'tnum' on, 'liga' on, 'calt' on",layerNameFontFeatures:"'ss02' on, 'liga' on, 'calt' on",dsaFontFeatures:"'tnum' on, 'liga' on, 'calt' on"}}),
(function(a,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.iso3166=[["Afghanistan","AF"],["Åland Islands","AX"],["Albania","AL"],["Algeria","DZ"],["American Samoa","AS"],["Andorra","AD"],["Angola","AO"],["Anguilla","AI"],["Antarctica","AQ"],["Antigua and Barbuda","AG"],["Argentina","AR"],["Armenia","AM"],["Aruba","AW"],["Australia","AU"],["Austria","AT"],["Azerbaijan","AZ"],["Bahamas","BS"],["Bahrain","BH"],["Bangladesh","BD"],["Barbados","BB"],["Belarus","BY"],["Belgium","BE"],["Belize","BZ"],["Benin","BJ"],["Bermuda","BM"],["Bhutan","BT"],["Bolivia (Plurinational State of)","BO"],["Bonaire, Sint Eustatius and Saba","BQ"],["Bosnia and Herzegovina","BA"],["Botswana","BW"],["Bouvet Island","BV"],["Brazil","BR"],["British Indian Ocean Territory","IO"],["Brunei Darussalam","BN"],["Bulgaria","BG"],["Burkina Faso","BF"],["Burundi","BI"],["Cabo Verde","CV"],["Cambodia","KH"],["Cameroon","CM"],["Canada","CA"],["Cayman Islands","KY"],["Central African Republic","CF"],["Chad","TD"],["Chile","CL"],["China","CN"],["Christmas Island","CX"],["Cocos (Keeling) Islands","CC"],["Colombia","CO"],["Comoros","KM"],["Congo","CG"],["Congo (Democratic Republic of the)","CD"],["Cook Islands","CK"],["Costa Rica","CR"],["Côte d'Ivoire","CI"],["Croatia","HR"],["Cuba","CU"],["Curaçao","CW"],["Cyprus","CY"],["Czechia","CZ"],["Denmark","DK"],["Djibouti","DJ"],["Dominica","DM"],["Dominican Republic","DO"],["Ecuador","EC"],["Egypt","EG"],["El Salvador","SV"],["Equatorial Guinea","GQ"],["Eritrea","ER"],["Estonia","EE"],["Eswatini","SZ"],["Ethiopia","ET"],["Falkland Islands (Malvinas)","FK"],["Faroe Islands","FO"],["Fiji","FJ"],["Finland","FI"],["France","FR"],["French Guiana","GF"],["French Polynesia","PF"],["French Southern Territories","TF"],["Gabon","GA"],["Gambia","GM"],["Georgia","GE"],["Germany","DE"],["Ghana","GH"],["Gibraltar","GI"],["Greece","GR"],["Greenland","GL"],["Grenada","GD"],["Guadeloupe","GP"],["Guam","GU"],["Guatemala","GT"],["Guernsey","GG"],["Guinea","GN"],["Guinea-Bissau","GW"],["Guyana","GY"],["Haiti","HT"],["Heard Island and McDonald Islands","HM"],["Holy See","VA"],["Honduras","HN"],["Hong Kong","HK"],["Hungary","HU"],["Iceland","IS"],["India","IN"],["Indonesia","ID"],["Iran (Islamic Republic of)","IR"],["Iraq","IQ"],["Ireland","IE"],["Isle of Man","IM"],["Israel","IL"],["Italy","IT"],["Jamaica","JM"],["Japan","JP"],["Jersey","JE"],["Jordan","JO"],["Kazakhstan","KZ"],["Kenya","KE"],["Kiribati","KI"],["Korea (Democratic People's Republic of)","KP"],["Korea (Republic of)","KR"],["Kuwait","KW"],["Kyrgyzstan","KG"],["Lao People's Democratic Republic","LA"],["Latvia","LV"],["Lebanon","LB"],["Lesotho","LS"],["Liberia","LR"],["Libya","LY"],["Liechtenstein","LI"],["Lithuania","LT"],["Luxembourg","LU"],["Macao","MO"],["Macedonia (the former Yugoslav Republic of)","MK"],["Madagascar","MG"],["Malawi","MW"],["Malaysia","MY"],["Maldives","MV"],["Mali","ML"],["Malta","MT"],["Marshall Islands","MH"],["Martinique","MQ"],["Mauritania","MR"],["Mauritius","MU"],["Mayotte","YT"],["Mexico","MX"],["Micronesia (Federated States of)","FM"],["Moldova (Republic of)","MD"],["Monaco","MC"],["Mongolia","MN"],["Montenegro","ME"],["Montserrat","MS"],["Morocco","MA"],["Mozambique","MZ"],["Myanmar","MM"],["Namibia","NA"],["Nauru","NR"],["Nepal","NP"],["Netherlands","NL"],["New Caledonia","NC"],["New Zealand","NZ"],["Nicaragua","NI"],["Niger","NE"],["Nigeria","NG"],["Niue","NU"],["Norfolk Island","NF"],["Northern Mariana Islands","MP"],["Norway","NO"],["Oman","OM"],["Pakistan","PK"],["Palau","PW"],["Palestine, State of","PS"],["Panama","PA"],["Papua New Guinea","PG"],["Paraguay","PY"],["Peru","PE"],["Philippines","PH"],["Pitcairn","PN"],["Poland","PL"],["Portugal","PT"],["Puerto Rico","PR"],["Qatar","QA"],["Réunion","RE"],["Romania","RO"],["Russian Federation","RU"],["Rwanda","RW"],["Saint Barthélemy","BL"],["Saint Helena, Ascension and Tristan da Cunha","SH"],["Saint Kitts and Nevis","KN"],["Saint Lucia","LC"],["Saint Martin (French part)","MF"],["Saint Pierre and Miquelon","PM"],["Saint Vincent and the Grenadines","VC"],["Samoa","WS"],["San Marino","SM"],["Sao Tome and Principe","ST"],["Saudi Arabia","SA"],["Senegal","SN"],["Serbia","RS"],["Seychelles","SC"],["Sierra Leone","SL"],["Singapore","SG"],["Sint Maarten (Dutch part)","SX"],["Slovakia","SK"],["Slovenia","SI"],["Solomon Islands","SB"],["Somalia","SO"],["South Africa","ZA"],["South Georgia and the South Sandwich Islands","GS"],["South Sudan","SS"],["Spain","ES"],["Sri Lanka","LK"],["Sudan","SD"],["Suriname","SR"],["Svalbard and Jan Mayen","SJ"],["Sweden","SE"],["Switzerland","CH"],["Syrian Arab Republic","SY"],["Taiwan","TW"],["Tajikistan","TJ"],["Tanzania, United Republic of","TZ"],["Thailand","TH"],["Timor-Leste","TL"],["Togo","TG"],["Tokelau","TK"],["Tonga","TO"],["Trinidad and Tobago","TT"],["Tunisia","TN"],["Turkey","TR"],["Turkmenistan","TM"],["Turks and Caicos Islands","TC"],["Tuvalu","TV"],["Uganda","UG"],["Ukraine","UA"],["United Arab Emirates","AE"],["United Kingdom of Great Britain and Northern Ireland","GB"],["United States of America","US"],["United States Minor Outlying Islands","UM"],["Uruguay","UY"],["Uzbekistan","UZ"],["Vanuatu","VU"],["Venezuela (Bolivarian Republic of)","VE"],["Viet Nam","VN"],["Virgin Islands (British)","VG"],["Virgin Islands (U.S.)","VI"],["Wallis and Futuna","WF"],["Western Sahara","EH"],["Yemen","YE"],["Zambia","ZM"],["Zimbabwe","ZW"]],i.iso3166_forbidden=["AX","CU","GG","GS","HM","IO","IR","KP","LB","LY","SD","SO","SY","TF","UM"],i.iso3166_2_US=[["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"],["District of Columbia","DC"],["American Samoa","AS"],["Guam","GU"],["Northern Mariana Islands","MP"],["Puerto Rico","PR"],["United States Minor Outlying Islands","UM"],["Virgin Islands, U.S.","VI"]]}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=i(102              ),n=i(85                   ),o=n.initialOptions().stripe_api_public;let r=null;const a=()=>new Promise((e,t)=>{r?e(r):o?c.loadScript("https://js.stripe.com/v3/",{cors:!1}).then(()=>{r=Stripe(o),e(r)}).catch(t):t("No Stripe api key")});t.createCard=(e=>new Promise((t,i)=>{a().then(i=>{const c=i.elements().create("card",e);t(c)}).catch(i)})),t.createToken=((e,t)=>new Promise((i,c)=>{a().then(n=>{n.createToken(e,t).then(e=>{i(e)}).catch(c)}).catch(c)}))}),
(function(l,o,t){l.exports={src:'<svg width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg"><path d="M.646 3.354l.708-.708L4 5.293l2.646-2.647.708.708L4 6.707.646 3.354z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),n=s(160                                  ),o=s(161                                      ),l=s(162                ),r=s(163                   ),i=s(111          ),p=s(137                                    ),d=s(143                                      ),m=s(146                        ),h=s(164                                ),c=s(156           ),u=p.asTrackedInput(e=>a.createElement("select",Object.assign({},e),e.children));class g extends a.PureComponent{constructor(){super(...arguments),this.card=null,this.countryOptions=null,this.stateOptions=null,this.statePlaceholderValue="State",this.onChangeAddressForm=(e=>{const t=e.target.name;let s=e.target.value;if(!t)return e.preventDefault(),void console.error("HTMLInputElement is missing name attribute:",e.target);"region"===t&&s===this.statePlaceholderValue&&(s=""),this.props.onAddressChange(Object.assign(Object.assign({},this.props.address),{[t]:s}))})}componentDidMount(){const e={base:{color:n.figmaMediumGray__DEPRECATED,fontFamily:o.uiFontFamily,fontSize:14,"::placeholder":{color:n.figmaLightGray__DEPRECATED}},invalid:{color:n.figmaRed}};r.createCard({style:e,hidePostalCode:!0}).then(e=>{this.card=e,e.mount(`#${this.props.cardId}`),e.on("ready",()=>{this.props.onCardReady(e)})}).catch(e=>null)}componentWillUnmount(){this.card&&this.card.unmount()}render(){if(null===this.countryOptions){this.countryOptions=[];for(let e of l.iso3166)"US"!==e[1]&&-1===l.iso3166_forbidden.indexOf(e[1])&&this.countryOptions.push(a.createElement("option",{key:e[1],value:e[1]},e[0]))}if(null===this.stateOptions){this.stateOptions=[];for(let e of l.iso3166_2_US)"US"!==e[1]&&this.stateOptions.push(a.createElement("option",{key:e[1],value:e[1]},e[0]))}return a.createElement("div",{id:this.props.id,className:c.stripeCardAndAddress},a.createElement("div",{id:this.props.cardId,className:c.stripeCard,style:{display:this.props.token?"none":"block"}}),this.props.token&&a.createElement("div",{className:c.stripeCard},a.createElement("span",null,this.props.token.card.brand," ending in ",this.props.token.card.last4,this.props.onClearToken&&a.createElement(a.Fragment,null," ",a.createElement("span",{className:c.smallGrayText},"(",a.createElement("a",{onClick:this.props.onClearToken},"change"),")")))),a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n          .StripeElement--focus {\n            box-shadow: 0 0 0 1px #18A0FB;\n            border: 1px solid #18A0FB;\n          }\n        "}}),a.createElement(C,{value:this.props.address.line1,htmlName:"line1",label:"Street Address",onChange:this.onChangeAddressForm,autoCompleteName:"shipping address-line1",trackingFieldName:"Address Line 1"}),a.createElement(C,{value:this.props.address.line2,htmlName:"line2",label:"Apt, Unit, Suite, etc. (optional)",onChange:this.onChangeAddressForm,autoCompleteName:"shipping address-line2",trackingFieldName:"Address Line 2"}),a.createElement("div",{className:c.group},a.createElement("div",{className:c.selectRowFull},a.createElement(u,{name:"country",value:this.props.address.country,autoComplete:"shipping country",onChange:this.onChangeAddressForm,trackingFieldName:"Country",trackingPopulationLevel:this.props.address.country?i.InputPopulationLevel.POPULATED_COMPLETE:i.InputPopulationLevel.NOT_POPULATED},a.createElement("option",{value:"US"},"United States"),this.countryOptions),a.createElement(m.Svg,{className:c.menuSelector,svg:h}))),"US"===this.props.address.country&&a.createElement("div",{className:c.groupedRow},a.createElement(C,{className:c.groupHalf,value:this.props.address.city,htmlName:"city",label:"City",onChange:this.onChangeAddressForm,autoCompleteName:"shipping address-level2",trackingFieldName:"US City"}),a.createElement("div",{className:c.groupQuarter},a.createElement("div",{className:c.selectRowQuarter},a.createElement(u,{className:""===this.props.address.region?c.selectPlaceholder:void 0,name:"region",value:this.props.address.region,autoComplete:"shipping address-level1",onChange:this.onChangeAddressForm,trackingFieldName:"US State",trackingPopulationLevel:this.props.address.region?i.InputPopulationLevel.POPULATED_COMPLETE:i.InputPopulationLevel.NOT_POPULATED},a.createElement("option",null,this.statePlaceholderValue),this.stateOptions),a.createElement(m.Svg,{className:c.menuSelector,svg:h}))),a.createElement(C,{className:c.groupQuarter,value:this.props.address.postal_code,htmlName:"postal_code",label:"Zip Code",onChange:this.onChangeAddressForm,autoCompleteName:"shipping postal-code",trackingFieldName:"US Postal Code",maxLength:5})),"US"!==this.props.address.country&&a.createElement(a.Fragment,null,a.createElement(C,{value:this.props.address.city,htmlName:"city",label:"City / Town / Village",onChange:this.onChangeAddressForm,autoCompleteName:"shipping address-level2",trackingFieldName:"Intl City",maxLength:50}),a.createElement("div",{className:c.groupedRow},a.createElement(C,{className:c.groupHalf,value:this.props.address.region,htmlName:"region",label:"Province / Region",onChange:this.onChangeAddressForm,autoCompleteName:"shipping address-level1",trackingFieldName:"Intl Region",maxLength:50}),a.createElement(C,{className:c.groupHalf,value:this.props.address.postal_code,htmlName:"postal_code",label:"Postal Code",onChange:this.onChangeAddressForm,autoCompleteName:"shipping postal-code",trackingFieldName:"Intl City",maxLength:11}))))}}t.StripeCardAndAddress=g,g.displayName="StripeCardAndAddress";class C extends a.Component{render(){return a.createElement("div",{className:this.props.className||(this.props.disabled?c.groupDisabled:c.group)},this.props.value&&a.createElement("label",{htmlFor:this.props.htmlName,className:c.hoverLabel},this.props.label),this.props.trackingFieldName&&a.createElement(d.LazyInputTracked,{id:this.props.htmlName,name:this.props.htmlName,value:this.props.value,disabled:this.props.disabled,placeholder:this.props.placeholder||this.props.label,autoComplete:this.props.autoCompleteName,type:"text",maxLength:this.props.maxLength||50,onChange:this.props.onChange,trackingFieldName:this.props.trackingFieldName,trackingPopulationLevel:this.props.value?i.InputPopulationLevel.POPULATED_COMPLETE:i.InputPopulationLevel.NOT_POPULATED}),!this.props.trackingFieldName&&a.createElement(d.LazyInput,{id:this.props.htmlName,name:this.props.htmlName,value:this.props.value,disabled:this.props.disabled,placeholder:this.props.placeholder||this.props.label,autoComplete:this.props.autoCompleteName,type:"text",maxLength:this.props.maxLength||50,onChange:this.props.onChange}))}}t.LabeledTextInput=C}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8c0 3.866-3.134 7-7 7-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7zm1 0c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8zM5.307 7.693L4.6 8.4l2.475 2.475 4.596-4.596-.707-.707-3.89 3.889-1.767-1.768z" fill-rule="evenodd" fill-opacity="1" fill="#1bc47d" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),r=a(154                                 ),l=a(147                                            ),n=a(137                                    ),i=a(108     ),o=a(155                                ),c=a(156                                         ),m=a(159                                 ),p=a(113                                     ),d=a(43,1         ),u=a(152                                          ),h=a(165                                     ),g=a(146                        ),E=a(133        ),v=a(86            ),_=a(136                                 ),S=a(114                              ),f=436,y="This field is required",M=a(164                                ),x=a(166                                      ),N=s.createElement(s.Fragment,null,s.createElement("option",{value:"",disabled:!0},"Company size"),s.createElement("option",{value:"1-10"},"1-10"),s.createElement("option",{value:"11-50"},"11-50"),s.createElement("option",{value:"51-250"},"51-250"),s.createElement("option",{value:"251-1K"},"251-1K"),s.createElement("option",{value:"1K-5K"},"1K-5K"),s.createElement("option",{value:"5K-10K"},"5K-10K"),s.createElement("option",{value:"10K-50K"},"10K-50K"),s.createElement("option",{value:"50K-100K"},"50K-100K"),s.createElement("option",{value:"100K+"},"100K+"));class C extends s.Component{render(){return s.createElement(n.TrackingContext,{name:"Upgrade Contact Sales Success Modal"},s.createElement(r.ModalView,{hide:this.props.hideModal,size:f},s.createElement("div",{className:o.successModalTitle},s.createElement(g.Svg,{className:o.successIcon,svg:x,useOriginalSrcFills:!0}),"Thank you"),s.createElement("div",{className:o.successModalText},"A member of our Sales team will reach out shortly."),s.createElement(u.CloseButton,{className:o.closeButton,onClick:this.props.hideModal,innerText:"close"})))}}C.displayName="ContactSalesSuccessModal";const b=_.registerModal(C,"ContactSalesSuccessModal");class K extends s.Component{constructor(e){var t,a;super(e),this.hideModal=(()=>{this.props.dispatch(p.fileBrowser.hideModal())}),this.onSuccess=(()=>{this.props.dispatch(S.showModal({type:b,data:{hideModal:()=>this.hideModal()}}))}),this.submitForm=v.debounce(()=>{let e={};this.state.email?E.isEmail(this.state.email)||(e.email="Please provide a valid email address"):e.email=y,this.state.name||(e.name=y),this.state.companyName||(e.companyName=y),this.state.companySize||(e.companySize=y),this.setState({formErrors:e}),0===Object.keys(e).length&&i.default.post("/api/form_post/org-lead-gen",{email:this.state.email,name:this.state.name,company_name:this.state.companyName,company_size:this.state.companySize,message:this.state.freeText,form_location:"universal_upgrade"}).then(()=>{this.setState({result:"success"}),this.onSuccess()}).catch(()=>this.setState({result:"error"}))}),this.state={email:(null===(t=this.props.user)||void 0===t?void 0:t.email)||"",name:(null===(a=this.props.user)||void 0===a?void 0:a.handle)||"",freeText:"",result:void 0,companyName:void 0,companySize:void 0,formErrors:{}}}checkError(e){return this.state.formErrors[e]?o.error:void 0}errorMessage(e){const t=this.state.formErrors[e];if(t)return s.createElement("div",{className:o.errorMessage},t)}textInput(e,t,a=!1){return s.createElement(s.Fragment,null,s.createElement(h.LabeledTextInput,{htmlName:t,label:e,value:this.state[t]||"",onChange:e=>{const a={[t]:e.target.value};this.setState(a)},disabled:a,className:this.checkError(t)}),this.errorMessage(t))}selectInput(e,t,a){const r=this.checkError(t)||c.group;return s.createElement(s.Fragment,null,s.createElement("div",{className:r},s.createElement("div",{className:o.select},s.createElement("select",{name:t,placeholder:e,defaultValue:"",onChange:e=>{const a={[t]:e.target.value};this.setState(a)},required:!0},a),s.createElement(g.Svg,{className:c.menuSelector,svg:M}))),this.errorMessage(t))}render(){return s.createElement(n.TrackingContext,{name:"Upgrade Contact Sales Modal"},s.createElement(r.ModalView,{className:o.contactSalesModal,hide:this.hideModal,size:f},s.createElement(u.CloseButton,{className:o.closeButton,onClick:this.hideModal,innerText:"close"}),s.createElement("div",{className:o.modalTitle},"Contact Sales"),"error"===this.state.result&&s.createElement(s.Fragment,null,s.createElement(l.Spacing,{multiple:2.5}),s.createElement("div",{className:o.submissionError},"There was an error processing your information. Please try again."),s.createElement(l.Spacing,{multiple:.5})),s.createElement("div",{className:o.companyDetails},this.textInput("Email address","email"),this.textInput("Full name","name"),this.textInput("Company name","companyName"),this.selectInput("Company size","companySize",N)),s.createElement("p",null,"How can we help? (optional)"),s.createElement(l.Spacing,{multiple:2}),s.createElement(m.ExpandingTextarea,{className:o.freeTextInput,value:this.state.freeText,onChange:e=>this.setState({freeText:e.target.value}),placeholder:"e.g. I'm looking to set up a demo of Figma",maxLength:500}),s.createElement(l.Spacing,{multiple:1.5}),s.createElement(l.BigButtonPrimaryTracked,{className:o.submitButton,onClick:()=>{this.setState({result:void 0},this.submitForm)}},"Submit")))}}K.displayName="UpgradeContactSalesModal";const T=d.connect(e=>({user:e.user}))(K);t.UPGRADE_CONTACT_SALES_MODAL=_.registerModal(T,"UpgradeContactSalesModal")}),
(function(a,e,o){a.exports={modal:"upgrade_choose_plan_modal--modal--3muw-",planModalHeader:"upgrade_choose_plan_modal--planModalHeader--32at9",planModalTitle:"upgrade_choose_plan_modal--planModalTitle--3jfcs text--fontPos30--QE9Vm text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",planModalIcon:"upgrade_choose_plan_modal--planModalIcon--1vVqN",closeButton:"upgrade_choose_plan_modal--closeButton--k_Sf3",planModalHeaderDivider:"upgrade_choose_plan_modal--planModalHeaderDivider--vNm7B",plans:"upgrade_choose_plan_modal--plans--mGK5s",planDivider:"upgrade_choose_plan_modal--planDivider--xEYKt",dividerSmall:"upgrade_choose_plan_modal--dividerSmall--3YQrg",priceInformation:"upgrade_choose_plan_modal--priceInformation--2yFNc",priceFigure:"upgrade_choose_plan_modal--priceFigure--u4u9a text--fontPos30--QE9Vm text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",perMonth:"upgrade_choose_plan_modal--perMonth--1vWxt text--fontPos14--3UJ36 text--_fontBase--YWDo0",subtitle:"upgrade_choose_plan_modal--subtitle--352DN",teamPlan:"upgrade_choose_plan_modal--teamPlan--DHgjj",itemList:"upgrade_choose_plan_modal--itemList--26CPu",planItem:"upgrade_choose_plan_modal--planItem--15zD0",checkIcon:"upgrade_choose_plan_modal--checkIcon--3qlVX",spaceFiller:"upgrade_choose_plan_modal--spaceFiller--1e_vY",teamPlanSubtitle:"upgrade_choose_plan_modal--teamPlanSubtitle--16QIZ",planSelectButton:"upgrade_choose_plan_modal--planSelectButton--1NMdP"}}),
(function(l,t,e){l.exports={src:'<svg width="8" height="7" viewBox="0 0 8 7" xmlns="http://www.w3.org/2000/svg"><path d="M1.176 1.882L3.06 3.765 6.824 0 8 1.176 3.059 6.118 0 3.058l1.176-1.176z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(2,1    ),l=t(43,1         ),n=t(113                                     ),r=t(114                              ),o=t(136                                 ),i=t(137                                    ),c=t(154                                 ),m=t(147                                            ),p=t(146                        ),d=t(152                                          ),u=t(167                                                                         ),h=t(168                                                                           ),g=t(169                                    ),E="https://static.figma.com/uploads/6c108dce11fd2f53d761cfa0c9c1f668629bfc89",v=512,_=e=>s.createElement("div",{className:h.planItem},s.createElement(p.Svg,{svg:g,className:h.checkIcon}),s.createElement("p",null,e.text));var f;!function(e){e[e.PRO=0]="PRO",e[e.ORG=1]="ORG"}(f||(f={}));class P extends s.Component{render(){return s.createElement("div",{className:h.teamPlan},s.createElement("h1",null,this.props.name),s.createElement("div",{className:h.priceInformation},s.createElement("span",{className:h.priceFigure},this.props.price),s.createElement("span",{className:h.perMonth},"/mo."),s.createElement("div",{className:h.subtitle},this.props.subtitle)),s.createElement(m.ButtonPrimaryTracked,{onClick:this.props.onChoose,className:h.planSelectButton},this.props.chooseText),s.createElement("div",{className:h.itemList},this.props.plan===f.ORG&&s.createElement(s.Fragment,null,s.createElement("div",{className:h.subtitle},"or ",s.createElement(m.LinkInlineTracked,{onClick:this.props.onContactSales},"Contact Sales")," (best for 9+ seats)"),s.createElement(m.Spacing,{multiple:2}),s.createElement("div",{className:h.dividerSmall}),s.createElement(m.Spacing,{multiple:1.5}),s.createElement("p",null,"Everything in Professional, plus...")),this.props.plan===f.PRO&&this.props.hasEducationPlan&&s.createElement(s.Fragment,null,s.createElement("div",{className:h.subtitle},"Free for students and educators"),s.createElement(m.Spacing,{multiple:2}),s.createElement("div",{className:h.dividerSmall}),s.createElement(m.Spacing,{multiple:1.5})),this.props.features.map((e,a)=>s.createElement("div",{key:a},s.createElement(_,{text:e})))),s.createElement("div",{className:h.spaceFiller}))}}P.displayName="Plan";const C=l.connect(e=>{var a;return{hasEducationPlan:!!(null===(a=e.user)||void 0===a?void 0:a.student_validated_at)}})(P);class N extends s.Component{render(){return s.createElement(i.TrackingContext,{name:"Upgrade Choose Plan Modal"},s.createElement(c.ModalView,{className:h.modal,hide:this.props.hideModal,size:v},s.createElement("div",{className:h.planModalHeader},s.createElement("div",{className:h.planModalTitle},"Choose a plan"),s.createElement("img",{className:h.planModalIcon,src:E}),s.createElement(d.CloseButton,{className:h.closeButton,onClick:this.props.hideModal,innerText:"close"})),s.createElement("div",{className:h.planModalHeaderDivider}),s.createElement("div",{className:h.plans},s.createElement(C,{name:"Professional",plan:f.PRO,price:"$12",subtitle:"per Editor when billed annually",features:["Unlimited Projects","Unlimited Version History","Custom File/User Permissions","Invite-only Private Projects","Sharable Team Libraries"],onChoose:this.props.chooseProPlan,chooseText:"Choose Professional"}),s.createElement("div",{className:h.planDivider}),s.createElement(C,{name:"Organization",plan:f.ORG,price:"$45",subtitle:"per Editor, annual billing only",features:["Org-wide Design Systems","Centralized Teams","Private Plugins","Plugin Administration","Shared Fonts","SSO + Advanced Security","Design System Analytics"],onChoose:this.props.chooseOrgPlan,chooseText:"Choose Organization",onContactSales:this.props.contactSales}))))}}N.displayName="UpgradeChoosePlanModal";a.UpgradeChoosePlanModal=l.connect(null,e=>({chooseOrgPlan:()=>{e(n.fileBrowser.hideModal()),e(n.fileBrowser.selectView({view:"orgSelfServe"}))},contactSales:()=>{e(r.showModal({type:u.UPGRADE_CONTACT_SALES_MODAL}))}}))(N),a.UPGRADE_CHOOSE_PLAN_MODAL=o.registerModal(a.UpgradeChoosePlanModal,"UpgradeChoosePlanModal")}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=e(91                  ),r=e(100               ),_=e(114              ),i=e(135                     ),n=e(170                                                                       ),T=e(113                                     );!function(t){t.startProUpgradeFlow=o.actionCreator("PAYMENT_START_UPGRADE_FLOW"),t.confirmStudentTeamFlow=o.actionCreator("CONFIRM_STUDENT_TEAM_FLOW"),t.init=o.actionCreator("PAYMENT_INIT"),t.setBillingPeriod=o.actionCreator("PAYMENT_SET_BILLING_PERIOD"),t.setNumEditors=o.actionCreator("PAYMENT_SET_NUM_EDITORS"),t.setSubmitPending=o.actionCreator("PAYMENT_SET_SUBMIT_PENDING"),t.submitPaymentAndAddress=o.actionCreator("PAYMENT_SUBMIT_PAYMENT_AND_ADDRESS"),t.submitConfirmAndPay=o.actionCreator("PAYMENT_SUBMIT_PAYMENT_CONFIRMATION"),t.submitConfirmAddAnnual=o.actionCreator("PAYMENT_SUBMIT_ADD_ANNUAL_CONFIRMATION"),t.showError=o.actionCreator("PAYMENT_SHOW_ERROR"),t.downgrade=o.actionCreator("PAYMENT_DOWNGRADE"),t.makeStudentTeam=o.actionCreator("PAYMENT_MAKE_STUDENT_TEAM"),t.putAnnualQuantity=o.actionCreator("PAYMENT_PUT_ANNUAL_QUANTITY"),t.setSubmitPutAnnualQuantityPending=o.actionCreator("PAYMENT_SET_SUBMIT_PUT_ANNUAL_QUANTITY_PENDING"),t.setPromo=o.actionCreator("PAYMENT_SET_PROMO"),t.setTaxes=o.actionCreator("PAYMENT_SET_TAXES"),t.setToken=o.actionCreator("PAYMENT_SET_TOKEN"),t.upgradeToEligiblePlans=r.asyncActionCreator("PAYMENT_UPGRADE_TO_ELIGIBLE_PLANS",(a,{teamId:e})=>{const o=a.getState(),r=()=>{a.dispatch(t.startProUpgradeFlow({teamId:e,selectedView:{view:"team",teamId:e}}))};i.isMemberOfDomainCaptureOrg(o)?r():a.dispatch(_.showModal({type:n.UPGRADE_CHOOSE_PLAN_MODAL,data:{chooseProPlan:()=>{a.dispatch(T.fileBrowser.hideModal()),r()},hideModal:()=>a.dispatch(T.fileBrowser.hideModal())}}))})}(a.payment||(a.payment={}))}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=l(91                  );!function(e){
// enqueue: add to end, e.g. [a,b] -> enqueue(c) -> [a,b,c]
e.enqueue=o.actionCreator("VISUAL_BELL_ENQUEUE"),e.dequeue=o.actionCreator("VISUAL_BELL_DEQUEUE"),e.clearAll=o.actionCreator("VISUAL_BELL_CLEAR_ALL")}(t.visualBell||(t.visualBell={}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const E=a(91                  );!function(e){e.put=E.actionCreator("COMPONENT_UPDATE"),e.del=E.actionCreator("COMPONENT_DELETE"),e.deleteComponentsForFile=E.actionCreator("COMPONENT_DELETE_FOR_FILE"),e.initialize=E.actionCreator("COMPONENT_INITIALIZE"),e.setLibraryView=E.actionCreator("COMPONENT_SET_LIBRARY_VIEW"),e.setLibraryQuery=E.actionCreator("COMPONENT_SET_LIBRARY_QUERY"),e.setPublishedLibraries=E.actionCreator("COMPONENT_SET_PUBLISHED_LIBRARIES"),e.setPublishedSearchResults=E.actionCreator("COMPONENT_SET_LIBRARY_SEARCH_RESULTS"),e.setLocalQuery=E.actionCreator("COMPONENT_SET_LOCAL_QUERY"),e.setLocalSearchResults=E.actionCreator("COMPONENT_SET_LOCAL_SEARCH_RESULTS"),e.setLocalSearchShowMoreResults=E.actionCreator("COMPONENT_SET_LOCAL_SEARCH_SHOW_MORE_RESULTS"),e.setSelectedNodeId=E.actionCreator("COMPONENT_SET_SELECTED_NODE_ID"),e.clearLocal=E.actionCreator("COMPONENT_CLEAR_LOCAL"),e.replaceLocalItems=E.actionCreator("COMPONENT_REPLACE_LOCAL"),e.applySharedStyleToSelection=E.actionCreator("COMPONENT_APPLY_STYLE"),e.updateSymbols=E.actionCreator("COMPONENT_UPDATE_SYMBOLS"),e.replaceUpdates=E.actionCreator("COMPONENT_INITIALIZE_UPDATES"),e.setSparseDragState=E.actionCreator("COMPONENT_SET_DRAG_STATE"),e.updateComponentsForTeam=E.actionCreator("COMPONENT_UPDATE_COMPONENTS_FOR_TEAM"),e.setIsRenamingSelectedStyle=E.actionCreator("SET_IS_RENAMING_SELECTED_STYLE"),e.expandStylePanel=E.actionCreator("EXPAND_STYLE_PANEL"),e.collapseStylePanel=E.actionCreator("COLLAPSE_STYLE_PANEL"),e.getLibraryState=E.actionCreator("COMPONENT_GET_LIBRARY_STATE")}(t.library||(t.library={}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(91                  );!function(e){e.enqueue=i.actionCreator("NOTIFICATION_ENQUEUE"),e.dequeue=i.actionCreator("NOTIFICATION_DEQUEUE"),e.clearAll=i.actionCreator("NOTIFICATIONS_CLEAR_ALL")}(t.notifications||(t.notifications={}))}),
(function(_,L,O){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.PUBLISH_COMPONENTS_MODAL="publish-components-modal",L.IMPORT_PLUGIN_MODAL="import-plugin-modal",L.FONT_INSTALLER_MODAL="fullscreen-font-installer-modal",L.ATTEMPTED_SKETCH_FILE_DROP_MODAL="fullscreen-attempted-sketch-file-drop-modal",L.RESTORE_COMPONENT_MODAL="fullscreen-restore-component-modal",L.DROPDOWN_TYPE_PAGE_PICKER="DROPDOWN_TYPE_PAGE_PICKER",L.ORG_DASHBOARD_MODAL="ORG_DASHBOARD_MODAL",L.SETUP_PHONE_MODAL="SETUP_PHONE_MODAL",L.DISABLE_TWO_FACTOR_MODAL="DISABLE_TWO_FACTOR_MODAL",L.TWO_FACTOR_RECOVERY_MODAL="TWO_FACTOR_RECOVERY_MODAL",L.EMAIL_ACTIVITY_MODAL="EMAIL_ACTIVITY_MODAL",L.LIBRARY_PREFERENCES_MODAL="LIBRARY_PREFERENCES_MODAL",L.SHARED_FONTS_MODAL="SHARED_FONTS_MODAL",L.PLUGIN_PUBLISH_MODAL="PLUGIN_PUBLISH_MODAL",L.PLUGIN_INSTALL_MODAL="PLUGIN_INSTALL_MODAL",L.PLUGIN_UNINSTALL_MODAL="PLUGIN_UNINSTALL_MODAL",L.HUB_FILE_PUBLISH_MODAL="HUB_FILE_PUBLISH_MODAL"}),
(function(t,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NO_TEAM_ID="NO_TEAM",function(t){t.THIRTY_DAYS="30 Days",t.SIXTY_DAYS="60 Days",t.NINETY_DAYS="90 Days",t.YEAR="Year"}(e.SubscriptionFileViewDuration||(e.SubscriptionFileViewDuration={})),e.DEFAULT_LIBRARIES={totalLibraries:0,totalComponents:0,totalStateGroups:0,totalStyles:0,teamsWithLibraries:0,files:[]},function(t){t.LOCAL="LOCAL",t.LIBRARY="LIBRARY",t.DANGLING="DANGLING"}(e.StyleKind||(e.StyleKind={})),function(t){t[t.COMPONENT=0]="COMPONENT",t[t.STYLE=1]="STYLE",t[t.STATE_GROUP=2]="STATE_GROUP"}(e.LibraryItemType||(e.LibraryItemType={})),function(t){t[t.NEW=0]="NEW",t[t.CURRENT=1]="CURRENT",t[t.CHANGED=2]="CHANGED",t[t.DELETED=3]="DELETED",t[t.NOT_STAGED=4]="NOT_STAGED",t[t.CAN_UPGRADE=5]="CAN_UPGRADE"}(e.LibraryStatus||(e.LibraryStatus={})),function(t){t[t.NONE=0]="NONE",t[t.ASSEMBLING_COMPONENTS=1]="ASSEMBLING_COMPONENTS",t[t.UPLOADING=2]="UPLOADING"}(e.PublishProgressState||(e.PublishProgressState={})),function(t){t[t.LIBRARIES=0]="LIBRARIES",t[t.FONTS=1]="FONTS",t[t.UPDATES=2]="UPDATES"}(e.LibraryPreferencesModalTab||(e.LibraryPreferencesModalTab={}))}),
(function(E,O,N){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),function(E){E[E.COMPONENT_UPDATES_AVAILABLE=0]="COMPONENT_UPDATES_AVAILABLE",E[E.COMPONENT_PUBLISH_ERROR=1]="COMPONENT_PUBLISH_ERROR",E[E.PUBLISHED_COMPONENT_DELETED=2]="PUBLISHED_COMPONENT_DELETED",E[E.PUBLISHED_COMPONENT_UPDATED=3]="PUBLISHED_COMPONENT_UPDATED",E[E.DOWNTIME=4]="DOWNTIME",E[E.AUTOSAVE_CHANGES_RESTORED=5]="AUTOSAVE_CHANGES_RESTORED"}(O.NotificationType||(O.NotificationType={}))}),
(function(i,o,n){i.exports={notification:"notification--notification--2sYeW text--_whiteText--2PkdM _overlayBase--_overlayBase--1sCqN",popup:"notification--popup--2M3fp",notificationHelpIconHidden:"notification--notificationHelpIconHidden--D8LlE notification--notification--2sYeW text--_whiteText--2PkdM _overlayBase--_overlayBase--1sCqN",icon:"notification--icon--33vxL",iconError:"notification--iconError--2_TmP notification--icon--33vxL",message:"notification--message--2xD2z",actions:"notification--actions--3CJGK",action:"notification--action--oSpV4"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNever=function(e){throw new Error(`Uncaught type ${JSON.stringify(e)}`)}}),
(function(l,c,h){l.exports={src:'<svg width="18" height="13" viewBox="0 0 18 13" xmlns="http://www.w3.org/2000/svg"><path d="M8.373 13h1.258c.28-.32.616-.597.995-.819 1.479-.862 4.005-.909 5.386.109H17.5v-9.2c0 0-.797-2.25-4.42-2.25-1.875 0-2.902.602-3.456 1.184-.389.407-.545.803-.6.976h-.049c-.054-.173-.21-.57-.599-.976C7.822 1.442 6.795.84 4.92.84 1.297.84.5 3.09.5 3.09v9.19h1.488c1.382-1.019 3.91-.97 5.388-.105.38.223.717.502.997.825zM9.5 3.289v8.457c.195-.158.403-.3.622-.428.927-.541 2.115-.796 3.241-.787 1.006.008 2.081.227 2.952.759h.185V3.317l-.03-.05c-.086-.138-.236-.339-.474-.545-.461-.397-1.33-.882-2.916-.882-1.586 0-2.34.484-2.694.835-.189.186-.296.367-.353.49-.03.061-.046.107-.053.131l-.005.017.001-.006.002-.008v-.005l.001-.002V3.29l-.005-.001H9.5zm-1 0h-.474l-.006.001v.002l.001.002.001.005.002.008.001.006c0 .001 0-.005-.005-.017-.007-.024-.024-.07-.053-.131-.057-.123-.164-.304-.353-.49-.354-.351-1.108-.835-2.694-.835-1.585 0-2.455.485-2.916.882-.238.206-.388.407-.474.545l-.03.05v7.963h.185c.872-.532 1.948-.752 2.954-.759 1.128-.008 2.316.249 3.243.792.217.127.424.27.618.426V3.29z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 15c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm8-7c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8z" fill-rule="evenodd" fill-opacity="1" fill="#ff6d30" stroke="none"/><path d="M8.688 9.571H7.306l-.195-5.808h1.773L8.688 9.57zm-.69.91c.28 0 .504.082.673.247.172.165.259.377.259.634 0 .253-.087.462-.26.627-.168.165-.393.248-.673.248-.276 0-.5-.083-.673-.248-.17-.165-.254-.374-.254-.627 0-.254.085-.463.254-.628.172-.169.397-.253.673-.253z" fill-rule="nonzero" fill-opacity="1" fill="#ff6d30" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 3.75c.414 0 .75.336.75.75v3.126c0 .414-.336.75-.75.75-.414 0-.75-.336-.75-.75V4.5c0-.414.336-.75.75-.75zM9 11c0-.552-.448-1-1-1-.552 0-1 .448-1 1v.069c0 .552.448 1 1 1 .552 0 1-.448 1-1v-.07z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M8 0C3.582 0 0 3.582 0 8c0 4.418 3.582 8 8 8 4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8zM1 8c0 3.866 3.134 7 7 7 3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M11.861 1.84l.556 3.889-3.89.555 1.39-1.852c-1.504-.513-3.236-.169-4.436 1.03-.859.86-1.279 1.99-1.26 3.116l-1.191.744c-.248-1.68.275-3.45 1.567-4.743 1.65-1.65 4.077-2.045 6.1-1.187l1.164-1.552zM6.357 13.624c2.022.855 4.449.46 6.097-1.189 1.292-1.291 1.815-3.062 1.568-4.74l-1.191.743c.017 1.125-.403 2.255-1.26 3.114-1.2 1.199-2.93 1.543-4.434 1.032l1.39-1.855-3.888.556.555 3.888 1.163-1.55z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=t(2,1    ),s=t(174                       ),o=t(113                                     ),c=t(175                            ),n=t(176                       ),r=t(177                                       ),p=t(146                        ),E=t(178                 ),N=t(179        ),T=t(180                                      ),l=t(181                                       ),_=t(182                          ),f=t(183                                 ),O=i=>null!=i.notifications[0]?i.notifications[0]:null;class P extends a.PureComponent{constructor(){super(...arguments),this.icon=(i=>{switch(i.type){case r.NotificationType.COMPONENT_PUBLISH_ERROR:return l;case r.NotificationType.COMPONENT_UPDATES_AVAILABLE:case r.NotificationType.PUBLISHED_COMPONENT_DELETED:return T;case r.NotificationType.PUBLISHED_COMPONENT_UPDATED:return f;case r.NotificationType.DOWNTIME:return l;case r.NotificationType.AUTOSAVE_CHANGES_RESTORED:return _}}),this.actionText=(i=>{switch(i.type){case r.NotificationType.COMPONENT_PUBLISH_ERROR:return"Retry...";case r.NotificationType.COMPONENT_UPDATES_AVAILABLE:return"Review";case r.NotificationType.PUBLISHED_COMPONENT_DELETED:return"Remove...";case r.NotificationType.PUBLISHED_COMPONENT_UPDATED:return"Publish...";case r.NotificationType.DOWNTIME:return"Learn more";case r.NotificationType.AUTOSAVE_CHANGES_RESTORED:return null;default:N.assertNever(i.type)}}),this.actionCallback=(i=>{switch(i.type){case r.NotificationType.COMPONENT_UPDATES_AVAILABLE:return()=>{this.props.dispatch(o.fileBrowser.showModal({type:c.LIBRARY_PREFERENCES_MODAL,data:{tab:n.LibraryPreferencesModalTab.UPDATES}}))};case r.NotificationType.COMPONENT_PUBLISH_ERROR:case r.NotificationType.PUBLISHED_COMPONENT_DELETED:case r.NotificationType.PUBLISHED_COMPONENT_UPDATED:return()=>{this.props.dispatch(o.fileBrowser.showModal({type:c.PUBLISH_COMPONENTS_MODAL}))};case r.NotificationType.DOWNTIME:return()=>{i&&i.acceptCallback&&i.acceptCallback()};case r.NotificationType.AUTOSAVE_CHANGES_RESTORED:return()=>{};default:N.assertNever(i.type)}}),this.isError=(i=>{switch(i.type){case r.NotificationType.COMPONENT_PUBLISH_ERROR:return!0;case r.NotificationType.COMPONENT_UPDATES_AVAILABLE:case r.NotificationType.PUBLISHED_COMPONENT_DELETED:case r.NotificationType.PUBLISHED_COMPONENT_UPDATED:case r.NotificationType.DOWNTIME:case r.NotificationType.AUTOSAVE_CHANGES_RESTORED:return!1;default:N.assertNever(i.type)}}),this.accept=(i=>e=>{e.stopPropagation();const t=this.actionCallback(i);t&&(t(),this.dismiss(i)(e))}),this.dismiss=(i=>e=>{e.stopPropagation(),i.dismissCallback&&i.dismissCallback(),this.props.dispatch(s.notifications.dequeue({type:i.type}))})}render(){const i=O(this.props);if(!i)return null;const e=this.icon(i),t=this.isError(i),s=this.actionText(i),o=this.props.hideHelpWidget?E.notificationHelpIconHidden:E.notification;return a.createElement("div",{className:o,onClick:this.accept(i)},a.createElement(p.Svg,{className:t?E.iconError:E.icon,svg:e}),a.createElement("div",{className:E.message},i.message),a.createElement(m,{actionText:s,accept:this.accept(i),dismiss:this.dismiss(i)}))}}e.NotificationsView=P,P.displayName="NotificationView";class m extends a.PureComponent{render(){return a.createElement("div",{className:E.actions},this.props.actionText&&a.createElement("div",{className:E.action,onClick:this.props.accept},this.props.actionText),a.createElement("div",{className:E.action,onClick:this.props.dismiss},"Dismiss"))}}m.displayName="NotificationActions"}),
(function(i,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(174                               );t.notifActions=o.notifications;var e=n(184                            );t.NotificationsView=e.NotificationsView}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t(125                        ),r=t(115                     ),n=t(111          ),d=t(135                     );function s(e,i,t,o={}){const r=i.map(e=>t.fileByKey[e]);o.fileKeys=i,o.fileParentOrgIds=[],o.fileTeamIds=[],o.containingFolderIds=[],o.rootOwnerUserIds=[],r.forEach(e=>{const i=e.team_id||!e.folder_id?null:c(e.folder_id,t);o.rootOwnerUserIds.push(i),o.fileParentOrgIds.push(e.parent_org_id),o.fileTeamIds.push(e.team_id),o.containingFolderIds.push(e.folder_id)}),n.trackEvent(e,o)}i.trackEventForFile=function(e,i,t,o={}){const r=i&&t.fileByKey[i];o.fileKey=i||"new",o.fileParentOrgId=r&&r.parent_org_id,o.fileTeamId=r&&r.team_id,o.containingFolderId=r&&r.folder_id,r&&!r.team_id&&r.folder_id&&(o.rootOwnerUserId=c(r.folder_id,t)),n.trackEvent(e,o)},i.trackBatchEventForFiles=s,i.trackEventForFileCopy=function(e,i,t){const o=e.map(e=>e.key),r=[],n=[],d=[];o.forEach((e,t)=>{const o=i[t];r.push(o.key),n.push(o.folder_id),d.push(o.team_id)}),s("File Copied",o,t,{copiedFileKeys:r,copiedContainingFolderIds:n,copiedFileTeamIds:d})},i.trackEventForFolder=function(e,i,t,o={}){const r=t.folders[i];o.folderId=r.id,o.folderTeamId=r.team_id,r.team_id||(o.rootOwnerUserId=c(i,t)),n.trackEvent(e,o)},i.trackEventForTeam=function(e,i,t,o={}){const r=t.teams[i];o.teamId=r.id,o.teamName=r.name,n.trackEvent(e,o)},i.trackEventForOrg=function(e,i,t,o={}){const r=t.orgById[i];o.orgId=r.id,o.orgName=r.name,n.trackEvent(e,o)},i.trackEventForUser=function(e,i,t={}){const o=i.user;t.userId=o&&o.id,n.trackEvent(e,t)};const a={[r.ResourceType.FILE]:"fileKey",[r.ResourceType.FILE_REPO]:"fileRepoId",[r.ResourceType.FOLDER]:"folderId",[r.ResourceType.TEAM]:"teamId"};function c(e,i){let t;const r=i.roles.byFolderId[e];if(r)return Object.keys(r).forEach(e=>{o.isOwnerOfResource(e,r[e],i)&&(t=e)}),t}i.trackEventForRole=function(e,i,t={}){const o=a[i.resource_type];t.roleId=i.id,t[o]=i.resource_id_or_key,i.user_id&&(t.roleUserId=i.user_id),n.trackEvent(e,t)},i.trackEventForUserNotification=function(e,i,t,o={}){if(!t.userNotifications)return;let r;t.userNotifications.feed.allIds.forEach((e,t)=>{e===i&&(r=t)});const d=t.userNotifications.feed.byId[i];o.userNotificationView=d.view,o.userNotificationId=d.id,o.userNotificationUserId=d.user_id,o.userNotificationFeedIndex=r;const s=d.locals;s&&(s.role_id&&(o.userNotificationRoleId=s.role_id),s.invite_id&&(o.userNotificationInviteId=s.invite_id),s.team_id&&(o.userNotificationTeamId=s.team_id),s.folder_id&&(o.userNotificationFolderId=s.folder_id),s.file_key&&(o.userNotificationFileKey=s.file_key),s.comment_id&&(o.userNotificationCommentId=s.comment_id),s.comment_parent_id&&(o.userNotificationCommentParentId=s.comment_parent_id),o.userNotificationNotifierUserId=s.user_id),n.trackEvent(e,o)},i.getRootOwnerId=c,i.fileViewTrackedProps=function(e,i){let t=!1;return e&&e.team_id&&i.teams[e.team_id]&&(t=d.isProTrialActive(i.teams[e.team_id])),{isInProTrial:t,canEdit:o.canEditFile(e.key,i),fileKey:e.key}}}),
(function(E,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=_(91                  );!function(E){E.setFolderSearchQuery=o.actionCreator("FILE_MOVE_SET_FOLDER_SEARCH_QUERY"),E.startFolderRename=o.actionCreator("FILE_MOVE_START_FOLDER_RENAME"),E.endFolderRename=o.actionCreator("FILE_MOVE_END_FOLDER_RENAME"),E.incrementFocusedIndex=o.actionCreator("FILE_MOVE_INCREMENT_FOCUSED_INDEX"),E.decrementFocusedIndex=o.actionCreator("FILE_MOVE_DECREMENT_FOCUSED_INDEX"),E.setFocusedIndexAt=o.actionCreator("FILE_MOVE_SET_FOCUSED_INDEX_AT"),E.resetFocusedIndex=o.actionCreator("FILE_MOVE_RESET_FOCUSED_INDEX"),E.focusFolderId=o.actionCreator("FILE_MOVE_SELECT_FOLDER"),E.setIndexCount=o.actionCreator("FILE_MOVE_SET_FOLDER_COUNT"),E.setIndexOffsets=o.actionCreator("FILE_MOVE_SET_INDEX_OFFSETS"),E.setTeamOrder=o.actionCreator("FILE_MOVE_SET_TEAM_ORDER"),E.setfoldersByTeamId=o.actionCreator("FILE_MOVE_SET_FOLDER_ORDER"),E.isSearchResult=o.actionCreator("FILE_MOVE_IS_SEARCH_RESULT"),E.setFolderRows=o.actionCreator("FILE_MOVE_INDEX_ORDER"),E.isSearchFocused=o.actionCreator("FILE_MOVE_IS_SEARCH_FOCUSED"),E.setKeyPressedToFalse=o.actionCreator("FILE_MOVE_SET_KEY_PRESSED_TO_FALSE"),E.canMouseFocus=o.actionCreator("FILE_MOVE_CAN_MOUSE_FOCUS")}(e.fileMove||(e.fileMove={}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(108     ),r=i(91                  ),o=i(100               ),s=i(186                      ),n=i(99                      ),l=i(98                  ),d=i(113                                     ),c=i(187                                  ),p=i(172                                              );var f,h;(h=f=t.folder||(t.folder={})).beginRename=r.actionCreator("FOLDER_BEGIN_RENAME"),h.stopRename=r.actionCreator("FOLDER_STOP_RENAME"),h.rename=r.actionCreator("FOLDER_RENAME"),h.post=r.actionCreator("FOLDER_POST"),h.put=r.actionCreator("FOLDER_PUT"),h.claim=o.asyncActionCreator("FOLDER_CLAIM",(e,{folderId:t})=>{a.default.post(`/api/folders/${t}/claim`).catch(t=>{e.dispatch(l.flashActions.error(t.message||"An error occurred while trying to claim this team."))})}),h.setIsSubscribed=o.asyncActionCreator("FOLDER_SUBSCRIBE",(e,{folderId:t,isSubscribed:i})=>{const r=i?"Folder Subscriber Added":"Folder Subscriber Deleted";s.trackEventForFolder(r,t,e.getState()),n.optimisticRequestWithErrorHandling({store:e,requestPromise:a.default.put(`/api/folders/${t}`,{is_subscribed:i}),fallbackError:"An error occurred while updating this project.",next:e.dispatch,action:h.put({folder:{id:t,is_subscribed:i}})})}),h.create=o.asyncActionCreator("FOLDER_CREATE",async(e,t)=>{let i=null;if(t.name.match(/[\/\\:?*"|]/)&&(i='The following characters are not allowed:  / : ? * " |'),i)return e.dispatch(l.flashActions.error(i)),null;e.dispatch(d.fileBrowser.popModalStack()),e.dispatch(d.fileBrowser.stopCreateNewFolder());let r={id:`temp-${+new Date}`,name:t.name,description:null,path:t.name,parent_path:"",team_id:t.teamId,is_subscribed:!1,created_at:`${new Date}`,updated_at:`${new Date}`,is_invite_only:!1,is_view_only:!1,settings:{webhooks:{}},appData:{temp:!0},deleted_at:null},o=a.default.post("/api/folders",{team_id:t.teamId,path:t.name,is_invite_only:t.isInviteOnly,is_view_only:t.isViewOnly}).then(({data:i})=>{e.dispatch(h.del({folderIds:[r.id]}));let a=i.meta;for(let r of a)if(r.name===t.name){e.dispatch(h.post(r)),t.shouldRedirect&&e.dispatch(d.fileBrowser.selectView({view:"folder",folderId:r.id}));break}return a}).then(t=>{let i=e.getState();i.modalShown&&"file-move-modal"===i.modalShown.type&&i.fileByKey[i.modalShown.data.fileKey]&&1===t.length&&e.dispatch(c.fileMove.focusFolderId({folderId:t[0].id}))});return n.optimisticRequestWithErrorHandling({store:e,requestPromise:o,fallbackError:"An error occurred while creating this project.",next:e.dispatch,action:h.post(r)})}),h.tryMove=r.actionCreator("FOLDER_TRY_MOVE"),h.move=r.actionCreator("FOLDER_MOVE"),h.del=r.actionCreator("FOLDER_DELETE"),h.turnOffSlackNotifications=r.actionCreator("FOLDER_TURN_OFF_SLACK_NOTIFICATIONS"),h.updateFolderAccess=r.actionCreator("FOLDER_UPDATE_FOLDER_ACCESS"),h.fetchedRoles=r.actionCreator("FOLDER_FETCHED_ROLES"),h.postPinnedFile=r.actionCreator("FOLDER_ADD_PINNED_FILE"),h.delPinnedFile=r.actionCreator("FOLDER_DEL_PINNED_FILE"),h.setPinnedFiles=r.actionCreator("FOLDER_SET_PINNED_FILE"),h.getPinnedFiles=o.asyncActionCreator("FOLDER_GET_PINNED_FILE",(e,t)=>{a.default.get(`/api/folders/${t.folderId}/pinned_files`).then(i=>{e.dispatch(f.setPinnedFiles({folderId:t.folderId,fileKeysToUserName:i.data.meta}))}).catch(t=>{e.dispatch(l.flashActions.flash(t.message||"An error occurred while trying to fetch pinned files."))})}),h.pinFile=o.optimisticActionCreator("FOLDER_PIN_FILE",(e,t,i)=>{a.default.post(`/api/folders/${t.fileKey}/pin`).then(a=>{e.dispatch(o.optimistActions.commit(i)),e.dispatch(f.setPinnedFiles({folderId:t.folderId,fileKeysToUserName:a.data.meta})),e.dispatch(p.visualBell.enqueue({error:!1,message:"File pinned to project"}))}).catch(t=>{e.dispatch(o.optimistActions.revert(i)),e.dispatch(l.flashActions.flash(t.message||"An error occurred while trying to pin file."))})}),h.unpinFile=o.optimisticActionCreator("FOLDER_UNPIN_FILE",(e,t,i)=>{a.default.del(`/api/folders/${t.fileKey}/pin`).then(a=>{e.dispatch(o.optimistActions.commit(i)),e.dispatch(f.setPinnedFiles({folderId:t.folderId,fileKeysToUserName:a.data.meta}))}).catch(t=>{e.dispatch(o.optimistActions.revert(i)),e.dispatch(l.flashActions.flash(t.message||"An error occurred while trying to upin file."))})}),h.updateDescription=o.optimisticActionCreator("FOLDER_DESCRIPTION_UPDATE",(e,t,i)=>{a.default.put(`/api/folders/${t.folderId}/description`,{description:t.description}).then(t=>{e.dispatch(o.optimistActions.commit(i)),e.dispatch(h.put({folder:t.data.meta}))}).catch(t=>{e.dispatch(o.optimistActions.commit(i)),console.error(t),e.dispatch(l.flashActions.error("Unable to update description"))})})}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(91                  );!function(e){e.put=o.actionCreator("ORGS_PUT"),e.switchActiveOrgAndSetCurrentOrgId=o.actionCreator("ORGS_SWITCH_ACTIVE_ORG"),e.selectViewAndLoadItsResources=o.actionCreator("ORGS_SELECT_VIEW"),e.selectAdminView=o.actionCreator("ORGS_SELECTED_ADMIN_VIEW"),e.setCurrentOrgId=o.actionCreator("ORGS_SET_ORG_ID"),e.sortTeamsBy=o.actionCreator("ORGS_SORT_TEAMS_BY"),e.resetDashboard=o.actionCreator("ORGS_RESET_DASHBOARD"),e.deleteOrg=o.actionCreator("ORGS_DELETE_ORG"),e.deleteOrgUser=o.actionCreator("ORGS_DELETE_ORG_USER")}(t.orgs||(t.orgs={}))}),
(function(T,t,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const e=E(91                  );!function(T){T.startTestRun=e.actionCreator("INTERACTION_TEST_START"),T.startRecording=e.actionCreator("INTERACTION_TEST_START_RECORDING"),T.recordEvent=e.actionCreator("INTERACTION_TEST_RECORD_EVENT"),T.stopRecording=e.actionCreator("INTERACTION_TEST_STOP_RECORDING"),T.exportRecording=e.actionCreator("INTERACTION_TEST_EXPORT_RECORDING"),T.updateExportSettings=e.actionCreator("INTERACTION_TEST_UPDATE_EXPORT_SETTINGS"),T.doneExporting=e.actionCreator("INERACTION_TEST_DONE_EXPORTING"),T.updatePretestCommands=e.actionCreator("INTERACTION_TEST_UPDATE_PRETEST_COMMANDS"),T.showRecorder=e.actionCreator("INTERACTION_TEST_SHOW_RECORDER"),T.hideRecorder=e.actionCreator("INTERACTION_TEST_HIDE_RECORDER")}(t.interactionTest||(t.interactionTest={}))}),
(function(o,t,a){o.exports={button:"modal--button--2Xn7t",confirmButton:"modal--confirmButton--3Mjew",primaryButtonLink:"modal--primaryButtonLink--1h8YF",disabledButton:"modal--disabledButton--zDN81",cancelLink:"modal--cancelLink--2FS5S modal--button--2Xn7t",list:"modal--list--jxIXF",left:"modal--left--t5YdU",blueLink:"modal--blueLink--3juZ6 blue_link--blueLink--22X56",buttonRow:"modal--buttonRow--23IOU",forgotLink:"modal--forgotLink--gSnd1",modalShadow:"modal--modalShadow--HbHkT",modal:"modal--modal--OAB3b modal--modalShadow--HbHkT",modalContent:"modal--modalContent--32TRW",welcome:"modal--welcome--t-jkm modal--modalContent--32TRW",exportIcon:"modal--exportIcon--3R1s1",important:"modal--important--1ZRxD",title:"modal--title--1kOv4",textInput:"modal--textInput--q3dSz",tfaQrCode:"modal--tfaQrCode--2CnQd",error:"modal--error--1qUJ1",code:"modal--code--1XI4A",codes:"modal--codes--2b2Kp",avatarWithHandle:"modal--avatarWithHandle--EUAc2",searchContainer:"modal--searchContainer--itrA5"}}),
(function(l,e,s){l.exports={contactAdmins:"upsell_modals--contactAdmins--2LQT1",slackUpsell:"upsell_modals--slackUpsell--b4W_k",link:"upsell_modals--link--3xbaC blue_link--blueLink--22X56",team_name:"upsell_modals--team_name--2A-T8",title:"upsell_modals--title--3YBhw modal--title--1kOv4"}}),
(function(l,o,e){l.exports={src:'<svg width="32" height="56" viewBox="0 0 32 56" xmlns="http://www.w3.org/2000/svg"><path d="M2.724 16.94c-1.194.008-2.206-.707-2.579-1.825-.014-.043-.026-.085-.038-.127-.407-1.43.381-2.927 1.794-3.406l22.654-7.635c.275-.08.552-.12.827-.121 1.226-.01 2.265.722 2.647 1.862l.034.11c.424 1.49-.63 2.82-1.89 3.247-.002 0-.231.078-22.53 7.737-.3.102-.61.154-.92.157z" fill-rule="nonzero" fill-opacity="1" fill="#70cadb" stroke="none"/><path d="M6.5 28.146c-1.204.009-2.219-.697-2.587-1.798l-.04-.127c-.411-1.447.376-2.96 1.793-3.44l22.655-7.704c.293-.098.595-.148.899-.151 1.207-.01 2.267.732 2.64 1.846l.035.116c.22.77.09 1.634-.345 2.317-.324.508-1.347.954-1.347.954L7.462 27.981c-.317.106-.64.163-.962.165z" fill-rule="nonzero" fill-opacity="1" fill="#e01765" stroke="none"/><path d="M25.358 28.195c-1.208.01-2.278-.758-2.663-1.907l-7.56-22.591-.038-.127c-.41-1.44.378-2.943 1.79-3.422.282-.095.574-.145.868-.148.437-.003.86.096 1.258.294.665.333 1.163.907 1.401 1.616l7.56 22.589.022.072c.425 1.496-.361 3-1.773 3.478-.28.094-.57.143-.865.146z" fill-rule="nonzero" fill-opacity="1" fill="#e8a723" stroke="none"/><path d="M14.12 32c-1.208.01-2.28-.758-2.665-1.909L3.897 7.502l-.039-.125c-.409-1.44.377-2.943 1.788-3.423.282-.094.573-.143.866-.146 1.209-.01 2.279.757 2.664 1.907l7.56 22.591.038.125c.41 1.44-.377 2.945-1.79 3.424-.281.094-.572.143-.865.146z" fill-rule="nonzero" fill-opacity="1" fill="#3eb890" stroke="none"/><path d="M21.631 23.107l5.272-1.813-1.724-5.148-5.277 1.794 1.729 5.167z" fill-rule="nonzero" fill-opacity="1" fill="#cc2027" stroke="none"/><path d="M10.41 26.967l5.271-1.813-1.736-5.188-5.277 1.795 1.742 5.206z" fill-rule="nonzero" fill-opacity="1" fill="#361238" stroke="none"/><path d="M17.878 11.894l5.272-1.811-1.703-5.088-5.282 1.78 1.713 5.119z" fill-rule="nonzero" fill-opacity="1" fill="#65863a" stroke="none"/><path d="M6.655 15.748l5.273-1.811-1.724-5.153-5.282 1.78 1.733 5.184z" fill-rule="nonzero" fill-opacity="1" fill="#1a937d" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(2,1    ),s=a(6,1        ),n=a(113                                     ),i=a(188                               ),l=a(118                    ),c=a(154                                 ),r=a(147                                            ),m=a(191          ),d=a(146                        ),f=a(136                    ),h=a(193                                    );t.FOLDER_SLACK_SETTINGS_MODAL="folder-slack-settings-modal",f.registerUnsafeModal(t.FOLDER_SLACK_SETTINGS_MODAL,e=>o.createElement(p,Object.assign({modal:e.modalShown},e)));class p extends o.Component{constructor(){super(...arguments),this.focusButtonRef=(e=>{e&&s.findDOMNode(e).focus()}),this.turnOffNotifications=(()=>{let e=this.props.modal,t=this.props.folders[e.data.folderId];this.props.dispatch(i.folder.turnOffSlackNotifications(t)),this.props.dispatch(n.fileBrowser.hideModal())}),this.hide=(()=>this.props.dispatch(n.fileBrowser.hideModal()))}render(){let e=this.props.modal,t=this.props.folders[e.data.folderId],a=l.getFolderName(t),s=l.getSlackChannelName(t);return s?o.createElement(c.Modal,Object.assign({size:400,className:m.modal},this.props),o.createElement(d.Svg,{svg:h,useOriginalSrcFills:!0}),o.createElement("div",{className:m.title},"Notifications are going to ",s," on ",l.getSlackTeamName(t)),o.createElement("div",{className:m.modalContent},"Whenever someone comments on a file in the ‘",a,"’ project, a notification will be posted to this channel."),o.createElement("div",{className:m.buttonRow},o.createElement(r.Link,{className:m.left,href:l.getWebhookUrl(t),ref:this.focusButtonRef},"Change channel..."),o.createElement(r.ButtonSecondary,{onClick:this.turnOffNotifications,className:m.button},"Turn off notifications"),o.createElement(r.ButtonPrimary,{onClick:this.hide,className:m.confirmButton},"Done"))):o.createElement(c.Modal,Object.assign({size:"small",className:m.modal},this.props),o.createElement(d.Svg,{svg:h,useOriginalSrcFills:!0}),o.createElement("div",{className:m.title},"Get notifications in Slack"),o.createElement("div",{className:m.modalContent},"Choose a slack channel to notify whenever someone comments on a file in the ‘",a,"’ project. Notifications are encrypted."),o.createElement("div",null,o.createElement("div",{className:m.buttonRow},o.createElement(r.ButtonSecondary,{className:m.cancelLink,onClick:this.hide,ref:this.focusButtonRef},"Cancel"),o.createElement(r.ButtonLink,{className:m.primaryButtonLink,href:l.getWebhookUrl(t)},"Choose a channel..."))))}}p.displayName="FolderSlackSettingsModal"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),o=a(171                                ),r=a(113                                     ),i=a(135                     ),l=a(125                        ),n=a(154                                 ),c=a(147                                            ),d=a(191                              ),p=a(192                  ),m=a(137                                    ),h=a(136                                 ),E=a(194                       );t.UPSELL_NEW_FOLDER_MODAL="UPSELL_NEW_FOLDER_MODAL",t.UPSELL_MOVE_FILE_MODAL="UPSELL_MOVE_FILE_MODAL",t.UPSELL_ADD_EDITOR_MODAL="UPSELL_ADD_EDITOR_MODAL",t.UPSELL_SLACK_MODAL="UPSELL_SLACK_MODAL",t.UPSELL_MOVE_FOLDER_SLACK_MODAL="UPSELL_MOVE_FOLDER_SLACK_MODAL",t.UPSELL_INVITE_ONLY_MODAL="UPSELL_INVITE_ONLY_MODAL",t.UPSELL_VIEW_ONLY_MODAL="UPSELL_VIEW_ONLY_MODAL",h.registerUnsafeModal(t.UPSELL_NEW_FOLDER_MODAL,e=>s.createElement(M,Object.assign({},e))),h.registerUnsafeModal(t.UPSELL_MOVE_FILE_MODAL,e=>s.createElement(_,Object.assign({},e))),h.registerUnsafeModal(t.UPSELL_ADD_EDITOR_MODAL,e=>s.createElement(g,Object.assign({},e))),h.registerUnsafeModal(t.UPSELL_SLACK_MODAL,e=>s.createElement(f,Object.assign({},e))),h.registerUnsafeModal(t.UPSELL_MOVE_FOLDER_SLACK_MODAL,e=>s.createElement(O,Object.assign({},e))),h.registerUnsafeModal(t.UPSELL_INVITE_ONLY_MODAL,e=>s.createElement(y,Object.assign({},e))),h.registerUnsafeModal(t.UPSELL_VIEW_ONLY_MODAL,e=>s.createElement(S,Object.assign({},e)));const u=e=>{const t=e.modalShown.data;return e.teams[t.teamId]};class L extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.team=(()=>u(this.props)),this.upgrade=(()=>{this.closeModal(),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:this.team().id,selectedView:this.props.selectedView}))}),this.updatePayment=(()=>{this.closeModal(),this.props.dispatch(r.fileBrowser.selectView({view:"teamAdmin",teamId:this.team().id}))})}render(){const e=this.team(),t=!e.subscription,a=!t,o=l.canEditTeam(e.id,this.props),r=l.canAdminTeam(e.id,this.props),i=t?"Upgrade to Professional":"Update your payment";return s.createElement(n.Modal,{size:"small",dispatch:this.props.dispatch},s.createElement("div",{className:p.title},i),this.props.message,t&&s.createElement("div",null,s.createElement("br",null),s.createElement("a",{className:p.link,href:"/pricing",target:"_blank",rel:"noopener"},"Learn more about team plans"),!o&&s.createElement("div",{className:p.contactAdmins},"Contact an admin of ",s.createElement("span",{className:p.team_name},e.name)," to upgrade."),s.createElement("div",{className:d.buttonRow},s.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal,trackingProperties:{teamId:e.id}},"Cancel"),o&&s.createElement(c.ButtonLinkTracked,{className:d.confirmButton,onClick:this.upgrade,trackingProperties:{teamId:e.id}},"Upgrade"))),a&&s.createElement("div",null,!r&&s.createElement("div",{className:p.contactAdmins},"Contact an admin to update your payment source."),s.createElement("div",{className:d.buttonRow},s.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal,trackingProperties:{teamId:e.id}},"Cancel"),r&&s.createElement(c.ButtonLinkTracked,{className:d.confirmButton,onClick:this.updatePayment,trackingProperties:{teamId:e.id}},"Update payment"))))}}L.displayName="TeamUpsellModal";class _ extends s.PureComponent{render(){const e=u(this.props);let t;return t=e.subscription?`${e.name} is currently locked. Please update your payment source to unlock ${e.name} and move files into this team.`:`${e.name} has exceeded the limits of a free Starter team. Please upgrade to move files into this team.`,m.asTrackedElement(s.createElement(L,Object.assign({message:t},this.props)),_.displayName,{teamId:e.id})}}t.MoveFileUpsellModal=_,_.displayName="MoveFileUpsellModal";class M extends s.PureComponent{render(){const e=u(this.props);let t;return t=e.subscription?`${e.name} is currently locked. Please update your payment source to unlock ${e.name} and create more projects.`:i.isTeamAtFolderLimit(e.id,this.props)?`${e.name} already has ${i.MAX_FREE_FOLDERS} projects, which is the maximum allowed to a Starter team. Please upgrade to create more projects.`:`${e.name} has exceeded the limits of a free Starter team. Please upgrade to continue editing files and creating projects.`,m.asTrackedElement(s.createElement(L,Object.assign({message:t},this.props)),M.displayName,{teamId:e.id})}}t.NewFolderUpsellModal=M,M.displayName="NewFolderUpsellModal";class g extends s.PureComponent{render(){const{teamId:e,invitesSent:t}=this.props.modalShown.data,a=this.props.teams[e],o=null==a?"your team":a.name;let r;return r=a&&a.subscription?s.createElement("div",null,o," is currently locked. Please update your payment source to unlock ",o," and modify team members."):s.createElement("div",null,"You've reached your plan's ",i.MAX_FREE_EDITORS," Editor limit. ",t&&t>1?"Some of the users":"The user"," you've invited will be granted view access, but they won't be able to edit.",s.createElement("br",null),s.createElement("br",null),"You may give them edit access later if you upgrade to the Professional plan or downgrade other Editors on your team to Viewers."),m.asTrackedElement(s.createElement(L,Object.assign({message:r},this.props)),g.displayName,{teamId:e})}}t.AddEditorUpsellModal=g,g.displayName="AddEditorUpsellModal";class f extends s.PureComponent{render(){const e=u(this.props);let t=s.createElement("div",{className:p.slackUpsell},"Upgrade to a Professional Team to take advantage of Slack Notification Integration. Get notifications in Slack when someone comments on a file, with channels configurable at the project level. ",s.createElement("a",{className:p.link,href:"https://help.figma.com/hc/en-us/articles/360039829154",target:"_blank",rel:"noopener"},"Learn more about our Slack integration."));return m.asTrackedElement(s.createElement(L,Object.assign({message:t},this.props)),f.displayName,{teamId:e&&e.id})}}t.SlackUpsellModal=f,f.displayName="SlackUpsellModal";class O extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())})}render(){return s.createElement(m.TrackingContext,{name:O.displayName},s.createElement(n.Modal,{title:"Move to a Professional Team",size:"small",dispatch:this.props.dispatch},s.createElement("div",{className:p.slackUpsell},"Slack integration is a Professional Team feature. Move this project to a Professional Team to get Slack notifications for this project."),s.createElement("div",{className:d.buttonRow},s.createElement(c.ButtonPrimaryTracked,{onClick:this.closeModal},"Ok"))))}}t.SlackUpsellMoveFolderModal=O,O.displayName="SlackUpsellMoveFolderModal",t.showSlackSettingsOrUpsell=function(e,a,s){i.shouldRestrictProFeature(e)?s(e?r.fileBrowser.showModal({type:t.UPSELL_SLACK_MODAL,data:{teamId:e.id}}):r.fileBrowser.showModal({type:t.UPSELL_MOVE_FOLDER_SLACK_MODAL})):s(r.fileBrowser.showModal({type:E.FOLDER_SLACK_SETTINGS_MODAL,data:{folderId:a}}))};class y extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(r.fileBrowser.popModalStack())}),this.upgrade=(()=>{const e=this.props.teams[this.props.modalShown.data.teamId];this.props.dispatch(r.fileBrowser.hideModal()),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:e.id,selectedView:this.props.selectedView}))})}render(){const e=u(this.props),t=l.canEditTeam(e.id,this.props);return s.createElement(m.TrackingContext,{name:y.displayName,properties:{teamId:e.id}},s.createElement(n.Modal,{title:"Invite Only Projects",size:"small",dispatch:this.props.dispatch,popStack:!0},"Invite only projects are a Professional Team feature."," ",t&&`Upgrade ${e.name} to create an invite only project.`,!t&&"Contact a team admin to upgrade.",s.createElement("div",{className:d.buttonRow},s.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal},"Cancel"),t&&s.createElement(c.ButtonPrimaryTracked,{className:d.confirmButton,onClick:this.upgrade,trackingProperties:{teamId:e.id}},`Upgrade ${e.name}`))))}}t.InviteOnlyUpsellModal=y,y.displayName="InviteOnlyUpsellModal";class S extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(r.fileBrowser.popModalStack())}),this.upgrade=(()=>{const e=this.props.teams[this.props.modalShown.data.teamId];this.props.dispatch(r.fileBrowser.hideModal()),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:e.id,selectedView:this.props.selectedView}))})}render(){const e=u(this.props),t=l.canEditTeam(e.id,this.props);return s.createElement(m.TrackingContext,{name:S.displayName,properties:{teamId:e.id}},s.createElement(n.Modal,{title:"View Only Projects",size:"small",dispatch:this.props.dispatch,popStack:!0},"View only projects are a Professional Team feature."," ",t&&`Upgrade ${e.name} to create a view only project.`,!t&&"Contact a team admin to upgrade.",s.createElement("div",{className:d.buttonRow},s.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal},"Cancel"),t&&s.createElement(c.ButtonPrimaryTracked,{className:d.confirmButton,onClick:this.upgrade,trackingProperties:{teamId:e.id}},`Upgrade ${e.name}`))))}}t.ViewOnlyUpsellModal=S,S.displayName="ViewOnlyUpsellModal"}),
(function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=r(2,1    ),a=r(115                     ),t=r(154                                 ),n=r(179        ),i=r(136                    );o.CONFIRM_REMOVE_ROLE_MODAL="confirm-remove-role-modal",i.registerUnsafeModal(o.CONFIRM_REMOVE_ROLE_MODAL,e=>s.createElement(l,Object.assign({},e.modalShown.data,e)));class l extends s.Component{render(){let e,o,r=this.props.roleToRemove,i=r.user;switch(r.resource_type){case a.ResourceType.FILE:{let s=this.props.fileByKey[r.resource_id_or_key];i.id===this.props.user.id?(e=`Are you sure you want to leave ${s.name}?\n          You may not be able to access this file anymore.`,o="Leave"):(e=`Are you sure you want to remove ${i.handle}?\n          They may not be able to access this file anymore.`,o="Remove");break}case a.ResourceType.FILE_REPO:{const s=this.props.repos[r.resource_id_or_key];i.id===this.props.user.id?(e=`Are you sure you want to leave ${s.name}?\n          You may not be able to access this file anymore.`,o="Leave"):(e=`Are you sure you want to remove ${i.handle}?\n          They may not be able to access this file anymore.`,o="Remove");break}case a.ResourceType.FOLDER:{let s=this.props.folders[r.resource_id_or_key];i.id===this.props.user.id?(e=`Are you sure you want to leave ${s.name}?\n          You may not be able to access files in this project anymore.`,o="Leave"):(e=`Are you sure you want to remove ${i.handle}?\n          They may not be able to access files in this project anymore.`,o="Remove");break}default:n.assertNever(r.resource_type)}return s.createElement(t.ConfirmationModal,Object.assign({content:e,confirmText:o,onConfirm:this.props.onConfirmRemove},this.props))}}l.displayName="ConfirmRemoveRoleModal"}),
(function(o,e,d){o.exports={modalBody:"downgrade_survey_modal--modalBody--dKT6u",option:"downgrade_survey_modal--option--1RW2b",optionButton:"downgrade_survey_modal--optionButton--1Q07L",optionText:"downgrade_survey_modal--optionText--3lvZ7",optionExplanation:"downgrade_survey_modal--optionExplanation--2e3eS",nestedContentHolder:"downgrade_survey_modal--nestedContentHolder--2rHuK",extra:"downgrade_survey_modal--extra--3C_x3",extraInfoHeader:"downgrade_survey_modal--extraInfoHeader--VE9Yh",subOption:"downgrade_survey_modal--subOption--2mOu7"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(2,1    ),s=o(113                                     ),a=o(154                                 ),i=o(147                                            ),r=o(159                                 ),l=o(105        ),p=o(111          ),c=o(197                                                                             ),h=o(191                              ),u=["Layoffs of those using Figma","Furloughs of those using Figma","Budget reduction","We plan to return to Figma once this is over"];class d extends n.PureComponent{constructor(e){super(e),this.onSubmit=(()=>{p.segment&&p.segment.track("Team Downgrade Survey",{teamId:this.props.selectedView.teamId,reason:null!==this.state.checkedOption&&this.state.options[this.state.checkedOption].userText,explanation:this.state.explanation,selectedSubOptions:Array.from(this.state.selectedSubOptions)}),this.props.onSubmit()}),this.onCancel=(()=>{this.props.dispatch(s.fileBrowser.hideModal())}),this.onOptionClick=(e=>{e!==this.state.checkedOption&&this.setState({disableContinue:!this.state.options[e].moreInfoOptional&&!!this.state.options[e].moreInfoText,checkedOption:e,explanation:"",selectedSubOptions:new Set})}),this.onChangeExplanation=((e,t)=>{const o=e.target.value;this.setState({explanation:o}),t||this.setState({disableContinue:!o})}),this.onHelpClick=(()=>{p.segment&&p.segment.track("Team Downgrade Help Center Click",{})}),this.onSupportClick=(()=>{p.segment&&p.segment.track("Team Downgrade Support Click",{})}),this.onSubOptionChange=(e=>{let t=new Set(this.state.selectedSubOptions);t.has(e)?t.delete(e):t.add(e),this.setState({selectedSubOptions:t})});let t=[{userText:"Too expensive",moreInfoText:null},{userText:"We only wanted to trial the product",moreInfoText:null},{userText:"Our project is over",moreInfoText:null},{userText:"We found a better solution for our needs",moreInfoText:"What solution did you settle on and why?"},{userText:"We are having technical issues with Figma",moreInfoText:"What technical issues did you experience?",extra:n.createElement("div",{className:c.extra},"You can also ",n.createElement(i.Link,{href:"https://help.figma.com",target:"_blank",onClick:this.onHelpClick},"try looking in our help center")," or ",n.createElement(i.Link,{href:"/contact",target:"_blank",onClick:this.onSupportClick},"get in contact with support"))},{userText:"We are consolidating and joining another team",moreInfoText:null},{userText:"Hardship related to COVID-19",moreInfoText:"Tell us more?",subOptions:u,extraInfoHeader:"Specifically why are you leaving Figma? (Choose as many as apply)",moreInfoOptional:!0}];(t=l.shuffle(t)).push({userText:"Other",moreInfoText:"Tell us more?"}),this.state={disableContinue:!0,checkedOption:null,options:t,explanation:"",selectedSubOptions:new Set}}render(){const e=[];for(let t=0;t<this.state.options.length;t++){const o=this.state.options[t];e.push(n.createElement(m,{key:t,idx:t,userText:o.userText,moreInfoText:o.moreInfoText,checked:t===this.state.checkedOption,onClick:this.onOptionClick,explanation:this.state.explanation,onChange:e=>this.onChangeExplanation(e,o.moreInfoOptional),extra:o.extra,onSubOptionChange:this.onSubOptionChange,subOptions:o.subOptions,extraInfoHeader:o.extraInfoHeader}))}return n.createElement(a.Modal,Object.assign({title:"Before you go, please let us know why you are leaving",fixedTop:!0},this.props),n.createElement("div",{className:c.modalBody},e,n.createElement("div",{className:h.buttonRow},n.createElement(i.ButtonSecondary,{className:h.cancelLink,type:"button",onClick:this.onCancel},this.props.cancelText),n.createElement(i.ButtonPrimary,{type:"button",disabled:this.state.disableContinue,className:h.confirmButton,onClick:this.onSubmit,autoFocus:!1},"Continue Cancellation"))))}}t.DowngradeSurveyModalComponent=d,d.displayName="DowngradeSurveyModalComponent";class m extends n.PureComponent{constructor(){super(...arguments),this.onClick=(()=>{this.props.onClick(this.props.idx)})}render(){var e;const t=this.props.extraInfoHeader||this.props.subOptions||this.props.moreInfoText||this.props.extra;return n.createElement("div",{className:c.option},n.createElement("input",{type:"radio",name:"explanation",checked:this.props.checked,className:c.optionButton,readOnly:!0,onClick:this.onClick}),n.createElement("div",{className:c.optionText,onClick:this.onClick},this.props.userText),this.props.checked&&t&&n.createElement("div",{className:c.nestedContentHolder},this.props.extraInfoHeader&&n.createElement("div",{className:c.extraInfoHeader},this.props.extraInfoHeader),null===(e=this.props.subOptions)||void 0===e?void 0:e.map((e,t)=>n.createElement("div",{key:t,className:c.subOption},n.createElement(i.Checkbox,{onClick:()=>this.props.onSubOptionChange(e)}),e)),this.props.moreInfoText&&n.createElement(r.ExpandingTextarea,{className:c.optionExplanation,placeholder:this.props.moreInfoText,value:this.props.explanation,onChange:this.props.onChange,selectOnMount:!this.props.subOptions}),this.props.extra))}}m.displayName="DowngradeOption"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(2,1    ),o=a(171                                ),n=a(135                     ),s=a(154                                 ),r=a(136                                 );t.TEAM_ADMIN_CONFIRM_DOWNGRADE="team-admin-confirm-downgrade",r.registerUnsafeModal(t.TEAM_ADMIN_CONFIRM_DOWNGRADE,e=>i.createElement(m,Object.assign({},e)));class m extends i.PureComponent{constructor(){super(...arguments),this.teamId=(()=>this.props.modalShown.data.teamId),this.onSubmit=(()=>{this.props.dispatch(o.payment.downgrade({teamId:this.teamId()}))})}render(){const e=this.props.teams[this.teamId()];return i.createElement(s.ConfirmationModal,Object.assign({confirmText:"Finish Cancellation",onConfirm:this.onSubmit,fixedTop:!0,cancelText:"Go Back",confirmationTitle:"Are you sure you want to downgrade this team?"},this.props),'Team "',e.name,'" will be limited to ',n.MAX_FREE_EDITORS," editors and ",n.MAX_FREE_FOLDERS," projects.",i.createElement("br",null)," ",i.createElement("br",null),"You will no longer have access to the team component library, and version history will be limited to ",n.FREE_VERSION_HISTORY_MAX_DAYS," days.")}}m.displayName="ConfirmDowngradeModal"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),o=a(206                             ),i=a(113                                     ),n=a(198                                 ),r=a(136                                 ),d=a(199                                    );t.TEAM_ADMIN_DOWNGRADE_SURVEY="team-admin-downgrade-survey",t.LEAVE_TEAM_DOWNGRADE_SURVEY="leave-team-downgrade-survey",r.registerUnsafeModal(t.TEAM_ADMIN_DOWNGRADE_SURVEY,e=>s.createElement(p,Object.assign({},e,{context:"admin"}))),r.registerUnsafeModal(t.LEAVE_TEAM_DOWNGRADE_SURVEY,e=>s.createElement(p,Object.assign({},e,{context:"leave-team"})));class p extends s.PureComponent{constructor(){super(...arguments),this.onSubmit=(()=>{if("admin"===this.props.context)this.props.dispatch(i.fileBrowser.showModal({type:d.TEAM_ADMIN_CONFIRM_DOWNGRADE,data:{teamId:this.props.selectedView.teamId}}));else if("leave-team"===this.props.context){const e=this.props.selectedView,t=this.props.teams[e.teamId];this.props.dispatch(o.team.del({team:t,userInitiated:!0})),this.props.dispatch(i.fileBrowser.hideModal())}})}render(){const e="admin"===this.props.context?"Go Back":"Cancel, do not leave team";return s.createElement(n.DowngradeSurveyModalComponent,Object.assign({onSubmit:this.onSubmit,cancelText:e},this.props))}}p.displayName="DowngradeSurveyModal"}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(2,1    ),s=t(113                                     ),r=t(206                             ),n=t(120                     ),l=t(125                        ),i=t(154                                 ),m=t(147                                            ),c=t(152                                          ),d=t(191                              ),p=t(200                                                            ),u=t(136                    ),_=t(43,1         );a.TeamLeaveModal=(e=>{const a=_.useSelector(e=>l.getPermissionsState(e)),t=_.useDispatch(),u=a.teams[e.teamId],f=()=>{t(r.team.del({team:u,userInitiated:!0}))},h=()=>{t(s.fileBrowser.showModal({type:p.LEAVE_TEAM_DOWNGRADE_SURVEY,data:{teamId:u.id}}))},g=()=>{t(s.fileBrowser.popModalStack())},E=a.roles.byTeamId[u.id],b=Object.keys(E).map(e=>E[e]).filter(e=>!e.pending),v=b.length>1;if(l.canOwnTeam(u.id,a)&&v)return o.createElement(i.Modal,{size:"small",title:"Hold up...",dispatch:t,popStack:!0},o.createElement(c.ModalCloseButton,{dispatch:t}),"You are currently the owner of ",u.name,". Please assign a new owner from the team members list before leaving this team.",o.createElement("div",{className:d.buttonRow},o.createElement(m.ButtonPrimary,{onClick:g},"Ok")));if(u.org_id&&u.org_access===n.OrgAccess.SECRET&&!(()=>{for(let e in a.folders){const t=a.folders[e];if(t.team_id===u.id&&t.path)return!1}return!0})()&&!v)return o.createElement(i.Modal,{size:"small",dispatch:t,popStack:!0},o.createElement(c.ModalCloseButton,{dispatch:t}),"To prevent data becoming inaccessible, you can’t leave a secret team when you are the last member and there are enclosed projects.",o.createElement("br",null),o.createElement("br",null),"Please change the access level, or move or delete all projects and files if you wish to leave this team.",o.createElement("div",{className:d.buttonRow},o.createElement(m.ButtonPrimary,{onClick:g},"Ok")));{const e=null==u.org_id&&1===b.length&&(null!=u.subscription||null!=u.student_team_at)?h:f;return o.createElement(i.ConfirmationModal,{confirmationTitle:"Leave team",dispatch:t,destructive:!0,onConfirm:e,confirmText:"Leave team",tintedModalBackground:!0,popStack:!0},o.createElement("span",{className:d.important},'Are you sure you want to leave "',u.name,'"? '),"You will permanently lose all access to the projects and files in this team, and you cannot undo this action.")}}),a.TEAM_CONFIRM_LEAVE_MODAL=u.registerModal(a.TeamLeaveModal,"TeamConfirmLeaveModal")}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutocompleteTokenState={OK:"ok",WARN:"warn",ERROR:"error"}}),
(function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e(91                  );!function(o){o.put=r.actionCreator("USER_PUT"),o.changePassword=r.actionCreator("USER_CHANGE_PASSWORD"),o.changeEmail=r.actionCreator("USER_CHANGE_EMAIL"),o.verifyPassword=r.actionCreator("USER_VERIFY_PASSWORD"),o.setupTwoFactor=r.actionCreator("USER_SETUP_TWO_FACTOR"),o.disableTwoFactor=r.actionCreator("USER_DISABLE_TWO_FACTOR"),o.verifyOTP=r.actionCreator("USER_VERIFY_OTP"),o.changePhone=r.actionCreator("USER_VERIFY_PHONE"),o.deletePhone=r.actionCreator("USER_DELETE_PHONE"),o.confirmPhone=r.actionCreator("USER_CONFIRM_PHONE"),o.toggleTwoFactor=r.actionCreator("USER_TOGGLE_TWO_FACTOR"),o.getBackupCodes=r.actionCreator("USER_GET_BACKUP_CODES"),o.resetBackupCodes=r.actionCreator("USER_RESET_BACKUP_CODES"),o.eraseSecrets=r.actionCreator("USER_ERASE_SECRETS"),o.forgotPassword=r.actionCreator("USER_FORGOT_PASSWORD"),o.sendValidationEmail=r.actionCreator("USER_SEND_VALIDATION_EMAIL"),o.deleteUserAccount=r.actionCreator("USER_DELETE_ACCOUNT"),o.deleteUserLoading=r.actionCreator("DELETE_USER_LOADING"),o.logOutIPC=r.actionCreator("USER_LOG_OUT_IPC"),o.logOut=r.actionCreator("USER_LOG_OUT")}(t.user||(t.user={}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(91                  );!function(e){e.reset=r.actionCreator("AUTOCOMPLETE_RESET"),e.set=r.actionCreator("AUTOCOMPLETE_SET"),e.addTokens=r.actionCreator("AUTOCOMPLETE_ADD_TOKEN"),e.inputChange=r.actionCreator("AUTOCOMPLETE_INPUT_CHANGE"),e.setErrorMessage=r.actionCreator("SET_ERROR_MESSAGE")}(t.autocomplete||(t.autocomplete={}))}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(2,1    ),o=t(91                  ),a=t(100                               ),r=t(186                      ),l=t(99                      ),n=t(111          ),c=t(108     ),d=t(115                     ),p=t(195                                           ),m=t(196                                                    ),_=t(201                                                   ),u=t(202                            ),E=t(125                        ),h=t(98                  ),v=t(203                             ),g=t(113                                     ),f=t(114                              ),O=t(204                                     ),R=t(160                                  );!function(e){function s(s,t){const{user:i,modalShown:o}=s.getState();s.dispatch(g.fileBrowser.showModal({type:m.CONFIRM_REMOVE_ROLE_MODAL,data:{roleToRemove:t,onConfirmRemove:()=>{i&&t.user_id===i.id?s.dispatch(g.fileBrowser.selectView({view:"recentFiles"})):o&&s.dispatch(g.fileBrowser.showModal(o)),s.dispatch(e.optimisticDel({role:t}))},onCancel:()=>{o&&s.dispatch(g.fileBrowser.showModal(o))}}}))}e.post=o.actionCreator("ROLE_POST"),e.put=o.actionCreator("ROLE_PUT"),e.batchPut=o.actionCreator("ROLE_BATCH_PUT"),e.del=o.actionCreator("ROLE_DELETE"),e.optimisticDel=a.asyncActionCreator("ROLE_OPTIMISTIC_DELETE",(s,{role:t})=>{r.trackEventForRole("Role Deleted",t);const i=c.default.del(`/api/roles/${t.id}`);l.flashOnFailure(i,s,"An error occurred while removing this user."),l.optimisticRequest(i,s.dispatch,e.del({role:t}))}),e.optimisticPut=a.asyncActionCreator("ROLE_OPTIMISTIC_PUT",(s,{role:t,cascade:i})=>{r.trackEventForRole("Role Permissions Changed",t,{level:t.level});const o=c.default.put(`/api/roles/${t.id}`,Object.assign(Object.assign({},t),{cascade:i}));o.catch(e=>{var i;if(!e.data||"NEEDS_UPGRADE"!==e.data.reason&&"NEEDS_PAYMENT"!==e.data.reason)s.dispatch(h.flashActions.error((null===(i=e.data)||void 0===i?void 0:i.message)||"An error occurred while changing this user's permissions."));else{const e=E.getResourceTeamId(t,s.getState());s.dispatch(g.fileBrowser.showModal({type:p.UPSELL_ADD_EDITOR_MODAL,data:{teamId:e}}))}}),l.optimisticRequest(o,s.dispatch,e.put({role:t,cascade:i}))}),e.setUserFilePermission=a.asyncActionCreator("ROLE_SET_USER_FILE_PERMISSION",(t,{role:i,level:o})=>{o!==d.PermissionLevel.NONE?t.dispatch(e.optimisticPut({role:Object.assign(Object.assign({},i),{level:o})})):i.pending?t.dispatch(e.optimisticDel({role:i})):s(t,i)}),e.setUserRepoPermission=a.asyncActionCreator("ROLE_SET_USER_REPO_PERMISSION",(t,{role:i,level:o})=>{o!==d.PermissionLevel.NONE?t.dispatch(e.optimisticPut({role:Object.assign(Object.assign({},i),{level:o})})):i.pending?t.dispatch(e.optimisticDel({role:i})):s(t,i)}),e.setUserFolderPermission=a.asyncActionCreator("ROLE_SET_USER_FOLDER_PERMISSION",(t,{role:i,level:o,cascade:a})=>{o!==d.PermissionLevel.NONE?t.dispatch(e.optimisticPut({role:Object.assign(Object.assign({},i),{level:o}),cascade:a})):i.pending?t.dispatch(e.optimisticDel({role:i})):s(t,i)}),e.setUserTeamPermission=a.asyncActionCreator("ROLE_SET_USER_TEAM_PERMISSION",(s,{role:t,level:i})=>{const{user:o}=s.getState();i!==d.PermissionLevel.NONE?s.dispatch(e.optimisticPut({role:Object.assign(Object.assign({},t),{level:i})})):!t.pending&&o&&t.user_id===o.id?s.dispatch(f.showModal({type:_.TEAM_CONFIRM_LEAVE_MODAL,data:{teamId:t.resource_id_or_key}})):s.dispatch(e.optimisticDel({role:t}))}),e.sendInvites=a.asyncActionCreator("ROLE_SEND_INVITES",(s,{emails:t,resourceType:o,resourceIdOrKey:a,level:l,emailsToExclude:d,onSuccess:m,nodeId:_})=>{let f=s.getState().contacts,S={};for(let i of t){if(d&&d.has(i))continue;let t=f.usersByEmail[i],r={id:`temp-role-${i}`,created_at:(new Date).getTime(),user_id:null,user:Object.assign(Object.assign({},t),{email:i}),resource_type:o,resource_id_or_key:a,level:l,pending:!0,updated_at:`${new Date}`};S[i]=r,s.dispatch(e.post({role:r}))}s.dispatch(O.autocomplete.reset()),c.default.post("/api/invites",{emails:t,resource_type:o,resource_id_or_key:a,level:l,node_id:_}).then(({data:t})=>{var i;for(let o of t.meta.invites)r.trackEventForRole("Role Invite Sent",o,{level:o.level,roleUserEmail:null===(i=o.user)||void 0===i?void 0:i.email}),s.dispatch(e.post({role:o}));null==m||m(t.meta)},({response:r})=>{var l;try{r=JSON.parse(r)}catch(c){console.error("Failed to parse invite response:",c),r={error:!0,reason:"json"}}if(r.error&&!r.message&&(r.message=`An error occurred while sending ${1===t.length?"this invite":"these invites"}.`),"VERIFY_EMAIL"===r.reason)n.segmentTrackEvent("Error Inviting - Email Not Verified"),s.dispatch(h.flashActions.error(i.createElement("div",null,"Please verify your email to send invites.  ",i.createElement("a",{onClick:()=>{s.dispatch(v.user.sendValidationEmail())},style:{color:R.figmaFGWhite,textDecoration:"underline",cursor:"pointer"}},"Resend confirmation email"),".")));else if("NEEDS_PAYMENT"===r.reason){let e=null;const t=E.getRolesForResource(o,a,s.getState());t&&(e=E.getResourceTeamId(t[0],s.getState())),null===e?s.dispatch(h.flashActions.error(r.message)):s.dispatch(g.fileBrowser.showModal({type:p.UPSELL_ADD_EDITOR_MODAL,data:{teamId:e}}))}else if(null===(l=null==r?void 0:r.reason)||void 0===l?void 0:l.blocked_invites){const e=r.reason.blocked_invites.map(e=>({email:e.email,state:e.errored?u.AutocompleteTokenState.ERROR:u.AutocompleteTokenState.OK,user:f.usersByEmail[e.email]||null}));s.dispatch(O.autocomplete.addTokens(e)),s.dispatch(O.autocomplete.inputChange("")),s.dispatch(O.autocomplete.setErrorMessage(r.message))}else s.dispatch(h.flashActions.error(r.message));for(let i of t)s.dispatch(e.del({role:S[i]}))})}),e.resendInvite=a.asyncActionCreator("ROLE_RESEND_INVITE",(e,{role:s})=>{const t=c.default.post("/api/invites/resend",{email:s.user.email,resource_type:s.resource_type,resource_id_or_key:s.resource_id_or_key}).then(()=>{e.dispatch(h.flashActions.flash("Invite email sent again!"))});l.flashOnFailure(t,e,"Failed to resend invite emails.")})}(s.role||(s.role={}))}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=a(91                  ),o=a(112          ),i=a(108     ),s=a(100                               ),c=a(93                                   ),n=a(186                      ),d=a(205             ),l=a(171                );var p;(p=e.team||(e.team={})).submitNewTeam=r.actionCreator("TEAM_SUBMIT_NEW_TEAM"),p.get=r.actionCreator("TEAM_GET"),p.post=r.actionCreator("TEAM_POST"),p.del=r.actionCreator("TEAM_DELETE"),p.put=r.actionCreator("TEAM_PUT"),p.rename=r.actionCreator("TEAM_RENAME"),p.changeOrgAccess=r.actionCreator("TEAM_CHANGE_ORG_ACCESS"),p.fetchedRoles=r.actionCreator("TEAM_FETCHED_ROLES"),p.setLoading=r.actionCreator("TEAM_CREATION_SET_LOADING"),p.beginRename=r.actionCreator("TEAM_BEGIN_RENAME"),p.stopRename=r.actionCreator("TEAM_STOP_RENAME"),p.onJoin=r.actionCreator("TEAM_JOIN"),p.onBatchJoin=r.actionCreator("TEAM_BATCH_JOIN"),p.updateDescription=s.asyncActionCreator("TEAM_DESCRIPTION_UPDATE",(t,e)=>{i.default.put(`/api/teams/${e.teamId}`,{description:e.description}).then(({data:a})=>{t.dispatch(p.put({team:{id:e.teamId,description:e.description},userInitiated:!0}))}).catch(e=>{console.error(e),t.dispatch(c.flash.error("Unable to update description"))})}),p.restoreTeam=s.asyncActionCreator("TEAM_RESTORE",(t,e)=>{const{teamId:a}=e;i.default.put(`/api/teams/${a}/restore`).then(({data:e})=>{const r=`/files/team/${a}`;o.redirect(r),t.dispatch(c.flash.flash("Successfully restored team."))}).catch(e=>{t.dispatch(c.flash.error(`Could not restore team: ${e.data.message}`))})}),p.createToUpgrade=s.asyncActionCreator("TEAM_CREATE_TO_UPGRADE",(t,{teamName:e,selectedView:a,onSuccess:r,onError:o})=>{const s={team_name:e};let E;i.default.post("/api/teams/create",s).then(({data:e})=>(E=e.meta,t.dispatch(p.post({team:E})),n.trackEventForTeam("Team Created",E.id,t.getState()),i.default.get(`/api/roles/team/${E.id}`))).then(({data:e})=>{let o=e.meta;for(let a of o)t.dispatch(d.role.post({role:a}));null==r||r(),t.dispatch(l.payment.startProUpgradeFlow({teamId:E.id,selectedView:a,newTeam:!0}))}).catch(()=>{o?o():t.dispatch(c.flash.error("An error occurred while creating this team."))})}),p.startProTrial=s.asyncActionCreator("START_PRO_TRIAL",(t,{teamId:e,onSuccess:a})=>{i.default.post(`/api/teams/${e}/trial`).then(e=>{t.dispatch(p.put({team:e.data.meta,userInitiated:!1})),null==a||a()}).catch(()=>{t.dispatch(c.flash.error("There was an error starting your trial. Please try again or contact support@figma.com"))})}),p.sendProTrialNudgeEmail=s.asyncActionCreator("SEND_PRO_TRIAL_NUDGE_EMAIL",(t,{teamId:e})=>{i.default.post(`/api/teams/${e}/pro_trial_nudge_email`)})}),
(function(E,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=t(91                  ),a=t(111          ),_=t(100               );!function(E){E.new_=o.actionCreator("FULLSCREEN_NEW"),E.open=o.actionCreator("FULLSCREEN_OPEN"),E.close=o.actionCreator("FULLSCREEN_CLOSE"),E.newFileLoaded=o.actionCreator("NEW_FILE_LOADED"),E.selectShareModalTab=o.actionCreator("FILE_SELECTED_SHARE_MODAL_TAB"),E.attemptClose=o.actionCreator("FULLSCREEN_ATTEMPT_CLOSE"),E.reconnectingStarted=o.actionCreator("FULLSCREEN_RECONNECTING_STARTED"),E.reconnectingSucceeded=o.actionCreator("FULLSCREEN_RECONNECTING_SUCCEEDED"),E.showOpenDesktopAppModal=o.actionCreator("FULLSCREEN_SHOW_OPEN_DESKTOP_APP_MODAL"),E.hideOpenDesktopAppModal=o.actionCreator("FULLSCREEN_HIDE_OPEN_DESKTOP_APP_MODAL"),E.documentLoaded=o.actionCreator("FULLSCREEN_DOCUMENT_LOADED"),E.setSaveStatus=o.actionCreator("FULLSCREEN_SET_SAVE_STATUS"),E.updateMultiplayerState=o.actionCreator("FULLSCREEN_UPDATE_MULTIPLAYER_STATE"),E.stopObservingOtherUser=o.actionCreator("FULLSCREEN_STOP_OBSERVING_OTHER_USER"),E.enterVersionHistoryMode=o.actionCreator("FULLSCREEN_ENTER_VERSION_HISTORY_MODE"),E.setProgressBarMode=o.actionCreator("FULLSCREEN_SET_PROGRESS_BAR_MODE"),E.setFileVersion=o.actionCreator("FULLSCREEN_SET_FILE_VERSION"),E.setNeedsUpgrade=o.actionCreator("FULLSCREEN_SET_NEEDS_UPGRADE"),E.updateMirror=o.actionCreator("FULLSCREEN_UPDATE_MIRROR"),E.updateSelectedStyleProperties=o.actionCreator("FULLSCREEN_UPDATE_SELECTED_STYLE_PROPERTIES"),E.updateSelectedStyleThumbnailURL=o.actionCreator("FULLSCREEN_UPDATE_SELECTED_STYLE_THUMBNAIL_URL"),E.handlePopState=o.actionCreator("FULLSCREEN_HANDLE_POP_STATE"),E.beginRenaming=o.actionCreator("FULLSCREEN_BEGIN_RENAMING"),E.stopRenaming=o.actionCreator("FULLSCREEN_STOP_RENAMING"),E.updateFontList=o.actionCreator("FULLSCREEN_UPDATE_FONT_LIST"),E.computeExport=o.actionCreator("FULLSCREEN_COMPUTE_EXPORT"),E.showPicker=o.actionCreator("FULLSCREEN_SHOW_PICKER"),E.hidePicker=o.actionCreator("FULLSCREEN_HIDE_PICKER"),E.setPickerListLayout=_.asyncActionCreator("FULLSCREEN_SET_PICKER_LIST_LAYOUT",(E,e)=>{a.segmentTrackEvent("Style Picker View Changed",{styleType:"FILL",oldViewMode:e.isListLayout?"GRID":"LIST",newViewMode:e.isListLayout?"LIST":"GRID"})}),E.setInstanceSwapPickerListLayout=o.actionCreator("FULLSCREEN_SET_INSTANCE_SWAP_PICKER_LIST_LAYOUT"),E.showUpgradeBanner=o.actionCreator("FULLSCREEN_SHOW_UPGRADE_BANNER"),E.hideUpgradeBanner=o.actionCreator("FULLSCREEN_HIDE_UPGRADE_BANNER"),E.showDowntimeBanner=o.actionCreator("FULLSCREEN_SHOW_DOWNTIME_BANNER"),E.hideDowntimeBanner=o.actionCreator("FULLSCREEN_HIDE_DOWNTIME_BANNER"),E.setLeftPanelTab=o.actionCreator("FULLSCREEN_SET_LEFT_PANEL_TAB"),E.openHyperlink=o.actionCreator("FULLSCREEN_OPEN_HYPERLINK"),E.trackEvent=o.actionCreator("FULLSCREEN_TRACK_EVENT"),E.setEyedropper=o.actionCreator("FULLSCREEN_SET_EYEDROPPER"),E.setHyperlinkPopup=o.actionCreator("FULLSCREEN_SET_HYPERLINK_POPUP"),E.updateHyperlinkPopupPosition=o.actionCreator("FULLSCREEN_UPDATE_HYPERLINK_POPUP_POSITION"),E.showAsyncDetachModal=o.actionCreator("SHOW_ASYNC_DETACH_MODAL"),E.hideAsyncDetachModal=o.actionCreator("HIDE_ASYNC_DETACH_MODAL"),E.setRecentlyUsedQuickCommands=o.actionCreator("RECENTLY_USED_QUICK_COMMANDS"),E.setMostRecentContextMenuClickPosition=o.actionCreator("MOST_RECENT_CONTEXT_MENU_CLICK_POSITION"),E.showProgressBellForSaveAs=o.actionCreator("SHOW_PROGRESS_BELL_FOR_SAVE_AS"),E.cancelSaveAs=o.actionCreator("CANCEL_SAVE_AS"),E.beginSaveAs=o.actionCreator("BEGIN_SAVE_AS"),E.clearSelectedViewCommentId=o.actionCreator("CLEAR_SELECTED_VIEW_COMMENT_ID")}(e.fullscreen||(e.fullscreen={}))}),
(function(e,t,i){"use strict";var a=this&&this.__rest||function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(i[a[n]]=e[a[n]])}return i};Object.defineProperty(t,"__esModule",{value:!0});const n=i(188                               ),r=i(113                                     ),s=i(189                             ),o=i(190                                         ),l=i(206                             ),c=i(207                                   ),f=i(125                        );function d(e=t.EMPTY_SELECTED_VIEW,i){if(l.team.del.matches(i)){if("team"===e.view&&e.teamId===i.payload.team.id)return{view:"recentFiles"}}else{if(o.interactionTest.startTestRun.matches(i))return{view:"fullscreen",fileKey:i.payload.fakeFileKey};if(s.orgs.selectAdminView.matches(i))return Object.assign(Object.assign({},e),{orgDashboardTab:null,sortType:void 0});if(r.fileBrowser.selectView.matches(i)){const e=i.payload,{fromPopstate:t,forceReplaceState:n}=e;return a(e,["fromPopstate","forceReplaceState"])}if(c.fullscreen.newFileLoaded.matches(i))return Object.assign(Object.assign({},e),{fileKey:i.payload.file.key});if(n.folder.del.matches(i)){if("folder"===e.view&&i.payload.folderIds.indexOf(e.folderId)>-1)return{view:"recentFiles"}}else{if(c.fullscreen.selectShareModalTab.matches(i))return Object.assign(Object.assign({},e),{filePermissionsModalTab:i.payload.view});if(c.fullscreen.clearSelectedViewCommentId.matches(i))return Object.assign(Object.assign({},e),{commentThreadId:void 0})}}return e}t.nodeId=function(e){return"fullscreen"===e.view&&e.nodeId||null},t.editingFileKey=function(e){return("fullscreen"===e.view||"prototype"===e.view)&&e.fileKey||null},t.selectedViewHasMissingResources=function(e,t){return!(("folder"!==e.view||e.folderId in t.folders)&&("team"!==e.view||f.canViewTeam(e.teamId,t))&&("activityLogs"!==e.view||f.canAdminOrg(t.currentOrgId,t))&&("configureSSO"!==e.view||f.canAdminOrg(t.currentOrgId,t))&&("teamUpgrade"!==e.view||e.teamId in t.teams)&&("addAnnualPlan"!==e.view||e.teamId in t.teams)&&("teamAdmin"!==e.view||e.teamId in t.teams)&&("teamInvoices"!==e.view||e.teamId in t.teams)&&("fullscreen"!==e.view&&"prototype"!==e.view||!e.fileKey||e.fileKey in t.fileByKey))},t.EMPTY_SELECTED_VIEW={view:"recentFiles"},t.selectedView=d,t.default=d}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(125                        ),i=n(135                     ),s=n(208                               );function l(e){return"folder"===e.selectedView.view?e.folders[e.selectedView.folderId]:null}function c(e){return e.currentOrgId?e.orgById[e.currentOrgId]:null}t.fullscreenHasUnsavedChanges=function(e){return!!(e.selectedView&&"fullscreen"===e.selectedView.view&&e.saveStatus&&e.saveStatus.hasUnsavedChanges)},t.getEditingFile=function(e){const t=s.editingFileKey(e.selectedView);return t?e.fileByKey[t]:null},t.getSelectedFolder=l,t.getNewFileInfoState=function(e){return Object.assign(Object.assign({},r.getPermissionsState(e)),{selectedView:e.selectedView,currentOrgId:e.currentOrgId})},t.getSelectedOrg=c,t.getNewFileInfo=function(e,t,n=!1,r){let s=null;const d=l(e);n||!d||i.isFolderEditingLockedForUser(d,e)||(s=d.id);let o=null;const u=c(e);return u&&(o=u.id),{folder_id:s,org_id:o,openInNewTab:t,trackingInfo:r||null}},t.stateWithoutMirror=(e=>{const t=Object.assign({},e);return delete t.mirror,t})}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=window.__figmaDesktop;!function(e){e[e.FOCAL_TAB=0]="FOCAL_TAB",e[e.BACKGROUND_TAB=1]="BACKGROUND_TAB",e[e.NEW_WINDOW=2]="NEW_WINDOW"}(s.OpenTarget||(s.OpenTarget={}));class o{constructor(e){this.api=e}getVersion(){return this.api.version}getInformationalVersion(){const e=navigator.userAgent.match(/Figma\/([^\s]+)/);return e&&2===e.length?e[1]:"dev"}isFileBrowserTab(){return this.api.fileBrowser}isFileTab(){return!this.api.fileBrowser}setMessageHandler(e){this.api.setMessageHandler(e)}getFonts(){return this.api.promiseMessage("getFonts")}getFontFile(e,s){return this.api.promiseMessage("getFontFile",{path:e,postscript:s}).then(e=>new Uint8Array(e))}getClipboardData(e){return this.api.promiseMessage("getClipboardData",{formats:e})}setClipboardData(e,s){this.api.postMessage("setClipboardData",{format:e,data:s})}newFile(e){this.api.postMessage("newFile",{info:e})}openFile(e,s,t){this.api.postMessage("openFile",{fileKey:e,title:s,target:t})}openPrototype(e,s,t,i){this.getVersion()>=21?this.api.postMessage("openPrototype",{fileKey:e,pageId:s,title:t,target:i}):location.href="/proto/"+e+"?node-id="+s}close(e){this.api.postMessage("close",{suppressReopening:e})}setTitle(e){this.api.postMessage("setTitle",{title:e})}setFileKey(e){this.api.postMessage("setFileKey",{fileKey:e})}setLoading(e){this.api.postMessage("setLoading",{loading:e})}setSaved(e){this.api.postMessage("setSaved",{saved:e})}setUser(e){this.isFileBrowserTab()&&this.getVersion()>=13&&this.api.postMessage("setUser",{id:e})}updateActionState(e){this.api.postMessage("updateActionState",{state:e})}showFileBrowser(){this.api.postMessage("showFileBrowser")}setIsPreloaded(){this.api.postMessage("setIsPreloaded")}writeFiles(e){return this.api.promiseMessage("writeFiles",{files:e})}createNewLocalFileExtension(){return this.createMultipleNewLocalFileExtensions({title:"Pick Extension Manifest File",filters:[{name:"Manifests",extensions:["json"]}],properties:["openFile"]},0).then(e=>e.added[0])}createMultipleNewLocalFileExtensions(e,s){return this.api.promiseMessage("createMultipleNewLocalFileExtensions",{options:e,depth:s})}getAllLocalFileExtensionIds(){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.promiseMessage("getAllLocalFileExtensionIds")}getLocalFileExtensionManifest(e){return this.api.promiseMessage("getLocalFileExtensionManifest",{id:e})}getLocalFileExtensionSource(e){return this.api.promiseMessage("getLocalFileExtensionSource",{id:e})}removeLocalFileExtension(e){this.api.postMessage("removeLocalFileExtension",{id:e})}openExtensionDirectory(e){this.api.postMessage("openExtensionDirectory",{id:e})}supportsLocalFileExtensionsAPIV4(){return this.getVersion()>=18}writeNewExtensionToDisk(e,s){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.promiseMessage("writeNewExtensionToDisk",{dirName:e,files:s})}openDevTools(e){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.postMessage("openDevTools",{mode:e})}closeDevTools(){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.postMessage("closeDevTools")}isDevToolsOpened(){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.promiseMessage("isDevToolsOpened")}registerManifestChangeObserver(e){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.registerCallback("registerManifestChangeObserver",void 0,e)}supportsSettingPluginMenuData(){return this.getVersion()>=19}setPluginMenuData(e){this.supportsSettingPluginMenuData()&&this.api.postMessage("setPluginMenuData",{data:e})}}s.WrappedDesktopAppWebAPI=o,s.getWrappedDesktopAppWebAPI=function(){return i?new o(i):null}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const p=o(87      ),n=o(112          ),r=o(85                   ),s=o(88           ),a=o(210                                     );t.OpenTarget=a.OpenTarget;const l=o(111          );t.desktopApp=a.getWrappedDesktopAppWebAPI(),t.desktopApp&&(l.extraProps.browser_name="Figma Desktop",l.extraProps.desktop_version=t.desktopApp.getInformationalVersion()),t.setFakeWrappedDesktopAppWebAPI=function(e){t.desktopApp=new a.WrappedDesktopAppWebAPI(e)},t.clearWrappedDesktopAppWebAPI=function(){t.desktopApp=null},delete window.__figmaDesktop;const i=20,u=(()=>{if(s.sessionStorageOrNull){const e="initialPathName";if(s.sessionStorageOrNull[e])return s.sessionStorageOrNull[e];s.sessionStorageOrNull[e]=location.pathname}return location.pathname})();t.isRunningOutdatedDesktopApp=function(){return!!window.__figmaContent||!!(t.desktopApp&&t.desktopApp.getVersion()<i)},t.isRunningUnsupportedDesktopAppPlatform=function(){if(t.desktopApp&&p.mac){const[e,t]=`${p.osversion}`.split(".");return+e<10||+t<10}return!1},t.canAutoOpenInDesktopApp=function(){return!(n.isInIframe()||t.desktopApp||!r.default().editing_file||!u.startsWith("/file/")||!location.pathname.startsWith("/file/"))},t.AUTO_OPEN_PREF="autoOpenInDesktopApp",t.MENU_MODAL_PREF="openInDesktopAppMenuModal",t.getAutoOpenPref=function(){return s.localStorageOrNull?s.localStorageOrNull[t.AUTO_OPEN_PREF]:void 0},t.setAutoOpenPref=function(e){s.localStorageOrNull&&(s.localStorageOrNull[t.AUTO_OPEN_PREF]=e)},t.getMenuModalPref=function(){return s.localStorageOrNull?s.localStorageOrNull[t.MENU_MODAL_PREF]:void 0},t.setMenuModalPref=function(e){s.localStorageOrNull&&(s.localStorageOrNull[t.MENU_MODAL_PREF]=e)}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(130                   ),o=r(85                   ),s=r(111          ),i=r(108     ),a=r(87      ),l=r(211              ),c=r(88           ),u=10;let _=0;const m=""+Math.random();function g(e){return!!/Invalid fit value:/.test(e)||(!!/Calling "\/api\/file_metadata\/:file_key" failed/.test(e)||(!!/Fetching https:\/\/static\.figma\.com\/fullscreen\//.test(e)||(!!/Failed to load https:\/\/static\.figma\.com\/fullscreen\//.test(e)||!!/Cannot initialize fullscreen with an outdated desktop app shell/.test(e))))}function d(e){const t=[e.slice(0,512),e.slice(512,1024),e.slice(1024,1536),e.slice(1536,2048),e.slice(2048,2560)];return{raw_stack:t[0],raw_stack2:t[1],raw_stack3:t[2],raw_stack4:t[3],raw_stack5:t[4]}}t.shouldIgnoreErrorForDashboard=g,t.splitStackIntoSegmentSizes=d,function(e){e.DESKTOP_CLIENT="desktop_client",e.WEB_CLIENT="web_client",e.CLIENT_ADMIN="client_admin",e.CLIENT_EDITOR="client_editor",e.CLIENT_FILE_PICKER="client_file_picker",e.CLIENT_MIRROR_APP="client_mirror_app",e.CLIENT_MOBILE_VIEWER="client_mobile_viewer",e.CLIENT_AUTH="client_auth",e.CLIENT_OAUTH="client_oauth",e.CLIENT_RECEIPT="client_receipt",e.CLIENT_TRELLO="client_trello",e.CLIENT_DEVELOPER_SITE="client_developer_site",e.EMBED_TRELLO="embed_trello",e.SINATRA="sinatra",e.RESQUE_WORKER="figma-worker",e.REALTIME="go-realtime"}(t.ExecutionContext||(t.ExecutionContext={})),function(e){e.CPP="c++",e.TYPESCRIPT="ts",e.SKEW="skew",e.RUBY="ruby",e.RUST="rust",e.GOLANG="golang",e.UNKNOWN="unknown"}(t.SourceLanguage||(t.SourceLanguage={}));function f(e,t,r,c){let u=s.segment.userId||"";const g=n.globalReduxStore;if(g){const e=g.getState();e.user&&(u=e.user.id)}let d={executionContext:r.executionContext,sourceLanguage:r.sourceLanguage,timestamp:(new Date).toISOString(),userID:u||"",sessionID:s.segment.anonymousId||m,sessionErrorIndex:_,errorMessage:e,errorStack:t||"",browserName:l.desktopApp?"Figma Desktop":a.name,browserVersion:l.desktopApp?l.desktopApp.getInformationalVersion():""+a.version,release:o.initialOptions().release_git_commit||"dummy_release_version-"+Math.random(),OSName:a.osname,OSVersion:""+a.osversion,cluster:o.initialOptions().cluster_name||"",tags:JSON.stringify(c)||""};return o.initialOptions().error_dashboard_url?i.default.post(`${o.initialOptions().error_dashboard_url}/errors`,d):Promise.resolve(null)}function p(e,t,r,n){!(t||"Script error."!==e&&"UnknownError"!==e)||null===t&&"Uncaught SyntaxError: Unexpected identifier"===e||function(e,t){return!!(/\bintercomcdn\.com\b/.test(t)||/\bkaspersky-labs\.com\b/.test(t)||/\bchrome-extension:\/\//.test(t)||/\bmoz-extension:\/\//.test(t)||/\bsafari-extension:\/\//.test(t)||/a\[b\]\.target\.className\.indexOf is not a function/.test(e)||/\(event\.target\.className \|\| ""\)\.indexOf is not a function/.test(e))}(e,t+="")||_>u||(f(e=function(e){let t=e.replace(/(Out of executable memory in function at index )\d+/,"$1XXX");return t!==e?t:e}(e),t,r,n).catch(()=>{!function(e,t,r,n){if(O(e))return;const o=c.localStorageOrNull;if(!o)return;const s={timestamp:(new Date).toISOString(),message:e,raw_stack:t,errorContext:r,extraTags:n},i=o[E];let a=[];i&&(a=JSON.parse(i));a.length<h?(a.push(s),o[E]=JSON.stringify(a)):a.length>h&&(a=a.slice(0,h),o[E]=JSON.stringify(a))}(e,t,r,n)}),++_>1||(function(e,t){if(o.initialOptions().report_frontend_exceptions_to_slack){const r=o.initialOptions().user_data;i.default.post("/api/exceptions/frontend",{email:r&&r.email,url:window.location.href,commit:o.initialOptions().release_git_commit,message:e,stack:t,browser_name:l.desktopApp?"Figma Desktop":a.name,browser_version:+a.version,os_name:a.osname,os_version:a.osversion,release:o.initialOptions().release_git_commit,release_tag:o.initialOptions().release_git_tag})}}(e,t),function(e,t){let r=Object.assign(Object.assign({message:e,release:o.initialOptions().release_git_commit},d(t)),{ignore:g(e),is_assert:!!e.match(/Assertion failure:/)});s.segment.track("unhandled_error",r)}(e,t)))}t.ErrorHandler=class{constructor(e){this.errorContext=e,f("error_handler_initialized","",this.errorContext).then(e=>{e&&function(){const e=c.localStorageOrNull;if(!e)return;const t=e[E];if(!t)return;const r=JSON.parse(t);for(const n of r){let e=Object.assign(Object.assign({message:n.message,release:o.initialOptions().release_git_commit},d(n.raw_stack)),{ignore:g(n.message),is_assert:!!n.message.match(/Assertion failure:/),offline_timestamp:n.timestamp});s.segment.track("unhandled_offline_error",e)}e.removeItem(E)}()})}raiseError(e){if(e instanceof Error)p(e.toString(),e.stack||"",this.errorContext),console.error(e);else{let t=new Error(e);p(t.toString(),t.stack||"",this.errorContext),console.error(t)}}setGlobalErrorHandler(){window.addEventListener("error",e=>{let t=e.error&&e.error.stack;p(e.message,t,this.errorContext)}),o.getFeatureFlags().unhandled_rejection&&addEventListener("unhandledrejection",e=>{let t=e.reason,r=t&&t.stack;const n=t&&(t.message||t.type)||t;let o="???";try{"class Object"===(o=`class ${Object.prototype.toString.call(t).slice(8,-1)}`)&&t&&t.constructor&&t.constructor.name&&(o=`constructor ${t.constructor.name}`)}catch(s){}p(`Unhandled rejection [${o}]: ${n}`,r,this.errorContext)})}};const E="offline-errors",h=5;function O(e){return!!/error_handler_initialized/.test(e)||(!!/Calling "\/api\/.*failed with status 0/.test(e)||(!!/TypeError: cancelled/.test(e)||(!!/Failed to fetch/.test(e)||!!/Failed to load/.test(e))))}t.shouldIgnoreOfflineError=O,t.reportPromiseErrorDecorator=function(e){return async function(...t){try{return await e(...t)}catch(r){throw setTimeout(()=>{throw r},0),r}}},t.reportErrorWithoutCrashing=function(e){const t=new Error(e);setTimeout(()=>{throw t})}}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=n(212                );n(89              );function t(){return new o.ErrorHandler({sourceLanguage:o.SourceLanguage.TYPESCRIPT,executionContext:o.ExecutionContext.CLIENT_EDITOR})}r.errorHandler=t()}),
(function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class e{constructor(t=0,r=0){this.x=t,this.y=r}clone(){return new e(this.x,this.y)}equals(t){return t&&this.x===t.x&&this.y===t.y}toString(){return`(${this.x}, ${this.y})`}add(t){return new e(this.x+t.x,this.y+t.y)}static add(t,r){return{x:t.x+r.x,y:t.y+r.y}}subtract(t){return new e(this.x-t.x,this.y-t.y)}static subtract(t,r){return{x:t.x-r.x,y:t.y-r.y}}static scale(t,r){return{x:t*r.x,y:t*r.y}}multiply(t){return new e(this.x*t.x,this.y*t.y)}divide(t){return new e(this.x/t.x,this.y/t.y)}dot(t){return e.dot(this,t)}static dot(t,r){return t.x*r.x+t.y*r.y}rounded(){return new e(Math.round(this.x),Math.round(this.y))}static rounded(t){return{x:Math.round(t.x),y:Math.round(t.y)}}static size(t){return Math.sqrt(e.dot(t,t))}distanceTo(t){return e.size(this.subtract(t))}static distance(t,r){return e.size(e.subtract(t,r))}clamp(t){return new e(Math.max(t.x,Math.min(t.x+t.width,this.x)),Math.max(t.y,Math.min(t.y+t.height,this.y)))}}r.Vector=e,r.contains=function(t,r){return r.x>=t.x&&r.y>=t.y&&r.x<=t.x+t.width&&r.y<=t.y+t.height},r.area=function(t){return t.width*t.height}}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});i(89              );let l;n.fullscreenBindingsReady=new Promise(e=>{l=e}),n.setFullscreenBindings=(e=>{n.fullscreen=e,l()}),n.setSelectionBindings=function(e){n.selectionBindings=e},n.selectionBindings=null,n.setMultiplayerBindings=function(e){n.multiplayerBindings=e},n.multiplayerBindings=null,n.isFramerFullscreenView=(e=>"framer"===e.integrationId)}),
(function(r,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quote=function(r){return JSON.stringify(r)},e.error=function(r,e,n){var t=new Error(r);throw t.line=e,t.column=n,t}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=n(216);t.nativeTypes=["bool","byte","float","int","string","uint"],t.reservedNames=["ByteBuffer","package"];let i=/((?:-|\b)\d+\b|[=;{}]|\[\]|\[deprecated\]|\b[A-Za-z_][A-Za-z0-9_]*\b|\/\/.*|\s+)/g,r=/^[A-Za-z_][A-Za-z0-9_]*$/,o=/^\/\/.*|\s+$/,u=/^=$/,f=/^$/,s=/^;$/,d=/^-?\d+$/,a=/^\{$/,c=/^\}$/,m=/^\[\]$/,h=/^enum$/,p=/^struct$/,g=/^message$/,x=/^package$/,y=/^\[deprecated\]$/;t.parseSchema=function(e){let n=function(e){function t(){return e[$]}function n(e){return!!e.test(t().text)&&($++,!0)}function i(e,i){if(!n(e)){let e=t();l.error("Expected "+i+" but found "+l.quote(e.text),e.line,e.column)}}function o(){let e=t();l.error("Unexpected token "+l.quote(e.text),e.line,e.column)}let v=[],T=null,$=0;for(n(x)&&(T=t().text,i(r,"identifier"),i(s,'";"'));$<e.length&&!n(f);){let e,f=[];n(h)?e="ENUM":n(p)?e="STRUCT":n(g)?e="MESSAGE":o();let x=t();for(i(r,"identifier"),i(a,'"{"');!n(c);){let o=null,a=!1,c=!1;"ENUM"!==e&&(o=t().text,i(r,"identifier"),a=n(m));let h=t();i(r,"identifier");let p=null;"STRUCT"!==e&&(i(u,'"="'),p=t(),i(d,"integer"),(0|+p.text)+""!==p.text&&l.error("Invalid integer "+l.quote(p.text),p.line,p.column));let g=t();n(y)&&("MESSAGE"!==e&&l.error("Cannot deprecate this field",g.line,g.column),c=!0),i(s,'";"'),f.push({name:h.text,line:h.line,column:h.column,type:o,isArray:a,isDeprecated:c,value:null!==p?0|+p.text:f.length+1})}v.push({name:x.text,line:x.line,column:x.column,kind:e,fields:f})}return{package:T,definitions:v}}(function(e){let t=e.split(i),n=[],r=0,u=0;for(let i=0;i<t.length;i++){let e=t[i];1&i?o.test(e)||n.push({text:e,line:u+1,column:r+1}):""!==e&&l.error("Syntax error "+l.quote(e),u+1,r+1);let f=e.split("\n");f.length>1&&(r=0),u+=f.length-1,r+=f[f.length-1].length}return n.push({text:"",line:u,column:r}),n}(e));return function(e){let n=t.nativeTypes.slice(),i={};for(let u=0;u<e.definitions.length;u++){let r=e.definitions[u];-1!==n.indexOf(r.name)&&l.error("The type "+l.quote(r.name)+" is defined twice",r.line,r.column),-1!==t.reservedNames.indexOf(r.name)&&l.error("The type name "+l.quote(r.name)+" is reserved",r.line,r.column),n.push(r.name),i[r.name]=r}for(let t=0;t<e.definitions.length;t++){let i=e.definitions[t],r=i.fields;if("ENUM"===i.kind||0===r.length)continue;for(let e=0;e<r.length;e++){let t=r[e];-1===n.indexOf(t.type)&&l.error("The type "+l.quote(t.type)+" is not defined for field "+l.quote(t.name),t.line,t.column)}let o=[];for(let e=0;e<r.length;e++){let t=r[e];-1!==o.indexOf(t.value)&&l.error("The id for field "+l.quote(t.name)+" is used twice",t.line,t.column),t.value<=0&&l.error("The id for field "+l.quote(t.name)+" must be positive",t.line,t.column),t.value>r.length&&l.error("The id for field "+l.quote(t.name)+" cannot be larger than "+r.length,t.line,t.column),o.push(t.value)}}let r={},o=e=>{let t=i[e];if(t&&"STRUCT"===t.kind&&(1===r[e]&&l.error("Recursive nesting of "+l.quote(e)+" is not allowed",t.line,t.column),2!==r[e]&&t)){r[e]=1;let n=t.fields;for(let e=0;e<n.length;e++){let t=n[e];t.isArray||o(t.type)}r[e]=2}return!0};for(let t=0;t<e.definitions.length;t++)o(e.definitions[t].name)}(n),n}}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i=new Int32Array(1),a=new Float32Array(i.buffer);e.ByteBuffer=class{constructor(t){if(t&&!(t instanceof Uint8Array))throw new Error("Must initialize a ByteBuffer with a Uint8Array");this._data=t||new Uint8Array(256),this._index=0,this.length=t?t.length:0}toUint8Array(){return this._data.subarray(0,this.length)}readByte(){if(this._index+1>this._data.length)throw new Error("Index out of bounds");return this._data[this._index++]}readByteArray(){let t=this.readVarUint(),e=this._index,r=e+t;if(r>this._data.length)throw new Error("Read array out of bounds");this._index=r;let i=new Uint8Array(t);return i.set(this._data.subarray(e,r)),i}readVarFloat(){let t=this._index,e=this._data,r=e.length;if(t+1>r)throw new Error("Index out of bounds");let n=e[t];if(0===n)return this._index=t+1,0;if(t+4>r)throw new Error("Index out of bounds");let h=n|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;return this._index=t+4,h=h<<23|h>>>9,i[0]=h,a[0]}readVarUint(){let t=0,e=0;do{var r=this.readByte();t|=(127&r)<<e,e+=7}while(128&r&&e<35);return t>>>0}readVarInt(){let t=0|this.readVarUint();return 1&t?~(t>>>1):t>>>1}readString(){let t="";for(;;){let e,r=this.readByte();if(r<192)e=r;else{let t=this.readByte();if(r<224)e=(31&r)<<6|63&t;else{let i=this.readByte();e=r<240?(15&r)<<12|(63&t)<<6|63&i:(7&r)<<18|(63&t)<<12|(63&i)<<6|63&this.readByte()}}if(0===e)break;e<65536?t+=String.fromCharCode(e):(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return t}_growBy(t){if(this.length+t>this._data.length){let e=new Uint8Array(this.length+t<<1);e.set(this._data),this._data=e}this.length+=t}writeByte(t){let e=this.length;this._growBy(1),this._data[e]=t}writeByteArray(t){this.writeVarUint(t.length);let e=this.length;this._growBy(t.length),this._data.set(t,e)}writeVarFloat(t){let e=this.length;a[0]=t;let r=i[0];if(0==(255&(r=r>>>23|r<<9)))return void this.writeByte(0);this._growBy(4);let n=this._data;n[e]=r,n[e+1]=r>>8,n[e+2]=r>>16,n[e+3]=r>>24}writeVarUint(t){do{let e=127&t;t>>>=7,this.writeByte(t?128|e:e)}while(t)}writeVarInt(t){this.writeVarUint(t<<1^t>>31)}writeString(t){let e;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(0===(e=r+1===t.length||i<55296||i>=56320?i:(i<<10)+t.charCodeAt(++r)+-56613888))throw new Error("Cannot encode a string containing the null character");e<128?this.writeByte(e):(e<2048?this.writeByte(e>>6&31|192):(e<65536?this.writeByte(e>>12&15|224):(this.writeByte(e>>18&7|240),this.writeByte(e>>12&63|128)),this.writeByte(e>>6&63|128)),this.writeByte(63&e|128))}this.writeByte(0)}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const u=r(218),s=r(216);function a(e,t){let r=[],u="  ";r.push("function(bb) {"),r.push("  var result = {};"),r.push("  if (!(bb instanceof this.ByteBuffer)) {"),r.push("    bb = new this.ByteBuffer(bb);"),r.push("  }"),r.push(""),"MESSAGE"===e.kind&&(r.push("  while (true) {"),r.push("    switch (bb.readVarUint()) {"),r.push("    case 0:"),r.push("      return result;"),r.push(""),u="      ");for(let a=0;a<e.fields.length;a++){let n,i=e.fields[a];switch(i.type){case"bool":n="!!bb.readByte()";break;case"byte":n="bb.readByte()";break;case"int":n="bb.readVarInt()";break;case"uint":n="bb.readVarUint()";break;case"float":n="bb.readVarFloat()";break;case"string":n="bb.readString()";break;default:{let e=t[i.type];e?n="ENUM"===e.kind?"this["+s.quote(e.name)+"][bb.readVarUint()]":"this["+s.quote("decode"+e.name)+"](bb)":s.error("Invalid type "+s.quote(i.type)+" for field "+s.quote(i.name),i.line,i.column)}}"MESSAGE"===e.kind&&r.push("    case "+i.value+":"),i.isArray?i.isDeprecated?"byte"===i.type?r.push(u+"bb.readByteArray();"):(r.push(u+"var length = bb.readVarUint();"),r.push(u+"while (length-- > 0) "+n+";")):"byte"===i.type?r.push(u+"result["+s.quote(i.name)+"] = bb.readByteArray();"):(r.push(u+"var length = bb.readVarUint();"),r.push(u+"var values = result["+s.quote(i.name)+"] = [];"),r.push(u+"while (length-- > 0) values.push("+n+");")):i.isDeprecated?r.push(u+n+";"):r.push(u+"result["+s.quote(i.name)+"] = "+n+";"),"MESSAGE"===e.kind&&(r.push("      break;"),r.push(""))}return"MESSAGE"===e.kind?(r.push("    default:"),r.push('      throw new Error("Attempted to parse invalid message");'),r.push("    }"),r.push("  }")):r.push("  return result;"),r.push("}"),r.join("\n")}function n(e,t){let r=[];r.push("function(message, bb) {"),r.push("  var isTopLevel = !bb;"),r.push("  if (isTopLevel) bb = new this.ByteBuffer();");for(let u=0;u<e.fields.length;u++){let a,n=e.fields[u];if(!n.isDeprecated){switch(n.type){case"bool":case"byte":a="bb.writeByte(value);";break;case"int":a="bb.writeVarInt(value);";break;case"uint":a="bb.writeVarUint(value);";break;case"float":a="bb.writeVarFloat(value);";break;case"string":a="bb.writeString(value);";break;default:{let e=t[n.type];if(!e)throw new Error("Invalid type "+s.quote(n.type)+" for field "+s.quote(n.name));a="ENUM"===e.kind?"var encoded = this["+s.quote(e.name)+'][value]; if (encoded === void 0) throw new Error("Invalid value " + JSON.stringify(value) + '+s.quote(" for enum "+s.quote(e.name))+"); bb.writeVarUint(encoded);":"this["+s.quote("encode"+e.name)+"](value, bb);"}}r.push(""),r.push("  var value = message["+s.quote(n.name)+"];"),r.push("  if (value != null) {"),"MESSAGE"===e.kind&&r.push("    bb.writeVarUint("+n.value+");"),n.isArray?"byte"===n.type?r.push("    bb.writeByteArray(value);"):(r.push("    var values = value, n = values.length;"),r.push("    bb.writeVarUint(n);"),r.push("    for (var i = 0; i < n; i++) {"),r.push("      value = values[i];"),r.push("      "+a),r.push("    }")):r.push("    "+a),"STRUCT"===e.kind&&(r.push("  } else {"),r.push("    throw new Error("+s.quote("Missing required field "+s.quote(n.name))+");")),r.push("  }")}}return"MESSAGE"===e.kind&&r.push("  bb.writeVarUint(0);"),r.push(""),r.push("  if (isTopLevel) return bb.toUint8Array();"),r.push("}"),r.join("\n")}function i(e){let t={},r=e.package,u=[];null!==r?u.push("var "+r+" = exports || "+r+" || {}, exports;"):(u.push("var exports = exports || {};"),r="exports"),u.push(r+".ByteBuffer = "+r+'.ByteBuffer || require("kiwi-schema").ByteBuffer;');for(let s=0;s<e.definitions.length;s++){let r=e.definitions[s];t[r.name]=r}for(let i=0;i<e.definitions.length;i++){let l=e.definitions[i];switch(l.kind){case"ENUM":{let e={};for(let t=0;t<l.fields.length;t++){let r=l.fields[t];e[r.name]=r.value,e[r.value]=r.name}u.push(r+"["+s.quote(l.name)+"] = "+JSON.stringify(e,null,2)+";");break}case"STRUCT":case"MESSAGE":u.push(""),u.push(r+"["+s.quote("decode"+l.name)+"] = "+a(l,t)+";"),u.push(""),u.push(r+"["+s.quote("encode"+l.name)+"] = "+n(l,t)+";");break;default:s.error("Invalid definition kind "+s.quote(l.kind),l.line,l.column)}}return u.push(""),u.join("\n")}t.compileSchemaJS=i,t.compileSchema=function(e){let t={ByteBuffer:u.ByteBuffer};return new Function("exports",i(e))(t),t}}),
(function(e,t,a){e.exports="package Fig;enum MessageType{JOIN_START=0;NODE_CHANGES=1;USER_CHANGES=2;JOIN_END=3;SIGNAL=4;STYLE=5;STYLE_SET=6;JOIN_START_SKIP_RELOAD=7;NOTIFY_SHOULD_UPGRADE=8;UPGRADE_DONE=9;UPGRADE_REFRESH=10;SCENE_GRAPH_QUERY=11;SCENE_GRAPH_REPLY=12;}enum Axis{X=0;Y=1;}enum Access{READ_ONLY=0;READ_WRITE=1;}enum NodePhase{CREATED=0;REMOVED=1;}enum WindingRule{NONZERO=0;ODD=1;}enum NodeType{NONE=0;DOCUMENT=1;CANVAS=2;GROUP=3;FRAME=4;BOOLEAN_OPERATION=5;VECTOR=6;STAR=7;LINE=8;ELLIPSE=9;RECTANGLE=10;REGULAR_POLYGON=11;ROUNDED_RECTANGLE=12;TEXT=13;SLICE=14;SYMBOL=15;INSTANCE=16;}enum BlendMode{PASS_THROUGH=0;NORMAL=1;DARKEN=2;MULTIPLY=3;LINEAR_BURN=4;COLOR_BURN=5;LIGHTEN=6;SCREEN=7;LINEAR_DODGE=8;COLOR_DODGE=9;OVERLAY=10;SOFT_LIGHT=11;HARD_LIGHT=12;DIFFERENCE=13;EXCLUSION=14;HUE=15;SATURATION=16;COLOR=17;LUMINOSITY=18;}enum PaintType{SOLID=0;GRADIENT_LINEAR=1;GRADIENT_RADIAL=2;GRADIENT_ANGULAR=3;GRADIENT_DIAMOND=4;IMAGE=5;EMOJI=6;}enum ImageScaleMode{STRETCH=0;FIT=1;FILL=2;TILE=3;}enum EffectType{INNER_SHADOW=0;DROP_SHADOW=1;FOREGROUND_BLUR=2;BACKGROUND_BLUR=3;}enum TextCase{ORIGINAL=0;UPPER=1;LOWER=2;TITLE=3;SMALL_CAPS=4;SMALL_CAPS_FORCED=5;}enum TextDecoration{NONE=0;UNDERLINE=1;STRIKETHROUGH=2;}enum NumberUnits{RAW=0;PIXELS=1;PERCENT=2;}enum ConstraintType{MIN=0;CENTER=1;MAX=2;STRETCH=3;SCALE=4;FIXED_MIN=5;FIXED_MAX=6;}enum StrokeAlign{CENTER=0;INSIDE=1;OUTSIDE=2;}enum StrokeCap{NONE=0;ROUND=1;SQUARE=2;ARROW_LINES=3;ARROW_EQUILATERAL=4;}enum StrokeJoin{MITER=0;BEVEL=1;ROUND=2;}enum BooleanOperation{UNION=0;INTERSECT=1;SUBTRACT=2;XOR=3;}enum TextAlignHorizontal{LEFT=0;CENTER=1;RIGHT=2;JUSTIFIED=3;}enum TextAlignVertical{TOP=0;CENTER=1;BOTTOM=2;}enum MouseCursor{DEFAULT=0;CROSSHAIR=1;EYEDROPPER=2;HAND=3;PAINT_BUCKET=4;PEN=5;PENCIL=6;}enum VectorMirror{NONE=0;ANGLE=1;ANGLE_AND_LENGTH=2;}enum DashMode{CLIP=0;STRETCH=1;}enum ImageType{PNG=0;JPEG=1;SVG=2;PDF=3;}enum ExportConstraintType{CONTENT_SCALE=0;CONTENT_WIDTH=1;CONTENT_HEIGHT=2;}enum LayoutGridType{MIN=0;CENTER=1;STRETCH=2;MAX=3;}enum LayoutGridPattern{STRIPES=0;GRID=1;}enum TextAutoResize{NONE=0;WIDTH_AND_HEIGHT=1;HEIGHT=2;}enum StyleSetType{PERSONAL=0;TEAM=1;CUSTOM=2;FREQUENCY=3;TEMPORARY=4;}enum StyleSetContentType{SOLID=0;GRADIENT=1;IMAGE=2;}enum StackMode{NONE=0;HORIZONTAL=1;VERTICAL=2;}enum StackAlign{MIN=0;CENTER=1;MAX=2;}enum StackCounterAlign{MIN=0;CENTER=1;MAX=2;STRETCH=3;}enum StackJustify{MIN=0;CENTER=1;MAX=2;SPACE_EVENLY=3;}enum StackSize{FIXED=0;RESIZE_TO_FIT=1;}enum ConnectionType{NONE=0;INTERNAL_NODE=1;URL=2;BACK=3;CLOSE=4;}enum InteractionType{ON_CLICK=0;AFTER_TIMEOUT=1;MOUSE_IN=2;MOUSE_OUT=3;ON_HOVER=4;MOUSE_DOWN=5;MOUSE_UP=6;ON_PRESS=7;NONE=8;DRAG=9;ON_KEY_DOWN=10;ON_VOICE=11;}enum TransitionType{INSTANT_TRANSITION=0;DISSOLVE=1;FADE=2;SLIDE_FROM_LEFT=3;SLIDE_FROM_RIGHT=4;SLIDE_FROM_TOP=5;SLIDE_FROM_BOTTOM=6;PUSH_FROM_LEFT=7;PUSH_FROM_RIGHT=8;PUSH_FROM_TOP=9;PUSH_FROM_BOTTOM=10;MOVE_FROM_LEFT=11;MOVE_FROM_RIGHT=12;MOVE_FROM_TOP=13;MOVE_FROM_BOTTOM=14;SLIDE_OUT_TO_LEFT=15;SLIDE_OUT_TO_RIGHT=16;SLIDE_OUT_TO_TOP=17;SLIDE_OUT_TO_BOTTOM=18;MOVE_OUT_TO_LEFT=19;MOVE_OUT_TO_RIGHT=20;MOVE_OUT_TO_TOP=21;MOVE_OUT_TO_BOTTOM=22;MAGIC_MOVE=23;SMART_ANIMATE=24;}enum EasingType{IN_CUBIC=0;OUT_CUBIC=1;INOUT_CUBIC=2;LINEAR=3;IN_BACK_CUBIC=4;OUT_BACK_CUBIC=5;INOUT_BACK_CUBIC=6;CUSTOM_CUBIC=7;}enum ScrollDirection{NONE=0;HORIZONTAL=1;VERTICAL=2;BOTH=3;}enum ScrollContractedState{EXPANDED=0;CONTRACTED=1;}struct GUID{uint sessionID;uint localID;}struct Color{float r;float g;float b;float a;}struct Vector{float x;float y;}struct Rect{float x;float y;float w;float h;}struct ColorStop{Color color;float position;}struct Matrix{float m00;float m01;float m02;float m10;float m11;float m12;}struct ParentIndex{GUID guid;string position;}struct Number{float value;NumberUnits units;}struct FontName{string family;string style;string postscript;}enum FontVariantNumericFigure{NORMAL=0;LINING=1;OLDSTYLE=2;}enum FontVariantNumericSpacing{NORMAL=0;PROPORTIONAL=1;TABULAR=2;}enum FontVariantNumericFraction{NORMAL=0;DIAGONAL=1;STACKED=2;}enum FontVariantCaps{NORMAL=0;SMALL=1;ALL_SMALL=2;PETITE=3;ALL_PETITE=4;UNICASE=5;TITLING=6;}enum FontVariantPosition{NORMAL=0;SUB=1;SUPER=2;}enum FontStyle{NORMAL=0;ITALIC=1;}enum OpenTypeFeature{PCAP=0;C2PC=1;CASE=2;CPSP=3;TITL=4;UNIC=5;ZERO=6;SINF=7;ORDN=8;AFRC=9;DNOM=10;NUMR=11;LIGA=12;CLIG=13;DLIG=14;HLIG=15;RLIG=16;AALT=17;CALT=18;RCLT=19;SALT=20;RVRN=21;VERT=22;SWSH=23;CSWH=24;NALT=25;CCMP=26;STCH=27;HIST=28;SIZE=29;ORNM=30;ITAL=31;RAND=32;DTLS=33;FLAC=34;MGRK=35;SSTY=36;KERN=37;FWID=38;HWID=39;HALT=40;TWID=41;QWID=42;PWID=43;JUST=44;LFBD=45;OPBD=46;RTBD=47;PALT=48;PKNA=49;LTRA=50;LTRM=51;RTLA=52;RTLM=53;ABRV=54;ABVM=55;ABVS=56;VALT=57;VHAL=58;BLWF=59;BLWM=60;BLWS=61;AKHN=62;CJCT=63;CFAR=64;CPCT=65;CURS=66;DIST=67;EXPT=68;FALT=69;FINA=70;FIN2=71;FIN3=72;HALF=73;HALN=74;HKNA=75;HNGL=76;HOJO=77;INIT=78;ISOL=79;JP78=80;JP83=81;JP90=82;JP04=83;LJMO=84;LOCL=85;MARK=86;MEDI=87;MED2=88;MKMK=89;NLCK=90;NUKT=91;PREF=92;PRES=93;VPAL=94;PSTF=95;PSTS=96;RKRF=97;RPHF=98;RUBY=99;SMPL=100;TJMO=101;TNAM=102;TRAD=103;VATU=104;VJMO=105;VKNA=106;VKRN=107;VRTR=108;VRT2=109;SS01=110;SS02=111;SS03=112;SS04=113;SS05=114;SS06=115;SS07=116;SS08=117;SS09=118;SS10=119;SS11=120;SS12=121;SS13=122;SS14=123;SS15=124;SS16=125;SS17=126;SS18=127;SS19=128;SS20=129;CV01=130;CV02=131;CV03=132;CV04=133;CV05=134;CV06=135;CV07=136;CV08=137;CV09=138;CV10=139;CV11=140;CV12=141;CV13=142;CV14=143;CV15=144;CV16=145;CV17=146;CV18=147;CV19=148;CV20=149;CV21=150;CV22=151;CV23=152;CV24=153;CV25=154;CV26=155;CV27=156;CV28=157;CV29=158;CV30=159;CV31=160;CV32=161;CV33=162;CV34=163;CV35=164;CV36=165;CV37=166;CV38=167;CV39=168;CV40=169;CV41=170;CV42=171;CV43=172;CV44=173;CV45=174;CV46=175;CV47=176;CV48=177;CV49=178;CV50=179;CV51=180;CV52=181;CV53=182;CV54=183;CV55=184;CV56=185;CV57=186;CV58=187;CV59=188;CV60=189;CV61=190;CV62=191;CV63=192;CV64=193;CV65=194;CV66=195;CV67=196;CV68=197;CV69=198;CV70=199;CV71=200;CV72=201;CV73=202;CV74=203;CV75=204;CV76=205;CV77=206;CV78=207;CV79=208;CV80=209;CV81=210;CV82=211;CV83=212;CV84=213;CV85=214;CV86=215;CV87=216;CV88=217;CV89=218;CV90=219;CV91=220;CV92=221;CV93=222;CV94=223;CV95=224;CV96=225;CV97=226;CV98=227;CV99=228;}struct ExportConstraint{ExportConstraintType type;float value;}struct GUIDMapping{GUID from;GUID to;}struct Blob{byte[]bytes;}message Image{byte[]hash=1;string name=2;uint dataBlob=3;}struct FilterColorAdjust{float tint;float shadows;float highlights;float detail;float exposure;float vignette;float temperature;float vibrance;}message PaintFilterMessage{float tint=1;float shadows=2;float highlights=3;float detail=4[deprecated];float exposure=5;float vignette=6[deprecated];float temperature=7;float vibrance=8;float contrast=9;float brightness=10[deprecated];}message Paint{PaintType type=1;Color color=2;float opacity=3;bool visible=4;BlendMode blendMode=5;ColorStop[]stops=6;Matrix transform=7;Image image=8;Image imageThumbnail=9;Image animatedImage=16;uint animationFrame=17;ImageScaleMode imageScaleMode=10;float rotation=11;float scale=12;FilterColorAdjust filterColorAdjust=13[deprecated];PaintFilterMessage paintFilter=14;uint[]emojiCodePoints=15;}message FontMetaData{FontName key=1;float fontLineHeight=2;byte[]fontDigest=3;FontStyle fontStyle=4;int fontWeight=5;}message TextData{string characters=1;uint[]characterStyleIDs=2;NodeChange[]styleOverrideTable=3;Vector layoutSize=4;Baseline[]baselines=5;Glyph[]glyphs=6;Decoration[]decorations=7;uint layoutVersion=8;FontMetaData[]fontMetaData=9;FontName[]fallbackFonts=10;HyperlinkBox[]hyperlinkBoxes=11;}message HyperlinkBox{Rect bounds=1;string url=2;GUID guid=3;int hyperlinkID=4;}message Baseline{Vector position=1;float width=2;float lineY=3;float lineHeight=4;float lineAscent=7;uint firstCharacter=5;uint endCharacter=6;}message Glyph{uint commandsBlob=1;Vector position=2;uint styleID=3;float fontSize=4;uint firstCharacter=5;float advance=6;}message Decoration{Rect[]rects=1;uint styleID=2;}message VectorData{uint vectorNetworkBlob=1;Vector normalizedSize=2;NodeChange[]styleOverrideTable=3;}message GUIDPath{GUID[]guids=1;}message SymbolData{GUID symbolID=1;NodeChange[]symbolOverrides=2;float uniformScaleFactor=3;}message GUIDPathMapping{GUID id=1;GUIDPath path=2;}message SharedSymbolReference{string fileKey=1;GUID symbolID=2;string versionHash=3;GUIDPathMapping[]guidPathMappings=4;byte[]bytes=5;GUIDMapping[]libraryGUIDToSubscribingGUID=6[deprecated];string componentKey=7;GUIDPathMapping[]unflatteningMappings=8;bool isUnflattened=9;}message SharedComponentMasterData{string componentKey=1;GUIDPathMapping[]publishingGUIDPathToTeamLibraryGUID=2;bool isUnflattened=3;}message Effect{EffectType type=1;Color color=2;Vector offset=3;float radius=4;bool visible=5;BlendMode blendMode=6;float spread=7;}message TransitionInfo{TransitionType type=1;float duration=2;}enum PrototypeDeviceType{NONE=0;PRESET=1;CUSTOM=2;PRESENTATION=3;}enum DeviceRotation{NONE=0;CCW_90=1;}message PrototypeDevice{PrototypeDeviceType type=1;Vector size=2;string presetIdentifier=3;DeviceRotation rotation=4;}enum OverlayPositionType{CENTER=0;TOP_LEFT=1;TOP_CENTER=2;TOP_RIGHT=3;BOTTOM_LEFT=4;BOTTOM_CENTER=5;BOTTOM_RIGHT=6;MANUAL=7;}enum OverlayBackgroundInteraction{NONE=0;CLOSE_ON_CLICK_OUTSIDE=1;}enum OverlayBackgroundType{NONE=0;SOLID_COLOR=1;}message OverlayBackgroundAppearance{OverlayBackgroundType backgroundType=1;Color backgroundColor=2;}enum NavigationType{NAVIGATE=0;OVERLAY=1;SWAP=2;}message ExportSettings{string suffix=1;ImageType imageType=2;ExportConstraint constraint=3;bool svgDataName=4;ExportSVGIDMode svgIDMode=5;bool svgOutlineText=6;bool contentsOnly=7;bool svgForceStrokeMasks=8;}enum ExportSVGIDMode{IF_NEEDED=0;ALWAYS=1;}message LayoutGrid{LayoutGridType type=1;Axis axis=2;bool visible=3;int numSections=4;float offset=5;float sectionSize=6;float gutterSize=7;Color color=8;LayoutGridPattern pattern=9;}message Guide{Axis axis=1;float offset=2;GUID guid=3;}message Path{WindingRule windingRule=1;uint commandsBlob=2;}enum StyleType{NONE=0;FILL=1;STROKE=2;TEXT=3;EFFECT=4;EXPORT=5;GRID=6;}message SharedStyleReference{string styleKey=1;string versionHash=2;}message SharedStyleMasterData{string styleKey=1;string sortPosition=2;string fileKey=3;}enum ScrollBehavior{SCROLLS=0;FIXED_WHEN_CHILD_OF_SCROLLING_FRAME=1;}message ArcData{float startingAngle=1;float endingAngle=2;float innerRadius=3;}message PluginData{string pluginID=1;string value=2;string key=3;}message PluginRelaunchData{string pluginID=1;string message=2;string command=3;}message NodeChange{GUID guid=1;uint guidTag=53[deprecated];NodePhase phase=2;uint phaseTag=54[deprecated];ParentIndex parentIndex=3;uint parentIndexTag=55[deprecated];NodeType type=4;uint typeTag=56[deprecated];string name=5;uint nameTag=57[deprecated];bool visible=6;uint visibleTag=58[deprecated];bool locked=7;uint lockedTag=59[deprecated];float opacity=8;uint opacityTag=60[deprecated];BlendMode blendMode=9;uint blendModeTag=61[deprecated];uint count=10;uint countTag=62[deprecated];Vector size=11;uint sizeTag=63[deprecated];Matrix transform=12;uint transformTag=64[deprecated];float[]dashPattern=13;uint dashPatternTag=65[deprecated];bool autoRename=14;uint autoRenameTag=66[deprecated];bool backgroundEnabled=15;uint backgroundEnabledTag=67[deprecated];bool mask=16;uint maskTag=68[deprecated];bool exportContentsOnly=17;uint exportContentsOnlyTag=69[deprecated];bool maskIsOutline=18;uint maskIsOutlineTag=70[deprecated];float backgroundOpacity=19;uint backgroundOpacityTag=71[deprecated];float cornerRadius=20;uint cornerRadiusTag=72[deprecated];float fontSize=21;uint fontSizeTag=73[deprecated];float paragraphIndent=22;uint paragraphIndentTag=74[deprecated];float paragraphSpacing=23;uint paragraphSpacingTag=75[deprecated];float starInnerScale=24;uint starInnerScaleTag=76[deprecated];float miterLimit=25;uint miterLimitTag=77[deprecated];float strokeWeight=26;uint strokeWeightTag=78[deprecated];float textTracking=27;uint textTrackingTag=79[deprecated];ConstraintType horizontalConstraint=28;uint horizontalConstraintTag=80[deprecated];StrokeAlign strokeAlign=29;uint strokeAlignTag=81[deprecated];StrokeCap strokeCap=30;uint strokeCapTag=82[deprecated];StrokeJoin strokeJoin=31;uint strokeJoinTag=83[deprecated];TextAlignHorizontal textAlignHorizontal=32;uint textAlignHorizontalTag=84[deprecated];TextAlignVertical textAlignVertical=33;uint textAlignVerticalTag=85[deprecated];TextCase textCase=34;uint textCaseTag=86[deprecated];TextDecoration textDecoration=35;uint textDecorationTag=87[deprecated];BooleanOperation booleanOperation=36;uint booleanOperationTag=88[deprecated];ConstraintType verticalConstraint=37;uint verticalConstraintTag=89[deprecated];Paint[]fillPaints=38;uint fillPaintsTag=90[deprecated];Paint[]strokePaints=39;uint strokePaintsTag=91[deprecated];Number lineHeight=40;uint lineHeightTag=92[deprecated];FontName fontName=41;uint fontNameTag=93[deprecated];TextData textData=42;uint textDataTag=94[deprecated];Effect[]effects=43;uint effectsTag=95[deprecated];VectorMirror handleMirroring=44;uint handleMirroringTag=96[deprecated];ExportSettings[]exportSettings=45;uint exportSettingsTag=97[deprecated];TextAutoResize textAutoResize=46;uint textAutoResizeTag=98[deprecated];LayoutGrid[]layoutGrids=47;uint layoutGridsTag=99[deprecated];VectorData vectorData=48;uint vectorDataTag=100[deprecated];uint styleID=49;uint styleIDTag=101[deprecated];Color backgroundColor=50;uint backgroundColorTag=102[deprecated];Path[]fillGeometry=51;uint fillGeometryTag=103[deprecated];Path[]strokeGeometry=52;uint strokeGeometryTag=104[deprecated];StackMode stackMode=105;uint stackModeTag=106[deprecated];float stackSpacing=107;uint stackSpacingTag=108[deprecated];float stackPadding=109;uint stackPaddingTag=110[deprecated];GUIDPath guidPath=111;uint guidPathTag=112[deprecated];SymbolData symbolData=113;uint symbolDataTag=114[deprecated];bool frameMaskDisabled=115;uint frameMaskDisabledTag=116[deprecated];bool resizeToFit=117;uint resizeToFitTag=118[deprecated];bool exportBackgroundDisabled=119;StackCounterAlign stackCounterAlign=120;StackJustify stackJustify=121;SharedSymbolReference sharedSymbolReference=122;bool isSymbolPublishable=123;GUIDPathMapping[]sharedSymbolMappings=124;NodeChange[]derivedSymbolData=125;string sharedSymbolVersion=126;bool fontVariantCommonLigatures=127;bool fontVariantContextualLigatures=128;bool fontVariantDiscretionaryLigatures=129;bool fontVariantHistoricalLigatures=130;bool fontVariantOrdinal=131;bool fontVariantSlashedZero=132;FontVariantNumericFigure fontVariantNumericFigure=133;FontVariantNumericSpacing fontVariantNumericSpacing=134;FontVariantNumericFraction fontVariantNumericFraction=135;FontVariantCaps fontVariantCaps=136;FontVariantPosition fontVariantPosition=137;Guide[]guides=138;GUID transitionNodeID=139;GUID prototypeStartNodeID=140;Color prototypeBackgroundColor=141;bool internalOnly=142;GUID overriddenSymbolID=143;string symbolDescription=144;float rectangleTopLeftCornerRadius=145;float rectangleTopRightCornerRadius=146;float rectangleBottomLeftCornerRadius=147;float rectangleBottomRightCornerRadius=148;bool rectangleCornerRadiiIndependent=149;bool rectangleCornerToolIndependent=150;bool proportionsConstrained=151;SharedComponentMasterData sharedComponentMasterData=152;TransitionInfo transitionInfo=153[deprecated];TransitionType transitionType=154;float transitionDuration=155;EasingType easingType=156;ScrollDirection scrollDirection=159;float cornerSmoothing=160;GUID inheritFillStyleID=158;GUID inheritStrokeStyleID=162;GUID inheritTextStyleID=167;GUID inheritExportStyleID=168;GUID inheritEffectStyleID=169;GUID inheritGridStyleID=170;GUID inheritFillStyleIDForStroke=185;bool isFillStyle=157[deprecated];bool isStrokeStyle=161[deprecated];StyleType styleType=163;string styleDescription=191;GUIDPathMapping[]unflatteningMappings=164;Number letterSpacing=165;Vector scrollOffset=166[deprecated];string version=171;SharedStyleMasterData sharedStyleMasterData=172;SharedStyleReference sharedStyleReference=173;bool isPublishable=174;bool exportTextAsSVGText=175;bool isSoftDeletedStyle=176;bool isNonUpdateable=177;ScrollContractedState scrollContractedState=178[deprecated];Vector contractedSize=179[deprecated];string fixedChildrenDivider=180[deprecated];bool transitionPreserveScroll=181;ConnectionType connectionType=182;string connectionURL=183;PrototypeDevice prototypeDevice=184;ScrollBehavior scrollBehavior=186;InteractionType interactionType=187;float transitionTimeout=188;bool interactionMaintained=189;float interactionDuration=190;bool destinationIsOverlay=192[deprecated];Paint[]backgroundPaints=193;GUID inheritFillStyleIDForBackground=194;ArcData arcData=195;int derivedSymbolDataLayoutVersion=196;NavigationType navigationType=197;OverlayPositionType overlayPositionType=198;Vector overlayRelativePosition=199;OverlayBackgroundInteraction overlayBackgroundInteraction=200;OverlayBackgroundAppearance overlayBackgroundAppearance=201;string fontVersion=202;uint textUserLayoutVersion=203;PluginData[]pluginData=204;OpenTypeFeature[]toggledOnOTFeatures=205;OpenTypeFeature[]toggledOffOTFeatures=206;bool transitionShouldSmartAnimate=207;StackAlign stackAlign=208[deprecated];float stackHorizontalPadding=209;float stackVerticalPadding=210;StackSize stackWidth=211;StackSize stackHeight=212;GUID overrideKey=213;string publishFile=214;GUID publishID=215;string componentKey=216;bool isC2=217;string publishedVersion=218;PluginRelaunchData[]pluginRelaunchData=219;bool containerSupportsFillStrokeAndCorners=220;StackSize stackCounterSizing=221;bool containersSupportFillStrokeAndCorners=222[deprecated];Hyperlink hyperlink=223;KeyTrigger keyTrigger=224;bool isStateGroup=225;PrototypeInteraction[]prototypeInteractions=226;string voiceEventPhrase=227;GUIDPathMapping[]forceUnflatteningMappings=228;}message PrototypeInteraction{GUID id=1;PrototypeEvent event=2;PrototypeAction[]actions=3;bool isDeleted=4;}message PrototypeEvent{InteractionType interactionType=1;bool interactionMaintained=2;float interactionDuration=3;KeyTrigger keyTrigger=4;string voiceEventPhrase=5;float transitionTimeout=6;}message PrototypeAction{GUID transitionNodeID=1;TransitionType transitionType=2;float transitionDuration=3;EasingType easingType=4;float transitionTimeout=5[deprecated];bool transitionShouldSmartAnimate=6;ConnectionType connectionType=7;string connectionURL=8;Vector overlayRelativePosition=9;NavigationType navigationType=10;bool transitionPreserveScroll=11;float[]easingFunction=12;}enum TriggerDevice{KEYBOARD=0;UNKNOWN_CONTROLLER=1;XBOX_ONE=2;PS4=3;SWITCH_PRO=4;}message KeyTrigger{int[]keyCodes=1;TriggerDevice triggerDevice=2;}message Hyperlink{string url=1;GUID guid=2;}message Viewport{Rect canvasSpaceBounds=1;bool pixelPreview=2;float pixelDensity=3;GUID canvasGuid=4;}message Mouse{MouseCursor cursor=1;Vector canvasSpaceLocation=2;Rect canvasSpaceSelectionBox=3;GUID canvasGuid=4;}struct Click{uint id;Vector point;}struct ScrollPosition{GUID node;Vector scrollOffset;}struct TriggeredOverlay{GUID overlayGuid;GUID hotspotGuid;GUID swapGuid;}message TriggeredOverlayData{GUID overlayGuid=1;GUID hotspotGuid=2;GUID swapGuid=3;GUID prototypeInteractionGuid=4;GUIDPath hotspotBlueprintId=5;}message PresentedState{GUID baseScreenID=1;TriggeredOverlayData[]overlays=2;}enum TransitionDirection{FORWARD=0;REVERSE=1;}message TopLevelPlaybackChange{PresentedState oldState=1;PresentedState newState=2;GUIDPath hotspotBlueprintID=3;GUID interactionID=4;bool isHotspotInNewPresentedState=5;TransitionDirection direction=6;}enum PlaybackChangePhase{INITIATED=0;ABORTED=1;COMMITTED=2;}message PlaybackChangeKeyframe{PlaybackChangePhase phase=1;float progress=2;float timestamp=3;}message ScrollMapping{GUIDPath blueprintID=1;uint overlayIndex=2;Vector scrollOffset=3;}message PlaybackUpdate{TopLevelPlaybackChange lastTopLevelChange=1;PlaybackChangeKeyframe lastTopLevelChangeStatus=2;ScrollMapping[]scrollMappings=3;float timestamp=4;Vector pointerLocation=5;}message UserChange{uint sessionID=1;bool connected=2;string name=3;Color color=4;string imageURL=5;Viewport viewport=6;Mouse mouse=7;GUID[]selection=8;uint[]observing=9;string deviceName=10;Click[]recentClicks=11;ScrollPosition[]scrollPositions=12;TriggeredOverlay[]triggeredOverlays=13[deprecated];string userID=14;GUID lastTriggeredHotspot=15;GUID lastTriggeredPrototypeInteractionID=16;TriggeredOverlayData[]triggeredOverlaysData=17;PlaybackUpdate[]playbackUpdates=18;}message SceneGraphQuery{GUID startingNode=1;uint depth=2;}message NodeChangesMetadata{uint blobsFieldOffset=1;}message Message{MessageType type=1;uint sessionID=2;uint ackID=3;NodeChange[]nodeChanges=4;UserChange[]userChanges=5;Blob[]blobs=6;string signalName=7;Access access=8;string styleSetName=9;StyleSetType styleSetType=10;StyleSetContentType styleSetContentType=11;int pasteID=12;Vector pasteOffset=13;string pasteFileKey=14;string signalPayload=15;SceneGraphQuery[]sceneGraphQueries=16;NodeChangesMetadata nodeChangesMetadata=17[deprecated];uint fileVersion=18;bool pasteIsPartiallyOutsideEnclosingFrame=19;GUID pastePageId=20;}"}),
(function(e,s,c){"use strict";Object.defineProperty(s,"__esModule",{value:!0});c(89            );const a=c(217                 ),i=c(219             ),r=c(220                       );s.schema=i.compileSchema(a.parseSchema(r))}),
(function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=l(85                   );e.hasInvalidCssThumbnail=(t=>!!e.cssThumbnailMaybeSupported(t.style_type)&&!(t.meta&&t.meta.style_thumbnail)),e.validCssThumbnail=(t=>{var e;const l=null===(e=t.meta)||void 0===e?void 0:e.style_thumbnail;return l&&"INVALID"!==l.type&&l||null}),e.parseLibraryMeta=(t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return{}}return t}),e.cssThumbnailMaybeSupported=(t=>!(!i.getFeatureFlags().style_picker_improvements||"TEXT"!=t)||("FILL"===t||"EFFECT"===t||"GRID"===t)),e.cssThumbnailDefinitelySupported=(t=>"EFFECT"===t||"GRID"===t),e.extractStyleThumbnailFromNodeChange=((t,e)=>"FILL"===e&&t.fillPaints?{type:e,fillPaints:t.fillPaints}:"EFFECT"===e&&t.effects?{type:e,effects:t.effects}:"GRID"===e&&t.layoutGrids?{type:e,layoutGrids:t.layoutGrids}:i.getFeatureFlags().style_picker_improvements&&"TEXT"===e&&(t.fontSize||t.lineHeight)?{type:e,metrics:{fontSize:t.fontSize,lineHeight:t.lineHeight}}:{type:"INVALID"}),e.isSingleSolidPaintStyle=(t=>{if(t.meta&&t.meta.style_thumbnail&&"FILL"===t.meta.style_thumbnail.type){const e=t.meta.style_thumbnail.fillPaints;return 1==e.length&&"SOLID"===e[0].type}return!0}),e.shouldUseBorderForFillStyleChit=(t=>{if(t.meta&&t.meta.style_thumbnail&&"FILL"===t.meta.style_thumbnail.type){const l=t.meta.style_thumbnail.fillPaints;if(1===l.length&&"SOLID"===l[0].type&&l[0].color)return e.shouldUseBorderForBackgroundWithAlpha(l[0].color,l[0].color.a)}return!1}),e.shouldUseBorderForBackground=(t=>(t.r+t.g+t.b)/3>.9373),e.shouldUseBorderForBackgroundWithAlpha=((t,l)=>e.shouldUseBorderForBackground(t)||l<.4),e.isColorStyleTransparent=(t=>{if("FILL"!==t.style_type)return!1;const e=t.meta&&t.meta.style_thumbnail;if(!e)return!1;if("FILL"!==e.type)return!1;for(const l of e.fillPaints)if(!l.opacity||l.opacity>0)return!1;return!0})}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ColorFormatter=class{constructor(){this.normalize=(t=>t/255),this.normalize255=(t=>Math.round(255*t)),this.defaultSelection=(t=>this.getSelection(t,{r:!0,g:!0,b:!0})),this.increment=((t,e,i,r)=>{const n=Object.assign({},t);let s=i?this.normalize(10):this.normalize(1);s=e?-s:s;let o=i?.1:.01;return o=e?-o:o,r&&(r.r&&(n.r+=s),r.g&&(n.g+=s),r.b&&(n.b+=s),r.a&&(n.a+=o)),n}),this.clamp=(t=>{const e=Object.assign({},t);for(let i in t){let r=i;e[r]=Math.min(t[r],1),e[r]=Math.max(e[r],0)}return e})}}}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(223                );e.ColorCSSFormatter=class extends s.ColorFormatter{constructor(){super(...arguments),this.parse=(t=>{const e=/([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*,?\s*([\d.]*)/.exec(t);if(!e)throw new Error("Could not parse CSS");const r=this.normalize(parseFloat(e[1])),s=this.normalize(parseFloat(e[2])),o=this.normalize(parseFloat(e[3])),n=e[4];let a=1;if(n&&n.length&&(a=parseFloat(n)),[r,s,o,a].some(t=>isNaN(t)))throw new Error("Could not parse CSS");return{r:r,g:s,b:o,a:a}}),this.format=(t=>null==t?"":`rgba(${this.normalize255(t.r)}, ${this.normalize255(t.g)}, ${this.normalize255(t.b)}, ${parseFloat(t.a.toFixed(4))})`),this.getIncrementTargets=((t,e)=>{const{start:r,end:s}=e,o=r===s,n=this.format(this.parse(t)),a=n.indexOf(","),i=n.indexOf(",",a+1),l=n.indexOf(",",i+1),d={};return(r<=a||o&&r===a+1)&&(d.r=!0),(r<=i&&s>a+1||o&&r===i+1)&&(d.g=!0),(r<=l&&s>i+1||o&&r===l+1)&&(d.b=!0),!(d.r||d.g||d.b)&&s>l+1&&(d.a=!0),d}),this.getSelection=((t,e)=>{const r=t.indexOf("("),s=t.indexOf(","),o=t.indexOf(",",s+1),n=t.indexOf(",",o+1),a=t.indexOf(")");if(e.a)return{start:n+2,end:a};let i=r,l=r;return{start:i=e.r?r+1:e.g?s+2:o+2,end:l=e.b?n:e.g?o:s}})}}}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(223                );class s extends o.ColorFormatter{constructor(){super(...arguments),this.hexToFloat=(t=>this.normalize(parseInt(t,16))),this.floatToHex=(t=>{let e=this.normalize255(t).toString(16);return 1===e.length&&(e="0"+e),e}),this.repeat=(t=>new Array(3).join(t)),this.parse=((t,e)=>{const r=/[^0-9a-f]*([0-9a-f]*)/i.exec(t);if(!r)throw new Error("Could not parse hex");const o=r[1],s=e?e.a:1;if(o.length>=6){return{r:this.hexToFloat(o.substring(0,2)),g:this.hexToFloat(o.substring(2,4)),b:this.hexToFloat(o.substring(4,6)),a:s}}if(o.length>=3){return{r:this.hexToFloat(this.repeat(o[0])),g:this.hexToFloat(this.repeat(o[1])),b:this.hexToFloat(this.repeat(o[2])),a:s}}if(2===o.length){const t=this.hexToFloat(o);return{r:t,g:t,b:t,a:s}}if(1===o.length){const t=this.hexToFloat(this.repeat(o));return{r:t,g:t,b:t,a:s}}throw new Error("Could not parse hex")}),this.format=(t=>{return`#${this.floatToHex(t.r)}${this.floatToHex(t.g)}${this.floatToHex(t.b)}`.toUpperCase()}),this.formatForAndroid=(t=>{if(1===t.a)return this.format(t);return`#${this.floatToHex(t.a)}${this.floatToHex(t.r)}${this.floatToHex(t.g)}${this.floatToHex(t.b)}`.toUpperCase()}),this.getIncrementTargets=((t,e)=>{const{start:r,end:o}=e,s=r===o,a={};return(r<=2||s&&3===r)&&(a.r=!0),(r<=4&&o>3||s&&5===r)&&(a.g=!0),(r<=6&&o>5||s&&7===r)&&(a.b=!0),a}),this.getSelection=((t,e)=>{const r={start:1,end:1};return e.r?r.start=1:e.g?r.start=3:r.start=5,e.b?r.end=7:e.g?r.end=5:r.end=3,r})}}e.ColorHexFormatter=s;e.ColorHexFormatterWithoutHash=class extends s{constructor(){super(...arguments),this.format=(t=>`${this.floatToHex(t.r)}${this.floatToHex(t.g)}${this.floatToHex(t.b)}`.toUpperCase()),this.getIncrementTargets=((t,e)=>{const{start:r,end:o}=e,s=r===o,a={};return(r<=1||s&&2===r)&&(a.r=!0),(r<=3&&o>2||s&&4===r)&&(a.g=!0),(r<=5&&o>4||s&&6===r)&&(a.b=!0),a}),this.getSelection=((t,e)=>{const r={start:1,end:1};return e.r?r.start=1:e.g?r.start=3:r.start=5,e.b?r.end=7:e.g?r.end=5:r.end=3,r.start-=1,r.end-=1,r})}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(108     ),a=r(215                                          ),o=r(135                     ),s=r(176                       ),l=r(111          ),i=r(221       ),c=r(222                                      ),u=r(105        ),h=r(224                                       ),m=r(225                                       );t.getThumbnail=(e=>a.fullscreen.DEPRECATED_sendMessage("generateThumbnailForNode",{guid:e,width:768,height:768,maxScale:2}).buffer);const g=Object.create(null);t.getThumbnailUrlForComponent=(e=>{const r=t.getThumbnail(e);return t.cacheThumbDataAndGetUrl(r)}),t.FAILED_THUMBNAIL="FAILED_THUMBNAIL",t.LOADING_THUMBNAIL="LOADING_THUMBNAIL",t.isValidThumbnailUrl=(e=>!!e&&(e!==t.FAILED_THUMBNAIL&&e!==t.LOADING_THUMBNAIL&&!(e.startsWith("blob:")&&!g[e]))),t.getThumbnailUrlForStyle=((e,r)=>{const{args:n,buffer:o}=a.fullscreen.DEPRECATED_sendMessage("generateThumbnailFromStyleMaster",{nodeId:e,type:r,width:18,height:18,maxScale:2});if(n&&n.status===t.LOADING_THUMBNAIL)return t.LOADING_THUMBNAIL;const s=t.cacheThumbDataAndGetUrl(o);return s||(console.error(`failed to generate thumbnail for node ${e}`),t.FAILED_THUMBNAIL)}),t.getThumbnailUrlForStyleConsumer=((e,r)=>{const n=a.fullscreen.DEPRECATED_sendMessage("generateThumbnailFromStyleConsumer",{nodeId:e,inheritStyleKeyField:r,width:18,height:18,maxScale:2}).buffer,o=t.cacheThumbDataAndGetUrl(n);return o||(console.error(`failed to generate thumbnail for node ${e}`),t.FAILED_THUMBNAIL)}),t.getStyleThumbnailForCSSRendering=((e,t,r)=>{if(!c.cssThumbnailMaybeSupported(t))return{type:"INVALID"};const n=a.fullscreen.DEPRECATED_sendMessage("generateSerializableThumbnailForStyle",{nodeId:e,type:t,field:r}).buffer,o=n.length>0?i.schema.decodeMessage(n):null,s=o&&o.nodeChanges&&o.nodeChanges[0]||null;return s?c.extractStyleThumbnailFromNodeChange(s,t):(console.error(`failed to generate serializable thumbnail for node ${e}`),{type:"INVALID"})}),t.cacheThumbDataAndGetUrl=(e=>{if(e.length>0){const t=URL.createObjectURL(new Blob([e]));return g[t]=e,t}return null}),t.getBufferForThumbnailUrl=(e=>{const t=g[e];if(!t)throw new Error(`No buffer in cache for thumbnail url ${e}`);return t}),t.revokeThumbnailUrl=(e=>{g[e]&&(URL.revokeObjectURL(e),delete g[e])});let f=null;function d(e){return Object.keys(e).map(t=>e[t]).filter(e=>!e.unpublished_at)}function b(e){let t=e&&e.status;return Number.isInteger(t)&&t>=0?t:-1}function y(e){let t=b(e);return t>=400&&t<500}(()=>{const e=document.createElement("canvas");e.width=1,e.height=1,e.toBlob&&e.toBlob(e=>{const r=new FileReader;r.onload=(()=>{const e=r.result;f=t.cacheThumbDataAndGetUrl(new Uint8Array(e))}),r.readAsArrayBuffer(e)},"image/png")})(),t.getEmptyThumbnailUrl=(()=>f),t.generatePublishableBufferForStyleOrSymbol=(e=>a.fullscreen.DEPRECATED_sendMessage("generatePublishableBufferForStyleOrSymbol",{guid:e}).buffer),t.generateComponentKeyForNode=(e=>{const t=a.fullscreen.DEPRECATED_sendMessage("generateComponentKeyForNode",{guid:e});return t&&t.args&&t.args.componentKey?t.args.componentKey:(console.error(`Could not generate component key for ${e}`),null)}),t.generateStateGroupKeyForNode=(e=>{var t;const r=a.fullscreen.DEPRECATED_sendMessage("generateStateGroupKeyForNode",{guid:e});return(null===(t=null==r?void 0:r.args)||void 0===t?void 0:t.key)?r.args.key:(console.error(`Could not generate state group key for ${e}`),null)}),t.itemsForFile=d,t.sortedLibraryItemsForFile=function(e){const t=d(e);return u.sortAlphabeticallyByProperty(t,"name"),t},t.hasPendingUpdatesToPublish=(e=>{if(!e.editingFileKey||!e.fileByKey[e.editingFileKey])return!1;const t=e.fileByKey[e.editingFileKey],r=o.canAccessProFeature(t.team_id?e.teams[t.team_id]:null);let n=d(e.library.local.styles||{});r&&(n=n.concat(d(e.library.local.components||{})));let a=0,l=0;for(let o of n)o.status!==s.LibraryStatus.CURRENT&&o.status!==s.LibraryStatus.NOT_STAGED&&a++,o.status!==s.LibraryStatus.CURRENT&&o.status!==s.LibraryStatus.CHANGED&&o.status!==s.LibraryStatus.DELETED&&o.status!==s.LibraryStatus.CAN_UPGRADE||l++;return l>0&&a>0}),t.getNameParts=(e=>e.split("/").filter(e=>!!e).map(e=>e.trim())),t.getNamePrefix=(e=>{const r=t.getNameParts(e);return r.pop(),r.join("/")}),t.getLastPartOfName=(e=>{const r=t.getNameParts(e);return r.length?r[r.length-1]:""}),t.getFullPathToComponentLikeItem=(e=>{var r,n;const a=[],o=null===(r=e.containing_frame)||void 0===r?void 0:r.pageName;o&&a.push(o);const s=null===(n=e.containing_frame)||void 0===n?void 0:n.name;s&&a.push(s);const l=t.getNameParts(e.name);return a.push(...l),a}),t.getComponentLogData=(async e=>{let t=[];const r=(await n.default.post("/api/component_log_data",{components:e})).data.meta.components;if(r.length<e.length)for(const n of e){r.find(e=>e.component_key===n.component_key&&e.content_hash===n.content_hash)||console.error(`Component log data for component ${n.component_key} version ${n.content_hash} is missing`)}for(const n of r)n.canvas_url&&0!==n.canvas_url.length?t.push(n):console.error(`Canvas URL missing from component ${n.component_key} version ${n.content_hash}.`);return t});const _=e=>{let t=function(e,t){let r=e&&e.data&&e.data.message;return"string"==typeof r&&r.length>0?r:t}(e,"please try again later"),r=b(e);r>0?t+=` (status ${e.data.status})`:0===r&&(t+=" (must be online)"),a.fullscreen.showVisualBell("detach_instance","Detach error: "+t,!0)};function p(e){return`component/${e.component_key}/${e.content_hash}`}t.fetchComponentSceneGraphsForDetachInstance=(async(e,r)=>{try{const o=(new Date).getTime();let s,i,c=0,u=0,h=0,m=0,g=0,f=0,d=-1;try{i=await t.getComponentLogData(r)}catch(n){y(n)?++m:(++g,s=n),d=b(n),i=[]}for(const r of i){try{let o;try{o=await t.teamLibraryItemSceneGraphCache.get({canvas_url:r.canvas_url})}catch(n){y(n)?(console.warn("Permanent error",n,"status",b(n),"for entry",p(r)),m+=1):(console.warn("Transient error",n,"status",b(n),"for entry",p(r)),g+=1,s=n);continue}c+=o.byteLength;const l={guid:r.node_id,versionHash:r.content_hash,fileKey:r.file_key,editingFileKey:e,componentKey:r.component_key,isUnflattened:!0},i=a.fullscreen.DEPRECATED_sendMessage("upsertSharedSymbol",l,o);if(!i||!i.args||!i.args.localGUID){console.error(`Couldn't upsert shared symbol container in scene for componentKey ${r.component_key} version ${r.content_hash}.`),u+=1;continue}}catch(n){console.error("Uncaught error",n,"during buffer processing of",p(r)),h+=1;continue}f+=1}return l.segment.track("publishing_buffer_fetch_for_detach",{latency:(new Date).getTime()-o,num_versions_fetched:i.length,num_success:f,total_bytes:c,failed_to_upsert_in_scene:u,permanent_errors:m,transient_errors:g,uncaught_errors:h,log_data_error_status:d}),g>0?(_(s),Promise.resolve(!1)):Promise.resolve(!0)}catch(n){return _(n),Promise.resolve(!1)}});t.teamLibraryItemSceneGraphCache=new class{constructor(){this.get=(({canvas_url:e})=>{if(!e)return Promise.reject(new Error("No canvas URL"));if(e in this.cache)return Promise.resolve(this.cache[e]);if(e in this.requestsInFlight)return this.requestsInFlight[e];{const t=n.default.get(e,null,{responseType:"arraybuffer"}).then(({data:t})=>(delete this.requestsInFlight[e],this.cache[e]=t,t));return this.requestsInFlight[e]=t,t.catch(t=>{throw console.warn("Team library cache error on get() with status",b(t),"with error",t),delete this.requestsInFlight[e],t}),t}}),this.clearCache=(()=>{this.cache=Object.create(null),this.requestsInFlight=Object.create(null)}),this.clearCache()}};const T=new m.ColorHexFormatter,D=new h.ColorCSSFormatter;t.backgroundColorToUseForLibraryItem=(e=>{if(e.containing_frame&&e.containing_frame.backgroundColor){const t=e.containing_frame.backgroundColor,r="#"==t[0]?T.parse(t):D.parse(t);return 0==r.a?null:(r.a=1,r)}return null})}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(2,1    ),r=o(214         ),i=o(43,1         ),c=o(215                   ),s=o(85                   );function u(e,t){return r.Vector.rounded({x:e.width/2+(t.x-e.offsetX)*e.zoomScale,y:e.height/2+(t.y-e.offsetY)*e.zoomScale})}t.canvasPositionToViewport=u,t.canvasDimensionToViewport=function(e,t,o,n){return Math.round(n/2+(e-t)*o)},t.viewportPositionToCanvas=function(e,t){return r.Vector.rounded({x:(t.x-e.width/2)/e.zoomScale+e.offsetX,y:(t.y-e.height/2)/e.zoomScale+e.offsetY})},t.canvasRectToViewport=function(e,t){const o=u(e,{x:t.x,y:t.y});return{x:o.x,y:o.y,width:t.width*e.zoomScale,height:t.height*e.zoomScale}};t.useViewportInfo=s.getFeatureFlags().comments_perf_redux?()=>{const[e,t]=n.useState(null),o=i.useSelector(e=>"prototype"===e.selectedView.view);return n.useEffect(()=>{e||o||t(c.fullscreen.getViewportInfo())},[e,o,t]),n.useEffect(()=>{const e=e=>{t(e)};return c.fullscreen.viewport.on("onSetViewport",e),()=>{c.fullscreen.viewport.removeListener("onSetViewport",e)}},[t]),e}:()=>{return i.useSelector(e=>e.comments.viewportInfo)}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertDev=function(e,t){}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(228       );r.comparePositions=function(e,r){return+(e<r)-+(e>r)};const n=32,s=126;function a(e){if(""===e||e.charCodeAt(e.length-1)==n)return!1;for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<n||t>s)return!1}return!0}r.FIRST_POSITION=String.fromCharCode(n+1),r.positionBefore=function(e){o.assertDev(0!==e.length,"");let r=e.length-1,t=r;for(;t>=0;){let r=e.charCodeAt(t);if(r>n+1){let n=e.substr(0,t)+String.fromCharCode(r-1);return o.assertDev(a(n),""),n}t--}let i=e.substr(0,r)+String.fromCharCode(n)+String.fromCharCode(s);return o.assertDev(a(i),""),i},r.positionAfter=function(e){o.assertDev(0!==e.length,"");let r=e.length-1;for(;r>=0;){let t=e.charCodeAt(r);if(t<s){let n=e.substr(0,r)+String.fromCharCode(t+1);return o.assertDev(a(n),""),n}r--}let t=e+String.fromCharCode(n+1);return o.assertDev(a(t),""),t},r.positionBetween=function(e,r){o.assertDev(e<r,"");let t=e.length,i=r.length,f=!1,C="";for(let o=0,a=Math.max(t,i);o<a;o++){let a=o<t?e.charCodeAt(o):n,h=o<i&&!f?r.charCodeAt(o):s;if(a==h)C+=String.fromCharCode(a);else{if(h-a>1){C+=String.fromCharCode(a+h>>1),f=!1;break}C+=String.fromCharCode(a),f=!0}}return f&&(C+=String.fromCharCode(n+s>>1)),o.assertDev(e<C,""),o.assertDev(C<r,""),o.assertDev(a(C),""),C}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inheritedStyle=(e=>{switch(e){case"inheritTextStyleKey":return"TEXT";case"inheritFillStyleKey":case"inheritFillStyleKeyForStroke":case"inheritFillStyleKeyForBackground":return"FILL";case"inheritEffectStyleKey":return"EFFECT";case"inheritGridStyleKey":return"GRID";case"inheritExportStyleKey":return"EXPORT"}}),t.STYLE_PREFIX="S:";const n=",";function i(e){return!!(null==e?void 0:e.key)}function l(e){return e.startsWith(t.STYLE_PREFIX)}t.isValidStyleKey=i,t.looksLikeStyleKey=l,t.styleKeyToString=function(e){return e&&i(e)?`${t.STYLE_PREFIX}${e.key}${n}${e.version||""}`:""},t.styleKeyFromString=function(e){if(!e||!l(e))return null;const r=e.substring(t.STYLE_PREFIX.length).split(n);if(!r||2!==r.length)return null;const i=r[0],y=r[1];return i?{key:i,version:y}:null}}),
(function(n,l,i){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.invalidGUID={sessionID:-1,localID:-1},l.invalidGUIDStr="-1:-1",l.isValid=function(n){return!!n&&(0|n.localID)>=0&&(0|n.sessionID)>=0},l.equals=function(n,l){return n&&l?n.sessionID===l.sessionID&&n.localID===l.localID:n===l},l.toString=function(n){return n?`${0|n.sessionID}:${0|n.localID}`:null},l.fromString=function(n){if(!n)return null;const l=n.split(":");if(!l||2!==l.length)return null;let i=-1,t=-1;try{i=parseInt(l[0]),t=parseInt(l[1])}catch(s){return null}return isFinite(i)&&isFinite(t)?{sessionID:i,localID:t}:null}}),
(function(o,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(o){o[o.NONE=0]="NONE",o[o.PENDING=1]="PENDING",o[o.SHOWING=2]="SHOWING"}(t.TooltipState||(t.TooltipState={})),function(o){o[o.BELOW=0]="BELOW",o[o.LEFT=1]="LEFT",o[o.RIGHT=2]="RIGHT",o[o.ABOVE=3]="ABOVE"}(t.TooltipPosition||(t.TooltipPosition={})),function(o){o[o.ELEMENT=0]="ELEMENT",o[o.KEY=1]="KEY",o[o.TEXT=2]="TEXT"}(t.TargetKind||(t.TargetKind={})),function(o){o.TEXT="text",o.LOOKUP="lookup",o.SPECIAL="special"}(t.TooltipType||(t.TooltipType={})),function(o){o.USER_INFO="tooltip-user-info",o.VIEW_USER_PROFILE="tooltip-view-user-profile",o.STYLE_INFO="tooltip-style-info",o.PROTOTYPE_ORIGIN_INFO="tooltip-prototype-origin-info",o.PROTOTYPE_NO_ORIGIN_FRAME_INFO="tooltip-prototype-no-origin-frame-info",o.PROTOTYPE_ACTION_INFO="tooltip-prototype-destination-info",o.PROTOTYPE_SCROLL_HORIZONTAL_INFO="tooltip-prototype-scroll-horizontal-info",o.PROTOTYPE_SCROLL_VERTICAL_INFO="tooltip-prototype-scroll-vertical-info",o.ORG_GUEST_INFO="tooltip-org-guest-info",o.ORG_UPGRADE_USER_INFO="tooltip-org-upgrade-user-info",o.PERMISSIONS_MODAL_RESTRICTED_USER_SELF="tooltip-permissions-modal-restricted-user-self",o.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER="tooltip-permissions-modal-restricted-user-other",o.FIX_POSITION_INFO="tooltip-fix-position-info"}(t.TooltipSpecialKey||(t.TooltipSpecialKey={}))}),
(function(e,t,i){e.exports={styleIcon:"style_icon--styleIcon--3-PzQ",image:"style_icon--image--1eP8e",listImage:"style_icon--listImage--rgLLM style_icon--image--1eP8e",bitmapImage:"style_icon--bitmapImage--3DND9 style_icon--image--1eP8e",bitmapListImage:"style_icon--bitmapListImage--27lkv style_icon--bitmapImage--3DND9 style_icon--image--1eP8e",checkerboardBackground:"style_icon--checkerboardBackground--2UCiq",fillIcon:"style_icon--fillIcon--2kZ-_",selectedWithOutline:"style_icon--selectedWithOutline--IJmJK",selectedWithBackground:"style_icon--selectedWithBackground--3z5DF",imageWithBorder:"style_icon--imageWithBorder--1QlF1",selectedOutline:"style_icon--selectedOutline---dYHC style_icon--styleIcon--3-PzQ",strokeMask:"style_icon--strokeMask--3UZKg",alpha:"style_icon--alpha--2aRKm",strokeMaskWithBorder:"style_icon--strokeMaskWithBorder--2CfCI",styleChit:"style_icon--styleChit--1lHkA chit--chit--1bkYY",chitAlpha:"style_icon--chitAlpha--2LkJS chit--chitAlpha--HA8gA",chitWithBorder:"style_icon--chitWithBorder--gdfCT chit--chitWithBorder--pt2ch",failedStyleChit:"style_icon--failedStyleChit--2Cvvo",failedThumb:"style_icon--failedThumb--38_4t",failedTextThumb:"style_icon--failedTextThumb--1lgGi style_icon--failedThumb--38_4t",failedFillThumb:"style_icon--failedFillThumb---3JnL style_icon--failedThumb--38_4t",failedPropertyThumb:"style_icon--failedPropertyThumb--3sh30 style_icon--failedThumb--38_4t"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),a=s(146         );t.SvgWithFallback=class extends i.PureComponent{constructor(e){super(e),this.mediaQueryList=null,this.onMediaQueryListChange=(e=>{this.setState({matches:e.matches})}),this.mediaQueryList=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 2), screen and (min-resolution: 2dppx)"),this.mediaQueryList.addListener(this.onMediaQueryListChange),this.state={matches:this.mediaQueryList.matches}}componentWillUnmount(){this.mediaQueryList&&this.mediaQueryList.removeListener(this.onMediaQueryListChange)}render(){const e=Object.assign({},this.props);return delete e.fallbackSvg,this.props.fallbackSvg?(delete e.svg,i.createElement(a.Svg,Object.assign({svg:this.state.matches?this.props.svg:this.props.fallbackSvg},e))):i.createElement(a.Svg,Object.assign({},e))}}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm-6.738-1.817C6.817 19.2 9.256 20.5 12 20.5c2.743 0 5.183-1.3 6.738-3.317l.792.61C17.793 20.047 15.066 21.5 12 21.5c-3.066 0-5.793-1.453-7.53-3.707l.792-.61z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm6.738-12.183C17.183 4.8 14.743 3.5 12 3.5c-2.744 0-5.183 1.3-6.738 3.317l-.792-.61C6.207 3.953 8.934 2.5 12 2.5c3.066 0 5.793 1.453 7.53 3.707l-.792.61z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm5.183-13.738C19.2 6.817 20.5 9.257 20.5 12c0 2.744-1.3 5.183-3.317 6.738l.61.792C20.047 17.793 21.5 15.066 21.5 12c0-3.066-1.453-5.793-3.707-7.53l-.61.792z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm-1.1 1.43c.36.046.727.07 1.1.07 4.695 0 8.5-3.806 8.5-8.5 0-.373-.024-.74-.07-1.1l.991-.129c.052.402.079.813.079 1.229 0 5.247-4.253 9.5-9.5 9.5-.416 0-.827-.027-1.229-.079l.13-.991z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zM10.9 3.57c.36-.046.727-.07 1.1-.07 4.694 0 8.5 3.806 8.5 8.5 0 .373-.024.74-.07 1.1l.991.129c.052-.402.079-.813.079-1.229 0-5.247-4.253-9.5-9.5-9.5-.416 0-.826.027-1.229.079l.13.991z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zM6.817 5.262C4.8 6.817 3.5 9.257 3.5 12c0 2.743 1.3 5.183 3.317 6.738l-.61.792C3.954 17.793 2.5 15.066 2.5 12c0-3.066 1.453-5.793 3.708-7.53l.61.792z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm-8.43-8.1c-.046.36-.07.727-.07 1.1 0 4.695 3.806 8.5 8.5 8.5.373 0 .74-.024 1.1-.07l.129.991c-.403.052-.813.079-1.229.079-5.247 0-9.5-4.253-9.5-9.5 0-.416.027-.827.079-1.229l.992.13z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm1.1-15.43c-.36-.046-.727-.07-1.1-.07-4.694 0-8.5 3.806-8.5 8.5 0 .373.024.74.07 1.1l-.991.129C2.527 12.827 2.5 12.416 2.5 12c0-5.247 4.253-9.5 9.5-9.5.416 0 .827.027 1.229.079l-.13.991z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zM8.433 9.256C9.256 8.188 10.548 7.5 12 7.5c1.452 0 2.744.688 3.567 1.756l.793-.61C15.354 7.341 13.775 6.5 12 6.5c-1.775 0-3.354.841-4.36 2.146l.793.61z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-3.567-5.256C9.256 15.812 10.548 16.5 12 16.5c1.452 0 2.744-.688 3.567-1.756l.793.61C15.354 16.659 13.775 17.5 12 17.5c-1.775 0-3.354-.841-4.36-2.146l.793-.61z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-2.744-4.433C8.188 14.744 7.5 13.453 7.5 12c0-1.452.688-2.744 1.756-3.567l-.61-.793C7.341 8.646 6.5 10.225 6.5 12c0 1.775.841 3.354 2.146 4.36l.61-.793z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-4.463-7.418c-.024-.19-.037-.385-.037-.582 0-2.485 2.015-4.5 4.5-4.5.197 0 .391.013.582.037l.13-.991c-.233-.03-.471-.046-.712-.046-3.038 0-5.5 2.462-5.5 5.5 0 .241.016.479.046.711l.991-.129z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-4.463-8.582c-.024.19-.037.385-.037.582 0 2.485 2.015 4.5 4.5 4.5.197 0 .391-.013.582-.037l.13.991c-.233.03-.471.046-.712.046-3.038 0-5.5-2.462-5.5-5.5 0-.241.016-.479.046-.711l.991.129z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm2.744-4.433l.61.793C16.659 15.354 17.5 13.775 17.5 12c0-1.775-.841-3.354-2.146-4.36l-.61.793C15.812 9.256 16.5 10.548 16.5 12c0 1.453-.688 2.744-1.756 3.567z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-.582-12.463c.19-.024.385-.037.582-.037 2.485 0 4.5 2.015 4.5 4.5 0 .197-.013.392-.037.582l.991.13c.03-.233.046-.47.046-.712 0-3.038-2.462-5.5-5.5-5.5-.241 0-.479.016-.711.046l.129.991z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-.582-3.537c.19.024.385.037.582.037 2.485 0 4.5-2.015 4.5-4.5 0-.197-.013-.392-.037-.582l.991-.13c.03.233.046.47.046.712 0 3.038-2.462 5.5-5.5 5.5-.241 0-.479-.015-.711-.046l.129-.991z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,z,c){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/><path d="M17.29 7.416c-.218-.252-.454-.488-.706-.707l-1.938 1.938.707.707 1.938-1.938zm-3.288-2.125c.353.105.694.237 1.02.393l-1.168 1.17-.707-.708.855-.855zm-3.998-.002c.541-.161 1.11-.258 1.697-.283L8.854 7.854l-.708-.708 1.858-1.857zM5.006 11.7c.025-.587.122-1.156.283-1.697l1.857-1.858.708.708L5.006 11.7zm.679 3.322c-.157-.327-.29-.668-.394-1.02l.855-.857.708.708-1.17 1.169zm1.731 2.268c-.252-.219-.488-.455-.707-.707l.937-.938.708.708-.938.937zm2.582 1.418c-.353-.105-.694-.237-1.02-.393l2.668-2.67.707.708-2.355 2.355zm3.998.002c-.541.161-1.11.258-1.697.283l2.847-2.848.707.708-1.857 1.857zm4.998-6.412c-.025.587-.122 1.156-.282 1.697l-1.858 1.858-.707-.707 2.847-2.848zm-.678-3.322c.157.327.289.668.393 1.02l-2.355 2.357-.707-.707 2.669-2.67zm-6.17-1.83l.707.707-2 2-.707-.708 2-2zm-3 3l.708.707-2 2-.708-.707 2-2zm4.207 5.207l-.707-.707 2-2 .707.707-2 2zm.293-5.708l-2 2 .707.708 2-2-.707-.708zm-5 5l2-2 .707.708-2 2-.707-.707z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,z,m){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.478 4.815L6.646 6.646l.708.708 3.228-3.229c-.742.133-1.448.368-2.104.69zm4.725-.725l-2.556 2.556.707.708 3-3.002c-.372-.115-.757-.203-1.15-.262zm2.937 1.063l-1.494 1.493.708.708 1.62-1.62c-.265-.21-.544-.405-.834-.58zm2.126 1.873l-2.62 2.62.708.708 2.493-2.494c-.176-.29-.37-.569-.58-.834zm1.382 2.62l-3.002 3 .708.708 2.556-2.557c-.06-.394-.148-.779-.262-1.152zm.227 3.772l-2.229 2.229.708.707.83-.832c.323-.656.558-1.362.69-2.104zm-4.353 5.767l1.832-1.831-.708-.707-3.228 3.228c.742-.133 1.448-.368 2.104-.69zm-4.725.725l2.556-2.556-.707-.707-3 3c.372.116.757.204 1.15.263zM7.86 18.847l1.494-1.493-.708-.707-1.62 1.62c.265.21.544.404.834.58zm-2.126-1.873l2.12-2.12-.708-.707-1.993 1.993c.176.29.37.569.58.834zm-1.382-2.62l3.002-3-.708-.707-2.556 2.556c.06.394.148.779.262 1.152zm-.227-3.772l2.229-2.228-.708-.708-.83.832c-.323.656-.558 1.362-.69 2.104zm9.729-1.728l-.707-.708-2 2 .707.708 2-2zm-3.707 2.293l-2 2 .707.707 2-2-.707-.707zm3.5 4.5l.707.707 2-2-.708-.707-2 2zm-1-3l2-2 .707.707-2 2-.707-.707zm-1 1l-2 2 .707.707 2-2-.707-.707zm-2-6l-2 2 .707.707 2-2-.708-.708z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8.5.5h-1v3h1v-3zM3.05 2.343l-.707.707 2.122 2.122.707-.708-2.122-2.12zm10.607.707l-.707-.707-2.121 2.121.707.708 2.121-2.122zM.5 7.5v1h3v-1h-3zm12 0v1h3v-1h-3zm-7.328 4.036l-.707-.708-2.122 2.122.707.707 2.122-2.121zm6.363-.708l-.707.708 2.122 2.12.707-.706-2.122-2.122zM8.5 12.5h-1v3h1v-3z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M10.498 7.998c0 1.38-1.12 2.5-2.5 2.5-1.38 0-2.5-1.12-2.5-2.5 0-1.38 1.12-2.5 2.5-2.5 1.38 0 2.5 1.12 2.5 2.5zm-1 0c0 .828-.672 1.5-1.5 1.5-.829 0-1.5-.672-1.5-1.5 0-.829.671-1.5 1.5-1.5.828 0 1.5.671 1.5 1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,h,v){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 .5V0H7v3h1V.5zM2.904 2.197l-.354-.354-.707.707.354.354L3.61 4.318l.354.354.707-.708-.354-.353-1.414-1.414zm9.9.707l.353-.354-.707-.707-.354.354-1.414 1.414-.354.353.708.708.353-.354 1.414-1.414zM.5 7H0v1h3V7H.5zm12 0H12v1h3V7h-2.5zm-8.182 4.39l.354-.354-.707-.708-.354.354-1.414 1.414-.354.354.707.707.354-.354 1.414-1.414zm7.071-.708l-.354-.354-.707.708.354.353 1.414 1.414.354.354.707-.707-.354-.354-1.414-1.414zM8 12.5V12H7v3h1v-2.5zm.998-5.002c0 .828-.672 1.5-1.5 1.5-.829 0-1.5-.672-1.5-1.5 0-.829.671-1.5 1.5-1.5.828 0 1.5.671 1.5 1.5zm1 0c0 1.38-1.12 2.5-2.5 2.5-1.38 0-2.5-1.12-2.5-2.5 0-1.38 1.12-2.5 2.5-2.5 1.38 0 2.5 1.12 2.5 2.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(o,t,h){o.exports={src:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M15 0v3H0V0h15zm0 6v3H0V6h15zm0 6v3H0v-3h15z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(h,o,t){h.exports={src:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h3v15H0V0zm6 0h3v15H6V0zm6 0h3v15h-3V0z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(h,v,z){h.exports={src:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h3v3H0V0zm6 0h3v3H6V0zm6 0h3v3h-3V0zM0 6h3v3H0V6zm6 0h3v3H6V6zm6 0h3v3h-3V6zM0 12h3v3H0v-3zm6 0h3v3H6v-3zm6 0h3v3h-3v-3z" fill-rule="nonzero" fill-opacity="1" fill="#444" stroke="none"/></svg>'}}),
(function(h,o,t){h.exports={src:'<svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M7 16h2.5v-1h-2V1h5v3h1V0H.5v4h1V1h5v14h-2v1H7z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(2,1    ),l=t(43,1         ),i=t(141              ),r=t(232                       ),n=t(233               ),o=t(222                                      ),p=t(226                       ),c=t(146                        ),m=t(234                                                    ),g=new(t(224                                       ).ColorCSSFormatter),h=t(235                                                           ),u=t(236                                                              ),f=t(237                                                           ),d=t(238                                                           ),y=t(239                                                              ),_=t(240                                                              ),v=t(241                                                              ),b=t(242                                                                 ),N=t(243                                                            ),S=t(244                                                               ),E=t(245                                                            ),T=t(246                                                            ),C=t(247                                                               ),I=t(248                                                               ),k=t(249                                                               ),w=t(250                                                                  ),F=t(251                                                    ),$=t(252                                                       ),L=t(253                                                 ),D=t(254                                                   ),M={INNER_SHADOW:{"01":N,"0-1":S,10:E,11:T,"1-1":C,"-10":I,"-11":k,"-1-1":w},DROP_SHADOW:{"01":h,"0-1":u,10:f,11:d,"1-1":y,"-10":_,"-11":v,"-1-1":b}},P=t(255                                                  ),x=t(256                                                     ),O=t(257                                                      ),W=O,B=t(258                                                        );class R extends a.PureComponent{render(){return"TEXT"===this.props.styleType?a.createElement("div",{className:n.failedTextThumb},a.createElement(c.Svg,{svg:B})):"EFFECT"===this.props.styleType?a.createElement("div",{className:n.failedPropertyThumb},a.createElement(m.SvgWithFallback,{svg:L,fallbackSvg:D})):"FILL"===this.props.styleType?a.createElement("div",{className:n.failedFillThumb},"?"):a.createElement("div",{className:n.failedThumb},"?")}}s.FailedThumb=R,R.displayName="FailedThumb";class A extends i.PureComponent{constructor(){super(...arguments),this.onMouseDown=i.mouseEvent(this,"mousedown",e=>{if(e.stopPropagation(),!this.props.onMouseDown)return i.SKIP_RECORDING;this.props.onMouseDown()})}render(){let e=n.styleChit;this.props.className&&(e+=` ${this.props.className}`);const t=a.createElement("div",{className:n.failedStyleChit},"?"),l=o.validCssThumbnail(this.props.style);if(l&&"FILL"===l.type){const s=U(l);if(s){const t=g.format(s);return o.shouldUseBorderForBackgroundWithAlpha(s,s.a)&&(e+=` ${n.chitWithBorder}`),a.createElement("div",{className:e,onMouseDown:this.onMouseDown,style:{backgroundColor:t},"data-tooltip-type":r.TooltipType.TEXT,"data-tooltip":this.props.style.name},a.createElement("div",{className:n.chitAlpha,style:{opacity:1-s.a}}))}}return a.createElement("div",{className:e,onMouseDown:this.props.onMouseDown},a.createElement(s.StyleImageContainer,{failedImage:t,style:this.props.style}))}}function U(e){if("FILL"!==e.type)return null;const s=e.fillPaints;if(!s||1!==s.length)return null;const t=s[0];return"SOLID"!==t.type||null==t.color||null==t.opacity?null:Object.assign(Object.assign({},t.color),{a:t.opacity})}s.FillStyleChit=A,A.displayName="FillStyleChit",s.solidColorStyleThumbnail=U,s.canRenderStyleThumbnail=function(e){return!!U(e)};class G extends a.Component{render(){const e=g.format(this.props.color);let s=this.props.inList?n.listImage:n.image,t=n.strokeMask;o.shouldUseBorderForBackgroundWithAlpha(this.props.color,this.props.color.a)&&(s+=` ${n.imageWithBorder}`,t+=` ${n.strokeMaskWithBorder}`);let l=null;this.props.maskIconForStroke&&(l=a.createElement("div",{className:t})),this.props.className&&(s+=` ${this.props.className}`);let i=null;return this.props.color.a<1&&(i=a.createElement("div",{className:`${n.alpha} ${s}`,style:{opacity:1-this.props.color.a}})),a.createElement("div",null,a.createElement("div",{className:s,style:{backgroundColor:e}}),i,l)}}G.displayName="SolidColorCSSThumbnail";class j extends a.Component{render(){const e=this.props.styleThumbnail.effects;if(!e||0===e.length)return a.createElement("div",{className:n.failedPropertyThumb},a.createElement(m.SvgWithFallback,{svg:L,fallbackSvg:D}));let s=void 0,t=void 0;if(1===e.length){const t=e[0];if(t.type)if("FOREGROUND_BLUR"===t.type)s=$;else if("BACKGROUND_BLUR"===t.type)s=F;else if(t.offset){s=M[t.type][`${Math.sign(t.offset.x)}${Math.sign(t.offset.y)}`]}}return s||(s=L,t=D),s?a.createElement("div",{className:`${n.image} ${this.props.className||""}`},a.createElement(m.SvgWithFallback,{svg:s,fallbackSvg:t})):a.createElement("div",{className:`${n.failedPropertyThumb} ${this.props.className||""}`},a.createElement(m.SvgWithFallback,{svg:L,fallbackSvg:D}))}}j.displayName="EffectCSSThumbnail";class K extends a.Component{render(){const e=this.props.styleThumbnail.layoutGrids;if(!e||0===e.length)return a.createElement("div",{className:n.failedPropertyThumb},a.createElement(c.Svg,{svg:W}));let s=O;if(1===e.length){const t=e[0];"STRIPES"===t.pattern&&(s="Y"===t.axis?P:x)}return s?a.createElement("div",{className:`${n.image} ${this.props.className||""}`},a.createElement(c.Svg,{svg:s})):a.createElement("div",{className:`${n.failedPropertyThumb} ${this.props.className||""}`},a.createElement(c.Svg,{svg:W}))}}K.displayName="GridCSSThumbnail";class V extends a.PureComponent{getCSSThumbnail(e){switch((e=e||{type:"INVALID"}).type){case"FILL":{const s=U(e);return s?a.createElement(G,{maskIconForStroke:this.props.maskIconForStroke,color:s,inList:this.props.inList,className:this.props.thumbnailClassName}):null}case"EFFECT":return a.createElement(j,{styleThumbnail:e,className:this.props.thumbnailClassName});case"GRID":return a.createElement(K,{styleThumbnail:e,className:this.props.thumbnailClassName})}return null}getImageThumbnail(e){let t=this.props.inList?n.bitmapListImage:n.bitmapImage;"FILL"===e.style_type&&(t+=` ${n.checkerboardBackground}`),this.props.className&&(t+=` ${this.props.thumbnailClassName}`);const l=a.createElement("div",{className:`${n.image} ${this.props.thumbnailClassName||""}`},a.createElement(R,{styleType:e.style_type}));return a.createElement(s.StyleImageContainer,{className:t,failedImage:l,style:e})}render(){const e=this.props.style.style_type,s=this.props.showTooltip&&this.props.style.name?r.TooltipSpecialKey.STYLE_INFO:"";let t=n.styleIcon;this.props.className&&(t+=` ${this.props.className}`),"FILL"===e&&(t+=` ${n.fillIcon}`),"background"===this.props.selectedState&&(t+=` ${n.selectedWithBackground}`),"outline"===this.props.selectedState&&(t+=` ${n.selectedWithOutline}`);let l=null;if(o.cssThumbnailMaybeSupported(this.props.style.style_type)){const e=o.validCssThumbnail(this.props.style);e&&(l=this.getCSSThumbnail(e))}let i=null;return l||(l=this.getImageThumbnail(this.props.style),this.props.maskIconForStroke&&(i=a.createElement("div",{className:n.strokeMask}))),a.createElement("div",{className:t,"data-tooltip-type":r.TooltipType.SPECIAL,"data-tooltip":s,"data-tooltip-style-name":this.props.style.name,"data-tooltip-style-description":this.props.style.description,onContextMenu:this.props.onContextMenu,onMouseDown:this.props.onMouseDown,onDoubleClick:this.props.onDoubleClick},l,i,"outline"===this.props.selectedState?a.createElement("div",{className:`${n.selectedOutline} ${this.props.selectedOutlineClassName||""}`}):null)}}var H;s.StyleIcon=V,V.displayName="StyleIcon",function(e){class s extends a.PureComponent{render(){const{className:e,failedImage:s,localThumbnail:t,style:l}=this.props,i=t&&t.url,r=p.isValidThumbnailUrl(i)&&i||p.isValidThumbnailUrl(l.thumbnail_url)&&l.thumbnail_url||void 0;return r?a.createElement("img",{draggable:!1,className:e,src:r}):s}}s.displayName="StyleImage";e.ConnectedStyleImage=l.connect((e,s)=>({localThumbnail:s.style.node_id&&e.library.local.thumbnails[s.style.node_id]||null}))(s)}(H||(H={})),s.StyleImageContainer=H.ConnectedStyleImage}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=l(91                  ),a=l(176                       ),i=l(100                               ),s=l(226                       ),r=l(222                                      ),o=l(259                                                                 );function u(e,t,l){const n=t.style_type,i=e[t.node_id]||{},u=!(r.cssThumbnailDefinitelySupported(n)||i.content_hash===t.content_hash&&i.url&&i.url!==s.LOADING_THUMBNAIL),y=r.cssThumbnailMaybeSupported(n)&&(i.content_hash!==t.content_hash||r.hasInvalidCssThumbnail(t));if(u||y){let e=i.url,n=t.meta?t.meta.style_thumbnail:null,r=!1;if(y&&(n=s.getStyleThumbnailForCSSRendering(t.node_id,t.style_type)),u)if(n&&o.canRenderStyleThumbnail(n))e="";else{if(l)return{item:null,wasExpensive:!0};e=s.getThumbnailUrlForStyle(t.node_id,t.style_type),r=!0}return{item:{nodeId:t.node_id,url:e,styleThumbnail:n,type:a.LibraryItemType.STYLE},wasExpensive:r}}return{item:null,wasExpensive:!1}}!function(e){e.generateStyleThumbnails=i.asyncActionCreator("COMPONENT_GENERATE_FILL_STYLE_THUMBNAILS",(t,l)=>{const n=t.getState().library.local.styles,a=t.getState().library.local.thumbnails,i=l.styleType,o=[];let y=0;for(let e in n){const t=n[e];if(t.style_type!==i)continue;const l=a[e]||{},h=!(r.cssThumbnailDefinitelySupported(i)||l.content_hash===t.content_hash&&l.url&&l.url!==s.LOADING_THUMBNAIL),c=r.cssThumbnailMaybeSupported(i)&&(l.content_hash!==t.content_hash||r.hasInvalidCssThumbnail(t));if(h||c){const e=y>0,{item:l,wasExpensive:n}=u(a,t,e);l&&o.push(l),n&&y++}}o.length>0&&t.dispatch(e.updateThumbnails(o)),y>1&&requestAnimationFrame(()=>{t.dispatch(e.generateStyleThumbnails({styleType:i}))})}),e.generateStyleThumbnail=i.asyncActionCreator("COMPONENT_GENERATE_STYLE_THUMBNAIL",(t,l)=>{if(l.styleKind===a.StyleKind.LOCAL){const n=t.getState().library.local.thumbnails,a=t.getState().library.local.styles[l.styleNodeId];if(a){const{item:l}=u(n,a,!1);l&&t.dispatch(e.updateThumbnails([l]))}}else if(l.styleKind===a.StyleKind.DANGLING){if(t.getState().library.local.thumbnails[l.styleNodeId])return;const n=s.getThumbnailUrlForStyle(l.styleNodeId,"FILL");t.dispatch(e.addThumbnailForDanglingStyle({styleID:l.styleNodeId,url:n}))}}),e.updateThumbnails=n.actionCreator("LIBRARY_THUMBNAIL_UPDATE"),e.replaceThumbnailsForLocalStyles=n.actionCreator("LIBRARY_THUMBNAIL_REPLACE_FOR_LOCAL_STYLES"),e.addThumbnailForDanglingStyle=n.actionCreator("LIBRARY_ADD_THUMBNAIL_FOR_DANGLING_STYLE")}(t.libraryThumbnail||(t.libraryThumbnail={}))}),
(function(E,T,O){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),function(E){E[E.LAYOUT=0]="LAYOUT",E[E.VECTOR=1]="VECTOR",E[E.TEXT=2]="TEXT",E[E.RASTER=3]="RASTER",E[E.GRADIENT=4]="GRADIENT",E[E.PLACE_IMAGE=5]="PLACE_IMAGE",E[E.HISTORY=6]="HISTORY",E[E.PREVIEW=7]="PREVIEW",E[E.COMMENTS=8]="COMMENTS"}(T.EditModeType||(T.EditModeType={})),function(E){E[E.LAYOUT=0]="LAYOUT",E[E.HISTORY=1]="HISTORY",E[E.PREVIEW=2]="PREVIEW"}(T.TopLevelMode||(T.TopLevelMode={})),function(E){E[E.OFF=0]="OFF",E[E.ON=1]="ON",E[E.MIXED=2]="MIXED"}(T.PropertyState||(T.PropertyState={})),function(E){E[E.NONE=0]="NONE",E[E.COLOR=1]="COLOR"}(T.GradientStopType||(T.GradientStopType={})),function(E){E[E.NONE=0]="NONE",E[E.FILL=1]="FILL",E[E.STROKE=2]="STROKE",E[E.EFFECT=3]="EFFECT",E[E.EXPORT=4]="EXPORT",E[E.LAYOUT_GRID=5]="LAYOUT_GRID",E[E.BACKGROUND=6]="BACKGROUND",E[E.PLUGIN=7]="PLUGIN",E[E.PROTOTYPE_INTERACTION=8]="PROTOTYPE_INTERACTION"}(T.SelectedPropertyType||(T.SelectedPropertyType={})),function(E){E[E.SINGLE_VIEWPORT=0]="SINGLE_VIEWPORT",E[E.HORIZONTAL_SPLIT=1]="HORIZONTAL_SPLIT",E[E.VERTICAL_SPLIT=2]="VERTICAL_SPLIT",E[E.FOUR_WAY_SPLIT=3]="FOUR_WAY_SPLIT"}(T.ViewportLayout||(T.ViewportLayout={})),function(E){E[E.NONE=0]="NONE",E[E.PRESET=1]="PRESET",E[E.CUSTOM=2]="CUSTOM",E[E.PRESENTATION=3]="PRESENTATION"}(T.PrototypeDeviceType||(T.PrototypeDeviceType={})),function(E){E[E.NONE=0]="NONE",E[E.CCW_90=1]="CCW_90"}(T.DeviceRotation||(T.DeviceRotation={})),function(E){E[E.NONE=0]="NONE",E[E.PHONE=1]="PHONE",E[E.TABLET=2]="TABLET",E[E.DESKTOP=3]="DESKTOP",E[E.WATCH=4]="WATCH",E[E.PAPER=5]="PAPER",E[E.SOCIALMEDIA=6]="SOCIALMEDIA",E[E.FIGMA=7]="FIGMA"}(T.PresetType||(T.PresetType={})),function(E){E[E.NONE=0]="NONE",E[E.SELECT=1]="SELECT",E[E.HAND=2]="HAND",E[E.COMMENTS=3]="COMMENTS",E[E.DROPPER_COLOR=4]="DROPPER_COLOR",E[E.FRAME=5]="FRAME",E[E.SLICE=6]="SLICE",E[E.STACK=7]="STACK",E[E.SHAPE_STAR=8]="SHAPE_STAR",E[E.SHAPE_LINE=9]="SHAPE_LINE",E[E.SHAPE_ARROW=10]="SHAPE_ARROW",E[E.SHAPE_ELLIPSE=11]="SHAPE_ELLIPSE",E[E.SHAPE_RECTANGLE=12]="SHAPE_RECTANGLE",E[E.SHAPE_REGULAR_POLYGON=13]="SHAPE_REGULAR_POLYGON",E[E.VECTOR_PEN=14]="VECTOR_PEN",E[E.VECTOR_PENCIL=15]="VECTOR_PENCIL",E[E.VECTOR_BEND=16]="VECTOR_BEND",E[E.VECTOR_PAINT_BUCKET=17]="VECTOR_PAINT_BUCKET",E[E.TYPE=18]="TYPE",E[E.SCALE=19]="SCALE"}(T.Tool||(T.Tool={})),function(E){E[E.MISSING=0]="MISSING",E[E.PRESENT=1]="PRESENT",E[E.MIXED=2]="MIXED",E[E.MIXED_VALUES_FIRST=3]="MIXED_VALUES_FIRST",E[E.MIXED_VALUES_NEXT=4]="MIXED_VALUES_NEXT"}(T.SelectionPropertyState||(T.SelectionPropertyState={})),function(E){E[E.FRAME_PRESETS=0]="FRAME_PRESETS",E[E.CANVAS_ITEM=1]="CANVAS_ITEM",E[E.TRANSFORM_ITEM=2]="TRANSFORM_ITEM",E[E.INSTANCE_ITEM=3]="INSTANCE_ITEM",E[E.STATES_ITEM=4]="STATES_ITEM",E[E.STATE_GROUP_ITEM=5]="STATE_GROUP_ITEM",E[E.DEPRECATED_FRAME_BACKGROUND_ITEM=6]="DEPRECATED_FRAME_BACKGROUND_ITEM",E[E.CONSTRAINTS_ITEM=7]="CONSTRAINTS_ITEM",E[E.VECTOR_ITEM=8]="VECTOR_ITEM",E[E.GRIDS_ITEM=9]="GRIDS_ITEM",E[E.MASK_ITEM=10]="MASK_ITEM",E[E.LAYER_ITEM=11]="LAYER_ITEM",E[E.TYPE_ITEM=12]="TYPE_ITEM",E[E.FILL_ITEM=13]="FILL_ITEM",E[E.STROKE_ITEM=14]="STROKE_ITEM",E[E.EFFECTS_ITEM=15]="EFFECTS_ITEM",E[E.EXPORT_ITEM=16]="EXPORT_ITEM",E[E.STACK_ITEM=17]="STACK_ITEM",E[E.REMOVE_GROUP_BACKGROUND_ITEM=18]="REMOVE_GROUP_BACKGROUND_ITEM",E[E.OVERFLOW_ITEM=19]="OVERFLOW_ITEM",E[E.NUM_VALUES=20]="NUM_VALUES"}(T.PropertiesPanelType||(T.PropertiesPanelType={})),function(E){E[E.FRAME_PRESETS_ITEM=0]="FRAME_PRESETS_ITEM",E[E.CORNER_RADIUS=1]="CORNER_RADIUS",E[E.FRAME_OPTIONS=2]="FRAME_OPTIONS",E[E.COUNT=3]="COUNT",E[E.STAR_INNER_SCALE=4]="STAR_INNER_SCALE",E[E.RECTANGLE_CORNER_RADII=5]="RECTANGLE_CORNER_RADII",E[E.FIXED_FRAME_OPTIONS=6]="FIXED_FRAME_OPTIONS",E[E.ARC_DATA=7]="ARC_DATA",E[E.TRANSFORM=8]="TRANSFORM",E[E.SIZE=9]="SIZE",E[E.NUM_VALUES=10]="NUM_VALUES"}(T.TransformPanelControl||(T.TransformPanelControl={})),function(E){E[E.STATE_GROUP=0]="STATE_GROUP",E[E.STATE=1]="STATE",E[E.STATE_INSTANCE=2]="STATE_INSTANCE",E[E.NON_STATE_COMPONENTS=3]="NON_STATE_COMPONENTS",E[E.NONE=4]="NONE"}(T.StatesPanelMode||(T.StatesPanelMode={})),function(E){E[E.NONE=0]="NONE",E[E.INT=1]="INT",E[E.BOOL=2]="BOOL",E[E.FLOAT=3]="FLOAT",E[E.STRING=4]="STRING",E[E.JSON=5]="JSON",E[E.COMMENTS_VIEWPORT_INFO=6]="COMMENTS_VIEWPORT_INFO",E[E.GRADIENT_STOP_SELECTION=7]="GRADIENT_STOP_SELECTION",E[E.SELECTED_PROPERTY=8]="SELECTED_PROPERTY",E[E.BOOL_ARRAY=9]="BOOL_ARRAY",E[E.GUID=10]="GUID"}(T.JSONSerializableType||(T.JSONSerializableType={})),function(E){E[E.OVERRIDES_FOR_LAYER_AND_SUBLAYERS=0]="OVERRIDES_FOR_LAYER_AND_SUBLAYERS",E[E.EXPORTS=1]="EXPORTS",E[E.EFFECTS=2]="EFFECTS",E[E.LAYER=3]="LAYER",E[E.VISIBLE=4]="VISIBLE",E[E.NAME=5]="NAME",E[E.FILL=6]="FILL",E[E.STROKE=7]="STROKE",E[E.TEXT=8]="TEXT",E[E.TEXT_STYLE=9]="TEXT_STYLE",E[E.SIZE=10]="SIZE",E[E.OVERRIDDEN_SYMBOL=11]="OVERRIDDEN_SYMBOL",E[E.TRANSITION=12]="TRANSITION",E[E.OVERLAY=13]="OVERLAY",E[E.NUM_VALUES=14]="NUM_VALUES"}(T.Reset||(T.Reset={})),function(E){E[E.HEX=0]="HEX",E[E.RGB=1]="RGB",E[E.CSS=2]="CSS",E[E.HSB=3]="HSB",E[E.HSL=4]="HSL"}(T.ColorFormat||(T.ColorFormat={})),function(E){E[E.ALWAYS=0]="ALWAYS",E[E.ONLY_WHEN_NOT_EMPTY=1]="ONLY_WHEN_NOT_EMPTY"}(T.Overwrite||(T.Overwrite={})),function(E){E[E.ADD_CHANGES=0]="ADD_CHANGES",E[E.REPLACE_CHANGES=1]="REPLACE_CHANGES"}(T.AutosaveCommitPolicy||(T.AutosaveCommitPolicy={})),function(E){E[E.UNJOINED=0]="UNJOINED",E[E.GOT_SCHEMA=1]="GOT_SCHEMA",E[E.JOINING=2]="JOINING",E[E.JOINED=3]="JOINED",E[E.SHOULD_UPGRADE=4]="SHOULD_UPGRADE",E[E.UPGRADING=5]="UPGRADING",E[E.WAITING_FOR_RELOAD=6]="WAITING_FOR_RELOAD"}(T.MultiplayerSessionState||(T.MultiplayerSessionState={})),function(E){E[E.COMMENT=0]="COMMENT",E[E.EMPTY_LINE=1]="EMPTY_LINE",E[E.DECLARATION=2]="DECLARATION",E[E.BLOCK_COMMENT=3]="BLOCK_COMMENT"}(T.CSSExportLineType||(T.CSSExportLineType={})),function(E){E[E.LAYERS=0]="LAYERS",E[E.PUBLISH=1]="PUBLISH",E[E.TEAM_LIBRARY=2]="TEAM_LIBRARY"}(T.LeftPanelTab||(T.LeftPanelTab={})),function(E){E[E.DESIGN=0]="DESIGN",E[E.PROTOTYPE=1]="PROTOTYPE",E[E.CODE=2]="CODE",E[E.COMMENT=3]="COMMENT",E[E.EXPORT=4]="EXPORT"}(T.PropertiesPanelTab||(T.PropertiesPanelTab={})),function(E){E[E.CSS=0]="CSS",E[E.IOS=1]="IOS",E[E.ANDROID=2]="ANDROID"}(T.HandoffPlatformTarget||(T.HandoffPlatformTarget={})),function(E){E[E.TABULAR=0]="TABULAR",E[E.CODE=1]="CODE"}(T.HandoffOutputFormat||(T.HandoffOutputFormat={})),function(E){E[E.LOCAL=0]="LOCAL",E[E.GOOGLE=1]="GOOGLE",E[E.SHARED=2]="SHARED"}(T.FontSource||(T.FontSource={})),function(E){E[E.SELECTION=0]="SELECTION",E[E.SNAPPING=1]="SNAPPING"}(T.Overlay||(T.Overlay={})),function(E){E[E.SCROLLS=0]="SCROLLS",E[E.FIXED=1]="FIXED"}(T.ScrollBehavior||(T.ScrollBehavior={})),function(E){E[E.CURRENT_TAB=0]="CURRENT_TAB",E[E.NEW_TAB=1]="NEW_TAB"}(T.NavigateTarget||(T.NavigateTarget={})),function(E){E[E.NONE=0]="NONE",E[E.PRESET=1]="PRESET",E[E.CUSTOM=2]="CUSTOM",E[E.PRESENTATION=3]="PRESENTATION"}(T.DeviceType||(T.DeviceType={})),function(E){E[E.CRASH=0]="CRASH",E[E.CONCERNING=1]="CONCERNING",E[E.DANGEROUS=2]="DANGEROUS"}(T.MemoryWarningType||(T.MemoryWarningType={})),function(E){E[E.SEARCH=0]="SEARCH",E[E.PREFERENCES=1]="PREFERENCES"}(T.ToggleMenu||(T.ToggleMenu={})),function(E){E[E.EMPTY=0]="EMPTY",E[E.RESIZING_WIDTH_AND_HEIGHT=1]="RESIZING_WIDTH_AND_HEIGHT",E[E.RESIZING_HEIGHT=2]="RESIZING_HEIGHT",E[E.RESIZING_NONE=3]="RESIZING_NONE",E[E.ALIGNMENT_LEFT=4]="ALIGNMENT_LEFT",E[E.ALIGNMENT_CENTER=5]="ALIGNMENT_CENTER",E[E.ALIGNMENT_RIGHT=6]="ALIGNMENT_RIGHT",E[E.ALIGNMENT_JUSTIFIED=7]="ALIGNMENT_JUSTIFIED",E[E.DECORATION_NONE=8]="DECORATION_NONE",E[E.DECORATION_UNDERLINE=9]="DECORATION_UNDERLINE",E[E.DECORATION_STRIKETHROUGH=10]="DECORATION_STRIKETHROUGH",E[E.TEXT_CASE_ORIGINAL=11]="TEXT_CASE_ORIGINAL",E[E.TEXT_CASE_UPPER=12]="TEXT_CASE_UPPER",E[E.TEXT_CASE_LOWER=13]="TEXT_CASE_LOWER",E[E.TEXT_CASE_TITLE=14]="TEXT_CASE_TITLE",E[E.TEXT_CASE_SMALL_CAPS=15]="TEXT_CASE_SMALL_CAPS",E[E.TEXT_CASE_SMALL_CAPS_FORCED=16]="TEXT_CASE_SMALL_CAPS_FORCED",E[E.FRACTIONS_ON=17]="FRACTIONS_ON",E[E.FRACTIONS_OFF=18]="FRACTIONS_OFF",E[E.DISCRETIONARY_LIGATURES_ON=19]="DISCRETIONARY_LIGATURES_ON",E[E.DISCRETIONARY_LIGATURES_OFF=20]="DISCRETIONARY_LIGATURES_OFF",E[E.HISTORICAL_LIGATURES_ON=21]="HISTORICAL_LIGATURES_ON",E[E.HISTORICAL_LIGATURES_OFF=22]="HISTORICAL_LIGATURES_OFF",E[E.NUMERIC_STYLE_ORIGINAL=23]="NUMERIC_STYLE_ORIGINAL",E[E.NUMERIC_STYLE_UPPER_PROPORTIONAL=24]="NUMERIC_STYLE_UPPER_PROPORTIONAL",E[E.NUMERIC_STYLE_UPPER_MONOSPACE=25]="NUMERIC_STYLE_UPPER_MONOSPACE",E[E.NUMERIC_STYLE_LOWER_PROPORTIONAL=26]="NUMERIC_STYLE_LOWER_PROPORTIONAL",E[E.NUMERIC_STYLE_LOWER_MONOSPACE=27]="NUMERIC_STYLE_LOWER_MONOSPACE",E[E.NUMERIC_POSITION_SUB=28]="NUMERIC_POSITION_SUB",E[E.NUMERIC_POSITION_SUPER=29]="NUMERIC_POSITION_SUPER",E[E.NUMERIC_POSITION_NORMAL=30]="NUMERIC_POSITION_NORMAL",E[E.OPENTYPE_FEATURE_ON=31]="OPENTYPE_FEATURE_ON",E[E.OPENTYPE_FEATURE_OFF=32]="OPENTYPE_FEATURE_OFF"}(T.FontPreviewStyleOverride||(T.FontPreviewStyleOverride={})),function(E){E[E.NONE=0]="NONE",E[E.FRAME=1]="FRAME",E[E.GROUP=2]="GROUP",E[E.STACK=3]="STACK"}(T.FrameLayoutMode||(T.FrameLayoutMode={})),function(E){E[E.VALID=0]="VALID",E[E.NO_FRAMES=1]="NO_FRAMES",E[E.INVALID_CONNECTIONS=2]="INVALID_CONNECTIONS",E[E.NO_START_NODE=3]="NO_START_NODE",E[E.NO_VISIBLE_START_NODE=4]="NO_VISIBLE_START_NODE"}(T.PrototypeStatus||(T.PrototypeStatus={})),function(E){E[E.LOADED=0]="LOADED",E[E.LOADING=1]="LOADING",E[E.FAILED=2]="FAILED"}(T.ResourceStatus||(T.ResourceStatus={})),function(E){E[E.GROUP=0]="GROUP",E[E.UNION=1]="UNION",E[E.SUBTRACT=2]="SUBTRACT",E[E.INTERSECT=3]="INTERSECT",E[E.XOR=4]="XOR"}(T.GroupNodesType||(T.GroupNodesType={})),function(E){E[E.REDUX=0]="REDUX",E[E.PLUGIN=1]="PLUGIN"}(T.NodeContext||(T.NodeContext={})),T.tsapi_init=function(E){T.PerfInfo=E.PerfInfo,window.PerfInfo=T.PerfInfo,T.Fullscreen=E.Fullscreen,T.Multiplayer=E.Multiplayer,T.AutosaveHelpers=E.AutosaveHelpers,T.ColorHelpers=E.ColorHelpers,T.FontHelpers=E.FontHelpers,T.InteractionTestHelpers=E.InteractionTestHelpers,T.SceneGraphHelpers=E.SceneGraphHelpers,T.PrototypingHelpers=E.PrototypingHelpers,T.CustomFocusHelpers=E.CustomFocusHelpers,T.DebuggingHelpers=E.DebuggingHelpers,T.PluginHelpers=E.PluginHelpers,T.SceneNodeCpp=E.SceneNodeCpp,T.PluginSceneNodeCpp=E.PluginSceneNodeCpp,T.FullscreenPerfMetrics=E.FullscreenPerfMetrics,T.SelectionPaintHelpers=E.SelectionPaintHelpers}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStringsRaw={"after-selecting-points":"After selecting points…","align-bottom":"Align Bottom","align-centers":"Align Centers","align-horizontal-center":"Align Horizontal Centers","align-left":"Align Left","align-right":"Align Right","align-left-right":"Align Left/Right","align-top":"Align Top","align-top-bottom":"Align Top/Bottom","align-vertical-center":"Align Vertical Centers","arrange-menu":"Arrange","back-to-files":"Back to Files","bend-tool":"Bend Tool",bevel:"Bevel","boolean-menu":"Boolean Groups","bring-forward":"Bring Forward","bring-to-front":"Bring to Front","center-resize-drag":"Resize from Center","command-bar-mode-all":"all","command-bar-mode-all-label":"Quick Command","command-bar-mode-all-hint":"Type anything (action, layer, file, etc.)","command-bar-mode-run":"run","command-bar-mode-run-label":"Run","command-bar-mode-run-hint":"Run a menu action","command-bar-mode-goto":"goto","command-bar-mode-goto-label":"Goto Layer","command-bar-mode-goto-hint":"Goto a layer","command-bar-mode-insert":"insert","command-bar-mode-insert-label":"Insert Component","command-bar-mode-insert-hint":"Insert a component","command-bar-mode-open":"open","command-bar-mode-open-label":"Open File","command-bar-mode-open-hint":"Open a file","convert-to-raster":"Rasterize Selection","copy-as-menu":"Copy as","copy-paste-menu":"Copy/Paste","copy-export":"Copy Export","copy-as-css":"Copy as CSS","copy-as-svg":"Copy as SVG","copy-as-png":"Copy as PNG","copy-as-jpg":"Copy as JPG","copy-properties":"Copy Properties","copy-text":"Copy as Text",copy:"Copy","create-symbol":"Create Component","create-multiple-symbols":"Create Multiple Components","create-state-group":"Create Variant Component","create-state":"Create Variant","create-text-style":"Create Text Style","create-paint-style":"Create Color Style","create-effect-style":"Create Effect Style","create-stroke-style":"Create Stroke Style","crop-image":"Crop Image",cut:"Cut","debug-menu":"Debug","debug-selection":"Debug Log Selection","deep-select":"Deep Select","deep-select-rectangle":"Deep Select Within Rectangle","deep-pick":"Select Layer Menu","delete-and-heal-selection":"Delete and Heal Selection","delete-selection":"Delete","deselect-all":"Select None","detach-instance":"Detach Instance","discard-all-images":"Discard All","distribute-bottom":"Distribute Bottom","distribute-horizontal-center":"Distribute Horizontal Centers","distribute-horizontal-spacing":"Distribute Horizontal Spacing","distribute-left":"Distribute Left","distribute-right":"Distribute Right","distribute-top":"Distribute Top","distribute-spacing":"Distribute Spacing","distribute-vertical-center":"Distribute Vertical Centers","distribute-vertical-spacing":"Distribute Vertical Spacing","download-webgl-trace":"Download WebGL Trace","duplicate-in-place":"Duplicate",duplicate:"Duplicate Selection","edit-menu":"Edit","edit-shape-or-image":"Edit Shape or Image","enter-feedback-mode":"Feedback","enter-layout-mode":"Edit","export-all-frames-to-pdf":"Export Frames to PDF…","export-for-framer":"Export for Framer","export-selected-exportables":"Export…","export-selected-exportables-desc":"Export","figma-account-menu":"Help and Account","file-menu":"File","find-symbol":"Go to Main Component","flatten-selection":"Flatten Selection","flatten-selection-context-menu":"Flatten","flip-horizontal":"Flip Horizontal","flip-vertical":"Flip Vertical","frame-selection":"Frame Selection","get-desktop-app":"Get Desktop App","group-selection":"Group Selection","hide-selected-nodes":"Hide Selection","hide-sibling-layers":"Hide Other Layers","ignore-constraints":"Ignore Constraints","ignore-constraints-desc":"Ignore Constraints (Frames Only)","collapse-layers":"Collapse Layers","new-from-sketch":"New from Sketch File…","insert-component-right-text":"from #{name}","integrations-menu":"Integrations","community-hub-menu":"Community Hub","plugins-menu":"Plugins","plugins-menu-manage":"Manage Plugins…","plugins-menu-dev":"Development","plugins-menu-item":"#{plugin_name}","plugins-menu-sub-item":"#{plugin_sub_name}","plugins-menu-item-run":"Run…","plugins-menu-item-share":"Share…","plugins-menu-show-deprecated":"Deprecated Plugins…","plugins-menu-internal-dev-modal":"Internal Dev…","plugins-menu-use-desktop":"Not Available","plugins-menu-dev-create-new":"New Plugin…","plugins-menu-dev-add":"Add Plugin from File…","plugins-menu-dev-toggle-realms":"Use Developer VM","plugins-menu-add-from-key":"Add Plugin from Key…","plugins-menu-item-reload":"Reload","plugins-menu-item-remove":"Remove…","plugins-menu-open-directory-mac":"Reveal in Finder","plugins-menu-open-directory-win":"Reveal in Explorer","plugins-menu-open-console":"Open Console","plugins-menu-show-error":"Show Error Details…","plugins-menu-plugin-missing":"⚠ Plugin Missing","plugins-menu-manifest-issue":"⚠ Manifest Issue","plugins-run-last":"Run Last Plugin","plugins-realms-vm":"Developer VM","join-selection":"Join Selection","labeled-menu-item":"#{label}","leave-edit-mode":"Done","leave-history-edit-mode":"Exit Version History Mode","leave-vector-edit-mode":"Exit Vector Edit Mode (Esc)","line-height-update-info":"The new rendering changes the line height behavior and fixes many bugs. You can always undo the update.","link-copied":"Link copied to clipboard","live-boolean-intersect":"Intersect Selection","live-boolean-subtract":"Subtract Selection","live-boolean-union":"Union Selection","live-boolean-xor":"Exclude Selection","lock-selected-nodes":"Lock Selection","mask-selection":"Use as Mask","main-component":"Main Component","measure-to-selection":"Measure to Selection",miter:"Miter","mobile-app-push":"View on Mobile","move-while-resizing":"Move While Resizing","navigation-navigate":"Navigate","navigation-overlay":"Open Overlay","navigation-swap":"Swap",new:"New","next-artboard":"Zoom to Next Frame","next-artboard-same-zoom":"Find Next Frame",none:"(none)","object-menu":"Object","opacity-adjust":"Adjust Opacity","open-account-settings":"Account Settings","open-file-right-text":"in #{folder_name}","open-font-settings":"Open Font Settings","open-in-desktop-app":"Open in Desktop App","open-legal-summary":"Legal Summary","open-links-in-desktop-app":"Open Links in Desktop App","open-release-notes":"Release Notes","open-help":"Help Page","open-shortcuts":"Keyboard Shortcuts","open-community":"Community Forum","open-tutorials":"Video Tutorials","open-preferences-modal":"Libraries","outline-stroke":"Outline Stroke","pack-horizontal":"Pack Horizontal","pack-vertical":"Pack Vertical","page-copy-link":"Copy Link to Page","page-delete":"Delete Page","page-duplicate":"Duplicate Page","page-move-to":"#{name}","page-move-to-menu":"Move to Page","page-new":"New Page","page-next":"Next Page","page-previous":"Previous Page","page-rename":"Rename Page",pan:"Pan","panels-menu":"Panels","paste-and-match-style":"Paste and Match Style","paste-over-selection":"Paste Over Selection","paste-properties":"Paste Properties",paste:"Paste","place-all-images":"Place All",place:"Place Image","preferences-menu":"Preferences","previous-artboard":"Zoom to Previous Frame","previous-artboard-same-zoom":"Find Previous Frame","print-image-diagnostics":"Print Image Diagnostics","print-render-tree":"Print Render Tree","purge-all-memory":"Purge All Non-Essential Memory","push-overrides-to-master":"Push Overrides to Main Component",quit:"Quit","regenerate-all-instances":"Regenerate All Instances (slow)","purge-unreferenced-nodes":"Cleanup Unused Styles & Symbols (slow)","flattening-report":"Find Flattening Components","select-broken-fixed-scrolling-nodes":"Debug broken fixed-scrolling layers",redo:"Redo","fix-flattening-frames":"Fix Flattening Frames","remove-fill":"Remove Fill","remove-stroke":"Remove Stroke","rename-selection":"Rename Selection","rename-selection-context-menu":"Rename","request-edit-mode-via-toolbar":"Edit Object","request-edit-mode":"Edit Object","reset-file-thumbnail":"Restore Default Thumbnail","reset-symbol":"Reset Instance","resize-proportionally":"Resize Proportionally","resize-to-fit":"Resize to Fit","remove-connections-on-selection":"Remove Connections","remove-connections-on-page":"Remove All Connections","restore-symbol":"Restore Main Component","rotate-180":"Rotate 180˚","rotate-90-clockwise":"Rotate 90˚ Right","rotate-90-counterclockwise":"Rotate 90˚ Left",round:"Round","round-to-pixels":"Round to Pixel","save-as":"Save as .fig…","save-as-desc":"Save As","create-savepoint":"Save to Version History…","create-savepoint-desc":"Save to Version History","toggle-version-history":"Show Version History","search-results-empty":"No results found","search-results-overflow":"More",search:"Search","select-all":"Select All","select-all-text":"Select All Text Layers","select-inverse":"Select Inverse","select-child":"Select Child","select-node":"#{name}","select-node-menu":"Select Layer","select-parent":"Select Parents","select-next-sibling":"Select Next Sibling","select-previous-sibling":"Select Previous Sibling","swap-to-related-symbol":"Swap Instance","select-same-effect":"Select All with Same Effect","select-same-fill":"Select All with Same Fill","select-same-font":"Select All with Same Font","select-same-instance":"Select All with Same Instance","select-same-stroke":"Select All with Same Stroke","select-same-style":"Select All with Same Properties","select-same-text":"Select All with Same Text Properties","send-backward":"Send Backward","send-to-back":"Send to Back","set-default-style":"Set Default Properties","set-file-thumbnail":"Set as Thumbnail","set-missing-font":"Set Missing Font on Text","set-opacity-0":"Set Opacity to 100%","set-opacity-1":"Set Opacity to 10%","set-opacity-2":"Set Opacity to 20%","set-opacity-3":"Set Opacity to 30%","set-opacity-4":"Set Opacity to 40%","set-opacity-5":"Set Opacity to 50%","set-opacity-6":"Set Opacity to 60%","set-opacity-7":"Set Opacity to 70%","set-opacity-8":"Set Opacity to 80%","set-opacity-9":"Set Opacity to 90%","set-tool-arrow":"Arrow","set-tool-bend":"Bend Tool","set-tool-comments":"Add/Show Comments","set-tool-default":"Move","set-tool-ellipse":"Ellipse","set-tool-frame":"Frame","set-tool-hand":"Hand Tool","set-tool-line":"Line","set-tool-paint-bucket":"Paint Bucket","set-tool-pen":"Pen","set-tool-pencil":"Pencil","set-tool-rectangle":"Rectangle","set-tool-regular-polygon":"Polygon","set-tool-scale":"Scale","set-tool-slice":"Slice","set-tool-stack":"Stack","set-tool-star":"Star","set-tool-type":"Text","set-tool-arrow-desc":"Arrow Tool","set-tool-default-desc":"Move Tool","set-tool-ellipse-desc":"Ellipse Tool","set-tool-frame-desc":"Frame Tool","set-tool-line-desc":"Line Tool","set-tool-pen-desc":"Pen Tool","set-tool-pencil-desc":"Pencil Tool","set-tool-rectangle-desc":"Rectangle Tool","set-tool-slice-desc":"Slice Tool","set-tool-type-desc":"Text Tool","show-code-panel":"Open Code Panel","show-design-panel":"Open Design Panel",style:"Style","toggle-downtime-banner":"Toggle Downtime Banner","show-prototype-panel":"Open Prototype Panel","show-nudge-amount-picker":"Nudge Amount…","sign-out":"Log Out","simulate-back-to-files":"Simulate 'Back to Files'","smooth-join-selection":"Smooth Join Selection","stack-selection":"Add Auto Layout","unstack-selection":"Remove Auto Layout","stack-counter-align-left":"Align Left","stack-counter-align-horizontal-center":"Align Center","stack-counter-align-horizontal-stretch":"Stretch Left and Right","stack-counter-align-right":"Align Right","stack-counter-align-top":"Align Top","stack-counter-align-vertical-center":"Align Center","stack-counter-align-vertical-stretch":"Stretch Top and Bottom","stack-counter-align-bottom":"Align Bottom","stack-reorder-up":"Move Up","stack-reorder-up-end":"Move to Top","stack-reorder-down":"Move Down","stack-reorder-down-end":"Move to Bottom","stack-reorder-left":"Move Left","stack-reorder-left-end":"Move to Left Edge","stack-reorder-right":"Move Right","stack-reorder-right-end":"Move to Right Edge","swap-fill-and-stroke":"Swap Fill and Stroke","test-action":"Test Action","test-multiplayer-reject-invalid-permissions":"Test Multiplayer 'Invalid permissions'","test-multiplayer-reject-too-many-connections":"Test Multiplayer 'Too many Connections'","test-multiplayer-reject-too-old":"Test Multiplayer 'Client too old'","test-multiplayer-upgrade":"Test Multiplayer Upgrade Protocol","text-align-menu":"Align","text-align-left":"Text Align Left","text-align-center":"Text Align Center","text-align-right":"Text Align Right","text-align-justified":"Text Align Justified","text-align-top":"Text Align Top","text-align-middle":"Text Align Middle","text-align-bottom":"Text Align Bottom","text-bold-adjust":"Adjust Font Weight","text-bold-increase":"Increase Font Weight","text-bold-decrease":"Decrease Font Weight","text-edit-hyperlink":"Create Link","text-letter-spacing-increase":"Increase Letter Spacing","text-letter-spacing-decrease":"Decrease Letter Spacing","text-letter-spacing-adjust":"Adjust Letter Spacing","text-font-size-increase":"Increase Font Size","text-font-size-decrease":"Decrease Font Size","text-font-size-adjust":"Adjust Font Size","text-line-height-increase":"Increase Line Height","text-line-height-decrease":"Decrease Line Height","text-line-height-adjust":"Adjust Line Height","text-lower-case":"Lower Case","text-menu":"Text","text-original-case":"Original Case","text-relayout":"Recompute Text Layout in Selection","text-toggle-bold":"Bold","text-toggle-italic":"Italic","text-toggle-strikethrough":"Strikethrough","text-toggle-underline":"Underline","text-upper-case":"Upper Case","tidy-up":"Tidy Up","toggle-annotations":"Show Dimensions on Objects","toggle-copy-renaming":"Rename Duplicated Layers","toggle-show-guids":"Show GUIDs","toggle-force-publish-flattened":"Always Publish Flattened Symbols","toggle-dropper":"Pick Color","toggle-dynamic-color-sliders":"Use Dynamic Color Sliders","toggle-flip-during-resize":"Flip Objects While Resizing","toggle-frame-clipping":"Toggle Clip Content","toggle-google-fonts":"Show Google Fonts","toggle-gradient-edit-mode":"Edit Gradient Paint","toggle-grid":"Pixel Grid","toggle-perf-hud":"Show Performance HUD","toggle-debug-sync-logs":"Toggle Multiplayer Logs","toggle-help-widget":"Hide Help UI","toggle-invert-zoom":"Invert Zoom Direction","toggle-keyboard-zoom-to-selection":"Keyboard Zooms into Selection","toggle-layer-hover":"Highlight Layers on Hover","toggle-layers":"Open Layers Panel","toggle-publish":"Open Assets Panel","toggle-library":"Team Library","toggle-layers-desc":"Show Layers","toggle-publish-desc":"Show Assets","toggle-locked-for-selected-nodes":"Lock/Unlock Selection","toggle-locked-for-selected-nodes-context-menu":"Lock/Unlock","toggle-menu":"Search…","toggle-multiplayer-cursors":"Multiplayer Cursors","toggle-outlines":"Outlines","toggle-pen-tool-avoid-single-handles":"Avoid Single Handles with Pen Tool","toggle-pixel-preview":"Pixel Preview","toggle-properties":"Show Properties","toggle-quick-command":"Quick Command","toggle-raster-edit-mode":"Edit Image Crop","toggle-recording-interactions":"Toggle Interaction Recorder","toggle-retina-mode":"Retina Mode","toggle-rulers":"Rulers","toggle-resource-use":"Resource Use","toggle-show-masks":"Mask Outlines","toggle-show-artboard-outlines":"Frame Outlines","toggle-show-slices":"Show Slices","toggle-shown-for-selected-nodes":"Show/Hide Selection","toggle-shown-for-selected-nodes-context-menu":"Show/Hide","toggle-shown-layout-grids":"Layout Grids","toggle-sidebar":"Show Left Sidebar","toggle-smart-quotes":"Substitute Smart Quotes","toggle-snapping-to-geometry":"Snap to Geometry","toggle-snapping-to-objects":"Snap to Objects","toggle-snapping-to-pixels":"Snap to Pixel Grid","toggle-sticky-tools":"Keep Tool Selected after Use","toggle-toggle-selected-layers":"Include Selected Layers When Toggling Expansion","toggle-ui":"Show/Hide UI","toggle-use-numbers-for-opacity":"Use Number Keys for Opacity","toggle-verbose-tooltips":"Show Verbose Tooltips","toggle-viewport-overlay-hiding":"Hide Canvas UI During Changes","toggle-avocode-integration":"Avocode","export-to-dribbble":"Dribbble","avocode-export-selection":"Export selection to Avocode","toolbar-crop-vector":"Crop Edit","toolbar-gradient-vector":"Gradient Edit","toolbar-place-image":"Click or Drag to Place","toolbar-text-vector":"Text Edit","toolbar-vector-vector":"Vector Edit",undo:"Undo","ungroup-selection":"Ungroup Selection","ungroup-selection-context-menu":"Ungroup","unhide-all":"Unhide All Objects","unlock-all":"Unlock All Objects","vector-menu":"Vector","savepoint-edit":"Edit Version Info","savepoint-label":"Name This Version","savepoint-restore":"Restore This Version","savepoint-link":"Copy Link","savepoint-duplicate":"Duplicate","savepoint-clear":"Delete Version Info","swap-instance":"Swap Component Instance","view-menu":"View","viewport-single":"Single Viewport","viewport-split-four-way":"4-Way Split Viewport","viewport-split-horizontal":"Horizontal Split Viewport","viewport-split-vertical":"Vertical Split Viewport","while-clicking":"While clicking…","while-dragging-from-assets":"While dragging from Assets…","while-dragging-to-select":"While dragging to select…","while-editing-shape":"While editing a shape…","while-moving":"While moving…","while-pointing":"While pointing…","while-resizing":"While resizing…","zoom-in":"Zoom In","zoom-out":"Zoom Out","zoom-reset":"Zoom to 100%","zoom-to-fit":"Zoom to Fit","zoom-to-selection":"Zoom to Selection"},t.defaultStrings=t.defaultStringsRaw}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(261                               ),a=t(262                                     );o.defaultAppModel={strings:a.defaultStrings,isInitialized:!1,hasMissingFonts:!1,hasGlContext:!0,activeCanvasCurrentZoom:1,activeCanvasPixelPreview:!1,renderGrid:!0,currentTool:n.Tool.SELECT,activeCanvasEditModeType:n.EditModeType.LAYOUT,showUi:!0,showKeyboardShortcuts:!1,hideHelpWidget:!1,topLevelMode:n.TopLevelMode.LAYOUT,urlNodeId:"-1:-1",selectionEmpty:!1,snapToPixelGrid:!0,showFrameGrids:!1,showFrameGridsViewOnly:!1,showFrameGridsForced:!1,hideMultiplayerCursors:!1,showArtboardOutline:!1,useRealmsForPluginDev:!1,showMasks:!1,showSlices:!0,showOutlines:!1,activeCanvasRetinaMode:!1,currentSelectedGradientStop:{type:n.GradientStopType.NONE,index:-1},currentSelectedProperty:{type:n.SelectedPropertyType.NONE,indices:[]},flipDuringResize:!0,isUserPresent:!1,keyboardZoomToSelection:!1,layerHover:!0,pagesPanelHeight:101,pagesPanelIsOpen:!1,penToolAvoidSingleHandles:!0,showGuids:!1,forcePublishFlattened:!1,renderAnnotations:!0,renderResourceUse:!1,renderRulers:!1,showGoogleFonts:!0,showProperties:!0,showSidebar:!0,avocodeIntegration:!1,showTooltips:!1,sidebarSplitPosition:240,smartQuotes:!0,snapToGeometry:!0,snapToObjects:!0,splitViewportMode:n.ViewportLayout.SINGLE_VIEWPORT,stickyTools:!1,copyRenaming:!0,temporarilyHideViewportOverlay:!0,toggleSelectedLayers:!1,expandedFramePresetType:n.PresetType.PHONE,backgroundPickerOpen:!1,prototypeBackgroundPickerOpen:!1,subscribedComponents:[],publishableComponents:[],subscribedStateGroups:[],publishableStateGroups:[],statePropertyToFocus:"",styles:[],subscribedStyles:[],colorFormat:n.ColorFormat.HEX,hoveredNode:"",invertZoom:!1,useNumbersForOpacity:!0,multiplayerSessionState:n.MultiplayerSessionState.UNJOINED,smallNudgeAmount:1,bigNudgeAmount:10,showMissingFontsButton:!1,isReadOnly:!0,activeCommentNode:"-1:-1",activeCanvasPrototypeDeviceType:n.PrototypeDeviceType.NONE,showOutOfDateWall:!1,thumbnailNodeId:null,imageTotalCount:0,imageDecodedOrFailedCount:0,hyperlinkLocation:null,keyboardShortcuts:{},shownPropertiesPanels:{},shownTransformControls:0,enabledTransformControls:0,propertiesPanelTab:n.PropertiesPanelTab.DESIGN,typeDetailsPanelOpen:!1,handoffPlatformTarget:n.HandoffPlatformTarget.CSS,handoffOutputFormat:n.HandoffOutputFormat.CODE,selectionIsMask:n.PropertyState.OFF,selectedInteractions:[],actionEnabledAlignTop:!1,actionEnabledAlignVerticalCenter:!1,actionEnabledAlignBottom:!1,actionEnabledAlignLeft:!1,actionEnabledAlignHorizontalCenter:!1,actionEnabledAlignRight:!1,actionEnabledDistributeHorizontalSpacing:!1,actionEnabledDistributeVerticalSpacing:!1,actionEnabledResizeToFit:!1,actionEnabledStackSelection:!1,actionEnabledUnstackSelection:!1,actionEnabledLiftSelectionOutOfScrollableFrame:!1,actionEnabledDropSelectionIntoScrollableFrame:!1,currentPage:"0:1",pagesList:[]},function(e){e[e.NO=0]="NO",e[e.YES=1]="YES"}(o.ShouldCommit||(o.ShouldCommit={}))}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=r(87      ),a=r(85                   ),o=r(123         ),i=r(207                                   ),c=r(113                                     ),u=r(263                      ),s=r(261                               );function l(e,n){return!e&&!n||e===n}function d(e,n){if(null==e&&null==n)return!0;if(null==e||null==n)return!1;const r=["nodeId","name"];for(const t of r)if(!l(e[t],n[t]))return!1;return!0}function p(e,n){if(null==e&&null==n)return!0;if(null==e||null==n)return!1;const r=["nodeId","name","backgroundColor","pageName","pageId","containingStateGroup"];for(const t of r)switch(t){case"nodeId":case"name":case"backgroundColor":case"pageName":case"pageId":if(!l(e[t],n[t]))return!1;break;case"containingStateGroup":if(!d(e[t],n[t]))return!1}return!0}n.stringsAreEqualOrBothFalsey=l,n.containingFramePagesMatch=function(e,n){return!e&&!n||!(!e||!n)&&e.pageId==n.pageId},n.containingFrameNodeIdsMatch=function(e,n){return!e&&!n||!(!e||!n)&&e.nodeId==n.nodeId},n.containingStateGroupsMatch=d,n.containingFramesMatch=p,n.shouldRepublishBecauseOfContainerChange=function(e,n){const r=e?e.nodeId:void 0,t=e?e.name:void 0,a=e?e.backgroundColor:void 0,o=e?e.pageId:void 0,i=n?n.nodeId:void 0,c=n?n.name:void 0,u=n?n.backgroundColor:void 0,s=n?n.pageId:void 0;return!(r===i&&t===c&&a===u&&!o&&s||p(e,n))},n.appModel=function(e=u.defaultAppModel,n){return c.fileBrowser.init.matches(n)?u.defaultAppModel:i.fullscreen.updateMirror.matches(n)&&n.payload.appModelChanges?(-1===(e=Object.assign(Object.assign(Object.assign({},e),n.payload.appModelChanges),{isInitialized:!0})).currentSelectedGradientStop.index&&(e.currentSelectedGradientStop={index:0,type:s.GradientStopType.COLOR}),e):e},n.fullscreenMenuDropdownKey="fullscreen-menu-dropdown",n.isFullscreenMenuVisible=(e=>(null==e?void 0:e.type)===n.fullscreenMenuDropdownKey),n.quickCommandBarDropdownKey="quick-command-bar-dropdown",n.isQuickCommandBarVisible=(e=>(null==e?void 0:e.type)===n.quickCommandBarDropdownKey),n.floatingSearchDropdownKey="floating-search-dropdown",n.isFloatingSearchVisible=(e=>(null==e?void 0:e.type)===n.floatingSearchDropdownKey);const f=Object.create(null);function g(e){let n=f[e];return n||(n=f[e]="actionEnabled"+o.capitalizeFirstLetter(o.toCamelCase(e))),n}function m(e,n){if(e){let r=e[n];if("string"==typeof r)return r;if(Array.isArray(r))for(let e of r){if("string"==typeof e)return e;if(a.getFeatureFlags()[e["feature-flag"]])return e.value}}return console.warn(`Missing string for action: ${n}`),"(missing)"}n.actionEnabledKey=g,n.isActionEnabled=function(e,n){return e[g(n)]},n.getStringWithSubstitutions=function(e,n,r){let t=m(e,n);return r&&(t=t.replace(/#\{(\w+)\}/g,(e,n)=>r[n]?r[n]:"")),t},n.getString=m,n.getKeyboardShortcut=function(e,n){switch(n){case"set-tool-bend":return t.mac?"⌘":"Ctrl";case"stack-reorder-left":case"stack-counter-align-left":return"←";case"stack-reorder-left-end":return"⌥←";case"stack-reorder-right":case"stack-counter-align-right":return"→";case"stack-reorder-right-end":return"⌥→";case"stack-reorder-up":case"stack-counter-align-top":return"↑";case"stack-reorder-up-end":return"⌥↑";case"stack-reorder-down":case"stack-counter-align-bottom":return"↓";case"stack-reorder-down-end":return"⌥↑"}if(e[n]){let r=e[n];if(r&&r.length>=1)return r[0]}return""},n.currentCanvasNodeId=function(e){return e&&e.currentPage?e.currentPage:"0:1"}}),
(function(N,E,e){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),function(N){N[N.NONE=0]="NONE",N[N.SPINNER=1]="SPINNER",N[N.CHECK=2]="CHECK",N[N.EXCLAMATION=3]="EXCLAMATION",N[N.RETURN_TO_INSTANCE=4]="RETURN_TO_INSTANCE",N[N.PROGRESS=5]="PROGRESS"}(E.VisualBellIcon||(E.VisualBellIcon={}))}),
(function(e,l,i){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const o=i(265                                    ),t=3e3,u=6e3,n=1e4;l.calculateVisualBellTimeout=function(e){return e.timeoutOverride?e.timeoutOverride:e.error||e.icon===o.VisualBellIcon.PROGRESS||e.icon===o.VisualBellIcon.SPINNER||e.icon===o.VisualBellIcon.RETURN_TO_INSTANCE?1/0:e.button?n:e.message.length>25?u:t}}),
(function($,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=t(2,1    );class a extends s.PureComponent{render(){const{fraction:$,width:e=18}=this.props,t=2*$*Math.PI,a="string"==typeof e?parseFloat(e):e,r=a/2,o=a/2,l=o-3,n=r+l*Math.cos(t-Math.PI/2),i=r+l*Math.sin(t-Math.PI/2);let h="",c="";$<=.5?h=`M${r},${r} L${r},${r-l} A${l},${l} 1 0,1 ${n},${i} Z`:(h=`M${r},${r} L${r},${r-l} A${l},${l} 1 0,1 ${r},${r+l} Z`,c=`M${r},${r} L${r},${r+l} A${l},${l} 1 0,1 ${n},${i} Z`);const p=`M ${r-o},${r} `+`a ${o},${o} 0 1,0 ${r+o},${r-o} `+`a ${o},${o} 0 1,0 ${-(r+o)},${r-o} Z`+`M ${r-(o-1)},${r} `+`a ${o-1},${o-1} 0 1,0 ${2*(o-1)},0 `+`a ${o-1},${o-1} 0 1,0 ${-2*(o-1)},0 Z`;return s.createElement("svg",{width:a,height:a,className:this.props.className,viewBox:`0 0 ${a} ${a}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fillRule:"evenodd",d:`${p} ${h} ${c}`,fill:this.props.pathFill}))}}e.Progress=a,a.displayName="Progress"}),
(function(n,o,r){n.exports={root:"loading_spinner--root--18y7u",svgContainer:"loading_spinner--svgContainer--20WMO",rotate:"loading_spinner--rotate--qgb8P",blueSpinner:"loading_spinner--blueSpinner--1UrbW loading_spinner--root--18y7u"}}),
(function(t,e,i){t.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 1c-1.384 0-2.738.41-3.889 1.18-1.151.769-2.048 1.862-2.578 3.141-.53 1.28-.669 2.687-.398 4.045.27 1.357.936 2.605 1.915 3.584.98.979 2.227 1.645 3.584 1.916 1.358.27 2.766.131 4.045-.399 1.279-.53 2.372-1.427 3.141-2.578C14.59 10.738 15 9.384 15 8h1c0 1.582-.47 3.129-1.348 4.445-.88 1.315-2.129 2.34-3.59 2.946-1.462.606-3.07.764-4.623.455-1.552-.308-2.977-1.07-4.096-2.19-1.119-1.118-1.88-2.543-2.19-4.095C-.154 8.009.004 6.4.61 4.939c.605-1.462 1.63-2.712 2.946-3.59C4.871.468 6.418 0 8 0v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,t){l.exports={src:'<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15 1.438c-2.682 0-5.305.795-7.535 2.285-2.23 1.49-3.969 3.609-4.995 6.087l-.462-.191.462.19c-1.027 2.48-1.295 5.206-.772 7.837.523 2.63 1.815 5.047 3.712 6.944 1.897 1.897 4.313 3.189 6.944 3.712 2.631.523 5.358.255 7.836-.772 2.478-1.027 4.596-2.765 6.087-4.995 1.49-2.23 2.285-4.853 2.285-7.535h1c0 2.88-.854 5.696-2.454 8.09l-.416-.277.416.277c-1.6 2.395-3.874 4.262-6.535 5.364l-.192-.462.192.462c-2.661 1.102-5.59 1.39-8.414.829-2.825-.562-5.42-1.95-7.456-3.986-2.037-2.036-3.424-4.631-3.986-7.456l.49-.098-.49.098c-.562-2.825-.273-5.753.829-8.414 1.102-2.66 2.969-4.935 5.364-6.535C9.304 1.292 12.12.438 15 .438v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=s(2,1    ),r=s(268                    ),t=s(146                        ),i=s(269                           ),p=s(270                                 );class l extends a.Component{render(){return a.createElement("span",{className:`${r.root} ${this.props.className||""}`},a.createElement(t.Svg,{svg:i,className:r.svgContainer}))}}n.LoadingSpinner=l,l.displayName="LoadingSpinner";class o extends a.PureComponent{render(){return a.createElement("span",{className:`${r.blueSpinner} ${this.props.className||""}`},a.createElement(t.Svg,{svg:p,className:r.svgContainer}))}}n.BlueLoadingSpinner=o,o.displayName="BlueLoadingSpinner"}),
(function(e,s,l){e.exports={base:"visual_bell--base--1xST5",interactive:"visual_bell--interactive--2rWMO",messageContainer:"visual_bell--messageContainer--3tSMR _overlayBase--_overlayBase--1sCqN text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",shown:"visual_bell--shown--1fe5g",error:"visual_bell--error--32-jv",icon:"visual_bell--icon--ajLA7",message:"visual_bell--message--2RwJy",button:"visual_bell--button--12MWc",dismissIcon:"visual_bell--dismissIcon--2wUqy",progressIcon:"visual_bell--progressIcon--1szNu"}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.442 4.442L6.5 12.384 2.558 8.442l.884-.884L6.5 10.616l7.058-7.058.884.884z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(o,t,i){o.exports={src:'<svg width="6" height="14" viewBox="0 0 6 14" xmlns="http://www.w3.org/2000/svg"><path d="M2 0h2v8H2V0zm1 12.25c.69 0 1.25-.56 1.25-1.25 0-.69-.56-1.25-1.25-1.25-.69 0-1.25.56-1.25 1.25 0 .69.56 1.25 1.25 1.25z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M3.31 5.25l2.22 2.22-1.06 1.06L.44 4.5 4.47.47l1.06 1.06-2.22 2.22H6.5c3.714 0 6.75 3.036 6.75 6.75V12h-1.5v-1.5c0-2.886-2.364-5.25-5.25-5.25H3.31z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M6 4.94L10.47.47l1.06 1.06L7.06 6l4.47 4.47-1.06 1.06L6 7.06l-4.47 4.47-1.06-1.06L4.94 6 .47 1.53 1.53.47 6 4.94z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(2,1    ),i=s(266              ),l=s(172                                              ),r=s(265                                    ),n=s(267                                 ),o=s(146                        ),d=s(271                                        ),c=s(150                         ),u=s(272                ),h=s(273                                     ),m=s(274                                           ),p=s(275                                      ),y=s(276                                 ),g=.5,v=400,D="undefined"!=typeof performance?performance.now.bind(performance):Date.now.bind(Date);class T extends a.PureComponent{constructor(t){super(t),this.onMouseEnter=(()=>{void 0!==this.state.hideTimer&&(this.setState({hideTimer:void 0}),clearTimeout(this.state.hideTimer))}),this.onMouseLeave=(()=>{if(this.state.currentData){const t=this.calcTimeout(this.state.currentData,this.props.visualBell.length);this.setState({hideTimer:this.startHideTimer(t)})}}),this.dismiss=(()=>{this.state.currentData&&(this.state.currentData.preventDismissal||(this.setState({hideTimer:void 0}),this.state.currentData.onDismiss&&this.state.currentData.onDismiss(),this.props.dispatch(l.visualBell.dequeue({}))))}),this.primaryButton=(()=>null==this.state.displayedData||null==this.state.displayedData.button?null:"primary"in this.state.displayedData.button?this.state.displayedData.button.primary:this.state.displayedData.button),this.secondaryButton=(()=>null==this.state.displayedData||null==this.state.displayedData.button?null:"secondary"in this.state.displayedData.button?this.state.displayedData.button.secondary:null),this.secondaryActionClick=(t=>{t.currentTarget&&t.currentTarget.blur();const e=this.secondaryButton();e&&e.action(t)}),this.actionClick=(t=>{t.currentTarget&&t.currentTarget.blur();const e=this.primaryButton();e&&e.action(t)}),this.state={hideStartTime:0,displayedData:this.props.visualBell[0]||null,currentData:this.props.visualBell[0]||null}}startHideTimer(t){if(t!==1/0){var e=setTimeout(()=>{this.props.dispatch(l.visualBell.dequeue({})),this.state.hideTimer===e&&this.setState({hideTimer:void 0})},Math.max(v,t));return e}}calcTimeout(t,e){let s=i.calculateVisualBellTimeout(t);return e>1&&(!t.timeoutType||"suggested"===t.timeoutType)&&(s*=Math.pow(g,e-1)),t.delay&&(s+=t.delay),s}componentDidMount(){if(!this.state.displayedData)return;const t=this.calcTimeout(this.state.currentData,this.props.visualBell.length);this.setState({hideTimer:this.startHideTimer(t),hideStartTime:D()})}UNSAFE_componentWillReceiveProps(t){const e=t.visualBell,s=e[0]||null;if(this.state.currentData!==s){clearTimeout(this.state.hideTimer);const t=s?this.startHideTimer(this.calcTimeout(s,e.length)):void 0;this.setState({currentData:s,displayedData:s||this.state.displayedData,hideTimer:t,hideStartTime:D()})}else if(e!==this.props.visualBell&&this.state.currentData){let t=D()-this.state.hideStartTime,s=this.calcTimeout(this.state.currentData,e.length)-t;clearTimeout(this.state.hideTimer),s<20?(this.setState({hideTimer:void 0}),this.props.dispatch(l.visualBell.dequeue({}))):this.setState({hideTimer:this.startHideTimer(s)})}}render(){const t=this.state.currentData;let e="",s="";t&&t.button&&(e+=` ${u.interactive}`),t&&(s=u.shown),this.state.displayedData&&this.state.displayedData.error&&(s+=` ${u.error}`);const i=this.state.displayedData&&this.state.displayedData.icon||r.VisualBellIcon.NONE;let l,g=null;if(i===r.VisualBellIcon.SPINNER)g=a.createElement("div",{className:u.icon},a.createElement(d.LoadingSpinner,null));else if(i===r.VisualBellIcon.CHECK)g=a.createElement(o.Svg,{className:u.icon,svg:h});else if(i===r.VisualBellIcon.EXCLAMATION)g=a.createElement(o.Svg,{className:u.icon,svg:m});else if(i===r.VisualBellIcon.RETURN_TO_INSTANCE)g=a.createElement(o.Svg,{className:u.icon,svg:p});else if(i===r.VisualBellIcon.PROGRESS){const t=this.state.displayedData;let e=t&&null!=t.progressKey&&t.progressKey in this.props.progress?this.props.progress[t.progressKey].progress:0;g=a.createElement(n.Progress,{className:u.progressIcon,fraction:e,pathFill:"#FFFFFF"})}t&&t.delay&&(l={transitionDelay:t.delay+"ms"});const v=this.primaryButton(),D=this.secondaryButton();return a.createElement("div",{className:`${u.base} ${e}`},a.createElement("div",{className:`${u.messageContainer} ${s}`,onMouseEnter:t&&t.button?this.onMouseEnter:void 0,onMouseLeave:t&&t.button?this.onMouseLeave:void 0,onClick:this.dismiss,style:l},this.state.displayedData&&this.state.displayedData.message&&a.createElement(a.Fragment,null,g,a.createElement("span",{className:u.message},this.state.displayedData.message)),this.state.displayedData&&D&&a.createElement(c.RecordableButton,{onClick:this.secondaryActionClick,className:u.button,recordingKey:"visualBellSecondaryButton"},!this.state.displayedData.message&&g,D.text),this.state.displayedData&&v&&a.createElement(c.RecordableButton,{onClick:this.actionClick,className:u.button,recordingKey:"visualBellButton"},!this.state.displayedData.message&&!D&&g,v.text),this.state.displayedData&&(this.state.displayedData.onDismiss||this.state.displayedData.error)&&a.createElement(o.Svg,{className:u.dismissIcon,svg:y})))}}e.VisualBellView=T,T.displayName="VisualBellView"}),
(function(l,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const u=t(172                                              ),i=t(266              );e.visualBellMiddleware=(l=>e=>(function(t){const n=e(t);if(u.visualBell.enqueue.matches(t)){const e=l.getState();e.visualBell=function(l){let e=l.length-1;for(;e>0&&i.calculateVisualBellTimeout(l[e-1])===1/0;){const t=l[e];l[e]=l[e-1],l[e-1]=t,e-=1}return l}(e.visualBell)}return n}))}),
(function(l,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(172                             );e.visualBellActions=a.visualBell;var s=i(277                          );e.VisualBellView=s.VisualBellView;var u=i(278                                );e.visualBellMiddleware=u.visualBellMiddleware}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(91                  ),o=i(100               ),r=i(215                                          ),E=i(279                             ),n=i(108     );!function(e){e[e.FILE_URL=0]="FILE_URL",e[e.EMBED_CODE=1]="EMBED_CODE"}(t.CopyType||(t.CopyType={})),function(e){e.tryDeleteFiles=a.actionCreator("TRY_DELETE_FILES"),e.getActiveUsers=a.actionCreator("FILE_GET_ACTIVE_USERS"),e.setActiveUsers=a.actionCreator("FILE_SET_ACTIVE_USERS"),e.deleteActiveUsers=a.actionCreator("FILE_CLEAR_ACTIVE_USERS"),e.put=a.actionCreator("FILE_PUT"),e.post=a.actionCreator("FILE_POST"),e.tryMove=a.actionCreator("FILE_TRY_MOVE"),e.move=a.actionCreator("FILE_MOVE"),e.duplicate=a.actionCreator("FILE_DUPLICATE"),e.duplicateCheckpoint=a.actionCreator("FILE_DUPLICATE_CHECKPOINT"),e.createSavepoint=a.actionCreator("FILE_CREATE_SAVEPOINT"),e.updateSavepoint=a.actionCreator("FILE_UPDATE_SAVEPOINT"),e.recentFilePost=a.actionCreator("RECENT_FILE_POST"),e.recentFilePut=a.actionCreator("RECENT_FILE_PUT"),e.recentFilesDelete=a.actionCreator("RECENT_FILES_DELETE"),e.beginRenaming=a.actionCreator("FILE_BEGIN_RENAMING"),e.stopRenaming=a.actionCreator("FILE_STOP_RENAMING"),e.showInFolder=a.actionCreator("FILE_SHOW_IN_FOLDER"),e.copyLink=a.actionCreator("FILE_COPY_LINK"),e.restore=a.actionCreator("FILE_RESTORE"),e.markViewed=a.actionCreator("FILE_MARK_VIEWED"),e.copySelected=a.actionCreator("COPY_SELECTED_FILES"),e.copySelectedToDrafts=a.actionCreator("COPY_SELECTED_FILES_TO_DRAFTS"),e.deleteFiles=a.actionCreator("DELETE_FILES"),e.deleteFilesForever=a.actionCreator("DELETE_FILES_FOREVER"),e.restoreTrashedFiles=a.actionCreator("RESTORE_TRASHED_FILES"),e.fetchedRoles=a.actionCreator("FILE_FETCHED_ROLES"),e.putThumbnailGuid=o.optimisticActionCreator("FILE_PUT_THUMBNAIL_GUID",(e,t,i)=>{n.default.put(`/api/files/${t.file_key}/thumbnail_guid`,{thumbnail_guid:t.thumbnail_guid}).then(a=>{e.dispatch(o.optimistActions.commit(i)),r.fullscreen.updateAppModel({thumbnailNodeId:t.thumbnail_guid});const n=t.thumbnail_guid?"Thumbnail set":"Default thumbnail restored";e.dispatch(E.visualBellActions.enqueue({message:n}))}).catch(t=>{e.dispatch(o.optimistActions.revert(i)),e.dispatch(E.visualBellActions.enqueue({message:"An error occurred. Please try again later.",error:!0}))})})}(t.file||(t.file={}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(91                  );!function(e){e.append=r.actionCreator("VERSION_HISTORY_APPEND"),e.loadMore=r.actionCreator("VERSION_HISTORY_LOAD_MORE"),e.toggleLoading=r.actionCreator("VERSION_HISTORY_LOADING"),e.reset=r.actionCreator("VERSION_HISTORY_RESET"),e.setActive=r.actionCreator("VERSION_HISTORY_SET_ACTIVE"),e.setLinkedVersion=r.actionCreator("VERSION_HISTORY_SET_LINKED_VERSION"),e.setDocHasChangedSinceLastSavepoint=r.actionCreator("VERSION_HISTORY_SET_DOC_HAS_CHANGED")}(t.versionHistory||(t.versionHistory={}))}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(108     );n.NEXT_PAGE="next",n.PREV_PAGE="prev",n.paginate=function(e,t,i,p=n.NEXT_PAGE){return new Promise((g,_)=>{let o=i&&i.pagination,r=o&&(p===n.PREV_PAGE?o.prev_page:o.next_page);(null==o||r)&&(r=r||`${e}${-1===e.indexOf("?")?"?":"&"}page_size=${t}`,a.default.get(r).then(({data:e})=>{const t=e.pagination;null==o?o=t:p===n.PREV_PAGE?t.prev_page&&(o.prev_page=t.prev_page):o.next_page=t.next_page,e.meta.pagination=o,g(e.meta)},_))})},n.hasMore=function(e){return!((null==e?void 0:e.pagination)&&!e.pagination.next_page)}}),
(function(s,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=e(280                             ),t=e(281                                        ),a=e(282             );i.CURRENT_VERSION="current_version",i.getActiveVersion=function(s){for(let i of s.versions)if(i.id===s.activeId)return i};const o={activeId:i.CURRENT_VERSION,versions:[],lastFetched:new Date(0),docHasChanged:!0,loading:!1};i.versionHistory=function(s=o,i){if(t.versionHistory.reset.matches(i))return Object.assign(Object.assign({},o),{docHasChanged:s.docHasChanged});if(t.versionHistory.append.matches(i)){const e=i.payload.history.versions,n=i.payload.direction;if(n===a.PREV_PAGE&&1===e.length){const i=e[0].id;if(s.versions.find(s=>s.id===i))return Object.assign(Object.assign({},s),{loading:!1})}return Object.assign(Object.assign(Object.assign({},s),i.payload.history),{versions:n===a.NEXT_PAGE?s.versions.concat(e):e.concat(s.versions),loading:!1})}if(t.versionHistory.toggleLoading.matches(i))return Object.assign(Object.assign({},s),{loading:i.payload.loading});if(t.versionHistory.setLinkedVersion.matches(i))return Object.assign(Object.assign({},s),{linkedVersion:i.payload.version,activeId:i.payload.version.id});if(t.versionHistory.setActive.matches(i))return Object.assign(Object.assign({},s),{activeId:i.payload.id});if(t.versionHistory.setDocHasChangedSinceLastSavepoint.matches(i))return Object.assign(Object.assign({},s),{docHasChanged:i.payload.status});if(n.file.updateSavepoint.matches(i)){const{savepointID:e,label:n,description:t}=i.payload;return Object.assign(Object.assign({},s),{versions:s.versions.map(s=>s.id!==e?s:Object.assign(Object.assign({},s),{label:n,description:t}))})}return s}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e){e.FILE_BROWSER_SIDEBAR_DRAFTS="file_browser_sidebar_drafts",e.FILE_BROWSER_TOOLBAR_RECENTS="file_browser_toolbar_recents",e.FILE_BROWSER_TOOLBAR_FOLDER="file_browser_toolbar_folder",e.FILE_BROWSER_TOOLBAR_DRAFTS="file_browser_toolbar_drafts",e.FILE_BROWSER_EMPTY_FOLDER="file_browser_empty_folder",e.FILE_BROWSER_FOLDER_CONTEXT_MENU="file_browser_folder_context_menu"}(s.NewFileFrom||(s.NewFileFrom={})),function(e){e[e.OFF=0]="OFF",e[e.ON_AND_LOCKED=1]="ON_AND_LOCKED",e[e.KEEP_UI=2]="KEEP_UI",e[e.HIDE_UI=3]="HIDE_UI"}(s.ProgressBarMode||(s.ProgressBarMode={})),function(e){e[e.NONE=0]="NONE",e[e.FOR_OPEN=1]="FOR_OPEN",e[e.FOR_MENU=2]="FOR_MENU"}(s.OpenDesktopAppModalMode||(s.OpenDesktopAppModalMode={})),function(e){e[e.ORIGINAL=1]="ORIGINAL",e[e.UNFLATTEN=2]="UNFLATTEN",e[e.C2=3]="C2"}(s.FileVersion||(s.FileVersion={}));s.SaveStatus=class{constructor(e,s,t){this.statusHTML=e,this.tabCloseText=s,this.unsaved=t,this.hasUnsavedChanges=!1,this.hasUnsavedChanges=t.hasAutosaveChanges||t.hasMultiplayerChanges}equals(e){return e&&this.statusHTML===e.statusHTML&&this.tabCloseText===e.tabCloseText&&this.unsaved.hasAutosaveChanges===e.unsaved.hasAutosaveChanges&&this.unsaved.hasMultiplayerChanges===e.unsaved.hasMultiplayerChanges}},function(e){e[e.CUT=0]="CUT",e[e.COPY=1]="COPY",e[e.PASTE=2]="PASTE"}(s.ClipboardAction||(s.ClipboardAction={}))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(229           ),r=n(176                       ),s=n(230                              ),o=n(231       ),a=n(209                ),l=n(226                       ),u=n(173                                        ),c=n(185                                 ),y=n(260                                                  ),p=n(125                        ),d=n(177                                       ),b=n(261                               ),m=n(264                                  ),h=n(283                                 ),f=n(122          ),_=n(108     ),g=n(284                          );function S(e,t){const n=Object.create(null);if(!t)return n;const i=t.team_id||r.NO_TEAM_ID,s=e[i]&&e[i][t.key]||Object.create(null);for(const r in s)null==s[r].unpublished_at&&(n[r]=s[r]);return n}function T(e){const t=[];return Object.keys(e).forEach(n=>{Object.keys(e[n]).forEach(i=>{Object.keys(e[n][i]).forEach(r=>{t.push(e[n][i][r])})})}),t}function L(e){return T(e).length}t.isFileC2=(e=>null!=e&&e>=g.FileVersion.C2),t.isPublished=(e=>e===r.LibraryStatus.CURRENT||e===r.LibraryStatus.CHANGED||e===r.LibraryStatus.DELETED||e===r.LibraryStatus.CAN_UPGRADE),t.willChange=(e=>e===r.LibraryStatus.NEW||e===r.LibraryStatus.CHANGED||e===r.LibraryStatus.DELETED||e===r.LibraryStatus.CAN_UPGRADE),t.hasItems=(e=>e&&Object.keys(e).length>0),t.hasStylesOrComponents=(e=>t.hasItems(e.local.styles)||t.hasItems(e.local.components)),t.hasPendingItemChanges=(e=>{for(let n in e){const i=e[n];if(null!=i.status&&t.willChange(i.status))return!0}return!1}),t.hasPendingChanges=(e=>t.hasPendingItemChanges(e.local.styles)||t.hasPendingItemChanges(e.local.components)||t.hasPendingItemChanges(e.local.stateGroups)),t.getExternalStyle=((e,t,n)=>{if(!t)return null;if(!n)return null;for(const i in e)for(const r in e[i])if(r!==n)for(const n in e[i][r]){const s=e[i][r][n];if(s.key===t)return s}return null}),t.publishedLibraryItemsForFile=S,t.publishedLibraryItemsForFileAsList=function(e,t){const n=S(e,t);return Object.keys(n).map(e=>n[e])},t.flattenLibraryItems=T,t.getNumLibraryItems=L,t.numUpdates=function(e){return L(e.updates.components)+L(e.updates.styles)},t.localComponentsAsSortedList=(e=>{return Object.keys(e).map(t=>e[t]).sort((e,t)=>{const n=e.name,i=t.name;return n<i?-1:n>i?1:e.node_id<t.node_id?-1:1})}),t.localLibraryItemsExcludingDeleted=(e=>{return Object.keys(e).map(t=>e[t]).filter(e=>!e.deletedFromSceneGraph)}),t.getComponentsToPublish=(e=>{let t=Object.create(null);for(const n in e){const i=e[n].status;i!==r.LibraryStatus.NEW&&i!==r.LibraryStatus.CHANGED&&i!==r.LibraryStatus.DELETED&&i!==r.LibraryStatus.CAN_UPGRADE||(t[n]=e[n])}return t}),t.getStylesOfType=((e,t)=>{const n=[];for(let i in e){const r=e[i];r.style_type===t&&n.push(r)}return n}),t.getLocalStylesOfType=((e,t)=>{const n=[];for(let i in e){const r=e[i];r.style_type!==t||r.deletedFromSceneGraph||n.push(r)}return n}),t.getSubscribedLibraryItems=function(e,n,i){const r=[];for(const s in n)for(const o in n[s]){const a={team_id:s,key:o};if(t.isFileSubscribedTo(e,i,a))for(const e in n[s][o]){const t=n[s][o][e];r.push(t)}}return r},t.getSubscribedStylesByFileOfType=((e,n,i,r)=>{const s={};for(const o in e.published.styles)for(const a in e.published.styles[o]){if(a===i.key)continue;const l=e.published.styles[o][a],u={team_id:o,key:a};if(t.isFileSubscribedTo(e,i,u)){const e=t.getStylesOfType(l,n);e.length>0&&(s[a]=e)}else if(r)for(const e in l){const t=l[e];if(t.key===r){s[a]=[t];break}}}return s}),t.hasStylesOfType=((e,t)=>{const n=e.published.styles;for(let r in n)for(let e in n[r])for(let i in n[r][e]){const s=n[r][e][i];if(s.style_type===t&&!s.unpublished_at)return!0}const i=e.local.styles;for(let r in i){if(i[r].style_type===t)return!0}return!1}),t.allStyleTypes=["TEXT","FILL","EFFECT","GRID"];const E={TEXT:"Text",FILL:"Color",EFFECT:"Effect",GRID:"Grid"};t.styleTypeToStylesHeader=(e=>t.styleTypeToStyleHeader(e)+"s"),t.styleTypeToStyleHeader=(e=>e in E?E[e]+" Style":e[0]+e.slice(1).toLowerCase()+" Style"),t.inheritStyleKeyFieldToStyleHeader=(e=>{let n="";if("inheritFillStyleKeyForStroke"===e)n="Stroke Color Style";else if("inheritFillStyleKeyForBackground"===e)n="Background Color Style";else if("inheritFillStyleKey"===e)n="Fill Color Style";else{const i=s.inheritedStyle(e);n=t.styleTypeToStyleHeader(i)}return n}),t.isCurrentOrgSubscribedTo=((e,t)=>!!t&&t.key in e.subscriptions.forCurrentOrg),t.isTeamSubscribedTo=((e,n,i)=>{if(!i)return!1;let r=t.isCurrentOrgSubscribedTo(e,i);const s=e.subscriptions.byTeam[n]||{};return i.key in s&&(r=!!s[i.key]),r}),t.isCurrentUserSubscribedTo=((e,t)=>!!t&&!!e.subscriptions.forCurrentUser[t.key]),t.isAnyTeamSubscribedTo=((e,n)=>{for(const i in e.subscriptions.byTeam)if(t.isTeamSubscribedTo(e,i,n))return!0;return!1}),t.isFileSubscribedTo=((e,n,i)=>{if(!n||!i)return!1;if(n.key===i.key)return!1;let r=!1;r=n.team_id?t.isTeamSubscribedTo(e,n.team_id,i):t.isAnyTeamSubscribedTo(e,i)||t.isCurrentUserSubscribedTo(e,i);const s=e.subscriptions.byFile;return n.key in s&&i.key in s[n.key]&&(r=s[n.key][i.key]),r}),t.sortStylesByPosition=(e=>{e.sort((e,t)=>-i.comparePositions(e.sort_position||"",t.sort_position||""))}),t.sortStylesByTypeAndPosition=(e=>{const n=new Map;for(let t of e){const e=n.get(t.style_type);e?e.push(t):n.set(t.style_type,[t])}let i=[];return t.allStyleTypes.forEach(e=>{const r=n.get(e);r&&(t.sortStylesByPosition(r),i=i.concat(r))}),i}),t.sortItemsByPageAndFrameAndName=(e=>{const t=[...e],n=e=>e&&e.toLowerCase?e.toLowerCase():"";return t.sort((e,t)=>{const i=e.containing_frame||{},r=t.containing_frame||{};return i.pageId!==r.pageId?n(i.pageName)<n(r.pageName)?-1:1:i.nodeId!==r.nodeId?n(i.name)<n(r.name)?-1:1:n(e.name)<n(t.name)?-1:1}),t});let C=!1;function v(e,t){if(!e||!t)return!0;for(const n in e){if(!(n in t))return!0;const i=e[n],r=t[n];for(const e in i)if(i[e]!==r[e])return!0;for(const e in r)if(!(e in i))return!0}for(const n in t)if(!(n in e))return!0;return!1}t.resetPublishChangesNotification=(()=>C=!1),t.computeLocal=function(e){const n=e.getState();if(n.versionHistory.activeId&&n.versionHistory.activeId!==h.CURRENT_VERSION)return;const i=n.mirror&&null!=n.mirror.appModel&&null!=n.mirror.appModel.publishableComponents&&null!=n.mirror.sceneGraph,s=a.getEditingFile(n);if(!i)return;const o=s?s.key:"";let b=0,m={};const f=(e,i,s,a,u,c)=>{const y=Object.create(null);i.forEach(i=>{const l=i.nodeId,p=a[l];m[l]=t.generateLocalThumbnail(n.library.local.thumbnails[l]),y[l]=e(p,s[l],i,o,u,c),y[l].status===r.LibraryStatus.CHANGED&&(b+=1)});for(const t in a)if(!(t in y)){const e=n.library.local.thumbnails[t];e&&e.url&&l.revokeThumbnailUrl(e.url)}for(const r in s)r in y||(m[r]=t.generateLocalThumbnail(n.library.local.thumbnails[r]),y[r]=e(a[r],s[r],null,o,u,c));return y},_=f(t.generateLocalComponent,n.mirror.appModel.publishableComponents||[],S(n.library.published.components,s),n.library.local.components,n.fileVersion,r.LibraryItemType.COMPONENT),g=f(t.generateLocalStateGroup,n.mirror.appModel.publishableStateGroups||[],S(n.library.published.stateGroups,s),n.library.local.stateGroups,n.fileVersion,r.LibraryItemType.STATE_GROUP),T=f(t.generateLocalStyle,n.mirror.appModel.styles||[],S(n.library.published.styles,s),n.library.local.styles,n.fileVersion,r.LibraryItemType.STYLE);v(n.library.local.components,_)&&e.dispatch(u.library.replaceLocalItems({local:_,type:r.LibraryItemType.COMPONENT})),v(n.library.local.stateGroups,g)&&e.dispatch(u.library.replaceLocalItems({local:g,type:r.LibraryItemType.STATE_GROUP})),v(n.library.local.styles,T)&&e.dispatch(u.library.replaceLocalItems({local:T,type:r.LibraryItemType.STYLE})),t.areThumbnailsDifferent(n.library.local.thumbnails,m)&&e.dispatch(y.libraryThumbnail.replaceThumbnailsForLocalStyles({thumbnails:m})),b>0?o&&!C&&p.canEditFile(o,n)&&(e.dispatch(c.notifActions.enqueue({notification:{type:d.NotificationType.PUBLISHED_COMPONENT_UPDATED,message:"Publish your changes to your team library."}})),C=!0):e.dispatch(c.notifActions.dequeue({type:d.NotificationType.PUBLISHED_COMPONENT_UPDATED}))};const O="Generating a local library item that is neither in the library nor in the scene graph. Why.",k=(e,t,n,i,s,o)=>{if(!n){if(t)return Object.assign(Object.assign({},t),{status:r.LibraryStatus.DELETED,deletedFromSceneGraph:!0});throw new Error(O)}const a=t&&null==t.unpublished_at,l=!!n.isPublishable,u={node_id:n.nodeId,name:n.name,description:n.description,file_key:i,isPublishable:l,deletedFromSceneGraph:!1,meta:e?e.meta:void 0,isLocal:!0,status:r.LibraryStatus.NOT_STAGED,type:o};return u.thumbnail_url=t&&t.thumbnail_url||void 0,a&&!l?u.status=r.LibraryStatus.DELETED:!a&&l?u.status=r.LibraryStatus.NEW:a||l||(u.status=r.LibraryStatus.NOT_STAGED),u};async function I(e,n,i,s){var o,a,l,c;if(t.componentFileRequests.has(s))return;t.componentFileRequests.add(s);const y=i[s];if(!y)return;const p=await _.default.get(`/api/design_systems/library/${s}/published_components?fv=${n||0}`,null,{retryCount:5}),d=(null===(a=null===(o=null==p?void 0:p.data)||void 0===o?void 0:o.meta)||void 0===a?void 0:a.components)||[],b=(null===(c=null===(l=null==p?void 0:p.data)||void 0===l?void 0:l.meta)||void 0===c?void 0:c.state_groups)||[];if(0!==d.length){const t=d.reduce((e,t)=>(e[t.node_id]=t,e),{});e(u.library.put({itemsById:t,file:y,type:r.LibraryItemType.COMPONENT}))}if(0!==b.length){const t=b.reduce((e,t)=>(e[t.node_id]=t,e),{});e(u.library.put({itemsById:t,file:y,type:r.LibraryItemType.STATE_GROUP}))}}t.generateLocalComponent=((e,n,i,s,o)=>{const a=k(e,n,i,s,0,r.LibraryItemType.COMPONENT),l=Object.assign(Object.assign({},a),{type:r.LibraryItemType.COMPONENT,height:(null==i?void 0:i.height)||void 0,width:(null==i?void 0:i.width)||void 0,x:(null==i?void 0:i.x)||void 0,y:(null==i?void 0:i.y)||void 0,is_unflattened:(null==i?void 0:i.isUnflattened)||!1,containing_frame:(null==i?void 0:i.containingFrame)||(null==n?void 0:n.containing_frame)||void 0,component_key:(null==n?void 0:n.component_key)||void 0,content_hash:(null==i?void 0:i.versionHash)||(null==n?void 0:n.content_hash)||void 0});if(!n)return l;const u=null==n.unpublished_at,c=!!(null==i?void 0:i.isPublishable);return u&&c&&(!t.isFileC2(o)&&!n.is_unflattened&&(null==i?void 0:i.isUnflattened)&&b.SceneGraphHelpers.symbolContainsInstance(n.node_id)?n.content_hash===l.content_hash?l.status=r.LibraryStatus.CAN_UPGRADE:l.status=r.LibraryStatus.CHANGED:n&&n.content_hash===l.content_hash&&!m.shouldRepublishBecauseOfContainerChange(n.containing_frame,null==i?void 0:i.containingFrame)&&m.stringsAreEqualOrBothFalsey(n.name,null==i?void 0:i.name)&&m.stringsAreEqualOrBothFalsey(n.description,l.description)?l.status=r.LibraryStatus.CURRENT:l.status=r.LibraryStatus.CHANGED),l}),t.generateLocalStateGroup=((e,t,n,i,s)=>{const o=k(e,t,n,i,0,r.LibraryItemType.STATE_GROUP);if(!t){if(!n)throw new Error(O);return Object.assign(Object.assign({},o),{type:r.LibraryItemType.STATE_GROUP,version:n.versionHash,containing_frame:n.containingFrame,width:n.width,height:n.height})}const a=Object.assign(Object.assign({},o),{type:r.LibraryItemType.STATE_GROUP,version:(null==n?void 0:n.versionHash)||t.version,containing_frame:(null==n?void 0:n.containingFrame)||t.containing_frame,width:(null==n?void 0:n.width)||t.min_node_width,height:(null==n?void 0:n.height)||t.min_node_height,key:t.key||void 0}),l=null==t.unpublished_at,u=!!(null==n?void 0:n.isPublishable);return l&&u&&(t.version===a.version&&!m.shouldRepublishBecauseOfContainerChange(t.containing_frame,null==n?void 0:n.containingFrame)&&m.stringsAreEqualOrBothFalsey(t.name,null==n?void 0:n.name)&&m.stringsAreEqualOrBothFalsey(t.description,a.description)?a.status=r.LibraryStatus.CURRENT:a.status=r.LibraryStatus.CHANGED),a}),t.generateLocalStyle=((e,t,n,i,s)=>{const o=k(e,t,n,i,0,r.LibraryItemType.STYLE),a=t&&null==t.unpublished_at,l=!!(null==n?void 0:n.isPublishable);if(a&&l&&(t&&t.content_hash===(null==n?void 0:n.versionHash)&&m.stringsAreEqualOrBothFalsey(t.name,null==n?void 0:n.name)&&m.stringsAreEqualOrBothFalsey(t.description,o.description)&&m.stringsAreEqualOrBothFalsey(t.sort_position,null==n?void 0:n.sortPosition)?o.status=r.LibraryStatus.CURRENT:o.status=r.LibraryStatus.CHANGED),n)return Object.assign(Object.assign({},o),{type:r.LibraryItemType.STYLE,key:n.styleKey,style_type:n.styleType,is_soft_deleted:n.isSoftDeleted,sort_position:n.sortPosition,content_hash:n.versionHash});if(t)return Object.assign(Object.assign({},o),{type:r.LibraryItemType.STYLE,key:t.key,style_type:t.style_type,is_soft_deleted:t.is_soft_deleted,sort_position:t.sort_position,content_hash:t.content_hash});throw new Error(O)}),t.generateLocalThumbnail=(e=>{return{kind:e&&e.kind||void 0,url:e&&e.url||void 0,content_hash:e&&e.content_hash||void 0}}),t.componentFileRequests=new Set,t.getPublishedComponentsForFileWithDispatch=I,t.fetchOtherUsedStandaloneComponentsAndStateGroups=((e,n=[],i=[],r,s,o,a)=>{const l=t.getOtherUsedStandaloneComponentsAndStateGroups(e,s,n,i,r,o);for(const t of l)I(a,s,o,t.file_key);return l}),t.getOtherUsedStandaloneComponentsAndStateGroups=((e,n,i=[],s=[],a,l)=>{const u={},c=t.isFileC2(n),y=i.concat(s);for(let t of y){const i=e.get(t);if(!i)continue;if(i.isState)continue;let s,y,p,d=null,b=null;const m=i.isStateGroup;if(c)i.publishFile&&(s=i.publishFile),b=i.publishID,d=i.publishID,m?(i.sharedStateGroupVersion&&(p=i.sharedStateGroupVersion),i.stateGroupKey&&(y=i.stateGroupKey)):(i.sharedSymbolVersion&&(p=i.sharedSymbolVersion),i.componentKey&&(y=i.componentKey));else{if(!i.parent)continue;const t=e.get(i.parent);if(!t)continue;const n=t.sharedSymbolReference;if(!n)continue;s=n.fileKey,d=o.toString(n.symbolID),y=n.componentKey,b=o.toString(n.symbolID),p=n.versionHash}if(!s)continue;const h=l[s];if(!h)continue;const f=h.team_id||r.NO_TEAM_ID;if(!d)continue;let _={};const g=((_=m?a.published.stateGroups[f]||{}:a.published.components[f]||{})[s]||{})[d];if(g){u[m?g.key:g.component_key]=g}else if(m){if(!y||u[y])continue;u[y]={type:r.LibraryItemType.STATE_GROUP,name:i.name,file_key:s,key:y,thumbnail_url:`/state_group/${y}/thumbnail?ver=${p}"`,canvas_url:`/state_group/${y}/canvas?ver=${p}"`,node_id:b||"",isLocal:!1,version:p||"",containing_frame:{},min_node_width:0,min_node_height:0}}else{if(!y||u[y])continue;u[y]={type:r.LibraryItemType.COMPONENT,name:i.name,file_key:s,component_key:y,thumbnail_url:`/component/${y}/thumbnail?ver=${p}"`,canvas_url:`/component/${y}/canvas?ver=${p}&fv=${n||0}"`,node_id:b||"",isLocal:!1}}}return Object.values(u)}),t.areThumbnailsDifferent=((e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in e)if(!t[n]||e[n].url!==t[n].url||e[n].content_hash!==t[n].content_hash)return!0;return!1});const P=f.memoizeLast(e=>{const t={},n=e.local.styles;for(const i in n){const e=n[i];t[e.key]=e}return t}),G=f.memoizeLast(e=>{const t={};for(const n in e.published.styles)for(const i in e.published.styles[n]){const r=e.published.styles[n][i];for(const e in r){const n=r[e];t[n.key]=n}}return t});t.getDiscriminatedStyle=function(e,t,n){const i=P(n)[e];if(i)return{kind:r.StyleKind.LOCAL,value:i};const s=G(n)[e];return s?{kind:r.StyleKind.LIBRARY,value:s}:t&&t.length?{kind:r.StyleKind.DANGLING,value:{key:e,node_id:t[0]}}:void 0},t.nameOfDiscriminatedStyle=function(e,t){if(!e)return"";if(e.kind===r.StyleKind.DANGLING){const n=t.get(e.value.node_id);return n?n.name:""}return e.value.name},t.getPublishedComponentsWithoutStates=f.memoizeLast(e=>{let n={};return Object.keys(e).forEach(i=>{n[i]={},Object.keys(e[i]).forEach(r=>{n[i][r]=t.getComponentsWithoutStates(e[i][r])})}),n}),t.getComponentsWithoutStates=(e=>{var t;const n={};for(const i in e){const r=e[i];null==(null===(t=r.containing_frame)||void 0===t?void 0:t.containingStateGroup)&&(n[i]=Object.assign({},r))}return n}),t.getLocalComponentsAndStateGroups=f.memoizeLast(e=>{const n=t.getComponentsWithoutStates(e.local.components);for(const t in e.local.stateGroups)n[t]=e.local.stateGroups[t];return n}),t.getLibraryItemPublishedInFile=function(e,t,n){const i=e.team_id,r=e.key,s=i?n[i]:null;if(s){const e=s[r];if(e)return e[t]}return null},t.libraryComponentsCallback=(()=>{}),t.libraryComponentsPromise=new Promise(e=>{t.libraryComponentsCallback=e}),t.libraryStylesCallback=(()=>{}),t.libraryStylesPromise=new Promise(e=>{t.libraryStylesCallback=e}),t.resetLibraryPromises=function(){t.libraryComponentsCallback(),t.libraryStylesCallback(),t.libraryComponentsPromise=new Promise(e=>{t.libraryComponentsCallback=e}),t.libraryStylesPromise=new Promise(e=>{t.libraryStylesCallback=e})}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(108     ),o=a(87      );t.makeLocalServerRequest=async function(e,t,a){if(o.blink&&window.WebAssembly||o.firefox&&+o.version>=56){const t=`http://127.0.0.1:${e}`,{data:o}=await n.default({method:n.default.Methods.GET,url:`${t}${a}`,headers:{"Content-Type":"text/plain"}});return{data:o,origin:t}}const i=`https://figmadaemon.com:${t}`,{data:r}=await n.default({method:n.default.Methods.GET,url:`${i}${a}`,headers:{"Content-Type":"text/plain"}});return{data:r,origin:i}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(112          ),o=n(211              ),a=n(85                   ),p=n(286               ),s=n(129           ),i=a.default().user_data,c=i&&i.id;async function u(e){if(r.isInIframe())return Promise.reject();return s.mac||s.windows?p.makeLocalServerRequest(44950,44960,`/figma${e}`):Promise.reject()}t.makeDesktopAgentRequest=u,t.canOpenUrlInDesktopApp=async function(e){if(o.desktopApp)return!1;try{const{data:n}=await u(`/desktop/can-open-url?userID=${c}&url=${e}`);if("boolean"==typeof n.canOpen)return n.canOpen}catch(t){}return!1},t.openUrlInDesktopApp=async function(e){if(o.desktopApp)return!1;try{const{data:n}=await u(`/desktop/open-url?userID=${c}&url=${encodeURIComponent(e)}`);if("boolean"==typeof n.opened)return n.opened}catch(t){}return!1}}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parallel=function(e){return new Promise((t,l)=>{let r=new Array(e.length),n=e.length,o=()=>{0===n&&t(r)};for(let u=0;u<e.length;u++)e[u].then(e=>{r[u]={type:"resolve",resolve:e,reject:void 0},n--,o()},e=>{r[u]={type:"reject",resolve:void 0,reject:e},n--,o()});o()})},t.mergeAndRetry=function(e){let t=null;return()=>(null===t&&(t=e()).catch(()=>t=null),t)}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=[{presetIdentifier:"APPLE_IPHONE_11PROMAX_GOLD",url:"https://static.figma.com/uploads/24309fe757b8e9a95552773031bef2ee76b7a2d6",thumbnailUrl:"https://static.figma.com/uploads/7fabafe31c73b4845a810f4ba87087a50ff4ae06",scaleFactor:3,imageSize:{x:1413,y:2844},offset:{x:86/3,y:26},deviceName:"iPhone 11 Pro Max",styleName:"Gold",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_11PROMAX_MIDNIGHTGREEN",url:"https://static.figma.com/uploads/ed233896f50d899c9da3ef242a7bd59b2055960e",thumbnailUrl:"https://static.figma.com/uploads/2b126564c30d5c97441f83c05631e83dca37c9e5",scaleFactor:3,imageSize:{x:1413,y:2844},offset:{x:86/3,y:26},deviceName:"iPhone 11 Pro Max",styleName:"Midnight Green",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_11PROMAX_SILVER",url:"https://static.figma.com/uploads/e741fc6878521527afe1b43b6acfb4f32ca8ab74",thumbnailUrl:"https://static.figma.com/uploads/65133f57179145290e6cb2bf1701cc8d605ce607",scaleFactor:3,imageSize:{x:1413,y:2844},offset:{x:86/3,y:26},deviceName:"iPhone 11 Pro Max",styleName:"Silver",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_11PROMAX_SPACEGREY",url:"https://static.figma.com/uploads/4a6ca449106d3860fda8d455d52c9a3f07187629",thumbnailUrl:"https://static.figma.com/uploads/fbd82023dc945b4472488697c718db106a6f1bb7",scaleFactor:3,imageSize:{x:1413,y:2844},offset:{x:86/3,y:26},deviceName:"iPhone 11 Pro Max",styleName:"Space Grey",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_11PRO_GOLD",url:"https://static.figma.com/uploads/473492d3b4beb5572a50968cd7655554ece2bf41",thumbnailUrl:"https://static.figma.com/uploads/a3496627c4bd434e661e830fc36c216fddbeaaeb",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:85/3,y:77/3},deviceName:"iPhone 11 Pro",styleName:"Gold",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_11PRO_MIDNIGHTGREEN",url:"https://static.figma.com/uploads/360066b6ae030bf33bcb5e000254e0adc2b5a64f",thumbnailUrl:"https://static.figma.com/uploads/cf7834090b2e1e778c1323bc304bff894d3531f8",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:85/3,y:77/3},deviceName:"iPhone 11 Pro",styleName:"Midnight Green",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_11PRO_SILVER",url:"https://static.figma.com/uploads/52d57ab30b4407a494d2c817e2e41de15973e590",thumbnailUrl:"https://static.figma.com/uploads/dcdfbbcb73a82239ccd12b9fe698d59e42ca8e5e",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:85/3,y:77/3},deviceName:"iPhone 11 Pro",styleName:"Silver",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_11PRO_SPACEGREY",url:"https://static.figma.com/uploads/d4df2b9afbc2ff4a44217ac737ff046c1852599c",thumbnailUrl:"https://static.figma.com/uploads/2d9f4f71032e0ab92ba664992dcfa78232df5514",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:85/3,y:77/3},deviceName:"iPhone 11 Pro",styleName:"Space Grey",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_11_BLACK",url:"https://static.figma.com/uploads/9e306176a1792c1f907d3510984b3395ad5e4bb4",thumbnailUrl:"https://static.figma.com/uploads/f7968a18c062bcdeb7a885f955925a16ebef520e",scaleFactor:2,imageSize:{x:979,y:1933},offset:{x:37.5,y:35.5},deviceName:"iPhone 11",styleName:"Black",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_11_WHITE",url:"https://static.figma.com/uploads/f904c3e35e25ff1822eb15fdf3f3bff551da20d5",thumbnailUrl:"https://static.figma.com/uploads/8877045c779f6e0d0b81c3501b67661c6b6793c7",scaleFactor:2,imageSize:{x:979,y:1933},offset:{x:37.5,y:35.5},deviceName:"iPhone 11",styleName:"White",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_X_SILVER",url:"https://static.figma.com/uploads/c3fa41c0ef744878d816aa4eea1a203aa0e9147f",thumbnailUrl:"https://static.figma.com/uploads/ff8bfebfd53eedec1ad69bf9511ea97af479d1e5",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:88/3,y:77/3},deviceName:"iPhone X",styleName:"Silver",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_X_SPACE_GREY",url:"https://static.figma.com/uploads/f1f76a5a065846ebe2fa3201ff0372283a34664d",thumbnailUrl:"https://static.figma.com/uploads/9026efd5f31ecadf0b9c21a603182a9ac2bd73f2",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:88/3,y:77/3},deviceName:"iPhone X",styleName:"Space Grey",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_8_PLUS_GOLD",url:"https://static.figma.com/uploads/be4f91d500f8c0fc5fb59987e09b080238de2e07",thumbnailUrl:"https://static.figma.com/uploads/b2d642b47eca1383c439f844a76484a07a5a3162",scaleFactor:3,imageSize:{x:1436,y:2876},offset:{x:98/3,y:335/3},deviceName:"iPhone 8 Plus",styleName:"Gold",framePresetSize:{x:414,y:736}},{presetIdentifier:"APPLE_IPHONE_8_PLUS_SILVER",url:"https://static.figma.com/uploads/8b04ac590c9c01ee09c63ee421e07286033fccbe",thumbnailUrl:"https://static.figma.com/uploads/6efeaba691f994da1874e39b4766aafaa198256b",scaleFactor:3,imageSize:{x:1436,y:2876},offset:{x:98/3,y:335/3},deviceName:"iPhone 8 Plus",styleName:"Silver",framePresetSize:{x:414,y:736}},{presetIdentifier:"APPLE_IPHONE_8_PLUS_SPACE_GREY",url:"https://static.figma.com/uploads/c88332b425e7d47906f04e3dad5e421a54fad7b7",thumbnailUrl:"https://static.figma.com/uploads/31b9500e4e1cbbcb25c989c4347ad643b292fa22",scaleFactor:3,imageSize:{x:1436,y:2876},offset:{x:98/3,y:335/3},deviceName:"iPhone 8 Plus",styleName:"Space Grey",framePresetSize:{x:414,y:736}},{presetIdentifier:"APPLE_IPHONE_8_GOLD",url:"https://static.figma.com/uploads/03937fa8ef475102d0f110e15534126f285662fc",thumbnailUrl:"https://static.figma.com/uploads/4bff10d3aaecf8f9b3a06cb8589bc8fb03c215a0",scaleFactor:2,imageSize:{x:871,y:1776},offset:{x:30.5,y:109.5},deviceName:"iPhone 8",styleName:"Gold",framePresetSize:{x:375,y:667}},{presetIdentifier:"APPLE_IPHONE_8_SILVER",url:"https://static.figma.com/uploads/8f8fc00745d0e6fa186b477771aa66417e7e4718",thumbnailUrl:"https://static.figma.com/uploads/763a9210a544ea9888602c3ea78136abdfee3e38",scaleFactor:2,imageSize:{x:871,y:1776},offset:{x:30.5,y:109.5},deviceName:"iPhone 8",styleName:"Silver",framePresetSize:{x:375,y:667}},{presetIdentifier:"APPLE_IPHONE_8_SPACE_GREY",url:"https://static.figma.com/uploads/a63fadb7450e82ac1797fd14e6cd918d3d25c0c2",thumbnailUrl:"https://static.figma.com/uploads/f3a950db328dd1302690b6538d8e486a5218c6d8",scaleFactor:2,imageSize:{x:871,y:1776},offset:{x:30.5,y:109.5},deviceName:"iPhone 8",styleName:"Space Grey",framePresetSize:{x:375,y:667}},{presetIdentifier:"APPLE_IPHONE_SE_GOLD",url:"https://static.figma.com/uploads/f090c716b2ed30ba68d1478f160f2f9847e766f3",thumbnailUrl:"https://static.figma.com/uploads/72d9e55b8b2d46d605b480f4e51e2942b502ca92",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Gold",framePresetSize:{x:320,y:568}},{presetIdentifier:"APPLE_IPHONE_SE_ROSE_GOLD",url:" https://static.figma.com/uploads/2658d90c9afd4162d33777c45c3f9e8dc7ece855",thumbnailUrl:"https://static.figma.com/uploads/b4c5b6e6ed63d2eae9016e033055b3ea1e8069e2",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Rose Gold",framePresetSize:{x:320,y:568}},{presetIdentifier:"APPLE_IPHONE_SE_SILVER",url:"https://static.figma.com/uploads/27e1069aae130d1e34b6f4e1835729864f05f7de",thumbnailUrl:"https://static.figma.com/uploads/46c5f84c1da73f0c7ce9409114d3c430af808cd3",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Silver",framePresetSize:{x:320,y:568}},{presetIdentifier:"APPLE_IPHONE_SE_SPACE_GREY",url:"https://static.figma.com/uploads/8a8146fcd850bd09919336def177fe6496ce41df",thumbnailUrl:"https://static.figma.com/uploads/8ddfc04b706e3759ec49d2501c01b96e977bd792",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Space Grey",framePresetSize:{x:320,y:568}},{presetIdentifier:"GOOGLE_PIXEL_2_CLEARLY_WHITE",url:"https://static.figma.com/uploads/4a447a9da38c948d4ce92899416d04835306dfaa",thumbnailUrl:"https://static.figma.com/uploads/df4ab59dca6301ddbe8aeec44924303568552a2b",scaleFactor:2.6278,imageSize:{x:1210,y:2513},offset:{x:59/2.6278,y:296/2.6278},deviceName:"Google Pixel 2",styleName:"Clearly White",framePresetSize:{x:411,y:731}},{presetIdentifier:"GOOGLE_PIXEL_2_JUST_BLACK",url:"https://static.figma.com/uploads/6230970b6b721631ae1ba2d45c31cfa433dc778e",thumbnailUrl:"https://static.figma.com/uploads/d46b16df0b11238020160d60d816f1d837ea0f89",scaleFactor:2.6278,imageSize:{x:1210,y:2513},offset:{x:59/2.6278,y:296/2.6278},deviceName:"Google Pixel 2",styleName:"Just Black",framePresetSize:{x:411,y:731}},{presetIdentifier:"GOOGLE_PIXEL_2_KINDA_BLUE",url:"https://static.figma.com/uploads/b7e5c6d28ea62e1faa673eb2e35cb30366cf1ab4",thumbnailUrl:"https://static.figma.com/uploads/63484194a51244d57c82e5a9994e9946b70f8b7f",scaleFactor:2.6278,imageSize:{x:1210,y:2513},offset:{x:59/2.6278,y:296/2.6278},deviceName:"Google Pixel 2",styleName:"Kinda Blue",framePresetSize:{x:411,y:731}},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE_FIXED",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:3.5,imageSize:{x:1630,y:3339},offset:{x:26,y:242/3.5},deviceName:"Google Pixel 2 XL",styleName:"Black and White",framePresetSize:{x:411,y:823}},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK_FIXED",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:3.5,imageSize:{x:1630,y:3339},offset:{x:26,y:242/3.5},deviceName:"Google Pixel 2 XL",styleName:"Just Black",framePresetSize:{x:411,y:823}},{presetIdentifier:"GOOGLE_NEXUS_5X",url:"https://static.figma.com/uploads/c116dd83223811e5464f9b2cfb3a06cffe6d7811",thumbnailUrl:"https://static.figma.com/uploads/f0a3557ea40091cc6dacf47295a2376a57f6340c",scaleFactor:3,imageSize:{x:1195,y:2406},offset:{x:53/3,y:77},deviceName:"Google Nexus 5X",styleName:"",framePresetSize:{x:360,y:640}},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:3.503,imageSize:{x:1630,y:3339},offset:{x:91/3.503,y:242/3.503},deviceName:"Google Pixel 2 XL (legacy)",styleName:"Black and White",framePresetSize:{x:411,y:822},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:3.503,imageSize:{x:1630,y:3339},offset:{x:91/3.503,y:242/3.503},deviceName:"Google Pixel 2 XL (legacy)",styleName:"Just Black",framePresetSize:{x:411,y:822},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_CLEARLY_WHITE_CORRECTED",url:"https://static.figma.com/uploads/4a447a9da38c948d4ce92899416d04835306dfaa",thumbnailUrl:"https://static.figma.com/uploads/df4ab59dca6301ddbe8aeec44924303568552a2b",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",styleName:"Clearly White",framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_JUST_BLACK_CORRECTED",url:"https://static.figma.com/uploads/6230970b6b721631ae1ba2d45c31cfa433dc778e",thumbnailUrl:"https://static.figma.com/uploads/d46b16df0b11238020160d60d816f1d837ea0f89",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",styleName:"Just Black",framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_KINDA_BLUE_CORRECTED",url:"https://static.figma.com/uploads/b7e5c6d28ea62e1faa673eb2e35cb30366cf1ab4",thumbnailUrl:"https://static.figma.com/uploads/63484194a51244d57c82e5a9994e9946b70f8b7f",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",styleName:"Kinda Blue",framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE_CORRECTED",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:4,imageSize:{x:1630,y:3339},offset:{x:91/4,y:60.5},deviceName:"Google Pixel 2 XL (wrong)",styleName:"Black and White",framePresetSize:{x:360,y:720},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK_CORRECTED",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:4,imageSize:{x:1630,y:3339},offset:{x:91/4,y:60.5},deviceName:"Google Pixel 2 XL (wrong)",styleName:"Just Black",framePresetSize:{x:360,y:720},hideUnlessActive:!0}],c=[{presetIdentifier:"APPLE_IPAD_MINI_4_GOLD",url:"https://static.figma.com/uploads/328013fee3e9ae814eeb7bb38c1d9b4d42ae6bc9",thumbnailUrl:"https://static.figma.com/uploads/75bf4da29b271b65dc372f36608cbd2f94eaa84a",scaleFactor:2,imageSize:{x:1728,y:2604},offset:{x:48,y:139},deviceName:"iPad mini",styleName:"Gold",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_MINI_4_SILVER",url:"https://static.figma.com/uploads/e880c453cd086df5696ca242d7bbc0fcd4a7e6c7",thumbnailUrl:"https://static.figma.com/uploads/0befd84fa291160218098e1e11ef814593c3e8af",scaleFactor:2,imageSize:{x:1728,y:2604},offset:{x:48,y:139},deviceName:"iPad mini",styleName:"Silver",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_MINI_4_SPACE_GREY",url:"https://static.figma.com/uploads/8638fcab67fa732bc8a72acb6c40b79cf1261f21",thumbnailUrl:"https://static.figma.com/uploads/5a823145105ba98060af64c62bfec3b96e603bc7",scaleFactor:2,imageSize:{x:1728,y:2604},offset:{x:48,y:139},deviceName:"iPad mini",styleName:"Space Grey",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_PRO_11_SILVER",url:"https://static.figma.com/uploads/93f3bdf77fe5e69af9a645fce6497e5b33d7011f",thumbnailUrl:"https://static.figma.com/uploads/38c681887e85ee410a4635219665279e60b194b9",scaleFactor:2,imageSize:{x:1863,y:2583},offset:{x:47.5,y:50},deviceName:'iPad Pro 11"',styleName:"",framePresetSize:{x:834,y:1194}},{presetIdentifier:"APPLE_IPAD_PRO_129_SILVER",url:"https://static.figma.com/uploads/6d5c861ea44bd36c7b8dfe07cc167378938f71ef",thumbnailUrl:"https://static.figma.com/uploads/5f68be5104861293fc155a581a874e030874489b",scaleFactor:2,imageSize:{x:2245,y:2930},offset:{x:48,y:51},deviceName:'iPad Pro 12.9"',styleName:"",framePresetSize:{x:1024,y:1366}},{presetIdentifier:"MICROSOFT_SURFACE_PRO_4",url:"https://static.figma.com/uploads/4192a676e2992e9b08407571f59d57b2da414407",thumbnailUrl:"https://static.figma.com/uploads/5abae406fbb16edb28d09336521687e904195c7c",scaleFactor:2,imageSize:{x:3064,y:2115},offset:{x:82,y:74},deviceName:"Surface Pro 4",styleName:"",framePresetSize:{x:1368,y:912}},{presetIdentifier:"APPLE_IPAD_GOLD",url:"https://static.figma.com/uploads/c0041089d121b6a9fab09a3e6e57ae662a63c056",thumbnailUrl:"https://static.figma.com/uploads/352b92962b1d63d4142d3b3f525f7a7145d6865b",scaleFactor:2,imageSize:{x:1763,y:2495},offset:{x:56,y:112},deviceName:'iPad 9.7"',styleName:"Gold",framePresetSize:{x:768,y:1024},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_SILVER",url:"https://static.figma.com/uploads/673fcf21209d5719d14ec969b226509b0386ff28",thumbnailUrl:"https://static.figma.com/uploads/e04b4c9943933ae8948bd6f9e98a59d2e2248b98",scaleFactor:2,imageSize:{x:1763,y:2495},offset:{x:56,y:112},deviceName:'iPad 9.7"',styleName:"Silver",framePresetSize:{x:768,y:1024},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_SPACE_GREY",url:"https://static.figma.com/uploads/dc4087534c677eb0bd8e01be81960f541df7abab",thumbnailUrl:"https://static.figma.com/uploads/7eaf93631ddf35d4d7773618c84c6811bd8f5023",scaleFactor:2,imageSize:{x:1763,y:2495},offset:{x:56,y:112},deviceName:'iPad 9.7"',styleName:"Space Grey",framePresetSize:{x:768,y:1024},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_105_GOLD",url:"https://static.figma.com/uploads/6604919217ccd2007dc242289b6eb46a67e906b0",thumbnailUrl:"https://static.figma.com/uploads/144614eca299bf21ef6a3220413deafe74d7db5f",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Gold",framePresetSize:{x:834,y:1112},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_105_ROSE_GOLD",url:"https://static.figma.com/uploads/628fb1414c2b238f444108bf359460981e4efd7b",thumbnailUrl:"https://static.figma.com/uploads/a7fc4718e83b481e5191cc352e4810a9bb828ee5",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Rose Gold",framePresetSize:{x:834,y:1112},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_105_SILVER",url:"https://static.figma.com/uploads/fe6849f30d136173a21c308c8291b52b83feb15a",thumbnailUrl:"https://static.figma.com/uploads/d8af399f095f5964262ed4d96e3d7304ca5f8941",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Silver",framePresetSize:{x:834,y:1112},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_105_SPACE_GREY",url:"https://static.figma.com/uploads/555b2468733885cb2e3ade0de884e72bfc8bcaac",thumbnailUrl:"https://static.figma.com/uploads/c5466e02e01cba41c26234034e5e055147c993b1",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Space Grey",framePresetSize:{x:834,y:1112},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_GOLD",url:"https://static.figma.com/uploads/693d028b945399d6eb411e8b5691c83cfd3ec1e8",thumbnailUrl:"https://static.figma.com/uploads/08e04a3eeb2230962f7c11de04e05987d9f93b14",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9" (old)',styleName:"Gold",framePresetSize:{x:1024,y:1366},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_SILVER",url:"https://static.figma.com/uploads/703a3beb0bb7eeefa5a8f00c328606f59d7bfad1",thumbnailUrl:"https://static.figma.com/uploads/0d3fc68051cb305703d02372bff6d8ec74c24111",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9" (old)',styleName:"Silver",framePresetSize:{x:1024,y:1366},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_SPACE_GREY",url:"https://static.figma.com/uploads/0eebe7d84dc8cfdd9578d03fb8fd59de6a7c0578",thumbnailUrl:"https://static.figma.com/uploads/272fa6d8901005d8fca90e51d3b19f2cac448bba",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9" (old)',styleName:"Space Grey",framePresetSize:{x:1024,y:1366},hideUnlessActive:!0}],s=[{presetIdentifier:"APPLE_WATCH_44MM_BLACK",url:"https://static.figma.com/uploads/cd96a0eeff474600c128809eb6c06c90033ceac2",thumbnailUrl:"https://static.figma.com/uploads/d92464253e796e69eaa79809e18c1a35a34d4c31",scaleFactor:2,imageSize:{x:501,y:860},offset:{x:28,y:103},deviceName:"Apple Watch 44mm",styleName:"",framePresetSize:{x:184,y:224}},{presetIdentifier:"APPLE_WATCH_42MM_SILVER_ALUMINUM_PLUS_WHITE",url:"https://static.figma.com/uploads/3ae17e6e9d695fb6ba5d8e76f3aebf38436cb0c9",thumbnailUrl:"https://static.figma.com/uploads/798df987373ad0c548b2e5527b30cc5ab12ba1ee",scaleFactor:2,imageSize:{x:486,y:871},offset:{x:38,y:120},deviceName:"Apple Watch 42mm",styleName:"Silver / White",framePresetSize:{x:156,y:195}},{presetIdentifier:"APPLE_WATCH_42MM_SPACE_GREY_ALUMINUM_PLUS_BLACK",url:"https://static.figma.com/uploads/97ddb2d8c7fa1bcd0e9175ab4870e920131fc868",thumbnailUrl:"https://static.figma.com/uploads/4c9f8d06241e328ba5cd604a3b13c81f27e9003e",scaleFactor:2,imageSize:{x:486,y:871},offset:{x:38,y:120},deviceName:"Apple Watch 42mm",styleName:"Space Grey / Black",framePresetSize:{x:156,y:195}},{presetIdentifier:"APPLE_WATCH_40MM_BLACK",url:"https://static.figma.com/uploads/e75f653f99f2864b9cb8f5aadaa1256fb07c44da",thumbnailUrl:"https://static.figma.com/uploads/1d1463212be3a0886ee5c42a37e1e00505249bf8",scaleFactor:2,imageSize:{x:458,y:796},offset:{x:28.5,y:100},deviceName:"Apple Watch 40mm",styleName:"",framePresetSize:{x:162,y:197}},{presetIdentifier:"APPLE_WATCH_38MM_SILVER_ALUMINUM_PLUS_WHITE",url:"https://static.figma.com/uploads/6d4cfbe07e969780896d23752badaf4a01129c23",thumbnailUrl:"https://static.figma.com/uploads/bb82afa0b7de9277f1e961f3e64cb97445aa5d29",scaleFactor:2,imageSize:{x:425,y:764},offset:{x:33,y:106.5},deviceName:"Apple Watch 38mm",styleName:"Silver / White",framePresetSize:{x:136,y:170}},{presetIdentifier:"APPLE_WATCH_38MM_SPACE_GREY_ALUMINUM_PLUS_BLACK",url:"https://static.figma.com/uploads/fb2ce9c66635652aedbfdf0b67eda809ce83e364",thumbnailUrl:"https://static.figma.com/uploads/b22cea10520c8e60711219fc191b49702ff4e305",scaleFactor:2,imageSize:{x:425,y:764},offset:{x:33,y:106.5},deviceName:"Apple Watch 38mm",styleName:"Space Grey / Black",framePresetSize:{x:136,y:170}}];a.deviceInfoByIdentifier=Object.create(null);for(let r of[i,c,s])for(let e of r)a.deviceInfoByIdentifier[e.presetIdentifier]=e;function f(e){const a=new Set,t=[];for(let i of e)a.has(i.deviceName)||(a.add(i.deviceName),t.push(i.deviceName));return t}a.phoneDeviceNames=f(i),a.tabletDeviceNames=f(c),a.watchDeviceNames=f(s),a.infosByDeviceName=Object.create(null);for(let r in a.deviceInfoByIdentifier){const e=a.deviceInfoByIdentifier[r],t=e.deviceName;t in a.infosByDeviceName||(a.infosByDeviceName[t]=[]),a.infosByDeviceName[t].push(e)}const d=(e,a)=>{for(let t of[i,c,s])for(let i of t)if(i.framePresetSize.x===e&&i.framePresetSize.y===a)return i;return null};function m(e,t){if("NONE"===e||"PRESENTATION"===e)return!1;if("CUSTOM"===e)return!0;if("PRESET"===e&&null!=t){const e=a.deviceInfoByIdentifier[t];if(null!=e){return!(-1!==a.watchDeviceNames.indexOf(e.deviceName))}}return!1}var l;a.deviceSupportsRotation=m,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PHONE=1]="PHONE",e[e.TABLET=2]="TABLET",e[e.WATCH=3]="WATCH"}(l||(l={})),a.deviceTypeForPresetIdentifier=function(e){const t=a.deviceInfoByIdentifier[e];if(null==t)return l.UNKNOWN;const i=t.deviceName;return-1!==a.phoneDeviceNames.indexOf(i)?l.PHONE:-1!==a.tabletDeviceNames.indexOf(i)?l.TABLET:-1!==a.watchDeviceNames.indexOf(i)?l.WATCH:l.UNKNOWN},a.getDeviceInfoForSize=function(e,a){let t=d(e,a);return null!=t?{presetIdentifier:t.presetIdentifier,portraitDeviceSize:t.framePresetSize,rotation:"NONE"}:null!=(t=d(a,e))&&m("PRESET",t.presetIdentifier)?{presetIdentifier:t.presetIdentifier,portraitDeviceSize:t.framePresetSize,rotation:"CCW_90"}:null}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(105        );let i=!1;t.EventEmitter=class{constructor(e){this._name=e,this._listenersByEvent=Object.create(null)}on(e,t){this._listenersByEvent[e]||(this._listenersByEvent[e]=[]),n.pushIfAbsent(this._listenersByEvent[e],t)}removeListener(e,t){const s=this._listenersByEvent[e];s&&n.removeByValue(s,t)}trigger(e,t){if(i&&console.log(`EventEmitter(${this._name}) triggering (${e})`),this._listenersByEvent[e])for(const s of this._listenersByEvent[e])s(t)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(290                ),s=n(111          ),o=n(86          ).debounce(s.trackEvent,1e3,!0),i="gamepadconnected",r="gamepaddisconnected";t.STICK_OFFSET=1e3;const d=.5;t.GameControllerListener=class{constructor(){this.emitter=new a.EventEmitter("GameControllerListener"),this.state=new Map,this.rafHandle=0,this.onGamePadConnected=(e=>{this.rafHandle||(this.rafHandle=window.requestAnimationFrame(this.tick))}),this.onGamePadDisconnected=(e=>{Array.from(window.navigator.getGamepads()).some(Boolean)||(window.cancelAnimationFrame(this.rafHandle),this.rafHandle=0)}),this.tick=(()=>{const e=window.navigator.getGamepads();for(const t of e){if(!t)continue;const e=this.getStateForGamepad(t),n=this.state.get(t.index)||e,a=[];for(const t of e.pressedButtons)n.pressedButtons.has(t)||a.push(t);this.state.set(t.index,e),a.length&&this.emitter.trigger("onPress",{type:"onPress",buttons:a,gamePadIndex:t.index,controllerType:w(t)})}this.rafHandle=window.requestAnimationFrame(this.tick)})}start(){if("function"!=typeof window.navigator.getGamepads)return void console.warn("Gamepad API not supported");const e=window.navigator.getGamepads();for(const t of e)null!=t&&this.state.set(t.index,this.getStateForGamepad(t));window.addEventListener(i,this.onGamePadConnected),window.addEventListener(r,this.onGamePadDisconnected),Array.from(window.navigator.getGamepads()).some(Boolean)&&(this.rafHandle=window.requestAnimationFrame(this.tick))}end(){this.cancelRAF(),window.removeEventListener(i,this.onGamePadConnected),window.removeEventListener(r,this.onGamePadDisconnected)}onPress(e){return this.emitter.on("onPress",e),{release:()=>{this.emitter.removeListener("onPress",e)}}}cancelRAF(){this.rafHandle&&(window.cancelAnimationFrame(this.rafHandle),this.rafHandle=0)}getStateForGamepad(e){const n=[];for(let t=0;t<e.buttons.length;t++)e.buttons[t].pressed&&n.push(t);for(let a=0;a<e.axes.length;a++){const s=e.axes[a];s<-d&&n.push(2*a+t.STICK_OFFSET),s>d&&n.push(2*a+1+t.STICK_OFFSET)}return{pressedButtons:new Set(n)}}};const c=new Map([["054c_09cc","PS4"],["054c_05c4","PS4"],["054c_0268","PS4"],["057e_2009","SWITCH_PRO"],["045e_02ea","XBOX_ONE"],["045e_02dd","XBOX_ONE"]]),l=new Map([["054c","PS4"],["057e","SWITCH_PRO"],["045e","XBOX_ONE"]]),m=/Vendor: ([0-9a-f]+) Product: ([0-9a-f]+)/i,h=/xbox/i;function w(e){var t;const n=m.exec(e.id);if(!n)return h.exec(e.id)?"XBOX_ONE":"UNKNOWN_CONTROLLER";const[a,s]=n.slice(1),i=`${a}_${s}`,r=c.get(i),d=null!==(t=null!=r?r:l.get(a))&&void 0!==t?t:"UNKNOWN_CONTROLLER";return o("Game Controller Triggered",{id:e.id,closestMatch:d,wasExactMatch:Boolean(r)}),d}}),
(function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=n(290                );let o=window.SpeechRecognition;!o&&window.webkitSpeechRecognition&&(o=window.webkitSpeechRecognition);i.VoiceCommandListener=class{constructor(){this.emitter=new e.EventEmitter("VoiceCommandListener"),this.recognition=null,this.isRunning=!1,o&&(this.recognition=new o)}start(){this.recognition&&(this.isRunning||(this.isRunning=!0,this.recognition.continuous=!1,this.recognition.lang="en-US",this.recognition.onresult=(t=>{const i=t.results[0][0].transcript;this.emitter.trigger("onResult",{type:"onResult",result:i})}),this.recognition.onend=(()=>{this.recognition&&this.recognition.start()}),this.recognition.onerror=(t=>{console.error(t)}),this.recognition.start()))}end(){this.isRunning=!1,this.recognition&&this.recognition.stop()}onResult(t){return this.emitter.on("onResult",t),{release:()=>{this.emitter.removeListener("onResult",t)}}}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(){this.elapsedTime=0,this.startTime=0,this.callDepth=0,this.topLevelCallCount=0,this.totalCallCount=0}start(){0===this.callDepth&&(this.startTime=performance.now(),this.topLevelCallCount++),this.callDepth++,this.totalCallCount++}stop(){0!==this.callDepth?(this.callDepth--,0===this.callDepth&&(this.elapsedTime+=performance.now()-this.startTime)):console.error("Called stop on an already-stopped timer")}time(t){this.start();const e=t();return this.stop(),e}static time(t){const e=new i;return e.time(t),e.getElapsedTime()}getElapsedTime(){return this.elapsedTime}getTopLevelCallCount(){return this.topLevelCallCount}getTotalCallCount(){return this.totalCallCount}}e.Timer=i;class r{constructor(){this.timerStack=[],this.startListeners=new Set,this.stopListeners=new Set}start(t){const e=new i;this.timerStack.push({name:t,timer:e}),this.startListeners.forEach(e=>e(t,0)),e.start()}stop(t){const e=this.timerStack.pop();e?e.name===t?(e.timer.stop(),this.stopListeners.forEach(s=>s(t,e.timer.getElapsedTime()))):console.error(`Expected last started timer to be ${t}, but got ${e.name}`):console.error(`Expected last started timer to be ${t}, but got an empty timer stack`)}time(t,e){this.start(t);const s=e();return this.stop(t),s}addStartListener(t){this.startListeners.add(t)}removeStartListener(t){this.startListeners.delete(t)}addStopListener(t){this.stopListeners.add(t)}removeStopListener(t){this.stopListeners.delete(t)}}e.TimerGroup=r;class o{constructor(t){this.name=t,this.hitCount=0,this.totalElapsedTime=0,this.maxElapsedTime=0,this.elapsedTimes=[],this.children=[]}reset(){this.hitCount=0,this.totalElapsedTime=0,this.maxElapsedTime=0,this.elapsedTimes=[],this.children.forEach(t=>t.reset())}}e.TimerResultNode=o;e.TimerGroupWithHistory=class{constructor(t){this.options=t,this.timerGroup=new r,this.rootNodes=[],this.nodeStack=[],this.onStart=(t=>{let e=null,s=this.rootNodes;this.nodeStack.length>0&&(s=this.nodeStack[this.nodeStack.length-1].children);for(let i of s)if(i.name===t){e=i;break}e||(e=new o(t),s.push(e)),this.nodeStack.push(e)}),this.onStop=((t,e)=>{let s=this.nodeStack.pop();if(s){for(s.hitCount++,s.totalElapsedTime+=e,s.maxElapsedTime=Math.max(s.maxElapsedTime,e);s.elapsedTimes.length>=this.options.bufferSize;)s.elapsedTimes.shift();s.elapsedTimes.push(e)}else console.error("Got onStop with an empty result stack")}),this.timerGroup.addStartListener(this.onStart),this.timerGroup.addStopListener(this.onStop)}start(t){this.timerGroup.start(t)}stop(t){this.timerGroup.stop(t)}time(t,e){this.start(t);const s=e();return this.stop(t),s}report(){return this.nodeStack.length>0&&console.warn("Asking for a report while some timers remain open",JSON.stringify(this.nodeStack.map(t=>t.name))),this.rootNodes}reset(){this.rootNodes.forEach(t=>t.reset())}addStartListener(t){this.timerGroup.addStartListener(t)}removeStartListener(t){this.timerGroup.removeStartListener(t)}addStopListener(t){this.timerGroup.addStopListener(t)}removeStopListener(t){this.timerGroup.removeStopListener(t)}getBufferSize(){return this.options.bufferSize}}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(293       );r.appTimer=new n.TimerGroupWithHistory({bufferSize:400}),r.appTimerEventsWhitelist=new Set(["react-render","frame","trigger-action","symbol-updater","style-updater","scene-render","render-tree-generation","fullscreen-handle-event","update-selection-properties"])}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(111          ),n=i(294            ),o=i(85                 ),a=12e4,r=[1,17,32,48,64,80,96,112,224,448,896,1792,3584,Number.MAX_SAFE_INTEGER];function h(e,t){const i=Math.pow(10,t);return(e*i|0)/i}class d{constructor(){this.maxMs=-1,this.totalMs=0,this.count=0,this._buckets=[];for(let e=0;e<r.length;e++)this._buckets.push(0)}add(e){for(let t=0;t<r.length;t++)if(e<=r[t]){this._buckets[t]+=1;break}this.maxMs=Math.max(this.maxMs,e),this.totalMs+=e,this.count++}toLogParams(){const e=[this.count,h(this.totalMs/this.count,2),h(this.maxMs,2)];for(let t=0;t<r.length;t++)e.push(this._buckets[t]);return e}static schema(){const e=["frame_count","mean_frame_ms","max_frame_ms"];for(let t=0;t<r.length;t++){const i=0===t?"0":r[t-1],s=r[t]===Number.MAX_SAFE_INTEGER?"or_higher":r[t];e.push(`count_${i}_to_${s}_ms`)}return e}}class l{constructor(){this._viewer=null,this._rafHandle=-1,this._isDocumentLoaded=!1,this._isFirstLogForTab=!0,this._distributionByWorkName=new Map,this._lastKnownFrameMs=null,this._scheduledLogAtMs=null,this._lastRecordedHitCountByName={},this._lastRecordedDurationSinceLastFrame={},this.scheduleLogTwoMinutesFromNow=(()=>{null===this._scheduledLogAtMs&&(this._scheduledLogAtMs=performance.now()+a)}),this.handleInitialDocumentLoad=(()=>{this._isDocumentLoaded=!0,this._resetLogState(),this.scheduleLogTwoMinutesFromNow()}),this.handleDidRebuildAfterReconnect=(()=>{this._isDocumentLoaded=!0,this._resetLogState()}),this.handleWillRebuildAfterReconnect=(()=>{this._shouldLogToSegment()&&(this._logToSegment("about-to-rebuild-scene"),this._resetLogState()),this._isDocumentLoaded=!1}),this._onDocumentVisibilityChange=(()=>{this.handleDocumentVisibilityChange(document.visibilityState)}),this.handleDocumentVisibilityChange=(e=>{"hidden"===e&&this._shouldLogToSegment()&&(this._logToSegment("tab-hidden"),this._resetLogState()),"hidden"!==e&&this._resetLogState()}),this._logToSegment=(e=>{const t={};t.schema=d.schema(),t.reason=e,t.isFirstLogAfterLoad=this._isFirstLogForTab,this._isFirstLogForTab=!1,this._distributionByWorkName.forEach((e,i)=>{i in t?console.error(`We're tracking performance for a work item with a reserved name: ${i}`):t[i]=e.toLogParams()}),s.trackEvent("frame_distributions",t)}),this.onFrame=(()=>{if(this._rafHandle=requestAnimationFrame(this.onFrame),null==this._lastKnownFrameMs)return void(this._lastKnownFrameMs=performance.now());const e=performance.now(),t=e-this._lastKnownFrameMs;this._lastKnownFrameMs=e,this._isDocumentLoaded?(this._getOrCreateDistribution("all").add(t),this._processAppTimer("compute-elapsed-and-update-distributions")):this._processAppTimer("compute-elapsed"),this._isDocumentLoaded&&null!==this._scheduledLogAtMs&&performance.now()>this._scheduledLogAtMs&&(this._logToSegment("two-minutes-elapsed"),this._resetLogState())}),document.addEventListener("mousemove",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("keydown",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("touchdown",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("visibilitychange",this._onDocumentVisibilityChange),this._rafHandle=requestAnimationFrame(this.onFrame)}uninstall(){document.removeEventListener("mousemove",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("keydown",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("touchdown",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("visibilitychange",this._onDocumentVisibilityChange),cancelAnimationFrame(this._rafHandle),this.setViewer(null)}hasScheduledLog(){return null!=this._scheduledLogAtMs}_shouldLogToSegment(){return this._isDocumentLoaded&&null!=this._scheduledLogAtMs}_resetLogState(){this._lastKnownFrameMs=null,this._distributionByWorkName=new Map,this._scheduledLogAtMs=null,this._lastRecordedHitCountByName={},this._lastRecordedDurationSinceLastFrame={}}setViewer(e){null!=this._viewer&&(this._viewer.off("sceneDidCompleteInitialLoad",this.handleInitialDocumentLoad),this._viewer.off("sceneWillRebuildAfterReconnecting",this.handleWillRebuildAfterReconnect),this._viewer.off("sceneDidRebuildAfterReconnecting",this.handleDidRebuildAfterReconnect)),this._shouldLogToSegment()&&(this._logToSegment("changing-viewer"),this._resetLogState()),this._viewer=e,this._isDocumentLoaded=!1,null!=this._viewer&&(this._viewer.on("sceneDidCompleteInitialLoad",this.handleInitialDocumentLoad),this._viewer.on("sceneWillRebuildAfterReconnecting",this.handleWillRebuildAfterReconnect),this._viewer.on("sceneDidRebuildAfterReconnecting",this.handleDidRebuildAfterReconnect))}_getOrCreateDistribution(e){let t=this._distributionByWorkName.get(e);return null==t&&(t=new d,this._distributionByWorkName.set(e,t)),t}_processAppTimer(e){const t=n.appTimer.report();for(const i of t){if(!(i.name in this._lastRecordedHitCountByName&&i.name in this._lastRecordedDurationSinceLastFrame))return this._lastRecordedHitCountByName[i.name]=i.hitCount,void(this._lastRecordedDurationSinceLastFrame[i.name]=i.totalElapsedTime);i.hitCount-this._lastRecordedHitCountByName[i.name]>i.elapsedTimes.length&&console.warn(`Logged performance for ${i.name} too many times in one animation frame`);const t=i.totalElapsedTime-this._lastRecordedDurationSinceLastFrame[i.name];if(this._lastRecordedHitCountByName[i.name]=i.hitCount,this._lastRecordedDurationSinceLastFrame[i.name]=i.totalElapsedTime,"compute-elapsed-and-update-distributions"===e&&("react-render"===i.name||i.name.startsWith("viewer:"))){const e=i.name.startsWith("viewer:")?i.name.substr("viewer:".length):i.name;this._getOrCreateDistribution(e).add(t)}}}}t.FrameDistributionTracker=l,t.frameDistributionTracker=o.getFeatureFlags().viewer_log_frame_distributions?new l:null}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(102              ),r=t(112          ),o=t(104              ),s=t(85                   ),a=t(289                              ),c=t(111          ),l=t(87      ),d=t(291               ),p=t(292             ),m=t(295                             ),u=t(294            );var f,g=null,b=null;const w=new d.GameControllerListener,v=new p.VoiceCommandListener;n.getGlobalViewerInstance=function(){return g},n.setMockEmbedListener=function(e){null!=g?g.setMockEmbedListener(e):f=e},n.getOrCreateViewerInstance=async function(e,n,t={}){const d=Object.assign({viewerMode:e,workerURL:Fig.viewerWorkerURL,containerElement:n,scrollToPan:!r.isInIframe()||null!=o.parse(location.search).fullscreen,featureFlags:s.getFeatureFlags(),trackAnalyticsEvent:(e,n)=>{c.segment.track(e,n)},appTimerStart:e=>{u.appTimer.start(`viewer:${e}`)},appTimerStop:e=>{u.appTimer.stop(`viewer:${e}`)},trackingSessionId:s.initialOptions().tracking_session_id||null,bowser:l,gameControllerListener:w,voiceCommandListener:v},t);if(g)return JSON.stringify(Object.assign(Object.assign({},d),{containerElement:null}))!==JSON.stringify(b)&&console.warn("getOrCreateViewerInstance called with different options than the first call!"),g.setNewContainerElement(n),Promise.resolve(g);try{await i.loadScript(Fig.viewerScriptURL)}catch(p){throw p}return b=Object.assign(Object.assign({},d),{containerElement:null}),g=Fig.createViewer(Object.assign(Object.assign({},d),{deviceInfoByIdentifier:a.deviceInfoByIdentifier})),null!=m.frameDistributionTracker&&m.frameDistributionTracker.setViewer(g),null!=f&&g.setMockEmbedListener(f),g},n.connectViewerToFile=function(e,n,t,i){e.connectTo({fileKey:n,nodeId:t||"",oauthToken:i})},n.initializeViewerDebugStats=function(e){const n=document.createElement("div");document.body.appendChild(n),n.style.cssText="\n  font-size: 9px;\n  position: fixed;\n  left: 6px;\n  top: 6px;\n  background-color: black;\n  color: white;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  padding: 6px;\n  ",setInterval(()=>{for(;n.firstChild;)n.removeChild(n.firstChild);const t=e.getStatsForDebugging();for(let e in t){const i=document.createElement("div");i.innerHTML=`\n      <div>\n        <span>\n          ${e}: &nbsp;\n        </span>\n        <span>\n          ${t[e]}\n        </span>\n      </div>\n      `,n.appendChild(i)}},1e3/30)}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(214         ),s=t(296         ),i=t(215                                          ),r=t(261                               );let l=null;function u(e){return(t,o)=>{for(const s of n.listeners[e])s({x:t,y:o})}}n.initialize=function(e){l=e},n.listeners={mousedown:new Set,mousemove:new Set,mouseup:new Set},n.on=function(e,t){n.listeners[e].add(t)},n.off=function(e,t){n.listeners[e].delete(t)},n.handleMouseDown=u("mousedown"),n.handleMouseMove=u("mousemove"),n.handleMouseUp=u("mouseup"),n.getCommentDestinationForCanvasPosition=function(e,t){const i=l.getState(),u=i.selectedView;if("fullscreen"===u.view){const s=r.Fullscreen.getCommentAnchorNodeAtPosition(e.x,e.y);if(null==s)return{canvasPosition:e};const i=n.getBoundsForNodes([s])[s];return null==i?t?{canvasPosition:e,nodeId:t,inFrame:!1}:{canvasPosition:e}:{canvasPosition:e,nodeId:s,nodeOffset:o.Vector.subtract(e,i),inFrame:t!==s}}if("prototype"===u.view){const n=s.getGlobalViewerInstance();if(null!=n){const t=n.getCommentDestinationAtPosition(e);return{canvasPosition:e,nodeId:t.nodeId||void 0,nodeOffset:t.nodeOffset||void 0}}const t=i.prototype;return{canvasPosition:e,nodeId:t.frameIds[t.currentIndex],nodeOffset:{x:0,y:0}}}return console.error("Comments not supported unless in prototype or fullscreen views"),null},n.getBoundsForNodes=(e=>{if("fullscreen"===l.getState().selectedView.view){const n=i.fullscreen.DEPRECATED_sendMessage("getBoundsForNodes",{nodeIds:e});if(n&&n.args)return n.args}else{const n=s.getGlobalViewerInstance();if(null!=n)return n.getCanvasSpaceBoundsByNodeId(e)}return Object.create(null)}),n.getValidCommentsRect=(()=>{if("fullscreen"===(null==l?void 0:l.getState().selectedView.view))return null;const e=s.getGlobalViewerInstance();return e?e.getCurrentTlfBounds():null})}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const l=o(86            );let t=[],a=[];n.pluginCallbackBindings={selectionChange:e=>{for(let n of t)e?n.boxSelection():n.normal()},boxSelectionEnded:()=>{for(let e of t)e.boxSelection.flush()},currentPageChange:()=>{for(let e of a)e()}},n.addSelectionChangeCallback=function(e){t.push({normal:e,boxSelection:l.debounce(e,500)})},n.removeSelectionChangeCallback=function(e){t=t.filter(n=>n.normal!==e||(n.boxSelection.cancel(),!1))},n.addCurrentPageChangeCallback=function(e){a.push(e)},n.removeCurrentPageChangeCallback=function(e){a=a.filter(n=>n!=e)}}),
(function(e,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.HUB_FILE="hub_file",e.PLUGIN="plugin"}(i.PublicProfileResourceType||(i.PublicProfileResourceType={})),function(e){e.RESOURCES="RESOURCES",e.LIKES="LIKES"}(i.CommunityHubProfileTab||(i.CommunityHubProfileTab={})),function(e){e[e.SHOW_404=0]="SHOW_404",e[e.REDIRECT_TO_INTERNAL_PROFILE=1]="REDIRECT_TO_INTERNAL_PROFILE"}(i.On404Behavior||(i.On404Behavior={}))}),
(function(u,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(u){u[u.EDIT=0]="EDIT",u[u.PREVIEW=1]="PREVIEW",u[u.UPLOADING=2]="UPLOADING",u[u.SUCCESS=3]="SUCCESS",u[u.FAILURE=4]="FAILURE"}(e.HubPublishingStatusCode||(e.HubPublishingStatusCode={}))}),
(function(e,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.CANVAS="canvas",e.PROTOTYPE="prototype"}(i.ViewerModeToPublishAs||(i.ViewerModeToPublishAs={})),function(e){e.unverified="unverified",e.verified="verified",e.blocked="blocked"}(i.VerificationStatus||(i.VerificationStatus={}))}),
(function(e,t,a){"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PLUGINS="plugins",e.FILES="files",e.CREATORS="creators"}(i=t.CommunityHubLandingTab||(t.CommunityHubLandingTab={})),t.defaultCommunityHubLandingTab=i.FILES,function(e){e.POPULAR="popular",e.CREATED_AT="created_at",e.FOLLOW_FEED="follow_feed",e.LIKED="liked"}(n=t.CommunityHubLandingSort||(t.CommunityHubLandingSort={})),t.defaultCommunityHubLandingSortState=n.POPULAR,t.DEFAULT_CATEGORY_KEY="0-category-key",t.FEED_CATEGORY_KEY="1-category-key";const s=" Duplicate, install, and remix thousands of Figma resources. Connect and learn from other Figma creators.";t.defaultCategory={id:t.DEFAULT_CATEGORY_KEY,title:"Explore files and plugins made just for Figma",description:s,tags:[]},t.feedCategory={id:t.FEED_CATEGORY_KEY,title:"Explore files and plugins made just for Figma",description:s,tags:[]},t.getResourceFetchApiSlug=(e=>{switch(e){case i.FILES:return"hub_files";case i.PLUGINS:return"plugins";case i.CREATORS:return"profile";default:return"hub_files"}}),t.resourceIdsPaginatedEmptyState={resourceIds:{},loading:!1},t.emptyTabState={[n.POPULAR]:Object.assign({},t.resourceIdsPaginatedEmptyState),[n.CREATED_AT]:Object.assign({},t.resourceIdsPaginatedEmptyState)},t.emptyResourceState={[i.FILES]:Object.assign({},t.emptyTabState),[i.PLUGINS]:Object.assign({},t.emptyTabState),[i.CREATORS]:Object.assign({},t.emptyTabState)}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(211              ),o=t(85                   );function s(){var e;return o.getFeatureFlags().community_hub_ga||!!(null===(e=o.initialOptions().user_data)||void 0===e?void 0:e.community_beta_at)}function a(){return s()||o.getFeatureFlags().community_hub_browsing_only}n.PLUGIN_VERSION_LATEST_STABLE="1.0.0",n.supportsDesktopPluginsV4=function(){return i.desktopApp&&i.desktopApp.supportsLocalFileExtensionsAPIV4()},n.getTsForNewPlugin=function(){return n.TS_FOR_NEW_PLUGIN},n.getTsWithHtmlForNewPlugin=function(){return n.TS_WITH_HTML_FOR_NEW_PLUGIN},n.getHtmlForNewPlugin=function(){return n.HTML_FOR_NEW_PLUGIN},n.TS_FOR_NEW_PLUGIN="// This plugin creates 5 rectangles on the screen.\nconst numberOfRectangles = 5\n\n// This file holds the main code for the plugins. It has access to the *document*.\n// You can access browser APIs such as the network by creating a UI which contains\n// a full browser environment (see documentation).\n\nconst nodes: SceneNode[] = [];\nfor (let i = 0; i < numberOfRectangles; i++) {\n  const rect = figma.createRectangle();\n  rect.x = i * 150;\n  rect.fills = [{type: 'SOLID', color: {r: 1, g: 0.5, b: 0}}];\n  figma.currentPage.appendChild(rect);\n  nodes.push(rect);\n}\nfigma.currentPage.selection = nodes;\nfigma.viewport.scrollAndZoomIntoView(nodes);\n\n// Make sure to close the plugin when you're done. Otherwise the plugin will\n// keep running, which shows the cancel button at the bottom of the screen.\nfigma.closePlugin();\n",n.TS_WITH_HTML_FOR_NEW_PLUGIN='// This plugin will open a modal to prompt the user to enter a number, and\n// it will then create that many rectangles on the screen.\n\n// This file holds the main code for the plugins. It has access to the *document*.\n// You can access browser APIs in the <script> tag inside "ui.html" which has a\n// full browser environment (see documentation).\n\n// This shows the HTML page in "ui.html".\nfigma.showUI(__html__);\n\n// Calls to "parent.postMessage" from within the HTML page will trigger this\n// callback. The callback will be passed the "pluginMessage" property of the\n// posted message.\nfigma.ui.onmessage = msg => {\n  // One way of distinguishing between different types of messages sent from\n  // your HTML page is to use an object with a "type" property like this.\n  if (msg.type === \'create-rectangles\') {\n    const nodes: SceneNode[] = [];\n    for (let i = 0; i < msg.count; i++) {\n      const rect = figma.createRectangle();\n      rect.x = i * 150;\n      rect.fills = [{type: \'SOLID\', color: {r: 1, g: 0.5, b: 0}}];\n      figma.currentPage.appendChild(rect);\n      nodes.push(rect);\n    }\n    figma.currentPage.selection = nodes;\n    figma.viewport.scrollAndZoomIntoView(nodes);\n  }\n\n  // Make sure to close the plugin when you\'re done. Otherwise the plugin will\n  // keep running, which shows the cancel button at the bottom of the screen.\n  figma.closePlugin();\n};\n',n.HTML_FOR_NEW_PLUGIN="<h2>Rectangle Creator</h2>\n<p>Count: <input id=\"count\" value=\"5\"></p>\n<button id=\"create\">Create</button>\n<button id=\"cancel\">Cancel</button>\n<script>\n\ndocument.getElementById('create').onclick = () => {\n  const textbox = document.getElementById('count');\n  const count = parseInt(textbox.value, 10);\n  parent.postMessage({ pluginMessage: { type: 'create-rectangles', count } }, '*')\n}\n\ndocument.getElementById('cancel').onclick = () => {\n  parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')\n}\n\n<\/script>\n",n.JAVASCRIPT_REDIRECT='throw new Error("This plugin template uses Typescript. Follow the instructions in `README.md` to generate `code.js`.")',n.TYPESCRIPT_README='Below are the steps to get your plugin running. You can also find instructions at:\n\n  https://www.figma.com/plugin-docs/setup/\n\nThis plugin template uses Typescript and NPM, two standard tools in creating JavaScript applications.\n\nFirst, download Node.js which comes with NPM. This will allow you to install TypeScript and other\nlibraries. You can find the download link here:\n\n  https://nodejs.org/en/download/\n\nNext, install TypeScript using the command:\n\n  npm install -g typescript\n\nFinally, in the directory of your plugin, get the latest type definitions for the plugin API by running:\n\n  npm install --saveDev @figma/plugin-typings\n\nIf you are familiar with JavaScript, TypeScript will look very familiar. In fact, valid JavaScript code\nis already valid Typescript code.\n\nTypeScript adds type annotations to variables. This allows code editors such as Visual Studio Code\nto provide information about the Figma API while you are writing code, as well as help catch bugs\nyou previously didn\'t notice.\n\nFor more information, visit https://www.typescriptlang.org/\n\nUsing TypeScript requires a compiler to convert TypeScript (code.ts) into JavaScript (code.js)\nfor the browser to run.\n\nWe recommend writing TypeScript code using Visual Studio code:\n\n1. Download Visual Studio Code if you haven\'t already: https://code.visualstudio.com/.\n2. Open this directory in Visual Studio Code.\n3. Compile TypeScript to JavaScript: Run the "Terminal > Run Build Task..." menu item,\n    then select "tsc: watch - tsconfig.json". You will have to do this again every time\n    you reopen Visual Studio Code.\n\nThat\'s it! Visual Studio Code will regenerate the JavaScript file every time you save.\n',n.DEFAULT_TSCONFIG='{\n  "compilerOptions": {\n    "target": "es6",\n    "typeRoots": [\n      "./node_modules/@types",\n      "./node_modules/@figma"\n    ]\n  }\n}\n',n.communityHubPublishingEnabled=s,n.communityHubBrowsingEnabled=a,n.communityHubImageVerificationEnabled=function(){return o.getFeatureFlags().community_hub_image_inspection},n.communityHubCanvasToggleEnabled=function(){return o.getFeatureFlags().community_hub_canvas_toggle},n.communityHubFollowsEnabled=function(){return a()},n.communityLandingPageRefreshEnabled=function(){return a()&&o.getFeatureFlags().community_landing_page_refresh},n.COVER_IMAGE_WIDTH=1920,n.COVER_IMAGE_HEIGHT=960}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(85                   ),i=a(91                  ),r=a(125            ),o=a(125                        ),s=a(299                             ),u=a(300                              ),l=a(113                                     ),c=a(202                            ),d=a(138      ),m=a(122          ),g=a(301                        ),_=a(302                                ),p=a(303                             );function b(e){return e&&e.status||{code:u.HubPublishingStatusCode.EDIT}}t.mergeVersions=function(e,t){return Object.assign(Object.assign({},e&&e.versions||{}),t&&t.versions||{})},t.getById=function(e,t,a){return e&&t&&t[e]||a},t.trimString=function(e){return e&&e.trim()||""},t.publishingStateActionCreator=function(e){return{updateStatus:i.actionCreator(`${e}_UPDATE_PUBLISH_STATUS`),updateMetadata:i.actionCreator(`${e}_UPDATE_PUBLISH_METADATA`),clearMetadata:i.actionCreator(`${e}_CLEAR_PUBLISH_METADATA`),clearMetadataAndStatus:i.actionCreator(`${e}_CLEAR_PUBLISHING`)}},t.publishingStateReducer=function(e){return(t={},a)=>{if(e.updateMetadata.matches(a))return Object.assign(Object.assign({},t),{[a.payload.id]:{metadata:a.payload.metadata,status:b()}});if(e.clearMetadata.matches(a)){const e=Object.assign({},t);return e[a.payload.id]&&delete e[a.payload.id].metadata,e}if(e.updateStatus.matches(a)){const e=Object.assign({},t);return e[a.payload.id]&&(e[a.payload.id]=Object.assign(Object.assign({},e[a.payload.id]),{status:a.payload.status})),e}if(e.clearMetadataAndStatus.matches(a)){const e=Object.assign({},t);return delete e[a.payload.id],e}return l.fileBrowser.hydrate.matches(a)?{}:t}},t.getPublishingStatus=b,t.validateProfileHandleFormat=(e=>{return e&&0!=e.length?e.length>15?"Your handle can only be up to 15 characters in length":/^[a-zA-Z0-9_]{1,15}$/.test(e)?null:"Your profile handle cannot contain special characters":"Your handle cannot be empty"}),t.profileHandleChanged=((e,t)=>(e=(e||"").toLowerCase())!==(t=(t||"").toLowerCase())),t.withinCommunityProfileScope=function(e,t){return e.user_id?!!t.user&&t.user.id===e.user_id:e.team_id?r.canEditTeam(e.team_id,t)||o.canAdminTeam(e.team_id,t):!!e.org_id&&(o.canMemberOrg(e.org_id,t)||r.canAdminOrg(e.org_id,t))},t.canEditCommunityProfile=function(e,t){return e.user_id?!!t.user&&t.user.id===e.user_id:e.team_id?o.canAdminTeam(e.team_id,t):!!e.org_id&&r.canAdminOrg(e.org_id,t)},t.getPublisherDisplayString=function(e){return e.publisher.name};const f=m.memoizeLast((e,t,a,n,i,o,s,u,l,c)=>{let d=null;if(e&&t[e]){const m=r.canAdminOrg(e,{currentOrgId:e,user:a,orgById:t,fileByKey:n,repos:i,folders:o,teams:s,roles:u,orgDraftsOwners:l,orgUsersByOrgId:c}),g=t[e];d={isAdmin:m,id:g.id,name:g.name,publicPluginsAllowed:g.public_plugins_allowed,whitelistEnforced:g.plugins_whitelist_enforced,publicLinksBanned:g.public_links_banned}}return d});t.getOrgPermissionEntity=function(e){return f(e.currentOrgId,e.orgById,e.user,e.fileByKey,e.repos,e.folders,e.teams,e.roles,e.orgDraftsOwners,e.orgUsersByOrgId)},t.isCommunityHubRealtimeMessage=function(e){return!!(e.plugin_install||e.plugin||e.whitelisted_plugin||e.hub_file||e.community_hub_like)},t.validateProfileCoverImageFile=function(e){if(!e)throw new Error("Cover image not found");if(["image/jpeg","image/png","image/svg+xml"].indexOf(e.type)<0)throw new Error("Cover image must be a jpeg, png, or svg");if(e.size>t.IMAGE_UPLOAD_SIZE_LIMIT)throw new Error(`Cover image exceeds max size of ${Math.floor(t.IMAGE_UPLOAD_SIZE_LIMIT/1e6)}MB`);return e.size};const y=/^[a-zA-Z0-9][a-zA-Z0-9_-]{0,24}$/;t.validateTagToken=function(e){return{email:e.toLowerCase(),state:e.match(y)?c.AutocompleteTokenState.OK:c.AutocompleteTokenState.ERROR,user:null}},t.validateTags=function(e){return e.length>12?"Cannot have more than 12 tags":e.some(e=>!e.match(/^[a-zA-Z0-9_-]*$/))?"Tags can only contain letters, numbers, dashes, or underscores":e.some(e=>!e.charAt(0).match(/^[a-zA-Z0-9]$/))?"Tags must begin with a letter or number":e.some(e=>e.length>25)?"Tags can only have up to 25 characters":null},t.emptyHubFilePublishingMetadata={name:"",description:"",supportContact:"",tags:{inputValue:"",errorMessage:"",tokens:[]},viewerModeToPublishAs:g.ViewerModeToPublishAs.CANVAS,scalingMode:null,author:{user_id:""},thumbnailIsSet:!1},t.autoCompleteInputNewTokenKeyCodes=[d.Key.SPACE,d.Key.TAB,d.Key.ENTER,d.Key.COMMA],t.IMAGE_UPLOAD_SIZE_LIMIT=5242880,t.CODE_UPLOAD_SIZE_LIMIT=15728640,t.PROFILE_COVER_IMAGE_MIN_WIDTH=240,t.PROFILE_COVER_IMAGE_MIN_HEIGHT=240,t.PROFILE_COVER_IMAGE_MAX_WIDTH=4096,t.PROFILE_COVER_IMAGE_MAX_HEIGHT=1024,t.MAX_TAGS_PER_RESOURCE=12,t.isLoggedOutCommunityHubPage=function(){return!n.initialOptions().user_data&&function(){const e=location.pathname;for(const t of["/c","/community","/@","/user","/org","/team"])if(e.startsWith(t))return!0;return!1}()},t.resourceType=function(e){return"install_count"in e?s.PublicProfileResourceType.PLUGIN:s.PublicProfileResourceType.HUB_FILE},t.PAGINATION_PAGE_SIZE=50,t.getInitialLandingPageState=(()=>{const e={};return p.communityHubFollowsEnabled()&&(e[_.FEED_CATEGORY_KEY]={category:_.feedCategory,[_.CommunityHubLandingTab.FILES]:Object.assign({},_.emptyTabState),[_.CommunityHubLandingTab.PLUGINS]:Object.assign({},_.emptyTabState),[_.CommunityHubLandingTab.CREATORS]:Object.assign({},_.emptyTabState)}),e[_.DEFAULT_CATEGORY_KEY]={category:_.defaultCategory,[_.CommunityHubLandingTab.FILES]:Object.assign({},_.emptyTabState),[_.CommunityHubLandingTab.PLUGINS]:Object.assign({},_.emptyTabState),[_.CommunityHubLandingTab.CREATORS]:Object.assign({},_.emptyTabState)},e})}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(87      ),s=o(108     ),r=o(211              ),i=o(111          );o(89              );function a(){const e=[],t=["mac","windows","linux","ios","chromeos"],o=["chrome","firefox","safari","msedge","msie","ios","android"];for(const s of t)if(n[s]){e.push(`os:${s}`);break}if(r.desktopApp)e.push("browser:figma_desktop");else for(const s of o)if(n[s]){e.push(`browser:${s}`);break}return e}t.logNumericMetric=function(e,t){s.default.post(`/api/metrics/histogram/${e}`,{value:t,tags:a().join(",")})};let c=!0;function u(e,t){let o=-1/0;return()=>{let n=Date.now()/1e3;n-o>e&&(o=n,t())}}window.addEventListener("error",e=>{if(!c)return;c=!1;const{message:t,filename:o}=e,n=a(),r=/abort/i.test(t),i=/\/compiled_/.test(o);s.default.post("/api/metrics/unhandled_error",{tags:n.concat(`abort:${r}`,`fullscreen:${i}`).join(",")})}),t.reportContextLost=u(30,()=>{s.default.post("/api/metrics/context_lost",{tags:a().join(",")})}),t.reportContextRestored=u(30,()=>{s.default.post("/api/metrics/context_restored",{tags:a().join(",")})}),t.reportPerfTestingInfo=function(e){window.figmaPerfTesting&&window.postMessage({name:e,value:performance.now()/1e3},"*")};let l=!0;t.reportOOM=function(e){if(!l)return;l=!1;const t=e/1024/1024,o=t<=128?"0mb-to-128mb":t<=256?"128mb-to-256mb":t<=512?"256mb-to-512mb":t<=1024?"512mb-to-1gb":t<=2e3?"1gb-to-2gb":"2gb";s.default.post("/api/metrics/oom_error",{tags:a().concat(`memory:${o}`).join(",")}),i.segment.track("Out Of Memory",{totalMemoryInBytes:e})};let p=!0;t.reportDoubleFlush=function(){p&&(p=!1,s.default.post("/api/metrics/double_flush",{tags:a().join(",")}))},t.reportDirtyAfterLoad=function(){s.default.post("/api/metrics/dirty_after_load",{tags:a().join(",")})},t.reportConsecutiveFlushes=function(){s.default.post("/api/metrics/consecutive_flushes",{tags:a().join(",")})},t.reportConsecutiveImageChangeSkips=function(){s.default.post("/api/metrics/consecutive_image_change_skips",{tags:a().join(",")})},t.reportImagePasteError=function(){s.default.post("/api/metrics/image_paste_error",{tags:a().join(",")})},t.reportUnsavedChangesBell=function(e){s.default.post("/api/metrics/unsaved_changes_bell",{file_key:e,tags:a().join(",")})},function(){const e=document.createElement("canvas");let t=null;try{t=e.getContext("webgl")}catch(c){}try{t=e.getContext("experimental-webgl")}catch(c){}const o=t&&t.getExtension("WEBGL_debug_renderer_info"),n=o&&(t.getParameter(o.UNMASKED_RENDERER_WEBGL)+"").toLowerCase(),r=n?/\bamd\b|\bati\b/.test(n)?"amd":/\bnvidia\b/.test(n)?"nvidia":/\bintel\b/.test(n)?"intel":"unknown":"unknown",i=n?/direct3d9/.test(n)?"d3d9":/direct3d11/.test(n)?"d3d11":/opengl/.test(n)?"opengl":"unknown":"unknown";s.default.post("/api/metrics/page_load",{tags:a().concat(`gpu_vendor:${r}`,`gpu_api:${i}`).join(",")})}()}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(113                                     ),o=s(93                                   ),a=s(211              );t.showFatalFlash=function(e,t){let s;a.desktopApp?s=864e5:t(n.fileBrowser.selectView({view:"recentFiles"})),t(o.flash.error(e,s))};const i=Math.random().toString(36).slice(2);t.getRandomID=function(){return i}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(294            ),i=[];let l=null;t.registerFrameCallback=(e=>{i.push(e),o()}),t.setLastFrameCallback=(e=>{l=e,o()});const n=()=>{requestAnimationFrame(n),r.appTimer.start("frame");for(let e of i)e();if(l){const e=l;l=null,e()}r.appTimer.stop("frame")};let s=!1;function o(){s||(s=!0,requestAnimationFrame(n))}}),
(function(n,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(228         );t.isEmpty=function(n){for(let t in n)return!1;return!0},t.getFirstKey=function(n){for(let t in n)return t;return null},t.singleKey=function(n){let t=null;for(const r in n){if(null!==t)return null;t=r}return t},t.copyExcluding=function(n,t){const r={};for(const e in n)t.has(e)||(r[e]=n[e]);return r},t.flattenInto=function n(t,r,e){for(const i in t){const o=""===e?i:e+"."+i;Array.isArray(t[i])?r[o]=JSON.stringify(t[i]):"object"==typeof t[i]&&null!==t[i]?n(t[i],r,o):r[o]=t[i]}}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(261        ),r=t(306                                          ),i=(t(228         ),t(294            )),l=t(307           ),s=t(111          ),c=t(308         ),a=t(85                   ),u=1,f={"frame.react-render":.1,"frame.scene-render":.2,"frame.scene-render.render-tree-generation":.2},d=["frame","frame.react-render","frame.scene-render","frame.scene-render.render-tree-generation","frame.style-updater","frame.symbol-updater","frame.trigger-action","fullscreen-handle-event","fullscreen-handle-event.trigger-action"],m=.2,g=[m,60],p=60,h=60,T=60;let b=!1,y=null,I=1,w=null,O=0,E=null,v=0,F=-1/0,L=-1/0,P=0;const C=a.getFeatureFlags().frame_histograms;let N={},S=0;const _=[],R=16;for(let J=0;J<63;J++){const e=J*R;_[J]=e<160?e+R:e<260?260:e<400?400:1e3}const M=_.length,D="no-action",A=new Set(["FULLSCREEN_UPDATE_MIRROR","TOOLTIP_SHOW_AFTER_DELAY","TOOLTIP_HIDE","TOOLTIP_UPDATE"]);let H=D;n.updateRecentAction=function(e){A.has(e)||(H=e)};const $={};let U=!1;n.setMultiplayerUserCount=function(e){I=e},n.onDocumentSwitch=function(){w=null,E=null},n.onDocumentLoad=function(e){w=e,E=performance.now(),O++;const n=a.initialOptions().editing_file;1===O&&n&&s.segment.track("Cold Boot Document Load",{fileKey:w,loadedTime:E,fileNodeCount:o.FullscreenPerfMetrics.getFileNodeCount(),fileTeamId:n.team_id,fileParentOrgId:a.initialOptions().org_id})},n.setDebug=function(e){b=e};const k=["ALT","META","SHIFT","CONTROL","RIGHT_ALT"];function j(){return null===w||null===E?[null,[]]:[{deviceInfo:o.FullscreenPerfMetrics.getDeviceInfo(),fileKey:w,fileNodeCount:o.FullscreenPerfMetrics.getFileNodeCount(),multiplayerUserCount:I,nodeTypeHistogram:o.FullscreenPerfMetrics.getNodeTypeHistogram(),recentInteractions:o.FullscreenPerfMetrics.getRecentInteractions(),secondsSinceLoaded:(performance.now()-E)/1e3,version:u,randomID:r.getRandomID(),reportCount:v},o.FullscreenPerfMetrics.getSlowInteractions()]}function K(e){const{fileKey:n,fileNodeCount:t,multiplayerUserCount:o,recentInteractions:r,secondsSinceLoaded:i,version:l,randomID:s}=e;let a={fileKey:n,fileNodeCount:t,multiplayerUserCount:o,secondsSinceLoaded:i,version:l,randomID:s,reportCount:v};for(let c=0;c<r.length;c++)a[`recentInteractions.${c}`]=JSON.stringify(r[c]);return c.flattenInto(e.deviceInfo,a,"deviceInfo"),c.flattenInto(e.nodeTypeHistogram,a,"nodeTypeHistogram"),a}function W(e){b||s.segment.track("Slow Editor Interaction",e),L=performance.now(),P=e.duration}function B(...e){b&&console.log("[FullscreenPerfMetrics]",...e)}function x(e){if(null===y)return;if("visible"!==document.visibilityState)return;const n=performance.now()-y,t=n-e;if(t>=1e3*g[1])return;if(C&&n<1e3*g[1]){const e=Math.floor(n/R),t=e>=M?_[M-1]:_[e],r=H||o.Fullscreen.getRecordedFullscreenAction();let i=N[r];i||(i={sum:0,count:0,histogram:{}}),i.count++,i.sum+=n,i.histogram[t]?i.histogram[t]++:i.histogram[t]=1,N[r]=i,H=D,++S>=7200&&function(){S=0;for(const e in N){const n=N[e],t={action:e,tabAge:performance.now()/1e3,avgMs:n.sum/n.count,fileNodeCount:o.FullscreenPerfMetrics.getFileNodeCount(),fileKey:w};for(const e in n.histogram)t[`count_${e}ms`]=n.histogram[e]||0;s.segment.track("Frame Histogram",t)}N={}}()}if(t<1e3*g[0])return;B(`Long inter-frame time (${t}ms idle)}!`);const r=j()[0];if(null==r)return void B("Not reporting because we have no metadata. Probably no document is open.");function i(e,n,t){const o=n-(performance.now()-e)/1e3;return!(o>0)||(B("Not reporting a long inter-frame time because we're in the "+`${t} cooldown (${o}s to go).`),!1)}if(!i(E||0,T,"document loading")||!i(F,h,"reporting"))return;let l=Object.assign({msSinceLastFrame:n,msSinceLastFrameIdle:t},K(r));B("Reporting long inter-frame time:"),B(l),b||s.segment.track("Long Inter-frame Time",l),F=performance.now()}function V(){const e={};function n(t,o=""){const r=o.length>0?`${o}.${t.name}`:t.name,i=$[r]||t.hitCount;let l=t.hitCount-i;l>t.elapsedTimes.length&&(U||(console.warn(`Too many elapsed hits of ${r} since last report`),U=!0),l=t.elapsedTimes.length);let s=0;const c=t.elapsedTimes.length;for(let e=c-l;e<c;e++)s+=t.elapsedTimes[e];e[r]=s,$[r]=t.hitCount;for(const e of t.children)n(e,r)}const t=i.appTimer.report();let r=0;for(const o of t)n(o),r+=e[o.name];x(r),function(){if(r/1e3<m)return;B("Long frame!");const[n,t]=j();if(null==n)return void B("Not reporting because we have no metadata. Probably no document is open.");let o={};for(const r in e)-1!==d.indexOf(r)&&(o[r]=e[r]/1e3);let i=t.map(e=>{const t=e.interaction;let r=Object.assign({kind:"interaction",type:t.type,subtype:t.subtype,frame:e.frame,collapsed:!1,duration:e.duration},K(n));if(k.forEach(e=>r["modifier."+e]=null),"MOUSE"==t.type){const e=t;r.collapsed=e.collapsed;for(const n of k)r["modifier."+n]=-1!==e.modifiers.indexOf(n)}return c.flattenInto(o,r,"timer"),r});for(const r in e){let t=e[r]/1e3,l=f[r];if("number"==typeof l&&t>=l){let e=Object.assign({kind:"timer",type:r,subtype:null,frame:null,collapsed:!1,duration:t},K(n));c.flattenInto(o,e,"timer"),k.forEach(n=>e["modifier."+n]=null),i.push(e)}}if(0==i.length)return void B("We would have had nothing to consider reporting.");let l=[],s=i;const a=p-(performance.now()-L)/1e3;if(0==(s=s.filter(e=>a<=0||e.duration>=2*P)).length&&l.push(`we're in the report cooldown period (${a}s `+"to go) and no reports were long enough to override it "+`(the last report duration was ${P}s)`),a>0&&s.length>0&&B("Overriding the reporting cooldown!"),null===E)return;const u=T-(performance.now()-E)/1e3;u>0&&l.push("we're in the document loading cooldown period "+`(${u}s to go)`),B("ALL REPORTS (including filtered-out)"),B(i),l.length>0?B("NO REPORTS WOULD HAVE BEEN SENT because",function(e){if(1==e.length)return e[0];if(2==e.length)return e[0]+" and "+e[1];let n=e.slice(0,e.length-1).join(", ");return n+=", and ",n+=e[2]}(l)):(s=s.sort((e,n)=>e.duration-n.duration),B("REPORTS THAT WOULD HAVE BEEN SENT"),B(s),s.forEach(W),v++)}(),o.FullscreenPerfMetrics.clearNodeTypeHistogram(),o.FullscreenPerfMetrics.clearSlowInteractions(),y=performance.now()}document.addEventListener("visibilitychange",function(){y=null});let G=!1;n.init=function(){G||(G=!0,l.registerFrameCallback(()=>{Promise.resolve().then(V)}))}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(111          ),n=i(261        ),a=i(306                   ),r=i(85                   ),o=3;class c{constructor(t){this.numHitsByType={},this.maxHitsByType={};for(const e in t)this.numHitsByType[e]={},this.maxHitsByType[e]=t[e]}getKeyWithIndex(t,e){const i=this.numHitsByType[t],s=this.maxHitsByType[t],n=i[e]||0;return 0===n?e:n<s?`${e}.${n}`:null}clearHits(t){this.numHitsByType[t]={}}incrementHit(t,e){const i=this.numHitsByType[t];i[e]=(i[e]||0)+1}}e.fullscreenLoadEventsWhitelist=new Set(["initialize-gpu","render-tree-generation","mp-receive-schema","mp-receive-decompress-buffer","mp-receive-decode-buffer-node-change","mp-receive-decode-buffer-other","handle-changes-from-server","playback-joining-messages","synthesize-missing-geometry-cache-changes","update-symbol-instances","enforce-structural-invariants","after-initial-join","handle-join-end","first-document-render","mp-ws-onmessage","mp-ws-onopen"]);const m=new Set(["initialize-gpu.start","initialize-gpu.end","AFTER_FIRST_RENDER","createStoreStart","initAndHydrateActionNoUserStateStart","initAndHydrateActionNoUserStateEnd","hydrateActionWithUserStateStart","hydrateActionWithUserStateEnd","initialReactRenderStart","initialReactRenderEnd","loadingBinaryStart","loadingCodeStart","instantiateStreamingStart","instantiateStreamingEnd","awaitInstantiateStreamingStart","awaitInstantiateStreamingEnd","instantiateStart","instantiateEnd","awaitInstantiateStart","awaitInstantiateEnd","callMainStart","callMainEnd","editorPreloaded","loadAndStartFullscreen","fullscreenIsReady","appEntryStart","appEntryEnd","fileMetadataRequestStart","fileMetadataRequestEnd"]);class l{constructor(){this.timeEvents={},this.wsEvents={},this.wsMaxMsgInfo={size:void 0,timestamp:void 0},this.fileKey=null,this.hitsManager=new c({fs:10,ws:10}),this.numTimesLoaded=0}logTime(t){this.timeEvents[t]=Math.round(performance.now())}startFs(t){const e=this.hitsManager.getKeyWithIndex("fs",t);null!==e&&this.logTime(`${e}.start`)}stopFs(t){const e=this.hitsManager.getKeyWithIndex("fs",t);null!==e&&this.logTime(`${e}.end`),this.hitsManager.incrementHit("fs",t)}logWsMsg(t,e,i){i=void 0===i?performance.now():i,"mp-ws-onopen"===t&&(this.wsEvents={},this.hitsManager.clearHits("ws"),this.wsMaxMsgInfo={size:void 0,timestamp:void 0});const s=this.hitsManager.getKeyWithIndex("ws",t);null!==s&&(this.wsEvents[s]=i),this.hitsManager.incrementHit("ws",t),void 0!==e&&(this.wsMaxMsgInfo={size:Math.max(this.wsMaxMsgInfo.size||0,e),timestamp:e>(this.wsMaxMsgInfo.size||0)?i:this.wsMaxMsgInfo.timestamp})}logOpenFileAction(t){this.fileKey=t;for(const e in this.timeEvents)m.has(e)||delete this.timeEvents[e];this.hitsManager.clearHits("fs"),this.logTime("openFileActionStart")}updateAppEntryTimeEvents(t,e){this.timeEvents.appEntryStart=t,this.timeEvents.appEntryEnd=e}start(t){t&&this.logTime(t)}time(t,e,i){let s;this.start(e);try{s=t()}catch(n){throw n}finally{this.start(i)}return s}timeAsync(t,e,i){const s=this.time(t,e);return s.then(t=>this.start(i)),s.catch(t=>{this.start(i)}),s}getFilePerfMetadata(){var t,e;const i=null===(t=n.FullscreenPerfMetrics)||void 0===t?void 0:t.getFileNodeCount(),s=null===(e=n.FullscreenPerfMetrics)||void 0===e?void 0:e.getMpMsgNodeChangesCount();return{coldBoot:1==++this.numTimesLoaded&&!!r.initialOptions().editing_file,fileNodeCount:i,mpMsgNodeChangesCount:s,mpWsMsgsMaxSize:this.wsMaxMsgInfo.size,mpWsMsgsMaxSizeTs:this.wsMaxMsgInfo.timestamp}}report(t){t===this.fileKey?setTimeout(()=>{const e=function(t,e,i){const s={times:t,meta:i};for(const n in e){const t=e[n];if(!t)continue;let i=null;if("startTime"in t){const e=`${n}LoadStart`;s.times[e]=i=t.startTime}if("duration"in t&&null!==i){const e=`${n}LoadEnd`;s.times[e]=i+t.duration}if("toJSON"in t){const e=t.toJSON();for(const t in e){const i=`${n}.${t}`;s.meta[i]=e[t]}}}return s}(Object.assign(Object.assign({},this.timeEvents),this.wsEvents),function(){if(!performance.getEntriesByType)return{};const t={},e=performance.getEntriesByType("resource");for(const s of e)s.name.match(h)?t.appJs=s:s.name.match(d)?t.vendorJs=s:s.name===Fig.fullscreenURLs["compiled_wasm.wasm"]&&(t.wasm=s);const i=performance.getEntriesByType("navigation");1===i.length&&(t.pageNavigation=i[0]);return t}(),this.getFilePerfMetadata());s.segmentTrackEvent("Fullscreen Load Time",Object.assign(Object.assign({version:o,fileKey:t,randomID:a.getRandomID()},e.times),e.meta))}):this.fileKey&&console.error("FullscreenLoadTimer: fileKey mismatch")}}e.FullscreenLoadTimerImpl=l,e.fullscreenLoadTimer=new l;e.reactLoadTimer=new class{constructor(){this.userStateXHRDuration=-1,this.domContentLoadedMs=-1,this.jsonParseDurationMs=0,this.fileBrowserInitDurationMs=-1,this.hydrateDurationMs=-1,this.initialRenderDurationMs=-1,this.timeToLoadMs=-1}report(){s.segmentTrackEvent("React Load Time",{timeToLoad:this.timeToLoadMs,timeToDOMContentLoaded:this.domContentLoadedMs,fileBrowserInitDuration:this.fileBrowserInitDurationMs,jsonParseDuration:this.jsonParseDurationMs,hydrateDuration:this.hydrateDurationMs,initialRenderDuration:this.initialRenderDurationMs,userStateXHRDuration:this.userStateXHRDuration})}};const d=/^(https?:\/\/[a-zA-Z\-]+\.figma\.com(:[0-9]+)?)\/figbuild\/.*\/vendor.*\.js$/,h=/^(https?:\/\/[a-zA-Z\-]+\.figma\.com(:[0-9]+)?)\/figbuild\/.*\/figma_app.*\.js$/}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(261                               ),s=t(305                    ),i=t(309                                     ),n=t(306                                          ),l=t(310                                               ),a=t(308         ),p=t(111          ),c=t(212                ),u=t(290                ),f=t(294            );class g{constructor(){this.events=new u.EventEmitter("fullscreen"),this.errorHandler=new c.ErrorHandler({sourceLanguage:c.SourceLanguage.CPP,executionContext:c.ExecutionContext.WEB_CLIENT})}reportContextLost(){s.reportContextLost()}reportContextRestored(){s.reportContextRestored()}reportDirtyAfterLoad(){s.reportDirtyAfterLoad()}reportDoubleFlush(){s.reportDoubleFlush()}reportConsecutiveFlushes(){s.reportConsecutiveFlushes()}reportConsecutiveImageChangeSkips(){s.reportConsecutiveImageChangeSkips()}reportPerfTestingInfo(e){s.reportPerfTestingInfo(e),"AFTER_FIRST_RENDER"===e&&l.fullscreenLoadTimer.start(e)}reportContextRestore(){this.events.trigger("context-restore",void 0)}reportFileLoadTime(e){const r={randomID:n.getRandomID(),load_time_in_seconds:e};a.flattenInto(o.FullscreenPerfMetrics.getDeviceInfo(),r,"device_info"),p.segment.track("Fullscreen File Load Time",r),console.log(`[Fullscreen] Total load time: ${e.toFixed(2)}s`)}reportQuantizedColorEqualsUse(e,r,t,o,s,i,n,l){let a=Object.assign(Object.assign({},c.splitStackIntoSegmentSizes((new Error).stack)),{color1:JSON.stringify({r:e,g:r,b:t,a:o}),color2:JSON.stringify({r:s,g:i,b:n,a:l})});p.segment.track("quantized_color_equal_use",a)}tryReportError(e){this.errorHandler.raiseError(e)}startPerfTimer(e){f.appTimerEventsWhitelist.has(e)&&f.appTimer.start(e),l.fullscreenLoadEventsWhitelist.has(e)&&l.fullscreenLoadTimer.startFs(e)}stopPerfTimer(e){f.appTimerEventsWhitelist.has(e)&&f.appTimer.stop(e),l.fullscreenLoadEventsWhitelist.has(e)&&l.fullscreenLoadTimer.stopFs(e)}startPerfProfile(e){console.profile(e)}stopPerfProfile(){console.profileEnd()}logNumericMetric(e,r){s.logNumericMetric(e,r)}recordFullscreenAction(){i.updateRecentAction(null)}}r.ReportingBindingsImpl=g,r.reportingBindings=new g}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(102              ),a=i(87      ),s=i(211              ),r=i(288               ),o=i(111          ),l=i(85                   ),c=i(297                              ),d=i(215                              ),u=i(261                               ),p=i(298                            ),m=i(304              ),w=(i(89              ),i(311                   )),g=i(310                                   );function f(){const e=Fig.fullscreenURLs["compiled_wasm.wasm"],i=Fig.fullscreenURLs["compiled_wasm.js"];function a(){return g.fullscreenLoadTimer.start("loadingBinaryStart"),y(e)}const s=r.mergeAndRetry(async()=>{try{await g.fullscreenLoadTimer.timeAsync(()=>n.loadScript(i),"loadingCodeStart","loadingCodeEnd")}catch(o){throw new Error(`Failed to load ${i}`)}const e=window.executeFullscreenEmscriptenCode;let t,s;delete window.executeFullscreenEmscriptenCode;const r={instantiateWasm:(e,i)=>(t=e,s=i,{})};window.Module=r;try{e()}finally{delete window.Module}if(void 0===t)throw new Error('Expected WebAssembly code to set "info"');if(void 0===s)throw new Error('Expected WebAssembly code to set "receiveInstance"');return async e=>{let i,n;(i=WebAssembly.instantiateStreaming)||console.log("WebAssembly.instantiateStreaming is not supported. Using WebAssembly.instantiate instead.");const r=async()=>{const i=await b(e);try{const e=g.fullscreenLoadTimer.time(()=>WebAssembly.instantiate(i,t),"instantiateStart","instantiateEnd");n=await g.fullscreenLoadTimer.timeAsync(()=>e,"awaitInstantiateStart","awaitInstantiateEnd")}finally{}};if(i&&!l.getFeatureFlags().wasm_no_instantiate_streaming)try{await(async()=>{try{const a=g.fullscreenLoadTimer.time(()=>i(e,t),"instantiateStreamingStart","instantiateStreamingEnd");n=await g.fullscreenLoadTimer.timeAsync(()=>a,"awaitInstantiateStreamingStart","awaitInstantiateStreamingEnd")}finally{}})()}catch(h){console.warn('Detected a proxy interfering with the "application/wasm" MIME type. Falling back to a slower WebAssembly instantiation method instead.'),e=a(),await r()}else await r();return()=>{g.fullscreenLoadTimer.time(()=>s(n.instance),"callMainStart","callMainEnd")}}}),o=r.mergeAndRetry(async()=>{const e=a(),t=await s();return await t(e)});return{prepare:async()=>{F?await o():await Promise.all([b(a()),b(y(i))])},loadAndCallMain:r.mergeAndRetry(async()=>{const e=await o();window.tsapi_init=u.tsapi_init;for(const i in t.tsApisForCpp)window[i]=t.tsApisForCpp[i]();e(),delete window.tsapi_init;for(const i in t.tsApisForCpp)delete window[i]})}}async function y(e){return fetch(e)}async function b(e){const t=await e;if(!t.ok)throw new Error(`Fetching ${t.url} failed with ${t.status}`);return t.arrayBuffer()}t.tsApisForCpp={FigmaApp:()=>d.fullscreen,WebSelection:()=>d.selectionBindings,WebMultiplayer:()=>d.multiplayerBindings,WebReporting:()=>w.reportingBindings,Comments:()=>c,PluginCallbacks:()=>p.pluginCallbackBindings};const _=!location.pathname.startsWith("/proto")&&(!s.desktopApp||s.desktopApp.isFileTab())&&!m.isLoggedOutCommunityHubPage();t.isAllowedToLoadFullscreen=!/Mobi/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)&&l.getFeatureFlags().ipad_editor;const F=t.isAllowedToLoadFullscreen&&(a.blink||a.firefox),A=(null===(h=null===Fig||void 0===Fig?void 0:Fig.fullscreenURLs)||void 0===h?void 0:h["compiled_wasm.js"])&&window.WebAssembly?f():null;var h;A&&_&&A.prepare(),t.preloadFullscreen=async function(){A&&await A.prepare()},t.initializeFullscreen=async function(){if(!A)return location.href="/unsupported_browser",new Promise(()=>{});try{await A.loadAndCallMain(),o.segment.track("Fullscreen Loaded")}catch(e){throw o.segment.track("Fullscreen Load Failure",{error:e+""}),setTimeout(()=>{if(!e||"Failed to fetch"!==e.message)throw e instanceof Error?e:new Error(`Fullscreen load failure: ${e}`)}),e}},t.isLocalBuild=function(){const e=Fig.fullscreenURLs["compiled_wasm.js"];return!(!e||!e.startsWith("/"))}}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=r(140         ),t=r(215                   );r(261        ),r(312                   );n.isMacDebugApp=-1!==navigator.userAgent.indexOf("FigmaNativeApp");let i=!1;class s{handleMessageFromWeb(e,n,r){const t=window.figmaWebContextObjcBridge.handleMessageFromWebWithNameArgsAndBuffer(e,JSON.stringify(n),r?o.encode(r):null),i=JSON.parse(t);return i.buffer&&(i.buffer=o.decode(i.buffer)),i}}n.OSXWebContextShim=s;n.OSXWebContextListener=class{constructor(e){e.on("sendMessageToWeb",n=>{let r=n.args||{};null!=n.buffer&&(r.buffer=o.decode(n.buffer)),e.trigger(n.event,r)})}initialize(){if(i)return;i=!0,t.fullscreen.registerWebContext(new s);const e=window.console,n={};for(let r in e)"function"==typeof e[r]&&(n[r]=(n=>(function(){e[n].apply(e,arguments)}))(r));["debug","error","info","log","trace","warn","group"].forEach(r=>{n[r]=function(){e[r].apply(e,arguments),t.fullscreen.DEPRECATED_sendMessage("console:"+r,Array.prototype.slice.call(arguments),null)}}),window.console=n,n.log("console initialized"),window.onerror=((e,r,o,t,i)=>{n.error("Uncaught exception: "+e+" ("+r+":"+o+":"+t+")")})}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(87      ),s=n(112          ),r=n(287                ),i=n(211              ),u=n(286               ),a=n(313                           );function c(){return!(!o.windows&&!o.mac)&&(!i.desktopApp&&!a.isMacDebugApp)}async function f(e){if(s.isInIframe())return Promise.reject();if(!1!==t.useAgent)try{let o=await r.makeDesktopAgentRequest(e);return o.data.source="agent",t.useAgent=!0,o}catch(n){if(!0===t.useAgent)throw n;t.useAgent=!1}return u.makeLocalServerRequest(18412,7335,`/figma${e}`)}t.supportsFontDaemon=c,t.openFontSettings=function(){c()&&(location.href="/settings#fonts")},t.useAgent=void 0,t.requestFontDaemonFontFiles=function(){return f("/font-files")},t.checkForFontDaemon=function(){return f("/version")}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(261                               );t.sharedFontMetadataToFontInfo=(e=>({postscript:e.postscript_name,family:e.family,style:e.style,weight:e.weight,italic:e.italic,stretch:e.stretch,id:e.id.toString(),source:r.FontSource.SHARED,teamId:e.team_id?e.team_id.toString():void 0,orgId:e.org_id?e.org_id.toString():void 0,version:t.parseVersion(e.version),sampleUrl:e.sample_url,updatedAt:e.updated_at})),t.parseVersion=(e=>e?e.replace(/version/i,"").split(";")[0].trim():void 0),t.uniqueResourceIDForFont=(e=>e.teamId?`team-${e.teamId}`:`org-${e.orgId}`),t.resourceIDForUniqueResourceID=(e=>e.replace(/team-|org-/,""))}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(87      ),i=o(228         ),s=o(112          ),r=o(129           ),l=o(111          ),a=o(108     ),c=o(211              ),u=o(314              ),f=o(261                               ),d=o(215                   ),p=o(315       ),h=o(85                   ),g="https://static.figma.com/font",F="index_b8e1a1471bd51035a04b4e1d0fa0221c.json";let m=!1,y=null;var L;e.localFontsProviderDescription=null,function(t){t[t.POSTSCRIPT_NAME=0]="POSTSCRIPT_NAME",t[t.VERSION=1]="VERSION",t[t.FAMILY=2]="FAMILY",t[t.STYLE=3]="STYLE",t[t.WEIGHT=4]="WEIGHT",t[t.ITALIC=5]="ITALIC",t[t.STRETCH=6]="STRETCH",t[t.COUNT=7]="COUNT"}(L||(L={}));let T=new class{constructor(t){this.options=t,this.favorite=0,i.assertDev(t.length>0,"at least one option must be provided")}async get(){try{return await this.options[this.favorite]()}catch(t){const e=this.favorite+1;if(e==this.options.length)throw t;return this.favorite=e,await this.get()}}}([async()=>{const t=await u.requestFontDaemonFontFiles();return y=`${t.origin}/figma`,e.localFontsProviderDescription=u.useAgent?"agent, via the future getter":"daemon, via the future getter",t.data},async()=>{if(!c.desktopApp)throw new Error("desktop app not available to provide font information");const t=await c.desktopApp.getFonts();return e.localFontsProviderDescription="desktop app, via the future getter",{fontFiles:t,source:"desktop",version:c.desktopApp.getInformationalVersion()}}]);function v(t){const e=["italic","oblique"],o=t.toLowerCase();for(const n of e)if(o.includes(n))return!0;return!1}function S(t){if(!h.getFeatureFlags().font_weights_relax)for(const e of t)void 0!==e.weight&&(e.weight=100*Math.floor(e.weight/100));for(const e of t)!e.italic&&v(e.style)&&(e.italic=!0);return t}function A(){return a.default({method:a.default.Methods.GET,url:"/api/fonts",headers:{"Content-Type":"text/plain"}}).then(({data:t})=>t&&t.meta?t.meta.fonts.map(p.sharedFontMetadataToFontInfo):null).catch(()=>null)}e.normalizeFontInfoList=S,e.fetchFontList=async function(t=[f.FontSource.LOCAL,f.FontSource.GOOGLE]){async function o(t,e){const o=[t];try{const t=await e;return{sources:o,list:null===t?[]:t}}catch(n){return console.error(n),{sources:o,list:[]}}}let i=[];const d=t.map(t=>{switch(t){case f.FontSource.LOCAL:return o(t,function(){let t;return h.getFeatureFlags().future_local_font_lookup?(s.isInIframe()&&(t=Promise.reject()),t=T.get()):t=c.desktopApp?c.desktopApp.getFonts().then(t=>(e.localFontsProviderDescription="desktop app, via the legacy getter",{fontFiles:t,source:"desktop",version:c.desktopApp.getInformationalVersion()})):u.requestFontDaemonFontFiles().then(t=>(y=`${t.origin}/figma`,e.localFontsProviderDescription=u.useAgent?"agent, via the legacy getter":"daemon, via the legacy getter",t.data)),t.then(t=>{if(!t)return null;if(!m){const e=t.source||"daemon",o=`${t.version||"unknown"}`,i=n.osname;l.segment.track("Local Fonts Fetched",{source:e,version:o,os:i})}m=!0;const e=[],o=[];return Object.keys(t.fontFiles).forEach(n=>{if(/\.suit$/.test(n))return;const i=t.fontFiles[n];for(let t=0;t<i.length;++t){let s=i[t];if("GB18030 Bitmap"!==s.family&&"Apple Color Emoji"!==s.family&&"Roboto"!==s.family){if(r.mac&&"localized"in s&&s.localized&&t+1<i.length){const o=i[t+1];s.postscript===o.postscript&&(e.push({unlocalized:{family:o.family,style:o.style},localized:{family:s.family,style:s.style}}),s=o,++t)}else s.localizedFamily&&s.localizedStyle&&e.push({unlocalized:{family:s.family,style:s.style},localized:{family:s.localizedFamily,style:s.localizedStyle}});o.push({family:s.family,style:s.style,weight:s.weight,stretch:s.stretch,italic:s.italic,postscript:s.postscript,id:n,source:f.FontSource.LOCAL})}}}),{list:o,localizedToUnlocalized:e,sources:[f.FontSource.LOCAL]}}).catch(t=>null)}().then(t=>null===t?[]:(i=t.localizedToUnlocalized,t.list)));case f.FontSource.GOOGLE:return o(t,a.default({method:a.default.Methods.GET,url:`${g}/${F}`,headers:{"Content-Type":"text/plain"}}).then(({data:t})=>t?t.map(t=>!Array.isArray(t)||t.length<L.COUNT?{}:{family:t[L.FAMILY],style:t[L.STYLE],weight:t[L.WEIGHT],stretch:t[L.STRETCH],italic:t[L.ITALIC],postscript:t[L.POSTSCRIPT_NAME],id:t[L.POSTSCRIPT_NAME]+"_"+t[L.VERSION],source:f.FontSource.GOOGLE}):null).catch(t=>null));case f.FontSource.SHARED:return o(t,A())}}),p=(await Promise.all(d)).reduce(function(t,e){const o=[],n=[];return o.push(...t.sources,...e.sources),n.push(...t.list,...e.list),{sources:o,list:n}},{sources:[],list:[]});if(!p.list.length)throw new Error("no results");const v=S(p.list);return{sources:p.sources,list:v,localizedToUnlocalized:i}},e.fetchSharedFonts=A,e.fetchFontFile=function(t,e,o){return new Promise((n,i)=>{if(!e)return void i(new Error("Invalid font id"));if(t===f.FontSource.LOCAL&&c.desktopApp)return void n(c.desktopApp.getFontFile(e,o));let s=null;switch(t){case f.FontSource.LOCAL:y&&(s=`${y}/font-file?file=${encodeURIComponent(e)}`);break;case f.FontSource.GOOGLE:s=`${g}/${e}`;break;case f.FontSource.SHARED:d.fullscreen.editingFileKey()?s=`/api/fonts/${e}/file/${d.fullscreen.editingFileKey()}`:d.fullscreen.currentTeamId()?s=`/api/fonts/${e}/team/${d.fullscreen.currentTeamId()}`:d.fullscreen.currentOrgId()&&(s=`/api/fonts/${e}/org/${d.fullscreen.currentOrgId()}`)}s?a.default.get(s,null,{responseType:"arraybuffer",headers:{Accept:"text/plain"}}).then(({data:t})=>{n(t)}).catch(i):i(new Error("Invalid font source"))})},e.hasLocalFonts=function(){return m};const I=new Map;function E(t,e,o){let n=I.get(t);void 0===n&&(n=new Map,I.set(t,n));let i=n.get(e);void 0===i&&(i=[],n.set(e,i)),i.push(o)}function w(t,e,o){const n=I.get(t);if(void 0!==n){const t=n.get(e);if(void 0!==t){const e=t.indexOf(o);-1!==e&&t.splice(e,1)}}}e.registerFontListener=E,e.unregisterFontListener=w,e.triggerFontListeners=function(t,e,o){const n=I.get(t);if(void 0!==n){const t=n.get(e);if(void 0!==t)for(const e of t.slice())e(o)}},e.fontLoaded=async function(t,e){return new Promise((o,n)=>{f.Fullscreen.fontIsLoaded(t,e)&&o();const i=s=>{s===f.ResourceStatus.LOADED?(w(t,e,i),o()):s===f.ResourceStatus.FAILED&&(w(t,e,i),n())};E(t,e,i)})}}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=l(108     ),s=l(85                   );t.userStateCallback=(()=>{}),t.userStatePromise=new Promise(e=>{t.userStateCallback=e});let a=null;t.getUserStateRequest=(e=>{const l=t.getLastSelectedOrgId(),s=null!==l?{org_id:l}:void 0;let a={};return e&&e>0&&(a={retryCount:e}),r.default.get("/api/user/state",s,a)}),t.setLastSelectedOrgId=(e=>{e||(e="personal"),a=e,document.cookie=`last_org_id=${e};path=/`}),t.getLastSelectedOrgId=(()=>{let e=null;return e=a?"personal"===a?null:a:a=s.initialOptions().org_id||null}),t.resetLastSelectedOrgId=(()=>{a=null})}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(2,1    ),o=s(113                                     ),i=s(154                                 ),n=s(147                                            ),r=s(191                              ),c=s(136                                 );a.NO_SHARED_INSTANCE_IN_MASTER_FILE_IF_DELETED="no-shared-instance-in-master-file-if-deleted",c.registerUnsafeModal(a.NO_SHARED_INSTANCE_IN_MASTER_FILE_IF_DELETED,e=>t.createElement(l,Object.assign({},e)));class l extends t.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){return t.createElement(i.Modal,{title:"Oops",size:"small",dispatch:this.props.dispatch},"You can't add an instance of a shared component into the document from which the shared component was published if the original component was deleted.",t.createElement("div",{className:r.buttonRow},t.createElement(n.ButtonPrimary,{onClick:this.closeModal},"Ok")))}}l.displayName="NoSharedInstanceInMasterFile"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(113                                     ),s=i(172                                              ),n=i(93                                   ),a=i(173                                        ),o=i(185                                 ),c=i(209                ),l=i(213                                   ),d=i(214         ),p=i(186                      ),y=i(125                        ),u=i(226                       ),f=i(215                                          ),m=i(227                                ),_=i(285                            ),h=i(176                       ),g=i(177                                       ),S=i(91                  ),b=i(100                               ),E=i(261                               ),A=i(108     ),I=i(111          ),T=i(316                                   ),C=i(222                                      ),O=i(317                       ),v=i(318                                                                   );let R=!1;function P(e,t){if(!e||!t)return!0;function i(e,t){for(const i in e){const r=e[i],s=t[i];if(!s)return!1;for(const e in r){const t=r[e],i=s[e];if(!i)return!1;for(const e in t)if(!i[e])return!1}}return!0}return!i(e,t)||!i(t,e)}function D(e){const i=e.getState(),r=c.getEditingFile(i);if(!r||!y.canEditFile(r.key,i))return;const s=(e=[],t)=>{const i=Object.create(null);for(let s of e){const e=f.fullscreen.DEPRECATED_sendMessage("getKeyAndVersionOfSharedMaster",{nodeId:s}).args;(null==e?void 0:e.key)&&(i[e.key]=i[e.key]||new Set,i[e.key].add(e.versionHash))}const r=Object.create(null);for(let s in t)for(let e in t[s])for(let n in t[s][e]){const a=t[s][e][n],o=a.component_key||a.key||a.key;if(o in i){const t=i[o];if(0===t.size)continue;let c=!1;if(1===t.size){const e=Array.from(t)[0],i=a.content_hash||a.version||a.content_hash;c=(null==i?void 0:i.toLowerCase())!==e.toLowerCase()}else c=!0;c&&(r[s]=r[s]||Object.create(null),r[s][e]=r[s][e]||Object.create(null),r[s][e][n]=a)}}return r},n=s(i.mirror.appModel.subscribedComponents,_.getPublishedComponentsWithoutStates(i.library.published.components)),l=s(i.mirror.appModel.subscribedStateGroups,i.library.published.stateGroups),d=s(i.mirror.appModel.subscribedStyles,i.library.published.styles);P(i.library.updates.components,n)&&e.dispatch(a.library.replaceUpdates({itemsByTeamId:n,type:h.LibraryItemType.COMPONENT})),P(i.library.updates.stateGroups,l)&&e.dispatch(a.library.replaceUpdates({itemsByTeamId:l,type:h.LibraryItemType.STATE_GROUP})),P(i.library.updates.styles,d)&&e.dispatch(a.library.replaceUpdates({itemsByTeamId:d,type:h.LibraryItemType.STYLE})),Object.keys(n).length+Object.keys(l).length+Object.keys(d).length>0?R||(R=!0,e.dispatch(o.notifActions.enqueue({notification:{type:g.NotificationType.COMPONENT_UPDATES_AVAILABLE,message:"Component updates available"}}))):(e.dispatch(o.notifActions.dequeue({type:g.NotificationType.COMPONENT_UPDATES_AVAILABLE})),t.resetFirstUpdatesComputed())}t.resetFirstUpdatesComputed=(()=>R=!1),t.computeUpdates=D,t.swapToSharedComponentOrStateGroup=b.asyncActionCreator("SWAP_TO_SHARED_COMPONENT_OR_STATE_GROUP",(e,t)=>{const{item:i,instanceGUIDs:r}=t,s=c.getEditingFile(e.getState());s&&(u.teamLibraryItemSceneGraphCache.get(i).then(t=>{var s,a,o;let c,l;if(i.type===h.LibraryItemType.COMPONENT){if(!(null===(s=null==(c=f.fullscreen.DEPRECATED_sendMessage("upsertSharedSymbol",{guid:i.node_id,versionHash:i.content_hash,fileKey:i.file_key,componentKey:i.component_key,isUnflattened:i.is_unflattened},t))?void 0:c.args)||void 0===s?void 0:s.localGUID))return void e.dispatch(n.flash.error("An error occurred while adding an instance of this component."));l=c.args.localGUID}else{if(i.type!==h.LibraryItemType.STATE_GROUP)throw new Error(`Unexpected type for dragging library item: ${i.type}`);if(!(null===(a=null==(c=f.fullscreen.DEPRECATED_sendMessage("upsertSharedStateGroup",{guid:i.node_id,version:i.version,fileKey:i.file_key,key:i.key},t))?void 0:c.args)||void 0===a?void 0:a.localGUID))throw new Error("An error occurred while adding an instance of this component.");if(null===(o=null==c?void 0:c.args)||void 0===o?void 0:o.C2)throw new Error(c.args.C2);l=E.Fullscreen.getDefaultState(c.args.localGUID)}f.fullscreen.DEPRECATED_sendMessage("replaceSymbolBackingInstances",{symbolGUID:l,instanceGUIDs:r})}),p.trackEventForFile("Instance Swapped To Shared Component",s.key,e.getState(),{componentFileKey:i.file_key,componentId:i.id}))});const k=b.asyncActionCreator("TRY_HANDLING_DROP_EVENTS_AS_COMPONENT_DROP",(e,t)=>{var i;const r=null===(i=t.dataTransfer)||void 0===i?void 0:i.getData("text/html");if(r){const i=r.indexOf("\x3c!--(figcomponent)")+"\x3c!--(figcomponent)".length,n=r.indexOf("(/figcomponent)--\x3e");if(i>=0&&n>=0&&i<n){const a=r.substring(i,n).trim();try{const i=JSON.parse(a);if("object"==typeof i){const r=i.fileKey,s=i.nodeId;if(r&&s){const i=f.fullscreen.getViewportInfo(),n=new d.Vector(i.x,i.y),a=new d.Vector(t.clientX,t.clientY).subtract(n),o=m.viewportPositionToCanvas(i,a);console.log("====== INSERTING COMPONENT VIA DROP HANDLER 1 ======"),e.dispatch(L({fileKey:r,nodeId:s,canvasX:o.x,canvasY:o.y}))}}}catch(s){}}}});t.tryHandlingDropEventAsComponentDrop=k;const L=b.asyncActionCreator("INSERT_COMPONENT_OR_SHOW_ERROR",(e,t)=>{const{fileKey:i,nodeId:r,canvasX:n,canvasY:a}=t,o=e.getState(),l=c.getEditingFile(o);let p=null;if(l&&l.key===i)p=o.library.local.components[r];else{const e=o.fileByKey[i];if(e){p=_.publishedLibraryItemsForFile(o.library.published.components,e)[r]}}p?e.dispatch(G({item:p,canvasPosition:new d.Vector(n,a),percentageOffset:new d.Vector(.5,.5),insertAsChildOfCanvas:!1})):e.dispatch(s.visualBell.enqueue({type:"insert_component_error",message:"This component is not available in your team library",error:!0}))});t.insertComponentOrShowError=L;const G=b.asyncActionCreator("INSERT_SHARED_COMPONENT",async(e,t)=>{let{item:i,canvasPosition:s,percentageOffset:a,insertAsChildOfCanvas:o}=t;const d=c.getEditingFile(e.getState());if(!d)return;const y=e.getState();let m;if(d.key===i.file_key){const t=y.library.local.components[i.node_id];if(m="Component Local Symbol Inserted",!t||!y.mirror.sceneGraph.get(t.node_id))return void e.dispatch(r.fileBrowser.showModal({type:v.NO_SHARED_INSTANCE_IN_MASTER_FILE_IF_DELETED}));try{f.fullscreen.DEPRECATED_sendMessage("insertInstance",{guid:t.node_id,x:s.x,y:s.y,percentOffsetX:a.x,percentOffsetY:a.y,insertAsChildOfCanvas:o}),f.fullscreen.triggerAction("commit"),f.fullscreen.triggerAction("set-tool-default")}catch(_){e.dispatch(n.flash.error("An error occurred while adding an instance of this component.")),l.errorHandler.raiseError(_)}}else{if(m="Component Shared Symbol Inserted",$&&$===i.component_key&&j){const e=await j;e&&e.updated_at>i.updated_at&&(i=e)}u.teamLibraryItemSceneGraphCache.get(i).then(t=>{const r=f.fullscreen.DEPRECATED_sendMessage("upsertSharedSymbol",{guid:i.node_id,versionHash:i.content_hash,fileKey:i.file_key,editingFileKey:d.key,componentKey:i.component_key,isUnflattened:i.is_unflattened},t);r&&r.args&&r.args.localGUID?(f.fullscreen.DEPRECATED_sendMessage("insertInstance",{guid:r.args.localGUID,x:s.x,y:s.y,percentOffsetX:a.x,percentOffsetY:a.y,insertAsChildOfCanvas:o}),f.fullscreen.triggerAction("commit"),f.fullscreen.triggerAction("set-tool-default")):e.dispatch(n.flash.error("An error occurred while adding an instance of this component."))}).catch(t=>{e.dispatch(n.flash.error("An error occurred while adding an instance of this component.")),l.errorHandler.raiseError(t)})}p.trackEventForFile(m,d.key,e.getState(),{componentFileKey:i.file_key,componentId:i.id,ComponentCanvasPositionX:s.x,ComponentCanvasPositionY:s.y})});t.insertSharedComponent=G;const F=b.asyncActionCreator("INSERT_SHARED_STATE_GROUP",async(e,t)=>{var i;let{item:s,canvasPosition:a,percentageOffset:o,insertAsChildOfCanvas:d}=t;const y=c.getEditingFile(e.getState());if(!y)return;const m=e.getState();let _;if(y.key===s.file_key){const t=m.library.local.stateGroups[s.node_id];if(_="State Group Local Symbol Inserted",!t||!m.mirror.sceneGraph.get(t.node_id))return void e.dispatch(r.fileBrowser.showModal({type:v.NO_SHARED_INSTANCE_IN_MASTER_FILE_IF_DELETED}));try{const r=f.fullscreen.DEPRECATED_sendMessage("insertStateGroup",{guid:t.node_id,x:a.x,y:a.y,percentOffsetX:o.x,percentOffsetY:o.y,insertAsChildOfCanvas:d});if(null===(i=null==r?void 0:r.args)||void 0===i?void 0:i.C2)throw new Error(r.args.C2);f.fullscreen.triggerAction("commit"),f.fullscreen.triggerAction("set-tool-default")}catch(h){e.dispatch(n.flash.error("An error occurred while adding an instance of this state group.")),l.errorHandler.raiseError(h)}}else{if(_="State Group Shared Symbol Inserted",X&&X===s.key&&z){const e=await z;e&&e.updated_at>s.updated_at&&(s=e)}u.teamLibraryItemSceneGraphCache.get(s).then(e=>{var t,i,r;const n=f.fullscreen.DEPRECATED_sendMessage("upsertSharedStateGroup",{guid:s.node_id,version:s.version,fileKey:s.file_key,key:s.key},e);if(!(null===(t=null==n?void 0:n.args)||void 0===t?void 0:t.localGUID))throw new Error("An error occurred while adding an instance of this component.");if(null===(i=null==n?void 0:n.args)||void 0===i?void 0:i.C2)throw new Error(n.args.C2);if(f.fullscreen.DEPRECATED_sendMessage("insertStateGroup",{guid:n.args.localGUID,x:a.x,y:a.y,percentOffsetX:o.x,percentOffsetY:o.y,insertAsChildOfCanvas:d}),null===(r=null==n?void 0:n.args)||void 0===r?void 0:r.C2)throw new Error(n.args.C2);f.fullscreen.triggerAction("commit"),f.fullscreen.triggerAction("set-tool-default")}).catch(t=>{e.dispatch(n.flash.error("An error occurred while adding an instance of this component.")),l.errorHandler.raiseError(t)})}p.trackEventForFile(_,y.key,e.getState(),{stateGroupFileKey:s.file_key,stateGroupId:s.id,StateGroupCanvasPositionX:a.x,StateGroupCanvasPositionY:a.y})});t.insertSharedStateGroup=F;const N=b.asyncActionCreator("UPDATE_SHARED_STATE_GROUPS",(e,t)=>{const{stateGroups:i}=t;Promise.all(i.map(e=>u.teamLibraryItemSceneGraphCache.get(e))).then(t=>{const r=e.getState().editingFileKey;for(let e=0;e<i.length;e++){const r=i[e],s=t[e];f.fullscreen.DEPRECATED_sendMessage("updateSharedStateGroup",{fileKey:r.file_key,key:r.key},s)}f.fullscreen.triggerAction("commit");const s=i.map(e=>e.id);p.trackEventForFile("Components Updated",r,e.getState(),{stateGroups:s})}).catch(t=>{e.dispatch(n.flash.error("An error occurred while updating the instances of this component.")),l.errorHandler.raiseError(t)})});t.updateSharedStateGroups=N;const w=b.asyncActionCreator("UPDATE_SHARED_COMPONENTS",(e,t)=>{const{components:i}=t;Promise.all(i.map(e=>u.teamLibraryItemSceneGraphCache.get(e))).then(t=>{const r=e.getState().editingFileKey;for(let e=0;e<i.length;e++){const r=i[e],s=t[e];f.fullscreen.DEPRECATED_sendMessage("updateSharedSymbol",{guid:r.node_id,versionHash:r.content_hash,fileKey:r.file_key,componentKey:r.component_key,isUnflattened:r.is_unflattened},s)}f.fullscreen.triggerAction("commit");const s=i.map(e=>e.id);p.trackEventForFile("Components Updated",r,e.getState(),{components:s})}).catch(t=>{e.dispatch(n.flash.error("An error occurred while updating the instances of this component.")),l.errorHandler.raiseError(t)})});t.updateSharedComponents=w;const U=b.asyncActionCreator("APPLY_STYLE",(e,t)=>{const{style:i,inheritStyleKeyField:r,fromSearch:s}=t,n=e.getState(),a=c.getEditingFile(n),o=a&&i.file_key!==a.key;e.dispatch(M({style:i,callback:()=>{E.Fullscreen.applyStyleToSelection(r,i.key,i.content_hash||"",!0),I.segmentTrackEvent("Style Applied",{styleType:i.style_type,isShared:!!o,viewMode:e.getState().stylePickerListLayout?"LIST":"GRID",fromSearch:!!s})}}))});t.applyStyle=U;const M=b.asyncActionCreator("ENSURE_STYLE_IS_LOADED",(e,t)=>{const i=e.getState(),{style:r}=t,s=c.getEditingFile(i);if(!s)return;const a=r.file_key!==s.key,o="GRID"===r.style_type&&!i.mirror.appModel.showFrameGrids;a?u.teamLibraryItemSceneGraphCache.get(r).then(async i=>{const s=f.fullscreen.DEPRECATED_sendMessage("getOrCreateSubscribedStyleNodeId",{styleKey:r.key,fileKey:r.file_key,versionHash:r.content_hash},i);if(f.fullscreen.triggerAction("commit"),o&&f.fullscreen.updateAppModel({showFrameGridsForced:!0,showFrameGrids:!0}),"TEXT"===r.style_type&&s&&s.args&&s.args.localGUID){const t=e.getState().mirror.sceneGraph.get(s.args.localGUID),i=t&&t.fontName;i&&await T.fontLoaded(i.family,i.style).catch(()=>console.error(`Text style font did not load: ${i.family} ${i.style}`))}t.callback()}).catch(t=>{e.dispatch(n.flash.error("An error occurred while applying the style to the selection.")),l.errorHandler.raiseError(t)}):(o&&f.fullscreen.updateAppModel({showFrameGridsForced:!0,showFrameGrids:!0}),t.callback())});t.ensureStyleIsLoaded=M;const B=b.asyncActionCreator("UPDATE_SHARED_STYLES",(e,t)=>{const{styles:i}=t;Promise.all(i.map(e=>u.teamLibraryItemSceneGraphCache.get(e))).then(t=>{const r=e.getState().editingFileKey;for(let e=0;e<i.length;e++){const r=i[e],s=t[e];f.fullscreen.DEPRECATED_sendMessage("updateSharedStyle",{styleKey:r.key,fileKey:r.file_key,versionHash:r.content_hash},s)}f.fullscreen.triggerAction("commit"),D(e);const s=i.map(e=>e.id);p.trackEventForFile("Styles Updated",r,e.getState(),{styles:s})}).catch(t=>{e.dispatch(n.flash.error("An error occurred while updating this style.")),l.errorHandler.raiseError(t)})});function K(e){const t=e.getState().library.published.styles,i=c.getEditingFile(e.getState());if(!i||!E.Fullscreen||!f.fullscreen.isReady())return;const r={};for(let c in t)for(let e in t[c])for(let i in t[c][e]){const s=t[c][e][i];r[s.key]=s.file_key}const s=e.getState().library.local.styles,n={},a=[];for(let c in s){const e=s[c];n[e.key]=!0,r[e.key]&&r[e.key]!==e.file_key&&a.push(c)}const o=[],l=t[i.team_id||""],d=l?l[i.key]:{};for(let c in d){n[t[i.team_id||""][i.key][c].key]||o.push(c)}(a.length>0||o.length>0)&&(E.Fullscreen.changeSharedStyleStatus({localToShared:a,sharedToLocal:o}),f.fullscreen.DEPRECATED_sendMessage("commit"))}t.updateSharedStyles=B,t.computeMovedStyles=K;const H=b.asyncActionCreator("UPDATE_LIBRARY_FROM_PUBLISHED_AND_LOCAL_DATA",e=>{D(e),_.computeLocal(e),K(e)});t.updateLibraryFromPublishedAndLocalData=H;const Y=b.asyncActionCreator("MOVE_SHARED_STYLES",(e,t)=>{let i=t.styles;const r=h.LibraryItemType.STYLE,n=e.getState().editingFileKey,l=c.getEditingFile(e.getState());if(!l)return;i=i.filter(e=>e.file_key&&e.file_key!==n);Promise.all(i.map(e=>u.teamLibraryItemSceneGraphCache.get(e))).then(t=>{const c={},d=[];for(let e=0;e<i.length;e++){const r=i[e],s=t[e],{localGUID:n}=f.fullscreen.DEPRECATED_sendMessage("getOrCreateSubscribedStyleNodeId",{styleKey:r.key,versionHash:r.content_hash},s).args;c[r.key]={localGUID:n,fileKey:r.file_key,nodeId:r.node_id},d.push({node_id:n,style_key:r.key,sort_position:""})}E.Fullscreen.getNextStylePositions(d.map(e=>e.node_id)).forEach((e,t)=>d[t].sort_position=e),A.default.put("/api/styles/move",{file_key:n,styles:d}).then(({data:t})=>{((t,i)=>{if(!t||0===Object.keys(t).length)return;const s={},o={},c={};for(let e in t){const r=t[e],a=r.key,l=i[a]&&i[a].fileKey;if(l&&l!==n){const n=i[a].nodeId;s[l]?s[l].push(n):s[l]=[n],o[e]=t[e],c[e]=r.sort_position||""}}E.Fullscreen.changeSharedStyleStatus({sharedToLocal:c}),f.fullscreen.DEPRECATED_sendMessage("commit");for(let n in s){const t=s[n],i=e.getState().fileByKey[n];e.dispatch(a.library.del({nodeIds:t,file:i,type:r}))}e.dispatch(a.library.put({itemsById:o,file:l,type:r}))})(t.meta||Object.create(null),c),e.dispatch(s.visualBell.enqueue({type:"component_publish_success",message:"Styles successfully moved"}))}).catch(()=>{e.dispatch(o.notifActions.enqueue({notification:{type:g.NotificationType.COMPONENT_PUBLISH_ERROR,message:"Styles cannot be moved"}}))})})});t.moveSharedStyles=Y;const x={retryCount:5},V=(e,t,i)=>{const r=e.getState(),s=r.fileByKey,n=Object.create(null);i.forEach(e=>{e.meta&&(e.meta=C.parseLibraryMeta(e.meta));const t=e.file_key,i=s[t];if(!i)return;const r=i.team_id||h.NO_TEAM_ID;n[r]=n[r]||Object.create(null),n[r][t]=n[r][t]||Object.create(null),n[r][t][e.node_id]=e}),e.dispatch(a.library.initialize({publishedItemsByTeamId:n,type:t})),r.selectedView&&"fullscreen"===r.selectedView.view&&e.dispatch(H())};t.getSubscribedComponentsAndStateGroupsForFile=async function(e,t,i){const r=await A.default.get(`/api/design_systems/library/${i}/subscribed_components?fv=${t}`,null,x);await O.userStatePromise,_.componentFileRequests.clear(),V(e,h.LibraryItemType.COMPONENT,r.data.meta.components),V(e,h.LibraryItemType.STATE_GROUP,r.data.meta.state_groups),_.libraryComponentsCallback()};let $=null,j=null;t.getComponentByKey=(async(e,t)=>{try{const r=e.getState().fileVersion||0,s=(await A.default.get(`/api/design_systems/library/component/${t}?fv=${r}`)).data.meta;s.type=h.LibraryItemType.COMPONENT;const n={[s.node_id]:s},o=e.getState().fileByKey[s.file_key];return o?(e.dispatch(a.library.put({itemsById:n,file:o,type:h.LibraryItemType.COMPONENT})),u.teamLibraryItemSceneGraphCache.get(s),s):s}catch(i){return null}}),t.getPublishedComponent=b.asyncActionCreator("GET_PUBLISHED_COMPONENT",(e,i)=>{$=i.componentKey,j=t.getComponentByKey(e,i.componentKey)});let X=null,z=null;function q(e,t){const i=e.getState().fileVersion;return _.getPublishedComponentsForFileWithDispatch(e.dispatch,i,e.getState().fileByKey,t)}t.getStateGroupByKey=(async(e,t)=>{try{const r=(await A.default.get(`/api/design_systems/library/state_group/${t}`)).data.meta;r.type=h.LibraryItemType.STATE_GROUP;const s={[r.node_id]:r},n=e.getState().fileByKey[r.file_key];return n?(e.dispatch(a.library.put({itemsById:s,file:n,type:h.LibraryItemType.STATE_GROUP})),u.teamLibraryItemSceneGraphCache.get(r),r):r}catch(i){return null}}),t.getPublishedStateGroup=b.asyncActionCreator("GET_PUBLISHED_STATE_GROUP",(e,i)=>{X=i.stateGroupKey,z=t.getStateGroupByKey(e,i.stateGroupKey)}),t.getPublishedComponentsForFile=q,t.getLibraryStats=(async(e,t,i)=>{const r={calculate_stats:t.toString(),org_id:e||"",fv:`${i||0}`};try{const e=await A.default.get("/api/design_systems/libraries",r,x),t=e&&e.data&&e.data.meta||[];let i=0,n=0,a=0,o=0,c=0;const l=[],d=new Set;for(const r of t)0===r.num_components&&0===r.num_styles||(d.has(r.team_id)||(d.add(r.team_id),o++),l.push(r),i+=r.num_components,n+=r.num_state_groups,a+=r.num_styles,c++);return{totalComponents:i,totalStateGroups:n,totalStyles:a,teamsWithLibraries:o,totalLibraries:c,files:l}}catch(s){return h.DEFAULT_LIBRARIES}}),t.getLibrary=(async e=>{await O.userStatePromise;const t=e.getState();if(!t.user)return;const i=e.getState().currentOrgId,r={org_id:i||""},s=A.default.get("/api/styles",r,x).then(t=>{V(e,h.LibraryItemType.STYLE,t.data.meta),_.libraryStylesCallback()}),n=A.default.get("/api/library_team_subscription_overrides",r,x).then(({data:t})=>{e.dispatch(Z({fileSubscriptionsByTeamId:t.meta}))}),a=A.default.get("/api/library_user_subscriptions",null,x).then(({data:t})=>{e.dispatch(Q({subscriptions:t.meta}))});let o;o=i?A.default.get(`/api/library_org_subscriptions/${i}`,null,x).then(({data:t})=>{e.dispatch(ee({subscriptions:t.meta}))}):Promise.resolve(null),_.fetchOtherUsedStandaloneComponentsAndStateGroups(t.mirror.sceneGraph,t.mirror.appModel.subscribedComponents,t.mirror.appModel.subscribedStateGroups,t.library,t.fileVersion,t.fileByKey,e.dispatch);try{await Promise.all([s,n,o,a]),e.dispatch(W()),e.dispatch(ae())}catch(c){}});const W=S.actionCreator("LIBRARY_MARK_FETCHED");t.markFetched=W;const Z=S.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_TEAM");t.initializeTeamSubscriptions=Z;const J=S.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_FILE");t.initializeFileSubscriptionsForFile=J;const Q=S.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_USER");t.initializeUserSubscriptions=Q;const ee=S.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_ORG");t.initializeOrgSubscriptions=ee;const te=b.optimisticActionCreator("LIBRARY_SUBSCRIPTION_POST_TEAM",(e,t,i)=>{const{libraryTeamSubscription:r,userInitiated:s}=t,{file_key:n,is_subscribed:a,team_id:o}=r;if(s){A.default.post(`/api/library_team_subscriptions/${n}`,{is_subscribed:a,team_id:o}).then(({data:t})=>{e.dispatch(b.optimistActions.commit(i))}).catch(()=>{e.dispatch(b.optimistActions.revert(i))})}});t.postTeamSubscription=te;const ie=b.optimisticActionCreator("LIBRARAY_SUBSCRIPTION_POST_FILE",(e,t,i)=>{const{libraryFileSubscription:r,userInitiated:s}=t,{file_key:n,library_file_key:a,is_subscribed:o}=r;if(s){const t=A.default.post(`/api/library_file_subscriptions/${n}/${a}`,{is_subscribed:o});q(e,a),t.then(({data:t})=>{e.dispatch(b.optimistActions.commit(i)),e.dispatch(ae())}).catch(()=>{e.dispatch(b.optimistActions.revert(i))})}});t.postFileSubscription=ie;const re=b.optimisticActionCreator("LIBRARAY_SUBSCRIPTION_POST_USER",(e,t,i)=>{const{libraryUserSubscription:r,userInitiated:s}=t,{file_key:n,is_subscribed:a}=r;if(s){A.default.post(`/api/library_user_subscriptions/${n}`,{is_subscribed:a}).then(({data:t})=>{e.dispatch(b.optimistActions.commit(i)),e.dispatch(ae())}).catch(()=>{e.dispatch(b.optimistActions.revert(i))})}});t.postUserSubscription=re;const se=b.optimisticActionCreator("LIBRARY_SUBSCRIPTION_POST_TEAM",(e,t,i)=>{const{fileKey:r,userInitiated:s}=t;if(s){A.default.post(`/api/library_org_subscriptions/${r}`).then(({data:t})=>{e.dispatch(b.optimistActions.commit(i))}).catch(()=>{e.dispatch(b.optimistActions.revert(i))})}});t.postOrgSubscription=se;const ne=b.optimisticActionCreator("LIBRARY_SUBSCRIPTION_POST_TEAM",(e,t,i)=>{const{fileKey:r,userInitiated:s}=t;if(s){A.default.del(`/api/library_org_subscriptions/${r}`).then(({data:t})=>{e.dispatch(b.optimistActions.commit(i))}).catch(()=>{e.dispatch(b.optimistActions.revert(i))})}});t.deleteOrgSubscription=ne;const ae=b.asyncActionCreator("PREFETCH_SUBSCRIBED_STYLES",(e,t)=>{const i=e.getState(),r=c.getEditingFile(i),s=i.library.published.styles;if(r)for(const n in s)for(const e in s[n]){if(e===r.key)continue;const t=i.fileByKey[e];if(_.isFileSubscribedTo(i.library,r,t))for(const i in s[n][e]){const t=s[n][e][i];u.teamLibraryItemSceneGraphCache.get(t)}}});t.prefetchSubscribedStyles=ae}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(133        ),s=a(204                                     ),n=a(202                            );function u(){return{inputValue:"",tokens:[],errorMessage:""}}t.isInputValid=function(e){let t=!!(e.tokens&&e.tokens.length||e.inputValue&&e.inputValue.length);return e.tokens.some(e=>e.state===n.AutocompleteTokenState.ERROR)&&(t=!1),e.inputValue&&e.inputValue.length&&!o.isEmail(e.inputValue)&&(t=!1),t},t.toEmailList=function(e){let t=[];for(let a of e.tokens)t.push(a.email);return e.inputValue&&t.push(e.inputValue),t},t.getDefaultAutocompleteValue=u,t.autocomplete=function(e={inputValue:"",tokens:[],errorMessage:""},t){return s.autocomplete.reset.matches(t)?{inputValue:"",tokens:[],errorMessage:""}:s.autocomplete.set.matches(t)?Object.assign({},t.payload):s.autocomplete.addTokens.matches(t)?Object.assign(Object.assign({},e),{tokens:e.tokens.concat(t.payload),inputValue:""}):s.autocomplete.inputChange.matches(t)?Object.assign(Object.assign({},e),{inputValue:t.payload}):s.autocomplete.setErrorMessage.matches(t)?Object.assign(Object.assign({},e),{errorMessage:t.payload}):e}}),
(function(e,t,r){
/*!
 * Fuse.js v3.2.0 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
var n,o;n=this,o=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";e.exports=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(5),i=r(7),a=r(4),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,s=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.isCaseSensitive,v=void 0!==f&&f,d=r.tokenSeparator,p=void 0===d?/ +/g:d,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}return n(e,[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,r=t.maxPatternLength,n=t.tokenSeparator;if(this.pattern.length>r)return o(e,this.pattern,n);var a=this.options,s=a.location,c=a.distance,h=a.threshold,l=a.findAllMatches,u=a.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:s,distance:c,threshold:h,findAllMatches:l,minMatchCharLength:u})}}]),e}();e.exports=s},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){return function e(t,r,o){if(r){var i=r.indexOf("."),a=r,s=null;-1!==i&&(a=r.slice(0,i),s=r.slice(i+1));var c=t[a];if(null!=c)if(s||"string"!=typeof c&&"number"!=typeof c)if(n(c))for(var h=0,l=c.length;h<l;h+=1)e(c[h],s,o);else s&&e(c,s,o);else o.push(c.toString())}else o.push(t);return o}(e,t,[])}},function(e,t,r){"use strict";e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===n?n=i:s||-1===n||((o=i-1)-n+1>=t&&r.push([n,o]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}},function(e,t,r){"use strict";e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var o=0;o<r;o+=1)t[e.charAt(o)]|=1<<r-o-1;return t}},function(e,t,r){"use strict";var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(n,"\\$&").replace(r,"|")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,h=i.length;c<h;c+=1){var l=i[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,r){"use strict";e.exports=function(e,t){var r=t.errors,n=void 0===r?0:r,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,h=void 0===c?100:c,l=n/e.length,u=Math.abs(s-i);return h?l+u/h:u?1:l}},function(e,t,r){"use strict";var n=r(6),o=r(3);e.exports=function(e,t,r,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,h=void 0===c?100:c,l=i.threshold,u=void 0===l?.6:l,f=i.findAllMatches,v=void 0!==f&&f,d=i.minMatchCharLength,p=void 0===d?1:d,g=s,y=e.length,m=u,k=e.indexOf(t,g),x=t.length,S=[],M=0;M<y;M+=1)S[M]=0;if(-1!==k){var b=n(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});if(m=Math.min(b,m),-1!==(k=e.lastIndexOf(t,g+x))){var _=n(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});m=Math.min(_,m)}}k=-1;for(var L=[],w=1,C=x+y,A=1<<x-1,I=0;I<x;I+=1){for(var O=0,F=C;O<F;){n(t,{errors:I,currentLocation:g+F,expectedLocation:g,distance:h})<=m?O=F:C=F,F=Math.floor((C-O)/2+O)}C=F;var P=Math.max(1,g-F+1),j=v?y:Math.min(g+F,y)+x,z=Array(j+2);z[j+1]=(1<<I)-1;for(var T=j;T>=P;T-=1){var E=T-1,K=r[e.charAt(E)];if(K&&(S[E]=1),z[T]=(z[T+1]<<1|1)&K,0!==I&&(z[T]|=(L[T+1]|L[T])<<1|1|L[T+1]),z[T]&A&&(w=n(t,{errors:I,currentLocation:E,expectedLocation:g,distance:h}))<=m){if(m=w,(k=E)<=g)break;P=Math.max(1,2*g-k)}}if(n(t,{errors:I+1,currentLocation:g,expectedLocation:g,distance:h})>m)break;L=z}return{isMatch:k>=0,score:0===w?.001:w,matchedIndices:o(S,p)}}},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(1),i=r(2),a=r(0),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,a=r.distance,s=void 0===a?100:a,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.caseSensitive,v=void 0!==f&&f,d=r.tokenSeparator,p=void 0===d?/ +/g:d,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,x=r.id,S=void 0===x?null:x,M=r.keys,b=void 0===M?[]:M,_=r.shouldSort,L=void 0===_||_,w=r.getFn,C=void 0===w?i:w,A=r.sortFn,I=void 0===A?function(e,t){return e.score-t.score}:A,O=r.tokenize,F=void 0!==O&&O,P=r.matchAllTokens,j=void 0!==P&&P,z=r.includeMatches,T=void 0!==z&&z,E=r.includeScore,K=void 0!==E&&E,$=r.verbose,J=void 0!==$&&$;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k,id:S,keys:b,includeMatches:T,includeScore:K,shouldSort:L,getFn:C,sortFn:I,verbose:J,tokenize:F,matchAllTokens:j},this.setCollection(t)}return n(e,[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){this._log('---------\nSearch pattern: "'+e+'"');var t=this._prepareSearchers(e),r=t.tokenSearchers,n=t.fullSearcher,o=this._search(r,n),i=o.weights,a=o.results;return this._computeScore(i,a),this.options.shouldSort&&this._sort(a),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,i=r.length;n<i;n+=1)t.push(new o(r[n],this.options));return{tokenSearchers:t,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=this.list,n={},o=[];if("string"==typeof r[0]){for(var i=0,a=r.length;i<a;i+=1)this._analyze({key:"",value:r[i],record:i,index:i},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}for(var s={},c=0,h=r.length;c<h;c+=1)for(var l=r[c],u=0,f=this.options.keys.length;u<f;u+=1){var v=this.options.keys[u];if("string"!=typeof v){if(s[v.name]={weight:1-v.weight||1},v.weight<=0||v.weight>1)throw new Error("Key weight has to be > 0 and <= 1");v=v.name}else s[v]={weight:1};this._analyze({key:v,value:this.options.getFn(l,v),record:l,index:c},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:o}}},{key:"_analyze",value:function(e,t){var r=e.key,n=e.arrayIndex,o=void 0===n?-1:n,i=e.value,s=e.record,c=e.index,h=t.tokenSearchers,l=void 0===h?[]:h,u=t.fullSearcher,f=void 0===u?[]:u,v=t.resultMap,d=void 0===v?{}:v,p=t.results,g=void 0===p?[]:p;if(null!=i){var y=!1,m=-1,k=0;if("string"==typeof i){this._log("\nKey: "+(""===r?"-":r));var x=f.search(i);if(this._log('Full text: "'+i+'", score: '+x.score),this.options.tokenize){for(var S=i.split(this.options.tokenSeparator),M=[],b=0;b<l.length;b+=1){var _=l[b];this._log('\nPattern: "'+_.pattern+'"');for(var L=!1,w=0;w<S.length;w+=1){var C=S[w],A=_.search(C),I={};A.isMatch?(I[C]=A.score,y=!0,L=!0,M.push(A.score)):(I[C]=1,this.options.matchAllTokens||M.push(1)),this._log('Token: "'+C+'", score: '+I[C])}L&&(k+=1)}m=M[0];for(var O=M.length,F=1;F<O;F+=1)m+=M[F];m/=O,this._log("Token score average:",m)}var P=x.score;m>-1&&(P=(P+m)/2),this._log("Score average:",P);var j=!this.options.tokenize||!this.options.matchAllTokens||k>=l.length;if(this._log("\nCheck Matches: "+j),(y||x.isMatch)&&j){var z=d[c];z?z.output.push({key:r,arrayIndex:o,value:i,score:P,matchedIndices:x.matchedIndices}):(d[c]={item:s,output:[{key:r,arrayIndex:o,value:i,score:P,matchedIndices:x.matchedIndices}]},g.push(d[c]))}}else if(a(i))for(var T=0,E=i.length;T<E;T+=1)this._analyze({key:r,arrayIndex:T,value:i[T],record:s,index:c},{resultMap:d,results:g,tokenSearchers:l,fullSearcher:f})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var r=0,n=t.length;r<n;r+=1){for(var o=t[r].output,i=o.length,a=0,s=1,c=0;c<i;c+=1){var h=e?e[o[c].key].weight:1,l=(1===h?o[c].score:o[c].score||.001)*h;1!==h?s=Math.min(s,l):(o[c].nScore=l,a+=l)}t[r].score=1===s?a/i:s,this._log(t[r])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];this._log("\n\nOutput:\n\n",JSON.stringify(e));var r=[];this.options.includeMatches&&r.push(function(e,t){var r=e.output;t.matches=[];for(var n=0,o=r.length;n<o;n+=1){var i=r[n];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&r.push(function(e,t){t.score=e.score});for(var n=0,o=e.length;n<o;n+=1){var i=e[n];if(this.options.id&&(i.item=this.options.getFn(i.item,this.options.id)[0]),r.length){for(var a={item:i.item},s=0,c=r.length;s<c;s+=1)r[s](i,a);t.push(a)}else t.push(i.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}]),e}();e.exports=s}])},"object"==typeof t&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define("Fuse",[],o):"object"==typeof t?t.Fuse=o():n.Fuse=o()}),
(function(s,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=r(321      ),i=r(85                   );e.SearchLibrary=class{constructor(s,e={}){this.options=Object.assign(Object.assign({},e),{includeScore:!1}),this.sourceList=s,this.fuse=new t(s,this.options)}set(s){this.fuse=new t(s,this.options),this.sourceList=s}list(){return[...this.sourceList]}search(s){return this.fuse.search(s.trim())}};class o{constructor(s,e={}){this.libraryId=o.nextLibraryId++,this.search=(s=>o.searchWorker?new Promise((e,r)=>{const t=o.lastMessageId++;o.promiseResolvesByMessageId[t]=e;const i={type:"SEARCH",pattern:s.trim(),libraryId:this.libraryId,messageId:t};o.searchWorker.postMessage(i)}):new Promise((e,r)=>{e(this.fuse.search(s.trim()))})),this.options=Object.assign(Object.assign({},e),{includeScore:!0}),this.sourceList=s,i.getFeatureFlags().library_search_worker?o.searchWorker||(o.searchWorker=new Worker(Fig.librarySearchWorkerURL),o.searchWorker.onmessage=(s=>{if("SEARCH_RESULTS"===s.data.type){const e=s.data.messageId,r=o.promiseResolvesByMessageId[e];if(r){return r(s.data.results),void delete o.promiseResolvesByMessageId[e]}}})):this.fuse=new t(s,this.options)}set(s){if(o.searchWorker){const e={type:"INIT",list:s,libraryId:this.libraryId,options:this.options};o.searchWorker.postMessage(e)}else this.fuse=new t(s,this.options);this.sourceList=s}list(){return[...this.sourceList]}}e.ScoredSearchLibrary=o,o.promiseResolvesByMessageId={},o.nextLibraryId=0,o.lastMessageId=0}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const c=t(91                  );!function(e){e.post=c.actionCreator("REPO_POST"),e.fetchedRoles=c.actionCreator("REPO_FETCHED_ROLES")}(o.repoActions||(o.repoActions={}))}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(108     ),s=t(115                     ),i=t(280                             ),c=t(188                               ),l=t(206                             ),p=t(205                             ),n=t(322                           ),r=t(323                             );function f(e,a,t){let o={};for(let i in e)o[e[i].id]=i;const s=new Set;s.add(a.email);for(const i of t)s.add(!0===i.pending?i.user.email:o[i.user.id]);return s}a.fetchFileRoles=async function(e,a){if(!e.appData||!e.appData.fetchedRoles){a.dispatch(i.file.fetchedRoles({file:e}));const t=await o.default.get(`/api/roles/${s.ResourceType.FILE}/${e.key}`);a.dispatch(p.role.batchPut({roles:t.data.meta}))}},a.fetchFolderRoles=async function(e,a){if(!e.appData||!e.appData.fetchedRoles){a.dispatch(c.folder.fetchedRoles(e));const t=await o.default.get(`/api/roles/${s.ResourceType.FOLDER}/${e.id}`);a.dispatch(p.role.batchPut({roles:t.data.meta}))}},a.fetchTeamRoles=async function(e,a){if(!e.appData||!e.appData.fetchedRoles){a.dispatch(l.team.fetchedRoles({team:e}));const t=await o.default.get(`/api/roles/${s.ResourceType.TEAM}/${e.id}`);a.dispatch(p.role.batchPut({roles:t.data.meta}))}},a.fetchRepoRoles=async function(e,a){if(!e.appData||!e.appData.fetchedRoles){a.dispatch(r.repoActions.fetchedRoles({repo:e}));const t=await o.default.get(`/api/roles/${s.ResourceType.FILE_REPO}/${e.id}`);a.dispatch(p.role.batchPut({roles:t.data.meta}))}},a.emailsToExclude=f,a.inviteSearch=function(e,a,t,o){const s=f(a,t,o);for(const c of e.tokens)s.add(c.email);const i=new n.SearchLibrary([],{keys:["handle","email"],threshold:0,tokenize:!0,matchAllTokens:!0});return i.set(Object.keys(a).map(e=>a[e])),i.search(e.inputValue).filter(({email:e})=>!s.has(e))}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(108     ),s=a(91                  ),r=a(100                               ),o=a(125                        ),c=a(324                  ),n=a(317                       );t.loadContacts=r.asyncActionCreator("CONTACTS_LOAD",e=>{const a=e.getState();if(a.contacts.appData.fetched)return;const s={};a.currentOrgId&&(s.org_id=a.currentOrgId),i.default.get("/api/contacts",s).then(({data:a})=>{let i=a.meta;e.dispatch(t.set({users:i}))})}),t.loadTeamRoles=r.asyncActionCreator("CONTACTS_LOAD_TEAM_ROLES",async e=>{await n.userStatePromise;const t=e.getState(),a=t.editingFileKey,i=a&&t.fileByKey[a].team_id;i&&o.canViewTeam(i,t)&&c.fetchTeamRoles(t.teams[i],e)}),t.set=s.actionCreator("CONTACTS_SET"),t.reset=s.actionCreator("CONTACTS_RESET")}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(325                                 );t.contacts=function(e={appData:{fetched:!1},usersByEmail:{}},t){if(s.set.matches(t)){const e={appData:{fetched:!0},usersByEmail:{}};for(const a of t.payload.users)a.email&&(e.usersByEmail[a.email]=a);return e}return s.reset.matches(t)?{appData:{fetched:!1},usersByEmail:{}}:e}}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=n(113                                     );function t(e=null,o){return r.fileBrowser.showDropdown.matches(o)?o.payload:r.fileBrowser.hideDropdown.matches(o)?null:e}o.dropdownShown=t,o.default=t}),
(function(t,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const e=o(91                  );!function(t){t.error=e.actionCreator("TWO_FACTOR_AUTH_SET_CURRENT_ERROR"),t.clearErrors=e.actionCreator("TWO_FACTOR_AUTH_CLEAR_ERRORS")}(r.twoFactorAuth||(r.twoFactorAuth={}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(113                                     ),a=s(203                             ),n=s(328                                        );let c={secret:null,token:null,provisioning_uri:null};function o(e={},t){return n.twoFactorAuth.error.matches(t)?Object.assign(Object.assign({},e),{currentError:t.payload,loading:!1}):a.user.put.matches(t)?Object.assign(Object.assign({},e),{loading:!1}):a.user.verifyPassword.matches(t)||a.user.changePhone.matches(t)||a.user.deletePhone.matches(t)||a.user.confirmPhone.matches(t)||a.user.verifyOTP.matches(t)||a.user.setupTwoFactor.matches(t)||a.user.disableTwoFactor.matches(t)?Object.assign(Object.assign({},e),{loading:!0,currentError:null}):r.fileBrowser.hideModal.matches(t)?Object.assign(Object.assign({},e),{loading:!1,currentError:null}):e}t.storeSecret=function(e){c=e},t.getSecret=function(){return c},t.twoFactorAuth=o,t.default=o}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(46,1    ),n=a(133        );function d(){const t=new Date;return{today:i(t).format("YYYY-MM-DD"),minDate:i(t).subtract(366,"days").format("YYYY-MM-DD")}}function s(t){const e=(t||"").trim();return e&&!n.isEmail(e)?{message:"The email is invalid",field:"email"}:null}function r(t){const e=i(t.start),a=i(t.end);if(!e.isValid())return{message:"The start date is invalid",field:"startDate"};if(!a.isValid())return{message:"The end date is invalid",field:"endDate"};if(e.diff(a,"days")>0)return{message:"The start date cannot be greater than the end date",field:"startDate"};const{today:n,minDate:s}=d();return e.diff(n,"days")>0||e.diff(s,"days")<0?{message:"The start date is out of the thirty day range",field:"startDate"}:a.diff(n,"days")>0?{message:"The end date is out of the thirty day range",field:"endDate"}:null}e.getDateEndPoints=d,e.getEndOfDate=function(t){return t?i(t).add(1,"day").subtract(1,"second").format():null},e.validateEmailFilter=s,e.validateDateFilter=r,e.validateFilters=function(t,e){return s(e)||r(t)}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(93                                   ),r=a(108     ),s=a(91                  ),n=a(100                               ),o=a(330                          ),l=a(186                      ),c=a(130                     );e.PAGE_SIZE=30,function(t){t.set=s.actionCreator("SET_ACTIVITY_LOGS"),t.clearCursor=s.actionCreator("CLEAR_CURSOR_ACTIVITY_LOGS"),t.get=n.asyncActionCreator("GET_ACTIVITY_LOGS",(a,s)=>{const{newQuery:n,teamId:c,actorEmail:g,eventName:_,date:d}=s,f=a.getState(),u=Object.assign(Object.assign(Object.assign(Object.assign({page_size:e.PAGE_SIZE.toString(),org_id:f.currentOrgId,start_time:d.start,end_time:o.getEndOfDate(d.end)},c?{team_id:c}:null),_?{event_name:JSON.stringify(_)}:null),g?{actor_email:g}:null),n?null:{after:f.activityLogs.cursor.after});r.default.get("/api/activity_logs",u).then(e=>{const i=e.data.meta,r=i[0],s=i[1],u=n?r:a.getState().activityLogs.logs.concat(r);a.dispatch(t.set({logs:u,cursor:s})),l.trackEventForOrg("Activity Logs Fetched",f.currentOrgId,f,{teamIdFilter:c,eventNamesFilter:_,startDateFilter:d.start,endDateFilter:o.getEndOfDate(d.end),filtersOnActorEmail:!!g,isNewQuery:n,numberOfResults:r.length})}).catch(t=>{var e;const r=(null===(e=t.data)||void 0===e?void 0:e.message)||"An error occurred while fetching activity logs.";a.dispatch(i.flash.flash(r))})}),t.logExport=n.asyncActionCreator("ACTIVITY_LOGS_LOG_EXPORT",(t,e)=>{a("fig_file_export")}),t.logSaveAsFig=((t,e)=>{a("fig_file_save_as")});const a=t=>{const e=c.globalReduxStore.getState();if(!e.editingFileKey)return;const a=e.fileByKey[e.editingFileKey];a&&a.parent_org_id&&r.default.post(`/api/activity_logs/${a.key}`,{event_name:t})}}(e.activityLogs||(e.activityLogs={}))}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(331                                      ),c=a(9,1    );function i(t=[],e){return s.activityLogs.set.matches(e)?e.payload.logs:t}function o(t=Object.create(null),e){return s.activityLogs.set.matches(e)?e.payload.cursor:s.activityLogs.clearCursor.matches(e)?Object.create(null):t}function r(t=!1,e){return!s.activityLogs.set.matches(e)&&(!!s.activityLogs.get.matches(e)||t)}function n(t=!1,e){return s.activityLogs.get.matches(e)?e.payload.newQuery:t}function u(t={date:{start:null,end:null}},e){if(s.activityLogs.get.matches(e)){const{actorEmail:t,date:a,eventName:s,teamId:c}=e.payload;return{actorEmail:t,date:a,eventName:s,teamId:c}}return t}e.logs=i,e.cursor=o,e.isLoading=r,e.isNewQuery=n,e.lastQuery=u,e.activityLogs=c.combineReducers({logs:i,cursor:o,isLoading:r,isNewQuery:n,lastQuery:u})}),
(function(t,r,n){"use strict";function e(t,r,n){for(let a=0;a<16;a=a+1|0)t[a]=n[a<<2]<<24|n[1+(a<<2)|0]<<16|n[2+(a<<2)|0]<<8|n[3+(a<<2)|0];for(let a=16;a<80;a=a+1|0){let r=t[a-3|0]^t[a-8|0]^t[a-14|0]^t[a-16|0];t[a]=r<<1|r>>>31}let e=r[0],o=r[1],l=r[2],f=r[3],i=r[4];for(let a=0;a<80;a=a+1|0){let r=((e<<5|e>>>27)+i|0)+t[a]|0;r=a<20?1518500249+(r+(o&l|~o&f)|0)|0:a<40?1859775393+(r+(o^l^f)|0)|0:a<60?2400959708+(r+(o&l|o&f|l&f)|0)|0:3395469782+(r+(o^l^f)|0)|0,i=f,f=l,l=o<<30|o>>>2,o=e,e=r}r[0]=r[0]+e|0,r[1]=r[1]+o|0,r[2]=r[2]+l|0,r[3]=r[3]+f|0,r[4]=r[4]+i|0}Object.defineProperty(r,"__esModule",{value:!0}),r.sha1OfUint8Array=function(t){let r=new Uint8Array(20),n=new Int32Array(80),o=new Uint8Array(64),l=new Int32Array([1732584193,4023233417,2562383102,271733878,3285377520]),f=0,i=0,a=t.length;for(;a>0;)a=a-1|0,o[i]=t[f],f=f+1|0,64==(i=i+1|0)&&(e(n,l,o),i=0);if(o[i]=128,(i=i+1|0)>56){for(;i<64;)o[i]=0,i=i+1|0;e(n,l,o),i=0}for(let e=i;e<56;e=e+1|0)o[e]=0;let u=f<<3;for(let e=7;e>=0;e=e-1|0)o[56+e|0]=255&u,u>>>=8;i=64,e(n,l,o);for(let e=0;e<5;e=e+1|0){let t=l[e];for(let n=3;n>=0;n=n-1|0)r[(e<<2)+n|0]=255&t,t>>>=8}let c=[];for(var s=0;s<r.length;s++)c.push((256|r[s]).toString(16).slice(1));return c.join("")},r.toHex=function(t){return function(t){if(20!==t.length)throw new Error("Invalid SHA1 hash")}(t),function(t){return[].map.call(t,t=>(256|t).toString(16).slice(1)).join("")}(t)},r.fromHex=function(t){!function(t){if(!/^[0-9A-Fa-f]{40}$/.test(t))throw new Error("Invalid SHA1 hash")}(t);const r=new Uint8Array(20);for(let n=0;n<40;n+=2)r[n/2]=parseInt(t.slice(n,n+2),16);return r}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(108     ),o=t(333       );a.postImageToUpnode=function(e,a,t){return null==t&&(t="image/png"),n.default({method:n.default.Methods.POST,url:"/api/upnode/image",data:a,raw:!0,params:{purpose:e,sha1:o.sha1OfUint8Array(a)},headers:{"Content-Type":t}})}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(91                  ),a=t(334         ),i=t(93                                   ),n=t(100                               );!function(e){e.editorInit=o.actionCreator("AVATAR_EDITOR_INIT"),e.editorUpload=n.asyncActionCreator("AVATAR_EDITOR_UPLOAD",(r,t)=>{let o=a.postImageToUpnode("profile",t.small),n=a.postImageToUpnode("profile",t.large);Promise.all([o,n]).then(function(o){let a=JSON.parse(o[0].response).meta.url,i=JSON.parse(o[1].response).meta.url;r.dispatch(e.editorUploaded({entity:t.entity,entityType:t.entityType,smallUrl:a,largeUrl:i}))},t=>{r.dispatch(i.flash.error("An error occurred while uploading the image.")),console.error("An error occurred while uploading the image",t),r.dispatch(e.editorReset())})}),e.editorUploaded=o.actionCreator("AVATAR_EDITOR_UPLOADED"),e.editorReset=o.actionCreator("AVATAR_EDITOR_RESET")}(r.avatar||(r.avatar={}))}),
(function(t,I,e){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),function(t){t[t.CURRENT_USER=0]="CURRENT_USER",t[t.TEAM=1]="TEAM",t[t.ORG=2]="ORG"}(I.EntityType||(I.EntityType={})),function(t){t[t.INIT=0]="INIT",t[t.POSITIONING=1]="POSITIONING",t[t.UPLOADING=2]="UPLOADING"}(I.AvatarEditorStatus||(I.AvatarEditorStatus={}))}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=e(335                               ),s=e(336                             ),n={status:s.AvatarEditorStatus.INIT,entity:null};function o(t=n,a){return i.avatar.editorInit.matches(a)?{file:a.payload.file,entity:a.payload.entity,entityType:a.payload.entityType,status:s.AvatarEditorStatus.POSITIONING,shape:a.payload.shape}:i.avatar.editorUpload.matches(a)?Object.assign(Object.assign({},t),{status:s.AvatarEditorStatus.UPLOADING,entity:a.payload.entity,entityType:a.payload.entityType}):i.avatar.editorReset.matches(a)?Object.assign({},n):t}a.avatarEditorState=o,a.default=o}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createReducerWithPrecheck=function(e,n){const t=e.bind(null);return t.shouldIgnoreAction=n.shouldIgnoreAction,t},n.reduceObject=function(e,n,t){if(t.shouldIgnoreAction(n))return e;let u=null;for(let l of Object.keys(e)){let r=l,o=t(e[r],n);e[r]!==o&&null===u&&(u=Object.assign({},e)),u&&(u[r]=o)}return u||e},n.reduceList=function(e,n,t){if(t.shouldIgnoreAction(n))return e;let u=null;for(let l=0;l<e.length;l++){let r=t(e[l],n);e[l]!==r&&null===u&&(u=e.slice(0,l)),u&&u.push(r)}return u||e}}),
(function(t,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=_(91                  );!function(t){t.openFileInput=o.actionCreator("FILE_IMPORT_OPEN_FILE_INPUT"),t.openSketchFileInput=o.actionCreator("FILE_IMPORT_OPEN_SKETCH_FILE_INPUT"),t.startDrag=o.actionCreator("FILE_IMPORT_START_DRAG"),t.stopDrag=o.actionCreator("FILE_IMPORT_STOP_DRAG"),t.addToQueue=o.actionCreator("FILE_IMPORT_ADD_TO_QUEUE"),t.updateItem=o.actionCreator("FILE_IMPORT_UPDATE_ITEM"),t.inputChange=o.actionCreator("FILE_IMPORT_INPUT_CHANGE"),t.drop=o.actionCreator("FILE_IMPORT_DROP"),t.processNextInQueue=o.actionCreator("FILE_IMPORT_PROCESS_NEXT_IN_QUEUE"),t.doneProcessingFile=o.actionCreator("FILE_IMPORT_DONE_PROCESSING_FILE"),t.resetImports=o.actionCreator("FILE_IMPORT_CLEAR_IMPORTS"),t.cancelImport=o.actionCreator("FILE_IMPORT_CANCEL")}(e.fileImport||(e.fileImport={}))}),
(function(t,e,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SUCCESS=0]="SUCCESS",t[t.WARNING=1]="WARNING",t[t.FAILURE=2]="FAILURE",t[t.BUSY=3]="BUSY",t[t.WAITING=4]="WAITING",t[t.CANCELED=5]="CANCELED"}(e.FileImportStatus||(e.FileImportStatus={}))}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(338                                 ),r=t(339                                    ),a=t(340                           );var c=0;const n=i.createReducerWithPrecheck((e,s)=>r.fileImport.updateItem.matches(s)&&s.payload.id===e.id?Object.assign(Object.assign({},e),s.payload):e,{shouldIgnoreAction:e=>!r.fileImport.updateItem.matches(e)});function o(e,s){if(!e)return c=0,{isDraggingImport:!1,queue:[],files:{},isProcessingFile:!1};if(r.fileImport.startDrag.matches(s))return Object.assign(Object.assign({},e),{isDraggingImport:!0});if(r.fileImport.stopDrag.matches(s))return Object.assign(Object.assign({},e),{isDraggingImport:!1});if(r.fileImport.drop.matches(s))return Object.assign(Object.assign({},e),{isDraggingImport:!1});if(r.fileImport.addToQueue.matches(s)){let t={id:c++,name:s.payload.name,bytes:s.payload.bytes,status:a.FileImportStatus.WAITING},i=Object.assign(Object.assign({},e.files),{[t.id]:t}),r=e.queue.slice();return r.push(t.id),Object.assign(Object.assign({},e),{files:i,queue:r})}if(r.fileImport.updateItem.matches(s)){let t=i.reduceObject(e.files,s,n);return t!==e.files?Object.assign(Object.assign({},e),{files:t}):e}return r.fileImport.processNextInQueue.matches(s)?e.isProcessingFile?e:Object.assign(Object.assign({},e),{isProcessingFile:!0}):r.fileImport.doneProcessingFile.matches(s)?e.queue.length?Object.assign(Object.assign({},e),{queue:e.queue.slice(1),isProcessingFile:!1}):e:r.fileImport.cancelImport.matches(s)?e:r.fileImport.resetImports.matches(s)?e.queue.length?e:{isDraggingImport:!1,queue:[],files:{},isProcessingFile:!1}:e}s.fileImport=o,s.default=o}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(108     ),a=o(91                  ),T=o(100                               ),i=o(99                      );var E;(E=t.prototype||(t.prototype={})).post=T.asyncActionCreator("PROTOTYPE_POST",(e,t)=>{r.default.post(`/api/files/${t.fileKey}/prototype`,{page_id:t.pageId,name:t.name}).then(({data:t})=>{e.dispatch(E.markViewed({fileKey:t.meta.file_key,pageId:t.meta.page_id}))}).catch(e=>{})}),E.reset=a.actionCreator("PROTOTYPE_RESET"),E.setShowHotspots=a.actionCreator("PROTOTYPE_SHOW_HOTSPOTS"),E.setTriggerHotspots=a.actionCreator("PROTOTYPE_TRIGGER_HOTSPOTS"),E.disableHotspotsTemp=a.actionCreator("PROTOTYPE_RESET_HOTSPOTS"),E.setHoverCursor=a.actionCreator("PROTOTYPE_SET_HOVER_CURSOR"),E.showComments=a.actionCreator("PROTOTYPE_SHOW_COMMENTS"),E.hideComments=a.actionCreator("PROTOTYPE_HIDE_COMMENTS"),E.setShowResolvedComments=a.actionCreator("PROTOTYPE_SHOW_RESOLVED_COMMENTS"),E.setShowOnlyParticipatingComments=a.actionCreator("PROTOTYPE_SHOW_ONLY_MY_COMMENTS"),E.setScalingMode=a.actionCreator("PROTOTYPE_SET_SCALING_MODE"),E.setCurrentIndex=a.actionCreator("PROTOTYPE_SET_CURRENT_INDEX"),E.setFrameIds=a.actionCreator("PROTOTYPE_SET_FRAME_IDS"),E.setPages=a.actionCreator("PROTOTYPE_SET_PAGES"),E.setCurrentPageId=a.actionCreator("PROTOTYPE_SET_CURRENT_PAGE"),E.setBackgroundColor=a.actionCreator("PROTOTYPE_SET_BACKGROUND_COLOR"),E.trackEvent=a.actionCreator("PROTOTYPE_TRACK_EVENT"),E.setProgressBarMode=a.actionCreator("PROTOTYPE_SET_PROGRESS_BAR_MODE"),E.setIsReconnecting=a.actionCreator("PROTOTYPE_SET_IS_RECONNECTING"),E.recentPrototypePost=a.actionCreator("RECENT_PROTOTYPE_POST"),E.recentPrototypeDel=a.actionCreator("RECENT_PROTOTYPE_DELETE"),E.resetRecents=a.actionCreator("PROTOTYPE_RESET_RECENTS"),E.setRecents=T.asyncActionCreator("PROTOTYPE_SET_RECENTS",(e,t)=>{const o=t.orgId?{org_id:t.orgId}:void 0;r.default.get("/api/recent_prototypes",o).then(({data:t})=>{e.dispatch(E.resetRecents());for(let o of t.meta)e.dispatch(E.recentPrototypePost({prototype:o}))}).catch(e=>{})}),E.markViewed=T.asyncActionCreator("RECENT_PROTOTYPE_MARK_VIEWED",(e,t)=>{r.default.post(`/api/files/${t.fileKey}/prototype/view`,{page_id:t.pageId}).then(({data:t})=>{e.dispatch(E.recentPrototypePost({prototype:t.meta}))}).catch(e=>{})}),E.unmarkViewed=T.asyncActionCreator("RECENT_PROTOTYPE_UNMARK_VIEWED",(e,t)=>{let o=r.default.del(`/api/files/${t.fileKey}/prototype/view`,{page_id:t.pageId});i.optimisticRequestWithErrorHandling({requestPromise:o,fallbackError:"An error occurred while removing this prototype from Recently Viewed.",store:e,next:e.dispatch,action:E.recentPrototypeDel({fileKey:t.fileKey,pageId:t.pageId})})})}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(280                             ),i=s(188                               ),c=s(338                ),n=s(119                    );a.isFileOrgBrowsable=function(e){return!(!e||!e.org_browsable||e.link_access!==n.LinkAccess.ORG_EDIT&&e.link_access!==n.LinkAccess.ORG_VIEW)},a.file=c.createReducerWithPrecheck(function(e,a){if(i.folder.del.matches(a)&&e.folder_id&&a.payload.folderIds.indexOf(e.folder_id)>-1)return Object.assign(Object.assign({},e),{folder_id:null});if(!(a.payload&&a.payload.file&&e&&a.payload.file.key===e.key))return e;if(t.file.beginRenaming.matches(a))return Object.assign(Object.assign({},e),{appData:{isRenaming:!0}});if(t.file.stopRenaming.matches(a))return Object.assign(Object.assign({},e),{appData:{isRenaming:!1}});if(t.file.recentFilePut.matches(a)||t.file.put.matches(a)||t.file.recentFilePost.matches(a)||t.file.post.matches(a)){if(e.appData)return Object.assign(Object.assign(Object.assign({},e),a.payload.file),{appData:e.appData});{const{accessed_at:s}=e||{};return Object.assign({accessed_at:s},a.payload.file)}}return t.file.fetchedRoles.matches(a)?Object.assign(Object.assign({},e),{appData:Object.assign(Object.assign({},e.appData),{fetchedRoles:!0})}):e},{shouldIgnoreAction:e=>!(i.folder.del.matches(e)||t.file.beginRenaming.matches(e)||t.file.stopRenaming.matches(e)||t.file.recentFilePut.matches(e)||t.file.put.matches(e)||t.file.recentFilePost.matches(e)||t.file.post.matches(e)||t.file.fetchedRoles.matches(e))})}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const l=t(188                               ),a=t(280                             ),s=t(113                                     ),r=t(342                                  ),f=t(338                                 ),o=t(85                   ),n=t(343                      );i.fileByKey=function(e={},i){if(s.fileBrowser.hydrate.matches(i)){let t={};for(let e of i.payload.recent_files||[])t[e.key]=e;for(let e of i.payload.files||[])t[e.key]=e;for(const i in e){const l=e[i],a=t[i];l&&a&&l.updated_at>a.updated_at&&(t[i]=l)}let l=o.initialOptions().editing_file;return l&&!t[l.key]&&(t[l.key]=l),t}if(a.file.recentFilePut.matches(i)||a.file.put.matches(i)||a.file.recentFilePost.matches(i)||a.file.post.matches(i)){let t=i.payload.file;return t.key in e?Object.assign(Object.assign({},e),{[t.key]:n.file(e[t.key],i)}):Object.assign(Object.assign({},e),{[t.key]:t})}if(r.prototype.recentPrototypePost.matches(i)){let t=i.payload.prototype.fig_file;if(!(t.key in e))return Object.assign(Object.assign({},e),{[t.key]:t})}else{if(s.fileBrowser.setDeletedFiles.matches(i)){let t=Object.assign({},e);return i.payload.deletedFiles.forEach(e=>{t[e.key]=e}),t}if(a.file.deleteFiles.matches(i)){let t,l=i.payload.fileKeys;for(let i in l)e[i]&&(t||(t=Object.assign({},e)),t[i]=Object.assign({},t[i]),t[i].trashed_at=(new Date).getTime());return t||e}if(a.file.deleteFilesForever.matches(i)){let t=null,l=i.payload.fileKeys;for(let i in l)e[i]&&(t||(t=Object.assign({},e)),delete t[i]);return t||e}}return f.reduceObject(e,i,n.file)},i.fileKeysByFolderId=function(e,i){if(!e)return{};if(s.fileBrowser.hydrate.matches(i)){let e={};for(let t of i.payload.folders||[])e[t.id]=[];for(let t of i.payload.files||[])t.folder_id&&(e[t.folder_id]||(e[t.folder_id]=[]),e[t.folder_id].push(t.key));return e}if(a.file.move.matches(i)){let t=Object.assign({},e),l={};for(let e of i.payload.files)l[e.key]=!0;for(let i in e)t[i]=t[i].filter(e=>!l[e]);for(let e in l)t[i.payload.folderId].push(e);return t}if(a.file.put.matches(i)){const t=i.payload.file.folder_id,l=i.payload.file.key;if(!t)return e;if(e[t]&&-1!==e[t].indexOf(l))return e;let a=Object.assign({},e);for(let e in a){let i=a[e],t=i.indexOf(l);-1!=t&&(a[e]=i.slice(0,t).concat(i.slice(t+1)))}return a[t]||(a[t]=[]),a[t].push(l),a}if(a.file.post.matches(i)){let t=i.payload.file.folder_id,l=i.payload.file;if(!t||null!=e[t]&&-1!==e[t].indexOf(l.key))return e;let a=Object.assign({},e);return a[t]||(a[t]=[]),a[t].push(l.key),a}if(a.file.restoreTrashedFiles.matches(i)){let t=Object.assign({},e);for(let e in i.payload.fileKeys){let l=i.payload.fileKeys[e].folder_id;l&&(l in t||(t[l]=[]),-1===t[l].indexOf(e)&&t[l].push(e))}return t}if(a.file.deleteFiles.matches(i)){let t=Object.assign({},e);for(let e in t)t[e]=t[e].filter(e=>!i.payload.fileKeys[e]);return t}if(l.folder.post.matches(i)){let t=Object.assign({},e);return t[i.payload.id]=[],t}if(l.folder.del.matches(i)){const t=Object.assign({},e);return i.payload.folderIds.forEach(e=>{delete t[e]}),t}return e},i.fileKeysByRepoId=function(e={},i){if(s.fileBrowser.hydrate.matches(i)){const e={};return(i.payload.files||[]).forEach(i=>{i.file_repo_id&&(i.file_repo_id in e||(e[i.file_repo_id]=[]),e[i.file_repo_id].push(i.key))}),e}if(a.file.post.matches(i)){const t=i.payload.file.key,l=i.payload.file.file_repo_id;if(!l)return e;if(e[l]&&-1!==e[l].indexOf(t))return e;const a=e[l]||[];return Object.assign(Object.assign({},e),{[l]:[...a,t]})}return e},i.pinnedFileKeyToUserNameByFolderId=function(e={},i){if(!e)return{};if(l.folder.setPinnedFiles.matches(i)){const t=Object.assign({},e);return t[i.payload.folderId]=i.payload.fileKeysToUserName,t}if(l.folder.postPinnedFile.matches(i)){if(!e[i.payload.folderId])return e;const t=Object.assign({},e);return t[i.payload.folderId]=Object.assign(Object.assign({},t[i.payload.folderId]),{[i.payload.fileKey]:""}),t}if(l.folder.delPinnedFile.matches(i)){if(!e[i.payload.folderId])return e;const t=Object.assign({},e);return t[i.payload.folderId]=Object.assign({},t[i.payload.folderId]),delete t[i.payload.folderId][i.payload.fileKey],t}if(a.file.deleteFiles.matches(i)){const t=Object.assign({},e),l=i.payload.fileKeys;for(const e in l){const i=l[e].folder_id;i&&t[i]&&(t[i]=Object.assign({},t[i]),delete t[i][e])}return t}return e}}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=t(113                                     ),i=t(85                   ),r=t(323                             ),a=t(338                ),c=a.createReducerWithPrecheck((e,o)=>r.repoActions.fetchedRoles.matches(o)?o.payload.repo.id!==e.id?e:Object.assign(Object.assign({},e),{appData:Object.assign(Object.assign({},e.appData),{fetchedRoles:!0})}):e,{shouldIgnoreAction:e=>!r.repoActions.fetchedRoles.matches(e)});o.repos=function(e={},o){if(s.fileBrowser.hydrate.matches(o)){const e={};(o.payload.repos||[]).forEach(o=>{e[o.id]=o});const t=i.default().editing_file_repo;return t&&!e[t.id]&&(e[t.id]=t),e}if(r.repoActions.post.matches(o)){const{repo:t}=o.payload;return Object.assign(Object.assign({},e),{[t.id]:t})}return a.reduceObject(e,o,c)},o.repoIdsByFolderId=function(e={},o){if(s.fileBrowser.hydrate.matches(o)){const e={};return(o.payload.repos||[]).forEach(o=>{o.folder_id in e||(e[o.folder_id]=[]),e[o.folder_id].push(o.id)}),e}if(r.repoActions.post.matches(o)){const t=o.payload.repo.id,s=o.payload.repo.folder_id;if(e[s]&&-1!==e[s].indexOf(t))return e;const i=e[s]||[];return Object.assign(Object.assign({},e),{[s]:[...i,t]})}return e}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(179        );var s;!function(e){e.FILE="FILE",e.PROTOTYPE="PROTOTYPE"}(s=t.TileType||(t.TileType={}));t.GenericTileWrapper=class{static getId(e){switch(e.type){case s.FILE:return e.file.key;case s.PROTOTYPE:return e.prototype.file_key+","+e.prototype.page_id;default:a.assertNever(e)}}static getName(e){switch(e.type){case s.FILE:return e.file.name;case s.PROTOTYPE:return e.prototype.fig_file.name+" - "+e.prototype.name;default:a.assertNever(e)}}static getAccessedAt(e){switch(e.type){case s.FILE:return e.file.accessed_at;case s.PROTOTYPE:return e.prototype.accessed_at;default:a.assertNever(e)}}static getCreatedAt(e){switch(e.type){case s.FILE:return e.file.created_at;case s.PROTOTYPE:return e.prototype.fig_file.created_at;default:a.assertNever(e)}}}}),
(function(e,T,i){"use strict";Object.defineProperty(T,"__esModule",{value:!0});const l=i(346                         );T.TileSelectionType={FILES:"FILES",PINNED_FILES:"PINNED_FILES",PROTOTYPES:"PROTOTYPES"},T.TileTypeToSelectionType={[l.TileType.FILE]:T.TileSelectionType.FILES,[l.TileType.PROTOTYPE]:T.TileSelectionType.PROTOTYPES}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=i(91                  );!function(e){e.selectTiles=c.actionCreator("SELECT_TILES"),e.deselectTiles=c.actionCreator("DESELECT_TILES"),e.resetTileSelection=c.actionCreator("RESET_TILE_SELECTION")}(t.tileSelect||(t.tileSelect={}))}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=l(280                             ),n=l(346                         ),c=l(347                           ),T=l(348                                    );function o(){return{[c.TileSelectionType.FILES]:{},[c.TileSelectionType.PINNED_FILES]:{},[c.TileSelectionType.PROTOTYPES]:{}}}function S(e){return{[c.TileSelectionType.FILES]:Object.assign({},e[c.TileSelectionType.FILES]),[c.TileSelectionType.PINNED_FILES]:Object.assign({},e[c.TileSelectionType.PINNED_FILES]),[c.TileSelectionType.PROTOTYPES]:Object.assign({},e[c.TileSelectionType.PROTOTYPES])}}function p(e,t){if(!e)return o();if(T.tileSelect.selectTiles.matches(t)){let l=S(e);for(let e of t.payload.tiles)l[t.payload.type][n.GenericTileWrapper.getId(e)]=!0;return t.payload.type===c.TileSelectionType.PINNED_FILES?(l[c.TileSelectionType.FILES]={},l[c.TileSelectionType.PROTOTYPES]={}):l[c.TileSelectionType.PINNED_FILES]={},l}if(T.tileSelect.deselectTiles.matches(t)){let l=S(e);for(let e of t.payload.tileKeys)delete l[c.TileSelectionType.FILES][e],delete l[c.TileSelectionType.PINNED_FILES][e],delete l[c.TileSelectionType.PROTOTYPES][e];return l}if(T.tileSelect.resetTileSelection.matches(t))return o();if(i.file.deleteFiles.matches(t)){let l=S(e);for(const e in t.payload.fileKeys)delete l[c.TileSelectionType.FILES][e],delete l[c.TileSelectionType.PINNED_FILES][e];return l}return e}t.numTilesSelected=function(e){let t=0;if(e)for(let l of Object.keys(e))t+=Object.keys(e[l]).length;return t},t.tileSelect=p,t.default=p}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(113                                     ),r=t(280                             );function a(e={},s){if(r.file.deleteFiles.matches(s)){if(e.results){let t=Object.assign({},e);return t.results=e.results.filter(e=>!s.payload.fileKeys[e.key]),t}}else{if(i.fileBrowser.setFileSearchQuery.matches(s))return Object.assign(Object.assign({},e),{query:s.payload.query});if(i.fileBrowser.setFileSearchResults.matches(s))return Object.assign(Object.assign({},e),{results:s.payload.results})}return e}s.fileSearch=a,s.default=a}),
(function(e,S,E){"use strict";var a,r;Object.defineProperty(S,"__esModule",{value:!0}),function(e){e.FILES="files",e.PROJECTS="projects",e.TEAMS="teams",e.USERS="users",e.HUB_FILES="hub_files",e.PUBLIC_PLUGINS="public_plugins",e.PRIVATE_PLUGINS="private_plugins",e.PUBLIC_PROFILES="public_profiles"}(a=S.SearchModelType||(S.SearchModelType={})),function(e){e.ORG="internal",e.ORG_GUEST="internal_guest",e.PERSONAL="personal",e.COMMUNITY="community"}(r=S.SearchScope||(S.SearchScope={})),S.scopeDefinitions={[r.ORG]:{modelTypes:[a.FILES,a.PROJECTS,a.USERS,a.TEAMS,a.PRIVATE_PLUGINS],correspondingModelTypes:{[a.HUB_FILES]:a.FILES,[a.PUBLIC_PROFILES]:a.USERS,[a.PUBLIC_PLUGINS]:a.PRIVATE_PLUGINS},defaultModelType:a.FILES},[r.ORG_GUEST]:{modelTypes:[a.FILES,a.PROJECTS,a.USERS,a.TEAMS],correspondingModelTypes:{[a.HUB_FILES]:a.FILES,[a.PUBLIC_PROFILES]:a.USERS},defaultModelType:a.FILES},[r.PERSONAL]:{modelTypes:[a.FILES,a.PROJECTS,a.USERS],correspondingModelTypes:{[a.HUB_FILES]:a.FILES,[a.PUBLIC_PROFILES]:a.USERS},defaultModelType:a.FILES},[r.COMMUNITY]:{modelTypes:[a.HUB_FILES,a.PUBLIC_PLUGINS,a.PUBLIC_PROFILES],correspondingModelTypes:{[a.FILES]:a.HUB_FILES,[a.USERS]:a.PUBLIC_PROFILES,[a.PRIVATE_PLUGINS]:a.PUBLIC_PLUGINS},defaultModelType:a.HUB_FILES}},function(e){e.NAME="name",e.AUTHOR_NAME="author_name",e.UPDATED_AT="updated_at",e.INSTALL_COUNT="install_count",e.POPULARITY="popularity",e.RELEVANCY="relevancy"}(S.PublicPluginSearchSortKeys||(S.PublicPluginSearchSortKeys={})),function(e){e.NAME="name",e.AUTHOR_NAME="author_name",e.UPDATED_AT="updated_at",e.INSTALL_COUNT="install_count",e.RELEVANCY="relevancy"}(S.PrivatePluginSearchSortKeys||(S.PrivatePluginSearchSortKeys={})),function(e){e.POPULARITY="popularity",e.RECENCY="recency"}(S.HubFileSearchSortKeys||(S.HubFileSearchSortKeys={})),function(e){e.RELEVANCY="relevancy",e.NAME="name",e.TOUCHED_AT="touched_at",e.CREATED_AT="created_at"}(S.FileSearchSortKeys||(S.FileSearchSortKeys={})),function(e){e.RELEVANCY="relevancy",e.NAME="name",e.FILES_LAST_TOUCHED_AT="files_last_touched_at",e.CREATED_AT="created_at",e.FILE_COUNT="file_count"}(S.ProjectSearchSortKeys||(S.ProjectSearchSortKeys={})),function(e){e.RELEVANCY="relevancy",e.NAME="name",e.FILES_LAST_TOUCHED_AT="files_last_touched_at",e.CREATED_AT="created_at",e.MEMBER_COUNT="member_count"}(S.TeamSearchSortKeys||(S.TeamSearchSortKeys={})),function(e){e.RELEVANCY="relevancy",e.NAME="name",e.EMAIL="email"}(S.UserSearchSortKeys||(S.UserSearchSortKeys={})),S.searchModelTypeDisplayName={[a.FILES]:"files",[a.PROJECTS]:"projects",[a.TEAMS]:"teams",[a.USERS]:"people",[a.HUB_FILES]:"files",[a.PUBLIC_PLUGINS]:"plugins",[a.PRIVATE_PLUGINS]:"plugins",[a.PUBLIC_PROFILES]:"creators"},S.searchScopeDisplayName={[r.COMMUNITY]:"Community",[r.PERSONAL]:"Drafts and Teams"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=o(91                  );!function(t){t.putLoading=a.actionCreator("LOADING_STATE_PUT_LOADING"),t.putSuccess=a.actionCreator("LOADING_STATE_PUT_SUCCESS"),t.putFailure=a.actionCreator("LOADING_STATE_PUT_FAILURE"),t.del=a.actionCreator("LOADING_STATE_DEL")}(e.loadingStateActions||(e.loadingStateActions={}))}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=e(352                                      );a.registerLoadingState=function(t,a,e){a.dispatch(i.loadingStateActions.putLoading({key:e})),t.then(()=>{a.dispatch(i.loadingStateActions.putSuccess({key:e}))}).catch(()=>{a.dispatch(i.loadingStateActions.putFailure({key:e}))})}}),
(function(e,c,r){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const a=r(179        ),S=r(125                        ),s=r(351                      );c.getInactiveScope=((e,c)=>{switch(e){case s.SearchScope.COMMUNITY:return c.currentOrgId?S.canMemberOrg(c.currentOrgId,c)?s.SearchScope.ORG:s.SearchScope.ORG_GUEST:s.SearchScope.PERSONAL;case s.SearchScope.ORG:case s.SearchScope.ORG_GUEST:case s.SearchScope.PERSONAL:return s.SearchScope.COMMUNITY;default:a.assertNever(e)}})}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=t(111          );function r(){return`${(new Date).getTime().toString(36)}-${Math.random().toString(36).substring(2)}`}e.IGNORE_CLICK_CAPTURE="!capture";const o=(s,e)=>{n.segment.track(s,e)};e.newQueryId=r,function(s){s.Analytics=class{constructor(s,e){this.state=s,this.info=e}update(s,e){this.state=s,this.info=e}click(s,n){const r=this.state.responses?this.state.responses[s]:null;r?o("search_result_clicked",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({session_id:this.state.sessionId,query_id:this.state.queryId},e(this.state,s)),t(r,s)),this.info),{action:"click"}),n)):console.error("Cannot record click event on null response")}};const e=(s,e)=>{const t=null==s?void 0:s.responseSortState,n=e in t?t[e]:{};return{query:s.parameters.query,sortKey:n.sortKey||null,sortDesc:n.sortDesc||null,scope:s.parameters.searchScope||null}},t=(s,e)=>{var t;let n=null;for(let r=0;r<s.results.length;r++){if(s.results[r].is_deep_search){n=r;break}}return{category:e,time:(null===(t=s.metrics)||void 0===t?void 0:t.roundTripTime)||null,count:s.results.length,deep_search_start_position:n}};let n;!function(s){s.start=((s,e)=>{const t=r();return o("search_start",{session_id:t,entry_point:e.entryPoint}),Object.assign(Object.assign({},s),{sessionId:t,queryCount:0})}),s.incrementQueryCount=(s=>Object.assign(Object.assign({},s),{queryCount:s.queryCount+1})),s.trackResult=(s=>{if(!s.sessionId)return void console.error("Cannot log query results w/o a sessionId");if(!s.responses)return void console.error("Cannot log query results without responses");const n=s.parameters.searchModelType,r=s.responses?s.responses[n]:null;r?o("search_query_result",Object.assign(Object.assign({session_id:s.sessionId,query_id:s.queryId},e(s,n)),t(r,n))):console.error("Cannot log query results w/o a response",n)}),s.trackEnd=(s=>{s.sessionId?o("search_end",{session_id:s.sessionId,queryCount:s.queryCount}):console.error("Cannot end session before without an active session")})}(n=s.Session||(s.Session={}))}(e.Search||(e.Search={}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(91                  );t.putCommunityProfile=i.actionCreator("COMMUNITY_HUB_ADD_COMMUNITY_PROFILE"),t.clearCommunityProfile=t.putCommunityProfile({})}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const r=t(125                        ),n=t(108     ),o=t(281                                        ),l=t(282             ),a=t(280                             );function s(e,i,t=!1,n){let o=Object.assign({},e);if(!t)return o;for(let l in e)l in i.fileByKey&&(r.canManageFile(l,i,n)||delete o[l]);return o}function f(e,i){return!!i.fileByKey[e].trashed_at}i.isTrashed=f,i.getDeleteFilesPayload=function(e,i,t=!1){let r=s(e,i,t,!0),n={};for(let o in r)f(o,i)||(n[o]=i.fileByKey[o]);return n},i.getDeleteFilesForeverPayload=function(e,i,t=!1){let n=s(e,i,t,!0),o={};for(let r in n)f(r,i)&&(o[r]=!0);for(let l in e)null===i.fileByKey[l].folder_id&&r.canEditFile(l,i,!0)&&(o[l]=!0);return o},i.getRestoreFilesPayload=function(e,i,t=!1){let r=s(e,i,t,!0),n={};for(let o in r)o in i.fileByKey&&f(o,i)&&i.fileByKey[o].folder_id&&(n[o]=i.fileByKey[o]);return n},i.fileBackgroundColor=function(e){let i="transparent";if(e)try{let r=JSON.parse(e).background_color,n=r.a;0!=n&&(i=`rgba(${255*r.r|0}, ${255*r.g|0}, ${255*r.b|0}, ${n})`)}catch(t){}return i},i.getRepoAwareFolderId=function(e,i){if(e.file_repo_id){const t=i[e.file_repo_id];if(!t)throw new Error(`Invalid repo ${e.file_repo_id}, referred to by file ${e.key}`);return t.folder_id}return e.folder_id},i.createSavepoint=((e,i,t="",r)=>{let s=r.getState().fileByKey[e];return null!=s?n.default.post(`/api/multiplayer/${e}/create_savepoint`).then(({data:e})=>{const n=e.meta;return r.dispatch(o.versionHistory.append({history:{versions:[n]},direction:l.PREV_PAGE})),r.dispatch(o.versionHistory.setDocHasChangedSinceLastSavepoint({status:!1})),r.dispatch(a.file.updateSavepoint({file:s,savepointID:n.id,label:i,description:t})),n}):Promise.resolve(null)})}),
(function(n,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLocalPlugin=function(n){return void 0!==n.localFileId},function(n){n[n.PUBLIC_PLUGINS_DISALLOWED=0]="PUBLIC_PLUGINS_DISALLOWED",n[n.PLUGIN_NOT_ORG_WHITELISTED=1]="PLUGIN_NOT_ORG_WHITELISTED",n[n.PLUGIN_INSTALLED_FOR_ORG=2]="PLUGIN_INSTALLED_FOR_ORG",n[n.PLUGIN_INSTALLED_FOR_USER=3]="PLUGIN_INSTALLED_FOR_USER",n[n.PLUGIN_INSTALLABLE=4]="PLUGIN_INSTALLABLE"}(e.PluginStatus||(e.PluginStatus={})),e.isManifestMenuCommand=function(n){return"command"in n&&"name"in n},e.isManifestMenuSeparator=function(n){return"separator"in n&&n.separator},e.isManifestSubmenu=function(n){return"name"in n&&"menu"in n},e.relaunchMixedDescription=Symbol("relaunchMixedDescription"),e.pluginErrorToString=function({type:n,text:e}){switch(n){case"LOAD":return"Manifest load error: "+e;case"PARSE":return"Manifest not valid JSON: "+e;case"VALIDATE":return"Manifest error: "+e}},function(n){n.ORG="ORG",n.PUBLIC="PUBLIC"}(e.RoleToPublishAs||(e.RoleToPublishAs={})),function(n){n.NAME="name",n.PUBLISHER="publisher",n.INSTALLS="installs",n.CREATED_AT="created_at"}(e.PluginsSortType||(e.PluginsSortType={}))}),
(function(r,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=i(125            ),s=i(125                        ),u=i(358                       );e.isAuthorInScope=((r,e)=>r.roles.org?r.roles.org.id===e.currentOrgId:r.publisher.org_id?r.publisher.org_id===e.currentOrgId:r.publisher.team_id?r.publisher.team_id in e.teams:null==e.currentOrgId),e.pluginOrgEqualsOrgEntity=((r,e)=>{const i=(r.roles.org||r.roles.is_public&&r.publisher.org_id)&&!e,t=r.roles.is_public&&!r.publisher.org_id&&e,s=e&&(r.roles.org&&r.roles.org.id!==e||r.roles.is_public&&r.publisher.org_id&&r.publisher.org_id!==e);return!(i||t||s)}),e.isValidPluginRole=(r=>!0===r.is_public||null!=r.org),e.getDefaultRoleToPublishAsForPlugin=((r,i)=>e.isValidPluginRole(r.roles)&&e.pluginOrgEqualsOrgEntity(r,i)?r.roles.is_public||"pending_public"===r.approval_status?u.RoleToPublishAs.PUBLIC:u.RoleToPublishAs.ORG:i?r.approval_status||r.roles.is_public?u.RoleToPublishAs.PUBLIC:u.RoleToPublishAs.ORG:u.RoleToPublishAs.PUBLIC),e.getDefaultHubFilePublishingMetadataAuthor=((r,i,t)=>{const s=e.getAllowedAuthorsForHubFile(i,t);if(0===s.length)throw new Error("Called getDefaultHubFilePublishingMetadataAuthor when no valid author exists");return o(r,s)}),e.getDefaultPluginPublishingMetadataAuthor=((r,i,t)=>{const s=e.getAllowedAuthorsForPlugin(i,t);if(0===s.length)throw new Error("Called getDefaultPluginPublishingMetadataAuthor when no valid author exists");return o(r,s)});const o=(r,i)=>{if(0===i.length)throw new Error("Called getDefaultPublishingMetadataAuthor when no valid author exists");const t=(null==r?void 0:r.id)&&Object.keys(r.versions).length>0?e.publishingMetadataAuthorFromHubResource(r):null;if(t&&i.some(r=>e.arePublishingMetadataAuthorsEqual(r,t)))return t;const s=i.find(e.isUserAuthor);if(s)return s;const u=i.find(e.isOrgAuthor);if(u)return u;const o=i.find(e.isTeamAuthor);return o||i[0]};e.arePublishingMetadataAuthorsEqual=((r,e)=>"team_id"in r?"team_id"in e&&r.team_id===e.team_id:"org_id"in r?"org_id"in e&&r.org_id===e.org_id:"user_id"in r&&("user_id"in e&&r.user_id===e.user_id)),e.publishingMetadataAuthorFromHubResource=(r=>r.publisher.org_id?{org_id:r.publisher.org_id}:r.publisher.team_id?{team_id:r.publisher.team_id}:{user_id:r.publisher.user_id}),e.isOrgAuthor=(r=>"org_id"in r),e.isTeamAuthor=(r=>"team_id"in r),e.isUserAuthor=(r=>"user_id"in r),e.getAllowedAuthorsForHubFile=((r,e)=>{const i=[];if(!t.canEditFile(r.key,e))return[];if(e.currentOrgId){const u=e.orgById[e.currentOrgId];if(!u)return[];if(t.canAdminOrg(e.currentOrgId,e)&&i.push({org_id:e.currentOrgId}),r.team_id&&e.teams[r.team_id]){if("secret"===e.teams[r.team_id].org_access)return[];(u.public_links_banned?t.canAdminOrg(e.currentOrgId,e):s.canAdminTeam(r.team_id,e))&&i.push({team_id:r.team_id})}return i}return r.team_id?(s.canAdminTeam(r.team_id,e)&&i.push({team_id:r.team_id}),i.push({user_id:e.user.id}),i):[{user_id:e.user.id}]}),e.getAllowedAuthorsForPlugin=((r,e)=>{const i=[];return e.currentOrgId&&t.canAdminOrg(e.currentOrgId,e)&&i.push({org_id:e.currentOrgId}),Object.keys(e.teams).forEach(r=>{const t=e.teams[r];t&&"secret"!==t.org_access&&s.canAdminTeam(r,e)&&i.push({team_id:r})}),e.currentOrgId&&r!==u.RoleToPublishAs.ORG||i.push({user_id:e.user.id}),i})}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(215                                          ),l=i(301                        ),u=i(304              ),r=i(359                                 ),o=i(303                 ),s=i(105        ),a=i(261                               ),c=i(320                              ),_=i(202                            );t.emptyHubFileVersion={id:"",hub_file_id:"",fig_file_version_id:"",name:"",version:"",release_notes:"",description:"",created_at:"",signed_cover_image_url:"",valid_prototype:!0},t.emptyHubFile={id:"",creator:{id:"",handle:"",img_url:""},publisher:{id:"",name:"",img_url:"",profile_handle:"",user_id:null,team_id:null,org_id:null,current_user_is_following:!1,location:null,follower_count:0,following_count:0},versions:{},current_hub_file_version_id:"",redirect_canvas_url:"",redirect_thumbnail_url:"",redirect_canvas_thumbnail_url:"",created_at:"",unpublished_at:null,duplicate_count:0,like_count:0,view_count:0,viewer_mode:l.ViewerModeToPublishAs.CANVAS,scaling_mode:null,support_contact:null,realtime_token:"",client_meta:"",tags:[],hide_remixes:!1,thumbnail_is_set:!1,current_user_liked:!1,is_pinned:!1};const d={name:"",description:"",supportContact:"",tags:c.getDefaultAutocompleteValue(),viewerModeToPublishAs:l.ViewerModeToPublishAs.CANVAS,scalingMode:null,author:{user_id:""},thumbnailIsSet:!1};function m(e,i){return u.getById(e,i,t.emptyHubFile)}function p(e,i){const n=i||e.current_hub_file_version_id;return u.getById(n,e.versions,t.emptyHubFileVersion)}t.getHubFileIdFromShareUrl=function(e){const t=e.match(/\/community\/file\/(\d+)/);return t&&t[1]?t[1]:null},t.getHubFileById=m,t.getHubFileVersion=p,t.getDefaultHubFileVersionMetadata=function(e,t,i){const n=m(e.figFilePublishedAsHubFile[t],e.hubFiles),u=p(n),o=d,s=e.fileByKey[t];let b=i?n.viewer_mode:l.ViewerModeToPublishAs.CANVAS;i||n.viewer_mode!==l.ViewerModeToPublishAs.PROTOTYPE||a.PrototypingHelpers.firstPagePrototypeStatus()!==a.PrototypeStatus.VALID||(b=l.ViewerModeToPublishAs.PROTOTYPE);const g=Object.assign(Object.assign({},c.getDefaultAutocompleteValue()),{tokens:(n.tags||[]).map(e=>({user:null,email:e,state:_.AutocompleteTokenState.OK}))});return{name:u.name||("Untitled"===s.name?"":s.name),description:u.description||o.description,supportContact:n.support_contact||o.supportContact,tags:g,viewerModeToPublishAs:b,scalingMode:n.scaling_mode,author:r.getDefaultHubFilePublishingMetadataAuthor(n,s,e),thumbnailIsSet:!!s.thumbnail_guid}},t.validateHubFilePublishForm=function(e){const t={},i=u.trimString(e.name||null).length;0===i?t.name="Name must not be empty":i>100&&(t.name="Name must be at most 100 characters long"),u.trimString(e.description||null).length>1e4&&(t.description="Description must be at most 10000 characters long");const n=e.tags&&u.validateTags(e.tags);return n&&(t.tags=n),t},t.getThumbnailBufferForHubFile=(e=>{if(!n.fullscreen)return null;return n.fullscreen.DEPRECATED_sendMessage("generateThumbnailForNode",{guid:e,width:o.COVER_IMAGE_WIDTH,height:o.COVER_IMAGE_HEIGHT,maxScale:2}).buffer}),t.filterProfileHubFiles=((e,t)=>Object.keys(e).reduce((i,n)=>{const l=e[n];return l.publisher.id===t&&(i[n]=l),i},{})),t.getHubFilesSortedByRecency=(e=>s.sortByCreatedAt(Object.keys(e).map(t=>e[t])))}),
(function(a,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=t(91                  );!function(a){a.init=r.actionCreator("AUTH_INIT"),a.realtimeInit=r.actionCreator("AUTH_REALTIME_INIT"),a.signIn=r.actionCreator("AUTH_SIGN_IN"),a.signUpExtraInfo=r.actionCreator("AUTH_SIGN_UP_EXTRA_INFO"),a.signUpGoBack=r.actionCreator("AUTH_SIGN_UP_GO_BACK"),a.signUp=r.actionCreator("AUTH_SIGN_UP"),a.resetPassword=r.actionCreator("AUTH_RESET_PASSWORD"),a.resendCode=r.actionCreator("AUTH_RESEND_CODE"),a.validateCode=r.actionCreator("VALIDATE_CODE"),a.sendEmailSamlStart=r.actionCreator("AUTH_SEND_EMAIL_SAML_START"),a.showForm=r.actionCreator("AUTH_SHOW_FORM"),a.sendPasswordReset=r.actionCreator("AUTH_SEND_PASSWORD_RESET"),a.showError=r.actionCreator("AUTH_SHOW_ERROR"),a.clearError=r.actionCreator("AUTH_CLEAR_ERROR"),a.showSuccess=r.actionCreator("AUTH_SHOW_SUCCESS"),a.complete=r.actionCreator("AUTH_COMPLETE"),a.changeEmail=r.actionCreator("AUTH_CHANGE_EMAIL"),a.changeName=r.actionCreator("AUTH_CHANGE_NAME"),a.changeHandle=r.actionCreator("AUTH_CHANGE_HANDLE"),a.toggleSMS=r.actionCreator("AUTH_TOGGLE_SMS"),a.requireTwoFactor=r.actionCreator("AUTH_REQUIRE_TWO_FACTOR"),a.sendSMS=r.actionCreator("AUTH_SEND_SMS"),a.changePasswordLength=r.actionCreator("AUTH_CHANGE_PASSWORD_LENGTH"),a.changeJob=r.actionCreator("AUTH_CHANGE_JOB"),a.changeOptInEmail=r.actionCreator("AUTH_CHANGE_OPT_IN_EMAIL"),a.spellcheckDomain=r.actionCreator("AUTH_SPELLCHECK_DOMAIN"),a.setDomainSuggestion=r.actionCreator("AUTH_SET_DOMAIN_SUGGESTION"),a.useDomainSuggestion=r.actionCreator("AUTH_USE_DOMAIN_SUGGESTION"),a.sendValidationEmail=r.actionCreator("AUTH_SEND_VALIDATION_EMAIL"),a.setGoogleIdToken=r.actionCreator("AUTH_SET_GOOGLE_ID_TOKEN"),a.samlStartFromSession=r.actionCreator("AUTH_SAML_START_FROM_SESSION"),a.emailOnly=r.actionCreator("AUTH_EMAIL_ONLY"),a.redeemReset=r.actionCreator("AUTH_REDEEM_RESET"),a.setRedirectUrl=r.actionCreator("AUTH_SET_REDIRECT_URL")}(o.auth||(o.auth={}))}),
(function(_,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthFormState={SIGN_IN:"sign_in",SAML_START:"saml_start",SIGN_UP:"sign_up",SIGN_UP_EXTRA_INFO:"sign_up_extra_info",FORGOT_PASSWORD:"forgot_password",SENT_PASSWORD_RESET:"sent_password_reset",RESET_PASSWORD:"reset_password",VALIDATE_EMAIL:"validate_email",VALIDATE_CODE:"validate_code",APP_AUTH_GRANT:"app_auth_grant",APP_AUTH_REDEEM:"app_auth_redeem",SSO_GATE:"sso_gate",EMAIL_ONLY:"email_only"},function(_){_[_.UNAUTHORIZED=0]="UNAUTHORIZED",_[_.BAD_REQUEST=1]="BAD_REQUEST",_[_.NO_SAML=2]="NO_SAML",_[_.SAML_REQUIRED=3]="SAML_REQUIRED"}(e.ErrorType||(e.ErrorType={})),e.AuthInputType={EMAIL:"email",PASSWORD:"password",VERIFICATION_CODE:"verification_code",TOTP_KEY:"totp_key",JOB_TITLE:"job_title",PROFILE_HANDLE:"profile_handle"},function(_){_.GOOGLE="google",_.SAML="saml"}(e.SSOMethod||(e.SSOMethod={})),function(_){_.DESKTOP="desktop",_.MOBILE="mobile"}(e.AppAuthAppType||(e.AppAuthAppType={}))}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=e(88           );let r=!1;s.disableIPCForTests=function(){r=!0};const l="ipc:";s.IPC=class{constructor(){this.storage=a.localStorageOrNull,this._onStorageEvent=(t=>{if(r)return;let s=t.key;if(t.storageArea===this.storage&&null!==t.newValue&&(null==s?void 0:s.startsWith(l))){let a=null;try{a=JSON.parse(t.newValue)[0]}catch(e){return}let r=null;for(const t of this.callbacks[s]||[])try{t(a)}catch(e){r=e}if(r)throw r}});const t=this.storage;if(t)for(const s of Object.keys(t))s.startsWith(l)&&delete t[s];this.callbacks={},window.addEventListener("storage",this._onStorageEvent,!1)}_callbacksForMessage(t){let s=l+t;return this.callbacks[s]||(this.callbacks[s]=[]),this.callbacks[s]}sendToOtherTabs(t,s){if(!r&&this.storage)try{this.storage[l+t]=JSON.stringify([s,Math.random()])}catch(e){console.error((e&&e.stack||e)+"")}}sendToAllTabs(t,s){let e=this._callbacksForMessage(t),a=null;for(const l of e)try{l(s)}catch(r){a=r}if(this.sendToOtherTabs(t,s),a)throw a}register(t,s){let e=this._callbacksForMessage(t);e.indexOf(s)<0&&e.push(s)}unregister(t,s){let e=this._callbacksForMessage(t),a=e.indexOf(s);a>=0&&e.splice(a,1)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormData=(e=>{const t=e.elements,n={};for(let l=0;l<t.length;l++){let e=t.item(l);e.name&&e.value&&(n[e.name]=e.value)}return n})}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(133        ),n=s(123         ),r=s(362                      );!function(e){e.validateSignInForm=(e=>{const s=e.email&&e.email.trim(),t=e.password&&e.password.trim();return a(t,s)}),e.validateSignUpForm=(e=>{const t=e.email&&e.email.trim(),n=e.password&&e.password.trim(),r=e.name&&e.name.trim();let i=a(n,t);return i.message||(i=s(n,t,r)),i});const a=(e,a)=>a?t.isEmail(a)?e?{message:"",invalidInput:null}:{message:"Please provide your password.",invalidInput:r.AuthInputType.PASSWORD}:{message:"Hmm, that email address doesn't look right.",invalidInput:r.AuthInputType.EMAIL}:{message:"Please provide your email.",invalidInput:r.AuthInputType.EMAIL},s=(e,a,s)=>{let t="";return n.encodeUTF8(e).length>500&&(t="Ok, that password is hilariously long!"),Array.from(e).length<8&&(t="Please set a password longer than eight characters."),e===a&&(t="Your email cannot be the same as your password."),s&&e===s&&(t="Your name cannot be the same as your password."),t?{message:t,invalidInput:r.AuthInputType.PASSWORD}:{message:"",invalidInput:null}}}(a.authHelpers||(a.authHelpers={}))}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=n(112          );o.reload=function(){r.locationReload("From window_helpers")}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(111          ),o=a(361             ),r=a(98                  ),i=a(362             ),n=a(108     ),h=a(112          ),m=a(133        ),u=a(85                   ),d=a(363      ),c=a(364               ),p=a(365                       ),l=a(129           ),_=a(366                           ),g=a(104              ),S=["logged_out_footer","prototype_header_nav","prototype_comment_signed_out"];e.authMiddleware=(t=>e=>(function(a){const f=t.getState(),I=e=>{console.error(e);let a=e.data;if(a&&a.reason&&"two_factor"===a.reason.missing){let e;return t.dispatch(o.auth.toggleSMS(a.reason.sms)),a.reason.phone_number&&(e=`SMS sent to ${a.reason.phone_number}`),void t.dispatch(o.auth.requireTwoFactor({required:!0,hint:e}))}let s,r,n=a&&a.message||"An error occurred";a&&401===a.status?s=i.ErrorType.UNAUTHORIZED:a&&400===a.status?s=i.ErrorType.BAD_REQUEST:a&&404===a.status&&"no_saml"===a.reason?s=i.ErrorType.NO_SAML:a&&403===a.status&&"saml_required"===a.reason&&(s=i.ErrorType.SAML_REQUIRED),f.auth.formState===i.AuthFormState.SIGN_IN&&f.auth.twoFactorRequired?r=i.AuthInputType.TOTP_KEY:f.auth.formState===i.AuthFormState.RESET_PASSWORD?r=i.AuthInputType.PASSWORD:a&&a.reason&&("password"===a.reason.missing||"password"===a.reason.invalid)?r=i.AuthInputType.PASSWORD:f.auth.formState===i.AuthFormState.SAML_START&&(r=i.AuthInputType.EMAIL),f.auth.formState===i.AuthFormState.SIGN_UP_EXTRA_INFO&&(a.reason&&"uniqueness"===a.reason.invalid?t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_IN})):t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_UP}))),t.dispatch(o.auth.showError({message:n,errorType:s,invalidInput:r}))},A=(t,e={})=>{s.segment.track("Auth Actions",Object.assign({eventSubtype:t,origin:f.auth.origin},e))};if(o.auth.init.matches(a)){a.payload.formState=a.payload.formState||u.initialOptions().form_state||i.AuthFormState.SIGN_UP,s.segment.track("Auth Actions",{eventSubtype:"show_auth_page",formState:a.payload.formState,origin:a.payload.origin});let r=new d.IPC;return u.initialOptions().user_data||(r.sendToAllTabs("logged-out"),r.register("logged-in",()=>{t.dispatch(o.auth.complete())})),t.dispatch(o.auth.realtimeInit({formState:a.payload.formState})),e(a)}if(o.auth.sendSMS.matches(a)){A("sms_recover_attempt");const s=document.getElementById(a.payload.formId),r=c.getFormData(s);return n.default.post("/api/session/sms_recover",r).then(({data:e})=>{A("sms_recover_success"),e&&e.meta&&t.dispatch(o.auth.requireTwoFactor({required:!0,hint:`Code was sent to ${e.meta.phone_number}`}))}).catch(I),e(a)}if(o.auth.signUpExtraInfo.matches(a)){A("sign_up_extra_info_attempt");const e=document.getElementById(a.payload.formId),s=c.getFormData(e),r=p.authHelpers.validateSignUpForm(s);if(r.message)return t.dispatch(o.auth.showError({message:r.message,invalidInput:r.invalidInput}));A("sign_up_extra_info_success"),t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_UP_EXTRA_INFO}))}else{if(!o.auth.signUpGoBack.matches(a)){if(o.auth.signUp.matches(a)){const r=document.getElementById(a.payload.formId),h=c.getFormData(r),u=!!g.parse(location.search).is_not_gen_0||f.auth.origin&&S.indexOf(f.auth.origin)>-1,d="true"===h.opt_in_email;if(!h.googleIdToken){A("sign_up_attempt");const r=p.authHelpers.validateSignUpForm(h);if(r.message)return t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_UP})),t.dispatch(o.auth.showError({message:r.message,invalidInput:r.invalidInput}));const c=Object.assign(Object.assign({},h),{opt_in_email:d,job_title:f.auth.jobTitle,is_not_gen_0:u,profile_handle:f.auth.profileHandle||null});return n.default.post("/api/session/auth",c).then(({data:e})=>{A("sign_up_success"),s.segmentTrackEvent("Sign Up",{isWorkEmail:m.isSignUpFromWorkEmail(e)}),t.dispatch(o.auth.complete())}).catch(I),e(a)}{A("google_sso_attempt");let e="web";(l.isIosMirrorApp()||l.isAndroidMirrorApp())&&(e="mobile"),n.default.post("/api/session/google_auth/signup",{name:h.name,id_token:h.googleIdToken,source:e,job_title:f.auth.jobTitle,opt_in_email:d,is_not_gen_0:u}).then(({data:e})=>{A("google_sso_success"),t.dispatch(o.auth.complete()),s.segmentTrackEvent("Sign Up",{isWorkEmail:m.isSignUpFromWorkEmail(e)})},({data:e})=>(t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_UP})),t.dispatch(o.auth.showError({message:e.message}))))}return e(a)}if(o.auth.signIn.matches(a)){A("sign_in_attempt");const s=document.getElementById(a.payload.formId),i=c.getFormData(s),h=p.authHelpers.validateSignInForm(i);return h.message?t.dispatch(o.auth.showError({message:h.message,invalidInput:h.invalidInput})):(i.username=i.email.trim(),n.default.post("/api/session/login",i).then(({data:e})=>{A("sign_in_success"),t.dispatch(o.auth.complete()),t.dispatch(r.flashActions.flash("Authenticated as "+e.meta.email))}).catch(I),e(a))}if(o.auth.spellcheckDomain.matches(a)){const s=f.auth.email;if(s&&m.isEmail(s)){const e=s.split("@")[1],a=m.spellcheckDomain(e);t.dispatch(o.auth.setDomainSuggestion({domain:a}))}return e(a)}if(o.auth.sendPasswordReset.matches(a))return A("send_reset_password_email_attempt"),n.default.post("/api/password/forgot",{username:f.auth.email}).then(()=>{A("send_reset_password_email_success"),t.dispatch(o.auth.showForm({formState:i.AuthFormState.SENT_PASSWORD_RESET}))}).catch(I),e(a);if(o.auth.sendEmailSamlStart.matches(a)){A("saml_redirect_to_provider_attempt");const t=document.getElementById(a.payload.formId),s=c.getFormData(t);return s.email=s.email.trim(),m.isEmail(s.email)&&n.default.get("/api/saml",{email:s.email}).then(({data:t})=>{A("saml_redirect_to_provider_success"),h.redirect(t.meta.sp_sso_target_url)}).catch(t=>{I(t)}),e(a)}if(o.auth.samlStartFromSession.matches(a))return A("saml_gate_redirect_attempt"),n.default.get("/api/session/sso_config").then(({data:e})=>{e.meta.org_saml_config?(A("saml_gate_redirect_success"),h.redirect(e.meta.org_saml_config.sp_sso_target_url)):t.dispatch(o.auth.showError({message:"Session expired or invalid"}))}).catch(t=>{I(t)}),e(a);if(o.auth.emailOnly.matches(a)){A("email_only_attempt");const s=document.getElementById(a.payload.formId),r=c.getFormData(s);return n.default.get("/api/session/sso_config",r).then(({data:e})=>{A("email_only_success"),"guest"===e.meta.account_type?t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_UP})):f.auth.ssoMethod===i.SSOMethod.SAML?h.redirect(e.meta.org_saml_config.sp_sso_target_url):t.dispatch(o.auth.showForm({formState:i.AuthFormState.SSO_GATE}))}).catch(t=>{I(t)}),e(a)}if(o.auth.resetPassword.matches(a)){A("reset_password_attempt"),e(a);const s=document.getElementById(a.payload.formId),r=c.getFormData(s);return void(r.password!==r.password_retype?t.dispatch(o.auth.showError({message:"These passwords don't match. Try again?",invalidInput:i.AuthInputType.PASSWORD})):n.default.post("/api/password/recover",r).then(({data:e})=>{const a=e.meta;if("totp_key"==a.required){let e;return a.reason&&a.reason.phone_number&&(e=`SMS sent to ${a.reason.phone_number}`),void t.dispatch(o.auth.requireTwoFactor({required:!0,hint:e}))}A("reset_password_success"),t.dispatch(o.auth.complete())}).catch(I))}if(o.auth.validateCode.matches(a)){A("validate_code_attempt"),e(a);const s=document.getElementById(a.payload.formId),r=c.getFormData(s)[i.AuthInputType.VERIFICATION_CODE];return void(r?n.default.post("/api/saml/validate_code",{code:r}).then(t=>{h.redirect(t.data.meta.redirect)}).catch(e=>{let a=e.data,s=a&&a.message||"An error occurred";"invalid_session"===a.reason?h.redirect("/"):t.dispatch(o.auth.showError({message:s,invalidInput:i.AuthInputType.VERIFICATION_CODE}))}):t.dispatch(o.auth.showError({message:"Please enter a code",invalidInput:i.AuthInputType.VERIFICATION_CODE})))}if(o.auth.resendCode.matches(a))return A("resend_code"),e(a),void n.default.post("api/saml/resend_code").then(()=>{t.dispatch(r.flashActions.flash("The code has be resent. Please check your email."))}).catch(e=>{let a=e.data,s=a&&a.message||"An error occurred resending the code";"invalid_session"===a.reason&&h.redirect("/"),t.dispatch(r.flashActions.error(s))});if(o.auth.showError.matches(a)){if(A("error",a.payload),e(a),a.payload.errorType===i.ErrorType.UNAUTHORIZED){if(t.getState().auth.formState===i.AuthFormState.SIGN_UP_EXTRA_INFO){const e=a.payload.message;t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_IN,errorMessage:e}))}}else if(a.payload.errorType==i.ErrorType.SAML_REQUIRED){const e=a.payload.message;t.dispatch(o.auth.showForm({formState:i.AuthFormState.SAML_START,errorMessage:e}))}return}return o.auth.complete.matches(a)?(f.auth.redirectUrl?h.redirect(f.auth.redirectUrl):_.reload(),e(a)):o.auth.sendValidationEmail.matches(a)?(A("send_validation_email_attempt"),n.default.post("/api/validation/email/send").then(e=>(A("send_validation_email_success"),t.dispatch(o.auth.showSuccess({message:e.data.message})))).catch(e=>{console.error(e);return t.dispatch(o.auth.showError({message:"An error occurred while sending the confirmation email."}))}),e(a)):o.auth.showForm.matches(a)?(A("change_form_state",{oldFormState:f.auth.formState,newFormState:a.payload.formState}),e(a)):e(a)}A("sign_up_go_back"),t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_IN}))}}))}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(2,1    );class o extends i.Component{constructor(){super(...arguments),this.form=null,this.submitClicked=!1,this.focusFirstElement=(()=>{if(this.form&&!this.props.noAutofocus)for(let t=0;t<this.form.elements.length;t++){let s=this.form.elements[t];if(!s.value&&!s.dataset.noAutoFocus){s.focus();break}}}),this.focusOnInvalidInput=(()=>{if(this.form)for(let t=0;t<this.form.elements.length;t++){let s=this.form.elements[t];if(s.name===this.props.auth.invalidInput){s.focus(),s.selectionStart=s.selectionEnd;break}}}),this.onSubmit=(t=>{t.preventDefault(),this.submitClicked=!0,this.props.onSubmit&&this.props.onSubmit(t)})}componentDidUpdate(t){this.submitClicked&&this.props.auth.invalidInput?this.focusOnInvalidInput():this.props.auth.formState!==t.auth.formState&&this.focusFirstElement(),this.submitClicked=!1}componentDidMount(){this.focusFirstElement()}render(){return i.createElement("form",{id:this.props.id,className:this.props.className,onSubmit:this.onSubmit,ref:t=>this.form=t},this.props.children)}}s.AuthFormInner=o,o.displayName="AuthFormInner"}),
(function(r,e,o){r.exports={modal:"auth_form--modal--2C3yg",form:"auth_form--form--xKnbM auth_form--modal--2C3yg",header:"auth_form--header--21sqq",largeHeader:"auth_form--largeHeader--3FFhx text--fontPos18Whyte--2VulS text--_fontBaseWhyte--e6y38",hint:"auth_form--hint--3Bsa0",error:"auth_form--error--2I51G"}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(2,1    ),a=t(368                                             ),o=t(369              );class h extends s.PureComponent{render(){const e=this.props.header,r=`${this.props.modal?o.modal:o.form} ${this.props.className||""}`,t=`${o.header} ${this.props.largeHeader?o.largeHeader:""}`;return s.createElement(a.AuthFormInner,{id:this.props.id,className:r,dispatch:this.props.dispatch,auth:this.props.auth,noAutofocus:this.props.noAutofocus,onSubmit:this.props.onSubmit},this.props.header&&s.createElement("div",{className:t},e),this.props.auth.hint&&s.createElement("div",{className:o.hint},this.props.auth.hint),s.createElement("div",{className:o.error},!this.props.hideError&&this.props.auth.error&&s.createElement(s.Fragment,null,this.props.auth.error)),this.props.children)}}r.AuthForm=h,h.displayName="AuthForm"}),
(function(n,i,t){n.exports={brand:"form_inputs--brand--nxF5w auth_branding--brand--3FsKf",input:"form_inputs--input--r-7Uo",invalidInput:"form_inputs--invalidInput--2tA0l"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=s(2,1    ),a=s(361                                ),r=s(362                      ),i=s(147                                            ),u=s(371                );class p extends n.PureComponent{render(){const t=`${u.input} ${u.brand} ${this.props.className||""}`,e=Object.assign(Object.assign({},this.props),{className:t});return n.createElement(i.TextInput,Object.assign({},e))}}e.AuthInput=p,p.displayName="AuthInput";class o extends n.PureComponent{render(){const t=`${this.props.isInvalid?u.invalidInput:""}`,e=Object.assign(Object.assign({},this.props),{className:t});return delete e.isInvalid,n.createElement(p,Object.assign({},e))}}e.AuthInvalidInput=o,o.displayName="AuthInvalidInput";class l extends n.PureComponent{constructor(){super(...arguments),this.onChange=(t=>{this.props.dispatch(a.auth.changeEmail({value:t.currentTarget.value}))}),this.onBlur=(t=>{this.props.dispatch(a.auth.spellcheckDomain()),this.props.onBlur&&this.props.onBlur(t,!0)})}render(){return n.createElement(o,{onChange:this.onChange,onBlur:this.onBlur,value:this.props.auth.email,name:r.AuthInputType.EMAIL,placeholder:"Email",autoCapitalize:"off",autoCorrect:"off",isInvalid:r.AuthInputType.EMAIL===this.props.auth.invalidInput})}}e.AuthEmailInput=l,l.displayName="AuthEmailInput"}),
(function(e,o,t){e.exports={link:"password_reset--link--1cQQH modal--blueLink--3juZ6 blue_link--blueLink--22X56",leftAlign:"password_reset--leftAlign--1mUX_ modal--left--t5YdU password_reset--link--1cQQH modal--blueLink--3juZ6 blue_link--blueLink--22X56",center:"password_reset--center--14KR9",buttonRow:"password_reset--buttonRow--3CoXM modal--buttonRow--23IOU",centeredLink:"password_reset--centeredLink--1z3Su auth_view--footerButtonRow--1r5Q6",button:"password_reset--button--1lVHA",modal:"password_reset--modal--1cSyJ",form:"password_reset--form--1jxmp password_reset--modal--1cSyJ",header:"password_reset--header--3N7bH"}}),
(function(n,t,o){n.exports={input:"landing_form--input--1hsoX",button:"landing_form--button--y3eAl",textInput:"landing_form--textInput--2D81H landing_form--input--1hsoX",googleButton:"landing_form--googleButton--2VMWs auth_view--brandButton--6mVyN auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",infoCaptureButton:"landing_form--infoCaptureButton--5J213 auth_view--brandButton--6mVyN auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",googleButtonInner:"landing_form--googleButtonInner--3RQWE",googleIcon:"landing_form--googleIcon--3Q7rS"}}),
(function(t,e,u){t.exports={input:"auth_view--input--PalhP",fullWidth:"auth_view--fullWidth--3ydDr",wideButton:"auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",primaryWideButton:"auth_view--primaryWideButton--3NOmp auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",brandButtonBase:"auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",brandButton:"auth_view--brandButton--6mVyN auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",footer:"auth_view--footer--2y326",footerButtonRow:"auth_view--footerButtonRow--1r5Q6",centerText:"auth_view--centerText--21TLX",footerText:"auth_view--footerText--1PPnJ"}}),
(function(l,e,i){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z" fill-rule="evenodd" fill-opacity="1" fill="#4285f4" stroke="none"/><path d="M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z" fill-rule="evenodd" fill-opacity="1" fill="#34a853" stroke="none"/><path d="M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill-rule="evenodd" fill-opacity="1" fill="#fbbc05" stroke="none"/><path d="M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.002 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z" fill-rule="evenodd" fill-opacity="1" fill="#ea4335" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2,1    ),a=n(143                                      ),o=n(271                                        ),r=n(374                 ),l=n(375                                                 ),i=n(146                        ),c=n(137                                    ),p=n(376                               );class d extends s.Component{render(){const e=`${r.button} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return s.createElement("button",Object.assign({},t),this.props.children)}}t.Button=d,d.displayName="Button";class u extends s.Component{render(){return s.createElement(d,{type:"button",className:r.googleButton,onClick:this.props.onClick,"data-no-auto-focus":!0},s.createElement("div",{className:r.googleButtonInner},s.createElement(i.Svg,{className:r.googleIcon,svg:p,useOriginalSrcFills:!0}),this.props.text))}}t.GoogleAuthButton=u,u.displayName="GoogleAuthButton";class g extends s.Component{render(){const e=this.props.fullWidth?`${l.brandButton} ${l.fullWidth}`:l.brandButton,t=Object.assign(Object.assign({},this.props),{className:e});return delete t.loading,delete t.fullWidth,s.createElement("button",Object.assign({},t,{disabled:this.props.disabled||this.props.loading}),this.props.loading?s.createElement(o.LoadingSpinner,null):this.props.children)}}t.BrandButton=g,g.displayName="Button",g.defaultProps={fullWidth:!0},t.BrandButtonTracked=c.asTrackedClickable(g);class m extends s.Component{render(){return s.createElement(d,{type:"button",className:r.infoCaptureButton,onClick:this.props.onClick,"data-no-auto-focus":!0},this.props.children)}}t.BrandInfoCaptureButton=m,m.displayName="BrandInfoCaptureButton",t.BrandInfoCaptureButtonTracked=c.asTrackedClickable(m),t.BrandSpacer=(e=>s.createElement("div",{style:{height:8*(e.multiple||1)}},e.children));class h extends s.Component{render(){const e=`${r.textInput} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return s.createElement(a.LazyInput,Object.assign({},t))}}t.TextInput=h,h.displayName="TextInput"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),r=s(133        ),o=s(361                                ),n=s(362                      ),i=s(370                                                       ),p=s(372                                                           ),l=s(147                                            ),u=s(362                      ),m=s(373                   ),h=s(377                                                );class d extends a.PureComponent{constructor(){super(...arguments),this.onSubmit=(()=>this.props.dispatch(o.auth.sendPasswordReset())),this.onBack=(()=>this.props.dispatch(o.auth.showForm({formState:n.AuthFormState.SIGN_IN})))}render(){return a.createElement(i.AuthForm,Object.assign({},this.props,{header:"Enter your email to reset password",onSubmit:this.onSubmit}),a.createElement(p.AuthEmailInput,Object.assign({},this.props)),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement(h.BrandButton,{loading:this.props.auth.loading,disabled:!r.isEmail(this.props.auth.email)},"Reset password"),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement("div",{className:m.centeredLink},a.createElement(l.LinkInline,{onClick:this.onBack},"Cancel")))}}t.ForgotPasswordForm=d,d.displayName="ForgotPasswordForm";class c extends a.PureComponent{constructor(){super(...arguments),this.onBack=(()=>this.props.dispatch(o.auth.showForm({formState:n.AuthFormState.SIGN_IN})))}render(){const e=this.props.modal?m.modal:m.form;return a.createElement("div",{className:e},a.createElement("div",{className:m.header},"If an account exists for ",this.props.auth.email,", you will get an email with instructions on resetting your password. If it doesn't arrive, be sure to check your spam folder."),a.createElement("div",{className:m.buttonRow},a.createElement(l.Link,{onClick:this.onBack,className:m.link},"Back to Log in")))}}t.SentPasswordReset=c,c.displayName="SentPasswordReset";class f extends a.PureComponent{constructor(){super(...arguments),this.onBack=(()=>this.props.dispatch(o.auth.showForm({formState:n.AuthFormState.SIGN_IN})))}render(){return a.createElement(i.AuthForm,Object.assign({header:"Choose a new password",onSubmit:this.props.onFormSubmit(this.props.id)},this.props),this.props.auth.emailToken&&a.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),a.createElement(p.AuthInvalidInput,{name:u.AuthInputType.PASSWORD,type:"password",placeholder:"Password",autoCapitalize:"off",autoCorrect:"off",isInvalid:u.AuthInputType.PASSWORD===this.props.auth.invalidInput}),a.createElement(h.BrandSpacer,{multiple:3}),a.createElement(p.AuthInvalidInput,{name:"password_retype",type:"password",placeholder:"Confirm password",autoCapitalize:"off",autoCorrect:"off",isInvalid:u.AuthInputType.PASSWORD===this.props.auth.invalidInput}),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement(h.BrandButton,{loading:this.props.auth.loading},"Submit"),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement(l.LinkInline,{onClick:this.onBack,className:m.center},"Back to Log in"))}}t.ResetPasswordForm=f,f.displayName="ResetPasswordForm";class S extends a.Component{render(){return this.props.isSignup?a.createElement(l.ButtonGreen,{className:m.button,type:"submit",disabled:this.props.disabled||this.props.auth.loading},this.props.children):a.createElement(l.ButtonPrimary,{className:m.button,type:"submit",disabled:this.props.disabled||this.props.auth.loading},this.props.children)}}t.AuthButton=S,S.displayName="AuthButton"}),
(function(o,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(93                                   ),t=n(129           ),r=n(108     ),s=n(112          ),a=n(88           ),l=n(111          ),g=n(133      );function m(o,n){return new Promise((t,s)=>{e.getGoogleUser(o).then(e=>{(function(o,e){const n={name:e.name,id_token:e.token,source:e.source};return r.default.post(o,n)})(n,e).then(({data:e})=>{o(i.flash.flash("Authenticated as "+e.meta.email)),e.meta&&e.meta.email_domain_type&&l.segmentTrackEvent("Sign Up",{isWorkEmail:g.isSignUpFromWorkEmail(e)}),t()},({data:o})=>{s(o.message||"Unable to authenticate")})},o=>{s(o)})})}window._sso_login_func=((o,e)=>{}),e.COOKIE="google_sso_temp",e.getGoogleUser=(o=>t.isIosMirrorApp()?t.getIosAppVersion()<2?new Promise((o,e)=>{e("Upgrade to the latest iOS app to authenticate with Google")}):new Promise((o,e)=>{window.FigmaMobile._sso_login_func=((n,i)=>{i?o({name:n,token:i,source:"mobile"}):e("Unable to get profile information from Google")}),window.FigmaMobile.startGoogleSSO()}):t.isAndroidMirrorApp()?t.getAndroidAppVersion()<2?new Promise((o,e)=>{e("Upgrade to the latest Android app to authenticate with Google")}):new Promise((o,e)=>{window._sso_login_func=((n,i)=>{i?o({name:n,token:i,source:"mobile"}):e("Unable to get profile information from Google")}),window.location.href="/mirror-sso"}):new Promise((o,n)=>{document.cookie=e.COOKIE+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";let i=s.unsafeWindowOpen("/start_google_sso","","width=600,height=600");null!==i?window.setTimeout(function t(){const r=a.parseCookieForKey(document.cookie,e.COOKIE);if(null!==r){const i=JSON.parse(r);document.cookie=e.COOKIE+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",i.token?(i.source="web",o(i)):n("Unable to get profile information from Google")}else i.closed?n("Unable to get profile information from Google"):window.setTimeout(t,250)},250):n("Unable to get profile information from Google")})),e.doGoogleLoginOrSignup=function(o){return m(o,"/api/session/google_auth/signin_or_signup")},e.doGoogleLogin=function(o){return m(o,"/api/session/google_auth/signin")}}),
(function(n,i,_){n.exports={brand:"sign_in_and_up--brand--cAvop auth_branding--brand--3FsKf",orBlock:"sign_in_and_up--orBlock--3kqvy",domainSuggestion:"sign_in_and_up--domainSuggestion--1tnLa",error:"sign_in_and_up--error--3e3qg auth_form--error--2I51G",brandError:"sign_in_and_up--brandError--38l7Z",wideButton:"sign_in_and_up--wideButton--IYcsb auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",primaryWideButton:"sign_in_and_up--primaryWideButton--15okP auth_view--primaryWideButton--3NOmp auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",footer:"sign_in_and_up--footer--sCgNV auth_view--footer--2y326",footerButtonRow:"sign_in_and_up--footerButtonRow--1L1a9 auth_view--footerButtonRow--1r5Q6",link:"sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",forgotPassword:"sign_in_and_up--forgotPassword--m0ebi sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",footerRow:"sign_in_and_up--footerRow--pB9-z auth_view--footerButtonRow--1r5Q6",signInWithSaml:"sign_in_and_up--signInWithSaml--1vztF sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",signUpWithSaml:"sign_in_and_up--signUpWithSaml--22Lub sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",signInWithPassword:"sign_in_and_up--signInWithPassword---d3uW sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",switchFormText:"sign_in_and_up--switchFormText--aon-9 auth_view--footerText--1PPnJ",switchFormLink:"sign_in_and_up--switchFormLink--uuDAF sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",centerText:"sign_in_and_up--centerText--2y7mR auth_view--centerText--21TLX",openExternallyIcon:"sign_in_and_up--openExternallyIcon--1-frt sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(2,1    ),a=o(379             ),r=o(133        ),n=o(362                      ),i=o(361                                ),p=o(370                                                       ),h=o(372                                                           ),l=o(377                                                ),u=o(380                   ),m=o(147                                            );class c extends s.PureComponent{constructor(){super(...arguments),this.handleGoogleError=(t=>{this.props.dispatch(i.auth.showError({message:t}))}),this.onGoogleSignup=(()=>{a.getGoogleUser(this.props.dispatch).then(this.googleAuthSignup,t=>{this.handleGoogleError(t)})}),this.googleAuthSignup=(t=>{this.props.setAuthFormsState({password:null}),this.props.dispatch(i.auth.setGoogleIdToken({googleIdToken:t.token})),this.props.dispatch(i.auth.changeName({value:t.name})),this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.SIGN_UP_EXTRA_INFO}))})}render(){return s.createElement(S,Object.assign({onGoogleAuth:this.onGoogleSignup,googleText:"Sign up with Google",submitText:"Create account",usesSignInFooter:!0},this.props))}}e.SignUpForm=c,c.displayName="SignUpForm";class g extends s.PureComponent{constructor(){super(...arguments),this.onGoogleLogin=(()=>{a.doGoogleLogin(this.props.dispatch).then(()=>{this.props.dispatch(i.auth.complete())},t=>{this.handleGoogleError(t)})}),this.handleGoogleError=(t=>{this.props.dispatch(i.auth.showError({message:t}))})}render(){return s.createElement(S,Object.assign({onGoogleAuth:this.onGoogleLogin,googleText:"Log in with Google",submitText:"Log in",usesSignInFooter:!1},this.props))}}e.SignInForm=g,g.displayName="SignInForm";class d extends s.PureComponent{render(){const t=this.props.usesSignInFooter?"Already have an account?":"No account?",e=this.props.usesSignInFooter?"Log in":"Create one",o=this.props.usesSignInFooter?"Sign up with SAML SSO":"Log in with SAML SSO";return s.createElement("div",{className:u.footer},s.createElement("div",{className:u.footerButtonRow},s.createElement(m.LinkInline,{className:this.props.usesSignInFooter?u.signInWithSaml:u.signUpWithSaml,onClick:this.props.onSwitchToSaml},o)),this.props.onForgotPassword&&s.createElement(s.Fragment,null,s.createElement(l.BrandSpacer,{multiple:2}),s.createElement("div",{className:u.footerRow},s.createElement("a",{onClick:this.props.onForgotPassword,tabIndex:-1,className:u.forgotPassword},"Forgot password?"))),s.createElement(l.BrandSpacer,{multiple:2}),s.createElement("div",{className:u.footerRow},s.createElement("div",{className:u.switchFormText},t,s.createElement("a",{tabIndex:-1,className:u.switchFormLink,onClick:this.props.onChangeFormClick},e))))}}e.EmailPasswordFooter=d,d.displayName="EmailPasswordFooter";class S extends s.PureComponent{constructor(){super(...arguments),this.state={password:""},this.onClickDomainSuggestion=(()=>this.props.dispatch(i.auth.useDomainSuggestion())),this.onChangePassword=(t=>{this.setState({password:t.currentTarget.value}),this.props.dispatch(i.auth.setGoogleIdToken({googleIdToken:null})),this.props.dispatch(i.auth.changePasswordLength({value:t.currentTarget.value.length}))}),this.onForgotPassword=(()=>{this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.FORGOT_PASSWORD}))}),this.onClickSignup=(()=>{this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.SIGN_UP}))}),this.onClickSignin=(()=>{this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.SIGN_IN}))}),this.onClickSaml=(()=>{this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.SAML_START}))})}UNSAFE_componentWillReceiveProps(t){this.props.auth.loading&&!t.auth.loading&&t.auth.errorType===n.ErrorType.UNAUTHORIZED&&(this.setState({password:""}),this.props.dispatch(i.auth.setGoogleIdToken({googleIdToken:null})))}render(){const t=this.props.auth.invalidInput===n.AuthInputType.EMAIL||this.props.auth.invalidInput===n.AuthInputType.PASSWORD;return s.createElement(p.AuthForm,Object.assign({className:u.centerText,largeHeader:!0,hideError:t,onSubmit:this.props.onFormSubmit(this.props.id)},this.props),s.createElement(l.GoogleAuthButton,{text:this.props.googleText,onClick:this.props.onGoogleAuth}),s.createElement("span",{className:u.orBlock},"or"),s.createElement(h.AuthEmailInput,Object.assign({},this.props)),this.props.auth.invalidInput===n.AuthInputType.EMAIL&&this.props.auth.error&&s.createElement("div",{className:u.brandError},this.props.auth.error),s.createElement(l.BrandSpacer,{multiple:3}),this.props.auth.domainSuggestion&&s.createElement("div",{className:u.domainSuggestion},"Did you mean ",s.createElement("a",{onClick:this.onClickDomainSuggestion,className:u.link},this.props.auth.domainSuggestion),"?"),s.createElement(h.AuthInvalidInput,{name:n.AuthInputType.PASSWORD,type:"password",placeholder:"Password",autoCapitalize:"off",autoCorrect:"off",value:this.state.password,onChange:this.onChangePassword,onBlur:this.props.onBlur,isInvalid:this.props.auth.invalidInput===n.AuthInputType.PASSWORD}),this.props.auth.invalidInput===n.AuthInputType.PASSWORD&&this.props.auth.error&&s.createElement("div",{className:u.brandError},this.props.auth.error),s.createElement(l.BrandSpacer,{multiple:4}),this.props.auth.emailToken&&s.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),s.createElement(l.BrandButton,{type:"submit",className:this.props.usesSignInFooter?u.wideButton:u.primaryWideButton,loading:this.props.auth.loading},this.props.submitText),s.createElement(l.BrandSpacer,{multiple:4}),this.props.usesSignInFooter?s.createElement(d,{onChangeFormClick:this.onClickSignin,onSwitchToSaml:this.onClickSaml,usesSignInFooter:this.props.usesSignInFooter}):s.createElement(d,{onChangeFormClick:this.onClickSignup,onForgotPassword:this.onForgotPassword,onSwitchToSaml:this.onClickSaml,usesSignInFooter:this.props.usesSignInFooter}))}}S.displayName="EmailPasswordSSOForm";class E extends s.PureComponent{constructor(){super(...arguments),this.onClickDomainSuggestion=(()=>this.props.dispatch(i.auth.useDomainSuggestion())),this.onClickUserPass=(()=>{this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.SIGN_IN}))})}render(){return s.createElement(p.AuthForm,Object.assign({},this.props,{header:"Log in to Figma with SAML SSO",onSubmit:this.props.onFormSubmit(this.props.id)}),s.createElement(h.AuthEmailInput,Object.assign({},this.props)),this.props.auth.domainSuggestion&&s.createElement("div",{className:u.domainSuggestion},"Did you mean ",s.createElement("a",{onClick:this.onClickDomainSuggestion,className:u.link},this.props.auth.domainSuggestion),"?"),s.createElement(l.BrandSpacer,{multiple:4}),s.createElement(l.BrandButton,{type:"submit",className:u.primaryWideButton,loading:this.props.auth.loading,disabled:!r.isEmail(this.props.auth.email)},"Log in"),s.createElement(l.BrandSpacer,{multiple:4}),s.createElement("div",{className:u.footer},s.createElement("div",{className:u.footerButtonRow},s.createElement(m.LinkInline,{onClick:this.onClickUserPass,className:u.signInWithPassword},"Log in with Google or a password"))))}}e.SamlStartForm=E,E.displayName="SamlStartForm"}),
(function(t,o,r){t.exports={input:"two_factor--input--XUk8H auth_view--input--PalhP",wideButton:"two_factor--wideButton--J8y48 auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",footer:"two_factor--footer--3bC83 auth_view--footer--2y326",footerButtonRow:"two_factor--footerButtonRow--qEHnV auth_view--footerButtonRow--1r5Q6",goBack:"two_factor--goBack--229Hp",twoFactorText:"two_factor--twoFactorText--1TmP8",brand:"two_factor--brand--1-eiO"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),n=a(361                                ),r=a(362                      ),o=a(372                                                           ),i=a(370                                                       ),h=a(377                                                ),p=a(382               );class u extends s.PureComponent{constructor(){super(...arguments),this.state={smsSent:!1,twoFactorCode:null},this.sendSMS=(()=>{this.props.dispatch(n.auth.sendSMS({formId:this.props.id})),this.setState({smsSent:!0})}),this.goBack=(()=>{this.props.dispatch(n.auth.requireTwoFactor({required:!1}))}),this.onChange=(e=>{const t=e.target.value;this.setState({twoFactorCode:t})})}render(){return s.createElement(i.AuthForm,Object.assign({header:this.props.header||"Please enter your authentication code or recovery code",onSubmit:this.props.onFormSubmit(this.props.id)},this.props),s.createElement(o.AuthInvalidInput,{onBlur:this.props.onBlur,onChange:this.onChange,value:this.state.twoFactorCode||"",name:r.AuthInputType.TOTP_KEY,autoComplete:"off",placeholder:"Authentication Code",isInvalid:this.props.auth.invalidInput===r.AuthInputType.TOTP_KEY}),s.createElement("input",{type:"hidden",name:"email",value:this.props.auth.email}),s.createElement("input",{type:"hidden",name:"password",value:this.props.password||""}),s.createElement("input",{type:"hidden",name:"password_retype",value:this.props.password||""}),this.props.auth.emailToken&&s.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement(h.BrandButton,{type:"submit",loading:this.props.auth.loading,className:p.wideButton},"Log in"),s.createElement(h.BrandSpacer,{multiple:4}),this.props.auth.smsOkay&&!this.state.smsSent&&s.createElement(s.Fragment,null,s.createElement("a",{className:`${p.twoFactorText} ${p.brand}`,onClick:this.sendSMS},`${this.props.auth.hint?"Resend":"Send"} SMS code`),s.createElement(h.BrandSpacer,{multiple:2})),s.createElement("a",{onClick:this.goBack,className:`${p.goBack} ${p.brand}`},"Back"))}}t.TwoFactorForm=u,u.displayName="TwoFactorForm"}),
(function(e,l,r){e.exports={brandHandleWrapper:"profile_handle--brandHandleWrapper--17G4I text--fontPos14--3UJ36 text--_fontBase--YWDo0",handleWrapper:"profile_handle--handleWrapper--3zeNa text--fontPos11--RSei3 text--_fontBase--YWDo0",handleContainer:"profile_handle--handleContainer--w8Bq1",handleText:"profile_handle--handleText--E-HGs",handleHelperTextWrapper:"profile_handle--handleHelperTextWrapper--5_gLj",handleInput:"profile_handle--handleInput--DIQ4Y",error:"profile_handle--error--3yR_w auth_form--error--2I51G",handleSuccess:"profile_handle--handleSuccess--3-WFt profile_handle--error--3yR_w auth_form--error--2I51G",handlePlaceholderText:"profile_handle--handlePlaceholderText--c5xyN",handleInputError:"profile_handle--handleInputError--3fT0c profile_handle--handleInput--DIQ4Y",handleInputSuccess:"profile_handle--handleInputSuccess--3-VMi profile_handle--handleInput--DIQ4Y",regularTextInput:"profile_handle--regularTextInput--1NsLY",regularHandlePlaceholderText:"profile_handle--regularHandlePlaceholderText--38ltg profile_handle--handlePlaceholderText--c5xyN"}}),
(function(e,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=l(2,1    ),r=l(108     ),n=l(86            ),s=l(372                                                           ),o=l(147                                            ),c=l(304                          ),d=l(384                   );a.ProfileHandleWithValidation=(e=>{const{onProfileHandleValidationSuccess:a,onProfileHandleValidationFailure:l,prevalidate:i}=e,u=e.defaultHandleName||"",[m,h]=t.useState(""),[p,f]=t.useState({}),g=t.useCallback(e=>{const t=c.validateProfileHandleFormat(e);if(t)return l&&l(),void f({errorMsg:t});e.length>0?r.default.get(`/api/profile/handle/${e}/available`).then(({data:t})=>{t.meta.available?(f({successMsg:`'${e}' is available!`}),a&&a()):(f({errorMsg:`'${e}' is taken. Please choose another.`}),l&&l())}):f({})},[l,a]);t.useEffect(()=>{u.length>0&&i&&g(u)},[u,g,i]);const v=(e=>n.debounce(e=>{e()},500))(),b=a=>{const l=a.target.value;e.saveHandle(l),h(l),v(()=>{g(l)})},_=p.errorMsg?d.handleInputError:p.successMsg?d.handleInputSuccess:d.handleInput;return t.createElement("div",{className:e.useBrand?d.brandHandleWrapper:d.handleWrapper},t.createElement("div",{className:d.handleContainer},e.useBrand&&t.createElement(s.AuthInput,{name:"profile_handle",type:"text",id:"profile_handle",autoComplete:"off",value:m||u,onChange:b,placeholder:"handle",className:_,maxLength:20}),!e.useBrand&&t.createElement(o.TextInput,{name:"profile_handle",type:"text",id:"profile_handle",autoComplete:"off",className:d.regularTextInput,value:m||u,onChange:b,autoFocus:!0,placeholder:"handle",maxLength:20}),t.createElement("span",{className:e.useBrand?d.handlePlaceholderText:d.regularHandlePlaceholderText},"figma.com/@")),t.createElement("div",{className:d.handleHelperTextWrapper},p.errorMsg&&t.createElement("div",{className:d.error},p.errorMsg),p.successMsg&&t.createElement("div",{className:d.handleSuccess},p.successMsg),t.createElement("div",{className:d.handleText},"Up to 15 characters (letters, numbers, or _)")))})}),
(function(e,t,n){e.exports={selectFullWidth:"extra_info--selectFullWidth--3NJpV",brand:"extra_info--brand--3IUJs",wideButton:"extra_info--wideButton--2z_Bv auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",termsFlattened:"extra_info--termsFlattened--2Whft auth_view--footerText--1PPnJ",termsLink:"extra_info--termsLink--26YZw",centerText:"extra_info--centerText--z1pDP auth_view--centerText--21TLX",signInText:"extra_info--signInText--35rPS auth_view--footerButtonRow--1r5Q6 auth_view--footerText--1PPnJ",signInLink:"extra_info--signInLink--1M1uC blue_link--blueLink--22X56",error:"extra_info--error--2VSg2 auth_form--error--2I51G",invalidInput:"extra_info--invalidInput--1j8xA",checkbox:"extra_info--checkbox--1jBJW",checkboxGroup:"extra_info--checkboxGroup--2AXq9"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2,1    ),i=a(361                                ),s=a(372                                                           ),r=a(370                                                       ),o=a(377                                                ),l=a(385                                              ),p=a(386               ),h=a(362                         ),u=a(105                             ),d=a(147                                            );class m extends n.PureComponent{constructor(e){super(e),this.nameInputRef=n.createRef(),this.state={shouldValidateHandle:!1},this.handleNameInputClick=(e=>{var t,a;this.nameInputRef&&(null===(t=this.nameInputRef.current)||void 0===t?void 0:t.contains(e.target))&&this.state.shouldValidateHandle&&this.setState({shouldValidateHandle:!1}),!this.nameInputRef||(null===(a=this.nameInputRef.current)||void 0===a?void 0:a.contains(e.target))||this.state.shouldValidateHandle||this.setState({shouldValidateHandle:!0})}),this.jobTypeOptions=u.shuffle([n.createElement("option",{value:"designer"},"Design"),n.createElement("option",{value:"developer"},"Software Development"),n.createElement("option",{value:"marketer"},"Marketing"),n.createElement("option",{value:"project-manager"},"Product Management")]),this.defaultHandleName=(e=>(e||"").toLowerCase().replace(/ /g,"_")),this.onChangeName=(e=>{const t=e.target.value;if(this.props.dispatch(i.auth.changeName({value:t})),this.props.showHandleForm){const e=this.defaultHandleName(t);this.props.dispatch(i.auth.changeHandle({value:e}))}}),this.saveHandleToState=(e=>{this.props.dispatch(i.auth.changeHandle({value:e}))}),this.onChangeJobTitle=(e=>{const t=e.target.value;this.props.dispatch(i.auth.changeJob({value:t})),this.props.auth.invalidInput===h.AuthInputType.JOB_TITLE&&t&&this.props.dispatch(i.auth.clearError())}),this.onChangeOptInEmail=(e=>{this.props.dispatch(i.auth.changeOptInEmail({value:e.target.checked}))}),this.toggleOptInEmail=(()=>{this.props.dispatch(i.auth.changeOptInEmail({value:!this.props.auth.optInEmail}))}),this.onClickSignIn=(()=>{this.props.dispatch(i.auth.signUpGoBack())}),this.renderHandleForm=(()=>{var e;return n.createElement(n.Fragment,null,n.createElement(o.BrandSpacer,{multiple:3}),n.createElement(l.ProfileHandleWithValidation,{defaultHandleName:this.defaultHandleName(null===(e=this.props.auth)||void 0===e?void 0:e.name),saveHandle:this.saveHandleToState,useBrand:!0,prevalidate:this.state.shouldValidateHandle}))})}componentDidMount(){document.addEventListener("mousedown",this.handleNameInputClick)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleNameInputClick)}render(){const e=!this.props.auth||!this.props.auth.jobTitle;return n.createElement(r.AuthForm,Object.assign({className:p.centerText,largeHeader:!!this.props.header,header:this.props.header||"Tell us about yourself",hideError:this.props.auth.invalidInput===h.AuthInputType.JOB_TITLE||this.props.auth.invalidInput===h.AuthInputType.PROFILE_HANDLE,onSubmit:t=>{e?this.props.dispatch(i.auth.showError({invalidInput:h.AuthInputType.JOB_TITLE,message:"Please provide your job function"})):this.props.onFormSubmit(this.props.id)(t)}},this.props),n.createElement("div",{ref:this.nameInputRef},n.createElement(s.AuthInput,{onBlur:this.props.onBlur,onChange:this.onChangeName,value:this.props.auth.name||"",name:"name",placeholder:"Your name",autoCorrect:"off"})),this.props.showHandleForm&&this.renderHandleForm(),n.createElement(o.BrandSpacer,{multiple:3}),n.createElement("input",{type:"hidden",name:"email",value:this.props.auth.email||""}),n.createElement("input",{type:"hidden",name:"password",value:this.props.password||""}),n.createElement("input",{type:"hidden",name:"googleIdToken",value:this.props.googleIdToken||""}),this.props.auth.emailToken&&n.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),n.createElement("select",{value:this.props.auth.jobTitle,onChange:this.onChangeJobTitle,className:`${p.selectFullWidth} ${p.brand} ${this.props.auth.invalidInput===h.AuthInputType.JOB_TITLE?p.invalidInput:""}`},n.createElement("option",{value:"",disabled:!0},"What kind of work do you do? *"),this.jobTypeOptions,n.createElement("option",{value:"other"},"Other")),this.props.auth.invalidInput===h.AuthInputType.JOB_TITLE&&this.props.auth.error&&n.createElement("div",{className:p.error},this.props.auth.error),n.createElement(o.BrandSpacer,{multiple:3}),n.createElement("div",{className:p.checkboxGroup},n.createElement(d.Checkbox,{id:"box",classOverride:p.checkbox,name:"opt_in_email",onChange:this.onChangeOptInEmail,value:`${this.props.auth.optInEmail}`,checked:this.props.auth.optInEmail}),n.createElement("label",{onClick:this.toggleOptInEmail},"I agree to join Figma's mailing list")),n.createElement(o.BrandSpacer,{multiple:3}),n.createElement(o.BrandButton,{type:"submit",className:p.wideButton,loading:this.props.auth.loading},"Create Account"),n.createElement(o.BrandSpacer,{multiple:4}),n.createElement("div",{className:p.termsFlattened},'By clicking "Create Account" you agree to our '," ",n.createElement("a",{target:"_blank",rel:"noopener",className:p.termsLink,tabIndex:-1,href:"/summary-of-policy"},"TOS")," and ",n.createElement("a",{target:"_blank",rel:"noopener",className:p.termsLink,tabIndex:-1,href:"/privacy"},"Privacy Policy"),"."),n.createElement(o.BrandSpacer,{multiple:2}),n.createElement("div",{className:p.signInText},"Already have an account?",n.createElement("a",{tabIndex:-1,className:p.signInLink,onClick:this.onClickSignIn},"Log in")))}}t.SignUpExtraInfoForm=m,m.displayName="SignUpExtraInfoForm"}),
(function(a,e,i){a.exports={link:"validate_email--link--1a7V8 modal--blueLink--3juZ6 blue_link--blueLink--22X56",buttons:"validate_email--buttons--3IWyc",modal:"validate_email--modal--4UBx3",form:"validate_email--form--1qLwT validate_email--modal--4UBx3",innerContainer:"validate_email--innerContainer--3E4u1",back:"validate_email--back--3KxRY",header:"validate_email--header--2KHJ5",description:"validate_email--description--3rpEF",footer:"validate_email--footer--3G88r",error:"validate_email--error--2o7OF",success:"validate_email--success--28l2a"}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(2,1    ),i=s(147                                            ),r=s(361                                ),o=s(388                   );class l extends t.PureComponent{constructor(){super(...arguments),this.sendValidationEmail=(()=>{this.props.dispatch(r.auth.sendValidationEmail({email:this.props.auth.email}))})}render(){const e=this.props.modal?o.modal:o.form,a=this.props.auth.email.substring(this.props.auth.email.lastIndexOf("@")+1);return t.createElement("div",{className:e},t.createElement("div",{className:o.innerContainer},t.createElement("div",{className:o.back},t.createElement(i.Link,{href:"/logout",className:o.link},"Logout")),t.createElement("div",{className:o.header},"Welcome to Figma, ",this.props.auth.name,"! Please verify your email to continue."),t.createElement("div",{className:o.description},"Please check your email for a message from Figma, and click the link inside to verify your email address."),t.createElement("div",{className:o.buttons},t.createElement(i.Link,{onClick:this.sendValidationEmail,className:o.link},"Resend Verification Email"),this.props.auth.error&&t.createElement("div",{className:o.error},this.props.auth.error),this.props.auth.success&&t.createElement("div",{className:o.success},this.props.auth.success))),t.createElement("div",{className:o.footer},"When you use a domain like ",a,", we ask that you verify your email. If you’d like to use Figma outside of this organization, sign up with your personal email."))}}a.ValidateEmail=l,l.displayName="ValidateEmail"}),
(function(e,o,r){e.exports={footerRow:"validate_code--footerRow--1WUIC",link:"validate_code--link--2Phzm",error:"validate_code--error--3OIzb auth_form--error--2I51G",header:"validate_code--header--1FM6v",description:"validate_code--description--2n-lr"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),n=a(361                                ),r=a(362                      ),i=a(372                            ),o=a(370                        ),h=a(377                                                ),d=a(390                  );class l extends s.PureComponent{constructor(e){super(e),this.VERIFICATION_CODE_LENGTH=6,this.onResend=(()=>{this.props.dispatch(n.auth.resendCode())}),this.handleCodeChange=(e=>{this.setState({code:e.target.value})}),this.state={code:""}}render(){return s.createElement(o.AuthForm,Object.assign({onSubmit:this.props.onFormSubmit(this.props.id),hideError:this.props.auth.invalidInput===r.AuthInputType.VERIFICATION_CODE},this.props),s.createElement("div",{className:d.header},"Verify your account"),s.createElement("div",{className:d.description},"An email has been sent to ",this.props.auth.email,"."),s.createElement("div",{className:d.description},"Enter the code below to verify."),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement(i.AuthInvalidInput,{name:r.AuthInputType.VERIFICATION_CODE,autoComplete:"off",autoCorrect:"off",maxLength:this.VERIFICATION_CODE_LENGTH,value:this.state.code,onChange:this.handleCodeChange,isInvalid:this.props.auth.invalidInput===r.AuthInputType.VERIFICATION_CODE}),this.props.auth.invalidInput===r.AuthInputType.VERIFICATION_CODE&&this.props.auth.error&&s.createElement("div",{className:d.error},this.props.auth.error),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement(h.BrandButton,{loading:this.props.auth.loading,disabled:this.state.code.length!==this.VERIFICATION_CODE_LENGTH},"Submit"),s.createElement(h.BrandSpacer,{multiple:3}),s.createElement("div",{className:d.footerRow},"Didn’t receive the code?  ",s.createElement("a",{className:d.link,onClick:this.onResend},"Resend")))}}t.ValidateCode=l,l.displayName="ValidateEmail"}),
(function(a,e,o){a.exports={modal:"app_auth--modal--21eLL auth_form--modal--2C3yg",header:"app_auth--header--8aJPD auth_form--header--21sqq",formWide:"app_auth--formWide--3-YAo app_auth--modal--21eLL auth_form--modal--2C3yg",form:"app_auth--form--1pJEo app_auth--modal--21eLL auth_form--modal--2C3yg",innerContainer:"app_auth--innerContainer--1V9qb",logo:"app_auth--logo--2YfGb",message:"app_auth--message--OhFO_",subMessage:"app_auth--subMessage--10AT2",link:"app_auth--link--2RA_H",error:"app_auth--error--1AnkH",redeemButton:"app_auth--redeemButton--3zyJD",footerText:"app_auth--footerText--1L71m auth_view--footerText--1PPnJ",signupLink:"app_auth--signupLink--3W95r blue_link--blueLink--22X56"}}),
(function(l,o,e){l.exports={src:'<svg width="38" height="57" viewBox="0 0 38 57" xmlns="http://www.w3.org/2000/svg"><path d="M19 28.5c0-5.247 4.253-9.5 9.5-9.5 5.247 0 9.5 4.253 9.5 9.5 0 5.247-4.253 9.5-9.5 9.5-5.247 0-9.5-4.253-9.5-9.5z" fill-rule="nonzero" fill-opacity="1" fill="#1abcfe" stroke="none"/><path d="M0 47.5C0 42.253 4.253 38 9.5 38H19v9.5c0 5.247-4.253 9.5-9.5 9.5C4.253 57 0 52.747 0 47.5z" fill-rule="nonzero" fill-opacity="1" fill="#0acf83" stroke="none"/><path d="M19 0v19h9.5c5.247 0 9.5-4.253 9.5-9.5C38 4.253 33.747 0 28.5 0H19z" fill-rule="nonzero" fill-opacity="1" fill="#ff7262" stroke="none"/><path d="M0 9.5C0 14.747 4.253 19 9.5 19H19V0H9.5C4.253 0 0 4.253 0 9.5z" fill-rule="nonzero" fill-opacity="1" fill="#f24e1e" stroke="none"/><path d="M0 28.5C0 33.747 4.253 38 9.5 38H19V19H9.5C4.253 19 0 23.253 0 28.5z" fill-rule="nonzero" fill-opacity="1" fill="#a259ff" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2,1    ),i=a(108     ),n=a(112          ),s=a(129           ),p=a(111          ),o=a(362                      ),l=a(361                                ),h=a(271                                        ),c=a(146                        ),m=a(392             ),u=a(377                                                ),d=a(366                           ),g=a(393                            );class A extends r.PureComponent{constructor(e){super(e),this.expirationTimer=null,this.formatGrantUrl=(e=>{if(!this.state.appAuth)return"";let t=`/app_auth/${this.state.appAuth.id}/grant`,a=new URLSearchParams;return e&&a.append("signup","true"),a.toString()&&(t+="?"+a.toString()),t}),this.openGrantUrl=(e=>{const t=this.formatGrantUrl(e);console.log("Opening: "+t),n.unsafeWindowOpen(t)}),this.requestAppAuth=(e=>{i.default.post("/api/session/app_auth",{app_type:this.props.appType}).then(t=>{this.setState({appAuth:t.data.meta},()=>{this.openGrantUrl(e),this.expirationTimer=setTimeout(this.expire,A.EXPIRATION_MS)})}).catch(e=>{console.error(e),this.expire()})}),this.componentWillUnmount=(()=>{this.expirationTimer&&clearTimeout(this.expirationTimer)}),this.expire=(()=>{this.props.dispatch(l.auth.showError({message:"An error has occurred. Please try again."})),this.setState({appAuth:null})}),this.onClickCancel=(()=>{this.expirationTimer&&clearTimeout(this.expirationTimer),this.setState({appAuth:null})}),this.onLoginClick=(()=>{this.requestAppAuth(!1)}),this.onSignupClick=(()=>{this.requestAppAuth(!0)}),this.state={appAuth:null}}render(){return this.state.appAuth?r.createElement("div",{className:m.formWide},r.createElement("div",{className:m.innerContainer},r.createElement(c.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(u.BrandSpacer,{multiple:4}),r.createElement("div",{className:m.header},"Go to the browser to complete login"),r.createElement(u.BrandSpacer,{multiple:3}),r.createElement("div",{className:m.footerText},"Not seeing the browser tab?",r.createElement("a",{tabIndex:-1,className:m.signupLink,onClick:this.onClickCancel},"Go back and try again")))):r.createElement("div",{className:m.form},r.createElement("div",{className:m.innerContainer},r.createElement(c.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(u.BrandSpacer,{multiple:4}),r.createElement("div",{className:m.header},"Welcome to Figma"),r.createElement(u.BrandSpacer,{multiple:3}),this.props.auth.error&&r.createElement(r.Fragment,null,r.createElement("div",{className:m.error},this.props.auth.error),r.createElement(u.BrandSpacer,{multiple:1})),r.createElement(u.BrandButton,{type:"submit",loading:this.props.auth.loading,onClick:this.onLoginClick},"Log in with browser"),r.createElement(u.BrandSpacer,{multiple:4}),r.createElement("div",{className:m.footerText},"No account?",r.createElement("a",{tabIndex:-1,className:m.signupLink,onClick:this.onSignupClick},"Create one"))))}}t.AppAuthDesktopRequestForm=A,A.displayName="AppAuthDesktopRequestForm ",A.EXPIRATION_MS=3e5;class S extends r.PureComponent{constructor(e){super(e),this.formatRedeemUrl=(()=>{if(!this.state.gSecret)return"";let e=`${this.props.auth.appAuthDesktopProtocol||"figma"}://app_auth/redeem`,t=new URLSearchParams;return t.append("g_secret",this.state.gSecret),t.toString()&&(e+="?"+t.toString()),e}),this.openAppToRedeem=(()=>{const e=this.formatRedeemUrl();n.unsafeRedirect(e),setTimeout(()=>{window.close()},2e4)}),this.grantAppAuth=(()=>{this.props.auth.appAuthId?i.default.post(`/api/session/app_auth/${this.props.auth.appAuthId}/grant`).then(e=>{this.setState({loading:!1,gSecret:e.data.meta.g_secret})}).catch(e=>{console.error(e),this.setState({loading:!1,gSecret:null})}):this.setState({loading:!1,gSecret:null})}),this.onClickOpenToRedeem=(()=>{p.segmentTrackEvent("AppAuth",{app_auth_id:this.props.auth.appAuthId,app_auth_status:"click_to_redeem"}),this.openAppToRedeem()}),this.openNativeLoginScreen=(()=>{const e=this.props.auth.appAuthAppType===o.AppAuthAppType.MOBILE?"mobile-app":"login";n.unsafeRedirect("figma://"+e)}),this.onClickSignoutAndTryAgain=(()=>{p.segmentTrackEvent("AppAuth",{app_auth_id:this.props.auth.appAuthId,app_auth_status:"signout_try_again"}),this.props.dispatch(l.auth.showForm({formState:o.AuthFormState.SIGN_IN}))}),this.onClickOpenToStartOver=(()=>{this.openNativeLoginScreen()}),this.state={loading:!0,gSecret:null}}componentDidMount(){this.grantAppAuth()}render(){const e=this.props.modal?m.modal:m.formWide,t=this.props.auth.appAuthAppType===o.AppAuthAppType.MOBILE?"Mirror":"Desktop";return this.state.loading?r.createElement(h.LoadingSpinner,null):r.createElement("div",{className:e},r.createElement("div",{className:m.innerContainer},r.createElement(c.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(u.BrandSpacer,{multiple:4}),this.state.gSecret&&r.createElement(r.Fragment,null,r.createElement("div",{className:m.header},"You're logged in as ",this.props.auth.email),r.createElement(u.BrandSpacer,{multiple:3}),r.createElement(u.BrandButton,{className:m.redeemButton,onClick:this.onClickOpenToRedeem},"Open the ",t," App"),r.createElement(u.BrandSpacer,{multiple:4}),r.createElement("div",{className:m.footerText},"Not ",this.props.auth.email,"?",r.createElement("a",{tabIndex:-1,className:m.signupLink,onClick:this.onClickSignoutAndTryAgain},"Log in with another account"))),!this.state.gSecret&&r.createElement(r.Fragment,null,r.createElement("div",{className:m.header},"Your login session has expired.",r.createElement("br",null),"Try again on the ",t," app."),r.createElement(u.BrandSpacer,{multiple:3}),r.createElement(u.BrandButton,{onClick:this.onClickOpenToStartOver},"Open the ",t," App"))))}}t.AppAuthGrantForm=S,S.displayName="AppAuthGrantForm";class E extends r.PureComponent{constructor(e){super(e),this.redeemAppAuth=(()=>{if(!this.props.auth.appAuthId||!this.props.auth.appAuthGSecret)return this.setState({loading:!1}),void this.handleError();i.default.post("/api/session/app_auth/redeem",{g_secret:this.props.auth.appAuthGSecret}).then(e=>{this.setState({loading:!1}),setTimeout(()=>{const e=this.props.auth.redirectUrl||(s.isAndroidMirrorApp()||s.isIosMirrorApp()?"/mobile-app":null);null!=e?(console.log("Opening: "+e),n.redirect(e)):d.reload()},500)}).catch(e=>{console.error(e),this.setState({loading:!1}),this.handleError()})}),this.handleError=(()=>{const e="An error has occurred. Please try again.";if(s.isAndroidMirrorApp()||s.isIosMirrorApp()){let t=new URLSearchParams;t.append("error",e),n.redirect("/mobile-app?"+t.toString())}else this.props.dispatch(l.auth.showError({message:e})),this.props.dispatch(l.auth.redeemReset())}),this.state={loading:!0}}componentDidMount(){this.redeemAppAuth(),n.debouncedHistoryReplaceState({},"","/login")}render(){const e=this.props.modal?m.modal:m.formWide;return this.state.loading?r.createElement(h.LoadingSpinner,null):r.createElement("div",{className:e},r.createElement("div",{className:m.innerContainer},r.createElement(c.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(u.BrandSpacer,{multiple:4}),r.createElement(r.Fragment,null,r.createElement("div",{className:m.message},"Loading..."),r.createElement(h.LoadingSpinner,null))))}}t.AppAuthRedeemForm=E,E.displayName="AppAuthRedeemForm"}),
(function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=e(2,1    ),n=e(112          ),i=e(379             ),a=e(362                      ),r=e(370                                                       ),h=e(377                                                ),l=e(147                                            ),c=e(361                                ),p=e(380                                   );class u extends s.PureComponent{constructor(){super(...arguments),this.onAbandonSSO=(()=>{this.props.auth.existingSession?n.redirect("/"):this.props.dispatch(c.auth.showForm({formState:a.AuthFormState.EMAIL_ONLY}))}),this.onGoogleClick=(()=>{i.doGoogleLoginOrSignup(this.props.dispatch).then(this.onGoogleSuccess,o=>{this.handleGoogleError(o)})}),this.onGoogleSuccess=(()=>{this.props.dispatch(c.auth.complete())}),this.handleGoogleError=(o=>{this.props.dispatch(c.auth.showError({message:o}))}),this.onSamlClick=(()=>{this.props.dispatch(c.auth.samlStartFromSession())})}render(){const o=this.props.auth.ssoMethod===a.SSOMethod.GOOGLE?"Google":"SAML SSO",t=`To continue, join ${this.props.auth.orgName} by logging in with ${o}`,e=this.props.auth.existingSession?`Cancel and do not join ${this.props.auth.orgName}`:"Go back to change email";return s.createElement(r.AuthForm,Object.assign({},this.props,{className:p.centerText,header:t,onSubmit:null}),this.props.auth.ssoMethod===a.SSOMethod.GOOGLE&&s.createElement(h.GoogleAuthButton,{text:"Log in with Google",onClick:this.onGoogleClick}),this.props.auth.ssoMethod===a.SSOMethod.SAML&&s.createElement(h.BrandButton,{type:"submit",onClick:this.onSamlClick,loading:this.props.auth.loading},"Log in with SAML"),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement("div",{className:p.footer},s.createElement("div",{className:p.footerButtonRow},s.createElement(l.LinkInline,{onClick:this.onAbandonSSO},e))))}}t.SSOGateForm=u,u.displayName="ForceSamlForm"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2,1    ),i=n(370                                                       ),s=n(377                                                ),a=n(380                                   ),o=n(372                            );class m extends r.PureComponent{render(){return r.createElement(i.AuthForm,Object.assign({},this.props,{className:a.centerText,header:"Log in to Figma to continue",onSubmit:this.props.onFormSubmit(this.props.id)}),r.createElement(o.AuthEmailInput,Object.assign({},this.props)),r.createElement(s.BrandSpacer,{multiple:4}),r.createElement(s.BrandButton,{type:"submit",loading:this.props.auth.loading},"Log in"))}}t.EmailOnlyForm=m,m.displayName="EmailOnlyForm"}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(2,1    ),r=s(112          ),o=s(211              ),i=s(129           ),h=s(361                                ),p=s(362                      ),n=s(378                                                                 ),m=s(381                                                                                ),u=s(383                                                                        ),S=s(387                                                                        ),c=s(389                                             ),A=s(391                                           ),d=s(394                                 ),l=s(395                                 ),_=s(396                                     );s(134                               );class F extends a.PureComponent{componentWillUnmount(){this.props.dispatch(h.auth.clearError()),this.props.dispatch(h.auth.showForm({formState:p.AuthFormState.SIGN_UP}))}static title(t){switch(t.auth.formState){case p.AuthFormState.SAML_START:return"Log in with SAML SSO";default:return"Figma"}}static headerActionText(t){if(t.auth.formState===p.AuthFormState.APP_AUTH_REDEEM)return"Go back and try again"}static headerAction(t){if(t.auth.formState===p.AuthFormState.APP_AUTH_REDEEM)return()=>{i.isAndroidMirrorApp()||i.isIosMirrorApp()?r.redirect("/mobile-app"):t.dispatch(h.auth.redeemReset())}}render(){switch(this.props.auth.formState){case p.AuthFormState.SIGN_IN:case p.AuthFormState.SIGN_UP:case p.AuthFormState.SIGN_UP_EXTRA_INFO:case p.AuthFormState.RESET_PASSWORD:case p.AuthFormState.VALIDATE_CODE:case p.AuthFormState.SAML_START:case p.AuthFormState.EMAIL_ONLY:return a.createElement(E,Object.assign({},this.props));case p.AuthFormState.FORGOT_PASSWORD:return a.createElement(n.ForgotPasswordForm,Object.assign({},this.props));case p.AuthFormState.SENT_PASSWORD_RESET:return a.createElement(n.SentPasswordReset,Object.assign({},this.props));case p.AuthFormState.VALIDATE_EMAIL:return a.createElement(c.ValidateEmail,Object.assign({},this.props));case p.AuthFormState.APP_AUTH_GRANT:return a.createElement(d.AppAuthGrantForm,Object.assign({},this.props));case p.AuthFormState.APP_AUTH_REDEEM:return a.createElement(d.AppAuthRedeemForm,Object.assign({},this.props));case p.AuthFormState.SSO_GATE:return a.createElement(l.SSOGateForm,Object.assign({},this.props))}}}e.AuthView=F,F.displayName="AuthView";class E extends a.PureComponent{constructor(){super(...arguments),this.state={password:""},this.onFormSubmit=(t=>e=>{let s=document.getElementById(t).elements;switch(s.totp_key&&s.totp_key.select(),s.password&&(s.password.select(),this.setState({password:s.password.value}),this.props.dispatch(h.auth.setGoogleIdToken({googleIdToken:null}))),this.props.auth.formState){case p.AuthFormState.SIGN_IN:this.props.dispatch(h.auth.signIn({formId:t}));break;case p.AuthFormState.RESET_PASSWORD:this.props.dispatch(h.auth.resetPassword({formId:t}));break;case p.AuthFormState.VALIDATE_CODE:this.props.dispatch(h.auth.validateCode({formId:t}));break;case p.AuthFormState.SAML_START:this.props.dispatch(h.auth.sendEmailSamlStart({formId:t}));break;case p.AuthFormState.SIGN_UP_EXTRA_INFO:this.props.dispatch(h.auth.signUp({formId:t}));break;case p.AuthFormState.SIGN_UP:this.props.dispatch(h.auth.signUpExtraInfo({formId:t}));break;case p.AuthFormState.EMAIL_ONLY:this.props.dispatch(h.auth.emailOnly({formId:t}))}this.props.onBlur&&this.props.onBlur(e,!0)}),this.setAuthFormsState=(t=>(t=>{this.setState(t)})(t))}UNSAFE_componentWillMount(){this.props.auth.formState!==p.AuthFormState.SIGN_UP_EXTRA_INFO&&(this.props.dispatch(h.auth.setGoogleIdToken({googleIdToken:null})),this.setState({password:null}))}render(){return o.desktopApp?a.createElement(d.AppAuthDesktopRequestForm,Object.assign({appType:p.AppAuthAppType.DESKTOP},this.props)):this.props.auth.twoFactorRequired?a.createElement(u.TwoFactorForm,Object.assign({password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SIGN_IN?a.createElement(m.SignInForm,Object.assign({setAuthFormsState:this.setAuthFormsState,password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SIGN_UP?a.createElement(m.SignUpForm,Object.assign({setAuthFormsState:this.setAuthFormsState,password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SIGN_UP_EXTRA_INFO?a.createElement(S.SignUpExtraInfoForm,Object.assign({onFormSubmit:this.onFormSubmit,password:this.state.password,googleIdToken:this.props.auth.googleIdToken},this.props)):this.props.auth.formState===p.AuthFormState.RESET_PASSWORD?a.createElement(n.ResetPasswordForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.VALIDATE_CODE?a.createElement(A.ValidateCode,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SAML_START?a.createElement(m.SamlStartForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.EMAIL_ONLY?a.createElement(_.EmailOnlyForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):void 0}}e.AuthForms=E,E.displayName="AuthForms"}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var u=t(361                      );a.authActions=u.auth;var i=t(367                         );a.authMiddleware=i.authMiddleware;var r=t(397                                   );a.AuthView=r.AuthView;var h=t(365             );a.authHelpers=h.authHelpers}),
(function(o,a,d){o.exports={modal:"auth_modal--modal--Sg5hJ"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(2,1    ),s=a(154                                 ),r=a(398               ),h=a(362                      ),l=a(148                                  ),d=a(399               ),i=a(136                   );t.AUTH_MODAL="auth-modal",i.registerUnsafeModal(t.AUTH_MODAL,e=>{let t=e.modalShown;const a=e.editingFileKey&&e.fileByKey&&e.fileByKey[e.editingFileKey],s=t.data&&t.data.headerText,r=t.data&&!!t.data.showHandleForm;return o.createElement(p,{file:a||null,headerText:s,showHandleForm:r,auth:e.auth,dispatch:e.dispatch})});class p extends o.Component{headerText(e){const t=e?`"${e}"`:"this file";let a;return a=this.props.auth.formState===h.AuthFormState.SIGN_IN?`Log in to collaborate on ${t}`:`Create an account to collaborate on ${t}`,this.props.headerText?this.props.headerText:a}render(){const e=this.props.file&&this.props.file.name;return o.createElement(s.Modal,{className:d.modal,disableClickOutsideToHide:this.props.auth.formState===h.AuthFormState.SIGN_UP_EXTRA_INFO,dispatch:this.props.dispatch},o.createElement(l.TabLoop,null,o.createElement(r.AuthView,{id:"auth-view-modal",auth:this.props.auth,modal:!0,dispatch:this.props.dispatch,header:this.headerText(e),showHandleForm:!!this.props.showHandleForm})))}}t.AuthModal=p,p.displayName="AuthModal"}),
(function(e,i,t){"use strict";var a=this&&this.__rest||function(e,i){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)i.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]])}return t};Object.defineProperty(i,"__esModule",{value:!0});const l=t(108     ),s=t(175                            ),o=t(91                  ),r=t(111          ),u=t(113                                     ),n=t(356                ),d=t(98                  ),c=t(353                                  ),h=t(100                               ),p=t(357                  ),b=t(301                        ),_=t(279                             ),m=t(172                                              ),F=t(304                          ),g=t(360                     ),f=t(112          ),I=t(300                              ),A=t(261                               ),H=t(129           ),E=t(398               ),v=t(400                         );function y(e,i){if(!e||!e.id)throw new Error(`${i} Invalid hubFile id`);const t=e.current_hub_file_version_id;if(!t)throw new Error(`${i} Invalid hubFile ${e.id}: current version id does not exist`);if(!e.versions||!e.versions[t])throw new Error(`${i} Invalid hubFile ${e.id}: version id ${t} does not exist in versions`);return e}async function P(e,i,t=!1){let a=Promise.resolve({cover_image_uploaded:!1,signature:null});if(i&&i.length){const{cover_image_upload_url:s,signature:o}=await l.default.post("/api/hub_files/upload",{file_version_id:e,is_canvas_thumbnail:t}).then(({data:e})=>e.meta).catch(e=>{var i;throw new Error((null===(i=e.data)||void 0===i?void 0:i.message)||"Could not connect to the server.")});a=l.default.put(s,i,{raw:!0,headers:Object.assign(Object.assign({},l.default.defaults.headers),{"Content-Type":"image/png"})}).then(()=>({cover_image_uploaded:!0,signature:o})).catch(e=>{var i;throw new Error((null===(i=e.data)||void 0===i?void 0:i.message)||"Error connecting to server to upload file thumbnail.")})}return a}i.putAll=o.actionCreator("HUB_FILE_PUT_ALL"),i.delAll=o.actionCreator("HUB_FILE_DEL_ALL"),i.putFigFilePublishedAsHubFile=o.actionCreator("PUT_FIG_FILE_PUBLISHED_AS_HUB_FILE"),i.delFigFilePublishedAsHubFile=o.actionCreator("DEL_FIG_FILE_PUBLISHED_AS_HUB_FILE"),i.putFigFileRemixedFromHubFile=o.actionCreator("PUT_FIG_FILE_REMIXED_FROM_HUB_FILE"),i.delFigFileRemixedFromHubFile=o.actionCreator("DEL_FIG_FILE_REMIXED_FROM_HUB_FILE"),i.putHubFileRemix=o.actionCreator("HUB_FILE_PUT_HUB_FILE_REMIX"),i.duplicateHubFile=h.asyncActionCreator("DUPLICATE_HUB_FILE",(e,i,t)=>{const{user:a}=e.getState();if(!a){const i="Log in or create an account to duplicate this file";return H.isMobileBrowser?void(window.location.href="/login"):(e.dispatch(E.authActions.init({origin:origin})),void e.dispatch(u.fileBrowser.showModal({type:v.AUTH_MODAL,data:{headerText:i}})))}const s=l.default.post(`/api/hub_files/${i.hubFileId}/copy`);c.registerLoadingState(s,e,t),s.then(({data:e})=>{const t=e.meta;r.segment.track("Hub File Duplicated",{hubFileId:i.hubFileId,figFileKey:t.key}),f.redirect(t.url,H.isMobileBrowser?void 0:"_blank")}).catch(i=>{e.dispatch(_.visualBellActions.enqueue({error:!0,message:`Failed to duplicate file: ${i.message}`}))})},(e,{hubFileId:i})=>`${e}_${i}`),i.createFileFromTemplate=h.asyncActionCreator("CREATE_FROM_TEMPLATE_HUB_FILE",(e,i)=>{l.default.post(`/api/hub_files/${i.hubFileId}/copy`,{folder_id:i.folderId}).then(({data:e})=>{const t=e.meta;r.segment.track("Hub File Duplicated",{hubFileId:i.hubFileId,figFileKey:t.key}),f.redirect(t.url,i.openInNewTab&&!H.isMobileBrowser?"_blank":void 0)}).catch(i=>{e.dispatch(_.visualBellActions.enqueue({error:!0,message:`Failed to create template file: ${i.message}`}))})}),i.mergeAndValidate=h.asyncActionCreator("HUB_FILE_MERGE_AND_VALIDATE",(e,{hubFiles:t,src:a})=>{if(!t)return;const l=[],s=[];for(const i of t)if(i.unpublished_at)s.push(i);else try{l.push(y(i,a))}catch(o){console.error(o)}e.dispatch(i.putAll(l)),e.dispatch(i.delAll(s))}),i.getHubFileVersions=h.asyncActionCreator("HUB_FILE_GET_VERSIONS",(e,{hubFileId:t},s)=>{const o=l.default.get(`/api/hub_files/${t}/versions`);c.registerLoadingState(o,e,s),o.then(({data:l})=>{const s=l.meta,{fig_file_metadata:o,remixed_from_metadata:r,remixed_to_metadata:n}=s,d=a(s,["fig_file_metadata","remixed_from_metadata","remixed_to_metadata"]),c=r?[...n,r,d]:[...n,d];e.dispatch(i.mergeAndValidate({hubFiles:c,src:"getHubFileVersions"})),o&&e.dispatch(i.putFigFilePublishedAsHubFile({hubFileId:d.id,fileKey:o.key})),e.dispatch(i.putHubFileRemix({hubFileId:d.id,from:r?r.id:null,to:new Set(n.map(e=>e.id))}));const{selectedView:h}=e.getState();"communityHub"===h.view&&"hubFile"===h.subView&&h.hubFileId===t&&e.dispatch(u.fileBrowser.selectView(h))})},(e,{hubFileId:i})=>`${e}_${i}`),i.getHubFileMetadata=h.asyncActionCreator("HUB_FILE_GET_METADATA",(e,{fileKey:t})=>{l.default.get("/api/hub_file_metadata",{file_key:t}).then(({data:a})=>{const l=a.meta.published_as;(null==l?void 0:l.id)?e.dispatch(i.putFigFilePublishedAsHubFile({hubFileId:l.id,fileKey:t})):e.dispatch(i.delFigFilePublishedAsHubFile({fileKey:t}));const s=a.meta.remixed_from_metadata;(null==s?void 0:s.id)?e.dispatch(i.putFigFileRemixedFromHubFile({hubFileId:s.id,fileKey:t})):e.dispatch(i.delFigFileRemixedFromHubFile({fileKey:t}));const o=[l,s].filter(e=>!!e);o.length>0&&e.dispatch(i.mergeAndValidate({hubFiles:o,src:"getHubFileMetadata"}))}).catch(e=>{console.log(e)})}),i.hubFilePublishingActions=F.publishingStateActionCreator("HUB_FILE"),i.updateHubFilePublishingMetadata=i.hubFilePublishingActions.updateMetadata,i.updateHubFilePublishingStatus=i.hubFilePublishingActions.updateStatus,i.clearHubFilePublishing=i.hubFilePublishingActions.clearMetadataAndStatus,i.clearHubFilePublishingMetadata=i.hubFilePublishingActions.clearMetadata,i.createHubFile=h.asyncActionCreator("HUB_FILE_CREATE",(e,t)=>{e.dispatch(i.updateHubFilePublishingStatus({id:t.fileKey,status:{code:I.HubPublishingStatusCode.UPLOADING}})),async function(e,i){const{fileKey:t,name:a,description:s,tags:o,thumbnailBuffer:r,canvasThumbnailBuffer:u,viewerMode:n,scalingMode:d,authorOrgId:c,authorTeamId:h,thumbnailIsSet:_,validPrototype:m}=i;if(c&&h)throw new Error("Attempting to set both authorOrgId and authorTeamId while publishing");if(n===b.ViewerModeToPublishAs.PROTOTYPE&&A.PrototypingHelpers.firstPagePrototypeStatus()!==A.PrototypeStatus.VALID)throw new Error("Attempting to publish an invalid prototype as a prototype");const F=await p.createSavepoint(t,"Published to Community Hub",s,e).then(e=>e.id).catch(e=>{var i;throw new Error((null===(i=e.data)||void 0===i?void 0:i.message)||"Could not connect to the server.")});let g,f;try{[g,f]=await Promise.all([P(F,r),P(F,u,!0)])}catch(H){throw new Error(`Error uploading images ${H}`)}const I={file_version_id:F,name:a,description:s,tags:o,signature:g.signature,cover_image_uploaded:g.cover_image_uploaded,canvas_cover_image_signature:f.signature,canvas_cover_image_uploaded:f.cover_image_uploaded,viewer_mode:n,scaling_mode:d,author_org_id:c,author_team_id:h,thumbnail_is_set:_,valid_prototype:m};return l.default.post("/api/hub_files",I).then(({data:e})=>{const i=e.meta;return{hubFile:i.hub_file,profile:i.profile,profileCreated:i.profile_created}}).catch(e=>{var i;throw new Error((null===(i=e.data)||void 0===i?void 0:i.message)||"Could not connect to the server.")})}(e,t).then(({hubFile:a,profile:l,profileCreated:s})=>{e.dispatch(i.mergeAndValidate({hubFiles:[a],src:"createHubFile"})),e.dispatch(i.putFigFilePublishedAsHubFile({hubFileId:a.id,fileKey:t.fileKey})),s&&(l.profile_created=s),e.dispatch(n.putCommunityProfile(l)),e.dispatch(i.updateHubFilePublishingStatus({id:t.fileKey,status:{code:I.HubPublishingStatusCode.SUCCESS}}))}).catch(a=>{e.dispatch(m.visualBell.enqueue({message:a.message,type:"hub-file-created-error",error:!0})),e.dispatch(i.updateHubFilePublishingStatus({id:t.fileKey,status:{code:I.HubPublishingStatusCode.FAILURE,error:a.message}}))})}),i.updateHubFile=h.asyncActionCreator("UPDATE_HUB_FILE",(e,{payload:t,successHandler:a})=>{const{hubFileId:s,hideRemixes:o,name:r,description:u,tags:n,viewerMode:c,scalingMode:h}=t,p={hide_remixes:o,name:r,description:u,tags:n,viewer_mode:c,scaling_mode:h};l.default.put(`/api/hub_files/${s}`,p).then(({data:t})=>{const a=t.meta;e.dispatch(i.mergeAndValidate({hubFiles:[a],src:"updateHubFile"}))}).then(()=>{a&&a()}).catch(i=>{throw e.dispatch(d.flashActions.error("An error occurred while updating. Please refresh and try again.")),new Error(`Error updating file ${i}`)})}),i.unpublishHubFile=h.asyncActionCreator("UNPUBLISH_HUB_FILE",(e,{hubFileId:t,redirectLink:a})=>{l.default.del(`/api/hub_files/${t}`).then(({data:t})=>{const a=t.meta;e.dispatch(i.mergeAndValidate({hubFiles:[a],src:"unpublishHubFile"}))}).then(()=>{a&&f.redirect(a)}).catch(e=>{console.log(e)})}),i.showPublishHubFileModal=h.asyncActionCreator("SHOW_PUBLISH_HUB_FILE_MODAL",(e,{fileKey:t,isEditHubFilePageMode:a=!1,thumbnailBuffer:l=null,thumbnailUrl:o=""})=>{var r;const n=e.getState(),d=n.publishingHubFiles[t];if(null==t||d){const l=Object.assign({},null==d?void 0:d.metadata),s=n.fileByKey[t];a||(null===(r=null==d?void 0:d.metadata)||void 0===r?void 0:r.viewerModeToPublishAs)!==b.ViewerModeToPublishAs.PROTOTYPE||A.PrototypingHelpers.firstPagePrototypeStatus()===A.PrototypeStatus.VALID||(l.viewerModeToPublishAs=b.ViewerModeToPublishAs.CANVAS),s&&!!s.thumbnail_guid!=l.thumbnailIsSet&&(l.thumbnailIsSet=!!s.thumbnail_guid),e.dispatch(i.updateHubFilePublishingMetadata({id:t,metadata:l}))}else e.dispatch(i.updateHubFilePublishingMetadata({id:t,metadata:g.getDefaultHubFileVersionMetadata(n,t,a)}));e.dispatch(u.fileBrowser.showModal({type:s.HUB_FILE_PUBLISH_MODAL,data:{fileKey:t,isEditHubFilePageMode:a,thumbnailBuffer:l,thumbnailUrl:o}}))}),i.getCommunityProfileHubFiles=h.asyncActionCreator("GET_COMMUNITY_PROFILE_HUB_FILES",(e,t,a)=>{const s=l.default.get(`/api/hub_files/profile/${t}`);c.registerLoadingState(s,e,a),s.then(({data:t})=>{const a=t.meta;e.dispatch(i.mergeAndValidate({hubFiles:a,src:"getCommunityProfileHubFiles"}))})},(e,i)=>`${e}_${i}`),i.optimisticDuplicateHubFile=h.optimisticActionCreator("DUPLICATE_HUB_FILE",async(e,{hubFileId:i,viewContext:t},a)=>{l.default.post(`/api/hub_files/${i}/copy`).then(({data:l})=>{e.dispatch(h.optimistActions.commit(a));const s=l.meta;e.dispatch(m.visualBell.enqueue({message:"File duplicated to your drafts",type:"hub-file-duplicate",button:{text:"View",action:()=>{f.redirect(s.url,H.isMobileBrowser?void 0:"_blank")}}})),r.segment.track("Hub File Duplicated",{hubFileId:i,figFileKey:s.key,viewContext:t})}).catch(i=>{e.dispatch(h.optimistActions.revert(a)),e.dispatch(_.visualBellActions.enqueue({message:`Unable to duplicate: ${i.data.message}`,type:"HUB_FILE_DUPLICATE_FAILED",error:!0}))})}),i.likeHubFile=h.optimisticActionCreator("LIKE_HUB_FILE",async(e,{hubFileId:t},a)=>{l.default.post(`/api/hub_files/${t}/like`).then(({data:t})=>{e.dispatch(h.optimistActions.commit(a));const l=t.meta;e.dispatch(i.putAll([y(l,"likeHubFile")]))}).catch(i=>{e.dispatch(h.optimistActions.revert(a)),e.dispatch(_.visualBellActions.enqueue({message:`Unable to like this file: ${i.data.message}`,type:"HUB_FILE_LIKE_FAILED",error:!0}))})}),i.unlikeHubFile=h.optimisticActionCreator("UNLIKE_HUB_FILE",async(e,{hubFileId:t},a)=>{l.default.del(`/api/hub_files/${t}/like`,{hubFileId:t}).then(({data:t})=>{e.dispatch(h.optimistActions.commit(a));const l=t.meta;e.dispatch(i.putAll([y(l,"unlikeHubFile")]))}).catch(i=>{e.dispatch(h.optimistActions.revert(a)),e.dispatch(_.visualBellActions.enqueue({message:`Unable to unlike this file: ${i.data.message}`,type:"HUB_FILE_UNLIKE_FAILED",error:!0}))})}),i.viewHubFile=h.asyncActionCreator("VIEW_HUB_FILE",async(e,{hubFileId:i})=>{l.default.post(`/api/hub_files/${i}/view`,{hubFileId:i})})}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=s(91                  ),t=s(86            ),c=s(108     ),o=s(179        ),n=s(353                                  ),i=s(354                   ),S=s(303                             ),p=s(351                      ),h=s(355                                ),l=s(100                               ),d=s(279                             ),u=s(401                                               );!function(e){const r=(e=>t.debounce(e=>{e()},300))(),s={[p.SearchModelType.HUB_FILES]:"/api/search/hub_files",[p.SearchModelType.PUBLIC_PROFILES]:"/api/search/hub_profiles",[p.SearchModelType.PUBLIC_PLUGINS]:"/api/search/plugins",[p.SearchModelType.PRIVATE_PLUGINS]:"/api/search/plugins",[p.SearchModelType.FILES]:"/api/search/fig_files",[p.SearchModelType.PROJECTS]:"/api/search/folders",[p.SearchModelType.USERS]:"/api/search/users",[p.SearchModelType.TEAMS]:"/api/search/teams"};e.setParameters=a.actionCreator("SEARCH_SET_PARAMETERS"),e.reset=a.actionCreator("SEARCH_RESET"),e.clearQuery=a.actionCreator("SEARCH_CLEAR_QUERY"),e.setFocus=a.actionCreator("SEARCH_SET_FOCUS"),e.setMoreResultsModelType=a.actionCreator("SEARCH_SET_MORE_RESULTS_MODEL_TYPE");e.setResponse=(()=>{const e=a.actionCreator("SEARCH_SET_RESPONSE"),r=r=>e(r);return r.matches=e.matches,r})(),e.setSearchScrollTop=a.actionCreator("SEARCH_SET_SCROLL_TOP"),e.resetResponses=a.actionCreator("SEARCH_RESET_RESPONSES"),e.startSession=a.actionCreator("SEARCH_START_SESSION"),e.incrementQueryCount=a.actionCreator("SEARCH_NEW_QUERY_START"),e.endSession=l.asyncActionCreator("SEARCH_END_SESSION",(e,r,s)=>{h.Search.Session.trackEnd(e.getState().search)}),e.search=l.asyncActionCreator("SEARCH",(r,s,a)=>{void 0!==s.parameters&&r.dispatch(e.setParameters(Object.assign({},s.parameters)));const t=r.getState(),c=t.search.parameters,{sessionId:o}=t.search,{query:l,searchScope:u,searchModelType:y}=c,T=p.scopeDefinitions[u].modelTypes.filter(e=>e!==y),g=i.getInactiveScope(u,t),R=S.communityHubBrowsingEnabled()&&!!t.user?p.scopeDefinitions[g].modelTypes:[],m={searchScope:u,currentOrgId:t.currentOrgId},C={searchScope:g,currentOrgId:t.currentOrgId};if(!l||""===l.trim())return void r.dispatch(e.clearQuery());const O=h.newQueryId(),A=_(o,c,y,s.precacheInactiveTypes,m,r,O);n.registerLoadingState(A,r,a),A.then(()=>{if(!s.precacheInactiveTypes)return void console.log("Search success");const e=[...T.map(e=>_(o,c,e,!1,m,r,O))],a=[...R.map(e=>_(o,c,e,!1,C,r,O))];Promise.all(e).then(()=>{console.log("Search success"),E(r)},()=>{console.error("Inactive types search failed")}),Promise.all(a)},()=>{console.error("Active type search failed"),r.dispatch(d.visualBellActions.enqueue({error:!0,message:"Search failed. Try searching again."}))})},(e,{parameters:r})=>`${e}_${null==r?void 0:r.query}`);const _=(r,a,t,n,i,S,h)=>{const{query:l,sortState:d}=a,_=Date.now();return r||console.error("We shouldn't be searching without setting a sessionId"),new Promise((E,y)=>{const T=s[t];let g=Object.assign(Object.assign(Object.assign({query:l},((e,r)=>{switch(e){case p.SearchModelType.HUB_FILES:return{sort:r[e].sortKey};case p.SearchModelType.PUBLIC_PLUGINS:case p.SearchModelType.PRIVATE_PLUGINS:case p.SearchModelType.TEAMS:case p.SearchModelType.PROJECTS:case p.SearchModelType.FILES:case p.SearchModelType.USERS:return{sort:r[e].sortKey,desc:r[e].sortDesc};case p.SearchModelType.PUBLIC_PROFILES:return{};default:o.assertNever(e)}})(t,d)),(e=>e.searchScope!==p.SearchScope.ORG&&e.searchScope!==p.SearchScope.ORG_GUEST?{current_org_id:e.currentOrgId}:{org_id:e.currentOrgId,current_org_id:e.currentOrgId})(i)),{query_id:h,session_id:r||""});c.default.get(T,g).then(r=>{if(n&&(S.dispatch(e.resetResponses()),S.dispatch(e.incrementQueryCount())),S.dispatch(e.setResponse({parameters:Object.assign(Object.assign({},a),{searchModelType:t}),response:Object.assign(Object.assign({},r.data.meta),{metrics:{roundTripTime:Date.now()-_}}),queryId:h})),t===p.SearchModelType.HUB_FILES){const e=r.data.meta.results.map(e=>e.model);S.dispatch(u.mergeAndValidate({hubFiles:e,src:"search"}))}E()},e=>{console.error(e),y()})})},E=r=>{const s=r.getState().search;if(s.moreResultsModelType)return;const{searchScope:a}=s.parameters;if(a!==p.SearchScope.ORG&&a!==p.SearchScope.ORG_GUEST&&a!==p.SearchScope.PERSONAL)return;let t=null,c=0;p.scopeDefinitions[a].modelTypes.forEach(e=>{if(e===p.SearchModelType.FILES)return;const r=s.responseCounts[e]||0;r>c&&(c=r,t=e)}),t&&r.dispatch(e.setMoreResultsModelType({moreResultsModelType:t}))};e.changeSearchQuery=l.asyncActionCreator("SEARCH_CHANGE_SEARCH_QUERY",(s,a)=>{const t=s.getState(),c=()=>{const r=e=>e.trim().split(/\s+/),c=r(t.search.parameters.query),o=r(a.query);JSON.stringify(c)!==JSON.stringify(o)?(s.getState().search.sessionId||(s.dispatch(e.startSession({entryPoint:"unattributed"})),console.error("No search session when changing query")),s.dispatch(e.search({parameters:Object.assign({},a),precacheInactiveTypes:!0}))):s.dispatch(e.changeSearchModelOrScope({searchModelType:a.searchModelType,searchScope:a.searchScope}))};a.debounce?r(c):c()}),e.changeSortState=l.asyncActionCreator("SEARCH_CHANGE_SORT_STATE",(r,s)=>{const a=r.getState().search.parameters.sortState;a&&JSON.stringify(a)!==JSON.stringify(s.sortState)&&r.dispatch(e.search({parameters:Object.assign({},s),precacheInactiveTypes:!1}))}),e.changeSearchModelOrScope=l.asyncActionCreator("SEARCH_CHANGE_SEARCH_SCOPE",(r,s)=>{r.dispatch(e.setParameters(Object.assign({},s)));const a=r.getState(),t=a.search.parameters.searchModelType;a.search.responses&&null!==a.search.responses[t]?h.Search.Session.trackResult(a.search):r.dispatch(e.search({precacheInactiveTypes:!0}))})}(r.searchActions||(r.searchActions={}))}),
(function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.SPACER="spacer"}(i.ViewOptions||(i.ViewOptions={})),function(e){e[e.VIEW_MODE=0]="VIEW_MODE",e[e.SORT_MODE=1]="SORT_MODE"}(i.ViewBarOptionTypes||(i.ViewBarOptionTypes={}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(88           ),r=o(113                                     ),n=o(403                                );function a(e){const t=i.localStorageOrNull&&i.localStorageOrNull.getItem(e)||"{}";try{return JSON.parse(t)}catch(o){return{}}}function s(e,t){if(i.localStorageOrNull)try{const r=JSON.stringify(t);i.localStorageOrNull.setItem(e,r)}catch(o){}return t}t.storageKeyByOptionType={[n.ViewBarOptionTypes.VIEW_MODE]:"view-bar-view-mode-option",[n.ViewBarOptionTypes.SORT_MODE]:"view-bar-sort-options"},t.viewBarViewModeOptionByView=function(e={},o){if(r.fileBrowser.hydrate.matches(o))return a(t.storageKeyByOptionType[n.ViewBarOptionTypes.VIEW_MODE]);if(r.fileBrowser.setViewBarViewModeOptionForView.matches(o)){const i=Object.assign(Object.assign({},e),{[o.payload.viewId]:o.payload.viewMode});return s(t.storageKeyByOptionType[n.ViewBarOptionTypes.VIEW_MODE],i)}return e},t.viewBarSortOptionsByView=function(e={},o){if(r.fileBrowser.hydrate.matches(o))return a(t.storageKeyByOptionType[n.ViewBarOptionTypes.SORT_MODE]);if(r.fileBrowser.setViewBarSortOptionsForView.matches(o)){const i=Object.assign(Object.assign({},e),{[o.payload.viewId]:o.payload.sortMode});return s(t.storageKeyByOptionType[n.ViewBarOptionTypes.SORT_MODE],i)}return e},t.getValidOptionsForViewMode=function(e,t,o){var i;return null!==(i=t.viewBarViewModeOptionByView[e])&&void 0!==i?i:o},t.getValidOptionsForSortMode=function(e,t,o,i){const r=t.viewBarSortOptionsByView[e];return r&&-1!==o.indexOf(r.sortKey)?r:i}}),
(function(e,t,o){e.exports={row:"entity--row--39iSC table--row--F9DxE",headerRow:"entity--headerRow--1bvIf entity--row--39iSC table--row--F9DxE",loadingRow:"entity--loadingRow--3nZfK entity--row--39iSC table--row--F9DxE",headerCell:"entity--headerCell--38zTQ",sortableField:"entity--sortableField--24nJX",arrow:"entity--arrow--2rOgR",longList:"entity--longList--17uER"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(2,1    ),r=t(122          ),i=t(271                                        ),p=t(405           );class n extends o.PureComponent{render(){const e=Object.assign(Object.assign({},this.props.style),this.props._top&&this.props._top>=0?{top:this.props._top}:{});return o.createElement("div",{className:`${this.props.header?p.headerRow:p.row} ${this.props.className||""}`,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,style:e},this.props.children)}}s.TableRow=n,n.displayName="TableRow";class l extends o.PureComponent{render(){return o.createElement(n,{className:`${p.loadingRow} ${this.props.className||""}`},o.createElement(i.LoadingSpinner,null))}}s.LoadingRow=l,l.displayName="LoadingRow";class a extends o.PureComponent{render(){return o.createElement("div",{className:`${p.headerCell} ${this.props.className||""}`,onClick:this.props.onClick?this.props.onClick:void 0},this.props.children)}}s.HeaderCell=a,a.displayName="HeaderCell";class h extends o.PureComponent{constructor(){super(...arguments),this.sortBy=(()=>{this.props.sortBy(this.props.field)})}render(){const e=this.props.isDescending?"↓":"↑";return o.createElement("div",{className:`${p.sortableField} ${this.props.className||""}`,onClick:this.sortBy},this.props.children,this.props.hasArrow&&o.createElement("div",{className:p.arrow},e))}}s.SortableField=h,h.displayName="SortableHeaderCell";class c extends o.PureComponent{constructor(){super(...arguments),this.itemsWithTops=r.memoizeLast(e=>{const s=[];let t=0;for(let o=0;o<e.length;o++)s.push(Object.assign(Object.assign({},e[o]),{_top:t})),t+=this.props.itemHeight;return s}),this.filteredList=(()=>{const e=this.itemsWithTops(this.props.unfilteredItems),s=s=>{let t,o=e.length,r=0,i=o-1,p=0;if(s<=0)return 0;if(o>0&&s>=e[o-1]._top+this.props.itemHeight)return o-1;for(;r<=i;)if((t=e[p=(r+i)/2|0])._top+this.props.itemHeight<s)r=p+1;else{if(!(t._top>s))return p;i=p-1}return p},t=this.props.itemBufferCount?this.props.itemBufferCount*this.props.itemHeight:0,o=this.props.scrollTop-t,r=this.props.scrollTop+this.props.listHeight+t,i=s(o),p=s(r);return e.slice(i,p+1)})}render(){const e=this.filteredList(),s=this.props.unfilteredItems.length*this.props.itemHeight,t=[];for(let r=0;r<e.length;r++){const s=e[r];t.push(o.createElement(this.props.getItem,{key:this.props.getItemKey(s),itemProps:s}))}return o.createElement("div",{className:p.longList,style:{height:s}},t)}}s.LongList=c,c.displayName="LongList"}),
(function(o,t,e){o.exports={dropdown:"dropdown--dropdown--35dH4 _overlayBase--_overlayBase--1sCqN",_optionBase:"dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",option:"dropdown--option--20q-- dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionHover:"dropdown--optionHover--hW-C9 dropdown--option--20q-- dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionDisabled:"dropdown--optionDisabled--3N18M dropdown--option--20q-- dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",separator:"dropdown--separator--11K1o",separatorLine:"dropdown--separatorLine--1HmzC",updateBadge:"dropdown--updateBadge--3sGoO",checkableOption:"dropdown--checkableOption--2CE0H",check:"dropdown--check--3SFoQ",twoColumnRight:"dropdown--twoColumnRight--2C7Mx",dropdownModalScrim:"dropdown--dropdownModalScrim--1DbnY"}}),
(function(l,t,e){l.exports={src:'<svg width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg"><path d="M1.176 2.824L3.06 4.706 6.824.941 8 2.118 3.059 7.059 0 4l1.176-1.176z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=s(2,1    ),i=s(407             ),n=s(141              ),r=s(146                        ),a=s(137                                    ),p=s(138      ),c=s(85                   ),h=s(113                                     ),l=s(139                        ),d=s(141              ),u=s(408                                  );!function(e){class o extends n.PureComponent{constructor(){super(...arguments),this.preventDefault=(e=>{e.preventDefault()}),this.stopPropagation=(e=>{e.stopPropagation()}),this.onClick=n.mouseEvent(this,"click",e=>{if(!this.props.onClick)return n.SKIP_RECORDING;this.props.onClick(e)})}render(){return t.createElement("div",{className:`${i.dropdown} ${this.props.className||""}`,onClick:this.onClick,onMouseDown:this.stopPropagation,onTouchStart:this.stopPropagation,onContextMenu:this.preventDefault,style:this.props.style},this.props.children)}}o.displayName="Dropdown",e.Dropdown=o;class s extends n.PureComponent{constructor(e){super(e),this.onDragStart=(e=>{e.preventDefault()}),this.onMouseOver=(e=>{this.setState({hover:!0}),this.props.href||(this.mouseOverTimestamp=Number(e.timeStamp))}),this.onMouseOut=(e=>{this.setState({hover:!1})}),this.onMouseUp=(e=>{if(!this.props.href&&Number(e.timeStamp)-this.mouseOverTimestamp>20){const o=e.target;null!=o.click&&(this.mouseUpTimer=setTimeout(o.click.bind(o),1))}}),this.onTouchEnd=(e=>{const o=e.target;if(o.click&&(e.preventDefault(),o&&e.changedTouches)){const s=e.changedTouches[0];document.elementFromPoint(s.clientX,s.clientY)===o&&o.click()}}),this.onClick=n.mouseEvent(this,"click",p.withDefaultOpenBehavior(e=>{this.props.href||clearTimeout(this.mouseUpTimer),this.props.onClick&&this.props.onClick(e)})),this.state={hover:!1}}render(){const e=[this.props.disabled?i.optionDisabled:this.state.hover?i.optionHover:i.option,this.props.className||""].join(" ");return t.createElement("a",{id:this.props.id,"data-search-click-action":this.props["data-search-click-action"],className:e,href:this.props.href,target:this.props.target,rel:"noopener",onClick:this.props.disabled?void 0:this.onClick,onMouseUp:this.props.disabled?void 0:this.onMouseUp,onMouseOver:this.props.disabled?void 0:this.onMouseOver,onMouseOut:this.props.disabled?void 0:this.onMouseOut,onDragStart:this.onDragStart,onTouchEnd:this.onTouchEnd,"data-dropdown-tooltip":this.props.tooltip,"data-onboarding-key":this.props.onboardingKey},this.props.children)}}s.displayName="Option",e.Option=s,e.OptionTracked=a.asTrackedClickable(s);class m extends t.PureComponent{constructor(){super(...arguments),this.onClick=(e=>{e.stopPropagation()})}render(){let e=i.separator;return this.props.className&&(e+=` ${this.props.className}`),t.createElement("div",{className:e,onClick:this.onClick,onMouseEnter:this.props.onMouseEnter,style:this.props.style},t.createElement("div",{className:i.separatorLine}))}}m.displayName="Separator",e.Separator=m;class M extends n.PureComponent{render(){return t.createElement(s,Object.assign({},this.props,{className:this.props.className?`${i.checkableOption} ${this.props.className}`:i.checkableOption}),this.props.checked?t.createElement(r.Svg,{className:i.check,svg:u}):t.createElement("span",{className:i.check}),this.props.children)}}M.displayName="CheckableOption",e.CheckableOption=M;e.CheckableTwoColumnOption=class extends n.PureComponent{render(){return t.createElement(M,Object.assign({},this.props),t.createElement("div",null,this.props.primaryText),t.createElement("div",{className:i.twoColumnRight},this.props.secondaryText))}},e.CheckableOptionTrackable=a.asTrackedClickable(M);class E extends n.PureComponent{render(){return t.createElement(t.Fragment,null,t.createElement(o,Object.assign({},this.props)),c.getFeatureFlags().modal_dropdown_menus&&t.createElement(g,{dispatch:this.props.dispatch,recordingKey:"dropdownModalScrim"}))}}E.displayName="ModalEditorDropdown",e.ModalEditorDropdown=E;const v=e=>{e.preventDefault()};class g extends n.PureComponent{constructor(){super(...arguments),this.closeDropdown=(()=>{this.props.dispatch(h.fileBrowser.hideDropdown())}),this.isRecordingOrPlayingBack=(()=>l.isRecording()||d.isRunningInteractionTests()),this.mouseMotionSinceMouseDown=0,this.MENU_CLOSE_MOUSE_MOVE_SENSITIVITY=5,this.onMouseDown=n.mouseEvent(this,"mousedown",e=>{this.mouseMotionSinceMouseDown=0,this.closeDropdown(),e.stopPropagation()}),this.onMouseMove=n.mouseEvent(this,"mousemove",e=>{if(this.isRecordingOrPlayingBack()){if(!(this.mouseMotionSinceMouseDown<this.MENU_CLOSE_MOUSE_MOVE_SENSITIVITY))return n.SKIP_RECORDING;this.mouseMotionSinceMouseDown+=this.MENU_CLOSE_MOUSE_MOVE_SENSITIVITY}else this.mouseMotionSinceMouseDown+=Math.abs(e.nativeEvent.movementX),this.mouseMotionSinceMouseDown+=Math.abs(e.nativeEvent.movementY)}),this.onMouseUp=n.mouseEvent(this,"mouseup",e=>{this.mouseMotionSinceMouseDown>=this.MENU_CLOSE_MOUSE_MOVE_SENSITIVITY&&(this.closeDropdown(),e.stopPropagation())})}render(){return t.createElement("div",{className:`${i.dropdownModalScrim}`,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:v,onTouchStart:this.closeDropdown})}}e.DropdownModalScrim=g}(o.dropdown||(o.dropdown={}))}),
(function(r,l,n){r.exports={clipContainer:"scroll_container--clipContainer--2PG4d",scrollContainer:"scroll_container--scrollContainer--1eEK2",innerScrollContainer:"scroll_container--innerScrollContainer--21gfN",noScrollContainer:"scroll_container--noScrollContainer--2jECL scroll_container--scrollContainer--1eEK2",track:"scroll_container--track--b26X_",trackDragging:"scroll_container--trackDragging--fouWu scroll_container--track--b26X_",scrollBar:"scroll_container--scrollBar--3faz-",scrollBarAlways:"scroll_container--scrollBarAlways--2r2hu scroll_container--scrollBar--3faz-"}}),
(function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=s(2,1    ),l=s(410                     ),r=s(87      ),i=s(141              );class n extends i.Component{constructor(t){super(t),this.MIN_SCROLLBAR_HEIGHT=42,this.scrollingTimeout=null,this.trackHeight=0,this.scrollHeight=0,this.scrollTop=0,this.overrideStack=[],this.scrollTo=(t=>{this.scrollContainer&&(this.scrollContainer.scrollTop=t)}),this.scrollToTop=(()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=0)}),this.scrollToBottom=(()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=this.scrollContainer.scrollHeight)}),this.getScrollTop=(()=>this.scrollContainer?this.scrollContainer.scrollTop:0),this.getScrollContent=(()=>this.scrollContent),this.getClipContainer=(()=>this.clipContainer),this.getScrollHeight=(()=>this.scrollHeight),this.getTrackHeight=(()=>this.trackHeight),this.refBottomSpacer=(t=>{t&&(this.bottomSpacer=t)}),this.setScrollContent=(t=>{t&&(this.scrollContent=t)}),this.setClipContainer=(t=>{t&&(this.clipContainer=t)}),this.setScrollContainer=(t=>{t&&(this.scrollContainer=t,this.props.initialScrollTop&&(this.scrollContainer.scrollTop=this.props.initialScrollTop),this.recomputeScrollbar())}),this.recalculateLayout=(()=>{this.scrollContainer&&(this.trackHeight=this.scrollContainer.clientHeight,this.scrollHeight=this.scrollContainer.scrollHeight,this.trackTop=this.scrollContainer.getBoundingClientRect().top)}),this.recomputeScrollTop=(()=>{this.scrollContainer&&(this.scrollTop=this.scrollContainer.scrollTop)}),this.onScroll=(t=>{this.recomputeScrollTop(),this.recomputeScrollbar(),this.props.onScroll&&this.props.onScroll(this.scrollTop,this.getStateSnapshot()),this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(()=>{this.scrollingTimeout=null},200)}),this.recomputeScrollbar=(()=>{if(this.scrollContainer){this.scrollingTimeout||this.recalculateLayout();const t=0===this.scrollHeight?0:Math.max(this.trackHeight*(this.trackHeight/this.scrollHeight),this.MIN_SCROLLBAR_HEIGHT),o=this.scrollHeight>this.trackHeight;let s=0;if(o){const o=this.scrollHeight-this.trackHeight;s=(this.trackHeight-t)*(this.scrollTop/o)}this.state.scrollbarTop===s&&this.state.scrollbarHeight===t||this.setState({scrollbarTop:s,scrollbarHeight:t,canScroll:o})}}),this.isDraggingScrollbar=(()=>null!=this.state.startDragScrollTop&&null!=this.state.startDragY),this.onScrollBarMouseDown=(t=>{t.stopPropagation(),t.preventDefault(),this.setState({startDragY:t.clientY,startDragScrollTop:this.scrollTop})}),this.onTrackMouseDown=(t=>{t.stopPropagation(),t.preventDefault();const o=t.clientY-this.trackTop,s=Math.min(Math.max(0,o-this.state.scrollbarHeight/2),this.trackHeight)/this.trackHeight*this.scrollHeight;this.scrollContainer.scrollTop=s,this.setState({startDragY:t.clientY,startDragScrollTop:this.scrollTop}),this.recomputeScrollbar()}),this.onTrackMouseWheel=(t=>{let o;!function(t){t[t.DOM_DELTA_PIXEL=0]="DOM_DELTA_PIXEL",t[t.DOM_DELTA_LINE=1]="DOM_DELTA_LINE",t[t.DOM_DELTA_PAGE=2]="DOM_DELTA_PAGE"}(o||(o={}));let s=0;t.deltaMode===o.DOM_DELTA_PIXEL?s=t.deltaY:t.deltaMode===o.DOM_DELTA_LINE?s=10*t.deltaY:t.deltaMode===o.DOM_DELTA_PAGE&&(s=100*t.deltaY),this.scrollContainer.scrollTop+=s}),this.onMouseMove=(t=>{this.isDraggingScrollbar()&&(this.nextClientY=t.clientY,r.safari?null==this.nextFrameRequested&&(this.nextFrameRequested=requestAnimationFrame(this.scrollByNextClientY)):this.scrollByNextClientY())}),this.nextFrameRequested=null,this.scrollByNextClientY=(()=>{const{startDragY:t,startDragScrollTop:o}=this.state;if(t&&o){const s=this.nextClientY-t,e=this.scrollHeight*(s/this.trackHeight);(s>0&&this.nextClientY>=this.trackTop||s<0&&this.nextClientY<=this.trackTop+this.trackHeight)&&(this.scrollContainer.scrollTop=o+e,this.recomputeScrollbar()),this.nextFrameRequested=null}}),this.onMouseUp=(t=>{this.setState({startDragScrollTop:void 0,startDragY:void 0})}),this.onMouseDown=i.mouseEvent(this,"mousedown",t=>{this.props.onMouseDown&&this.props.onMouseDown(t)}),this.state={canScroll:!1,scrollbarTop:0,scrollbarHeight:0,bottomSpacerStyle:{display:"none",height:0}}}componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}UNSAFE_componentWillUpdate(t,o){this.recomputeScrollbar(),this.props.onCanScrollChange&&this.state.canScroll!==o.canScroll&&this.props.onCanScrollChange(o.canScroll)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}pushStateSnapshot(){this.overrideStack.push(this.getStateSnapshot())}popStateSnapshot(){let t=this.overrideStack.pop();t&&0===this.overrideStack.length&&this.restoreStateSnapshot(t)}getStateSnapshot(){return{trackHeight:this.trackHeight,trackTop:this.trackTop,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,scrollContainerScrollTop:this.scrollContainer.scrollTop,scrollContainerScrollLeft:this.scrollContainer.scrollLeft,componentState:this.state}}restoreStateSnapshot(t){this.trackHeight=t.trackHeight,this.trackTop=t.trackTop,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollContainer.scrollTop=t.scrollContainerScrollTop,this.scrollContainer.scrollLeft=t.scrollContainerScrollLeft,this.setState(t.componentState)}getBottomSpace(){return this.state.bottomSpacerStyle?this.state.bottomSpacerStyle.height:0}setBottomSpace(t){if(!this.state.bottomSpacerStyle||t!==this.state.bottomSpacerStyle.height){const o=t<=0?"none":"block";this.bottomSpacer&&(this.bottomSpacer.style.height=`${t}px`,this.bottomSpacer.style.display=o),this.setState({bottomSpacerStyle:{height:t,display:o}})}}render(){const t={width:this.props.width,height:this.props.height},o={transform:`translate3d(0px, ${this.state.scrollbarTop}px, 0)`,height:this.state.scrollbarHeight};return e.createElement("div",{className:`${l.clipContainer} ${this.props.className||""}`,style:t,onContextMenu:this.props.onContextMenu,onMouseDown:this.props.onMouseDown?this.onMouseDown:void 0,ref:this.setClipContainer},e.createElement("div",{ref:this.setScrollContainer,className:this.props.scrollingDisabled?l.noScrollContainer:l.scrollContainer,onScroll:this.onScroll},e.createElement("div",{className:l.innerScrollContainer,style:t,ref:this.setScrollContent},this.props.children,e.createElement("div",{ref:this.refBottomSpacer,style:this.state.bottomSpacerStyle}))),this.props.showScrollbar&&this.state.canScroll&&e.createElement("div",{className:this.isDraggingScrollbar()?l.trackDragging:l.track,onMouseDown:this.onTrackMouseDown,onWheel:this.onTrackMouseWheel},e.createElement("div",{className:this.props.scrollBarAlways?l.scrollBarAlways:l.scrollBar,style:o,onMouseDown:this.onScrollBarMouseDown})))}}o.ScrollContainer=n,n.displayName="ScrollContainer"}),
(function(o,n,r){o.exports={root:"pointing_dropdown--root--28JAG",arrow:"pointing_dropdown--arrow--Lu8iU",content:"pointing_dropdown--content--2os_K",scrollIndicator:"pointing_dropdown--scrollIndicator--1ocyl",topScrollIndicator:"pointing_dropdown--topScrollIndicator--2ybdf pointing_dropdown--scrollIndicator--1ocyl",bottomScrollIndicator:"pointing_dropdown--bottomScrollIndicator--3kdPs pointing_dropdown--scrollIndicator--1ocyl",chevron:"pointing_dropdown--chevron--1dq2b"}}),
(function(l,o,t){l.exports={src:'<svg width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg"><path d="M.646 4.647l.708.707L4 2.707l2.646 2.647.708-.707L4 1.293.646 4.647z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=e(2,1    ),s=e(6,1        ),r=e(86            ),i=e(85                   ),a=e(214         ),p=e(409                                  ),d=e(146                        ),h=e(411                                                  ),l=e(412                      ),c=e(413                              ),w=e(164                                ),m=8,g=16;o.ARROW_HEIGHT=7;const u=i.getFeatureFlags().multilevel_dropdown_scroll;class v extends n.PureComponent{constructor(t){super(t),this.getContentLocation=(()=>{const t=this.props.lean||"center",e=this.props.targetRect,n=this.contentEl.getBoundingClientRect(),s=this.props.displayAboveTarget?e.top-o.ARROW_HEIGHT+2:this.props.displayOverTarget?e.top:e.bottom+o.ARROW_HEIGHT-2;switch(t){case"center":return new a.Vector(e.left+e.width/2-n.width/2,s);case"left":return new a.Vector(e.right+g-n.width,s);case"right":return new a.Vector(e.left-g,s)}}),this.ensureContentOnScreen=(()=>{const t=this.getContentLocation();t.x=Math.max(m,t.x);const e=this.contentEl.getBoundingClientRect(),n=t.x+e.width,s=t.y+(this.props.displayAboveTarget?-1:1)*e.height,r=window.innerWidth-6,i=window.innerHeight-6,a=o.ARROW_HEIGHT+2;n>r&&(t.x-=n-r),s>i&&(t.y-=s-i),t.y<a&&(t.y=a),this.setState({contentTop:Math.round(t.y),contentLeft:Math.round(t.x)})}),this.contentRef=(t=>{this.contentEl=s.findDOMNode(t),this.contentEl&&this.ensureContentOnScreen()}),this.contentRefModal=(t=>{this.contentEl=s.findDOMNode(t),this.contentEl&&this.ensureContentOnScreen()}),this.dropdownOptionsContainerRef=(t=>{t&&(this.dropdownOptionsContainer=t)}),this.state={contentTop:0,contentLeft:0}}renderDropdownOptions(){const t=n.createElement("div",{ref:this.dropdownOptionsContainerRef},this.props.children);return u&&this.dropdownOptionsContainer?n.createElement(H,{maxDropdownHeight:t=>this.props.maxHeight||t-30,dropdownChildrenHeight:this.dropdownOptionsContainer.clientHeight},t):t}render(){const t=this.props.minWidth||200,e=this.props.maxHeight||"none",s={top:this.props.displayAboveTarget?void 0:this.state.contentTop,bottom:this.props.displayAboveTarget?window.innerHeight-this.state.contentTop:void 0,left:this.state.contentLeft,maxHeight:e,minWidth:t,maxWidth:this.props.maxWidth,backgroundColor:this.props.color},r=this.props.targetRect,a=r.left+r.width/2-o.ARROW_HEIGHT,d=this.props.displayAboveTarget?r.top-o.ARROW_HEIGHT:r.bottom,h=this.props.displayAboveTarget?-1:1,c=i.getFeatureFlags().modal_dropdown_menus&&this.props.isModal&&this.props.dispatch?n.createElement(p.dropdown.ModalEditorDropdown,{className:l.content,style:s,ref:this.contentRefModal,dispatch:this.props.dispatch},!!this.props.showPoint&&this.props.color&&n.createElement("div",{className:l.arrow,style:{left:a,top:d+h,transform:this.props.displayAboveTarget?"scale(-1)":void 0,borderBottomColor:this.props.color}}),this.renderDropdownOptions()):n.createElement(p.dropdown.Dropdown,{className:l.content,style:s,ref:this.contentRef},!!this.props.showPoint&&this.props.color&&n.createElement("div",{className:l.arrow,style:{left:a,top:d+h,transform:this.props.displayAboveTarget?"scale(-1)":void 0,borderBottomColor:this.props.color}}),this.renderDropdownOptions());return n.createElement("div",{className:`${l.root} ${this.props.className||""}`},!!this.props.showPoint&&n.createElement("div",{className:l.arrow,style:{left:a,top:d,transform:this.props.displayAboveTarget?"scale(-1)":void 0}}),c)}}o.PointingDropdown=v,v.displayName="PointingDropdown",v.defaultProps={showPoint:!0};class H extends n.Component{constructor(t){super(t),this.updateWindowHeight=r.debounce(()=>{this.setState({windowHeight:window.innerHeight}),this.props.dropdownChildrenHeight>this.props.maxDropdownHeight(window.innerHeight)?this.setState({showBottomScrollIndicator:!0}):this.setState({showTopScrollIndicator:!1,showBottomScrollIndicator:!1})}),this.onScroll=((t,o)=>{const e=0!=t,n=o.scrollHeight-t>this.props.maxDropdownHeight(this.state.windowHeight);e==this.state.showTopScrollIndicator&&n==this.state.showBottomScrollIndicator||this.setState({showTopScrollIndicator:e,showBottomScrollIndicator:n})}),this.state={windowHeight:window.innerHeight,showTopScrollIndicator:!1,showBottomScrollIndicator:t.dropdownChildrenHeight>t.maxDropdownHeight(window.innerHeight)}}componentDidMount(){window.addEventListener("resize",this.updateWindowHeight)}componentWillUnmount(){window.removeEventListener("resize",this.updateWindowHeight)}renderScrollIndicators(){const t=this.state.showTopScrollIndicator?{}:{display:"none"},o=this.state.showBottomScrollIndicator?{}:{display:"none"};return n.createElement(n.Fragment,null,n.createElement("div",{className:l.topScrollIndicator,style:t},n.createElement(d.Svg,{className:l.chevron,svg:c})),n.createElement("div",{className:l.bottomScrollIndicator,style:o},n.createElement(d.Svg,{className:l.chevron,svg:w})))}render(){if(!u)return this.props.children;const t=Math.min(this.props.maxDropdownHeight(this.state.windowHeight),this.props.dropdownChildrenHeight);return n.createElement(n.Fragment,null,n.createElement(h.ScrollContainer,{showScrollbar:!1,height:t,onScroll:this.onScroll},this.props.children),this.renderScrollIndicators())}}o.DropdownScrollContainer=H,H.displayName="DropdownScrollContainer"}),
(function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=s(2,1    );class a extends t.Component{constructor(e){super(e),this.mediaChanged=(()=>{let e=this.props.defaultClass||"";for(let[s,t]of this.mediaQueriesAndClasses)s.matches&&(e=t);let i=this.props.defaultStyle||{};for(let[s,t]of this.mediaQueriesAndStyles)s.matches&&(i=t);this.setState({shown:!this.props.query||!this.visibilityMediaQuery||this.visibilityMediaQuery.matches,className:e,style:i})}),this.mediaQueriesAndClasses=[],this.mediaQueriesAndStyles=[],this.state={shown:!0,className:"",style:{}}}removeVisibilityMediaListener(){this.visibilityMediaQuery&&(this.visibilityMediaQuery.removeListener(this.mediaChanged),this.visibilityMediaQuery=null)}removeMediaListeners(e){for(let[i,s,t]of e)i.removeListener(t)}initVisibilityMediaQuery(){this.removeVisibilityMediaListener(),this.props.query&&(this.visibilityMediaQuery=window.matchMedia(this.props.query),this.visibilityMediaQuery.addListener(this.mediaChanged))}initQueriesFromProps(e,i){return this.removeMediaListeners(e),e=[],i&&i.map(([i,s])=>{let t=window.matchMedia(i);t.addListener(this.mediaChanged),e.push([t,s,this.mediaChanged])}),e}initClassMediaQueries(){this.mediaQueriesAndClasses=this.initQueriesFromProps(this.mediaQueriesAndClasses,this.props.mediaClassList)}initStyleMediaQueries(){this.mediaQueriesAndStyles=this.initQueriesFromProps(this.mediaQueriesAndStyles,this.props.mediaStyleList)}componentDidMount(){this.initVisibilityMediaQuery(),this.initClassMediaQueries(),this.initStyleMediaQueries(),this.mediaChanged()}componentDidUpdate(e){let i=!1;this.props.query!==e.query&&(this.initVisibilityMediaQuery(),i=!0),JSON.stringify(this.props.defaultClass)===JSON.stringify(e.defaultClass)&&JSON.stringify(this.props.mediaClassList)===JSON.stringify(e.mediaClassList)||(this.initClassMediaQueries(),i=!0),JSON.stringify(this.props.defaultStyle)===JSON.stringify(e.defaultStyle)&&JSON.stringify(this.props.mediaStyleList)===JSON.stringify(e.mediaStyleList)||(this.initStyleMediaQueries(),i=!0),i&&this.mediaChanged()}componentWillUnmount(){this.removeVisibilityMediaListener(),this.removeMediaListeners(this.mediaQueriesAndClasses),this.removeMediaListeners(this.mediaQueriesAndStyles)}render(){if(this.state.shown){let e=Object.assign(Object.assign({},this.props),{className:this.state.className,style:this.state.style});return delete e.component,delete e.defaultClass,delete e.defaultStyle,delete e.mediaClassList,delete e.mediaStyleList,delete e.query,t.createElement(this.props.component||"div",e,this.props.children)}return t.createElement("div",{style:{display:"none"}})}}i.MediaQuery=a,a.displayName="MediaQuery"}),
(function(t,o,e){t.exports={dropdownCollectionContainer:"tile_sort_filter--dropdownCollectionContainer--weHg0",dropdownContainer:"tile_sort_filter--dropdownContainer--2BgAd text--fontPos11--RSei3 text--_fontBase--YWDo0",dropdownContainerDisabled:"tile_sort_filter--dropdownContainerDisabled--d7U_e tile_sort_filter--dropdownContainer--2BgAd text--fontPos11--RSei3 text--_fontBase--YWDo0",caretContainer:"tile_sort_filter--caretContainer--21PSd",caret:"tile_sort_filter--caret--3BwD_",caretDown:"tile_sort_filter--caretDown--V4gnJ"}}),
(function(l,o,t){l.exports={src:'<svg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"><path d="M1.06 1.475L.708 1.12 0 1.828l.354.354.707-.707zM2.829 3.95l-.353.353.353.354.354-.354-.354-.353zm2.475-1.768l.354-.354-.707-.707-.354.354.707.707zm-4.95 0l2.122 2.121.707-.707-2.121-2.121-.707.707zm2.829 2.121l2.121-2.121-.707-.707-2.121 2.121.707.707z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2,1    ),i=r(2,1    ),s=r(43,1         ),n=r(117                                ),l=r(113                                     ),a=r(348                                    ),c=r(409                                  ),p=r(146                        ),d=r(414                                                             ),h=r(415                          ),u=r(406                           ),S=r(416                     ),g=c.dropdown.Separator,C=r(417                         );class m extends o.PureComponent{render(){const e="deletedFiles"===this.props.selectedView.view,t=this.props.options.tileSortFilterConfig.viewMode===n.TileViewMode.LIST;return o.createElement("div",{className:S.dropdownCollectionContainer},e&&o.createElement(w,Object.assign({},this.props)),!t&&o.createElement(D,Object.assign({},this.props)),t&&o.createElement(h.MediaQuery,{query:"(max-width: 1120px)"},o.createElement(D,Object.assign({},this.props))))}}function T(e){const r=s.useDispatch(),n=i.useRef(null),h=s.useSelector(e=>e.dropdownShown),u=(null==h?void 0:h.type)===e.dropdownId,m=e.disabled?S.dropdownContainerDisabled:S.dropdownContainer;return o.createElement("div",{className:`${m} ${e.className||""}`,onClick:()=>{r(a.tileSelect.resetTileSelection()),u?r(l.fileBrowser.hideDropdown()):n.current&&r(l.fileBrowser.showDropdown({type:e.dropdownId,data:{targetRect:n.current.getBoundingClientRect()}}))}},o.createElement("span",{className:e.textClassName},e.textWhenClosedPrefix,e.valuesToDisplayText[e.checkedValue]),o.createElement("div",{className:S.caretContainer,ref:n},o.createElement(p.Svg,{svg:C,className:`${S.caret} ${u?S.caretDown:""}`})),u&&o.createElement(d.PointingDropdown,{targetRect:h.data.targetRect,minWidth:162},!e.hideSortOptionLabel&&o.createElement(c.dropdown.CheckableOption,{checked:!1,disabled:!0},"Sort by"),e.values.map(t=>o.createElement(c.dropdown.CheckableOption,{key:t,checked:t===e.checkedValue,onClick:()=>e.onChange(t),children:e.valuesToDisplayText[t]})),e.includeSortDirection&&o.createElement(o.Fragment,null,o.createElement(g,null),o.createElement(c.dropdown.CheckableOption,{checked:!1,disabled:!0},"Order"),e.tileSortValues.map(r=>o.createElement(c.dropdown.CheckableOption,{key:t.tileSortDirectionsStaticProps.valuesToDisplayText[r],checked:e.currentDirection===r,onClick:()=>e.onChange(e.checkedValue,r),children:t.tileSortDirectionsStaticProps.valuesToDisplayText[r]})))))}t.TileSortFilter=m,m.displayName="TileSortFilter",t.tileSortDirectionsStaticProps={values:[n.TileSortDir.ASC,n.TileSortDir.DESC],valuesToDisplayText:{[n.TileSortDir.ASC]:"Ascending",[n.TileSortDir.DESC]:"Descending"}},t.TileSortFilterDropdown=T;t.SortableFields=class extends o.PureComponent{render(){return o.createElement(o.Fragment,null,this.props.values.map(e=>o.createElement(u.SortableField,{key:e,isDescending:this.props.currentValue===e&&this.props.currentValueDesc,hasArrow:this.props.currentValue===e,field:e,sortBy:this.props.onClick},this.props.valuesToDisplayText[e])))}},t.tileFilterCreatorStaticProps={dropdownId:"tile-filter-creator-dropdown",values:[n.TileFilterCreator.ANY,n.TileFilterCreator.SELF,n.TileFilterCreator.OTHER],textWhenClosedPrefix:"Created by ",valuesToDisplayText:{[n.TileFilterCreator.ANY]:"Anyone",[n.TileFilterCreator.SELF]:"You",[n.TileFilterCreator.OTHER]:"Others"}};class w extends o.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{const t=this.props.options.tileSortFilterConfig,r=Object.assign(Object.assign({},t),{filters:Object.assign(Object.assign({},t.filters),{creator:e})});this.props.dispatch(l.fileBrowser.setTileSortFilterConfigForView({selectedView:this.props.selectedView,config:r}))})}render(){return o.createElement(T,Object.assign({},t.tileFilterCreatorStaticProps,{includeSortDirection:!1,checkedValue:this.props.options.tileSortFilterConfig.filters.creator,onChange:this.onChange,hideSortOptionLabel:!0}))}}t.TileFilterCreatorDropdown=w,w.displayName="TileFilterCreatorDropdown",t.getTileSortKeyStaticProps=((e={})=>({dropdownId:"tile-sort-dropdown",textWhenClosedPrefix:"",valuesToDisplayText:Object.assign({[n.TileSortKey.CREATED_AT]:"Date created",[n.TileSortKey.TOUCHED_AT]:"Last modified",[n.TileSortKey.ACCESSED_AT]:"Last viewed",[n.TileSortKey.NAME]:"Alphabetical",[n.TileSortKey.TRASHED_AT]:"Date deleted",[n.TileSortKey.SEARCH_RELEVANCE]:"Relevance"},e)}));class D extends o.PureComponent{constructor(){super(...arguments),this.onChange=((e,t)=>{const r=this.props.options.tileSortFilterConfig,o=Object.assign(Object.assign({},r),{sort:{key:e,dir:void 0===t?r.sort.dir:t}});this.props.dispatch(l.fileBrowser.setTileSortFilterConfigForView({selectedView:this.props.selectedView,config:o}))})}componentDidMount(){this.props.options.sortKeys.some(e=>e===this.props.options.tileSortFilterConfig.sort.key)||this.onChange(this.props.options.sortKeys[this.props.options.sortKeys.length-1],this.props.options.tileSortFilterConfig.sort.dir)}render(){return o.createElement(T,Object.assign({},t.getTileSortKeyStaticProps(),{values:this.props.options.sortKeys,includeSortDirection:!0,tileSortValues:t.tileSortDirectionsStaticProps.values,currentDirection:this.props.options.tileSortFilterConfig.sort.dir,checkedValue:this.props.options.tileSortFilterConfig.sort.key,onChange:this.onChange}))}}t.TileSortDropdown=D,D.displayName="TileSortDropdown"}),
(function(t,o,n){t.exports={singleRowHeight:"option_button--singleRowHeight--3qcoL",doubleRowHeight:"option_button--doubleRowHeight--iCT1i",input:"option_button--input--qaW2b option_button--singleRowHeight--3qcoL",border:"option_button--border--1n7Py",borderFocusWithin:"option_button--borderFocusWithin--3pli6",iconInsideBorderFocusWithin:"option_button--iconInsideBorderFocusWithin--1eQOd",rowSelectedSecondary:"option_button--rowSelectedSecondary--1GDpc option_button--rowSelected--2pUZE",selectHiddenInput:"option_button--selectHiddenInput--3M-kB",iconButton:"option_button--iconButton--15L68",borderFocus:"option_button--borderFocus--3sdtw",multiValueInput:"option_button--multiValueInput--35slb option_button--borderFocusWithin--3pli6",base:"option_button--base--3lRv9",label:"option_button--label--2w9Iz option_button--base--3lRv9",labelInactive:"option_button--labelInactive--3OFZF option_button--label--2w9Iz option_button--base--3lRv9",textInput:"option_button--textInput--1UDUD option_button--base--3lRv9 option_button--input--qaW2b option_button--singleRowHeight--3qcoL",textAreaInput:"option_button--textAreaInput--3N1JO option_button--base--3lRv9 option_button--input--qaW2b option_button--singleRowHeight--3qcoL",noLeftBorder:"option_button--noLeftBorder--1gNlC",squareRightBorder:"option_button--squareRightBorder--17wMt",_iconButton:"option_button--_iconButton--L_N9p",iconButtonEnabled:"option_button--iconButtonEnabled--1AZZH option_button--_iconButton--L_N9p",iconButtonDisabled:"option_button--iconButtonDisabled--1cR5X option_button--_iconButton--L_N9p",iconButtonSelected:"option_button--iconButtonSelected--HzoDQ option_button--_iconButton--L_N9p",chitCenter:"option_button--chitCenter--3pN7S",outlineButton:"option_button--outlineButton--1up9S",modalPanel:"option_button--modalPanel--250X9",panel:"option_button--panel--3XeOg",_row:"option_button--_row--2hzI2",singleRow:"option_button--singleRow--17zm1 option_button--singleRowHeight--3qcoL option_button--_row--2hzI2",doubleRow:"option_button--doubleRow--3B25Z option_button--doubleRowHeight--iCT1i option_button--_row--2hzI2",labelRow:"option_button--labelRow--3rMwq option_button--singleRow--17zm1 option_button--singleRowHeight--3qcoL option_button--_row--2hzI2",rowSelected:"option_button--rowSelected--2pUZE",panelTitle:"option_button--panelTitle--BrV7P",panelTitleExtended:"option_button--panelTitleExtended--3XQjf option_button--panelTitle--BrV7P",panelTitleWithTip:"option_button--panelTitleWithTip--3evYD option_button--panelTitle--BrV7P",panelTitleWithTipText:"option_button--panelTitleWithTipText--2BX_F",panelTitleWithTipIcon:"option_button--panelTitleWithTipIcon--3aH_F",panelTitleFaded:"option_button--panelTitleFaded--2EREW option_button--panelTitle--BrV7P",flushLeft:"option_button--flushLeft--wZaPy",_optionButton:"option_button--_optionButton--lWjmC",toggled:"option_button--toggled--2-LLL option_button--_optionButton--lWjmC",disabled:"option_button--disabled--YNeqs",untoggled:"option_button--untoggled--2KWMQ option_button--_optionButton--lWjmC"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pxToInt=function(e){return parseInt(e.split("px")[0])}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(91                  );!function(e){e.showAfterDelay=a.actionCreator("TOOLTIP_SHOW_AFTER_DELAY"),e.showImmediately=a.actionCreator("TOOLTIP_SHOW_IMMEDIATELY"),e.hide=a.actionCreator("TOOLTIP_HIDE"),e.hideAfterDelay=a.actionCreator("TOOLTIP_HIDE_AFTER_DELAY"),e.cancelHideAfterDelay=a.actionCreator("TOOLTIP_CANCEL_HIDE_AFTER_DELAY"),e.update=a.actionCreator("TOOLTIP_UPDATE")}(t.tooltip||(t.tooltip={}))}),
(function(e,i,t){e.exports={tabBarHeight:"38px",helpWidgetSize:"36px",filebarHeight:"42px",toolbarHeight:"40px",viewbarHeight:"64px",signedOutTopbarDesktopHeight:"56px",signedOutTopbarMobileHeight__OLD:"40px",signedOutTopbarMobileHeight:"48px",fileBrowserToolBarHeight:"48px",downtimeBannerHeight:"70px",fileBrowserHeaderHeight:"84px",fileBrowserSearchScopeHeight:"32px",fileBrowserLeftPaddingWidth:"32px",fileBrowserLeftPaddingWidthMobile:"16px",fileBrowserMobileWidth:"645px",fileBrowserFooterHeight:"60px",titleChevronWidth:"18px",profileHeaderHeight:"240px",signedInlandingPageHeaderHeight:"120px",signedOutlandingPageHeaderHeight:"360px",landingPageViewBarHeight:"48px",communityHubPublishModalWidth:"560px",communityHubResourcePageDesktopBreakpoint:"800px",leftNavWidth:"208px",leftNavHeight:"40px",navRowHeight:"36px",navRightPadding:"12px",searchInputHeight:"32px",navIconSize:"24px",navIconPadding:"12px",rightNavGridRowHeight:"32px",rightNavGridNumCols:28,rightNavHorizontalPadding:"8px",objectRowHeight:"32px",rightNavWidth:"240px",gridBasis:"8px",dropdownItemHeight:"24px",dropdownOverflowPadding:"6px",copyTextModal:"300px",openDesktopModal:"378px",missingFontsModal:"420px",draggableModalHeaderHeight:"40px",genericTileMargin:"24px",genericTileOuterMargin:"2px",fileBrowserLeftNavWidth:"200px",orgSwitcherNameWidth:"126px",orgSwitcherNameMobileWidth:"94px",tilePadding:"12px",thumbnailHeight:"162px",listViewHeight:"40px",listViewThumbHeight:"24px",tileLabelHeight:"55px",tileLabelMargin:"16px",tileBorderRadius:"6px",tileBorderOpacity:.13,tileMaxWidth:"280px",tileMobileGridMaxWidth:"400px",userDetailsModalWidth:"420px",exportPickerWidth:"318px",exportPickerMaxHeight:"460px",instanceSwapPickerWidth:"216px",nudgeAmountPickerWidth:"180px",stylePickerMaxHeight:"300px",stylesPickerGridNumCols:25,stylesPickerWidth:"216px",tooltipDist:"6px",tooltipArrowHeight:"6px",commentThreadWidth:"324px",commentThreadMargins:"48px",commentThreadBuffer:"15px",commentThreadOuterMargin:"16px",commentThreadInnerMargin:"8px",titleFontSize__DEPRECATED:"14px",baseFontSize__DEPRECATED:"11px",defaultCornerRadius:"2px",btnBorderRadius:"6px",bigBtnBorderRadius:"8px",libraryPreferencesModalWidth:"460px",sharedFontsModalWidth:"596px",libraryPreferencesModalHeight:"594px",libraryPreferencesModalMaxHeight:"70vh",orgModal:"864px",orgDashboardModalContentHeight:"564px",orgDashboardTabsHeight:"48px",orgDashboardRowHeight:"60px",filePermissionsModalTabsHeight:"40px",keyboardShortcutsPaneHeight:"240px",iconButtonSize:"32px"}}),
(function(o,t,i){o.exports={notInteractive:"tooltip--notInteractive--2q4-q",arrow:"tooltip--arrow--13xfp",upArrow:"tooltip--upArrow--3q67E tooltip--arrow--13xfp",downArrow:"tooltip--downArrow--2_Bdd tooltip--arrow--13xfp",leftArrow:"tooltip--leftArrow--2X3pK tooltip--arrow--13xfp",rightArrow:"tooltip--rightArrow--ZxI4Y tooltip--arrow--13xfp",content:"tooltip--content--3GEna",row:"tooltip--row--1E13k",column:"tooltip--column--2d6NT",interactiveTooltipContainer:"tooltip--interactiveTooltipContainer--3ejwd tooltip--column--2d6NT",viewUserProfile:"tooltip--viewUserProfile--uKWEe tooltip--column--2d6NT text--fontPos11--RSei3 text--_fontBase--YWDo0",handle:"tooltip--handle--38Mq3",tooltipName:"tooltip--tooltipName--qApnf",italicText:"tooltip--italicText--G5cDr",important:"tooltip--important--27cm9",prototypeInfoText:"tooltip--prototypeInfoText--PTCCf",fixPositionInfoText:"tooltip--fixPositionInfoText--2OPlq",prototypeOriginInfoIcon:"tooltip--prototypeOriginInfoIcon--2Kltu",prototypeNoOriginFrameInfoIcon:"tooltip--prototypeNoOriginFrameInfoIcon--1wPvZ",prototypeDestinationInfoIcon:"tooltip--prototypeDestinationInfoIcon--1rGqq",prototypeTransitionInfoIcon:"tooltip--prototypeTransitionInfoIcon--1nNiC",prototypeScrollInfoIcon:"tooltip--prototypeScrollInfoIcon--eX1l8",fixPositionInfoIcon:"tooltip--fixPositionInfoIcon--OEZT6",text:"tooltip--text--3Jl9L",textWithShortcut:"tooltip--textWithShortcut--2r28_",shortcut:"tooltip--shortcut--30dt8"}}),
(function(o,t,r){o.exports={keyboardShortcut:"keyboard_shortcut--keyboardShortcut--27Yeq",keyboardShortcutSpaced:"keyboard_shortcut--keyboardShortcutSpaced--2R7Fj keyboard_shortcut--keyboardShortcut--27Yeq"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(2,1    ),a=r(424                      );class c extends s.PureComponent{render(){const e=["⌘","⌥","⇧","⌃"];return s.createElement("span",{className:this.props.className},this.props.shortcut.split("").map(function(t,r){let c=-1!=e.indexOf(t)?a.keyboardShortcutSpaced:a.keyboardShortcut;return s.createElement("span",{key:r,className:c},t)}))}}t.KeyboardShortcut=c,c.displayName="KeyboardShortcut"}),
(function(a,r,t){a.exports={avatar:"avatar--avatar--rj2Q0",circle:"avatar--circle--2J3z6",square:"avatar--square--2vQe3",dim:"avatar--dim--GdQGq",avatarBellWrapper:"avatar--avatarBellWrapper--1uQ1b",bell:"avatar--bell--2YDqE",avatarWithHandle:"avatar--avatarWithHandle--2G2Vu",info:"avatar--info--6fmV-",handleRow:"avatar--handleRow--3gz7_",handle:"avatar--handle--fICEU",isMe:"avatar--isMe--1tfH3",email:"avatar--email--F5k8l",emailHover:"avatar--emailHover--2BJL8",clickableAvatarWithHandle:"avatar--clickableAvatarWithHandle--1l4mS",dimAvatarWithHandle:"avatar--dimAvatarWithHandle--ylkvG"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),o=a(113                                     ),i=a(154                                 ),l=a(147                                            ),n=a(191          ),r=a(136                    );t.TILE_COPY_LINK_MODAL="tile-copy-link-modal",r.registerUnsafeModal(t.TILE_COPY_LINK_MODAL,e=>s.createElement(c,Object.assign({modal:e.modalShown},e)));class c extends s.Component{constructor(){super(...arguments),this.inputRef=(e=>{e&&(e.focus(),e.select())}),this.hideModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){let e=this.props.modal;return s.createElement(i.Modal,Object.assign({size:"small",className:n.modal},this.props),s.createElement("div",null,"Copy link to share this item:"),s.createElement("input",{className:n.textInput,value:e.data.link,readOnly:!0,ref:this.inputRef}),s.createElement("div",{className:n.buttonRow},s.createElement(l.ButtonPrimary,{className:n.confirmButton,onClick:this.hideModal},"Done")))}}t.TileCopyLinkModal=c,c.displayName="TileCopyLinkModal"}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.enumLookup=function(e,o){for(const t of Object.keys(e))if(e[t]===o)return e[t]}}),
(function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});const i=r(437     ),o=Symbol("internal"),s=Symbol("wasDestroyed"),h=Function.prototype.apply;function a(t,e){if(t[s])throw new Error(i.VM_DESTROYED_ERROR);if("object"==typeof e&&null!==e&&o in e)throw new Error("Wrapping a handle twice!");return{[o]:e}}function l(t,e){if(t[s])throw new Error(i.VM_DESTROYED_ERROR);if("object"!=typeof e||null===e||!(o in e))throw new Error("The provided value is not a handle");return e[o]}e.NoOpJavascriptVm=class{constructor(){this.vmType="noopvm",this.errorHandler=(()=>{}),this.executionDepth=0,this[n]=!1,this.global=a(this,window),this.null=a(this,null),this.undefined=a(this,void 0)}typeof(t){return typeof l(this,t)}isNumber(t){return"number"==typeof l(this,t)}isBoolean(t){return"boolean"==typeof l(this,t)}isString(t){return"string"==typeof l(this,t)}isNull(t){return null===l(this,t)}isUndefined(t){return void 0===l(this,t)}isObject(t){const e=l(this,t);return"object"==typeof e&&null!==e}isArray(t){return Array.isArray(l(this,t))}isUint8Array(t){return l(this,t)instanceof Uint8Array}isFunction(t){return l(this,t)instanceof Function}shallowFreezeObject(t){Object.freeze(l(this,t))}getNumber(t){const e=l(this,t);if("number"!=typeof e)throw new Error("Value is not a number");return e}getBoolean(t){const e=l(this,t);if("boolean"!=typeof e)throw new Error("Value is not a boolean");return e}getString(t){const e=l(this,t);if("string"!=typeof e)throw new Error("Value is not a string");return e}getUint8Array(t){if(!this.isUint8Array(t))throw new Error("Value is not a Uint8Array");return new Uint8Array(l(this,t))}toNumber(t){const e=l(this,t);try{return+e}catch(r){throw new i.VmError(this,a(this,r))}}toBoolean(t){const e=l(this,t);try{return!!e}catch(r){throw new i.VmError(this,a(this,r))}}toString(t){const e=l(this,t);try{return""+e}catch(r){throw new i.VmError(this,a(this,r))}}newNumber(t){if("number"!=typeof t)throw new Error("Value is not a number");return a(this,t)}newBoolean(t){if("boolean"!=typeof t)throw new Error("Value is not a boolean");return a(this,t)}newString(t){if("string"!=typeof t)throw new Error("Value is not a string");return a(this,t)}newObject(t){if(t){let r;try{r=Object.create(l(this,t))}catch(e){throw new i.VmError(this,a(this,e))}return a(this,r)}return a(this,{})}newArray(){return a(this,[])}newUint8Array(t){if("[object Uint8Array]"===Object.prototype.toString.call(t)&&ArrayBuffer.isView(t))return a(this,new Uint8Array(t));throw new Error("Value is not an Uint8Array")}isEqual(t,e){return l(this,t)===l(this,e)}newFunction(t,e){const r=this;let n=function(...n){const i=a(r,this),o=n.map(t=>a(r,t));for(;o.length<e.length;)o.push(r.undefined);let s;try{s=e.apply(i,o)}catch(h){let e="";throw h&&h.message&&(e=": "+h.message),new Error("in "+t+e)}return void 0===s?void 0:l(r,s)};return Object.defineProperty(n,"name",{writable:!1,value:t}),a(r,n)}newPromise(){let t=()=>{},e=()=>{};return{promise:a(this,new Promise((r,n)=>{t=r,e=n})),resolve:e=>t(l(this,e)),reject:t=>e(l(this,t))}}getKeys(t){return Object.keys(l(this,t))}getProp(t,e){const r=l(this,t);let n;try{n=r[e]}catch(o){throw new i.VmError(this,a(this,o))}return a(this,n)}setProp(t,e,r){const n=l(this,t),o=l(this,r);try{n[e]=o}catch(s){throw new i.VmError(this,a(this,s))}}defineProp(t,e,r){let n={};"configurable"in r&&(n.configurable=!!r.configurable),"enumerable"in r&&(n.enumerable=!!r.enumerable),"writable"in r&&(n.writable=!!r.writable),"value"in r&&r.value&&(n.value=l(this,r.value)),"get"in r&&r.get&&(n.get=l(this,this.newFunction("get_"+e,r.get))),"set"in r&&r.set&&(n.set=l(this,this.newFunction("set_"+e,r.set))),Object.defineProperty(l(this,t),e,n)}callFunction(t,e,...r){const n=l(this,t),o=l(this,e),s=r.map(t=>l(this,t));try{return this.executionDepth++,{type:"SUCCESS",handle:a(this,h.call(n,o,s))}}catch(u){console.error(u);let t=new i.VmError(this,a(this,u));return 1===this.executionDepth&&this.errorHandler(t),{type:"FAILURE",error:t}}finally{this.executionDepth--}}evalCode(t){try{return this.executionDepth++,{type:"SUCCESS",handle:a(this,(0,eval)('"use strict";\n'+t))}}catch(e){console.error(e);let t=new i.VmError(this,a(this,e));return 1===this.executionDepth&&this.errorHandler(t),{type:"FAILURE",error:t}}finally{this.executionDepth--}}evalTopLevelCode(t){let e=this.evalCode(t);return"SUCCESS"===e.type&&(e.handle=this.undefined),e}setAbortHandler(t){}setErrorHandler(t){this.errorHandler=t}destroy(){this[s]=!0}isDestroyed(){return this[s]}retainHandle(t){}releaseHandle(t){}},n=s}),
(function(e,r,t){e.exports='(function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self,global.Realm=factory())})(this,function(){\'use strict\';function throwTantrum(s,err=void 0){const msg=`please report internal shim error: ${s}`;console.error(msg),err&&(console.error(`${err}`),console.error(`${err.stack}`));debugger;throw msg}function assert(condition,message){condition||throwTantrum(message)}function cleanupSource(src){return src=src.replace(/\\(0,\\s*_[^.]+\\.e\\)/g,"(0, eval)"),src=src.replace(/_[^.]+\\.g\\.Reflect/g,"Reflect"),src=src.replace(/cov_[^+]+\\+\\+[;,]/g,""),src}function buildChildRealm(unsafeRec,BaseRealm){const{callAndWrapError}=unsafeRec,{initRootRealm,initCompartment,getRealmGlobal,realmEvaluate}=BaseRealm,{create,defineProperties}=Object;class Realm{constructor(){throw new TypeError("Realm is not a constructor")}static makeRootRealm(options={}){const r=create(Realm.prototype);return callAndWrapError(initRootRealm,[unsafeRec,r,options]),r}static makeCompartment(options={}){const r=create(Realm.prototype);return callAndWrapError(initCompartment,[unsafeRec,r,options]),r}get global(){return callAndWrapError(getRealmGlobal,[this])}evaluate(x,endowments,options={}){return callAndWrapError(realmEvaluate,[this,x,endowments,options])}}return defineProperties(Realm,{toString:{value:()=>"function Realm() { [shim code] }",writable:!1,enumerable:!1,configurable:!0}}),defineProperties(Realm.prototype,{toString:{value:()=>"[object Realm]",writable:!1,enumerable:!1,configurable:!0}}),Realm}function createRealmFacade(unsafeRec,BaseRealm){const{unsafeEval}=unsafeRec;return unsafeEval(buildChildRealmString)(unsafeRec,BaseRealm)}function createCallAndWrapError(unsafeEval){return unsafeEval(buildCallAndWrapErrorString)()}function getSharedGlobalDescs(unsafeGlobal){function describe(names,writable,enumerable,configurable){for(const name of names){const desc=getOwnPropertyDescriptor(unsafeGlobal,name);desc&&(assert("value"in desc,`unexpected accessor on global property: ${name}`),descriptors[name]={value:desc.value,writable,enumerable,configurable})}}const descriptors={};return describe(frozenGlobalPropertyNames,!1,!1,!1),describe(stableGlobalPropertyNames,!1,!1,!1),describe(unstableGlobalPropertyNames,!0,!1,!0),descriptors}function repairAccessors(){function toObject(obj){if(obj===void 0||null===obj)throw new TypeError(`can\'t convert undefined or null to object`);return Object(obj)}function asPropertyName(obj){return"symbol"==typeof obj?obj:`${obj}`}function aFunction(obj,accessor){if("function"!=typeof obj)throw TypeError(`invalid ${accessor} usage`);return obj}const{defineProperty,defineProperties,getOwnPropertyDescriptor,getPrototypeOf,prototype:objectPrototype}=Object;try{(0,objectPrototype.__lookupGetter__)("x")}catch(ignore){return}defineProperties(objectPrototype,{__defineGetter__:{value:function(prop,func){const O=toObject(this);defineProperty(O,prop,{get:aFunction(func,"getter"),enumerable:!0,configurable:!0})}},__defineSetter__:{value:function(prop,func){const O=toObject(this);defineProperty(O,prop,{set:aFunction(func,"setter"),enumerable:!0,configurable:!0})}},__lookupGetter__:{value:function(prop){let O=toObject(this);prop=asPropertyName(prop);let desc;for(;O&&!(desc=getOwnPropertyDescriptor(O,prop));)O=getPrototypeOf(O);return desc&&desc.get}},__lookupSetter__:{value:function(prop){let O=toObject(this);prop=asPropertyName(prop);let desc;for(;O&&!(desc=getOwnPropertyDescriptor(O,prop));)O=getPrototypeOf(O);return desc&&desc.set}}})}function repairFunctions(){function repairFunction(name,declaration){let FunctionInstance;try{FunctionInstance=(0,eval)(declaration)}catch(e){if(e instanceof SyntaxError)return;throw e}const FunctionPrototype=getPrototypeOf(FunctionInstance),TamedFunction=function(){throw new TypeError("Not available")};defineProperties(TamedFunction,{name:{value:name}}),defineProperties(FunctionPrototype,{constructor:{value:TamedFunction}}),defineProperties(TamedFunction,{prototype:{value:FunctionPrototype}}),TamedFunction!==Function.prototype.constructor&&setPrototypeOf(TamedFunction,Function.prototype.constructor)}const{defineProperties,getPrototypeOf,setPrototypeOf}=Object;repairFunction("Function","(function(){})"),repairFunction("GeneratorFunction","(function*(){})"),repairFunction("AsyncFunction","(async function(){})"),repairFunction("AsyncGeneratorFunction","(async function*(){})")}function createNewUnsafeGlobalForNode(){const isNode=new Function("try {return this===global}catch(e){return false}")();if(!isNode)return;const vm=require("vm"),unsafeGlobal=vm.runInNewContext(unsafeGlobalEvalSrc);return unsafeGlobal}function createNewUnsafeGlobalForBrowser(){if("undefined"!=typeof document){const iframe=document.createElement("iframe");iframe.style.display="none",document.body.appendChild(iframe);const unsafeGlobal=iframe.contentWindow.eval(unsafeGlobalSrc);return unsafeGlobal}}function createUnsafeRec(unsafeGlobal,allShims=[]){const sharedGlobalDescs=getSharedGlobalDescs(unsafeGlobal),unsafeEval=unsafeGlobal.eval,unsafeFunction=unsafeGlobal.Function,callAndWrapError=createCallAndWrapError(unsafeEval);return freeze({unsafeGlobal,sharedGlobalDescs,unsafeEval,unsafeFunction,callAndWrapError,allShims})}function createNewUnsafeRec(allShims){const unsafeGlobal=getNewUnsafeGlobal();return unsafeGlobal.eval(repairAccessorsShim),unsafeGlobal.eval(repairFunctionsShim),createUnsafeRec(unsafeGlobal,allShims)}function getOptimizableGlobals(safeGlobal){const descs=getOwnPropertyDescriptors(safeGlobal),constants=arrayFilter(getOwnPropertyNames(descs),name=>{if("eval"===name||keywords.has(name)||!regexpTest(identifierPattern,name))return!1;const desc=descs[name];return!1===desc.configurable&&!1===desc.writable&&objectHasOwnProperty(desc,"value")});return constants}function createScopeHandler(unsafeRec,safeGlobal,endowments,sloppyGlobals){const{unsafeEval}=unsafeRec;return unsafeEval(buildScopeHandlerString)(unsafeRec,safeGlobal,endowments,sloppyGlobals)}function createSafeEval(unsafeRec,safeEvalOperation){const{unsafeEval}=unsafeRec;return unsafeEval(buildSafeEvalString)(unsafeRec,safeEvalOperation)}function createSafeFunction(unsafeRec,safeFunctionOperation){const{unsafeEval}=unsafeRec;return unsafeEval(buildSafeFunctionString)(unsafeRec,safeFunctionOperation)}function rejectImportExpressions(s){const index=s.search(importPattern);if(-1!==index){const linenum=s.slice(0,index).split("\\n").length;throw new SyntaxError(`possible import expression rejected around line ${linenum}`)}}function rejectDangerousSources(s){rejectImportExpressions(s)}function buildOptimizer(constants){return 0===constants.length?"":`const {${arrayJoin(constants,",")}} = this;`}function createScopedEvaluatorFactory(unsafeRec,constants){const{unsafeFunction}=unsafeRec,optimizer=buildOptimizer(constants);return unsafeFunction(`\n    with (arguments[0]) {\n      ${optimizer}\n      return function() {\n        \'use strict\';\n        return eval(arguments[0]);\n      };\n    }\n  `)}function applyTransforms(rewriterState,transforms){return rewriterState={src:`${rewriterState.src}`,endowments:create(null,getOwnPropertyDescriptors(rewriterState.endowments))},rewriterState=transforms.reduce((rs,transform)=>transform.rewrite?transform.rewrite(rs):rs,rewriterState),rewriterState={src:`${rewriterState.src}`,endowments:create(null,getOwnPropertyDescriptors(rewriterState.endowments))},rewriterState}function createSafeEvaluatorFactory(unsafeRec,safeGlobal,transforms,sloppyGlobals){const constants=getOptimizableGlobals(safeGlobal),scopedEvaluatorFactory=createScopedEvaluatorFactory(unsafeRec,constants);return function(endowments={},options={}){const localTransforms=options.transforms||[],allTransforms=arrayConcat(localTransforms,transforms||[],[rejectDangerousSourcesTransform]);return function(src){let rewriterState={src,endowments};rewriterState=applyTransforms(rewriterState,allTransforms);const scopeHandler=createScopeHandler(unsafeRec,safeGlobal,rewriterState.endowments,sloppyGlobals),scopeProxyRevocable=Proxy.revocable({},scopeHandler),scopeProxy=scopeProxyRevocable.proxy,scopedEvaluator=apply(scopedEvaluatorFactory,safeGlobal,[scopeProxy]);scopeHandler.useUnsafeEvaluator=!0;let err;try{return apply(scopedEvaluator,safeGlobal,[rewriterState.src])}catch(e){throw err=e,e}finally{scopeHandler.useUnsafeEvaluator&&(scopeProxyRevocable.revoke(),throwTantrum("handler did not revoke useUnsafeEvaluator",err))}}}}function createSafeEvaluator(unsafeRec,safeEvalOperation){const{unsafeFunction}=unsafeRec,safeEval=createSafeEval(unsafeRec,safeEvalOperation);return assert(getPrototypeOf(safeEval).constructor!==Function,"hide Function"),assert(getPrototypeOf(safeEval).constructor!==unsafeFunction,"hide unsafeFunction"),safeEval}function createSafeEvaluatorWhichTakesEndowments(safeEvaluatorFactory){return(x,endowments,options={})=>safeEvaluatorFactory(endowments,options)(x)}function createFunctionEvaluator(unsafeRec,safeEvalOperation){const{unsafeGlobal,unsafeFunction}=unsafeRec,safeFunction=createSafeFunction(unsafeRec,function(...params){const functionBody=`${arrayPop(params)||""}`;let functionParams=`${arrayJoin(params,",")}`;if(!regexpTest(/^[\\w\\s,]*$/,functionParams))throw new SyntaxError("shim limitation: Function arg must be simple ASCII identifiers, possibly separated by commas: no default values, pattern matches, or non-ASCII parameter names");if(new unsafeFunction(functionBody),stringIncludes(functionParams,")"))throw new unsafeGlobal.SyntaxError("shim limitation: Function arg string contains parenthesis");0<functionParams.length&&(functionParams+="\\n/*``*/");const src=`(function(${functionParams}){\\n${functionBody}\\n})`;return safeEvalOperation(src)});return assert(getPrototypeOf(safeFunction).constructor!==Function,"hide Function"),assert(getPrototypeOf(safeFunction).constructor!==unsafeFunction,"hide unsafeFunction"),safeFunction}function getRealmRecForRealmInstance(realm){return assert(Object(realm)===realm,"bad object, not a Realm instance"),assert(RealmRecForRealmInstance.has(realm),"Realm instance has no record"),RealmRecForRealmInstance.get(realm)}function registerRealmRecForRealmInstance(realm,realmRec){assert(Object(realm)===realm,"bad object, not a Realm instance"),assert(!RealmRecForRealmInstance.has(realm),"Realm instance already has a record"),RealmRecForRealmInstance.set(realm,realmRec)}function setDefaultBindings(safeGlobal,safeEval,safeFunction){defineProperties(safeGlobal,{eval:{value:safeEval,writable:!0,configurable:!0},Function:{value:safeFunction,writable:!0,configurable:!0}})}function createRealmRec(unsafeRec,transforms,sloppyGlobals){const{sharedGlobalDescs,unsafeGlobal}=unsafeRec,safeGlobal=create(unsafeGlobal.Object.prototype,sharedGlobalDescs),safeEvaluatorFactory=createSafeEvaluatorFactory(unsafeRec,safeGlobal,transforms,sloppyGlobals),safeEvalOperation=safeEvaluatorFactory(),safeEval=createSafeEvaluator(unsafeRec,safeEvalOperation),safeFunction=createFunctionEvaluator(unsafeRec,safeEvalOperation),safeEvalWhichTakesEndowments=createSafeEvaluatorWhichTakesEndowments(safeEvaluatorFactory);setDefaultBindings(safeGlobal,safeEval,safeFunction);const realmRec=freeze({safeGlobal,safeEval,safeEvalWhichTakesEndowments,safeFunction});return realmRec}const buildChildRealmString=cleanupSource(`\'use strict\'; (${buildChildRealm})`),buildCallAndWrapErrorString=cleanupSource(`\'use strict\'; (${function(){const{getPrototypeOf}=Object,{apply}=Reflect,uncurryThis=fn=>(thisArg,...args)=>apply(fn,thisArg,args),mapGet=uncurryThis(Map.prototype.get),setHas=uncurryThis(Set.prototype.has),errorNameToErrorConstructor=new Map([["EvalError",EvalError],["RangeError",RangeError],["ReferenceError",ReferenceError],["SyntaxError",SyntaxError],["TypeError",TypeError],["URIError",URIError]]),errorConstructors=new Set([EvalError.prototype,RangeError.prototype,ReferenceError.prototype,SyntaxError.prototype,TypeError.prototype,URIError.prototype,Error.prototype]);return function(target,args){try{return apply(target,void 0,args)}catch(err){if(Object(err)!==err)throw err;if(setHas(errorConstructors,getPrototypeOf(err)))throw err;let eName,eMessage,eStack;try{eName=`${err.name}`,eMessage=`${err.message}`,eStack=`${err.stack||eMessage}`}catch(ignored){throw new Error("unknown error")}const ErrorConstructor=mapGet(errorNameToErrorConstructor,eName)||Error;try{throw new ErrorConstructor(eMessage)}catch(err2){throw err2.stack=eStack,err2}}}}})`),{assign,create,freeze,defineProperties,getOwnPropertyDescriptor,getOwnPropertyDescriptors,getOwnPropertyNames,getPrototypeOf,setPrototypeOf}=Object,{apply,ownKeys}=Reflect,uncurryThis=fn=>(thisArg,...args)=>apply(fn,thisArg,args),objectHasOwnProperty=uncurryThis(Object.prototype.hasOwnProperty),arrayFilter=uncurryThis(Array.prototype.filter),arrayPop=uncurryThis(Array.prototype.pop),arrayJoin=uncurryThis(Array.prototype.join),arrayConcat=uncurryThis(Array.prototype.concat),regexpTest=uncurryThis(RegExp.prototype.test),stringIncludes=uncurryThis(String.prototype.includes),frozenGlobalPropertyNames=["Infinity","NaN","undefined"],stableGlobalPropertyNames=["isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","Array","ArrayBuffer","Boolean","DataView","EvalError","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Map","Number","Object","RangeError","ReferenceError","Set","String","Symbol","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet","JSON","Math","Reflect","escape","unescape"],unstableGlobalPropertyNames=["Date","Error","Promise","Proxy","RegExp","Intl"],unsafeGlobalSrc="\'use strict\'; this",unsafeGlobalEvalSrc=`(0, eval)("\'use strict\'; this")`,getNewUnsafeGlobal=()=>{const newUnsafeGlobalForBrowser=createNewUnsafeGlobalForBrowser(),newUnsafeGlobalForNode=createNewUnsafeGlobalForNode();if(!newUnsafeGlobalForBrowser&&!newUnsafeGlobalForNode||newUnsafeGlobalForBrowser&&newUnsafeGlobalForNode)throw new Error("unexpected platform, unable to create Realm");return newUnsafeGlobalForBrowser||newUnsafeGlobalForNode},repairAccessorsShim=cleanupSource(`"use strict"; (${repairAccessors})();`),repairFunctionsShim=cleanupSource(`"use strict"; (${repairFunctions})();`),identifierPattern=/^[a-zA-Z_$][\\w$]*$/,keywords=new Set(["await","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield","let","static","enum","implements","package","protected","interface","private","public","await","null","true","false","this","arguments"]),buildScopeHandlerString=cleanupSource(`\'use strict\'; (${function(unsafeRec,safeGlobal,endowments={},sloppyGlobals=!1){const{unsafeGlobal,unsafeEval}=unsafeRec,{freeze}=Object,{get:reflectGet}=Reflect,{unscopables}=Symbol,alwaysThrowHandler=new Proxy(freeze({}),{get(target,prop){throw new TypeError(`unexpected scope handler trap called: ${prop+""}`)}});return{__proto__:alwaysThrowHandler,getPrototypeOf(){return alwaysThrowHandler},useUnsafeEvaluator:!1,get(shadow,prop){return prop===unscopables?void 0:"eval"===prop&&!0===this.useUnsafeEvaluator?(this.useUnsafeEvaluator=!1,unsafeEval):prop in endowments?reflectGet(endowments,prop,safeGlobal):prop in safeGlobal?safeGlobal[prop]:void 0},set(shadow,prop,value){if(prop in endowments)throw new TypeError(`do not modify endowments like ${prop+""}`);return safeGlobal[prop]=value,!0},has(shadow,prop){return!!sloppyGlobals||!!("eval"===prop||prop in endowments||prop in safeGlobal||prop in unsafeGlobal)},getPrototypeOf(){return null}}}})`),buildSafeEvalString=cleanupSource(`\'use strict\'; (${function(unsafeRec,safeEvalOperation){const{callAndWrapError}=unsafeRec,{defineProperties}=Object,safeEval={eval(){return callAndWrapError(safeEvalOperation,arguments)}}.eval;return defineProperties(safeEval,{toString:{value:()=>`function ${"eval"}() { [shim code] }`,writable:!1,enumerable:!1,configurable:!0}}),safeEval}})`),buildSafeFunctionString=cleanupSource(`\'use strict\'; (${function(unsafeRec,safeFunctionOperation){const{callAndWrapError,unsafeFunction}=unsafeRec,{defineProperties}=Object,safeFunction=function(){return callAndWrapError(safeFunctionOperation,arguments)};return defineProperties(safeFunction,{prototype:{value:unsafeFunction.prototype},toString:{value:()=>"function Function() { [shim code] }",writable:!1,enumerable:!1,configurable:!0}}),safeFunction}})`),importPattern=/\\bimport\\s*(?:\\(|\\/[/*]|\x3c!--|--\x3e)/,rejectDangerousSourcesTransform={rewrite(rs){return rejectDangerousSources(rs.src),rs}},RealmRecForRealmInstance=new WeakMap,BaseRealm={initRootRealm:function(parentUnsafeRec,self,options){const{shims:newShims,transforms,sloppyGlobals}=options,allShims=arrayConcat(parentUnsafeRec.allShims,newShims),unsafeRec=createNewUnsafeRec(allShims),Realm=createRealmFacade(unsafeRec,BaseRealm),realmRec=createRealmRec(unsafeRec,transforms,sloppyGlobals),{safeEvalWhichTakesEndowments}=realmRec;for(const shim of allShims)safeEvalWhichTakesEndowments(shim);registerRealmRecForRealmInstance(self,realmRec)},initCompartment:function(unsafeRec,self,options={}){const{transforms,sloppyGlobals}=options,realmRec=createRealmRec(unsafeRec,transforms,sloppyGlobals);registerRealmRecForRealmInstance(self,realmRec)},getRealmGlobal:function(self){const{safeGlobal}=getRealmRecForRealmInstance(self);return safeGlobal},realmEvaluate:function(self,x,endowments={},options={}){const{safeEvalWhichTakesEndowments}=getRealmRecForRealmInstance(self);return safeEvalWhichTakesEndowments(x,endowments,options)}},currentUnsafeRec=function(){const unsafeGlobal=(0,eval)(unsafeGlobalSrc);return repairAccessors(),repairFunctions(),createUnsafeRec(unsafeGlobal)}(),Realm=buildChildRealm(currentUnsafeRec,BaseRealm);return Realm});\n'}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(430                   );let a=null,l=null;const c=URL.createObjectURL(new Blob([o],{type:"application/javascript"}));n.loadRealms=function(){return a||(a=new Promise((e,n)=>{(l=document.createElement("iframe")).style.display="none",l.onload=(()=>{const t=l.contentDocument,o=t.createElement("script");o.src=c,o.onload=(()=>{l.contentWindow&&l.contentWindow.Realm?e():n("failed to load realm")}),t.body.appendChild(o)}),document.body.appendChild(l),l.contentWindow&&l.contentDocument||n("failed to create realm loader")})).catch(()=>{a=null}),a},n.makeRootRealm=function(){if(!l||!l.contentWindow||!l.contentWindow.Realm)throw new Error("need to load realm before using it");const e=l.contentWindow.document.body.lastChild,n=l.contentWindow.Realm.makeRootRealm(),t=l.contentWindow.document.body.lastChild;if(e===t||!t||"IFRAME"!==t.nodeName)throw new Error("can't find iframe to create plugin environment");return{realm:n,iframe:t}}}),
(function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});const o=r(437     ),i=r(431                   ),s=["log","error","assert","info","warn","clear"],a={};for(let f of s)a[f]=console[f].bind(console);const l=Symbol("internal"),h=Symbol("wasDestroyed"),u=Function.prototype.apply;function c(e,t){if(e[h])throw new Error(o.VM_DESTROYED_ERROR);if("object"==typeof t&&null!==t&&l in t)throw new Error("Wrapping a handle twice!");return{[l]:t}}function y(e,t){if(e[h])throw new Error(o.VM_DESTROYED_ERROR);if("object"!=typeof t||null===t||!(l in t))throw new Error("The provided value is not a handle");return t[l]}t.RealmsVm=class{constructor(){this.vmType="realms",this.globalHandle=null,this.nullHandle=null,this.undefinedHandle=null,this[n]=!1,this.errorHandler=(()=>{}),this.executionDepth=0;const{realm:e,iframe:t}=i.makeRootRealm();this.realm=e,this.iframe=t;const{safeFunctionWrapper:r,objectCreate:o,uint8ArrayCopy:l,emptyObject:h,emptyArray:u,promiseCreate:f}=this.realm.evaluate("\n      ({\n        safeFunctionWrapper: (outerRealmUnsafeFunction, functionName) => {\n          // This function is safe because it is created here inside the realm.\n          const innerRealmSafeFunction = function innerRealmSafeFunction(...innerRealmArgs) {\n            try {\n              return outerRealmUnsafeFunction(this, ...innerRealmArgs)\n            } catch (outerRealmException) {\n              let outerMessage = ''\n              try {\n                // This nested try-catch exists because it's theoretically possible for .message\n                // to throw an error from the outer realm if it's a getter or an object whose\n                // toString() throws an error.\n                if (outerRealmException && outerRealmException.message) {\n                  outerMessage =  \": \" + outerRealmException.message\n                }\n              } catch(ignored) {\n                throw new Error('API error trying to convert error message -- please contact support')\n              }\n\n              // We need to re-throw a new error object created in the inner realm\n              // so that it's safe for the plugin to look at\n              throw new Error('in ' + functionName + outerMessage)\n            }\n          }\n          return innerRealmSafeFunction\n        },\n        objectCreate: (() => {\n          // Wrap Object.create so it can't be modified and can't be accessed by the plugin\n          let objCreate = Object.create\n          return (prototype) => {\n            return objCreate(prototype)\n          }\n        })(),\n        uint8ArrayCopy: (() => {\n          // Wrap Uint8Array so it can't be modified by the plugin\n          let arrayConstructor = Uint8Array\n          return (outerRealmArray) => {\n            return new arrayConstructor(outerRealmArray)\n          }\n        })(),\n        emptyObject: () => {\n          return {}\n        },\n        emptyArray: () => {\n          return []\n        },\n        promiseCreate: (() => {\n          const promiseCtor = Promise\n          return () => {\n            let resolve\n            let reject\n            const promise = new promiseCtor((innerResolve, innerReject) => {\n              resolve = innerResolve\n              reject = innerReject\n            })\n            return {\n              promise,\n              resolve,\n              reject,\n            }\n          }\n        })(),\n      })\n    "),p=(e,t,n)=>{const o=r((e,...r)=>{const o=c(this,e),i=n?r.map(e=>c(this,e)):r;if(n)for(;i.length<t.length;)i.push(c(this,void 0));const s=t.apply(o,i);return void 0===s?void 0:y(this,s)},e);return Object.defineProperty(o,"name",{value:e,writable:!1}),o};this.outerToInnerFunctionTransformer=((e,t)=>p(e,t,!0)),this.objectFactory=o,this.uint8ArrayFactory=l,this.emptyObjectFactory=h,this.emptyArrayFactory=u,this.promiseFactory=f,this.globalHandle=c(this,this.realm.global),this.nullHandle=c(this,null),this.undefinedHandle=c(this,void 0);const m=this.newObject();this.setProp(this.global,"console",m);for(let n of s)this.setProp(m,n,c(this,p(n,a[n],!1)))}get global(){if(this.globalHandle)return this.globalHandle;throw new Error("no global handle")}get null(){if(this.nullHandle)return this.nullHandle;throw new Error("no null handle")}get undefined(){if(this.undefinedHandle)return this.undefinedHandle;throw new Error("no undefined handle")}typeof(e){return typeof y(this,e)}isNumber(e){return"number"==typeof y(this,e)}isBoolean(e){return"boolean"==typeof y(this,e)}isString(e){return"string"==typeof y(this,e)}isNull(e){return null===y(this,e)}isUndefined(e){return void 0===y(this,e)}isObject(e){const t=y(this,e);return"object"==typeof t&&null!==t}isArray(e){return Array.isArray(y(this,e))}isUint8Array(e){const t=y(this,e);return"[object Uint8Array]"===Object.prototype.toString.call(t)&&ArrayBuffer.isView(t)}isFunction(e){return"function"==typeof y(this,e)}shallowFreezeObject(e){Object.freeze(y(this,e))}getNumber(e){const t=y(this,e);if("number"!=typeof t)throw new Error("Value is not a number");return+t}getBoolean(e){const t=y(this,e);if("boolean"!=typeof t)throw new Error("Value is not a boolean");return!!t}getString(e){const t=y(this,e);if("string"!=typeof t)throw new Error("Value is not a string");return""+t}getUint8Array(e){if(!this.isUint8Array(e))throw new Error("Value is not a Uint8Array");const t=y(this,e);try{const e=+t.byteOffset,n=+t.byteLength,i=ArrayBuffer.prototype.slice.call(t.buffer,e,e+n);return new Uint8Array(i)}catch(r){throw new o.VmError(this,c(this,r))}}toNumber(e){const t=y(this,e);try{return+t}catch(r){throw new o.VmError(this,c(this,r))}}toBoolean(e){const t=y(this,e);try{return!!t}catch(r){throw new o.VmError(this,c(this,r))}}toString(e){const t=y(this,e);try{return""+t}catch(r){throw new o.VmError(this,c(this,r))}}newNumber(e){if("number"!=typeof e)throw new Error("Value is not a number");return c(this,e)}newBoolean(e){if("boolean"!=typeof e)throw new Error("Value is not a boolean");return c(this,e)}newString(e){if("string"!=typeof e)throw new Error("Value is not a string");return c(this,e)}newObject(e){if(!e)return c(this,this.emptyObjectFactory());let t,r=y(this,e);try{t=this.objectFactory(r)}catch(n){throw new o.VmError(this,c(this,n))}return c(this,t)}newArray(){return c(this,this.emptyArrayFactory())}newUint8Array(e){if("[object Uint8Array]"===Object.prototype.toString.call(e)&&ArrayBuffer.isView(e))return c(this,this.uint8ArrayFactory(e));throw new Error("Value is not an Uint8Array")}newFunction(e,t){if("function"!=typeof t)throw new Error("Value is not a function");return c(this,this.outerToInnerFunctionTransformer(e,t))}newPromise(){const{promise:e,resolve:t,reject:r}=this.promiseFactory();return{promise:c(this,e),resolve:e=>{this.callFunction(c(this,t),this.null,e)},reject:e=>{this.callFunction(c(this,r),this.null,e)}}}getKeys(e){let t=y(this,e);if("object"!=typeof t)throw new Error("not an object");return Object.keys(t)}getProp(e,t){let r,n=y(this,e);try{r=n[t]}catch(i){throw new o.VmError(this,c(this,i))}return c(this,r)}setProp(e,t,r){let n=y(this,e),i=y(this,r);try{n[t]=i}catch(s){throw new o.VmError(this,c(this,s))}}defineProp(e,t,r){let n={};"configurable"in r&&(n.configurable=!!r.configurable),"enumerable"in r&&(n.enumerable=!!r.enumerable),"writable"in r&&(n.writable=!!r.writable),"value"in r&&r.value&&(n.value=y(this,r.value)),"get"in r&&r.get&&(n.get=this.outerToInnerFunctionTransformer("get_"+t,r.get)),"set"in r&&r.set&&(n.set=this.outerToInnerFunctionTransformer("set_"+t,r.set)),Object.defineProperty(y(this,e),t,n)}isEqual(e,t){return y(this,e)===y(this,t)}callFunction(e,t,...r){const n=y(this,e),i=y(this,t),s=r.map(e=>y(this,e));try{return this.executionDepth++,{type:"SUCCESS",handle:c(this,u.call(n,i,s))}}catch(l){a.error(l);let e=new o.VmError(this,c(this,l));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}evalCode(e){try{return this.executionDepth++,{type:"SUCCESS",handle:c(this,this.realm.evaluate(e))}}catch(t){a.error(t);let e=new o.VmError(this,c(this,t));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}evalTopLevelCode(e){let t=this.evalCode(e);return"SUCCESS"===t.type&&(t.handle=this.undefined),t}setAbortHandler(e){}setErrorHandler(e){this.errorHandler=e}destroy(){this[h]=!0,this.iframe.remove()}isDestroyed(){return this[h]}retainHandle(e){}releaseHandle(e){}},n=h}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(437      );const o=["unknown","undefined","boolean","number","string","symbol","function","object"];async function s(){const{Module:e}=await new Promise((e,t)=>{const n=document.createElement("script");n.onerror=(e=>{t(e)}),n.onload=(()=>{const t={wasmBinaryFile:Fig.jsvmCppURLs["jsvm-cpp.wasm"],postRun(){setTimeout(()=>{e({Module:t})})}};CppVm(t),CppVm=(()=>Promise.reject())}),n.src=Fig.jsvmCppURLs["jsvm-cpp.js"],document.head.appendChild(n)}),t=new Map,n=new Map,s=e.string_to_ptr,i=e.ptr_to_string;let _=1;function a(t){if(e._jsvm_didThrow()){const t=e._jsvm_lastThrow();let n=i(e._jsvm_toString(t));throw e._jsvm_didThrow()&&(n="Unknown error"),new r.VmError(n,t)}return t}e.invokeCallback=((e,n,r)=>{const o=t.get(e);if(void 0===o)throw new Error(`Attempted to invoke callback with invalid id ${e}`);for(;r.length<o.length;)r.push(u.undefined);const s=o.apply(n,r);return void 0===s?u.undefined:s}),e.getRegisteredFunctionName=(e=>n.get(e));let l=!1;function m(){l||(l=!0,Promise.resolve().then(()=>{l=!1,e._jsvm_runMicrotasksAndAutorelease()}))}const u={reset(){_=1,t.clear(),e._jsvm_reset()},retainHandle(t){m(),a(e._jsvm_retainHandle(t))},releaseHandle(t){m(),a(e._jsvm_releaseHandle(t))},get onAbort(){return e.onAbort},set onAbort(t){e.onAbort=t},get null(){return m(),e._jsvm_nullHandle()},get undefined(){return m(),e._jsvm_undefinedHandle()},get global(){return m(),e._jsvm_globalHandle()},typeof:t=>(m(),o[e._jsvm_typeof(t)]),isNumber:t=>(m(),!!e._jsvm_isNumber(t)),isBoolean:t=>(m(),!!e._jsvm_isBoolean(t)),isString:t=>(m(),!!e._jsvm_isString(t)),isNull:t=>(m(),!!e._jsvm_isNull(t)),isUndefined:t=>(m(),!!e._jsvm_isUndefined(t)),isObject:t=>(m(),!!e._jsvm_isObject(t)),isArray:t=>(m(),!!e._jsvm_isArray(t)),isUint8Array:t=>(m(),!!e._jsvm_isUint8Array(t)),isFunction:t=>(m(),!!e._jsvm_isFunction(t)),shallowFreezeObject:t=>(m(),e._jsvm_shallowFreezeObject(t)),getNumber:t=>(m(),a(e._jsvm_getNumber(t))),getBoolean:t=>(m(),!!a(e._jsvm_getBoolean(t))),getString:t=>(m(),a(i(e._jsvm_getString(t)))),getUint8Array:t=>(m(),a(e.ptr_to_uint8array(e._jsvm_getUint8Array(t)))),toNumber:t=>(m(),a(e._jsvm_toNumber(t))),toBoolean:t=>(m(),!!a(e._jsvm_toBoolean(t))),toString:t=>(m(),a(i(e._jsvm_toString(t)))),newNumber:t=>(m(),e._jsvm_newNumber(t)),newBoolean:t=>(m(),e._jsvm_newBoolean(t)),newString:t=>(m(),e._jsvm_newString(s(t))),newObject:t=>(m(),t?a(e._jsvm_newObjectWithProto(t)):e._jsvm_newObject()),newArray:()=>(m(),e._jsvm_newArray()),newUint8Array:t=>(m(),e._jsvm_newUint8Array(e.uint8array_to_ptr(t))),newFunction(r,o){m();const i=_++;return t.set(i,o),n.set(i,r),e._jsvm_newFunction(s(r),i)},getProto:t=>(m(),e._jsvm_getProto(t)),getOwnKeys(t){m();const n=[];for(const r of e.ptr_to_int_array(e._jsvm_getOwnKeys(t)))n.push(i(r));return n},getPropStr:(t,n)=>(m(),a(e._jsvm_getPropStr(t,s(n)))),setPropStr(t,n,r){m(),a(e._jsvm_setPropStr(t,s(n),r))},definePropStr(t,n,r){if(m(),function(e){return("get"in e||"set"in e)&&!("value"in e||"writable"in e)}(r))a(e._jsvm_accessorDefinePropStr(t,s(n),void 0===r.get?u.undefined:u.newFunction("get_"+n,r.get),void 0===r.set?u.undefined:u.newFunction("set_"+n,r.set),!!r.configurable,!!r.enumerable));else{if(!function(e){return!("get"in e||"set"in e)}(r))throw Object.defineProperty({},n,r),new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");a(e._jsvm_dataDefinePropStr(t,s(n),void 0===r.value?u.undefined:r.value,!!r.writable,!!r.configurable,!!r.enumerable))}},isEqual:(t,n)=>(m(),!!e._jsvm_isEqual(t,n)),callFunction:(t,n,r)=>(m(),a(e._jsvm_callFunction(t,n,e.int_array_to_ptr(r)))),evalCode:t=>(m(),a(e._jsvm_evalCode(s(t))))};return u}let i;t.loadCppVm=function(){return i||(i=s()),i}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=/^(.*)\bimport\s*(\(|\/\/|\/\*|<!--|-->)/m;t.rejectImportExpressions=function(e){const t=o.exec(e);if(t){const e=t[1].split("\n").length;throw new SyntaxError(`possible import expression rejected around line ${e}`)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={},s=new Set(["arguments","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield"]),o=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;t.CppVmConsoleAPI=class{constructor(e,t,n){this.api=e,this.vmWasDestroyed=n,this.valuesToHandles=new Map,this.getOwnPropertyDescriptors=e.evalCode("Object.getOwnPropertyDescriptors"),this.hasOwnProperty=e.evalCode("Object.hasOwnProperty"),this.newMap=e.evalCode("(Map => () => new Map)(Map)"),this.mapGet=e.evalCode("Map.prototype.get"),this.mapSet=e.evalCode("Map.prototype.set"),e.retainHandle(this.getOwnPropertyDescriptors),e.retainHandle(this.hasOwnProperty),e.retainHandle(this.newMap),e.retainHandle(this.mapGet),e.retainHandle(this.mapSet);const r=e.newObject();e.setPropStr(e.global,"console",r);for(let s in t)e.setPropStr(r,s,e.newFunction(s,(...e)=>{try{t[s](...this.cloneArguments(e))}catch(n){throw t.error(n),n}}))}createHandleToValueMap(){const e=this.api,t=e.callFunction(this.newMap,e.null,[]),n=[];return{get:s=>{const o=e.callFunction(this.mapGet,t,[s]);return e.isNumber(o)?n[e.getNumber(o)]:r},set:(r,s)=>{const o=n.length;e.callFunction(this.mapSet,t,[r,e.newNumber(o)]),n.push(s)}}}cloneArguments(e){const t=this.createHandleToValueMap(),n=[];for(const r of e)n.push(this.cloneValue(t,r));return n}cloneValue(e,t){const n=e.get(t);if(n!==r)return n;const a=this.api;switch(a.typeof(t)){case"undefined":return;case"boolean":return a.getBoolean(t);case"number":return a.getNumber(t);case"string":return a.getString(t);default:if(a.isNull(t))return null;if(a.isUint8Array(t)){const n=a.getUint8Array(t);return e.set(t,n),n}if(a.isFunction(t)){let n="";try{n=a.getString(a.getPropStr(t,"name"))}catch(i){}const r=function(e){return o.test(e)&&!s.has(e)}(n)?new Function(`return function ${n}() {}`)():function(){};return e.set(t,r),r}if(a.isArray(t)){const n=a.getNumber(a.getPropStr(t,"length")),r=[];e.set(t,r);for(let s=0;s<n;s++)r.push(this.cloneValue(e,a.getPropStr(t,s.toString())));return r}return this.cloneObjectWithProperties(e,t)}}cloneObjectWithProperties(e,t){const n=this.api,r=n.callFunction(this.getOwnPropertyDescriptors,n.null,[t]);let s={};e.set(t,s),n.retainHandle(t),this.valuesToHandles.set(s,t);const o=n.getProto(t),a=this.cloneValue(e,o);Object.setPrototypeOf(s,a);for(const i of n.getOwnKeys(r)){const o=n.getPropStr(r,i),a=n.getBoolean(n.getPropStr(o,"enumerable")),l=n.getPropStr(o,"get"),c=n.getPropStr(o,"set"),u=!n.isUndefined(l),p=!n.isUndefined(c);if(!u&&!p){Object.defineProperty(s,i,{value:this.cloneValue(e,n.getPropStr(t,i)),enumerable:a});continue}const h={enumerable:a};if(u){n.retainHandle(l);const e=this;h.get=function(){if(e.vmWasDestroyed())throw"(this plugin run has ended)";let r=e.valuesToHandles.get(this);void 0===r&&(r=t);const s=n.callFunction(l,r,[]),o=e.createHandleToValueMap();return e.cloneValue(o,s)}}p&&(h.set=(()=>{})),Object.defineProperty(s,i,h)}return s}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(437     ),i=r(433              ),o=r(434                     ),s=r(435                       );let a;const l=["log","error","assert","info","warn","clear"],f={};for(let c of l)f[c]=console[c].bind(console);let u=null;t.undefinedProperties=["window","document","fetch","indexedDB","atob","btoa"];t.CppVm=class{constructor(){if(this.vmType="cppvm",this._isDestroyed=!1,this._abortHandler=(()=>{}),this._errorHandler=(()=>{}),this._executionDepth=0,!a)throw new Error("Must await CppVm.load() first");if(null!==u)throw new Error("Cannot create two CppVm objects at the same time");u=this,a.reset(),this._promiseFactory=a.evalCode("(Promise => () => {\n      let resolve, reject, promise = new Promise((res, rej) => {\n        resolve = res, reject = rej;\n      });\n      return {resolve, reject, promise};\n    })(Promise)"),a.retainHandle(this._promiseFactory),a.evalCode("\n      this.eval = (function() {\n        let __figma_scope_factory__ = ((eval, objectCreate, objectDefineProp) => () => {\n          let scope = objectCreate(null)\n          objectDefineProp(scope, 'eval', {\n            get: function() {\n              delete this.eval\n              return eval\n            },\n            configurable: true,\n          })\n          return scope\n        })(eval, Object.create, Object.defineProperty)\n        return function() {\n          with(__figma_scope_factory__()) {\n            let __figma_scope_factory__\n            return (function() {\n              \"use strict\"\n              return eval(arguments[0])\n            }).call(this, arguments[0])\n          }\n        }.bind(arguments[0])\n      })(this)\n    "),new s.CppVmConsoleAPI(a,f,()=>this._isDestroyed);for(const e of t.undefinedProperties)a.definePropStr(a.global,e,{value:a.undefined,enumerable:!1});a.onAbort=(()=>{this._abortHandler((new Error).stack||"")})}static async load(){a=await i.loadCppVm()}get null(){return this._failIfDestroyed(),a.null}get undefined(){return this._failIfDestroyed(),a.undefined}get global(){return this._failIfDestroyed(),a.global}typeof(e){return this._failIfDestroyed(),a.typeof(e)}isNumber(e){return this._failIfDestroyed(),a.isNumber(e)}isBoolean(e){return this._failIfDestroyed(),a.isBoolean(e)}isString(e){return this._failIfDestroyed(),a.isString(e)}isNull(e){return this._failIfDestroyed(),a.isNull(e)}isUndefined(e){return this._failIfDestroyed(),a.isUndefined(e)}isObject(e){return this._failIfDestroyed(),a.isObject(e)}isArray(e){return this._failIfDestroyed(),a.isArray(e)}isUint8Array(e){return this._failIfDestroyed(),a.isUint8Array(e)}isFunction(e){return this._failIfDestroyed(),a.isFunction(e)}shallowFreezeObject(e){this._failIfDestroyed(),a.shallowFreezeObject(e)}getNumber(e){return this._failIfDestroyed(),a.getNumber(e)}getBoolean(e){return this._failIfDestroyed(),a.getBoolean(e)}getString(e){return this._failIfDestroyed(),a.getString(e)}getUint8Array(e){return this._failIfDestroyed(),a.getUint8Array(e)}toNumber(e){return this._failIfDestroyed(),a.toNumber(e)}toBoolean(e){return this._failIfDestroyed(),a.toBoolean(e)}toString(e){return this._failIfDestroyed(),a.toString(e)}newNumber(e){if(this._failIfDestroyed(),"number"!=typeof e)throw new Error("Value is not a number");return a.newNumber(e)}newBoolean(e){if(this._failIfDestroyed(),"boolean"!=typeof e)throw new Error("Value is not a boolean");return a.newBoolean(e)}newString(e){if(this._failIfDestroyed(),"string"!=typeof e)throw new Error("Value is not a string");return a.newString(e)}newObject(e){return this._failIfDestroyed(),a.newObject(e)}newArray(){return this._failIfDestroyed(),a.newArray()}newUint8Array(e){if(this._failIfDestroyed(),"[object Uint8Array]"===Object.prototype.toString.call(e)&&ArrayBuffer.isView(e))return a.newUint8Array(e);throw new Error("Value is not an Uint8Array")}newFunction(e,t){if(this._failIfDestroyed(),"function"!=typeof t)throw new Error("Value is not a function");return a.newFunction(e,t)}newPromise(){this._failIfDestroyed();const e=a.callFunction(this._promiseFactory,a.null,[]),t=a.getPropStr(e,"resolve"),r=a.getPropStr(e,"reject");let n=!1;function i(){n||(n=!0,a.releaseHandle(t),a.releaseHandle(r))}return a.retainHandle(t),a.retainHandle(r),{promise:a.getPropStr(e,"promise"),resolve:e=>{n||(a.callFunction(t,a.null,[e]),i())},reject:e=>{n||(a.callFunction(r,a.null,[e]),i())}}}getKeys(e){return this._failIfDestroyed(),a.getOwnKeys(e)}getProp(e,t){return this._failIfDestroyed(),a.getPropStr(e,t)}setProp(e,t,r){this._failIfDestroyed(),a.setPropStr(e,t,r)}defineProp(e,t,r){this._failIfDestroyed(),a.definePropStr(e,t,r)}isEqual(e,t){return this._failIfDestroyed(),a.isEqual(e,t)}callFunction(e,t,...r){this._failIfDestroyed();try{return this._executionDepth++,{type:"SUCCESS",handle:a.callFunction(e,t,r)}}catch(i){if(i instanceof n.VmError){try{f.error(i.message+"\n"+a.toString(a.getPropStr(i.handle,"stack")))}catch(o){f.error(i)}return 1===this._executionDepth&&this._errorHandler(i),{type:"FAILURE",error:i}}throw i}finally{this._executionDepth--}}evalCodeInternal(e){this._failIfDestroyed();try{return this._executionDepth++,{type:"SUCCESS",handle:a.evalCode(e)}}catch(t){if(t instanceof n.VmError){try{f.error(t.message+"\n"+a.toString(a.getPropStr(t.handle,"stack")))}catch(r){f.error(t)}return 1===this._executionDepth&&this._errorHandler(t),{type:"FAILURE",error:t}}throw t}finally{this._executionDepth--}}evalCode(e){return o.rejectImportExpressions(e),this.evalCodeInternal(`eval(${JSON.stringify(e)})`)}evalTopLevelCode(e){return o.rejectImportExpressions(e),this.evalCodeInternal(`(function() { "use strict"; ${e} }).call(this)`)}setAbortHandler(e){this._abortHandler=e}setErrorHandler(e){this._errorHandler=e}destroy(){this._isDestroyed||(u===this&&(u=null),a.reset(),this._isDestroyed=!0)}isDestroyed(){return this._isDestroyed}_failIfDestroyed(){if(this._isDestroyed)throw new Error("This VM has been destroyed")}retainHandle(e){a.retainHandle(e)}releaseHandle(e){a.releaseHandle(e)}}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(429           ),o=t(432            ),s=t(436         );r.VM_DESTROYED_ERROR="Attempted access to object created in plugin, but the plugin has already been closed";class a extends Error{constructor(e,r){let t="The plugin threw an error that could not be converted to a string";try{t="string"==typeof e?e:e.toString(r).replace(/^Error: /,"")}catch(n){}super(t),this.handle=r,Object.setPrototypeOf(this,a.prototype)}}function p(e){const r=new e;return r.getBooleanProp=((e,t)=>r.toBoolean(r.getProp(e,t))),r.getNumberProp=((e,t)=>r.toNumber(r.getProp(e,t))),r.getStringProp=((e,t)=>r.toString(r.getProp(e,t))),r.setBooleanProp=((e,t,n)=>r.setProp(e,t,r.newBoolean(n))),r.setNumberProp=((e,t,n)=>r.setProp(e,t,r.newNumber(n))),r.setStringProp=((e,t,n)=>r.setProp(e,t,r.newString(n))),r.callMethod=((e,t,...n)=>r.callFunction(r.getProp(e,t),e,...n)),r.deepWrap=(e=>{switch(typeof e){case"undefined":return r.undefined;case"boolean":return r.newBoolean(e);case"number":return r.newNumber(e);case"string":return r.newString(e);case"object":if(null===e)return r.null;if(e instanceof Array){const t=r.newArray(),n=e.length;for(let o=0;o<n;o++)r.setProp(t,o.toString(),r.deepWrap(e[o]));return t}if(e instanceof Uint8Array)return r.newUint8Array(e);{const t=r.newObject();for(const n in e)r.setProp(t,n,r.deepWrap(e[n]));return t}default:throw new Error(`Cannot wrap ${typeof e}`)}}),r.deepUnwrap=(e=>{switch(r.typeof(e)){case"undefined":return;case"boolean":return r.toBoolean(e);case"number":return r.toNumber(e);case"string":return r.toString(e);case"object":if(r.isNull(e))return null;if(r.isArray(e)){const t=[],n=r.getNumberProp(e,"length");for(let o=0;o<n;o++)t.push(r.deepUnwrap(r.getProp(e,o.toString())));return t}if(r.isUint8Array(e))return r.getUint8Array(e);{const t={};for(const n of r.getKeys(e))t[n]=r.deepUnwrap(r.getProp(e,n));return t}default:throw new Error(`Cannot unwrap ${r.typeof(e)}`)}}),r.deepFreezeObject=(e=>{if(r.isObject(e))for(const t of r.getKeys(e))r.deepFreezeObject(r.getProp(e,t));r.shallowFreezeObject(e)}),r.defineFunction=((e,t,n)=>{r.defineProp(e,t,{enumerable:!1,value:r.newFunction(t,n)})}),r.registerPromise=function(e){return new Promise((t,n)=>{e.then(e=>{r.isDestroyed()||t(e)},e=>{r.isDestroyed()||n(e)})})},r}r.VmError=a,r.createNoOpJavascriptVm=function(){return p(n.NoOpJavascriptVm)},r.createRealmsVm=function(){return p(o.RealmsVm)};let c=!1;r.createCppVm=async function(){return c||(await s.CppVm.load(),c=!0),p(s.CppVm)}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(437     ),o=r(179        );class i extends Error{constructor(e){super(e),Object.setPrototypeOf(this,i.prototype)}}function a(e){return Object.defineProperty(e,"isOptional",{enumerable:!0,get:function(){return{type:"optional",__schema:this}}}),e}t.PropValidationError=i;const s={type:"number",min:function(e){return a(Object.assign(Object.assign({},this),{__min:e}))},max:function(e){return a(Object.assign(Object.assign({},this),{__max:e}))},range:function(e,t){return a(Object.assign(Object.assign({},this),{__min:e,__max:t}))}};function c(e,t,r,n){const a=e.typeof(t);function s(){return new i(`Expected "${n}" to have type ${f(r)} but got ${function(e,t){const r=e.typeof(t);if("object"===r){if(e.isArray(t))return"array";if(e.isNull(t))return"null"}else if("number"===r){const r=e.getNumber(t);if(isNaN(r))return"NaN";if(r===1/0||r===-1/0)return"Infinity"}return r}(e,t)} instead`)}if("string"==typeof r){if(e.isString(t)&&r===e.getString(t))return r;throw s()}if("number"==typeof r){if(e.isNumber(t)&&r===e.getNumber(t))return r;throw s()}if("boolean"==typeof r){if(e.isBoolean(t)&&r===e.getBoolean(t))return r;throw s()}if(null===r){if(e.isNull(t))return r;throw s()}if(void 0===r){if(e.isUndefined(t))return r;throw s()}switch(r.type){case"optional":if("undefined"===a)return;return c(e,t,r.__schema,n);case"oneOf":if(r.__primaryField){const o=`${n}.${r.__primaryField}`;if(!e.isObject(t))throw new i(`Expected "${n}" to be an object`);let a=null;for(const n of r.__options){const s=n;try{c(e,e.getProp(t,r.__primaryField),s.__shape[r.__primaryField],o),a=n;break}catch(u){if(!(u instanceof i))throw u}}if(a)return c(e,t,a,n);throw new i(`Expected "${o}" to be one of the allowed values for this property`)}{let o=[];for(const s of r.__options)try{return c(e,t,s,n)}catch(u){if(u instanceof i){o.push(u.message);continue}throw u}const a=o.map(e=>e.split("\n").map(e=>"  "+e).join("\n"));throw new i(`Expected "${n}" to be one of the following, but none matched: \n`+a.join("\n"))}case"boolean":if("boolean"!==a)throw s();return e.getBoolean(t);case"uint8array":if(!e.isUint8Array(t))throw s();return e.getUint8Array(t);case"number":{if("number"!==a)throw s();const o=e.getNumber(t);if(!isFinite(o))throw s();if(null!=r.__min&&o<r.__min)throw new i(`Expected "${n}" to have value >= ${r.__min}`);if(null!=r.__max&&o>r.__max)throw new i(`Expected "${n}" to have value <= ${r.__max}`);if(null!=r.__requireInteger&&(0|o)!==o)throw new i(`Expected "${n}" to be an integer`);return o}case"string":if("string"!==a)throw s();return e.getString(t);case"any":if("undefined"===a||e.isNull(t))throw s();return e.deepUnwrap(t);case"array":{if(!e.isArray(t))throw s();const o=[],i=e.getNumberProp(t,"length");for(let a=0;a<i;a++)o.push(c(e,e.getProp(t,a.toString()),r.__contentType,n+`.[${a}]`));return o}case"dictionary":{if(!e.isObject(t)||e.isArray(t))throw s();const o={};for(const i of e.getKeys(t))o[i]=c(e,e.getProp(t,i),r.__contentType,n+`["${i}"]`);return o}case"exact":{if(!e.isObject(t))throw s();const o={},a=Object.keys(r.__shape);for(const i of a){const a=r.__shape[i];o[i]=c(e,e.getProp(t,i),a,n+"."+i)}for(const s of e.getKeys(t))if(-1===a.indexOf(s))throw new i(`Expected "${n}" to have type ${f(r)} but got additional property "${s}"`);return o}default:o.assertNever(r)}}t.PropTypes={bool:a({type:"boolean"}),string:a({type:"string"}),uint8Array:a({type:"uint8array"}),any:a({type:"any"}),arrayOf:e=>a({type:"array",__contentType:e}),dictionaryOf:e=>a({type:"dictionary",__contentType:e}),exact:e=>a({type:"exact",__shape:e}),oneOf:(e,t)=>{if(t)for(const r of e){if("exact"!==r.type)throw new Error("All variants of a PropTypes.oneOf with a primaryField must be PropTypes.exact");if(!r.__shape[t])throw new Error("All variants of a PropTypes.oneOf with a primaryField must contain the primary field")}return a({type:"oneOf",__options:e,__primaryField:t})},float:a(s),integer:a(Object.assign(Object.assign({},s),{__requireInteger:!0}))},t.deepValidateAndUnwrap=c;const u=50;function f(e){return function e(t,r){if(r>u)return"[...(recursive type definition)...]";if("string"==typeof t)return`"${t}"`;if("number"==typeof t)return`${t}`;if("boolean"==typeof t)return`${t}`;if(null===t)return"null";if(void 0===t)return"undefined";switch(t.type){case"optional":return`(optional) ${e(t.__schema,r+1)}`;case"oneOf":return`oneOf(${t.__options.map(t=>e(t,r+1)).join(", ")})`;case"boolean":return"boolean";case"uint8array":return"Uint8Array";case"number":return"number";case"string":return"string";case"any":return"any";case"array":return`[array of ${e(t.__contentType,r+1)}]`;case"dictionary":return`{object with values of type ${e(t.__contentType,r+1)}}`;case"exact":return`{${Object.keys(t.__shape).map(n=>n+": "+e(t.__shape[n],r+1)).join(", ")}}`}}(e,0)}t.addDefaults=function(e,t){let r=Object.assign({},e);for(let n in t)void 0===e[n]&&(r[n]=t[n]);return r},t.expensiveValidateWithSchemaOrThrow=function(e,t,r){const o=n.createNoOpJavascriptVm();try{c(o,o.deepWrap(e),t,r)}catch(i){throw i}finally{o.destroy()}}}),
(function(o,e,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=p(438                );e.ZeroToOne=r.PropTypes.float.range(0,1),e.PositiveFloat=r.PropTypes.float.min(0),e.NonZeroPositiveFloat=r.PropTypes.float.min(.01),e.PositiveInteger=r.PropTypes.integer.min(0);const t=r.PropTypes.exact({id:r.PropTypes.string});e.Color=r.PropTypes.exact({r:r.PropTypes.float.range(0,1),g:r.PropTypes.float.range(0,1),b:r.PropTypes.float.range(0,1)}),e.ColorA=r.PropTypes.exact({r:r.PropTypes.float.range(0,1),g:r.PropTypes.float.range(0,1),b:r.PropTypes.float.range(0,1),a:r.PropTypes.float.range(0,1)});const s=r.PropTypes.exact({0:r.PropTypes.float,1:r.PropTypes.float,2:r.PropTypes.float});e.Matrix=r.PropTypes.exact({0:s,1:s}),e.Vector=r.PropTypes.exact({x:r.PropTypes.float,y:r.PropTypes.float}),e.BlendMode=r.PropTypes.oneOf(["PASS_THROUGH","NORMAL","DARKEN","MULTIPLY","LINEAR_BURN","COLOR_BURN","LIGHTEN","SCREEN","LINEAR_DODGE","COLOR_DODGE","OVERLAY","SOFT_LIGHT","HARD_LIGHT","DIFFERENCE","EXCLUSION","HUE","SATURATION","COLOR","LUMINOSITY"]),e.BooleanOperation=r.PropTypes.oneOf(["UNION","INTERSECT","SUBTRACT","EXCLUDE"]),e.ConstraintType=r.PropTypes.oneOf(["MIN","CENTER","MAX","STRETCH","SCALE"]),e.StrokeAlign=r.PropTypes.oneOf(["CENTER","INSIDE","OUTSIDE"]),e.StrokeCap=r.PropTypes.oneOf(["NONE","ROUND","SQUARE","ARROW_LINES","ARROW_EQUILATERAL"]),e.StrokeJoin=r.PropTypes.oneOf(["MITER","BEVEL","ROUND"]),e.HandleMirroring=r.PropTypes.oneOf(["NONE","ANGLE","ANGLE_AND_LENGTH"]),e.Constraints=r.PropTypes.exact({horizontal:e.ConstraintType,vertical:e.ConstraintType});const n=r.PropTypes.oneOf(["PIXELS","PERCENT"]);e.LetterSpacing=r.PropTypes.exact({value:r.PropTypes.float,unit:n}),e.LineHeight=r.PropTypes.oneOf([r.PropTypes.exact({value:r.PropTypes.float,unit:n}),r.PropTypes.exact({unit:"AUTO"})],"unit"),e.TextAlignHorizontal=r.PropTypes.oneOf(["LEFT","CENTER","RIGHT","JUSTIFIED"]),e.TextAlignVertical=r.PropTypes.oneOf(["TOP","CENTER","BOTTOM"]),e.TextCase=r.PropTypes.oneOf(["ORIGINAL","UPPER","LOWER","TITLE","SMALL_CAPS","SMALL_CAPS_FORCED"]),e.TextDecoration=r.PropTypes.oneOf(["NONE","UNDERLINE","STRIKETHROUGH"]),e.TextAutoResize=r.PropTypes.oneOf(["NONE","WIDTH_AND_HEIGHT","HEIGHT"]),e.OverflowDirection=r.PropTypes.oneOf(["NONE","HORIZONTAL","VERTICAL","BOTH"]),e.LayoutAlign=r.PropTypes.oneOf(["MIN","CENTER","MAX","STRETCH"]),e.LayoutMode=r.PropTypes.oneOf(["NONE","HORIZONTAL","VERTICAL"]),e.CounterAxisSizingMode=r.PropTypes.oneOf(["FIXED","AUTO"]),e.LayoutGrids=r.PropTypes.arrayOf(r.PropTypes.oneOf([r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:r.PropTypes.oneOf(["MIN","MAX"]),gutterSize:r.PropTypes.float,count:r.PropTypes.oneOf([e.PositiveInteger,1/0]),sectionSize:r.PropTypes.float.min(0),offset:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:"STRETCH",gutterSize:r.PropTypes.float,count:e.PositiveInteger,offset:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:"CENTER",gutterSize:r.PropTypes.float,count:r.PropTypes.oneOf([e.PositiveInteger,1/0]),sectionSize:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:"GRID",sectionSize:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional})]));const i=r.PropTypes.exact({type:r.PropTypes.oneOf(["INNER_SHADOW","DROP_SHADOW"]),offset:e.Vector,color:e.ColorA,blendMode:e.BlendMode,radius:r.PropTypes.float.min(0),spread:r.PropTypes.float.isOptional,visible:r.PropTypes.bool}),a=r.PropTypes.exact({type:r.PropTypes.oneOf(["LAYER_BLUR","BACKGROUND_BLUR"]),radius:r.PropTypes.float.min(0),visible:r.PropTypes.bool}),T=r.PropTypes.oneOf([i,a],"type");e.Effects=r.PropTypes.arrayOf(T);const y=r.PropTypes.exact({position:e.ZeroToOne,color:e.ColorA}),P=r.PropTypes.exact({exposure:r.PropTypes.float.range(-1,1).isOptional,contrast:r.PropTypes.float.range(-1,1).isOptional,saturation:r.PropTypes.float.range(-1,1).isOptional,temperature:r.PropTypes.float.range(-1,1).isOptional,tint:r.PropTypes.float.range(-1,1).isOptional,highlights:r.PropTypes.float.range(-1,1).isOptional,shadows:r.PropTypes.float.range(-1,1).isOptional});e.Paint=r.PropTypes.oneOf([r.PropTypes.exact({type:"SOLID",color:e.Color,visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional,blendMode:e.BlendMode.isOptional}),r.PropTypes.exact({type:r.PropTypes.oneOf(["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"]),gradientTransform:e.Matrix,gradientStops:r.PropTypes.arrayOf(y),visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional,blendMode:e.BlendMode.isOptional}),r.PropTypes.exact({type:"IMAGE",scaleMode:r.PropTypes.oneOf(["FILL","FIT","CROP","TILE"]),imageHash:r.PropTypes.string,scalingFactor:e.PositiveFloat.isOptional,imageTransform:e.Matrix.isOptional,filters:P.isOptional,visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional,blendMode:e.BlendMode.isOptional})],"type"),e.Paints=r.PropTypes.arrayOf(e.Paint),e.FontName=r.PropTypes.exact({family:r.PropTypes.string,style:r.PropTypes.string});const l=r.PropTypes.exact({axis:r.PropTypes.oneOf(["X","Y"]),offset:r.PropTypes.float});e.Guides=r.PropTypes.arrayOf(l),e.ArcData=r.PropTypes.exact({startingAngle:r.PropTypes.float,endingAngle:r.PropTypes.float,innerRadius:e.ZeroToOne});const O=r.PropTypes.oneOf(["NONZERO","EVENODD"]),f=r.PropTypes.exact({windingRule:r.PropTypes.oneOf([O,"NONE"]),data:r.PropTypes.string});e.VectorPaths=r.PropTypes.arrayOf(f);const c=r.PropTypes.exact({x:r.PropTypes.float,y:r.PropTypes.float,strokeCap:e.StrokeCap.isOptional,strokeJoin:e.StrokeJoin.isOptional,cornerRadius:e.PositiveFloat.isOptional,handleMirroring:e.HandleMirroring.isOptional}),E=r.PropTypes.exact({start:e.PositiveInteger,end:e.PositiveInteger,tangentStart:e.Vector.isOptional,tangentEnd:e.Vector.isOptional}),g=r.PropTypes.exact({windingRule:O,loops:r.PropTypes.arrayOf(r.PropTypes.arrayOf(e.PositiveInteger))});e.VectorNetwork=r.PropTypes.exact({vertices:r.PropTypes.arrayOf(c),segments:r.PropTypes.arrayOf(E),regions:r.PropTypes.arrayOf(g).isOptional}),e.ExportSetting=r.PropTypes.oneOf([r.PropTypes.exact({format:r.PropTypes.oneOf(["PNG","JPG"]),contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional,constraint:r.PropTypes.oneOf([r.PropTypes.exact({type:r.PropTypes.oneOf(["SCALE"]),value:r.PropTypes.float}),r.PropTypes.exact({type:r.PropTypes.oneOf(["WIDTH","HEIGHT"]),value:r.PropTypes.integer})]).isOptional}),r.PropTypes.exact({format:"PDF",contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional}),r.PropTypes.exact({format:"SVG",contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional,svgOutlineText:r.PropTypes.bool.isOptional,svgIdAttribute:r.PropTypes.bool.isOptional,svgSimplifyStroke:r.PropTypes.bool.isOptional})],"format"),e.ExportSettings=r.PropTypes.arrayOf(e.ExportSetting),e.SelectedText=r.PropTypes.oneOf([r.PropTypes.exact({node:t,start:e.PositiveInteger,end:e.PositiveInteger}),null]);const N=r.PropTypes.arrayOf(r.PropTypes.oneOf([r.PropTypes.exact({command:r.PropTypes.string,name:r.PropTypes.string}),r.PropTypes.exact({separator:!0}),r.PropTypes.exact({name:r.PropTypes.string,get menu(){return N}})]));e.ManifestSchema=r.PropTypes.exact({id:r.PropTypes.string.isOptional,name:r.PropTypes.string,api:r.PropTypes.string,main:r.PropTypes.string,ui:r.PropTypes.string.isOptional,build:r.PropTypes.string.isOptional,enableProposedApi:r.PropTypes.bool.isOptional,menu:N.isOptional,relaunchButtons:r.PropTypes.arrayOf(r.PropTypes.exact({command:r.PropTypes.string,name:r.PropTypes.string,multipleSelection:r.PropTypes.bool.isOptional})).isOptional}),e.ShowVisualBellOptions=r.PropTypes.exact({timeout:r.PropTypes.float.isOptional}),e.RelaunchData=r.PropTypes.dictionaryOf(r.PropTypes.string)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(211              ),i=r(108     ),o=r(123         ),s=r(133        ),l=r(358                       ),a=r(300                              ),u=r(439                                       ),c=r(438                               ),g=r(304              ),d=r(359                                 ),p=r(105        ),m=r(202                            ),f=r(320                              );function h(e){c.expensiveValidateWithSchemaOrThrow(e,u.ManifestSchema,"manifest");const t=e;if(t.relaunchButtons){let e=new Set;t.relaunchButtons.forEach(t=>{if(e.has(t.command))throw new Error(`Expected "manifest.relaunchButtons" to have unique commands, but got more than one button with command: "${t.command}"`);e.add(t.command)})}return t}function _(e,r){let n,i,o;if("error"in r)i={type:"LOAD",text:r.error};else try{o=JSON.parse(r.manifest)}catch(s){i={type:"PARSE",text:s.message}}if(!i)try{n=h(o)}catch(s){i={type:"VALIDATE",text:s.message}}return{plugin_id:n&&n.id||"",name:function(e,t){if(e)return e.name;if(t.lastKnownName)return t.lastKnownName;if(t.path){const e=t.path.split(/\/|\\/);return e.length>=2?e[e.length-2]:t.path}return"Error"}(n,r),manifest:n||t.emptyManifest,localFileId:e,localFilePath:r.path,error:i}}async function b(e){try{if(!n.desktopApp)throw Error("desktopApp not available");return _(e,await n.desktopApp.getLocalFileExtensionManifest(e))}catch(r){return{plugin_id:"",name:"Error",manifest:t.emptyManifest,localFileId:e,localFilePath:"",error:{type:"LOAD",text:r.message}}}}function P(e,t){let r=JSON.stringify(t);const n=r.split(/(<!--|-->|\bimport)/g);return`const __html__ = ${r=n.map((e,t)=>1&t?e.slice(0,2)+'"+"'+e.slice(2):e).join("")};${e}`}t.getManifest=async function(e){let t=await b(e);if(t.error)throw new Error(l.pluginErrorToString(t.error));return t.manifest},t.validateManifestOrThrow=h,t.omitRanges=function(e,t){const r=[];let n=0;for(const[i,o]of t)r.push(e.substring(n,i)),n=o;return r.push(e.substring(n,e.length)),r.join("")},t.parseLocalPlugin=_,t.loadLocalPlugin=b,t.findLocalPluginsByPluginId=function(e,t){let r=[];for(const n in e)e[n].plugin_id===t&&r.push(e[n]);return r},t.prefixCodeWithHTML=P,t.getLocalPluginCode=async function(e){let t;try{if(!n.desktopApp)throw Error("desktopApp not available");t=await n.desktopApp.getLocalFileExtensionSource(e)}catch(i){throw new Error(`Unable to load code: ${i}`)}if(t.buildErrCode)throw new Error("Build error: "+t.stderr+"\nPath was: "+t.path);let r=t.source;return t.html&&(r=P(r,t.html)),r},t.getFormattedDisplayString=function(e){return`${e.error?"⚠  ":""}${e.name}`},t.emptyManifest={id:"",name:"",api:"",main:""},t.emptyLocalPlugin={plugin_id:"",name:"empty",manifest:Object.assign({},t.emptyManifest),localFileId:0,localFilePath:""},t.emptyPluginVersion={id:"",plugin_id:"",manifest:Object.assign({},t.emptyManifest),name:"",version:"",release_notes:"",description:"",created_at:"",redirect_icon_url:"",redirect_cover_image_url:"",redirect_code_url:""},t.emptyPublishedPlugin={id:"",publisher:{id:"",name:"",img_url:"",profile_handle:"",user_id:null,team_id:null,org_id:null,current_user_is_following:!1,location:null,follower_count:0,following_count:0},creator:{id:"",handle:"",img_url:""},versions:{},install_count:0,view_count:0,like_count:0,unpublished_at:null,approved_at:null,current_plugin_version_id:"",roles:{},realtime_token:"",support_contact:"",created_at:"",redirect_thumbnail_url:null,tags:[],current_user_liked:!1};const I={name:"",releaseNotes:"",description:"",tags:f.getDefaultAutocompleteValue(),iconSrc:"",coverImageSrc:"",supportContact:"",iconImageError:null,coverImageError:null,author:{user_id:""},twoFactorAuthDisabledError:null,emailNotVerifiedError:null,accountDetailsChangedError:null};function E(e,r){if(!e||!e.versions)return t.emptyPluginVersion;const n=null==r?e.current_plugin_version_id:r;return n&&e.versions[n]||t.emptyPluginVersion}function y(e,r){return e&&e.manifest.id&&r&&r[e.manifest.id]||t.emptyPublishedPlugin}function v(e,r){return g.getById(e,r,t.emptyPublishedPlugin)}function S(e,t){const r=e.roles.org&&e.roles.org.id===t,n=e.roles.is_public&&e.publisher.org_id===t;return!(!r&&!n)}t.getPluginVersion=E,t.getPublishedPluginForLocal=y,t.getPublishedPluginById=v,t.getVersionsSortedByCreatedAt=function(e){return Object.keys(e.versions).map(t=>e.versions[t]).sort((e,t)=>new Date(t.created_at).valueOf()-new Date(e.created_at).valueOf())},t.filterPublicPlugins=function(e){const t={};return Object.keys(e).forEach(r=>{e[r].roles.is_public&&(t[r]=e[r])}),t},t.filterFeaturedPlugins=function(e,t){return e&&t?Object.keys(t).sort((e,r)=>t[e].weight-t[r].weight).map(t=>e[t]).filter(e=>!!e):[]},t.filterOrgPlugins=function(e,t){const r={};return Object.keys(e).forEach(n=>{S(e[n],t)&&(r[n]=e[n])}),r},t.filterPrivatePlugins=function(e,t){const r={};return Object.keys(e).forEach(n=>{const i=e[n];i.roles.org&&i.roles.org.id===t&&(r[i.id]=i)}),r},t.filterCurrentUserPlugins=function(e,t){const r={};return Object.keys(e).forEach(n=>{e[n].creator.id===t&&(r[n]=e[n])}),r},t.filterPublicProfilePlugins=function(e,t){return Object.keys(e).reduce((r,n)=>{var i;const o=e[n];return o.roles.is_public&&(null===(i=o.publisher)||void 0===i?void 0:i.id)===t&&(r[n]=e[n]),r},{})},t.pluginIsScopedToOrAuthoredByOrgId=S,t.pluginHasAnyOrgAffiliation=function(e){return!(!e.roles.is_public&&!e.roles.org||!e.roles.org&&!e.publisher.org_id)},t.getPluginsSortedByInstallCount=function(e){return Object.keys(e).sort((t,r)=>{const n=e[t].install_count||0;return(e[r].install_count||0)-n}).map(t=>e[t])},t.getPluginsSortedByRecency=function(e){return p.sortByCreatedAt(Object.keys(e).map(t=>E(e[t]))).map(t=>e[t.plugin_id])},t.pluginRoleChanged=function(e,t){return!!(!!e.roles.is_public!=!!t.is_public||e.roles.org&&!t.org||!e.roles.org&&t.org||e.roles.org&&t.org&&e.roles.org.id!==t.org.id)},t.validateCodeSize=function(e){if(!e)throw new Error("Code string cannot be empty");const t=o.encodeUTF8(e).length;if(t>g.CODE_UPLOAD_SIZE_LIMIT)throw new Error(`plugin code exceeds max size of ${Math.floor(g.CODE_UPLOAD_SIZE_LIMIT/1e6)}MB`);return t},t.validateIconFile=function(e){if(!e)throw new Error("Icon image not found");if(["image/jpeg","image/png","image/svg+xml"].indexOf(e.type)<0)throw new Error("Icon image must be a jpeg, png, or svg");if(e.size>g.IMAGE_UPLOAD_SIZE_LIMIT)throw new Error(`Icon image exceeds max size of ${Math.floor(g.IMAGE_UPLOAD_SIZE_LIMIT/1e6)}MB`);return e.size},t.validateCoverFile=function(e){if(!e)throw new Error("Artwork image not found");if(["image/jpeg","image/png","image/svg+xml","image/gif"].indexOf(e.type)<0)throw new Error("Artwork image must be a jpeg, png, svg, or gif");if(e.size>g.IMAGE_UPLOAD_SIZE_LIMIT)throw new Error(`Artwork image exceeds max size of ${Math.floor(g.IMAGE_UPLOAD_SIZE_LIMIT/1e6)}MB`);return e.size},t.imageWithSrcLoaded=function(e){return new Promise((t,r)=>{const n=new Image;n.onload=(()=>t(n)),n.onerror=r,n.src=e})},t.bytesFromImageFile=async function(e){return new Promise((t,r)=>{const n=new FileReader;function i(e){"load"===e.type&&"string"!=typeof n.result&&n.result?t(n.result):r("Failed to load image")}n.addEventListener("load",i),n.addEventListener("loadend",i),e?n.readAsArrayBuffer(e):r("Failed to load image")})},t.newPublishedPlugin=async function(){const e=(await i.default.post("/api/plugins")).data.meta;if(!e.id)throw new Error("cannot generate plugin ID");return e},t.isPluginInstalledForUser=((e,t)=>t&&t.user&&!!t.user[e]),t.isPluginInstalledForOrg=((e,t)=>t&&t.org&&!!t.org[e]),t.isPluginInstalled=((e,r)=>t.isPluginInstalledForOrg(e,r)||t.isPluginInstalledForUser(e,r)),t.getInstalledPluginVersions=function(e){const{org:t,user:r}=e.installedPlugins,n=Object.create(null);return Object.values(t).concat(Object.values(r)).forEach(e=>{n[e.id]=E(e)}),n},t.getNewRole=function(e,t){return t===l.RoleToPublishAs.ORG?e?{org:{id:e.id,name:e.name}}:(console.error("publishing a private plugin without a valid org entity."),null):{is_public:!0}},t.isEmptyPluginPublishingMetadata=function(e){const t=I;return e.name===t.name&&e.releaseNotes===t.releaseNotes&&e.supportContact===t.supportContact&&e.description===t.description&&e.iconSrc===t.iconSrc&&e.coverImageSrc===t.coverImageSrc&&null==e.iconBlob&&null==e.coverImageBlob},t.getDefaultPluginVersionMetadata=((e,t)=>{const r=e.localPlugins[t],n=r&&r.manifest,i=y(r,e.publishedPlugins),o=E(i),s=Object.assign(Object.assign({},f.getDefaultAutocompleteValue()),{tokens:(i.tags||[]).map(e=>({user:null,email:e,state:m.AutocompleteTokenState.OK}))}),l=I;return{name:o.name||n&&n.name||l.name,releaseNotes:l.releaseNotes,tags:s,supportContact:i.support_contact||l.supportContact,description:o.description||l.description,iconSrc:o.redirect_icon_url||l.iconSrc,coverImageSrc:o.redirect_cover_image_url||l.coverImageSrc,iconImageError:l.iconImageError,coverImageError:l.coverImageError,twoFactorAuthDisabledError:l.twoFactorAuthDisabledError,emailNotVerifiedError:l.emailNotVerifiedError,accountDetailsChangedError:l.accountDetailsChangedError,author:d.getDefaultPluginPublishingMetadataAuthor(i,d.getDefaultRoleToPublishAsForPlugin(i,e.currentOrgId),e)}});function w(e,t){const r=e.roles.org&&e.roles.org.id;return E(e).id&&!e.unpublished_at&&!(t&&r&&t!==r)}function O(e,t){return!t||(!(!e.roles.org||e.roles.org.id!==t.id)||e.install_status!==l.PluginStatus.PUBLIC_PLUGINS_DISALLOWED&&e.install_status!==l.PluginStatus.PLUGIN_NOT_ORG_WHITELISTED)}t.StatCounter=class{constructor(){this._counters=new Map,this._hasResizedNodeWithMissingFont=!1}resizeNodeWithMissingFont(){this._hasResizedNodeWithMissingFont=!0}hasResizedNodeWithMissingFont(){return this._hasResizedNodeWithMissingFont}increment(e){const t=this._counters.get(e)||0;this._counters.set(e,t+1)}keys(){return[...this._counters.keys()]}},t.isPresentablePlugin=w,t.getPresentablePlugins=function(e,t){if(!e)return{};const r={};return(Array.isArray(e)?e:Object.keys(e).map(t=>e[t])).forEach(e=>{w(e,t)&&(r[e.id]=e)}),r},t.getValidPublishedPluginsFromInstalledPlugins=function(e,t){return Object.keys(e).map(e=>t[e]).filter(e=>!!e)},t.validatePermissionPublishErrors=function(e,t){let r={};return e.email_validated_at||(r.emailNotVerifiedError="Please verify your email address to publish"),!e.saml_sso_only&&!e.google_sso_only&&!e.two_factor_app_enabled&&!e.phone_number||t.code===a.HubPublishingStatusCode.FAILURE&&"You must enable two factor authentication to publish"===t.error?(r.twoFactorAuthDisabledError="Please enable two-factor authentication to publish this plugin",r):(e.plugin_publishing_blocked_at||t.code===a.HubPublishingStatusCode.FAILURE&&"You must verify your account details to publish"===t.error?r.accountDetailsChangedError="We detected a change to your account details. Please contact support@figma.com to publish this plugin":t.code===a.HubPublishingStatusCode.FAILURE&&t.error&&(r.other=t.error),r)},t.validatePluginDeferredFieldErrors=function(e){if(!e)return{};const t={};return 0===g.trimString(e.name).length&&(t.name="Name must not be empty"),0===g.trimString(e.description).length&&(t.description="Description must not be empty"),0===g.trimString(e.supportContact).length&&(t.supportContact="Support contact must not be empty"),0===g.trimString(e.iconSrc).length&&(t.iconImageError="Icon must not be empty"),0===g.trimString(e.coverImageSrc).length&&(t.coverImageError="Artwork image must not be empty"),e.supportContact.length>0&&!s.isEmail(e.supportContact)&&!o.isUrl(e.supportContact)&&(t.supportContact="Support contact must be a valid email or URL"),t},t.validatePluginPublishForm=function(e){if(!e)return{};const t={};g.trimString(e.name).length>100&&(t.name="Name must be at most 100 characters long"),g.trimString(e.description).length>1e4&&(t.description="Description must be at most 10000 characters long"),g.trimString(e.releaseNotes).length>1e4&&(t.releaseNotes="Release notes must be at most 10000 characters long");let r=e.tags.tokens.map(e=>e.email);e.tags.inputValue&&(r=r.concat([e.tags.inputValue]));const n=g.validateTags(r);return n&&(t.tags=n),g.trimString(e.supportContact).length>100&&(t.supportContact="Support contact must be at most 100 characters long"),e.iconImageError&&(t.iconImageError=e.iconImageError),e.coverImageError&&(t.coverImageError=e.coverImageError),t},t.canInstallPluginForUser=O,t.canInstallPluginForOrg=function(e,t){return!!t&&!!t.isAdmin&&(!(!e.roles.org||e.roles.org.id!==t.id)||e.install_status!==l.PluginStatus.PUBLIC_PLUGINS_DISALLOWED&&e.install_status!==l.PluginStatus.PLUGIN_NOT_ORG_WHITELISTED)},t.getPluginInstallStatus=function(e,t){const r=t?t.name:"your Org";return e.install_status===l.PluginStatus.PUBLIC_PLUGINS_DISALLOWED?`Plugins are disabled for ${r}.`:e.install_status===l.PluginStatus.PLUGIN_NOT_ORG_WHITELISTED?`Plugin is not allowed by ${r}.`:e.install_status===l.PluginStatus.PLUGIN_INSTALLED_FOR_ORG?`Plugin installed for ${r}.`:"Plugin install error."};const A=O;function L(e,t,r){let n=null;for(const i of r){let r=!1;for(const{pluginID:o,command:s,message:a}of i)if(o===e&&s===t.command){r=!0,n?a!==n.description&&(n.description=l.relaunchMixedDescription):n={pluginID:e,command:t.command,name:t.name,description:a||""};break}if(!r)return null}return n}t.isPluginRunnable=function(e){const{plugin:r,publishedPlugins:n,orgEntity:i,installedPlugins:o}=e;if(l.isLocalPlugin(r))return!0;if(o&&!t.isPluginInstalled(r.plugin_id,o))return!1;const s=v(r.plugin_id,n);return A(s,i)},t.getRoleInfoForTracking=(e=>e.roles.is_public?{role:"public"}:e.roles.org?{role:"org",roleOrgId:e.roles.org.id}:{role:"private"}),t.getPluginIdFromShareUrl=function(e){const t=e.match(/\/community\/plugin\/(\d+)\/.*$/);return console.log(t),t&&t[1]?t[1]:null},t.parsePublishedPlugin=function(e,t){const r=e.current_plugin_version_id;if(r&&(!e.versions||!e.versions[r]))throw new Error(`${t} Invalid publishedPlugin ${e.id}: version id ${r} does not exist in versions`);return e},t.getRelaunchPluginIDs=function(e){if(0===e.length)return[];let t=new Set;for(let{pluginID:r}of e[0])t.add(r||"");return Array.from(t).reverse()},t.getRelaunchButtonsForPlugin=function(e,t,r){if(!e.manifest.relaunchButtons)return[];let n=[];for(const i of e.manifest.relaunchButtons){if(r>1&&!i.multipleSelection)continue;const o=L(e.plugin_id,i,t);o&&n.push(o)}return n}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=t(91                  ),l=t(100                               ),n=t(113                                     ),s=t(356                                              ),u=t(175                            ),r=t(108     ),o=t(440                          ),d=t(111          ),g=t(353                                  ),c=t(304                          ),p=t(300                              ),h=t(125                        );i.putAll=a.actionCreator("PLUGIN_PUT_ALL"),i.delAll=a.actionCreator("PLUGIN_DEL_ALL"),i.mergePublishedAndValidate=l.asyncActionCreator("MERGE_PUBLISHED_PLUGIN",(e,{publishedPlugins:t,src:a})=>{if(!t)return;const l=(e.getState().user||{id:null}).id,n=[],s=[];for(const i of t)if(i.unpublished_at&&i.creator.id!=l)s.push(i);else try{if(null==i.install_status){const t=e.getState().publishedPlugins[i.id];t&&(i.install_status=t.install_status)}n.push(o.parsePublishedPlugin(i,a))}catch(u){console.error(u)}e.dispatch(i.putAll(n)),e.dispatch(i.delAll(s))}),i.replaceFeaturedPlugins=a.actionCreator("PLUGIN_REPLACE_FEATURED"),i.initializeUserPublishedPlugins=l.asyncActionCreator("INITIALIZE_PUBLISHED_PLUGINS",(e,t,a)=>{if(!e.getState().user)return;const l=r.default.get("/api/plugins");g.registerLoadingState(l,e,a),l.then(({data:t})=>{const a=t.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:a,src:"initializeUserPublishedPlugins"}))})}),i.initializeTopPlugins=l.asyncActionCreator("INITIALIZE_TOP_PLUGINS",(e,{limit:t},a)=>{const l=r.default.get(`/api/plugins/top?page_size=${t}&org_id=${e.getState().currentOrgId}`);g.registerLoadingState(l,e,a),l.then(({data:t})=>{const a=t.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:a,src:"initializeTopPlugins"}))})},(e,{limit:i})=>`${e}_${i}`),i.initializeFeaturedPlugins=l.asyncActionCreator("INITIALIZE_FEATURED_PLUGINS",(e,t,a)=>{const l=r.default.get("/api/plugins/featured");g.registerLoadingState(l,e,a),l.then(({data:t})=>{const{public_plugins:a,overrides:l}=t.meta,n=a;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:n,src:"initializeFeaturedPlugins"})),e.dispatch(i.replaceFeaturedPlugins(l))})}),i.getCommunityProfilePlugins=l.asyncActionCreator("GET_COMMUNITY_PROFILE_PLUGINS",(e,t,a)=>{const l=e.getState().currentOrgId?{current_org_id:e.getState().currentOrgId}:{},n=r.default.get(`/api/plugins/profile/${t.profileId}`,l);return g.registerLoadingState(n,e,a),n.then(({data:t})=>{const a=t.meta;return e.dispatch(i.mergePublishedAndValidate({publishedPlugins:a,src:"getCommunityProfilePlugins"})),a})},(e,i)=>`${e}_${i}`),i.getOrgPublishedPlugins=l.asyncActionCreator("GET_ORG_PUBLISHED_PLUGINS",(e,t,a)=>{const l=r.default.get(`/api/plugins/org/${t}`);return g.registerLoadingState(l,e,a),l.then(({data:t})=>{const a=t.meta;return e.dispatch(i.mergePublishedAndValidate({publishedPlugins:a,src:"getOrgPublishedPlugins"})),a})},(e,i)=>`${e}_${i}`),i.getProfilePluginsByHandle=l.asyncActionCreator("GET_PUBLIC_PROFILE_PLUGINS",(e,{handle:t,orgId:a},l)=>{const n={};a&&(n.org_id=a);const s=r.default.get(`/api/plugins/profile/${t}`,n);g.registerLoadingState(s,e,l),s.then(({data:t})=>{const a=t.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:a,src:"getPublicProfilePlugins"}))})},(e,{handle:i,orgId:t})=>`${e}_${i}`),i.pluginPublishingActions=c.publishingStateActionCreator("PLUGIN"),i.updatePluginPublishingMetadata=i.pluginPublishingActions.updateMetadata,i.updatePluginPublishingStatus=i.pluginPublishingActions.updateStatus,i.clearPluginPublishing=i.pluginPublishingActions.clearMetadataAndStatus,i.clearPluginPublishingMetadata=i.pluginPublishingActions.clearMetadata,i.publishPluginVersion=l.asyncActionCreator("PUBLISH_PLUGIN_VERSION",(e,t)=>{const{pluginVersion:a,localFileId:l,pluginId:n}=t;e.dispatch(i.updatePluginPublishingStatus({id:l,status:{code:p.HubPublishingStatusCode.UPLOADING}})),async function(e,i,t){if(!e)throw new Error("plugin id is invalid");const[a,l]=await Promise.all([o.getManifest(i),o.getLocalPluginCode(i)]),n=o.validateCodeSize(l);let s=0;t.iconBlob&&(s=o.validateIconFile(t.iconBlob));let u=0;t.coverBlob&&(u=o.validateCoverFile(t.coverBlob));const{codeUploadUrl:g,iconUploadUrl:c,coverImageUploadUrl:p,signature:h,versionId:P}=await r.default.post(`/api/plugins/${e}/upload`,{manifest:a,release_notes:t.releaseNotes,name:t.name,description:t.description}).then(({data:e})=>({codeUploadUrl:e.meta.code_upload_url,iconUploadUrl:e.meta.icon_upload_url,coverImageUploadUrl:e.meta.cover_image_upload_url,signature:e.meta.signature,versionId:e.meta.version_id})).catch(e=>{var i;throw new Error((null===(i=e.data)||void 0===i?void 0:i.message)||"Could not connect to the server.")});let b=Promise.resolve(!1);l&&(b=r.default.put(g,l,{headers:Object.assign(Object.assign({},r.default.defaults.headers),{"Content-Type":""})}).then(()=>!0).catch(e=>{throw new Error(`Error uploading plugin code ${e}`)}));let _=Promise.resolve(!1);const m=t.iconBlob;null!=m&&(_=o.bytesFromImageFile(m).then(e=>r.default.put(c,e,{raw:!0,headers:Object.assign(Object.assign({},r.default.defaults.headers),{"Content-Type":m.type})})).then(()=>!0).catch(e=>{throw new Error(`Error uploading plugin icon ${e}`)}));let I=Promise.resolve(!1);const f=t.coverBlob;null!=f&&(I=o.bytesFromImageFile(f).then(e=>r.default.put(p,e,{raw:!0,headers:Object.assign(Object.assign({},r.default.defaults.headers),{"Content-Type":f.type})})).then(()=>!0).catch(e=>{throw new Error(`Error uploading plugin artwork image ${e}`)}));const[U,L,A]=await Promise.all([b,_,I]),{data:S}=await r.default.put(`/api/plugins/${e}/versions/${P}`,{icon_uploaded:L,cover_image_uploaded:A,code_uploaded:U,signature:h}).catch(e=>{throw new Error(`Error finalizing plugin ${e}`)}),E=S.meta,C=E.plugin;if(C.id!==e)throw new Error("The published plugin's IDs do not match");return d.segment.track("Hub Plugin Publish Version",{pluginId:e,hasUI:!!a.ui,apiVersion:a.api,codeLength:n,iconFileSize:s,coverFileSize:u}),{publishedPlugin:C,profile:E.profile}}(n,l,a).then(({publishedPlugin:t,profile:a})=>{e.dispatch(i.mergePublishedAndValidate({publishedPlugins:[t],src:"publishPluginVersion"})),a&&e.dispatch(s.putCommunityProfile(a)),e.dispatch(i.updatePluginPublishingStatus({id:l,status:{code:p.HubPublishingStatusCode.SUCCESS}})),e.dispatch(i.clearPluginPublishingMetadata({id:l}))}).catch(t=>{e.dispatch(i.updatePluginPublishingStatus({id:l,status:{code:p.HubPublishingStatusCode.FAILURE,error:t.message}}))})}),i.updatePublishedPluginRole=l.asyncActionCreator("UPDATE_PUBLISHED_PLUGIN_ROLE",(e,{pluginId:t,role:a})=>{const l={org_id:a.org?a.org.id:void 0,is_public:a.is_public};r.default.put(`/api/plugins/${t}/roles`,l).then(({data:a})=>{const l=a.meta;d.segment.track("Hub Plugin Publish Role",{pluginId:t,toPublic:l.roles.is_public,toOrg:!!l.roles.org,needApproval:!!l.approval_status}),e.dispatch(i.mergePublishedAndValidate({publishedPlugins:[l],src:"updatePublishedPluginRole"}))}).catch(e=>{console.log(e)})}),i.updatePublishedPlugin=l.asyncActionCreator("UPDATE_PUBLISHED_PLUGIN",(e,t)=>{if(t.authorOrgId&&t.authorTeamId)return void console.error("Attempting to set both authorOrgId and authorTeamId while publishing");const a=t.pluginId,l={tags:t.tags,support_contact:t.supportContact,author_org_id:t.authorOrgId,author_team_id:t.authorTeamId};r.default.put(`/api/plugins/${a}`,l).then(({data:t})=>{const a=t.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:[a],src:"updatePublishedPlugin"}))}).catch(e=>{console.log(e)})}),i.unpublishPublishedPlugin=l.asyncActionCreator("UNPUBLISH_PUBLISHED_PLUGIN",(e,{plugin:t})=>{r.default.del(`/api/plugins/${t.id}`).then(({data:a})=>{const l=a.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:[l],src:"unpublishPublishedPlugin"})),d.segment.track("Hub Unpublish Plugin",Object.assign({pluginId:t.id},o.getRoleInfoForTracking(t)))}).catch(e=>{console.log(e)})}),i.showPublishPluginModal=l.asyncActionCreator("SHOW_PUBLISH_PLUGIN_MODAL",(e,{localFileId:t})=>{const a=e.getState(),{localPlugins:l,publishedPlugins:s,publishingPlugins:r,currentOrgId:d}=a;null==t||r[t]||e.dispatch(i.updatePluginPublishingMetadata({id:t,metadata:o.getDefaultPluginVersionMetadata(Object.assign(Object.assign({},h.getPermissionsState(a)),{currentOrgId:d,localPlugins:l,publishedPlugins:s}),t)})),e.dispatch(n.fileBrowser.showModal({type:u.PLUGIN_PUBLISH_MODAL,data:{localFileId:t}}))}),i.getPluginVersions=l.asyncActionCreator("GET_PLUGIN_VERSIONS",(e,{pluginId:t},a)=>{const l=r.default.get(`/api/plugins/${t}/versions`,{org_id:e.getState().currentOrgId||""});g.registerLoadingState(l,e,a),l.then(({data:t})=>{const a=t.meta.plugin;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:[a],src:"getPluginVersions"}))}).catch(e=>{var i;console.log(`Versions of plugin with id ${t} cannot be fetched at this time:`,null===(i=e.data)||void 0===i?void 0:i.message)})},(e,{pluginId:i})=>`${e}_${i}`)}),
(function(e,n,u){"use strict";function t(e){return Array.isArray(e)&&e.__mixed_values__}Object.defineProperty(n,"__esModule",{value:!0}),n.MIXED={__mixed__:!0},n.emptyMixedValuesArray=function(){const e=[];return e.__mixed_values__=!0,e},n.notMixed=function(e){return e!==n.MIXED&&!t(e)},n.getValueOrNull=function(e){return e===n.MIXED||null==e?null:e},n.getValue=function(e,u){return e===n.MIXED||null==e?u:e},n.getMixedValues=function(e){return t(e)?e:e===n.MIXED||null==e?[]:[e]}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(104              ),r=i(308         ),n=i(231       ),s=i(129           ),c=i(261                               ),p=i(138      ),y=i(215                                          ),l=i(179        ),d=i(289                              ),a=i(442                             );function u(e){return e===c.DeviceType.PRESET||e===c.DeviceType.CUSTOM?"scale-down":e===c.DeviceType.PRESENTATION?"contain":"min-zoom"}function f(e){return{type:e.type||"NONE",size:e.size||{x:0,y:0},presetIdentifier:e.presetIdentifier||"",rotation:e.rotation||"NONE"}}t.urlQueryForPrototype=function(e){const t={},i=o.parse(location.search);for(const o in i)""!==o&&(t[o]=i[o]);return e.scalingMode&&(t.scaling=e.scalingMode),e.nodeId&&n.isValid(n.fromString(e.nodeId))&&(t["node-id"]=e.nodeId),e.hideUI?t["hide-ui"]="1":delete t["hide-ui"],null==e.showHotspots||e.showHotspots?delete t["hotspot-hints"]:t["hotspot-hints"]="0",delete t["version-id"],r.isEmpty(t)?"":`?${o.encode(t)}`},t.urlFragmentForPrototype=function(e){return e?`#${encodeURIComponent(e)}`:""},t.getDeviceTypeForPrototypeDeviceType=function(e){switch(e){case"NONE":return c.DeviceType.NONE;case"PRESET":return c.DeviceType.PRESET;case"CUSTOM":return c.DeviceType.CUSTOM;case"PRESENTATION":return c.DeviceType.PRESENTATION;default:l.assertNever(e)}},t.defaultDesktopScalingMode=u,t.getScalingMode=function(e){let t=e.scalingMode;return t||(t=u(c.DeviceType.NONE)),s.isMobileBrowser&&(t="fit-width"),t},t.shouldShowPreviousFrame=(e=>e.keyCode===p.Key.LEFT_ARROW||e.shiftKey&&e.keyCode===p.Key.N),t.shouldShowNextFrame=(e=>[p.Key.RIGHT_ARROW,p.Key.SPACE,p.Key.ENTER,p.Key.N].indexOf(e.keyCode)>=0),t.shouldReplayPrototype=(e=>e.keyCode===p.Key.R&&!e.metaKey&&!e.shiftKey&&!e.ctrlKey),t.shouldToggleFullscreen=(e=>e.keyCode===p.Key.F&&!e.metaKey&&!e.shiftKey&&!e.ctrlKey),t.asPrototypeDeviceOrNone=function(e){return f(a.getValue(e,{type:"NONE",size:{x:0,y:0}}))},t.asPrototypeDevice=f;const N=e=>"PRESET"===e.type?e.presetIdentifier:"";t.handlePrototypeDeviceTypeChange=((e,t)=>{if("NONE"===e)y.fullscreen.updateSelectionProperties({prototypeDevice:{type:"NONE",size:{x:0,y:0},rotation:"NONE"}});else if("PRESENTATION"===e)y.fullscreen.updateSelectionProperties({prototypeDevice:{type:"PRESENTATION",size:{x:0,y:0},rotation:"NONE"}});else if("CUSTOM"===e){let e=t.size;0===e.x&&0===e.y&&(e={x:500,y:500});const i="CUSTOM"===t.type?t.rotation:"NONE";y.fullscreen.updateSelectionProperties({prototypeDevice:{type:"CUSTOM",size:e,rotation:i}})}else{const i=d.deviceInfoByIdentifier[N(t)];if(null!=i&&i.deviceName===e.deviceName)return;const o="PRESET"===t.type&&d.deviceTypeForPresetIdentifier(N(t))===d.deviceTypeForPresetIdentifier(e.presetIdentifier)?t.rotation:"NONE";y.fullscreen.updateSelectionProperties({prototypeDevice:{type:"PRESET",size:{x:e.framePresetSize.x,y:e.framePresetSize.y},presetIdentifier:e.presetIdentifier,rotation:o}})}})}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ANNUAL=1]="ANNUAL",e[e.MONTHLY=2]="MONTHLY",e[e.STUDENT=3]="STUDENT"}(t.BillingPeriod||(t.BillingPeriod={})),t.PaymentStep={UPGRADE_NEW_TEAM:"upgrade_new_team",CHOOSE_PLAN:"choose_plan",PAYMENT_AND_ADDRESS:"payment_and_address",CONFIRM_PAY:"confirm_pay",CONFIRM_STUDENT_TEAM:"confirm_student_team"},t.CartStep={PLANS:"plans",FORM:"form",CELEBRATION:"celebration",UPGRADE_NEW_TEAM:"upgrade_new_team",CONFIRM_STUDENT_TEAM:"confirm_student_team"},t.cartHistoricSteps=[t.CartStep.PLANS,t.CartStep.FORM],t.paymentStepToCartStep=function(e){switch(e){case t.PaymentStep.CHOOSE_PLAN:case t.CartStep.PLANS:return t.CartStep.PLANS;case t.PaymentStep.UPGRADE_NEW_TEAM:case t.CartStep.UPGRADE_NEW_TEAM:return t.CartStep.UPGRADE_NEW_TEAM;case t.PaymentStep.CONFIRM_STUDENT_TEAM:case t.CartStep.CONFIRM_STUDENT_TEAM:return t.CartStep.CONFIRM_STUDENT_TEAM;case t.PaymentStep.PAYMENT_AND_ADDRESS:case t.CartStep.FORM:case t.PaymentStep.CONFIRM_PAY:return t.CartStep.FORM;default:return t.CartStep.PLANS}},t.SubscriptionPlan={MONTHLY:"monthly",ANNUAL:"annual"},t.getDefaultAddress=(()=>({line1:"",line2:"",country:"US",city:"",region:"",postal_code:""}))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(105        );t.INTERACTION_TEST_FAKE_FILE_KEY="INTERACTION_TEST_FAKE_FILE_KEY",t.interactionTestFakeFile={checkpoint_key:"",checkpoint_token:"",client_meta:"",created_at:"",creator:{},creator_id:"",deleted_at:null,trashed_at:null,trashed_user_id:null,trashed_user:null,description:"",edit_url:"",folder_id:"1",key:t.INTERACTION_TEST_FAKE_FILE_KEY,license:"",link_access:"edit",proto_link_access:"view",name:"Interaction Tests Running",team_id:"",thumbnail_url:"",touched_at:"",url:"",prototype_url:"",appData:{isRenaming:!1,fetchedRoles:!1},is_template:!1,updated_at:"",file_repo_id:null,source_file_key:null};let o=null;t.setViewerInstance=function(e){null!=o&&o.off("recordInteraction",l),(o=e).on("recordInteraction",l)},t.getGlobalViewer=function(){return o},t.inefficientlyWaitForDeviceImageToRender=function(){return new Promise(e=>{const t=setInterval(()=>{o&&!o.isWaitingForDeviceFrameToLoad()&&(clearInterval(t),e())},1/60)})};let r=[];function l(e){for(let t of r)t(e)}t.onViewerInteraction=function(e){i.pushIfAbsent(r,e)},t.offViewerInteraction=function(e){i.removeByValue(r,e)};let a=[];t.handlePrototypeViewLoaded=function(){for(let e of a)e();a=[]},t.nextPrototypeViewLoad=function(){return new Promise((e,t)=>{a.push(e)})};let c=null;t.fileForPrototypeView=function(){return c},t.setFileForPrototype=function(e){c=e};let u=null;t.setLastEditingFileKey=function(e){u=e},t.lastEditingFileKey=function(){return u}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.ComposingViewSelector=class{constructor(e){this.selectors=e}pathToSelectedView(e,s,t){for(const r of this.selectors){const o=r.pathToSelectedView(e,s,t);if(null!=o)return o}return null}requireHistoryChange(e,s){for(const t of this.selectors)if(t.requireHistoryChange(e,s))return!0;return!1}selectedViewToPath(e,s){for(const t of this.selectors){const r=t.selectedViewToPath(e,s);if(null!=r)return r}return null}selectedViewName(e,s){for(const t of this.selectors){const r=t.selectedViewName(e,s);if(null!=r)return r}return null}selectedViewHasMissingResources(e,s){for(const t of this.selectors)if(t.selectedViewHasMissingResources&&t.selectedViewHasMissingResources(e,s))return!0;return!1}}}),
(function(e,c,n){e.exports={mousePointer:"welcome_sequence--mousePointer--1MkaT",logo:"welcome_sequence--logo--QpUT0",wrapper:"welcome_sequence--wrapper--3FIPM",closeButton:"welcome_sequence--closeButton--PAD1A",modal:"welcome_sequence--modal--35St7",panel:"welcome_sequence--panel--3SVaa",plansLeftPanel:"welcome_sequence--plansLeftPanel--2Nf0g",plansRightPanel:"welcome_sequence--plansRightPanel--2EAdI",content:"welcome_sequence--content--1dfF4",formInput:"welcome_sequence--formInput--12Dog",textInput:"welcome_sequence--textInput--2iItO welcome_sequence--formInput--12Dog",textInputError:"welcome_sequence--textInputError--2HFm3 welcome_sequence--textInput--2iItO welcome_sequence--formInput--12Dog",errorMessage:"welcome_sequence--errorMessage--zjjKM",primaryCta:"welcome_sequence--primaryCta--3VDKg welcome_sequence--formInput--12Dog welcome_sequence--mousePointer--1MkaT",link:"welcome_sequence--link--rkpc0 welcome_sequence--mousePointer--1MkaT",skipLinkHolder:"welcome_sequence--skipLinkHolder--3E0Sz",skipLink:"welcome_sequence--skipLink--34Izc welcome_sequence--mousePointer--1MkaT",linkHolder:"welcome_sequence--linkHolder--2KgOM welcome_sequence--formInput--12Dog",doThisLaterLink:"welcome_sequence--doThisLaterLink--cSWNS welcome_sequence--link--rkpc0 welcome_sequence--mousePointer--1MkaT",doThisLaterLinkHolder:"welcome_sequence--doThisLaterLinkHolder--2dwmT welcome_sequence--linkHolder--2KgOM welcome_sequence--formInput--12Dog",leftPad:"welcome_sequence--leftPad--2ZX_a",spacing:"welcome_sequence--spacing--30spW",filler:"welcome_sequence--filler--26YhY",plusIcon:"welcome_sequence--plusIcon--2A2dy",checkIcon:"welcome_sequence--checkIcon--B62PP",fileBrowser:"welcome_sequence--fileBrowser--2ITNi",editorImage:"welcome_sequence--editorImage--1BHDH",teamIcon:"welcome_sequence--teamIcon--3mlzR",teamName:"welcome_sequence--teamName--1czW4",projectName:"welcome_sequence--projectName--32QcO",planCard:"welcome_sequence--planCard--1uvR6",starterPlanCard:"welcome_sequence--starterPlanCard--1zxJa welcome_sequence--planCard--1uvR6",professionalPlanCard:"welcome_sequence--professionalPlanCard--3jSoo welcome_sequence--planCard--1uvR6",plans:"welcome_sequence--plans--3YWbr",planTitle:"welcome_sequence--planTitle--2Pp0Q",planDescription:"welcome_sequence--planDescription--16Tbi",planDescriptionHolder:"welcome_sequence--planDescriptionHolder--1EVbX",price:"welcome_sequence--price--3Trny",planPrice:"welcome_sequence--planPrice--2QOpu",planPriceDollar:"welcome_sequence--planPriceDollar--3-pvo welcome_sequence--planPrice--2QOpu",planPriceNumber:"welcome_sequence--planPriceNumber--Lf0bk welcome_sequence--planPrice--2QOpu",planPriceMonth:"welcome_sequence--planPriceMonth--BPvlT welcome_sequence--planPrice--2QOpu",dividerY:"welcome_sequence--dividerY--1gvno",planItem:"welcome_sequence--planItem--wgF_t",planButton:"welcome_sequence--planButton--18S6t welcome_sequence--mousePointer--1MkaT",starterPlanButton:"welcome_sequence--starterPlanButton--377pC welcome_sequence--planButton--18S6t welcome_sequence--mousePointer--1MkaT",cursorTriangle:"welcome_sequence--cursorTriangle--I4LfK",triangle:"welcome_sequence--triangle--3q1vK",cursorCircle:"welcome_sequence--cursorCircle--1TjW9",circle:"welcome_sequence--circle--9Nvd2",cursorDiagonal:"welcome_sequence--cursorDiagonal--1vPdZ",diagonal:"welcome_sequence--diagonal--168Pp",cursorRectangle:"welcome_sequence--cursorRectangle--1OczI",rectangle:"welcome_sequence--rectangle--1wBb6",cursorPause:"welcome_sequence--cursorPause--spOU9",cursorRunning:"welcome_sequence--cursorRunning--Mqmgx"}}),
(function(E,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=o(91                  ),a=o(113                                     );!function(E){E.setTeamName=t.actionCreator("WELCOME_SEQUENCE_SET_TEAM_NAME"),E.setFolderName=t.actionCreator("WELCOME_SEQUENCE_SET_FOLDER_NAME"),E.updateCollaboratorEmail=t.actionCreator("WELCOME_SEQUENCE_UPDATE_EMAIL"),E.addCollaborator=t.actionCreator("WELCOME_SEQUENCE_ADD_COLLABORATOR"),E.submitTeamCreate=t.actionCreator("WELCOME_SEQUENCE_SET_TEAM_CREATE"),E.submitAddCollaborators=t.actionCreator("WELCOME_SEQUENCE_ADD_COLLAB"),E.exit=t.actionCreator("WELCOME_SEQUENCE_EXIT"),E.teamCreateSuccess=t.actionCreator("WELCOME_SEQUENCE_TEAM_CREATE_SUCCESS"),E.teamCreateError=t.actionCreator("WELCOME_SEQUENCE_TEAM_CREATE_ERROR"),E.setFocusedCollaboratorIndex=t.actionCreator("WELCOME_SEQUENCE_SET_FOCUSED_COLLAB_INDEX"),E.goToStep=(E=>a.fileBrowser.selectView({view:"welcomeSequence",welcomeStep:E}))}(e.welcomeSequenceActions||(e.welcomeSequenceActions={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(91                        );!function(e){e.put=o.actionCreator("USER_FLAG_PUT"),e.post=o.actionCreator("USER_FLAG_POST"),e.resetOnboarding=o.actionCreator("USER_FLAG_RESET_ONBOARDING"),e.receiveUpdate=o.actionCreator("USER_FLAG_RECEIVE_UPDATE"),e.receiveDelete=o.actionCreator("USER_FLAG_RECEIVE_DELETE")}(t.userFlags||(t.userFlags={}))}),
(function(h,v,o){h.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5v-5h1v5h5v1h-5v5h-1v-5h-5v-1h5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zM5.307 7.693L4.6 8.4l2.475 2.475 4.596-4.596-.707-.707-3.89 3.889-1.767-1.768z" fill-rule="evenodd" fill-opacity="1" fill="#1bc47d" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=a(2,1    ),o=a(447                     ),n=a(146                        ),r=a(43,1         ),i=a(147                                            ),s=a(448                                         ),c=a(113                                     ),m=a(171                                ),d=a(137                                    ),p=a(129           ),u=a(449                                  ),g=a(134                               ),h=a(133        ),b=a(154                                 ),E=a(450                                              ),w=a(166                                      ),f=a(451                                             );t.WelcomeSequenceViewSelector=class{pathToSelectedView(e,t){if("files"===t[1]&&"welcome"===t[2]){const e=parseInt(t[3]);return{view:"welcomeSequence",welcomeStep:isNaN(e)?1:e}}return null}requireHistoryChange(e,t){return"welcomeSequence"!==e.view||"welcomeSequence"!==t.view?"welcomeSequence"===e.view!=("welcomeSequence"===t.view):t.welcomeStep!==e.welcomeStep}selectedViewName(e,t){return"welcomeSequence"===t.view?"Welcome to Figma":null}selectedViewToPath(e,t){return"welcomeSequence"===t.view?`/files/welcome/${t.welcomeStep||1}`:null}};const v=e=>Object.assign({},e.welcomeSequence),N=r.connect(v,e=>({setTeamName:t=>{e(s.welcomeSequenceActions.setTeamName(t))},setFolderName:t=>{e(s.welcomeSequenceActions.setFolderName(t))},goToStep:t=>{e(s.welcomeSequenceActions.goToStep(t))},updateCollaborator:(t,a)=>{e(s.welcomeSequenceActions.updateCollaboratorEmail({index:t,email:a}))},addCollaborator:()=>{e(s.welcomeSequenceActions.addCollaborator())},submitTeamCreate:()=>{e(s.welcomeSequenceActions.submitTeamCreate())},submitAddCollaborators:()=>{e(s.welcomeSequenceActions.submitAddCollaborators())},goToCart:t=>{e(m.payment.startProUpgradeFlow({teamId:t,selectedView:{view:"welcomeSequence",welcomeStep:4},newTeam:!0}))},exit:()=>{e(s.welcomeSequenceActions.exit())},setFocusedCollaboratorIndex:t=>{e(s.welcomeSequenceActions.setFocusedCollaboratorIndex(t))}}));function x(e){e(c.fileBrowser.selectView({view:"recentFiles"})),e(u.userFlags.post({flags:{completed_welcome_sequence:!0}}))}class k extends l.Component{componentDidMount(){p.isMobileBrowser&&x(this.props.dispatch)}get leftPanel(){switch(this.props.step){case 1:return l.createElement(P,null);case 2:return l.createElement(_,null);case 3:return l.createElement(q,null);case 4:return l.createElement(B,null)}return null}get rightPanel(){switch(this.props.step){case 1:case 2:return l.createElement(y,null);case 3:return l.createElement(C,null);case 4:return l.createElement(I,null)}return null}render(){return l.createElement(d.TrackingContext,{name:"Welcome Sequence"},l.createElement(b.Modal,{dispatch:this.props.dispatch,className:o.modal,size:"any"},l.createElement("div",{className:o.wrapper},this.leftPanel,this.rightPanel)))}}k.displayName="WelcomeSequenceView",t.default=g.experiment("exp_welcome_sequence_02").defaultComponentClass(e=>(l.useEffect(()=>x(e.dispatch)),null)).treatment("variant",k).build();const y=r.connect(v)(e=>l.createElement(S,null,l.createElement(j,{className:o.fileBrowser},e.teamName&&l.createElement(l.Fragment,null,l.createElement("div",{className:o.teamIcon},e.teamName.charAt(0)),l.createElement("div",{className:o.teamName},e.teamName)),e.folderName&&l.createElement("div",{className:o.projectName},e.folderName)))),C=()=>l.createElement(S,null,l.createElement(O,{className:o.editorImage})),S=e=>{let t="";return e.leftPad&&(t=o.leftPad),l.createElement("div",{className:o.panel},l.createElement("div",{className:`${o.content} ${t}`},e.children))},F=e=>l.createElement(l.Fragment,null,[...Array(e.multiple||4).keys()].map(e=>l.createElement("div",{className:o.spacing,key:e}))),T=()=>l.createElement("div",{className:o.filler}),P=d.asTrackedContext(N(e=>{return l.createElement(S,{leftPad:!0},l.createElement("h1",null,"Welcome to Figma"),l.createElement("p",null,"Give your first team a name. You can change this at any time."),l.createElement("form",{onSubmit:t=>{t.preventDefault(),e.goToStep(2)}},l.createElement(i.BigTextInput,{autoFocus:!0,className:o.textInput,value:e.teamName||"",placeholder:"Team name",onChange:t=>e.setTeamName(t.target.value)}),l.createElement(F,null),l.createElement(i.BigButtonGreenTracked,{disabled:!e.teamName||!e.teamName.trim(),className:o.primaryCta},"Next")),l.createElement(F,null),l.createElement("div",{className:o.skipLinkHolder},l.createElement(i.LinkTracked,{className:o.skipLink,onClick:e.exit},"Skip and do this later")))}),"Create Team Panel"),_=d.asTrackedContext(N(e=>{return l.createElement(S,{leftPad:!0},l.createElement("h1",null,"Now, let's name your project"),l.createElement("p",null,'Organize your files by projects like "website redesign" or "user onboarding."'),l.createElement("form",{onSubmit:t=>{t.preventDefault(),e.submitTeamCreate()}},l.createElement(i.BigTextInput,{autoFocus:!0,className:o.textInput,value:e.folderName||"",placeholder:"Project name",onChange:t=>e.setFolderName(t.target.value)}),l.createElement(F,null),l.createElement(i.BigButtonGreenTracked,{disabled:e.requestInFlight||!e.folderName||!e.folderName.trim(),className:o.primaryCta},"Next")))}),"Create Project Panel"),q=d.asTrackedContext(N(e=>{const[t,a]=l.useState({});return l.createElement(S,{leftPad:!0},l.createElement("h1",null,"Invite teammates"),l.createElement("p",null,"Figma works best with friends and teammates. Invite a collaborator and get working together."),l.createElement("form",{onSubmit:t=>{t.preventDefault(),e.submitAddCollaborators(),e.goToStep(4)}},e.collaborators.map((n,r)=>{const s=!!n&&t[r];return l.createElement(l.Fragment,{key:r},l.createElement(i.BigTextInput,{autoFocus:0===r,value:n,onFocus:()=>e.setFocusedCollaboratorIndex(r),onChange:l=>{const o=l.target.value;o||a(Object.assign(Object.assign({},t),{[r]:!1})),e.updateCollaborator(r,o)},onBlur:l=>{e.setFocusedCollaboratorIndex(void 0);const o=l.target.value;o&&!h.isEmail(o)?a(Object.assign(Object.assign({},t),{[r]:!0})):a(Object.assign(Object.assign({},t),{[r]:!1}))},className:s?o.textInputError:o.textInput,placeholder:"name@company.com"}),s&&l.createElement("div",{className:o.errorMessage},"Email address doesn’t look right"),l.createElement(F,null))}),e.collaborators.length<5&&l.createElement("div",{className:o.linkHolder},l.createElement(i.LinkTracked,{canFocus:!0,innerText:"Add another",className:o.link,onClick:e.addCollaborator},l.createElement(n.Svg,{svg:E,className:o.plusIcon})," Add another")),l.createElement(F,null),l.createElement(i.BigButtonGreenTracked,{className:o.primaryCta,disabled:e.collaborators.some(e=>e&&!h.isEmail(e))},"Add"),l.createElement(F,null),l.createElement("div",{className:o.doThisLaterLinkHolder},l.createElement(i.LinkTracked,{canFocus:!0,onClick:()=>e.goToStep(4),className:o.doThisLaterLink},"Do this later"))))}),"Add Collaborator Panel"),B=()=>l.createElement("div",{className:`${o.plansLeftPanel}`},l.createElement("div",{className:`${o.content}`},l.createElement("h1",null,"Choose your plan to get started"))),A=e=>l.createElement("div",{className:o.planItem},l.createElement(n.Svg,{svg:e.icon,className:o.checkIcon,useOriginalSrcFills:!0})," ",e.text),I=d.asTrackedContext(N(e=>l.createElement("div",{className:o.plansRightPanel},l.createElement("div",{className:`${o.content}`},l.createElement("div",{className:o.plans},l.createElement("div",{className:o.starterPlanCard},l.createElement("div",{className:o.planTitle},"Starter"),l.createElement(L,null),l.createElement("div",{className:o.planDescriptionHolder},l.createElement("div",{className:o.planDescription},"Free for up to 2 editors")),l.createElement(L,null),l.createElement(F,{multiple:8}),l.createElement(A,{icon:w,text:"3 Projects"}),l.createElement(A,{icon:w,text:"30-day Version History"}),l.createElement(A,{icon:w,text:"Up to 2 editors"}),l.createElement(T,null),l.createElement(i.BigButtonSecondaryTracked,{disabled:!e.folderId,className:o.starterPlanButton,onClick:e.exit},"Choose Starter")),l.createElement("div",{className:o.professionalPlanCard},l.createElement("div",{className:o.planTitle},"Professional"),l.createElement(L,null),l.createElement("div",{className:o.planDescriptionHolder},l.createElement("div",{className:o.price},l.createElement("p",{className:o.planPriceDollar},"$"),l.createElement("p",{className:o.planPriceNumber},"12"),l.createElement("p",{className:o.planPriceMonth},"/mo.")),l.createElement("div",{className:o.planDescription},"per editor when billed annually")),l.createElement(L,null),l.createElement(F,{multiple:8}),l.createElement(A,{icon:f,text:"Unlimited Projects"}),l.createElement(A,{icon:f,text:"Unlimited Version History"}),l.createElement(A,{icon:f,text:"Add editors as needed"}),l.createElement(A,{icon:f,text:"Advanced Project Permissions"}),l.createElement(A,{icon:f,text:"Full Team Library Features"}),l.createElement(T,null),l.createElement(i.BigButtonGreenTracked,{disabled:!e.teamId,onClick:()=>e.teamId&&e.goToCart(e.teamId),className:o.planButton},"Choose Professional")))))),"Plans Panel"),L=()=>l.createElement("div",{className:o.dividerY}),j=e=>l.createElement("div",{className:e.className,style:{position:"relative",width:955,height:603,borderRadius:6,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.1)",overflow:"hidden"}},l.createElement("div",{style:{position:"absolute",left:0,right:0,top:0,height:40,background:"#2C2C2C",borderRadius:"6px 6px 0px 0px"}}),l.createElement("div",{style:{position:"absolute",left:10,top:10,height:20,width:20,borderRadius:20,background:"#907CFF"}}),l.createElement("div",{style:{position:"absolute",left:40,top:16,height:8,width:47,background:"rgba(255, 255, 255, 0.8)"}}),l.createElement("div",{style:{position:"absolute",left:40,top:56,height:8,width:47,background:"rgba(0, 0, 0, 0.1)"}}),l.createElement("div",{style:{position:"absolute",left:40,top:97,height:8,width:47,background:"rgba(0, 0, 0, 0.1)"}}),l.createElement("div",{style:{position:"absolute",left:40,top:121,height:8,width:47,background:"rgba(0, 0, 0, 0.1)"}}),l.createElement("div",{style:{position:"absolute",left:40,top:145,height:8,width:47,background:"rgba(0, 0, 0, 0.1)"}}),l.createElement("div",{style:{position:"absolute",left:0,top:80,height:1,width:200,background:"rgba(0, 0, 0, 0.06)"}}),l.createElement("div",{style:{position:"absolute",left:0,top:169,height:1,width:200,background:"rgba(0, 0, 0, 0.06)"}}),l.createElement("div",{style:{position:"absolute",left:200,top:40,height:800,width:1,background:"rgba(0, 0, 0, 0.06)"}}),l.createElement("div",{style:{position:"absolute",left:232,top:72,height:144,width:217,background:"rgba(0,0,0,0.03)"}}),l.createElement("div",{style:{position:"absolute",left:469,top:72,height:144,width:217,background:"rgba(0,0,0,0.03)"}}),l.createElement("div",{style:{position:"absolute",left:706,top:72,height:144,width:217,background:"rgba(0,0,0,0.03)"}}),e.children),D=[{top:62,left:251,color:"#907CFF",animation:o.cursorTriangle},{top:100,left:451,color:"#EF5533",animation:o.cursorCircle},{top:462,left:51,color:"#FFC700",animation:o.cursorDiagonal,direction:"up"},{top:362,left:350,color:"#18A0FB",animation:o.cursorDiagonal,direction:"up"},{top:262,left:51,color:"#EE46D3",animation:o.cursorCircle}],O=r.connect(v)(e=>l.createElement("div",{className:e.className,style:{position:"relative",width:955,height:603,borderRadius:6,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.1)",overflow:"hidden"}},l.createElement("div",{style:{position:"absolute",left:0,right:0,top:0,height:40,background:"#2C2C2C",borderRadius:"6px 6px 0px 0px"}}),l.createElement("div",{style:{position:"absolute",left:40,top:0,height:40,width:40,background:"#18A0FB"}}),l.createElement("div",{style:{position:"absolute",left:485,top:16,height:8,width:71,background:"rgba(255, 255, 255, 0.4)"}}),l.createElement("div",{style:{position:"absolute",left:210,top:170,height:300,width:180,border:"1px solid #18A0FB"}}),l.createElement("div",{style:{position:"absolute",left:207,top:167,height:6,width:6,border:"1px solid #18A0FB",background:"white"}}),l.createElement("div",{style:{position:"absolute",left:387,top:167,height:6,width:6,border:"1px solid #18A0FB",background:"white"}}),l.createElement("div",{style:{position:"absolute",left:207,top:467,height:6,width:6,border:"1px solid #18A0FB",background:"white"}}),l.createElement("div",{style:{position:"absolute",left:387,top:467,height:6,width:6,border:"1px solid #18A0FB",background:"white"}}),e.collaborators.map((t,a)=>{if(a<D.length){const t=D[a];return l.createElement($,{key:`cursor-${a}`,direction:t.direction||"down",top:t.top,left:t.left,color:t.color,className:`${t.animation} ${a===e.focusedCollaboratorIndex?o.cursorRunning:o.cursorPause}`})}return null}),e.children)),$=e=>"down"===e.direction?l.createElement("div",{style:{position:"absolute",width:97,height:60,top:e.top,left:e.left},className:e.className},l.createElement("div",{style:{position:"absolute",top:34,left:0}},l.createElement("svg",{style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.35))"},width:"27",height:"31",viewBox:"0 0 27 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M7.10526 3.03509L2 28.5614L24.0436 15.2357L13.4381 12.3574L7.10526 3.03509Z",fill:e.color,stroke:"white",strokeWidth:"1.70175",strokeLinecap:"square"}))),l.createElement("div",{style:{position:"absolute",top:0,left:22,minWidth:75,height:30,background:e.color,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.35)"}})):l.createElement("div",{style:{position:"absolute",width:97,height:60,top:e.top,left:e.left},className:e.className},l.createElement("div",{style:{position:"absolute",top:0,left:0}},l.createElement("svg",{style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.35))"},width:"27",height:"30",viewBox:"0 0 27 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M7.10526 27.5263L2 2L24.0436 15.3257L13.4381 18.204L7.10526 27.5263Z",fill:e.color,stroke:"white",strokeWidth:"1.70175",strokeLinecap:"square"}))),l.createElement("div",{style:{position:"absolute",top:29,left:22,minWidth:75,height:30,background:e.color,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.35)"}}))}),
(function(l,o,e){l.exports={fullWidthPage:"full_width_page--fullWidthPage--Fg4oT overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",closeMenu:"full_width_page--closeMenu--2rjQg"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2,1    ),l=n(453                    );class a extends s.PureComponent{render(){return s.createElement(s.Fragment,null,s.createElement("div",{className:l.closeMenu},this.props.menu),s.createElement("div",Object.assign({className:l.fullWidthPage},this.props)))}}t.FullWidthPageContent=a,a.displayName="FullWidthPageContent"}),
(function(t,e,o){t.exports={page:"team_restore--page--1a6EZ",section:"team_restore--section--32FeE",text:"team_restore--text--RNknX text--fontPos12--3tEpz text--_fontBase--YWDo0",header:"team_restore--header--39WpT text--fontPos20--ds4Ol text--_fontBase--YWDo0",button:"team_restore--button--22jkD"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),r=a(46,1    ),i=a(123         ),o=a(108     ),n=a(113                                     ),l=a(93                                   ),m=a(206                             ),c=a(147                                            ),d=a(271                                        ),p=a(454                                                           ),h=a(137                                    ),u=a(146                        ),g=a(455                 ),f=a(151                           );t.TeamRestoreViewSelector=class{pathToSelectedView(e,t){return"files"===t[1]&&"team"===t[2]&&"restore"===t[5]?{view:"teamRestore",teamId:t[3],teamName:t[4]}:null}requireHistoryChange(e,t){return"teamRestore"!==e.view||"teamRestore"!==t.view?"teamRestore"===e.view!=("teamRestore"===t.view):t.teamId!==e.teamId}selectedViewName(e,t){return"teamRestore"===t.view?"Restore Team":null}selectedViewToPath(e,t){return"teamRestore"===t.view?`/files/team/${t.teamId}/${i.URISlug(t.teamName)}/restore`:null}};class v extends s.PureComponent{constructor(){super(...arguments),this.state={isLoading:!1},this.cancel=(()=>{this.props.dispatch(n.fileBrowser.selectView({view:"recentFiles"}))}),this.restoreTeam=(()=>{this.props.dispatch(m.team.restoreTeam({teamId:this.props.selectedView.teamId}))})}componentDidMount(){this.setState({isLoading:!0});const e=this.props.selectedView.teamId;o.default.get(`/api/teams/deleted/${e}`).then(({data:e})=>{this.props.dispatch(m.team.post({team:e.meta})),this.setState({isLoading:!1})}).catch(e=>{400!==e.status&&(this.props.dispatch(n.fileBrowser.selectView({view:"recentFiles"})),this.props.dispatch(l.flash.error(`${e.data.message}`))),this.setState({isLoading:!1})})}render(){const e=this.props.selectedView.teamId,t=this.props.teams[e];let a,i,o=s.createElement(c.ButtonPrimaryTracked,{className:g.button,onClick:this.cancel},"Back to Files");const n=s.createElement(u.Svg,{svg:f,onClick:this.cancel});if(t)if(t.deleted_at){const e=r(t.deleted_at).add(28,"days").format("MMMM D, YYYY");a=`Are you sure you want to restore team "${t.name}"?`,i=`Your team’s files, projects, prototypes, and shared components will be available to everyone who previously had access.\n                You have until ${e} to recover this data.`,o=s.createElement(c.ButtonPrimaryTracked,{className:g.button,onClick:this.restoreTeam},"Restore team")}else a="This team is not eligible to be restored.",i="If you have any questions, please contact us at support@figma.com.";else{if(this.state.isLoading)return s.createElement("div",{className:g.page},s.createElement("div",{className:g.section},s.createElement(d.LoadingSpinner,null)));a="Oh no! This link has expired.",i=s.createElement("div",null,"The period to recover your team’s data has expired. ",s.createElement("br",null),s.createElement("br",null),"If you have any questions, please contact us at support@figma.com.")}return s.createElement(h.TrackingContext,{name:"Team Restore",properties:{teamId:e}},s.createElement(p.FullWidthPageContent,{menu:n},s.createElement("div",{className:g.page},s.createElement("div",{className:g.section},s.createElement("div",{className:g.header},a),s.createElement("div",{className:g.text},i),o))))}}t.TeamRestorePage=v,v.displayName="TeamRestorePage"}),
(function(e,i,r){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.HOME="",e.PROFILE="profile",e.SETTINGS="settings",e.LIBRARIES="libraries",e.PLUGINS="plugins"}(i.OrgViewTab||(i.OrgViewTab={}))}),
(function(e,I,L){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),function(e){e.INTERNAL_PROFILE="INTERNAL_PROFILE",e.PUBLIC_PROFILE="PUBLIC_PROFILE",e.PLUGINS="PLUGINS",e.SETTINGS="SETTINGS"}(I.UserViewTab||(I.UserViewTab={}))}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=t(458                         );r.isUserAccountSettingsView=(e=>"user"===e.view&&e.userViewTab===i.UserViewTab.SETTINGS),r.isOrgIdentifier=((e,r)=>{const{currentOrgId:t,orgById:i}=r;if(!t)return!1;if(e===t)return!0;const d=i[t];return!(!d||!i)&&d.handle===e}),r.getOrgIdentifier=(e=>{const{currentOrgId:r,orgById:t}=e;if(!r)return null;let i=t[r];return i&&i.handle||r}),r.getOrgPathPart=(e=>{const t=r.getOrgIdentifier(e);return t?`/${t}`:""}),r.getTeamIdFromSelectedView=(e=>"team"===e.selectedView.view?e.selectedView.teamId:"folder"===e.selectedView.view&&e.folders[e.selectedView.folderId]?e.folders[e.selectedView.folderId].team_id:null)}),
(function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const g=i(457                        ),o=i(428       ),t=i(459                          );r.OrgViewViewSelector=class{pathToSelectedView(e,r){const{currentOrgId:i}=e;if(!i)return null;if("files"===r[1]&&2===r.length)return{view:"org",orgId:i,orgViewTab:g.OrgViewTab.HOME};if("files"===r[1]&&r.length>=3){const e={view:"org",orgId:i,orgViewTab:g.OrgViewTab.HOME},t=o.enumLookup(g.OrgViewTab,r[2]);return null==t||t===g.OrgViewTab.PROFILE?null:(e.orgViewTab=t,e)}return null}requireHistoryChange(e,r){return"org"!==e.view||"org"!==r.view?"org"===e.view!=("org"===r.view):e.orgId!==r.orgId}selectedViewName(e,r){if("org"!==r.view)return null;const{orgById:i}=e,o=i[r.orgId];return r.orgViewTab===g.OrgViewTab.HOME?o?o.name:"":r.orgViewTab===g.OrgViewTab.SETTINGS?o?o.name+" Settings":"":r.orgViewTab===g.OrgViewTab.PLUGINS?"Plugins":"Org"}selectedViewToPath(e,r){if("org"!==r.view)return null;const i=t.getOrgPathPart(e);if(!i)return null;let g=`/files${i}`;return r.orgViewTab&&(g+=`/${r.orgViewTab}`),g}}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=t(126                    );r.OrgSelfServeViewSelector=class{pathToSelectedView(e,r,t){return"purchase-organization"===r[1]?{view:"orgSelfServe",step:i.SelfServeSteps.Initial,orgMigrated:!1}:null}selectedViewToPath(e,r){if("orgSelfServe"===r.view){let e="/purchase-organization";return r.step===i.SelfServeSteps.Details?e+="/details":r.step===i.SelfServeSteps.Payment?e+="/payment":r.step===i.SelfServeSteps.Review&&(e+="/review"),e}return null}requireHistoryChange(e,r){return"orgSelfServe"===r.view}selectedViewName(e,r){return"orgSelfServe"!==r.view?null:"Purchase Figma Organization"}}}),
(function(e,i,s){"use strict";var t,S;Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.TEAMS="teams",e.MEMBERS="members",e.ACTIVITY="activity",e.BILLING="billing",e.RESOURCES="resources",e.SETTINGS="settings"}(t=i.OrgAdminSettingsViewTab||(i.OrgAdminSettingsViewTab={})),i.OrgAdminTabDisplayName={[t.TEAMS]:"Teams",[t.MEMBERS]:"Members",[t.ACTIVITY]:"Activity",[t.BILLING]:"Billing",[t.RESOURCES]:"Resources",[t.SETTINGS]:"Settings"},function(e){e.LIBRARIES="",e.SHARED_FONTS="fonts",e.APPROVED_PLUGINS="plugins"}(S=i.OrgAdminSettingsResourcesViewTab||(i.OrgAdminSettingsResourcesViewTab={})),i.OrgAdminResourcesTabDisplayName={[S.LIBRARIES]:"Libraries",[S.SHARED_FONTS]:"Shared fonts",[S.APPROVED_PLUGINS]:"Approved plugins"}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=t(462                                       ),r=t(428       ),g=t(459                          );i.OrgAdminSettingsViewSelector=class{constructor(){this.ADMIN_PATH_PART="admin"}pathToSelectedView(e,i){const{currentOrgId:t}=e;if(!t)return null;if("files"===i[1]&&i[2]===this.ADMIN_PATH_PART){let e;i.length>=4&&(e=r.enumLookup(n.OrgAdminSettingsViewTab,i[3]));const t={view:"orgAdminSettings",orgAdminSettingsViewTab:e||n.OrgAdminSettingsViewTab.TEAMS};return e===n.OrgAdminSettingsViewTab.RESOURCES&&i.length>=5&&(t.orgAdminSettingsResourcesViewTab=r.enumLookup(n.OrgAdminSettingsResourcesViewTab,i[4])),t}return null}requireHistoryChange(e,i){return"orgAdminSettings"===e.view!=("orgAdminSettings"===i.view)||"orgAdminSettings"===e.view&&"orgAdminSettings"===i.view&&e.orgAdminSettingsViewTab!==i.orgAdminSettingsViewTab||"orgAdminSettings"===e.view&&"orgAdminSettings"===i.view&&e.orgAdminSettingsResourcesViewTab!==i.orgAdminSettingsResourcesViewTab}selectedViewName(e,i){return"orgAdminSettings"!==i.view?null:"Org Admin"}selectedViewToPath(e,i){if("orgAdminSettings"!==i.view)return null;const t=g.getOrgPathPart(e);if(!t)return null;let n=`/files${t}/admin`;return i.orgAdminSettingsViewTab&&(n+=`/${i.orgAdminSettingsViewTab}`,i.orgAdminSettingsResourcesViewTab&&(n+=`/${i.orgAdminSettingsResourcesViewTab}`)),n}}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(458                         ),u=s(123         ),t=s(459                          ),n=s(303                             );r.UserViewViewSelector=class{pathToSelectedView(e,r){const{user:s}=e;if(r.length>=2&&"my_plugins"===r[1])return s?n.communityHubBrowsingEnabled()?{view:"user",userId:s.id,userViewTab:i.UserViewTab.PLUGINS}:{view:"communityHub",subView:"dashboard"}:null;if("files"===r[1]&&"user"===r[2]&&r.length>=4&&s){const e=r[3];return"settings"===r[r.length-1]&&e===s.id?{view:"user",userId:s.id,userViewTab:i.UserViewTab.SETTINGS}:"plugins"===r[r.length-1]?{view:"user",userId:e,userViewTab:i.UserViewTab.PLUGINS}:{view:"user",userId:e,userViewTab:i.UserViewTab.INTERNAL_PROFILE}}return null}requireHistoryChange(e,r){return"user"!==e.view||"user"!==r.view?"user"===e.view!=("user"===r.view):e.userId!==r.userId||e.userViewTab!==r.userViewTab}selectedViewName(e,r){if("user"!==r.view)return null;const{user:s,orgUsersByOrgId:u,currentOrgId:n}=e,w=n&&u.orgUsers[n]||{};if(t.isUserAccountSettingsView(r))return s&&r.userId===s.id?s.name:"";if(r.userViewTab===i.UserViewTab.INTERNAL_PROFILE){const e=w[r.userId];return e?e.user.handle:""}return r.userViewTab===i.UserViewTab.PLUGINS?"Plugins":"User"}selectedViewToPath(e,r){if("user"!==r.view)return null;const s=this.selectedViewName(e,r),n=s?u.URISlug(s):"",w=t.getOrgPathPart(e);return t.isUserAccountSettingsView(r)?`/files${w}/user/${r.userId}${n?`/${n}`:""}/settings`:r.userViewTab===i.UserViewTab.INTERNAL_PROFILE&&e.currentOrgId?`/files${w}/user/${r.userId}${n?`/${n}`:""}`:r.userViewTab!==i.UserViewTab.INTERNAL_PROFILE||e.currentOrgId?r.userViewTab===i.UserViewTab.PLUGINS?e.currentOrgId?`/files/${e.currentOrgId}/user/${r.userId}/plugins`:`/files/user/${r.userId}/plugins`:null:`/files/user/${r.userId}${n?`/${n}`:""}`}selectedViewHasMissingResources(e,r){return"user"===r.view&&!!t.isUserAccountSettingsView(r)&&!e.user}}}),
(function(e,t,r){"use strict";var E;Object.defineProperty(t,"__esModule",{value:!0}),t.OrgPermissionExtendedFilters={IDP:"provisional"},function(e){e.MORE_THREE_MONTH="More than 3 months ago",e.MORE_SIX_MONTH="More than 6 months ago",e.MORE_ONE_YEAR="More than a year ago"}(E=t.LastEditFilter||(t.LastEditFilter={})),t.zeroFilterCounts=function(){return{accountType:{full:0,restricted:0,starter:0},permission:{guest:0,member:0,admin:0,provisional:0}}},t.zeroAdminFilterCounts=function(){return{accountType:{full:0,restricted:0,starter:0},permission:{guest:0,member:0,admin:0,provisional:0},lastEdit:{[E.MORE_THREE_MONTH]:0,[E.MORE_SIX_MONTH]:0,[E.MORE_ONE_YEAR]:0}}},function(e){e[e.EMAIL=0]="EMAIL",e[e.SEARCH=1]="SEARCH",e[e.NAME=2]="NAME",e[e.UPGRADED_DATE=3]="UPGRADED_DATE",e[e.LAST_EDIT=4]="LAST_EDIT",e[e.LAST_SEEN=5]="LAST_SEEN"}(t.OrgRosterSortType||(t.OrgRosterSortType={})),function(e){e.NAME="Name",e.EDIT_AT="Last edit",e.ACTIVE_AT="Last active",e.UPGRADE_AT="Date upgraded",e.ROLE="Role"}(t.MembersTableColumn||(t.MembersTableColumn={}))}),
(function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=n(303                             ),u=n(104              ),s=n(123         ),l=n(440                          ),r=n(360                     ),b=n(302                                ),a=n(304                          ),o=n(179        );function c(e,i){return`/@${e}${i?`/${i}`:""}`}function g(e,i){return`/community/file/${e}${i?`/${s.URISlug(i)}`:""}`}function m(e,i){return`/community/plugin/${e}${i?`/${s.URISlug(i)}`:""}`}function d(e,i){const n=i?s.URISlug(i):"";return`/community/file/${e}/${n?`${n}/`:""}remixes`}i.CommunityHubViewSelector=class{pathToSelectedView(e,i,n){var s,l,r;const a={view:"communityHub"};if("community"===i[1]){const e=n?u.parse(n):{};if("plugin"===i[2]&&(null===(s=i[3])||void 0===s?void 0:s.startsWith("all"))){const i=Object.assign(Object.assign({},a),{subView:"pluginSearch",query:e.q||""});return e.sort&&(i.sort=e.sort),"true"===e.desc&&(i.desc=!0),i}if("plugin"===i[2]&&i[3]){const e=i[3];return Object.assign(Object.assign({},a),{subView:"plugin",publishedPluginId:e})}if("file"===i[2]&&i[3])return i.length>4&&"remixes"===i[i.length-1]&&t.communityHubBrowsingEnabled()?Object.assign(Object.assign({},a),{subView:"remixes",hubFileId:i[3]}):Object.assign(Object.assign({},a),{subView:"hubFile",hubFileId:i[3]});if("tag"===i[2]&&i[3]){const n=e.tab,t=e.sort;return Object.assign(Object.assign({},a),{subView:"landing",tag:decodeURIComponent(i[3]),sortState:t,tab:n})}if("search"===i[2]&&t.communityHubBrowsingEnabled())return{view:"search",entryPoint:"url:community"};if("plugins"===i[2]&&3===i.length){if(t.communityHubBrowsingEnabled())return Object.assign(Object.assign({},a),{subView:"landing",tab:b.CommunityHubLandingTab.PLUGINS})}else{if("files"!==i[2]||3!==i.length){if(t.communityHubBrowsingEnabled()){const i=e.tab,n=e.sort;return Object.assign(Object.assign({},a),{subView:"landing",sortState:n,tab:i})}return Object.assign(Object.assign({},a),{subView:"dashboard"})}if(t.communityHubBrowsingEnabled())return Object.assign(Object.assign({},a),{subView:"landing",tab:b.CommunityHubLandingTab.FILES})}}if(null===(l=i[1])||void 0===l?void 0:l.startsWith("@")){const n=null===(r=i[1].slice(1))||void 0===r?void 0:r.toLowerCase(),{profileHandleToInfo:t}=e;if(!t||!n)return null;if(n in t)return null;const u=i[2];return Object.assign(Object.assign({},a),{subView:"handle",handle:n,followsModalTab:u})}return null}requireHistoryChange(e,i){return"communityHub"!==e.view||"communityHub"!==i.view?"communityHub"===e.view!=("communityHub"===i.view):"handle"===e.subView&&"handle"===i.subView?e.handle!==i.handle||e.followsModalTab!==i.followsModalTab:"plugin"===e.subView&&"plugin"===i.subView?e.publishedPluginId!==i.publishedPluginId:"hubFile"===e.subView&&"hubFile"===i.subView?e.hubFileId!==i.hubFileId:"remixes"===e.subView&&"remixes"===i.subView?e.hubFileId!==i.hubFileId:e.subView!==i.subView}selectedViewName(e,i){if("communityHub"!==i.view)return null;if("plugin"===i.subView){const n=l.getPublishedPluginById(i.publishedPluginId,e.publishedPlugins);return l.getPluginVersion(n).name||""}if("hubFile"===i.subView){const n=r.getHubFileById(i.hubFileId,e.hubFiles);return r.getHubFileVersion(n).name||""}if("dashboard"===i.subView)return"Community";if("handle"===i.subView)return`@${i.handle}`;if("remixes"===i.subView){const n=r.getHubFileById(i.hubFileId,e.hubFiles);return`${r.getHubFileVersion(n).name||""} Remixes`}return"landing"===i.subView?i.tag?`#${i.tag} resources from the Figma Community`:"Community":"pluginSearch"===i.subView?`Plugin results for ${i.query}`:void o.assertNever(i)}selectedViewToPath(e,i){if("communityHub"!==i.view)return null;if("dashboard"===i.subView)return"/community";if("landing"===i.subView){let e=i.tag?`/tag/${i.tag}`:"";const n={};return i.tab&&i.tab!==b.defaultCommunityHubLandingTab&&(n.tab=i.tab.toString().toLowerCase()),i.sortState&&i.sortState!==b.defaultCommunityHubLandingSortState&&(n.sort=i.sortState),`/community${e}${Object.keys(n).length?`?${u.encode(n)}`:""}`}if("pluginSearch"===i.subView){const e={};return i.query&&(e.q=i.query),i.sort&&(e.sort=i.sort),null!=i.desc&&(e.desc=i.desc),`/community/plugin/all${Object.keys(e).length?`?${u.encode(e)}`:""}`}if("plugin"===i.subView){const n=this.selectedViewName(e,i),t=n?s.URISlug(n):"";let u=`/community/plugin/${i.publishedPluginId}`;return t&&(u+=`/${t}`),u}if("hubFile"===i.subView)return`/community/file/${i.hubFileId}`;if("remixes"===i.subView){const n=r.getHubFileById(i.hubFileId,e.hubFiles),t=r.getHubFileVersion(n);return d(i.hubFileId,t.name)}return"handle"===i.subView?c(i.handle,i.followsModalTab):"/community"}},i.profilePath=c,i.hubFilePath=g,i.hubFileEmbedPath=function(e){return`/community/file/${e}/embed?${u.encode({embed_host:"community_hub"})}`},i.pluginPath=m,i.hubFileRemixesPath=d,i.pluginShareURL=((e,i)=>{return new URL(m(e,i),location.href).href}),i.hubFileShareURL=((e,i)=>{return new URL(g(e,i),location.href).href}),i.hubFileTwitterShareURL=(e=>{const n=new URLSearchParams,t=a.getPublisherDisplayString(e);n.append("url",i.hubFileShareURL(e.id));const u=r.getHubFileVersion(e).name;return n.append("text",`Check out ${u||"this file"} by ${t} — a design resource on @figmadesign:`),`https://twitter.com/intent/tweet?${n.toString()}`}),i.hubFileFacebookShareURL=(e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(i.hubFileShareURL(e))}`)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.HOME="",e.MEMBERS="members",e.SETTINGS="settings",e.PROFILE="profile"}(i.TeamViewTab||(i.TeamViewTab={}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(85                   ),a=i(104              ),s=i(231       ),l=i(123         ),n=i(428       ),o=i(179        ),c=i(211              ),d=i(280                             ),f=i(441                                                     ),m=i(188                               ),p=i(93                                   ),w=i(207                                   ),u=i(206                             ),g=i(113                                     ),v=i(402                               ),h=i(351                      ),y=i(208                               ),_=i(443                      ),S=i(118                    ),b=i(444                       ),I=i(134                               ),T=i(215                                          ),V=i(445                                    ),P=i(112          ),F=i(446                          ),O=i(452                                       ),E=i(456                                                          ),$=i(460                                                           ),R=i(461                                                                       ),A=i(463                                                                               ),U=i(464                                                             ),K=i(465                          ),C=i(466                                                        ),N=i(467                         ),H=i(459                          ),M=i(124                      ),B=i(125                        ),D=i(462                                       ),L=i(465                          ),j=new F.ComposingViewSelector([new O.WelcomeSequenceViewSelector,new E.TeamRestoreViewSelector,new U.UserViewViewSelector,new C.CommunityHubViewSelector,new $.OrgViewViewSelector,new R.OrgSelfServeViewSelector,new A.OrgAdminSettingsViewSelector]);function k(e,t){const i=x(e,t),n=i?l.URISlug(i):"",c=H.getOrgPathPart(e);if("folder"===t.view){const i=S.getUserDraftsFolderOrNull(e.folders,e.currentOrgId,e.roles,e.user,e.orgUsersByOrgId.orgUsers);let r=`/files${c}/project/${t.folderId}`;return n&&(r+=`/${n}`),i&&i.id===t.folderId&&(r=`/files${c}/drafts`),r}if("team"===t.view){let e=`/files${c}/team/${t.teamId}`;if(n&&(e+=`/${n}`),t.teamViewTab&&(e+=`/${t.teamViewTab}`),t.teamPreferencesModalTab){const i={};i.teamPreferencesModalTab=t.teamPreferencesModalTab,e+=`?${a.encode(i)}`}return e}if("recentFiles"===t.view)return`/files${c}/recent`;if("deletedFiles"===t.view)return`/files${c}/deleted`;if("sharedFiles"===t.view)return`/files${c}/shared`;if("sharedProjects"===t.view)return`/files${c}/shared-projects`;if("searchDeprecated"===t.view)return`/files${c}/search/${e.fileSearch.query?encodeURIComponent(e.fileSearch.query):""}`;if("search"!==t.view){if("teamCreation"===t.view)return`/files${c}/create-team`;if("addCollaborators"===t.view)return`/files${c}/add-collaborators/${t.teamId}`;if("activityLogs"===t.view){const e={};let i=`/files${c}/activity-logs`;return t.initialEmail&&(e.initialEmail=t.initialEmail,i+=`?${a.encode(e)}`),i}if("configureSSO"===t.view)return`/files${c}/configure-sso`;if("teamUpgrade"===t.view)return"variant"===I.pickTreatment("exp_cart")&&t.cartStep?`/files/upgrade-team/${t.teamId}/${t.cartStep}`:t.paymentStep?`/files/upgrade-team/${t.teamId}/${t.paymentStep}`:`/files/upgrade-team/${t.teamId}`;if("addAnnualPlan"===t.view)return`/files/add-annual-plan/${t.teamId}`;if("teamAdmin"===t.view)return`/team/${t.teamId}/admin`;if("teamInvoices"===t.view)return`/team/${t.teamId}/admin/invoices`;if("prototype"===t.view){if(t.fileKey===V.INTERACTION_TEST_FAKE_FILE_KEY)return`/test/interactions${window.location.search}`;let i;const a=t.fileKey&&e.fileByKey[t.fileKey];if(r.getFeatureFlags().branching_and_merging&&a){const t=M.getRepo(a,e.repos);i=M.getBranchPath(a,t,"proto")}else i=`/proto/${t.fileKey}`,n&&(i+=`/${n}`);return i+=_.urlQueryForPrototype(t),i+=_.urlFragmentForPrototype(t.commentThreadId)}if("fullscreen"===t.view){if(t.fileKey===V.INTERACTION_TEST_FAKE_FILE_KEY)return`/test/interactions${window.location.search}`;const i={},l=t.fileKey||"new";let o;const c=t.fileKey&&e.fileByKey[t.fileKey];if(r.getFeatureFlags().branching_and_merging&&c){const t=M.getRepo(c,e.repos);o=M.getBranchPath(c,t,"file")}else o=`/file/${l}`,o+=n?`/${n}`:"/Untitled";return t.landingState&&"DUPLICATE"===t.landingState&&(o+="/duplicate"),t.versionId&&(i["version-id"]=t.versionId),t.newFile&&(i.new="1"),t.nodeId&&s.isValid(s.fromString(t.nodeId))&&(i["node-id"]=t.nodeId),t.viewport&&(i.viewport=t.viewport),t.framePresetName&&(i["frame-preset-name"]=t.framePresetName),Object.keys(i).length>0&&(o+=`?${a.encode(i)}`),o}return j.selectedViewToPath(e,t)}{const t=e.search.parameters,i=t.searchModelType,r=a.encode(Object.assign({model_type:i},t.query&&{q:t.query}));switch(t.searchScope){case h.SearchScope.ORG:case h.SearchScope.ORG_GUEST:case h.SearchScope.PERSONAL:return`/files${c}/search?${r}`;case h.SearchScope.COMMUNITY:return`/community/search?${r}`;default:o.assertNever(t.searchScope)}}}t.selectedViewToURL=((e,t)=>new URL(k(e,t),document.baseURI).href),t.selectedViewToPath=k;const q=["create-team","deleted","drafts","libraries","project","recent","search","shared","shared-projects","team","activity-logs","configure-sso","settings","plugins","user"],G=(e,t)=>{const i=e.split("/");if(!i[1]||"files"!==i[1])return i;const r=new RegExp(`^/files/([a-zA-Z0-9-]+)/(?:${q.join("|")})(.*)$`);return e.match(r)?(i.splice(2,1),i):(i.length>=3&&H.isOrgIdentifier(i[2],t)&&i.splice(2,1),i)};function Y(e,t,i,l){const o=G(t,e);switch(""===o[o.length-1]&&o.splice(o.length-1,1),o[1]){case"files":switch(o[2]){case"drafts":{const t=S.getUserDraftsFolderOrNull(e.folders,e.currentOrgId,e.roles,e.user,e.orgUsersByOrgId.orgUsers);return t?{view:"folder",folderId:t.id}:{view:"recentFiles"}}case"personal":case"shared-projects":return{view:"sharedProjects"};case"project":return{view:"folder",folderId:o[3]};case"team":{const e={view:"team",teamId:o[3],teamViewTab:N.TeamViewTab.HOME},t=i?a.parse(i):{};if(5===o.length||6===o.length){const t=n.enumLookup(N.TeamViewTab,o[o.length-1]);t&&t!==N.TeamViewTab.PROFILE&&(e.teamViewTab=t)}return t.teamPreferencesModalTab&&(e.teamViewTab=N.TeamViewTab.SETTINGS,e.teamPreferencesModalTab=t.teamPreferencesModalTab),o.length>5&&"restore"===o[5]?{view:"teamRestore",teamId:o[3],teamName:o[4]}:e}case"recent":if(i&&"members-billing"===a.parse(i).orgDashboardTab)return r.getFeatureFlags().admin_refresh?{view:"orgAdminSettings",orgAdminSettingsViewTab:D.OrgAdminSettingsViewTab.MEMBERS,membersTabInitialSortColumn:L.MembersTableColumn.UPGRADE_AT}:{view:"recentFiles",orgDashboardTab:"members",sortType:K.OrgRosterSortType.UPGRADED_DATE};{const e=i?a.parse(i):{};return e.orgDashboardTab?{view:"recentFiles",orgDashboardTab:e.orgDashboardTab}:{view:"recentFiles"}}case"activity-logs":const s={view:"activityLogs"},l=i?a.parse(i):{};return l.initialEmail&&(s.initialEmail=l.initialEmail),s;case"configure-sso":return{view:"configureSSO"};case"create-team":return{view:"teamCreation"};case"add-collaborators":return{view:"addCollaborators",teamId:o[3]};case"upgrade-team":{let e=o[3];const t={view:"teamUpgrade",teamId:e,previousView:{view:"teamAdmin",teamId:e}};return t.paymentStep=o[4]||b.PaymentStep.CHOOSE_PLAN,"variant"===I.pickTreatment("exp_cart")&&(t.cartStep=b.paymentStepToCartStep(o[4])),t}case"add-annual-plan":return{view:"addAnnualPlan",teamId:o[3]};case"deleted":return{view:"deletedFiles"};case"search":return{view:"search",entryPoint:t.match(/^\/files\//)?"url:internal":"url:community"}}break;case"team":{const e=o[2];if("admin"===o[3])return"invoices"===o[4]?{view:"teamInvoices",teamId:e}:{view:"teamAdmin",teamId:e};break}case"file":{let e=i?a.parse(i):{};l=l?l.slice(1):"";const t={view:"fullscreen"};if(r.getFeatureFlags().branching_and_merging&&"branch"===o[3]&&o[4]?t.fileKey=o[4]:"new"!==o[2]&&(t.fileKey=o[2]),l&&("commentPreferences"===l?t.showCommentPreferencesPicker=!0:t.commentThreadId=l),"code"===e["properties-panel-tab"]&&(t.showInspectPanel=!0),e.integration_id&&(t.integrationId=e.integration_id,t.integrationParams={},e.scale&&(t.integrationParams.scale=+e.scale)),e["node-id"]&&(t.nodeId=e["node-id"]),e["version-id"]&&(t.versionId=e["version-id"]),e["frame-preset-name"]&&(t.framePresetName=e["frame-preset-name"]),e.new&&(t.preloaded=!0),e.viewport){const i=e.viewport.split(",");3!==i.length||isNaN(+i[0])||isNaN(+i[1])||isNaN(+i[2])||(t.viewport=e.viewport)}return("duplicate"===o[4]||e.duplicate)&&(t.landingState="DUPLICATE"),t}case"test":if("interactions"===o[2]){const e=i?a.parse(i):{},t={view:"fullscreen",fileKey:V.INTERACTION_TEST_FAKE_FILE_KEY};return e["node-id"]&&(t.nodeId=e["node-id"]),t}break;case"proto":{const e=i?a.parse(i):{},t={view:"prototype",fileKey:r.getFeatureFlags().branching_and_merging&&"branch"===o[3]&&o[4]?o[4]:o[2]};l=l?l.slice(1):"",e.scaling&&(t.scalingMode=e.scaling),e["show-debug-stats"]&&(t.showDebugStats=!0),e["version-id"]&&(t.versionId=e["version-id"]),e["bg-color"]&&(t.backgroundColorHex=16777215&parseInt(e["bg-color"],16)),"1"===e["hide-ui"]&&(t.hideUI=!0),t.showHotspots=!0,"0"===e["hotspot-hints"]&&(t.showHotspots=!1),"true"===e["mobile-optimizations"]?t.mobileOptimizations=!0:t.mobileOptimizations=!1,l&&(t.commentThreadId=l);let n=e["node-id"];return n&&s.isValid(s.fromString(n))&&(t.nodeId=n),t}}return j.pathToSelectedView(e,o,i)||{view:"recentFiles"}}function x(e,t){var i,a;if("folder"===t.view)return S.getFolderName(e.folders[t.folderId]);if("team"===t.view)return null!==(a=null===(i=e.teams[t.teamId])||void 0===i?void 0:i.name)&&void 0!==a?a:"Team";if("recentFiles"===t.view)return"Recently Viewed";if("deletedFiles"===t.view)return"Deleted Files";if("sharedFiles"===t.view)return"Shared with Me";if("searchDeprecated"===t.view)return"Search Results";if("search"===t.view){const{query:t}=e.search.parameters;return t?`Search results for '${t}'`:"Search"}if("activityLogs"===t.view)return"Activity Logs";if("configureSSO"===t.view)return"Configure SSO";if("teamCreation"===t.view)return"Create New Team";if("addCollaborators"===t.view)return"Add Collaborators";if("teamUpgrade"===t.view)return`Upgrade ${e.teams[t.teamId].name}`;if("orgSelfServe"===t.view)return"Upgrade to Organization";if("addAnnualPlan"===t.view)return"Add an Annual Plan";if("teamAdmin"===t.view)return"Admin Dashboard";if("teamInvoices"===t.view)return"Team Invoices";if("sharedProjects"===t.view)return"Shared Projects";if("fullscreen"===t.view||"prototype"===t.view){let i=null;if(t.fileKey){const a=e.fileByKey[t.fileKey];if(a){if(r.getFeatureFlags().branching_and_merging){const t=M.getRepo(a,e.repos);t&&(i=M.getBranchName(a,t))}i=null!=i?i:a.name}}return null!=i?i:"Untitled"}return j.selectedViewName(e,t)}function z(e,t){let i="";const r=x(e,t);if(r)if("prototype"===t.view){const t=function(e){const t=e.prototype;for(const i of t.pages)if(i.nodeId===t.currentPageId)return i.name;return""}(e);i=t?`▶ ${t} - ${r}`:`▶ ${r}`}else i=`${r} – Figma`;else i="Figma";if(i!==document.title&&(document.title=i,c.desktopApp)){if("fullscreen"===t.view&&!t.fileKey)return;c.desktopApp.setTitle(r)}}function W(e,t){return null==e||null==t?e!==t:"recentFiles"===e.view!=("recentFiles"===t.view)||"deletedFiles"===e.view!=("deletedFiles"===t.view)||"folder"===e.view!=("folder"===t.view)||"folder"===e.view&&"folder"===t.view&&e.folderId!==t.folderId||"team"===e.view!=("team"===t.view)||"team"===e.view&&"team"===t.view&&e.teamId!==t.teamId||"teamAdmin"===e.view!=("teamAdmin"===t.view)||"teamAdmin"===e.view&&"teamAdmin"===t.view&&e.teamId!==t.teamId||"teamInvoices"===e.view!=("teamInvoices"===t.view)||"teamInvoices"===e.view&&"teamInvoices"===t.view&&e.teamId!==t.teamId||"teamUpgrade"===e.view!=("teamUpgrade"===t.view)||"teamUpgrade"===e.view&&"teamUpgrade"===t.view&&e.teamId!==t.teamId||"teamUpgrade"===e.view&&"teamUpgrade"===t.view&&(i=e,r=t,"control"===I.pickTreatment("exp_cart")?r.paymentStep!==b.PaymentStep.CONFIRM_PAY&&i.paymentStep!==r.paymentStep:-1!==b.cartHistoricSteps.indexOf(r.cartStep)&&i.cartStep!==r.cartStep)||"fullscreen"===e.view!=("fullscreen"===t.view)||"fullscreen"===e.view&&"fullscreen"===t.view&&function(e,t){return e.fileKey!==t.fileKey}(e,t)||"prototype"===e.view&&"prototype"===t.view&&function(e,t){return!!e.nodeId&&e.nodeId!==t.nodeId}(e,t)||j.requireHistoryChange(e,t);var i,r}t.pathToSelectedView=Y,t.requireHistoryChange=W,t.fileBrowserSelectedViewHasMissingResources=((e,t)=>y.selectedViewHasMissingResources(t,e.getState())||j.selectedViewHasMissingResources(e.getState(),t)),t.fileBrowserHydrateWasHit=!1,t.fileBrowserHistory=(e=>i=>(function(s){var l,n,o;let c=e.getState().selectedView;i(s);let _=e.getState();if(g.fileBrowser.hydrate.matches(s)){t.fileBrowserHydrateWasHit=!0;let i=_.selectedView;if(i===y.EMPTY_SELECTED_VIEW&&(i=r.default().selected_view||Y(_,location.pathname,location.search,location.hash)),t.fileBrowserSelectedViewHasMissingResources(e,i)&&(i=y.EMPTY_SELECTED_VIEW),"teamUpgrade"===i.view){const e=_.teams[i.teamId];e&&e.subscription&&(i={view:"teamAdmin",teamId:i.teamId})}if(i!==y.EMPTY_SELECTED_VIEW)if("searchDeprecated"===i.view){let t,r="";(t=window.location.pathname.match(/^\/files\/search\/(.*)$/))?r=decodeURIComponent(t[1]):(t=window.location.pathname.match(/^\/files\/([0-9]+)\/search\/(.*)$/))&&(r=decodeURIComponent(t[2])),e.dispatch(g.fileBrowser.setFileSearchQuery({query:r})),e.dispatch(g.fileBrowser.selectView(i))}else if("search"===i.view){const t=new URLSearchParams(window.location.search),r=t.get("q"),a=t.get("model_type"),s=!!window.location.pathname.match(/^\/files\//);let l=h.SearchScope.COMMUNITY;s&&(l=_.currentOrgId?B.canMemberOrg(_.currentOrgId,_)?h.SearchScope.ORG:h.SearchScope.ORG_GUEST:h.SearchScope.PERSONAL),e.dispatch(g.fileBrowser.selectView(i)),r?e.dispatch(v.searchActions.changeSearchQuery({searchModelType:a,query:r,searchScope:l,debounce:!1})):e.dispatch(v.searchActions.changeSearchModelOrScope({searchModelType:a,searchScope:l}))}else e.dispatch(g.fileBrowser.selectView(i));else{const t=S.getUserDraftsFolderOrNull(_.folders,_.currentOrgId,_.roles,_.user,_.orgUsersByOrgId.orgUsers);s.payload.recent_files&&s.payload.recent_files.length?e.dispatch(g.fileBrowser.selectView({view:"recentFiles"})):t?e.dispatch(g.fileBrowser.selectView({view:"folder",folderId:t.id})):e.dispatch(g.fileBrowser.selectView({view:"recentFiles"}))}return s}if(u.team.del.matches(s)){const t=e.getState().selectedView;let i=k(_,t);return history&&window.location.pathname+window.location.search!==i&&(history.state&&W(c,t)?P.debouncedHistoryPushState(t,null,i):P.debouncedHistoryReplaceState(t,null,i),z(_,t)),s}if(w.fullscreen.newFileLoaded.matches(s)){const e={view:"fullscreen",fileKey:s.payload.file.key},t=k(_,e);return P.debouncedHistoryReplaceState(e,null,t),s}if(g.fileBrowser.selectView.matches(s)){if(!s.payload.fromPopstate){let t=k(_,s.payload);if(history)if(window.location.pathname+window.location.search!==t){!s.payload.forceReplaceState&&history.state&&W(c,s.payload)?P.debouncedHistoryPushState(Object.assign(Object.assign({},s.payload),{previousSelectedView:c}),null,t):P.debouncedHistoryReplaceState(Object.assign(Object.assign({},s.payload),{previousSelectedView:c}),null,t)}else null==history.state&&P.debouncedHistoryReplaceState(Object.assign(Object.assign({},s.payload),{previousSelectedView:c}),null,t);(null===(o=null===(n=null===(l=e.getState())||void 0===l?void 0:l.user)||void 0===n?void 0:n.appData)||void 0===o?void 0:o.loggedOut)&&"fullscreen"!==s.payload.view&&P.locationReload("User Logged out")}z(_,s.payload)}else if(f.mergePublishedAndValidate.matches(s)){const t=e.getState().selectedView,i=s.payload.publishedPlugins,r=t&&"communityHub"===t.view&&"plugin"===t.subView&&t.publishedPluginId;if(r&&i&&i.some(e=>e.id===r)){if(history){let e=k(_,t);P.debouncedHistoryReplaceState(t,null,e)}z(_,t)}}else if(g.fileBrowser.init.matches(s)){window.addEventListener("popstate",t=>{if(t.state){let i=e.getState(),r=i.selectedView,a=t.state;if("fullscreen"===r.view&&!T.fullscreen.isReady())return void P.locationReload("User navigated before fullscreen fully initialized");if("fullscreen"===a.view&&!a.fileKey)return void window.history.back();"fullscreen"!==r.view||"fullscreen"===a.view&&r.fileKey===a.fileKey?(e.dispatch(g.fileBrowser.selectView(Object.assign(Object.assign({},a),{fromPopstate:!0}))),z(i,a)):e.dispatch(w.fullscreen.handlePopState({oldSelectedView:r,newSelectedView:a}))}});let t=a.parse(location.search).flash;t&&e.dispatch(p.flash.flash(t))}else if(m.folder.put.matches(s)){let t=e.getState().selectedView;"folder"===t.view&&t.folderId===s.payload.folder.id&&z(_,t)}else if(d.file.put.matches(s)){let t=e.getState().selectedView;if("fullscreen"===t.view&&s.payload.file.key===t.fileKey){z(_,t);let e=k(_,t);history&&P.debouncedHistoryReplaceState(t,null,e)}}else if(d.file.deleteFiles.matches(s)){if("folder"===e.getState().selectedView.view&&s.payload.userInitiated){let t=s.payload.fileKeys;for(let i in t)e.dispatch(m.folder.delPinnedFile({folderId:t[i].folder_id,fileKey:t[i].key}))}}else if(d.file.move.matches(s)){if("folder"===e.getState().selectedView.view){let t=s.payload.files;for(let i of t)e.dispatch(m.folder.delPinnedFile({folderId:i.folder_id,fileKey:i.key}))}}else if(g.fileBrowser.setFileSearchQuery.matches(s)){let t=e.getState().selectedView;t&&"searchDeprecated"===t.view&&P.debouncedHistoryReplaceState(t,null,k(_,t))}else if(v.searchActions.setParameters.matches(s)){let t=e.getState().selectedView;"search"===(null==t?void 0:t.view)&&(P.debouncedHistoryReplaceState(t,null,k(_,t)),z(_,t))}else 0===Q&&(Q=setTimeout(function(){Q=0,null===e.getState().selectedView&&e.dispatch(g.fileBrowser.selectView({view:"recentFiles"}))},0));return s}));let Q=0;t.default=t.fileBrowserHistory}),
(function(e,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=o(100               ),t=o(102              ),l=o(123         ),c=o(172                                              ),s=o(279                             ),n=o(113                                     ),p=o(427                                   ),r=o(468                                        );var _;(_=i.copyToClipboard||(i.copyToClipboard={})).copyLink=a.asyncActionCreator("COPY_URL_LINK",(e,i)=>{const o=i.url;t.copyText(o).then(()=>{e.dispatch(s.visualBellActions.enqueue({type:"link_copied_to_clipboard",message:"Link copied to clipboard"}))}).catch(()=>{e.dispatch(n.fileBrowser.showModal({type:p.TILE_COPY_LINK_MODAL,data:{link:o}}))})}),_.copyViewLink=a.asyncActionCreator("COPY_VIEW_LINK",(e,i)=>{const o=new URL(r.selectedViewToPath(e.getState(),i),document.baseURI).href;e.dispatch(_.copyLink({url:o}))}),_.copyEmailsToClipboard=a.asyncActionCreator("COPY_EMAILS_TO_CLIPBOARD",(e,i)=>{const o=i.emailList,a=o.length,s=o.toString();t.copyText(s).then(()=>{e.dispatch(c.visualBell.enqueue({message:`${l.getPluralOrSingular(a,`${s}`,`${a} emails`)} copied to your clipboard`,type:"emails-copied"}))})}),_.copyToClipboard=a.asyncActionCreator("COPY_TO_CLIPBOARD",(e,i)=>{const o=i.stringToCopy;t.copyText(o).then(()=>{e.dispatch(s.visualBellActions.enqueue({type:"copied_to_clipboard",message:"Copied to clipboard"}))})})}),
(function(e,t,a){e.exports={badge:"badge--badge--2aFZ3 text--fontPos9--27Y9u text--_fontBase--YWDo0",boldGreen:"badge--boldGreen--3n3o_ badge--badge--2aFZ3 text--fontPos9--27Y9u text--_fontBase--YWDo0",lightGreen:"badge--lightGreen--11FEM badge--badge--2aFZ3 text--fontPos9--27Y9u text--_fontBase--YWDo0",lightBlue:"badge--lightBlue--MiD7y badge--badge--2aFZ3 text--fontPos9--27Y9u text--_fontBase--YWDo0",purple:"badge--purple--o6_ws badge--badge--2aFZ3 text--fontPos9--27Y9u text--_fontBase--YWDo0",boldPurple:"badge--boldPurple--3Udzx badge--badge--2aFZ3 text--fontPos9--27Y9u text--_fontBase--YWDo0",gray:"badge--gray--35heE badge--badge--2aFZ3 text--fontPos9--27Y9u text--_fontBase--YWDo0",dark:"badge--dark--1HDhD badge--badge--2aFZ3 text--fontPos9--27Y9u text--_fontBase--YWDo0",yellow:"badge--yellow--2GDun badge--badge--2aFZ3 text--fontPos9--27Y9u text--_fontBase--YWDo0",white:"badge--white--u3iFb badge--badge--2aFZ3 text--fontPos9--27Y9u text--_fontBase--YWDo0"}}),
(function(e,E,L){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const r=L(2,1    ),t=L(470          );var s;!function(e){e[e.BOLD_GREEN=0]="BOLD_GREEN",e[e.LIGHT_GREEN=1]="LIGHT_GREEN",e[e.LIGHT_BLUE=2]="LIGHT_BLUE",e[e.BOLD_PURPLE=3]="BOLD_PURPLE",e[e.PURPLE=4]="PURPLE",e[e.GRAY=5]="GRAY",e[e.DARK=6]="DARK",e[e.YELLOW=7]="YELLOW",e[e.WHITE=8]="WHITE"}(s=E.BadgeColor||(E.BadgeColor={}));E.Badge=class extends r.PureComponent{render(){const e={[s.BOLD_GREEN]:t.boldGreen,[s.LIGHT_GREEN]:t.lightGreen,[s.LIGHT_BLUE]:t.lightBlue,[s.BOLD_PURPLE]:t.boldPurple,[s.PURPLE]:t.purple,[s.GRAY]:t.gray,[s.DARK]:t.dark,[s.YELLOW]:t.yellow,[s.WHITE]:t.white}[this.props.color];return r.createElement("span",{className:`${e} ${this.props.className||""}`},this.props.text)}}}),
(function(o,t,i){o.exports={src:'<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M7.333 8.25c0-2.025 1.642-3.667 3.667-3.667 2.025 0 3.667 1.642 3.667 3.667 0 2.025-1.642 3.667-3.667 3.667-2.025 0-3.667-1.642-3.667-3.667zm3.61 4.583c-5.73 0-9.257 5.02-7.943 9.167h16c1.432-4.583-2.328-9.167-8.057-9.167z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(c,l,t){c.exports={src:'<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M17.973 14.925C18.627 13.765 19 12.426 19 11c0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8 .812 0 1.595-.12 2.333-.346.224-.068.443-.145.657-.232 1.542-.621 2.845-1.71 3.736-3.089.084-.13.164-.262.24-.396l.006-.012zm-4.74 3.062c-.704.225-1.454.346-2.233.346-.779 0-1.529-.121-2.233-.346.11-.359.303-.681.557-.944.036-.037.073-.072.11-.107.414-.374.964-.603 1.566-.603.592 0 1.132.22 1.544.584l.032.029c.304.278.534.636.657 1.041zM3.667 11c0 1.071.23 2.088.642 3.006.31-.628.834-1.132 1.477-1.417C5.308 12.224 5 11.648 5 11c0-1.105.895-2 2-2 1.105 0 2 .895 2 2 0 1.104-.895 2-2 2-.57 0-1.093.205-1.498.545-.037.03-.073.062-.107.095-.326.308-.562.71-.667 1.161.795 1.31 1.989 2.35 3.413 2.954.147-.461.403-.874.737-1.209l.007-.007c.259-.257.563-.467.9-.616-.477-.366-.785-.942-.785-1.59 0-1.104.895-2 2-2 1.105 0 2 .896 2 2 0 .648-.308 1.224-.786 1.59.78.345 1.384 1.012 1.645 1.832 1.424-.603 2.618-1.644 3.413-2.954-.116-.5-.393-.937-.773-1.256l-.038-.031C16.06 13.192 15.553 13 15 13c-1.105 0-2-.895-2-2 0-.35.09-.678.247-.964-.275-.982-1.177-1.703-2.247-1.703-1.07 0-1.972.72-2.247 1.703-.125-.227-.294-.428-.494-.59.302-.678.848-1.223 1.527-1.523C9.308 7.557 9 6.98 9 6.333c0-1.104.895-2 2-2 1.105 0 2 .896 2 2 0 .648-.308 1.224-.786 1.59.679.3 1.225.845 1.527 1.523C14.085 9.167 14.523 9 15 9c1.105 0 2 .895 2 2 0 .648-.308 1.224-.786 1.59.643.284 1.167.788 1.477 1.416.413-.918.642-1.935.642-3.006 0-4.05-3.283-7.333-7.333-7.333-4.05 0-7.333 3.283-7.333 7.333zM15 12.333c.736 0 1.333-.597 1.333-1.333 0-.736-.597-1.333-1.333-1.333-.736 0-1.333.597-1.333 1.333 0 .736.597 1.333 1.333 1.333zm-8 0c.736 0 1.333-.597 1.333-1.333 0-.736-.597-1.333-1.333-1.333-.736 0-1.333.597-1.333 1.333 0 .736.597 1.333 1.333 1.333zm5.333-6c0 .737-.597 1.334-1.333 1.334-.736 0-1.333-.597-1.333-1.334C9.667 5.597 10.264 5 11 5c.736 0 1.333.597 1.333 1.333zm0 8c0 .737-.597 1.334-1.333 1.334-.736 0-1.333-.597-1.333-1.334 0-.736.597-1.333 1.333-1.333.736 0 1.333.597 1.333 1.333z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(v,c,h){v.exports={src:'<svg width="11" height="11" viewBox="0 0 11 11" xmlns="http://www.w3.org/2000/svg"><path d="M7 1H1v6h6V1zM1 0C.448 0 0 .448 0 1v6c0 .552.448 1 1 1h6c.552 0 1-.448 1-1V1c0-.552-.448-1-1-1H1zm2 9v1c0 .552.448 1 1 1h6c.552 0 1-.448 1-1V4c0-.552-.448-1-1-1H9v1h1v6H4V9H3z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,s){"use strict";var a=this&&this.__rest||function(t,e){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(s[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(s[a[i]]=t[a[i]])}return s};Object.defineProperty(e,"__esModule",{value:!0});const i=s(2,1    ),r=s(160                                  ),o=s(426           ),l=s(146                        ),p=s(469                                          ),n=s(471                            ),c=s(232                       ),h=s(472                                  ),d=s(473                                       ),m=s(474                             ),g={CIRCLE:`${o.avatar} ${o.circle}`,SQUARE:`${o.avatar} ${o.square}`};class u{constructor(t,e){this.lower=t,this.upper=e}contains(t){return t>=this.lower&&t<this.upper}}const b=new u(65,91),v=new u(97,123);class f extends i.Component{render(){const t={display:"flex",justifyContent:"center",color:this.props.tint||"white",backgroundColor:this.props.color||void 0},e=this.props.enabled||!0,{size:s}=this.props;s&&(t.width=`${s}px`,t.height=`${s}px`,t.lineHeight=`${s}px`,t.fontSize=`${s/2}px`);const a=this.props.shape||"CIRCLE",r=g[a];return i.createElement("span",{style:t,className:`${r} ${this.props.className||""} ${e?"":o.dim}`},this.props.children)}}class E extends i.Component{render(){return i.createElement(f,Object.assign({},this.props),this.props.initial)}}class C extends i.Component{render(){const{size:t}=this.props,e=t?`${t}px`:void 0,s=this.props.shape||"CIRCLE",a=g[s];return i.createElement(l.Svg,{className:`${a} ${this.props.className||""} ${this.props.enabled,""}`,style:this.props.style||{},svg:this.props.src,autosize:!0,width:e,height:e})}}var y;!function(t){t[t.LOADING=0]="LOADING",t[t.LOADED=1]="LOADED",t[t.ERROR=2]="ERROR"}(y=e.LoadingStatus||(e.LoadingStatus={}));class k extends i.Component{constructor(t){super(t),this.onAvatarImageLoad=(()=>{this.setState({loadingStatus:y.LOADED})}),this.onImageLoadError=(()=>{this.setState({loadingStatus:y.ERROR})}),this.state={loadingStatus:y.LOADING}}render(){let t={};const e=this.props.style||{};if(this.props.size){const s=`${this.props.size}px`;t.width=s,t.height=s,e.width=s,e.height=s}const s=this.props.enabled||!0,{loadingStatus:a}=this.state,r=this.props.shape||"CIRCLE",l=g[r];return a===y.LOADING&&(t.display="none"),i.createElement("div",{className:`${l} ${this.props.className} ${s?"":o.dim}`,style:Object.assign(Object.assign({},e),{position:"relative"})},a!==y.LOADED&&this.props.children,a!==y.ERROR&&i.createElement("img",{className:`${s?"":o.dim}`,style:t,src:this.props.imgUrl||void 0,onLoad:this.onAvatarImageLoad,onError:this.onImageLoadError}))}}e.ImageAvatar=k,e.FIGMA_COLORS=[r.figmaBrandWarmRed,r.figmaBrandCoral,r.figmaBrandGoldenYellow,r.figmaBrandGreen,r.figmaBrandBlueTint,r.figmaBrandBlue,r.figmaBrandVioletTint,r.figmaBrandViolet];const A=[b,v],O={colors:e.FIGMA_COLORS,getInitial:t=>t?t[0]:null,defaultFallbackAvatarSvg:h},x=["handle","name","email"],N=(t,e=O)=>(class extends i.Component{constructor(){super(...arguments),this.computeFallbackInitial=(()=>{const t=(this.props.initializableEntityProperties?this.props.initializableEntityProperties:x).map(t=>this.props.entity[t]),s=w(t);return s?e.getInitial(s):null}),this.computeFallbackColor=(()=>{const t=e.colors;try{if(!this.props.entity.id)return t[0];let e=this.props.entity.id.slice(this.props.entity.id.length-4);return t[parseInt(e)%t.length]}catch(s){return t[0]}})}render(){const s=this.props.fallbackInitial||this.computeFallbackInitial(),a=this.computeFallbackColor()||null,r=this.props.entity.img_url||this.props.entity.imageURL||null;return i.createElement(t,Object.assign({imgUrl:r,fallbackInitial:s,fallbackColor:this.props.defaultFallbackAvatarSvg&&!s?null:a,fallbackTintColor:this.props.defaultFallbackAvatarSvg?void 0:"white"},this.props,{defaultFallbackAvatarSvg:this.props.defaultFallbackAvatarSvg||e.defaultFallbackAvatarSvg}))}});class $ extends i.Component{renderFallback(){const{size:t,fallbackSvg:e}=this.props;if(e)return i.createElement(C,{size:t,src:e,shape:this.props.shape});if(this.props.hideFallbackInitial)return i.createElement(f,{size:t,className:this.props.className,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape});const s=this.props.fallbackInitial;return s?i.createElement(E,{size:t,className:this.props.className,initial:s,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape}):this.props.defaultFallbackAvatarSvg?i.createElement(C,{className:this.props.className,size:t,src:this.props.defaultFallbackAvatarSvg,style:{fill:this.props.fallbackTintColor||void 0,background:this.props.fallbackColor||void 0},enabled:this.props.enabled,shape:this.props.shape}):i.createElement(f,{size:t,className:this.props.className,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape})}render(){return!this.props.imgUrl||this.props.imgUrl.startsWith("https://www.gravatar.com/avatar/")?this.renderFallback():i.createElement(k,{size:this.props.size||null,imgUrl:this.props.imgUrl,className:`${this.props.className||""}`,enabled:this.props.enabled,shape:this.props.shape},this.renderFallback())}}$.displayName="Avatar",e.Avatar=N($,Object.assign(Object.assign({},O),{getInitial:t=>{const e=t.charCodeAt(0);return A.some(t=>t.contains(e))?t[0]:null}}));const I=N($,Object.assign(Object.assign({},O),{defaultFallbackAvatarSvg:d,getInitial:t=>t.charCodeAt(0)===t.codePointAt(0)?t[0]:null}));e.TeamAvatar=(t=>i.createElement(I,Object.assign({shape:"SQUARE"},t))),e.AvatarWithBell=(t=>i.createElement(S,{showBell:!0,size:t.size},i.createElement(e.Avatar,Object.assign({},t))));class S extends i.Component{render(){const t=this.props.size||0,e=Math.round(t/4)+1,s=Math.round(e/5);return i.createElement("span",{className:o.avatarBellWrapper,style:t?{width:`${t}px`,height:`${t}px`}:void 0},this.props.showBell&&i.createElement("div",{className:o.bell,style:t?{width:`${e}px`,height:`${e}px`,top:`-${s}px`,right:`-${s}px`}:void 0}),this.props.children)}}e.AvatarBellWrapper=S,S.displayName="AvatarBellWrapper";const w=(t=[],e="?")=>t.find(t=>t)||e,L=(t,e)=>(class extends i.Component{constructor(){super(...arguments),this.onClick=(t=>{this.props.onClick&&this.props.onClick(t,this.props.entity)})}render(){const s=`avatar_${this.props.entity.id}_tooltip_proxy`;return i.createElement("div",{className:`${o.avatarWithHandle} ${this.props.onClick?o.clickableAvatarWithHandle:""} ${this.props.enabled?o.dimAvatarWithHandle:""} ${this.props.className||""}`,onClick:this.props.onClick?this.onClick:void 0,"data-tooltip-proxy-element-id":s},i.createElement("div",{id:s,"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":this.props["data-tooltip"],"data-tooltip-offset-x":this.props["data-tooltip-offset-x"],"data-tooltip-offset-y":this.props["data-tooltip-offset-y"]},i.createElement(t,Object.assign({},this.props,{className:void 0}))),i.createElement(e,Object.assign({},this.props)),this.props.children)}});class R extends i.Component{render(){return i.createElement("div",{className:o.info,title:this.props.tooltipText||void 0},!this.props.hideHandle&&i.createElement("div",{className:o.handleRow},this.props.text.length>0&&i.createElement("span",{className:o.handle},this.props.text),this.props.showIsMe&&i.createElement("span",{className:o.isMe},"(You)"),this.props.badge&&i.createElement(n.Badge,Object.assign({},this.props.badge))),this.props.email&&i.createElement("div",{className:this.props.onEmailClick?o.emailHover:"",onClick:this.props.onEmailClick},i.createElement("div",{className:o.email},this.props.email)))}}const T=t=>(class extends i.Component{render(){const e=[this.props.overrideHandle,this.props.entity.handle,this.props.entity.name];this.props.fallbackToEmail&&e.push(this.props.entity.email);const s=w(e,this.props.defaultText),r=`${this.props.hideHandle?"":s}${this.props.includeUserEmailAddress?`\n${this.props.entity.email}`:""}`,o=this.props,{onEmailClick:l}=o,p=a(o,["onEmailClick"]);return i.createElement(t,Object.assign({text:s,email:this.props.includeUserEmailAddress?this.props.entity.email:null,tooltipText:this.props.showTooltip?r:null,onEmailClick:this.props.onEmailClick},p))}});e.AvatarWithHandle=L(e.Avatar,T(R)),e.TeamAvatarWithHandle=L(e.TeamAvatar,T(R));var _,j;e.CopyableAvatar=(_=e.AvatarWithHandle,(j=class extends i.PureComponent{constructor(){super(...arguments),this.onCopyEmailToClipboard=(t=>{t.stopPropagation(),this.props.entity.email&&this.props.dispatch(p.copyToClipboard.copyEmailsToClipboard({emailList:[this.props.entity.email]}))})}render(){return i.createElement(_,Object.assign({},this.props,{onEmailClick:this.onCopyEmailToClipboard,emailLinkIcon:m,includeUserEmailAddress:!0}))}}).displayName="Copyable",j)}),
(function(l,o,e){l.exports={src:'<svg width="25" height="24" viewBox="0 0 25 24" xmlns="http://www.w3.org/2000/svg"><path d="M24.95 0h-24v24h24V0z" fill-rule="nonzero" fill-opacity="1" fill="#18a0fb" stroke="none"/><path d="M9.45 6.066L18.353 12l-8.901 5.934V6.066zm1 1.868v8.132L16.55 12l-6.1-4.066z" fill-rule="evenodd" fill-opacity="1" fill="#f8f8f8" stroke="none"/></svg>'}}),
(function(h,v,H){h.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M4 .5V3h4V.5h1V3h2.5v1H9v4h2.5v1H9v2.5H8V9H4v2.5H3V9H.5V8H3V4H.5V3H3V.5h1zM8 8V4H4v4h4z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(h,v,z){h.exports={src:'<svg width="34" height="22" viewBox="0 0 34 22" xmlns="http://www.w3.org/2000/svg"><path d="M1 1V.5H.5V1H1zm19.5 0h.5V.5h-.5V1zm0 20v.5h.5V21h-.5zM1 21H.5v.5H1V21zm32-10l.354.354.374-.375-.396-.353L33 11zM1 1.5h19.5v-1H1v1zm19.5 19H1v1h19.5v-1zm-19 .5V1h-1v20h1zm22-10c0 1.657-1.343 3-3 3v1c2.21 0 4-1.79 4-4h-1zm-3 3c-1.657 0-3-1.343-3-3h-1c0 2.21 1.79 4 4 4v-1zm-3-3c0-1.657 1.343-3 3-3V7c-2.21 0-4 1.79-4 4h1zm3-3c1.657 0 3 1.343 3 3h1c0-2.21-1.79-4-4-4v1zm3.5 3.5h9v-1h-9v1zm8.646-.854l-4.5 4.5.708.708 4.5-4.5-.708-.707zm.686-.02l-4.5-4-.664.748 4.5 4 .664-.748zM20 1v6.5h1V1h-1zm0 13.5V21h1v-6.5h-1z" fill-rule="nonzero" fill-opacity="1" fill="#fcfcfc" stroke="none"/></svg>'}}),
(function(h,v,l){h.exports={src:'<svg width="32" height="29" viewBox="0 0 32 29" xmlns="http://www.w3.org/2000/svg"><path d="M21 6H11v17h10V6zM10 5v19h12V5H10z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/><path d="M22 24h2.958v-1H22v1zm0-18h2.958V5H22v1zm4.042-1h3.25v1h-3.25V5zm4.333 0H32v1.425h-1V6h-.625V5zM32 7.375v2.85h-1v-2.85h1zm0 3.8v2.85h-1v-2.85h1zm0 3.8v2.85h-1v-2.85h1zm0 3.8v2.85h-1v-2.85h1zm0 3.8V24h-1.625v-1H31v-.425h1zM29.292 24h-3.25v-1h3.25v1z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M21 1H1v27h20V1zM0 0v29h22V0H0z" fill-rule="evenodd" fill-opacity="1" fill="#828282" stroke="none"/></svg>'}}),
(function(h,v,l){h.exports={src:'<svg width="29" height="32" viewBox="0 0 29 32" xmlns="http://www.w3.org/2000/svg"><path d="M23 21V11H6v10h17zm1-11H5v12h19V10z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/><path d="M6 22v2.959H5V22h1zm17 0h1v2.959h-1V22zm1 4.041v3.25h-1v-3.25h1zm0 4.334V32h-1.425v-1H23v-.625h1zM21.625 32h-2.85v-1h2.85v1zm-3.8 0h-2.85v-1h2.85v1zm-3.8 0h-2.85v-1h2.85v1zm-3.8 0h-2.85v-1h2.85v1zm-3.8 0H5v-1.625h1V31h.425v1zM5 29.291v-3.25h1v3.25H5z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M28 21V1H1v20h27zm1-21H0v22h29V0z" fill-rule="evenodd" fill-opacity="1" fill="#828282" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="22" height="29" viewBox="0 0 22 29" xmlns="http://www.w3.org/2000/svg"><path d="M21 1H1v27h20V1zM0 0v29h22V0H0z" fill-rule="evenodd" fill-opacity="1" fill="#828282" stroke="none"/><path d="M5 4h12v4H5V4zm0 6h12v4H5v-4zm0 6h12v4H5v-4zm0 6h12v4H5v-4z" fill-rule="nonzero" fill-opacity="1" fill="#828282" stroke="none"/><path d="M0 0h22v5H0V0z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=o(2,1    ),a=o(420              ),n=o(421                                ),l=o(422                                        ),r=o(146                        ),s=o(112          ),p=o(123         ),c=o(214         ),d=o(264                                  ),m=o(232                       ),T=o(232                       ),u=o(147                                            ),E=o(262                                     ),O=o(423            ),g=o(425                                                    ),h=o(475                            ),_=o(228         ),I=180,N=a.pxToInt(l.tooltipArrowHeight),y=a.pxToInt(l.tooltipDist),f=1e3,R=300;e.getAriaLabel=function(t){switch(t["data-tooltip-type"]){case T.TooltipType.TEXT:return t["data-tooltip"];case T.TooltipType.LOOKUP:return E.defaultStringsRaw[t["data-tooltip"]]}return""},e.TooltipView=(t=>{if(!t.visible)return null;const e=document.querySelectorAll(`[data-tooltip-key=${t.tooltipKey}]`)[0];if(!e)return null;const o=P(e);return o?i.createElement(S,{tooltip:Object.assign(Object.assign({},o),{state:m.TooltipState.SHOWING}),keyboardShortcuts:{},strings:E.defaultStringsRaw}):null}),e.TooltipView.displayName="TooltipView";class S extends i.Component{constructor(t){super(t),this.contentRef=(t=>{if(t){const e=t.cloneNode(!0);e.setAttribute("style","display: block; visibility: hidden; position: fixed"),t.parentElement.appendChild(e);let o,i=this.props.tooltip.maxWidth?this.props.tooltip.maxWidth:I,a=e.offsetHeight+1;const n=this.props.tooltip.target,l=n&&n.kind===m.TargetKind.ELEMENT&&n.data&&n.data.unconstrainWidth;o=l?e.offsetWidth+1:e.offsetWidth+1<i?e.offsetWidth:i,l||(e.style.width=`${o}px`,a=e.offsetHeight+1);const r=this._pointAt();switch(this.props.tooltip.position){case m.TooltipPosition.ABOVE:case m.TooltipPosition.BELOW:{this.props.tooltip.position===m.TooltipPosition.ABOVE?r.y-=e.offsetHeight+N:r.y+=N,r.x-=o/2,r.x=Math.max(r.x,y),r.y=Math.max(r.y,y);const t=r.x+o,i=window.innerWidth-y;t>i&&(r.x=i-o);break}case m.TooltipPosition.RIGHT:r.x+=N,r.y-=a/2,r.x=Math.max(r.x,y),r.y=Math.max(r.y,y);break;case m.TooltipPosition.LEFT:r.x-=N+o,r.y-=a/2,r.x=Math.max(r.x,y),r.y=Math.max(r.y,y)}const s=l?o:i;t.setAttribute("style",`left: ${0|r.x}px; top: ${0|r.y}px; max-width: ${s}px`),e.remove()}}),this.renderTargetElement=(t=>{switch(t.key){case m.TooltipSpecialKey.USER_INFO:{const e=t.data.userImgUrl,o=t.data.userHandle;return i.createElement("div",{className:O.row},i.createElement("div",null,i.createElement(h.Avatar,{size:30,entity:{id:t.data.userId,img_url:e,handle:o}})),i.createElement("span",{className:O.tooltipName},p.truncateText(o,25)))}case m.TooltipSpecialKey.VIEW_USER_PROFILE:{const e=t.data.profileUrl,o=t.data.userHandle;return i.createElement("a",{href:e,target:"_blank",rel:"noopener",className:O.viewUserProfile},i.createElement("span",{className:O.handle},o),i.createElement("div",null,"View Profile"))}case m.TooltipSpecialKey.STYLE_INFO:{const e=t.data.styleName,o=t.data.styleDescription,a=t.data.styleFileName;return i.createElement("div",{className:O.column},e&&i.createElement("div",null,e),o&&i.createElement("div",null,o),a&&i.createElement("div",{className:O.italicText},"in ",a))}case m.TooltipSpecialKey.PROTOTYPE_ORIGIN_INFO:return i.createElement("div",{className:O.row},i.createElement(r.Svg,{className:O.prototypeOriginInfoIcon,svg:S.PROTOTYPE_ORIGIN_INFO_ICON,useOriginalSrcFills:!0}),i.createElement("span",{className:O.prototypeInfoText},"Select the frame your prototype will begin with."));case m.TooltipSpecialKey.PROTOTYPE_NO_ORIGIN_FRAME_INFO:return i.createElement("div",{className:O.row},i.createElement(r.Svg,{className:O.prototypeNoOriginFrameInfoIcon,svg:S.PROTOTYPE_NO_ORIGIN_FRAME_INFO_ICON}),i.createElement("span",{className:O.prototypeInfoText},"A prototype needs to have at least one frame."));case m.TooltipSpecialKey.PROTOTYPE_ACTION_INFO:return i.createElement("div",{className:O.row},i.createElement(r.Svg,{className:O.prototypeDestinationInfoIcon,svg:S.PROTOTYPE_ACTION_INFO_ICON}),i.createElement("span",{className:O.prototypeInfoText},"Use the circular node to connect the selected object to another frame."));case m.TooltipSpecialKey.PROTOTYPE_SCROLL_HORIZONTAL_INFO:case m.TooltipSpecialKey.PROTOTYPE_SCROLL_VERTICAL_INFO:return i.createElement("div",{className:O.row},i.createElement(r.Svg,{className:O.prototypeScrollInfoIcon,useOriginalSrcFills:!0,svg:t.key===m.TooltipSpecialKey.PROTOTYPE_SCROLL_HORIZONTAL_INFO?S.PROTOTYPE_SCROLL_HORIZONTAL_INFO_ICON:S.PROTOTYPE_SCROLL_VERTICAL_INFO_ICON}),i.createElement("span",{className:O.prototypeInfoText},"For scrolling to work on this frame, the content needs to be bigger than the frame."));case m.TooltipSpecialKey.ORG_GUEST_INFO:return i.createElement("div",{className:O.interactiveTooltipContainer},i.createElement("p",null,"Guests in Organizations are members who do not have an email address with your Organization’s domain."),i.createElement("p",null,i.createElement(u.Link,{href:"https://help.figma.com/hc/en-us/articles/360039960434",target:"_blank",rel:"noopener"},"Learn more...")));case m.TooltipSpecialKey.ORG_UPGRADE_USER_INFO:{const e=t.data.teamNames;return i.createElement("div",{className:O.row},i.createElement("span",null,i.createElement("strong",null,"On teams: "),e))}case m.TooltipSpecialKey.PERMISSIONS_MODAL_RESTRICTED_USER_SELF:return i.createElement("div",{className:O.interactiveTooltipContainer},i.createElement("p",null,"Your account is ",i.createElement("span",{className:O.important},"Restricted"),". You will be able to ",i.createElement("span",{className:O.important},"Edit")," when your account is upgraded."),i.createElement("p",null,i.createElement(u.Link,{href:"/settings"},"Request Upgrade...")));case m.TooltipSpecialKey.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER:return i.createElement("div",{className:O.interactiveTooltipContainer},i.createElement("p",null,"This person has a ",i.createElement("span",{className:O.important},"Restricted")," account. They will be able to ",i.createElement("span",{className:O.important},"Edit")," files when their account is upgraded."));case m.TooltipSpecialKey.FIX_POSITION_INFO:return i.createElement("div",{className:O.row},i.createElement(r.Svg,{className:O.fixPositionInfoIcon,svg:S.FIX_POSITION_INFO_ICON,useOriginalSrcFills:!0}),i.createElement("span",{className:O.fixPositionInfoText},"Keep the object in place when scrolling in prototypes."));default:return i.createElement("div",null)}}),this.renderContent=(()=>{const t=this.props.tooltip;if(!t.target)return i.createElement("div",null);switch(t.target.kind){case m.TargetKind.TEXT:return i.createElement("span",{className:O.text},t.target.text);case m.TargetKind.KEY:const e=d.getString(this.props.strings,p.camelCasedToDashed(t.target.key)),o=d.getKeyboardShortcut(this.props.keyboardShortcuts,p.camelCasedToDashed(t.target.key));return o?i.createElement("span",{className:O.textWithShortcut},i.createElement("span",null,e),i.createElement(g.KeyboardShortcut,{shortcut:o,className:O.shortcut})):i.createElement("span",{className:O.text},e);case m.TargetKind.ELEMENT:return this.renderTargetElement(t.target)}})}_pointAt(){const t=this.props.tooltip.targetRect;if(!t)return new c.Vector(0,0);switch(this.props.tooltip.position){case m.TooltipPosition.ABOVE:return new c.Vector(t.left+t.width/2,t.top);case m.TooltipPosition.BELOW:return new c.Vector(t.left+t.width/2,t.bottom);case m.TooltipPosition.RIGHT:return new c.Vector(t.right,t.top+t.height/2);case m.TooltipPosition.LEFT:return new c.Vector(t.left,t.top+t.height/2)}}render(){if(this.props.tooltip.state!==m.TooltipState.SHOWING)return i.createElement("div",null);const t=Math.random();let e,o=null;const a=this._pointAt();switch(this.props.tooltip.position){case m.TooltipPosition.ABOVE:o={left:a.x-N,top:Math.floor(a.y-N)},e=O.downArrow;break;case m.TooltipPosition.BELOW:o={left:a.x-N,top:a.y},e=O.upArrow;break;case m.TooltipPosition.RIGHT:o={left:a.x,top:a.y-N},e=O.leftArrow;break;case m.TooltipPosition.LEFT:o={left:a.x-N-1,top:a.y-N},e=O.rightArrow}return i.createElement("div",{className:this.props.tooltip.interactive?"":O.notInteractive},i.createElement("div",{className:e,style:o,"data-is-the-tooltip":!0}),i.createElement("div",{key:t,className:O.content,ref:this.contentRef,"data-is-the-tooltip":!0},this.renderContent()))}}function P(t,e){const o=t.getAttribute("data-tooltip-proxy-element-id");if(o){const e=document.getElementById(o);e&&(t=e)}if(t.getAttribute("data-is-the-tooltip"))return(null==e?void 0:e.tooltip)?{target:e.tooltip.target,position:e.tooltip.position,targetRect:e.tooltip.targetRect}:null;const i=(t,e)=>t?~~t:e;let a=!!t.getAttribute("data-tooltip-show-immediately"),n=!!t.getAttribute("data-tooltip-show-above"),l=i(t.getAttribute("data-tooltip-timeout-delay"),f),r=!!t.getAttribute("data-tooltip-interactive"),p=!!t.getAttribute("data-tooltip-show-left"),c=!!t.getAttribute("data-tooltip-show-right");const d=!!t.getAttribute("data-tooltip-ignore-mouse");let u=i(t.getAttribute("data-tooltip-max-width"),I);const E=i(t.getAttribute("data-tooltip-offset-x"),0),O=i(t.getAttribute("data-tooltip-offset-y"),0);let g=null;function h(){return null==g&&((g=s.figmaClientRect(t.getBoundingClientRect())).left+=E,g.right+=E,g.bottom+=O,g.top+=O),g}if(null==e?void 0:e.dropdownShown){let e=t.getAttribute("data-dropdown-tooltip");if(e){const t=h();let o=m.TooltipPosition.RIGHT;const i=200;return(p||t.left+t.width>window.innerWidth-i)&&(o=m.TooltipPosition.LEFT),{target:{kind:m.TargetKind.KEY,key:e},position:o,targetRect:t,timeoutDelay:l,showImmediately:a,interactive:r,maxWidth:u,ignoreMouse:d}}}else{const e=t.getAttribute("data-tooltip-type"),o=t.getAttribute("data-tooltip");if(!o)return null;const i=h();switch(e){case T.TooltipType.LOOKUP:{let t=m.TooltipPosition.BELOW;return p?t=m.TooltipPosition.LEFT:(n||window.innerHeight-i.bottom<100)&&(t=m.TooltipPosition.ABOVE),{target:{kind:m.TargetKind.KEY,key:o},position:t,targetRect:i,timeoutDelay:l,showImmediately:a,interactive:r,maxWidth:u,ignoreMouse:d}}case T.TooltipType.TEXT:{let t=m.TooltipPosition.BELOW;return p?t=m.TooltipPosition.LEFT:c?t=m.TooltipPosition.RIGHT:n&&(t=m.TooltipPosition.ABOVE),{target:{kind:m.TargetKind.TEXT,text:o},position:t,targetRect:i,timeoutDelay:l,showImmediately:a,interactive:r,maxWidth:u,ignoreMouse:d}}case T.TooltipType.SPECIAL:{const e=t.getAttribute("data-tooltip");_.assertDev(-1!==Object.values(m.TooltipSpecialKey).indexOf(e),"missing/invalid tooltip key");let o={kind:m.TargetKind.ELEMENT,key:e};if(e===m.TooltipSpecialKey.USER_INFO){const i=t.getAttribute("data-tooltip-user-img-url"),a=t.getAttribute("data-tooltip-user-handle"),n="true"===t.getAttribute("data-tooltip-unconstrain-width");o={kind:m.TargetKind.ELEMENT,key:e,data:{userImgUrl:i,userHandle:a,unconstrainWidth:n}}}else if(e===m.TooltipSpecialKey.VIEW_USER_PROFILE){const i=t.getAttribute("data-tooltip-user-profile-url"),a=t.getAttribute("data-tooltip-user-handle"),n="true"===t.getAttribute("data-tooltip-unconstrain-width");o={kind:m.TargetKind.ELEMENT,key:e,data:{profileUrl:i,userHandle:a,unconstrainWidth:n}}}else if(e===m.TooltipSpecialKey.ORG_UPGRADE_USER_INFO){const i=t.getAttribute("data-tooltip-team-names");o={kind:m.TargetKind.ELEMENT,key:e,data:{teamNames:i}}}else if(e===m.TooltipSpecialKey.STYLE_INFO){const i=t.getAttribute("data-tooltip-style-name"),a=t.getAttribute("data-tooltip-style-description"),n=t.getAttribute("data-tooltip-style-file-name"),l="true"===t.getAttribute("data-tooltip-unconstrain-width");o={kind:m.TargetKind.ELEMENT,key:e,data:{styleName:i,styleDescription:a,styleFileName:n,unconstrainWidth:l}}}else-1!==[m.TooltipSpecialKey.PROTOTYPE_ORIGIN_INFO,m.TooltipSpecialKey.PROTOTYPE_ACTION_INFO,m.TooltipSpecialKey.PROTOTYPE_SCROLL_HORIZONTAL_INFO,m.TooltipSpecialKey.PROTOTYPE_SCROLL_VERTICAL_INFO,m.TooltipSpecialKey.ORG_GUEST_INFO,m.TooltipSpecialKey.PERMISSIONS_MODAL_RESTRICTED_USER_SELF,m.TooltipSpecialKey.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER,m.TooltipSpecialKey.FIX_POSITION_INFO].indexOf(e)&&(o={kind:m.TargetKind.ELEMENT,key:e,data:{unconstrainWidth:!0}});let s=m.TooltipPosition.BELOW;return p?s=m.TooltipPosition.LEFT:c?s=m.TooltipPosition.RIGHT:n&&(s=m.TooltipPosition.ABOVE),{target:o,position:s,targetRect:i,timeoutDelay:l,showImmediately:a,interactive:r,maxWidth:u,ignoreMouse:d}}}}return null}e.MouseOverTooltipView=S,S.displayName="MouseOverTooltipView",S.PROTOTYPE_ORIGIN_INFO_ICON=o(476                                                ),S.PROTOTYPE_NO_ORIGIN_FRAME_INFO_ICON=o(477                                            ),S.PROTOTYPE_ACTION_INFO_ICON=o(478                                                                    ),S.PROTOTYPE_SCROLL_HORIZONTAL_INFO_ICON=o(479                                                                     ),S.PROTOTYPE_SCROLL_VERTICAL_INFO_ICON=o(480                                                                   ),S.FIX_POSITION_INFO_ICON=o(481                                                                ),e.initializeTooltipListener=function(t){const e=()=>{const e=t.getState().tooltip;return e.state===m.TooltipState.SHOWING||e.state===m.TooltipState.PENDING};document.addEventListener("mouseleave",()=>{e()&&t.dispatch(n.tooltip.hide())}),document.addEventListener("keydown",()=>{e()&&t.dispatch(n.tooltip.hide())}),document.addEventListener("wheel",()=>{e()&&t.dispatch(n.tooltip.hide())}),document.addEventListener("pointerlockchange",()=>{e()&&t.dispatch(n.tooltip.hide())}),document.addEventListener("mousemove",e=>{let o=t.getState(),i=e.target;if(!i||1!==i.nodeType)return;if(document.pointerLockElement)return;let a=null;for(;i;){if(a=P(i,o)){if(a.ignoreMouse)return;break}i=i.parentElement}o.tooltip&&(a?a.position===o.tooltip.position&&s.clientRectsEqual(a.targetRect,o.tooltip.targetRect)?o.tooltip.state===m.TooltipState.SHOWING&&null!==o.tooltip.timeoutID&&t.dispatch(n.tooltip.cancelHideAfterDelay()):o.tooltip.state===m.TooltipState.SHOWING||a.showImmediately?t.dispatch(n.tooltip.showImmediately({target:a.target,targetRect:a.targetRect,position:a.position,interactive:a.interactive,maxWidth:a.maxWidth})):t.dispatch(n.tooltip.showAfterDelay({target:a.target,targetRect:a.targetRect,position:a.position,timeoutDelay:a.timeoutDelay||f,interactive:a.interactive,maxWidth:a.maxWidth})):o.tooltip.state===m.TooltipState.PENDING?t.dispatch(n.tooltip.hide()):o.tooltip.state===m.TooltipState.SHOWING&&t.dispatch(n.tooltip.hideAfterDelay({timeoutDelay:R})))},!0)}}),
(function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=s(2,1    ),i=s(6,1        ),n=s(141              ),p=s(138      ),r=s(157                                   ),a=s(234                                                    ),l=s(137                                    ),d=s(482                              );class c extends n.PureComponent{constructor(e){super(e),this.ref=(e=>{e&&(this.el=i.findDOMNode(e))}),this.documentKeyDown=(e=>{e.keyCode===p.Key.TAB&&this.setState({isFocused:!0})}),this.onKeyDown=n.keyboardEvent(this,"keydown",e=>{e.keyCode===p.Key.ENTER?(this.props.onMouseDown&&this.props.onMouseDown(e),this.props.onClick&&this.props.onClick(e)):e.keyCode===p.Key.ESCAPE&&this.el&&this.el.blur()}),this.onMouseDown=(e=>{this.props.onMouseDown&&this.props.onMouseDown(e),this.setState({isFocused:!1})}),this.onMouseUp=(e=>{this.el.blur()}),this.state={isFocused:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.documentKeyDown)}render(){let e=this.props.disabled?r.iconButtonDisabled:r.iconButtonEnabled;return this.props.selected&&(e=r.iconButtonSelected,this.props.selectedClassName&&(e+=` ${this.props.selectedClassName}`)),this.props.className&&(e+=` ${this.props.className}`),t.createElement(a.SvgWithFallback,{ref:this.ref,tabIndex:null!=this.props.tabIndex?this.props.tabIndex:this.props.disabled?-1:0,className:e,svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,onKeyDown:this.props.disabled?void 0:this.onKeyDown,onMouseDown:this.props.disabled?void 0:this.onMouseDown,onMouseUp:this.onMouseUp,onClick:this.props.disabled?void 0:this.props.onClick,href:this.props.disabled?void 0:this.props.href,target:this.props.target,"data-tooltip-type":this.props.tooltipForScreenReadersOnly?null:this.props["data-tooltip-type"],"data-tooltip":this.props.tooltipForScreenReadersOnly?null:this.props["data-tooltip"],"aria-label":d.getAriaLabel(this.props),"data-onboarding-key":this.props["data-onboarding-key"],recordingKey:this.props.recordingKey,useOriginalSrcFills:this.props.useOriginalSrcFills})}}o.IconButton=c,c.displayName="IconButton",o.IconButtonTracked=l.asTrackedClickable(c)}),
(function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const e=o(2,1    ),i=o(419                  ),a=o(483                         ),p=o(234                                                    );class d extends a.IconButton{render(){let t=this.props.toggled?i.toggled:i.untoggled;return this.props.disabled&&(t+=` ${i.disabled}`),this.props.className&&(t+=` ${this.props.className}`),e.createElement(p.SvgWithFallback,{ref:this.ref,tabIndex:null!=this.props.tabIndex?this.props.tabIndex:this.props.disabled?-1:0,className:t,disabled:this.props.disabled,svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,onKeyDown:this.props.disabled?void 0:this.onKeyDown,onMouseDown:this.props.disabled?void 0:this.onMouseDown,onMouseUp:this.onMouseUp,onClick:this.props.disabled?void 0:this.props.onClick,target:this.props.target,"data-tooltip-type":this.props["data-tooltip-type"],"data-tooltip":this.props["data-tooltip"],"data-onboarding-key":this.props["data-onboarding-key"],"data-test-id":this.props.dataTestId,recordingKey:this.props.recordingKey})}}s.OptionButton=d,d.displayName="OptionButton"}),
(function(o,t,e){o.exports={_optionButton:"view_mode_toggle--_optionButton--21kTT",optionButtonDisabled:"view_mode_toggle--optionButtonDisabled--1bEdu view_mode_toggle--_optionButton--21kTT",optionButtonUntoggled:"view_mode_toggle--optionButtonUntoggled--260VM view_mode_toggle--_optionButton--21kTT",optionButtonToggled:"view_mode_toggle--optionButtonToggled--4wf-t view_mode_toggle--_optionButton--21kTT",listViewIcon:"view_mode_toggle--listViewIcon--tLpbE"}}),
(function(v,t,e){v.exports={src:'<svg width="14" height="12" viewBox="0 0 14 12" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 5.5h14v1H0v-1zM14 11H0v1h14v-1z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(h,v,t){h.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M1 1h3v3H1V1zM0 0h5v5H0V0zm1 8h3v3H1V8zM0 7h5v5H0V7zm11-6H8v3h3V1zM8 0H7v5h5V0H8zm0 8h3v3H8V8zM7 7h5v5H7V7z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,v,e){t.exports={src:'<svg width="14" height="11" viewBox="0 0 14 11" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 5h14v1H0V5zm14 5H0v1h14v-1z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t(2,1    ),s=t(43,1         ),n=t(117                                ),a=t(232                       ),l=t(113                                     ),d=t(484                                                                      ),p=t(485                     ),r=t(486                                             ),w=t(487                                             ),c=t(488                                                );class g extends o.PureComponent{constructor(){super(...arguments),this.onGridClick=(()=>{this.props.onViewModeChange(n.TileViewMode.GRID)}),this.onListClick=(()=>{this.props.onViewModeChange(n.TileViewMode.LIST)})}render(){const e=this.props.viewMode===n.TileViewMode.LIST,i=!!this.props.disabled,t=i?p.optionButtonDisabled:p.optionButtonToggled,s=i?p.optionButtonDisabled:p.optionButtonUntoggled;return o.createElement("div",{className:p.listViewIcon},o.createElement(d.OptionButton,{className:e?s:t,svg:w,"data-tooltip-type":a.TooltipType.TEXT,"data-tooltip":"Show as Grid",toggled:!e,onClick:this.onGridClick,disabled:i}),o.createElement(d.OptionButton,{className:e?t:s,svg:r,fallbackSvg:c,"data-tooltip-type":a.TooltipType.TEXT,"data-tooltip":"Show as List",toggled:e,onClick:this.onListClick,disabled:i}))}}i.ViewModeToggle=g;i.StatefulViewModeToggle=class extends o.PureComponent{constructor(e){super(e),this.onViewModeChange=(e=>{this.setState({viewMode:e},()=>{this.props.onViewModeChange(e)})}),this.state={viewMode:e.initialViewMode}}render(){return o.createElement(g,{viewMode:this.state.viewMode,onViewModeChange:this.onViewModeChange})}},i.PersistedViewModeToggle=function(e){var i;const t=s.useDispatch(),n=null!==(i=s.useSelector(i=>i.viewBarViewModeOptionByView[e.viewId]))&&void 0!==i?i:e.defaultOptions.viewMode;return o.createElement(g,{viewMode:n,onViewModeChange:i=>{t(l.fileBrowser.setViewBarViewModeOptionForView({viewId:e.viewId,viewMode:i}))},disabled:e.disabled})}}),
(function(e,i,r){e.exports={container:"view_bar--container--24m40",leftSide:"view_bar--leftSide--2c0jw",center:"view_bar--center--3uH_9",rightSide:"view_bar--rightSide--2rOlY",listViewContainer:"view_bar--listViewContainer--1Qeyc view_bar--container--24m40",toggle:"view_bar--toggle--3bAsw",sortableField:"view_bar--sortableField--2JhI0",settingsSpacer:"view_bar--settingsSpacer--1Ji8u",hiddenTabletField:"view_bar--hiddenTabletField--1F2P5",hiddenMobileField:"view_bar--hiddenMobileField--1exEU"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),i=s(117                                ),r=s(403                                ),n=s(406                           ),a=s(418                                   ),l=s(489                 ),d=s(490             );class p extends o.PureComponent{render(){return o.createElement("div",{className:`${d.container} ${this.props.className||""}`},o.createElement("div",{className:d.leftSide},this.props.leftSide),!!this.props.center&&o.createElement("div",{className:d.center},this.props.center),o.createElement("div",{className:d.rightSide},this.props.rightSide))}}t.BasicViewBar=p,p.displayName="BasicViewBar";let c=0;t.ViewBar=class extends o.PureComponent{constructor(){super(...arguments),this.dropdownId=`view-bar-${c++}`,this.setViewMode=(e=>{this.props.onChangeViewModeOption&&this.props.onChangeViewModeOption(e)}),this.setSortKey=(e=>{if(this.props.onChangeSortOptions){const t=this.props.options;let s;s=t.sortMode.sortKey===e?this.props.defaultSortKey&&t.viewMode===i.TileViewMode.LIST&&t.sortMode.sortDesc?{sortKey:this.props.defaultSortKey,sortDesc:!1}:Object.assign(Object.assign({},t.sortMode),{sortDesc:!t.sortMode.sortDesc}):Object.assign(Object.assign({},t.sortMode),{sortKey:e}),this.props.onChangeSortOptions(s)}})}renderViewModeToggle(){return o.createElement(l.StatefulViewModeToggle,{initialViewMode:this.props.options.viewMode,onViewModeChange:this.setViewMode})}render(){const e=this.props.options;return o.createElement(o.Fragment,null,e.viewMode===i.TileViewMode.GRID?o.createElement(p,{leftSide:o.createElement(a.TileSortFilterDropdown,{dropdownId:this.dropdownId,values:this.props.sortKeys,valuesToDisplayText:this.props.sortKeyDescriptions[e.viewMode],checkedValue:this.props.options.sortMode.sortKey,onChange:this.setSortKey,includeSortDirection:!0,tileSortValues:a.tileSortDirectionsStaticProps.values,currentDirection:e.sortMode.sortDesc?i.TileSortDir.DESC:i.TileSortDir.ASC}),rightSide:this.renderViewModeToggle()}):o.createElement("div",{className:`${d.listViewContainer} ${this.props.listHeaderClassName||""}`},this.props.listSortKeys.map(t=>{if(t===r.ViewOptions.SPACER)return o.createElement("div",null);const s=-1===this.props.mobileListSortKeys.indexOf(t),i=-1===this.props.tabletListSortKeys.indexOf(t),a=`${s?d.hiddenMobileField:""} ${i?d.hiddenTabletField:""} ${d.sortableField}`;return o.createElement(n.SortableField,{key:t,className:a,isDescending:e.sortMode.sortKey===t&&e.sortMode.sortDesc,hasArrow:e.sortMode.sortKey===t,field:t,sortBy:this.setSortKey},this.props.sortKeyDescriptions[e.viewMode][t])}),this.props.settingsSpacer&&o.createElement("div",{className:d.settingsSpacer}),!this.props.hideViewModeToggle&&o.createElement("div",{className:d.toggle},this.renderViewModeToggle())))}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(2,1    ),i=s(46,1    ),o=s(123         ),a="figma:tick",r=new CustomEvent(a);setInterval(()=>{window.dispatchEvent(r)},3e4);class c extends n.Component{constructor(e){super(e),this.tick=(()=>{this.forceUpdate()}),this.props.customizeRelativeTimes?i.updateLocale("en",{relativeTime:this.props.customizeRelativeTimes}):i.updateLocale("en",{relativeTime:c.defaultRelativeTimes})}componentDidMount(){window.addEventListener(a,this.tick)}componentWillUnmount(){window.removeEventListener(a,this.tick),this.props.customizeRelativeTimes&&(i.updateLocale("en",void 0),window.dispatchEvent(r))}render(){const e=i.utc(this.props.date).fromNow();return n.createElement("span",{className:this.props.className||""},this.props.capitalize?o.capitalizeFirstLetter(e):e)}}t.FromNow=c,c.displayName="FromNow",c.defaultRelativeTimes={future:"in %s",past:function(e){return"just now"===e||"yesterday"===e||"last month"===e||"last year"===e?e:e+" ago"},s:function(e,t,s,n){return n?"a few seconds":"just now"},ss:"%d seconds",m:"1 minute",mm:"%d minutes",h:"1 hour",hh:"%d hours",d:function(e,t,s,n){return n?"1 day":"yesterday"},dd:"%d days",M:function(e,t,s,n){return n?"1 month":"last month"},MM:"%d months",y:function(e,t,s,n){return n?"1 year":"last year"},yy:"%d years"}}),
(function(n,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.fakeBranches=[{branchId:"0",name:"Main",isMain:!0,ownedByUser:!0},{branchId:"1",name:"Branch #1",isMain:!1,ownedByUser:!0},{branchId:"2",name:"Branch #2",isMain:!1,ownedByUser:!0},{branchId:"3",name:"Branch #3",isMain:!1,ownedByUser:!0},{branchId:"4",name:"Branch #4",isMain:!1,ownedByUser:!1},{branchId:"5",name:"Branch #5",isMain:!1,ownedByUser:!1},{branchId:"6",name:"Branch #6",isMain:!1,ownedByUser:!1}]}),
(function(e,a,r){e.exports={facePile:"face_pile--facePile--p96xt",avatarWrapper:"face_pile--avatarWrapper--udZLJ",avatar__OLD:"face_pile--avatar__OLD--2hsiO",avatar:"face_pile--avatar--dtJ7c",overflowTarget:"face_pile--overflowTarget--37OPu face_pile--avatarWrapper--udZLJ",overflow:"face_pile--overflow--2fBCK",overflowRow:"face_pile--overflowRow--1yDLH",overflowUserName:"face_pile--overflowUserName--1IQq1 text--_whiteText--2PkdM"}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(203                             ),n=t(113                                     ),i=t(85                   ),o=10;function r(e=null,a){return n.fileBrowser.init.matches(a)?i.initialOptions().user_data||null:s.user.put.matches(a)?e&&e.id===a.payload.user.id?Object.assign(Object.assign({},e),a.payload.user):e:s.user.eraseSecrets.matches(a)?e?Object.assign(Object.assign({},e),{two_factor_secret_loaded:!1,password_token:void 0,temp_phone:void 0,phone_token:void 0,backup_codes:void 0}):null:s.user.toggleTwoFactor.matches(a)?e?Object.assign(Object.assign({},e),{two_factor_app_enabled:a.payload.enabled}):null:s.user.logOutIPC.matches(a)?e?Object.assign(Object.assign({},e),{appData:Object.assign(Object.assign({},e.appData),{loggedOut:!0})}):e:s.user.deleteUserLoading.matches(a)?e?Object.assign(Object.assign({},e),{delete_user_loading:a.payload.loading}):null:e}a.inGracePeriod=function(e){let a=new Date(e.created_at).getTime(),t=864e5*o;return(new Date).getTime()-a<t},a.isUserLoggedOut=function(e){return!!(e&&e.appData&&e.appData.loggedOut)},a.formatUserHandle=function(e,a){return a&&a.id===e.id?"You":e.handle},a.user=r,a.default=r}),
(function(t,o,r){t.exports={root:"text_avatar--root--UrhbE undefined"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),r=s(496                );class i extends a.Component{render(){const e=this.props.size;return a.createElement("div",{className:`${r.root} ${this.props.className||""}`,style:this.props.size?{width:`${e}px`,height:`${e}px`,lineHeight:`${e}px`}:void 0},this.props.text)}}t.TextAvatar=i,i.displayName="TextAvatar"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(2,1    ),r=i(43,1         ),l=i(459                          ),a=i(123         ),s=i(115                     ),n=i(232                       ),u=i(232                       );t.ViewUserProfileTooltipWrapper=function(e){const t=r.useSelector(e=>e.user),i=r.useSelector(l.getOrgPathPart),d="user"in e?`user-${e.user.id}`:`role-${e.role.id}`,p="user"in e?e.user:e.role.user;let c=a.truncateText(p.handle,25);p.id===(null==t?void 0:t.id)&&(c+=" (You)"),"role"in e&&(c+=function(e){switch(e){case s.PermissionLevel.OWNER:return" (Owner)";case s.PermissionLevel.ADMIN:return" (Admin)";default:return""}}(e.role.level));const f=`/files${i}/user/${p.id}`;return o.createElement("div",{key:`avatar-${d}`,"data-tooltip-type":u.TooltipType.SPECIAL,"data-tooltip":n.TooltipSpecialKey.VIEW_USER_PROFILE,"data-tooltip-user-handle":c,"data-tooltip-user-profile-url":f,"data-tooltip-max-width":300,"data-tooltip-offset-y":8,"data-tooltip-interactive":!0},e.children)}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2,1    ),s=a(494              ),i=a(495                      ),n=a(303                             ),o=a(475                            ),l=a(497                                             ),c=a(409                                  ),m=a(498                                           );class p extends r.Component{constructor(){super(...arguments),this.isConfirmedRole=(e=>{const t=e;return void 0!==t.level&&0==t.pending&&null!=t.user}),this.getUser=(e=>this.isConfirmedRole(e)?e.user:e)}renderAvatarItem(e,t){const a=this.getUser(e),i=this.isConfirmedRole(e)?{role:e}:{user:a};return r.createElement("div",{key:e.id,className:s.avatarWrapper},r.createElement(m.ViewUserProfileTooltipWrapper,Object.assign({},i),r.createElement(o.Avatar,{className:s.avatar,entity:a})))}renderOverflowItem(e){return r.createElement("div",{className:s.overflowTarget},r.createElement(l.TextAvatar,{className:n.communityHubBrowsingEnabled()?s.avatar:s.avatar__OLD,text:`+${e.length}`}),r.createElement(c.dropdown.Dropdown,{className:s.overflow},e.map((e,t)=>r.createElement("div",{className:s.overflowRow,key:e.id},r.createElement(o.Avatar,{className:n.communityHubBrowsingEnabled()?s.avatar:s.avatar__OLD,entity:this.getUser(e)}),r.createElement("div",{className:s.overflowUserName},i.formatUserHandle(this.getUser(e),this.props.currentUser))))))}render(){const e=this.props.threshold||-1;let t=this.props.entityList?Array.from(this.props.entityList):[],a=[];return e>0&&(a=t.splice(e)),r.createElement("div",{className:`${s.facePile} ${this.props.className||""}`},t.map((e,t)=>this.renderAvatarItem(e,t)),a.length?this.renderOverflowItem(a):null)}}t.FacePile=p,p.displayName="FacePile"}),
(function(i,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.smallCheckerboardImageURL="/images/checkerboard.png",e.default=function(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+PHBhdGggZmlsbD0iI0YxRjFGMSIgZD0iTSAwIDggSCAxNiBWIDAgSCA4IFYgMTYgSCAwIi8+PC9zdmc+"}}),
(function(t,i,n){t.exports={tileThumbnail:"generic_tile_thumbnail--tileThumbnail--1VvIT",thumbnailContainer:"generic_tile_thumbnail--thumbnailContainer--2OJUh",thumbnail:"generic_tile_thumbnail--thumbnail--1Y4fX",thumbnailFullWidth:"generic_tile_thumbnail--thumbnailFullWidth--3-tQl",prototypeIconRow:"generic_tile_thumbnail--prototypeIconRow--1dcBx",prototypeIcon:"generic_tile_thumbnail--prototypeIcon--fbq3t"}}),
(function(e,l,a){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const t=a(2,1    ),i=a(357                  ),n=a(500                            ),c=a(501                                         );l.FileThumbnail=(e=>t.createElement("div",{className:`${e.className||""} ${c.tileThumbnail}`,style:{background:`url(${n.default()})`}},t.createElement("div",{className:c.thumbnailContainer,style:{backgroundColor:i.fileBackgroundColor(e.client_meta)}},t.createElement("div",{className:e.fullWidth?c.thumbnailFullWidth:c.thumbnail,style:{backgroundImage:`url(${e.thumbnail_url})`}}))))}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.DelayedTask=class{constructor(){this.unschedule=null}scheduleOnce(e,s){if(this.isScheduled())throw new Error("Task already scheduled");const t=setTimeout(()=>{this.reset(),e()},s);this.unschedule=(()=>clearTimeout(t))}scheduleRepeating(e,s){if(this.isScheduled())throw new Error("Task already scheduled");const t=setInterval(()=>{!1===e()&&this.reset()},s);this.unschedule=(()=>clearInterval(t))}isScheduled(){return null!==this.unschedule}reset(){this.unschedule&&(this.unschedule(),this.unschedule=null)}}}),
(function(n,t,i){n.exports={input:"input--input--3jE7P"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),n=s(141              ),a=s(504          );class l extends n.Component{constructor(){super(...arguments),this.inputRef=(e=>{e&&(this.input=e,e.value||(e.value=this.props.placeholderValue||"",e.focus(),e.select()))}),this.submit=n.otherEvent(this,"submit",e=>{this.props.submit(e)}),this.submitOrCancel=(()=>{this.input.value?this.submit(this.input.value):this.props.cancel()}),this.onChange=n.changeEvent(this,"change",e=>{}),this.onBlur=n.focusEvent(this,"blur",()=>{this.input.value!==this.props.placeholderValue?this.submitOrCancel():this.props.cancel()}),this.onKeyDown=n.keyboardEvent(this,"keydown",e=>{switch(e.keyCode){case 13:this.submitOrCancel();break;case 27:this.props.cancel()}}),this.onClick=(e=>{e.stopPropagation(),e.preventDefault()})}render(){let e=Object.assign({},this.props);return delete e.placeholderValue,delete e.submit,delete e.cancel,delete e.recordingKey,delete e.className,i.createElement("input",Object.assign({ref:this.inputRef,className:`${a.input} ${this.props.className||""}`,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onClick:this.onClick},e))}}t.Input=l,l.displayName="Input"}),
(function(e,i,t){e.exports={flashBlue:"generic_tile--flashBlue--2Ryss",flash:"generic_tile--flash--oPJPH",container:"generic_tile--container--34kTq",selectedContainer:"generic_tile--selectedContainer--3Qx4m generic_tile--container--34kTq",tileBorder:"generic_tile--tileBorder--29K0o",genericTile:"generic_tile--genericTile--3fuQi",newFileTile:"generic_tile--newFileTile--3SmMW",facePileContainer:"generic_tile--facePileContainer--3ai9J",pinned:"generic_tile--pinned--12n_T",image:"generic_tile--image--20i2q",_listViewGridBase:"generic_tile--_listViewGridBase--3mdS4",listViewGrid:"generic_tile--listViewGrid--1VFXL generic_tile--_listViewGridBase--3mdS4",listView:"generic_tile--listView--17VYy text--fontPos13--1DoEt text--_fontBase--YWDo0",facePile:"generic_tile--facePile--1KYgP",thumbnail:"generic_tile--thumbnail--IjTXV",lowerPartTitles:"generic_tile--lowerPartTitles--hRcay generic_tile--flexVertically--1G3xn",title:"generic_tile--title--2uQVI text--fontPos13--1DoEt text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",trashedAt:"generic_tile--trashedAt--cXCkF",touchedAt:"generic_tile--touchedAt--2B2vE",createdAt:"generic_tile--createdAt--aMXEq",accessedAt:"generic_tile--accessedAt---Sj9r",restoreIcon:"generic_tile--restoreIcon--3txzV",dragFileTile:"generic_tile--dragFileTile--2Ai3F generic_tile--selectedContainer--3Qx4m generic_tile--container--34kTq",gridView:"generic_tile--gridView--3LSz1",lowerPart:"generic_tile--lowerPart--3IGca generic_tile--flexHorizontally--AND_g",standaloneFileTile:"generic_tile--standaloneFileTile--YXUC3 generic_tile--container--34kTq",dragContainer:"generic_tile--dragContainer--2OpKv",subtitle:"generic_tile--subtitle--1vO6f text--fontPos11--RSei3 text--_fontBase--YWDo0 generic_tile--flexHorizontally--AND_g",flexVertically:"generic_tile--flexVertically--1G3xn",flexHorizontally:"generic_tile--flexHorizontally--AND_g",renameInput:"generic_tile--renameInput--2_mbB text--fontPos13--1DoEt text--_fontBase--YWDo0",pinnedSubtitle:"generic_tile--pinnedSubtitle--1Rfn9 text--fontPos11--RSei3 text--_fontBase--YWDo0 generic_tile--flexHorizontally--AND_g ellipsis--ellipsis--1RWY6",pinnedTitle:"generic_tile--pinnedTitle--bxmdg text--fontPos13--1DoEt text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",pinnedFileInfo:"generic_tile--pinnedFileInfo--2E4DN",subtitleProject:"generic_tile--subtitleProject--3U_NI ellipsis--ellipsis--1RWY6",subtitleTime:"generic_tile--subtitleTime--3sbSa",settings:"generic_tile--settings--32R-5",ellipsis:"generic_tile--ellipsis--161h8 ellipsis--ellipsis--1RWY6",subtitleMetadata:"generic_tile--subtitleMetadata--ZDnMK text--fontPos11--RSei3 text--_fontBase--YWDo0",modifiedMetadata:"generic_tile--modifiedMetadata--2Sk1y",branchIndicatorContainer:"generic_tile--branchIndicatorContainer--3Bk3T"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),r=s(503               ),n=s(505       ),o=s(346                         ),l=s(137                                    ),p=s(492                                  ),a=s(506                               );class h extends i.PureComponent{constructor(e){super(e),this.disallowAnchorHrefTask=new r.DelayedTask,this.onClick=(e=>{if(this.props.onClick(),this.props.selectable)if(this.state.useAnchorHref)this.props.isSelected&&this.props.selectTile(this.props.tile,e),this.props.openTile(this.props.tile,e,this.props.index);else{this.props.selectTile(this.props.tile,e);const t=500;this.disallowAnchorHrefTask.reset(),this.disallowAnchorHrefTask.scheduleOnce(()=>{this.setState({useAnchorHref:!1})},t),this.setState({useAnchorHref:!0}),e.preventDefault(),e.stopPropagation()}else this.props.openTile(this.props.tile,e,this.props.index)}),this.onContextMenu=(e=>{this.props.onTileContextMenu&&this.props.onTileContextMenu(this.props.tile,e,this.props.index)}),this.onDragStart=(e=>{this.props.draggable&&this.props.onTileDragStart(this.props.tile,e)}),this.onDragEnd=(e=>{this.props.draggable&&this.props.onTileDragEnd(this.props.tile,e)}),this.state={useAnchorHref:!1}}componentWillUnmount(){this.disallowAnchorHrefTask.reset()}render(){const e=this.props.isRenaming||!1,t=this.props.selectable&&this.props.isSelected?a.selectedContainer:`${a.container} ${this.props.blinkHighlight?a.flashBlue:""}`;return i.createElement("a",{className:t,href:!this.props.selectable||this.state.useAnchorHref?this.props.href:void 0,rel:"noopener",onClick:this.onClick,onContextMenu:this.props.onTileContextMenu?this.onContextMenu:void 0,draggable:!!this.props.draggable&&void 0,onDragStart:this.props.draggable?this.onDragStart:void 0,onDragEnd:this.props.draggable?this.onDragEnd:void 0,ref:this.props.tileRef},i.createElement("div",{className:a.genericTile,draggable:this.props.draggable&&!e},this.props.isListView?this.props.children:i.createElement(i.Fragment,null,i.createElement("div",{className:a.tileBorder,onClick:()=>!0}),this.props.children)))}}t.GenericTileView=h,h.displayName="GenericTile",t.GenericTileViewTracked=l.asTrackedClickable(h);class c extends i.PureComponent{constructor(){super(...arguments),this.onMouseEnterTitle=(e=>{let t=e.target;t.offsetWidth<t.scrollWidth&&this.props.tile?t.title=t.innerText:t.title=""})}render(){const e=o.GenericTileWrapper.getName(this.props.tile);if(this.props.isRenaming)return i.createElement(n.Input,{className:a.renameInput,placeholderValue:o.GenericTileWrapper.getName(this.props.tile),submit:this.props.submitTileName,cancel:this.props.cancelTileName});{let t=e&&e.length>12?this.onMouseEnterTitle:void 0;return i.createElement("div",{className:a.title,onMouseEnter:t},e)}}}t.GenericTileTitle=c,c.displayName="GenericTileTitle",t.GenericTileSubtitle=(({subtitle:e})=>i.createElement("div",{className:a.subtitle},e)),t.GenericTileSubtitleTime=(({date:e})=>i.createElement("span",{className:a.subtitleTime},i.createElement(p.FromNow,{date:e})))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerContextMenu=(e=>{e.stopPropagation(),e.preventDefault();const t=document.createEvent("MouseEvents");t.initMouseEvent("contextmenu",!0,!0,window,e.button,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.target),e.target.dispatchEvent(t)})}),
(function(o,t,i){o.exports={src:'<svg width="16" height="6" viewBox="0 0 16 6" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 3c0 .828-.672 1.5-1.5 1.5C1.172 4.5.5 3.828.5 3c0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zm6 0c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zM14 4.5c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2,1    ),i=n(146                        ),o=n(506                               ),g=n(508                      ),l=n(509                        ),c=e=>e.showSettingsIcon?s.createElement(i.Svg,{svg:l,className:`${o.settings} ${e.className||""}`,onClick:e.onFileSettingsClick||g.triggerContextMenu,onMouseDown:e.onFileSettingsMouseDown,onDoubleClick:e.onFileSettingsDoubleClick}):null;c.displayName="SettingsButton",t.SettingsButton=c}),
(function(n,c,a){n.exports={branchIndicator:"branch_indicator--branchIndicator--PdAfZ",branchIcon:"branch_indicator--branchIcon--1wL8v",chevronIcon:"branch_indicator--chevronIcon--2GvZc",branchName:"branch_indicator--branchName--FfJHp text--fontNeg13--2PnkS text--_fontBase--YWDo0 text--_whiteText--2PkdM ellipsis--ellipsis--1RWY6"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPointInPolygon=((e,t)=>{const{x:n,y:o}=e;let l=!1;for(let r=0,s=t.length-1;r<t.length;s=r++){const{x:e,y:c}=t[r],{x:i,y:u}=t[s];c>o!=u>o&&n<(i-e)*(o-c)/(u-c)+e&&(l=!l)}return l})}),
(function(o,t,e){o.exports={pointingDropdown:"multilevel_dropdown--pointingDropdown--2WXDP",submenu:"multilevel_dropdown--submenu--2IXt7",name:"multilevel_dropdown--name--1abLT ellipsis--ellipsis--1RWY6",rightColumn:"multilevel_dropdown--rightColumn--229nN",rightColumnShortcut:"multilevel_dropdown--rightColumnShortcut--1_lu1 multilevel_dropdown--rightColumn--229nN text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionDisabled:"multilevel_dropdown--optionDisabled--2ulbE multilevel_dropdown--option--1y5Jh dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",iconContainer:"multilevel_dropdown--iconContainer--dtBCs",highlight:"multilevel_dropdown--highlight--1lis7",option:"multilevel_dropdown--option--1y5Jh dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionActive:"multilevel_dropdown--optionActive--3iZDH multilevel_dropdown--option--1y5Jh dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",childCheckedIndicator:"multilevel_dropdown--childCheckedIndicator--tZM0p",noLeftPadding:"multilevel_dropdown--noLeftPadding--3TWPw"}}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.207 5.207L7 11.414 3.292 7.707l1.415-1.414L7 8.586l4.793-4.793 1.414 1.414z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11 8L5 4v8l6-4z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="7" height="10" viewBox="0 0 7 10" xmlns="http://www.w3.org/2000/svg"><path d="M1 4V2.5C1 1.12 2.12 0 3.5 0 4.88 0 6 1.12 6 2.5V4h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H1zm4-1.5V4H2V2.5C2 1.672 2.672 1 3.5 1 4.328 1 5 1.672 5 2.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="8" height="10" viewBox="0 0 8 10" xmlns="http://www.w3.org/2000/svg"><path d="M5 2.5V4H2V2.5C2 1.672 2.672 1 3.5 1 4.328 1 5 1.672 5 2.5zM1 4V2.5C1 1.12 2.12 0 3.5 0 4.88 0 6 1.12 6 2.5V4h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),i=s(214         ),n=s(513                                                                     ),l=s(146                        ),a=s(141              ),c=s(234                                                    ),r=s(425                                                    ),p=s(503               ),h=s(514                                                ),u=s(515                                                   ),m=s(516                                           ),d=s(517                                             );t.highlightText=((e,t,s)=>{const i=t.split(/(0+)/).filter(e=>e);let n=[],l=0;for(let a of i){const t="1"===a[0],i=e.substr(l,a.length),c=t?s:"";n.push(o.createElement("span",{key:l,className:c},i)),l+=a.length}return o.createElement("span",null,n)});class v extends a.PureComponent{constructor(){super(...arguments),this.justClickedToOpen=!1,this.delayedMount=new p.DelayedTask,this.onMouseUp=a.mouseEvent(this,"mouseup",e=>{this.justClickedToOpen?this.justClickedToOpen=!1:this.props.onSelect&&this.props.onSelect(e)}),this.onMouseEnter=a.mouseEvent(this,"mouseenter",e=>{this.justClickedToOpen&&(this.mouseEnterPos=new i.Vector(e.clientX,e.clientY)),this.props.onMouseEnter&&this.props.onMouseEnter(e)},{recordMetadata:e=>({clientX:e.clientX,clientY:e.clientY}),playbackMetadata:e=>e}),this.onMouseLeave=a.mouseEvent(this,"mouseleave",e=>{this.props.onMouseLeave&&this.props.onMouseLeave(e)}),this.onMouseMove=a.mouseEvent(this,"mousemove",e=>{if(this.justClickedToOpen&&this.mouseEnterPos){new i.Vector(e.clientX,e.clientY).distanceTo(this.mouseEnterPos)>5&&(this.justClickedToOpen=!1)}this.props.onMouseMove&&this.props.onMouseMove(e)},{recordMetadata:e=>({clientX:e.clientX,clientY:e.clientY}),playbackMetadata:e=>e}),this.stopPropagation=(e=>e.stopPropagation())}componentDidMount(){this.justClickedToOpen=!0,this.delayedMount.scheduleOnce(()=>{this.justClickedToOpen=!1},1e3)}componentWillUnmount(){super.componentWillUnmount(),this.delayedMount.reset()}render(){const e=this.props.item.displayText,s=this.props.item.highlightBitString?t.highlightText(e,this.props.item.highlightBitString,n.highlight):e;let i=n.option;this.props.item.disabled?i=n.optionDisabled:this.props.isActive&&(i=n.optionActive),this.props.showCheckmarkOffset&&(i+=` ${n.noLeftPadding}`);const a=this.props.item.isLocked&&!this.props.item.isChecked;return o.createElement("div",{className:i,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onClick:this.stopPropagation},!a&&this.props.showCheckmarkOffset&&o.createElement("div",{className:n.iconContainer},this.props.item.isChecked&&o.createElement(l.Svg,{svg:h}),this.props.item.isChildChecked&&o.createElement("div",{className:n.childCheckedIndicator})),a&&o.createElement("div",{className:n.iconContainer},o.createElement(c.SvgWithFallback,{svg:m,fallbackSvg:d})),this.props.item.icon,o.createElement("div",{className:n.name},s),!!this.props.item.children&&o.createElement(l.Svg,{svg:u,className:n.rightColumn}),this.props.item.shortcut&&o.createElement(r.KeyboardShortcut,{shortcut:this.props.item.shortcut,className:n.rightColumnShortcut}))}}t.MultilevelDropdownOption=v,v.displayName="MultilevelDropdownOption"}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PropagatingEvent=class{constructor(t){this.shouldPropagate=!0,this.accept=(()=>{this.shouldPropagate=!1,this.event.stopPropagation(),this.event.preventDefault()}),this.event=t}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),r=s(519                    );var o=s(519                    );t.PropagatingEvent=o.PropagatingEvent;const n=Object.create(null);let c=1;const u=()=>`${c++}`;class a extends i.PureComponent{constructor(e){super(e),this.ref=(e=>{e&&(this.el=e)}),this.focus=(()=>{t.keyboardDispatcher.setFocusedReceiver(this),this.focusDidChange(),this.unmounting&&this.blur()}),this.blur=(()=>{if(t.keyboardDispatcher.isParentOfFocusedReceiver(this)){const e=this.getParentReceiver();e?e.focus():t.keyboardDispatcher.setFocusedReceiver(null),this.focusDidChange()}}),this.hasFocus=(()=>t.keyboardDispatcher.receiverIsReceivingKeyboardEvents(this)),this.focusDidChange=(()=>{if(!this.unmounting)if(this.props.propagateKeyboardFocus){const e=this.getParentReceiver();e&&e.focusDidChange()}else this.props.forceUpdate&&this.props.forceUpdate()}),this.getParentReceiver=(()=>{if(!this.el)return null;let e=this.el.parentElement;for(;e;){const t=e.getAttribute("data-keyboard-receiver");if(null!=t)return n[t];e=e.parentElement}return null}),this.blurSubtreeIfHidden=(e=>{if(!t.keyboardDispatcher.isFocusedReceiver(this))return;const s=[];let i=!1,r=this.el;for(;r;){const t=r.getAttribute("data-keyboard-receiver");if(null!=t&&s.push(t),r===e){i=!0;break}r=r.parentElement}if(i)for(;s.length;){n[s.pop()].onHideOrUnmount()}}),this.handleKeyboardEvent=(e=>{if(this.props.handleKeyDown&&"keydown"===e.event.type&&this.props.handleKeyDown(e),e.shouldPropagate){const t=this.getParentReceiver();t&&t.handleKeyboardEvent(e)}}),this.handleClipboardEvent=((e,t)=>{if(this.props.handleClipboard&&this.props.handleClipboard(e,t),e.shouldPropagate){const s=this.getParentReceiver();s&&s.handleClipboardEvent(e,t)}}),this.id=u(),n[this.id]=this}UNSAFE_componentWillMount(){this.onShowOrMount()}componentWillUnmount(){this.onHideOrUnmount()}onHideOrUnmount(){this.unmounting=!0,this.blur()}onShowOrMount(){this.unmounting=!1,this.props.focusOnMount&&this.focus()}render(){const e=Object.assign({},this.props);return delete e.handleKeyDown,delete e.handleClipboard,delete e.focusOnMount,delete e.forceUpdate,delete e.propagateKeyboardFocus,i.createElement("div",Object.assign({ref:this.ref,"data-keyboard-receiver":this.id},e))}}t.KeyboardReceiver=a,a.displayName="KeyboardReceiver";t.keyboardDispatcher=new class{constructor(){this.hasFocus=!0,this.setCustomFocusElement=(e=>{this.customFocusElement=e,this.customFocusElement.addFocusChangedCallback(this.focusChanged)}),this.focusChanged=(e=>{this.hasFocus=e,this.focusedReceiver&&this.focusedReceiver.focusDidChange()}),this.setFocusedReceiver=(e=>{const t=this.focusedReceiver;this.focusedReceiver=e,t&&t.focusDidChange()}),this.shouldInterceptKeyboardEvent=(e=>{if(!(this.customFocusElement&&this.customFocusElement.isFocusElement(e.target)||e.target===document.body)){let t=e.target;for(;t;){if("fullscreen-root"===t.id)return!1;t=t.parentElement}return!0}const t=new r.PropagatingEvent(e);return this.dispatchKeyboardEvent(t),!t.shouldPropagate}),this.shouldInterceptClipboardEvent=((e,t)=>{if(this.customFocusElement&&this.customFocusElement.isFocusElement(e.target)||e.target===document.body){e.preventDefault();const s=new r.PropagatingEvent(e);return this.dispatchClipboardEvent(s,t),!s.shouldPropagate}return!1}),this.dispatchKeyboardEvent=(e=>{this.focusedReceiver&&function(e){for(;null!==e;){if("none"===e.style.display)return!0;e=e.parentElement}return!1}(this.focusedReceiver.el)?console.warn("Detected a hidden focused receiver, ignoring keyboard event"):this.focusedReceiver&&this.focusedReceiver.handleKeyboardEvent(e)}),this.dispatchClipboardEvent=((e,t)=>{this.focusedReceiver&&this.focusedReceiver.handleClipboardEvent(e,t)}),this.receiverIsReceivingKeyboardEvents=(e=>{if(!this.hasFocus)return!1;if(this.focusedReceiver===e)return!0;let t=this.focusedReceiver;for(;t&&t.props.propagateKeyboardFocus;){const s=t.getParentReceiver();if(s===e)return!0;t=s}return!1}),this.isFocusedReceiver=(e=>this.focusedReceiver===e),this.isParentOfFocusedReceiver=(e=>{let t=this.focusedReceiver;for(;t;){if(t===e)return!0;t=t.getParentReceiver()}}),this.focusSubtreeIfNecessary=(e=>{const t=[e];let s=0;for(;s<t.length;){const e=t[s],i=e.getAttribute("data-keyboard-receiver");if(i&&n[i].onShowOrMount(),e.children)for(let s=0;s<e.children.length;s++)t.push(e.children[s]);s++}}),this.blurSubtreeIfNecessary=(e=>{this.focusedReceiver&&this.focusedReceiver.blurSubtreeIfHidden(e)}),this.focusedReceiverName=(()=>{if(this.focusedReceiver)return this.focusedReceiver.props.name})}focusIfUnfocused(){const e=document.activeElement;this.customFocusElement&&!this.customFocusElement.isFocusElement(e)&&(!e||e===document.body)&&this.customFocusElement.focus()}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2,1    ),n=i(6,1        ),o=i(512           ),r=i(139                        ),h=i(85                   ),p=i(138      ),l=i(122          ),a=i(141              ),c=i(214         ),u=i(113                                     ),d=i(409                                  ),m=i(414                                                             ),v=i(518                                                                        ),I=i(520                                           ),f=i(513                                                                     ),w=d.dropdown.Dropdown,b=d.dropdown.Separator,g=8,M=2*g,S=8,y=24,C=17,O=200;let D=!1;const R=[],k=e=>{R.push(e),R.length>3&&R.shift()},A=h.getFeatureFlags().multilevel_dropdown_scroll;let x=!0;function T(e){return e.separator?C:y}function E(e){return e.map(T).reduce((e,t)=>e+t,0)}function _(e,t){const i=function(e,t){let i=y;for(let s=0;s<e.length;s++)if((i+=T(e[s]))>t)return s;return e.length}(e,t);if(i<e.length){const t=e.slice(i),s={displayText:"More",children:t,disabled:!1,isChecked:!1,isChildChecked:t.some(e=>e.isChecked||e.isChildChecked)};return e.slice(0,i).concat(s)}return e}class K extends s.PureComponent{constructor(e){super(e),this.rootMenuTop=0,this.options=Object.create(null),this.getActiveItemAtDepth=(e=>{if(0===e){const{visibleItems:e}=this.currentVisibleItems();return null==this.state.activeItem?null:e[this.state.activeItem.index]}return null!=this.state.activeItem&&this.state.activeItemSubmenuShown&&this.childMenu?this.childMenu.getActiveItemAtDepth(e-1):null}),this.pathToActivate=null,this.setActiveItemPath=(e=>{const t=e[this.props.depth],i=this.findVisibleItemIndexByName(t);if(-1!==i){const{visibleItems:t}=this.currentVisibleItems(),s=t[i];this.props.depth<e.length-1&&s.children&&(this.pathToActivate=e),this.setActiveOption(s,i,!0)}}),this.findVisibleItemIndexByName=(e=>{const{visibleItems:t}=this.currentVisibleItems();for(let i=0;i<t.length;i++){const s=t[i];if(s&&s.displayText===e)return i}return-1}),this.selectNextActiveItem=((e,t,i)=>{for(let s=void 0===t?0:t+1;s<e.length;s++){const t=e[s];if(this.isItemSelectable(t)){this.setActiveOption(t,s,!1,i);break}}}),this.showSubmenu=(()=>{const{visibleItems:e}=this.currentVisibleItems(),t=null!==this.state.activeItem&&e[this.state.activeItem.index];t&&t.children&&t.children.length&&this.setState({activeItemSubmenuShown:!0})}),this.dismissMenu=(()=>{this.setState({activeItemSubmenuShown:!1})}),this.userInput="",this.lastInputAt=0,this.addInputChar=(e=>{const t=String.fromCharCode(e).toLowerCase(),i=(new Date).getTime();this.userInput=i-this.lastInputAt<1500?this.userInput+t:t,this.lastInputAt=i;let s=null;const{visibleItems:n}=this.currentVisibleItems();n.forEach(e=>{if(null!=e&&null===s&&e.displayText){e.displayText.toLowerCase().startsWith(this.userInput)&&(s=e)}}),null!==s&&this.setActiveOption(s,n.indexOf(s))}),this.onKeyDownFromFullscreen=(e=>{e.accept(),this.onKeyDown(e.event)}),this.onKeyDown=(e=>{if(!this.state.activeItemSubmenuShown){this.props.onKeyDown&&this.props.onKeyDown(e);const{visibleItems:t}=this.currentVisibleItems(),i=this.props.depth>0;let s=null;switch(e.keyCode){case p.Key.ENTER:e.preventDefault(),(s=null!=this.state.activeItem?t[this.state.activeItem.index]:null)&&(s.children?this.setState({activeItemSubmenuShown:!0}):(this.props.dispatch(u.fileBrowser.hideDropdown()),this.props.onSelectItem(s,e)));break;case p.Key.ESCAPE:e.preventDefault(),this.props.showSearchItems&&this.props.onClearSearch?this.props.onClearSearch():i?this.props.onDismissMenu&&this.props.onDismissMenu():this.props.dispatch(u.fileBrowser.hideDropdown());break;case p.Key.LEFT_ARROW:this.props.openSubmenuToTheLeft?this.showSubmenu():i&&this.props.onDismissMenu&&this.props.onDismissMenu();break;case p.Key.RIGHT_ARROW:this.props.openSubmenuToTheLeft?i&&this.props.onDismissMenu&&this.props.onDismissMenu():this.showSubmenu();break;case p.Key.DOWN_ARROW:if(e.preventDefault(),null===this.state.activeItem){const e=0,i=t[e];this.setActiveOption(i,e)}else this.state.activeItem.index<t.length-1&&this.selectNextActiveItem(t,this.state.activeItem.index,!0);break;case p.Key.UP_ARROW:if(e.preventDefault(),null===this.state.activeItem){const e=t.length-1,i=t[e];this.setActiveOption(i,e)}else if(this.state.activeItem.index>0)for(let e=this.state.activeItem.index-1;e>-1;e--){const i=t[e];if(this.isItemSelectable(i)){this.setActiveOption(i,e,!1,!0);break}}break;default:document.activeElement&&"INPUT"==document.activeElement.tagName&&!document.activeElement.classList.contains("focus-target")||this.addInputChar(e.keyCode)}}}),this.setActiveOption=((e,t,i,s)=>{const o=this.options[t],r=n.findDOMNode(o);r&&(A&&s&&(r.scrollIntoView({block:"nearest"}),x=!1),this.setState({activeItem:{index:t,clientRect:r.getBoundingClientRect()},activeItemSubmenuShown:!(!e.children||!i)}))}),this.isRecordingOrPlayingBack=(()=>r.isRecording()||a.isRunningInteractionTests()),this.onMouseEnterItem=((e,t)=>i=>{!A||x?!this.isRecordingOrPlayingBack()&&D?setTimeout(()=>{const i=this.options[t],s=n.findDOMNode(i);if(s&&R.length>0){const i=s.getBoundingClientRect(),n=R.slice(-1)[0];n.x>=i.left&&n.x<=i.right&&n.y>=i.top&&n.y<=i.bottom&&this.setActiveOption(e,t,!0)}},200):this.setActiveOption(e,t,!0):x=!0}),this.onMouseMoveItem=(e=>{const t=new c.Vector(e.clientX,e.clientY);k(t)}),this.onMouseLeaveItem=(e=>{if(this.state.activeItemSubmenuShown){const t=this.childMenu.getSubmenuDropdownEl();if(t){const i=t.getBoundingClientRect();if(i&&R.length>0){const t=this.props.openSubmenuToTheLeft?i.right:i.left,s=new c.Vector(t,i.top),n=new c.Vector(t,i.bottom),r=[R[0],s,n],h=new c.Vector(e.clientX,e.clientY);if(!this.isRecordingOrPlayingBack()&&o.isPointInPolygon(h,r))return void(D=!0)}}}D=!1}),this.onSelectItem=(e=>t=>{t.stopPropagation(),e.disabled||e.children||(this.props.dispatch(u.fileBrowser.hideDropdown()),this.props.onSelectItem(e,t))}),this.onMouseEnterSeparator=(e=>{this.setState({activeItem:null,activeItemSubmenuShown:!1})}),this.onClickMenu=(e=>{e.stopPropagation()}),this.onMouseOverMenu=(e=>{this.setState({activeItem:null,activeItemSubmenuShown:!1})}),this.isItemSelectable=(e=>e&&!e.disabled&&!e.separator),this.optionRef=((e,t)=>{this.options[e]=t}),this.childMenuRef=(e=>{this.childMenu=e,this.pathToActivate=null}),this.submenuDropdownRef=(e=>{this.submenuDropdownEl=e?n.findDOMNode(e):null}),this.getSubmenuDropdownEl=(()=>this.submenuDropdownEl),this.renderItem=((e,t,i)=>{if(!e)return;if(e.separator)return s.createElement(b,{key:t,onMouseEnter:this.onMouseEnterSeparator});const n=this.props.parentKey?`${this.props.parentKey}.`:"",o=`${this.props.recordingKey}.${n}${e.recordingKey}`;return s.createElement(v.MultilevelDropdownOption,{key:t,item:e,isActive:!(!this.state.activeItem||t!==this.state.activeItem.index),onSelect:this.onSelectItem(e),onMouseEnter:this.onMouseEnterItem(e,t),onMouseMove:this.onMouseMoveItem,onMouseLeave:this.onMouseLeaveItem,showCheckmarkOffset:i,recordingKey:o,ref:this.optionRef.bind(this,t)})}),this.filterHiddenItems=(e=>{let t=[...e];for(let i=0;i<t.length;)null==t[i]?t.splice(i,1):++i;for(let i=1;i<t.length;)t[i].separator&&t[i-1].separator?t.splice(i,1):++i;return t.length>0&&t[0].separator&&(t=t.slice(1)),t.length>0&&t.slice(-1)[0].separator&&(t=t.slice(0,-1)),t}),this.optionsMaxHeight=(e=>{let t;return t=0===this.props.depth?this.rootMenuChildContentBottom:S+g,(e||window.innerHeight)-t-g}),this.renderOptions=(e=>{const t=e.some(e=>e&&(e.isChecked||e.isChildChecked||e.alwaysShowCheckMarkOffset||this.props.alwaysShowCheckMarkOffset));return e.map((e,i)=>this.renderItem(e,i,t))}),this.visibleItemsForMaxHeight=l.memoizeLast((e,t)=>{const i=this.filterHiddenItems(e);let s=!A&&E(e)>t;return s?{visibleItems:_(e,t),isOverflowMenu:s}:{visibleItems:i,isOverflowMenu:s}}),this.currentVisibleItems=(()=>this.visibleItemsForMaxHeight(this.props.items,this.optionsMaxHeight())),this.renderAsSubmenu=(()=>{const e={},t=this.props.parentRect.right+O>window.innerWidth,i=this.props.openSubmenuToTheLeft||t;i?e.right=window.innerWidth-this.props.parentRect.left:e.left=this.props.parentRect.right;const{visibleItems:n,isOverflowMenu:o}=this.currentVisibleItems(),r=E(n)+M,h=this.props.parentRect.top-g;h+r<window.innerHeight?e.top=h:e.top=Math.max(S,this.props.parentRect.bottom-r+g),this.props.rootAndSubmenuMaxWidth&&(e.maxWidth=this.props.rootAndSubmenuMaxWidth),e.minWidth=O;const p=A?s.createElement(m.DropdownScrollContainer,{maxDropdownHeight:this.optionsMaxHeight,dropdownChildrenHeight:E(n)},this.renderOptions(n)):this.renderOptions(n);return s.createElement("div",null,s.createElement(w,{ref:this.submenuDropdownRef,className:f.submenu,key:"menu",onClick:this.onClickMenu,style:e},p),this.renderChildMenu(n,o,i))}),this.renderAsRootMenu=(()=>{const e=this.props.openSubmenuToTheLeft||window.innerWidth-this.props.parentRect.right<this.props.parentRect.width,{visibleItems:t,isOverflowMenu:i}=this.currentVisibleItems();return s.createElement("div",null,s.createElement(m.PointingDropdown,{key:"pointing",targetRect:this.props.parentRect,className:f.pointingDropdown,showPoint:this.props.showPoint,minWidth:this.props.minWidth,displayOverTarget:!!this.props.displayOverTarget,maxWidth:this.props.rootAndSubmenuMaxWidth,isModal:!0,dispatch:this.props.dispatch},s.createElement("div",{key:"child-container",onClick:this.onClickMenu,onMouseOver:this.onMouseOverMenu,ref:this.rootMenuChildContainerRef},this.props.children),this.renderOptions(t)),this.renderChildMenu(t,i,e))}),this.rootMenuChildContentBottom=0,this.rootMenuChildContainerRef=(e=>{e&&requestAnimationFrame(()=>{this.rootMenuChildContentBottom=e.getBoundingClientRect().bottom,this.forceUpdate()})}),this.renderChildMenu=((e,t,i)=>{if(this.state.activeItemSubmenuShown&&this.state.activeItem&&e[this.state.activeItem.index]){const n=e[this.state.activeItem.index],o=n.recordingKey,r=n.children||[];return s.createElement(K,Object.assign({},this.props,{key:`${this.props.depth}-${this.state.activeItem.index}`,depth:this.props.depth+1,isOverflowMenu:t,items:r,onDismissMenu:this.dismissMenu,ref:this.childMenuRef,rootMenuTop:this.rootMenuTop,parentRect:this.state.activeItem.clientRect,parentKey:o,activatePathOnMount:this.props.activatePathOnMount||this.pathToActivate||void 0,openSubmenuToTheLeft:i}))}}),this.state={activeItem:null,activeItemSubmenuShown:!1},0===this.props.depth?this.rootMenuTop=this.props.parentRect?this.props.parentRect.top+this.props.parentRect.height:0:null!=this.props.rootMenuTop&&(this.rootMenuTop=this.props.rootMenuTop)}componentDidMount(){document.addEventListener("keydown",this.onKeyDown);const{visibleItems:e}=this.currentVisibleItems();if(0===this.props.depth||this.selectNextActiveItem(e),this.props.activatePathOnMount){const t=this.props.activatePathOnMount[this.props.depth],i=this.findVisibleItemIndexByName(t);-1!==i&&this.setActiveOption(e[i],i,!0)}}UNSAFE_componentWillReceiveProps(e){this.props.items&&e.items&&this.props.items.length===e.items.length||this.setState({activeItemSubmenuShown:!1})}componentDidUpdate(e){if(e.items!==this.props.items)if(this.props.showSearchItems){const{visibleItems:e}=this.currentVisibleItems();this.selectNextActiveItem(e,-1)}else e.showSearchItems&&this.setState({activeItem:null})}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),0===this.props.depth&&(R.length=0,D=!1)}render(){if(!this.props.items||0===this.props.items.length)return null;const e=this.props.depth>0;return s.createElement(I.KeyboardReceiver,{name:this.props.recordingKey||"",handleKeyDown:this.onKeyDownFromFullscreen,focusOnMount:!0},e?this.renderAsSubmenu():this.renderAsRootMenu())}}t.MultilevelDropdown=K,K.displayName="MultilevelDropdown",K.defaultProps={depth:0}}),
(function(v,h,l){v.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12.832 10l-.354-.354-2.25-2.25-.707.707L10.918 9.5H9.5v1h1.418L9.52 11.896l.707.707 2.25-2.25.354-.353zM8 3.5h4.5v1H8v-1zm-6 0h.75v1H2v-1zm1.125 1c.73 0 .996.004 1.203.06.604.161 1.075.633 1.237 1.237.055.207.06.473.06 1.203v.08c0 .62 0 1.03.093 1.382.255.949.996 1.69 1.945 1.944.35.094.761.094 1.381.094H9.5v-1h-.375c-.73 0-.997-.004-1.203-.06-.604-.162-1.076-.633-1.238-1.237-.055-.207-.06-.473-.06-1.203v-.08c0-.62.001-1.031-.093-1.382-.254-.949-.996-1.69-1.945-1.944-.35-.094-.76-.094-1.38-.094H2.75v1h.375z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=n(2,1    ),c=n(6,1        ),t=n(113                                     ),o=n(146                        ),l=n(511                     ),s=n(43,1         ),d=n(521                                                                 ),i=n(522                                  ),h=n(164                                );a.BranchIndicator=(e=>{const a=s.useDispatch(),n=`branch-indicator-${e.repoId}`,p=s.useSelector(e=>{var a;return(null===(a=e.dropdownShown)||void 0===a?void 0:a.type)===n}),u=s.useSelector(e=>{var a,n;return null===(n=null===(a=e.dropdownShown)||void 0===a?void 0:a.data)||void 0===n?void 0:n.targetRect}),v=r.useRef(null),[m,b]=r.useState(e.branches[0].branchId),g=e.branches.find(e=>e.branchId===m),f=((e,a,n)=>{const r=[],c=e=>({displayText:e.name,isChecked:e.branchId===a,callback:()=>n(e.branchId)}),t=e.find(e=>e.isMain);t&&(r.push(c(t)),r.push({separator:!0,displayText:""})),e.forEach(e=>{e.branchId!==(null==t?void 0:t.branchId)&&e.ownedByUser&&r.push(c(e))});const o=[];return e.forEach(e=>{e.branchId===(null==t?void 0:t.branchId)||e.ownedByUser||o.push(c(e))}),o.length>0&&r.push({separator:!0,displayText:""},{displayText:"See all branches",children:o}),r})(e.branches,m,b);return r.createElement(r.Fragment,null,r.createElement("div",{className:l.branchIndicator,onClick:e=>{if(e.stopPropagation(),p)a(t.fileBrowser.hideDropdown());else{const e=c.findDOMNode(v.current);a(t.fileBrowser.showDropdown({type:n,data:{targetRect:(null==e?void 0:e.getBoundingClientRect())||null}}))}},ref:v},r.createElement("div",{className:l.branchIndicator},r.createElement(o.Svg,{className:l.branchIcon,svg:i}),r.createElement("div",{className:l.branchName},null==g?void 0:g.name),r.createElement(o.Svg,{className:l.chevronIcon,svg:h}))),p&&r.createElement(d.MultilevelDropdown,{items:f,parentRect:u,dispatch:a,showPoint:!1,onSelectItem:e=>{e.callback&&e.callback("",null,a)}}))})}),
(function(a,t,o){a.exports={autosaveIndicatorContainer:"autosave_tile--autosaveIndicatorContainer--3hPeu",autosaveIndicator:"autosave_tile--autosaveIndicator--1yqmx",syncIcon:"autosave_tile--syncIcon--25vt8"}}),
(function(o,t,i){o.exports={src:'<svg width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M13.1 7.87c-.829 0-1.5-.671-1.5-1.5 0-.828.671-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .829-.672 1.5-1.5 1.5zm0 6c-.829 0-1.5-.671-1.5-1.5 0-.828.671-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .829-.672 1.5-1.5 1.5zm0 6c-.829 0-1.5-.672-1.5-1.5 0-.828.671-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5z" fill-rule="nonzero" fill-opacity="1" fill="#050505" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="18" height="21" viewBox="0 0 18 21" xmlns="http://www.w3.org/2000/svg"><path d="M2.293 4l.353-.354 3-3 .708.707L4.207 3.5H9c4.694 0 8.5 3.805 8.5 8.5 0 4.694-3.806 8.5-8.5 8.5C4.306 20.5.5 16.694.5 12h1c0 4.142 3.358 7.5 7.5 7.5 4.142 0 7.5-3.358 7.5-7.5 0-4.143-3.358-7.5-7.5-7.5H4.207l2.147 2.146-.708.707-3-3L2.293 4zM9 8H8v5h5v-1H9V8z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,c){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.818 7.612c-.868-.36-1.823-.454-2.745-.27-.921.183-1.767.635-2.432 1.3l-.884-.885c.84-.839 1.909-1.41 3.072-1.642 1.164-.231 2.37-.112 3.467.342 1.097.454 2.034 1.223 2.693 2.21.432.646.732 1.368.888 2.122l1.176-1.944 1.07.646-1.93 3.19-.288.476-.505-.23-3.579-1.625.517-1.138 2.35 1.067c-.11-.666-.36-1.304-.738-1.87-.522-.781-1.264-1.39-2.132-1.75zm-7.909 4.065l-1.93 3.19 1.07.647 1.165-1.926c.17.617.438 1.207.797 1.745.66.987 1.597 1.756 2.693 2.21 1.096.454 2.303.573 3.466.342 1.164-.232 2.233-.803 3.073-1.642l-.884-.884c-.665.664-1.51 1.117-2.432 1.3-.922.183-1.877.089-2.745-.27-.868-.36-1.61-.969-2.131-1.75-.313-.468-.538-.985-.669-1.526l2.382 1.081.517-1.138-3.579-1.625-.505-.23-.288.476z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2,1    ),a=i(43,1         ),l=i(137                                    ),n=i(85                   ),r=i(280                             ),o=i(113                                     ),c=i(348                                    ),p=i(346                         ),d=i(138      ),m=i(347                           ),h=i(232                       ),u=i(493                         ),g=i(146                        ),f=i(492                                  ),E=i(499                                  ),v=i(502               ),F=i(507                           ),_=i(510                ),T=i(523                 ),w=i(506                               ),b=i(524                                 ),N=i(525                                      ),y=i(526                                ),k=i(527                        );t.FileTileThumbnail=(({file:e,listView:t,pinned:i})=>s.createElement("div",{className:t?w.listView:i?void 0:w.gridView},s.createElement(v.FileThumbnail,{client_meta:e.client_meta,thumbnail_url:e.thumbnail_url,className:w.image,fullWidth:!!e.thumbnail_guid}))),t.FileGridTileSubtitle=(e=>{const[t,i]=s.useState(null),a=s.useCallback(t=>{let s=t.target;s.offsetWidth<s.scrollWidth&&e.folderName&&i(s.innerText)},[e.folderName]);return e.folderName?e.file.updated_at?s.createElement("div",{onMouseEnter:a,className:w.subtitleMetadata},s.createElement("span",{className:w.modifiedMetadata}," · Edited ",s.createElement(f.FromNow,{date:e.file.updated_at})),s.createElement("span",{"data-tooltip-type":h.TooltipType.TEXT,"data-tooltip":t,className:w.ellipsis},"In ",e.folderName)):s.createElement("span",{onMouseEnter:a,"data-tooltip-type":h.TooltipType.TEXT,"data-tooltip":t,className:w.ellipsis},"In ",e.folderName):e.file.updated_at?s.createElement("span",{className:w.ellipsis},"Edited ",s.createElement(f.FromNow,{date:e.file.updated_at})):null});const C=e=>{const{file:t,currentUserId:i}=e;let a=s.createElement(F.GenericTileSubtitleTime,{date:e.file.trashed_at});return a=t.trashed_user_id&&t.trashed_user_id===i?s.createElement("span",null,"Deleted by you ",a):t.trashed_user&&t.trashed_user.handle?s.createElement("span",null,"Deleted by ",t.trashed_user.handle," ",a):s.createElement("span",null,"Deleted ",a)};class S extends s.PureComponent{constructor(){super(...arguments),this.disableEvent=(e=>{e.stopPropagation(),e.preventDefault()}),this.onFileSettingsClick=(e=>{this.props.onTileContextMenu&&(e.stopPropagation(),e.preventDefault(),this.props.isDropdownShown()?this.props.dispatch(o.fileBrowser.hideDropdown()):(this.props.dispatch(c.tileSelect.resetTileSelection()),this.props.dispatch(c.tileSelect.selectTiles({type:m.TileSelectionType.FILES,tiles:[this.props.tile]})),this.props.onTileContextMenu(this.props.tile,e,this.props.index)))}),this.submitFileName=(e=>{this.props.dispatch(r.file.stopRenaming({file:this.props.tile.file,name:e}))}),this.cancelFileName=(()=>{this.props.dispatch(r.file.stopRenaming({file:this.props.tile.file}))}),this.onRestoreFileClick=(e=>{e.stopPropagation(),e.preventDefault();const t={[this.props.tile.file.key]:this.props.tile.file};this.props.dispatch(r.file.restoreTrashedFiles({fileKeys:t,userInitiated:!0}))}),this.stopEventPropagation=(e=>{e.stopPropagation()}),this.getActiveFileUsers=(()=>{if(this.props.isDeletedFilesView)return[];let e=this.props.tile.file.key,t=this.props.user.id,i=[];if(this.props.activeFileUsers&&this.props.activeFileUsers[e]){let s,a=-1;(i=Object.keys(this.props.activeFileUsers[e]).map(t=>this.props.activeFileUsers[e][t])).sort((e,t)=>e.handle.toLowerCase()<t.handle.toLowerCase()?-1:1),i.forEach((e,i)=>{t===e.id&&(a=i,s=e)}),-1!=a&&(i.splice(a,1),i.unshift(s))}return i}),this.getHasUnsyncedChanges=(()=>{const e=this.props.tile.file.key;return this.props.unsyncedFileKeys.indexOf(e)>=0})}renderRestoreButton(e){const t=!!e.folder_id,i=t?"Restore File":"This file belonged to a Project that has been deleted and cannot be restored. Duplicate this file to continue working on it in your Drafts.";return s.createElement(g.Svg,{svg:y,className:w.restoreIcon,onClick:t?this.onRestoreFileClick:void 0,onMouseDown:this.stopEventPropagation,onDoubleClick:this.disableEvent,"data-tooltip-type":h.TooltipType.TEXT,"data-tooltip":i})}renderListView(e,i){return s.createElement(s.Fragment,null,s.createElement("div",{className:w.listViewGrid},s.createElement("div",{className:w.lowerPartTitles},s.createElement(t.FileTileThumbnail,{file:e,listView:!0}),s.createElement(F.GenericTileTitle,{tile:this.props.tile,isRenaming:i,submitTileName:this.submitFileName,cancelTileName:this.cancelFileName})),this.props.isRecentsView&&s.createElement("div",{className:w.accessedAt},s.createElement(f.FromNow,{date:e.accessed_at})),!this.props.isRecentsView&&s.createElement("div",{className:w.touchedAt},s.createElement(f.FromNow,{date:e.touched_at})),!this.props.isRecentsView&&s.createElement("div",{className:w.createdAt},s.createElement(f.FromNow,{date:e.created_at})),this.props.isDeletedFilesView&&s.createElement("div",{className:w.trashedAt},s.createElement(f.FromNow,{date:e.trashed_at}))),this.props.isDeletedFilesView?s.createElement("div",{className:w.facePile},this.renderRestoreButton(e)):s.createElement(E.FacePile,{className:w.facePile,entityList:this.getActiveFileUsers(),threshold:2,currentUser:this.props.user}),this.props.showSettingsIcon&&s.createElement(g.Svg,{svg:N,className:w.settings,onClick:this.onFileSettingsClick,onMouseDown:this.stopEventPropagation,onDoubleClick:this.disableEvent}))}render(){var e;const i=this.props.tile.file,a=(null===(e=i.appData)||void 0===e?void 0:e.isRenaming)||!1;let r=this.props;a&&(r=Object.assign(Object.assign({},r),{draggable:!1}));const o=this.props.showSettingsIcon?{showSettingsIcon:!0,onFileSettingsClick:this.onFileSettingsClick,onFileSettingsMouseDown:this.stopEventPropagation,onFileSettingsDoubleClick:this.disableEvent}:{showSettingsIcon:!1},c=a?{isRenaming:!0,submitTileName:this.submitFileName,cancelTileName:this.cancelFileName}:{isRenaming:!1},p=n.getFeatureFlags().branching_and_merging&&i.file_repo_id?{showBranchIndicator:!0,branches:u.fakeBranches}:{showBranchIndicator:!1};let d=this.props.isDeletedFilesView?s.createElement(C,{currentUserId:this.props.user.id,file:this.props.tile.file}):s.createElement(t.FileGridTileSubtitle,{folderName:this.props.folderName||null,file:this.props.tile.file});return s.createElement(l.TrackingContext,{name:"File Tile",disableViewTracking:!0,properties:{fileKey:i.key}},s.createElement(F.GenericTileViewTracked,Object.assign({},r,{href:i.edit_url}),this.props.isListView?this.renderListView(i,a):s.createElement(t.FileTileView,Object.assign({file:i,subtitle:d,activeFileUsers:this.getActiveFileUsers(),currentUser:this.props.user,hasUnsyncedChanges:this.getHasUnsyncedChanges()},c,o,p))))}}S.displayName="FileTile",t.FileTileView=(e=>{const i={type:p.TileType.FILE,file:e.file};return s.createElement(s.Fragment,null,s.createElement(t.FileTileThumbnail,{file:e.file}),e.showBranchIndicator&&s.createElement("div",{className:w.branchIndicatorContainer},s.createElement(T.BranchIndicator,{repoId:e.file.key,branches:e.branches})),n.getFeatureFlags().autosave_livelaunch&&e.hasUnsyncedChanges&&s.createElement("div",{className:b.autosaveIndicatorContainer},s.createElement("div",{className:b.autosaveIndicator,"data-tooltip-type":h.TooltipType.TEXT,"data-tooltip":"Unsynced changes","data-tooltip-timeout-delay":50},s.createElement(g.Svg,{className:b.syncIcon,svg:k}))),s.createElement("div",{className:w.lowerPart},s.createElement("div",{className:w.lowerPartTitles},s.createElement(F.GenericTileTitle,Object.assign({tile:i},e)),s.createElement(F.GenericTileSubtitle,{subtitle:e.subtitle})),s.createElement("div",{className:w.facePileContainer},s.createElement(E.FacePile,{entityList:e.activeFileUsers,threshold:2,currentUser:e.currentUser})),s.createElement(_.SettingsButton,Object.assign({},e))))});t.FileTile=a.connect(e=>({isDeletedFilesView:"deletedFiles"===e.selectedView.view,isRecentsView:"recentFiles"===e.selectedView.view,user:e.user,activeFileUsers:e.activeFileUsers,unsyncedFileKeys:e.autosave.unsyncedFileKeys}))(S),t.StandaloneFileTile=a.connect((e,t)=>{const i=e.autosave.unsyncedFileKeys,s=t.file.key;return{hasUnsyncedChanges:i.indexOf(s)>=0}})(e=>{const i=d.withDefaultOpenBehavior(t=>{t.preventDefault(),e.onClick()});return s.createElement("div",{className:w.gridView},s.createElement("a",{onClick:i,href:e.href,className:w.standaloneFileTile},s.createElement("div",{className:w.genericTile},s.createElement("div",{className:w.tileBorder}),s.createElement(t.FileTileView,Object.assign({},e)))))}),t.FileTileInnerForTesting=S}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2,1    );t.PerViewModeComponent=(e=>t=>{const n=e[t.viewMode];return o.createElement(n,Object.assign({},t))})}),
(function(e,s,i){e.exports={grid:"files--grid--3Du-f search_results_view--grid--1EP07",list:"files--list--1oxds search_results_view--list--3m8h6",rowTemplate:"files--rowTemplate--2Wq_H",row:"files--row--1U0xl files--rowTemplate--2Wq_H search_list_row--row--2h_Rz text--fontPos13--1DoEt text--_fontBase--YWDo0",listHeader:"files--listHeader--uoWnV files--rowTemplate--2Wq_H search_view_bar--listHeader--JdsfJ text--fontPos13--1DoEt text--_fontBase--YWDo0",name:"files--name--3Q-a- search_list_row--name--2KbBC search_list_row--_name--2EaTy ellipsis--ellipsis--1RWY6",icon:"files--icon--2kCzA",ellipsis:"files--ellipsis--3GskU ellipsis--ellipsis--1RWY6",touchedAt:"files--touchedAt--3Px_A",createdAt:"files--createdAt--2BY0L"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),r=s(43,1         ),o=s(87      ),l=s(138      ),a=s(118                    ),n=s(117                                ),c=s(351                      ),d=s(404                                  ),m=s(113                                     ),f=s(491                      ),S=s(492                                  ),h=s(528                        ),u=s(510                              ),p=s(529                        ),w=s(530          );!function(e){const t=[c.FileSearchSortKeys.NAME,c.FileSearchSortKeys.TOUCHED_AT,c.FileSearchSortKeys.CREATED_AT];e.viewBarConfig={viewId:"search-files",sortKeys:[c.FileSearchSortKeys.RELEVANCY,c.FileSearchSortKeys.NAME,c.FileSearchSortKeys.TOUCHED_AT,c.FileSearchSortKeys.CREATED_AT],listSortKeys:t,tabletListSortKeys:[c.FileSearchSortKeys.NAME,c.FileSearchSortKeys.TOUCHED_AT],mobileListSortKeys:[c.FileSearchSortKeys.NAME],sortKeyDescriptions:{[n.TileViewMode.GRID]:{relevancy:"Relevance",name:"Name",touched_at:"Last modified",created_at:"Created"},[n.TileViewMode.LIST]:{relevancy:"Relevance",name:"Name",touched_at:"Last modified",created_at:"Created"}},defaultOptions:{viewMode:n.TileViewMode.GRID,sortMode:{sortKey:c.FileSearchSortKeys.RELEVANCY,sortDesc:!1}},listHeaderClassName:w.row,includeSortDirection:e=>{return-1===[c.FileSearchSortKeys.RELEVANCY].indexOf(e)},settingsSpacer:o.tablet||o.mobile,hideSortDropdownInDesktop:!0},e.gridStyle=w.grid,e.listStyle=w.list;const s=(e,t)=>{const s=t.searchResult.model.folder_id;return{folder:s&&e.folders[s]||null}},l=(e,t)=>({onClick:()=>{e(m.fileBrowser.selectView({view:"fullscreen",fileKey:t.searchResult.model.key}))}});e.SearchResult=p.PerViewModeComponent({[n.TileViewMode.GRID]:r.connect(s,l)(e=>{const t=e.folder?a.getFolderName(e.folder):null;return i.createElement(g,Object.assign({},e,{href:`/file/${e.searchResult.model.key}`,folderName:t}))}),[n.TileViewMode.LIST]:r.connect(s,l)(e=>i.createElement(y,Object.assign({},e,{href:`/file/${e.searchResult.model.key}`})))}),e.ListHeader=(t=>{const s={sortMode:Object.assign(Object.assign({},e.viewBarConfig.defaultOptions.sortMode),t.sortState[c.SearchModelType.FILES]),viewMode:n.TileViewMode.LIST};return i.createElement(f.ViewBar,{listHeaderClassName:w.listHeader,listSortKeys:e.viewBarConfig.listSortKeys,mobileListSortKeys:e.viewBarConfig.mobileListSortKeys,tabletListSortKeys:e.viewBarConfig.tabletListSortKeys,sortKeys:e.viewBarConfig.sortKeys,sortKeyDescriptions:e.viewBarConfig.sortKeyDescriptions,onChangeSortOptions:e=>{const s=Object.assign(Object.assign({},t.sortState),{[c.SearchModelType.FILES]:{sortKey:e.sortKey,sortDesc:e.sortDesc}});t.onChangeSortState(s)},options:s,defaultSortKey:e.viewBarConfig.defaultOptions.sortMode.sortKey,hideViewModeToggle:!0,settingsSpacer:e.viewBarConfig.settingsSpacer})}),e.getValidOptions=(t=>({sortMode:t.search.parameters.sortState.files,viewMode:d.getValidOptionsForViewMode(e.viewBarConfig.viewId,t,e.viewBarConfig.defaultOptions.viewMode)}))}(t.FilesSearchResults||(t.FilesSearchResults={}));class y extends i.Component{constructor(){super(...arguments),this.onClick=l.withDefaultOpenBehavior(e=>{e.preventDefault(),this.props.onClick()})}render(){const{searchResult:e}=this.props;return i.createElement("div",{className:w.row},i.createElement("a",{className:w.name,onClick:this.onClick,href:this.props.href},i.createElement("div",{className:w.icon},i.createElement(h.FileTileThumbnail,{file:e.model,listView:!0})),i.createElement("div",{className:w.ellipsis},e.model.name)),i.createElement("div",{className:w.touchedAt},i.createElement(S.FromNow,{date:e.model.touched_at})),i.createElement("div",{className:w.createdAt},i.createElement(S.FromNow,{date:e.model.created_at})),i.createElement(u.SettingsButton,Object.assign({},this.props)))}}const g=e=>i.createElement(h.StandaloneFileTile,Object.assign({},e,{onClick:e.onClick,href:e.href,file:e.searchResult.model,subtitle:i.createElement(h.FileGridTileSubtitle,{folderName:e.folderName,file:e.searchResult.model}),activeFileUsers:[],currentUser:null,isRenaming:!1}))}),
(function(t,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.LOADING="LOADING",t.SUCCESS="SUCCESS",t.FAILURE="FAILURE"}(e.LoadingStatus||(e.LoadingStatus={}))}),
(function(a,d,t){"use strict";Object.defineProperty(d,"__esModule",{value:!0});const i=t(532                             );d.isLoading=((a,d)=>a[d]===i.LoadingStatus.LOADING),d.hasResolved=((a,t)=>null!=a[t]&&!d.isLoading(a,t)),d.didSucceed=((a,d)=>a[d]===i.LoadingStatus.SUCCESS),d.didFail=((a,d)=>a[d]===i.LoadingStatus.FAILURE),d.shouldRetry=((a,d)=>null==a[d]||a[d]===i.LoadingStatus.FAILURE)}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoleRequestStatus={PENDING:"pending",APPROVED:"approved",DENIED:"denied",WITHDRAWN:"withdrawn"}}),
(function(e,s,_){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=_(534                                  ),c=_(125                        ),n=_(120                     );var t;!function(e){e[e.CLICK_LEAVE=0]="CLICK_LEAVE",e[e.CLICK_WITHDRAW=1]="CLICK_WITHDRAW",e[e.CLICK_JOIN=2]="CLICK_JOIN",e[e.CLICK_REQUEST=3]="CLICK_REQUEST",e[e.BYPASS_REQUEST=4]="BYPASS_REQUEST"}(t=s.OrgTeamActionType||(s.OrgTeamActionType={})),s.getOrgTeamActionType=function(e,s,_,o){return c.canViewTeam(e.id,_)?t.CLICK_LEAVE:s&&s.status===a.RoleRequestStatus.PENDING?t.CLICK_WITHDRAW:e.org_access===n.OrgAccess.PRIVATE&&e.orphaned&&c.canAdminOrg(o,_)?t.BYPASS_REQUEST:e.org_access===n.OrgAccess.SECRET&&e.orphaned&&c.canAdminOrg(o,_)?t.BYPASS_REQUEST:e.org_access===n.OrgAccess.PUBLIC?t.CLICK_JOIN:e.org_access===n.OrgAccess.PRIVATE?t.CLICK_REQUEST:(console.warn("Secret teams should not show in this list at all"),t.CLICK_REQUEST)},s.getJoiningOrgTeamLoadingKey=(e=>`JOINING_ORG_TEAM_${e}`),s.getBatchJoiningOrgTeamLoadingKey=(e=>`JOINING_${e.length}_BATCH_ORG_TEAMS_${e[0]}`)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=i(206                             ),o=i(93                                   ),n=i(536                                 ),s=i(91                  ),c=i(108     ),r=i(100                               ),d=i(535                     ),m=i(352                      );!function(t){t.set=s.actionCreator("ORGS_SET_DISCOVERABLE_TEAMS"),t.get=r.asyncActionCreator("ORG_FETCH_DISCOVERABLE_TEAMS",(t,e)=>{const i=t.getState().currentOrgId,a=e||{},{includeProjectCount:s,includeMemberCount:r,includeTopMembers:d}=a,m={};r&&(m.include_member_count="true"),s&&(m.include_project_count="true"),d&&(m.include_top_members="true"),c.default.get(`/api/orgs/${i}/teams`,m).then(e=>{const i=e.data.meta;t.dispatch(n.orgTeam.set({teams:i}))}).catch(e=>{t.dispatch(o.flash.flash(e.message||"An error occurred while trying to fetch teams within the organization."))})}),t.join=r.optimisticActionCreator("ORG_JOIN_TEAMS",(t,e,i)=>{const n=t.getState().currentOrgId,s=t.getState().user,g=e.teamId,p=d.getJoiningOrgTeamLoadingKey(g);t.dispatch(m.loadingStateActions.putLoading({key:p})),c.default.post(`/api/orgs/${n}/teams/join`,{team_ids:[g]}).then(()=>{t.dispatch(r.optimistActions.commit(i)),t.dispatch(a.team.onJoin({teamId:g,joinedUser:s||void 0}))}).catch(e=>{t.dispatch(r.optimistActions.revert(i)),t.dispatch(o.flash.error(e.message||"An error occurred while joining.")),t.dispatch(m.loadingStateActions.putFailure({key:p}))})}),t.batchJoin=r.optimisticActionCreator("ORG_BATCH_JOIN_TEAMS",(t,e,i)=>{const n=t.getState().currentOrgId,s=t.getState().user,g=e.teamIds,p=d.getBatchJoiningOrgTeamLoadingKey(g);t.dispatch(m.loadingStateActions.putLoading({key:p})),c.default.post(`/api/orgs/${n}/teams/join`,{team_ids:g}).then(()=>{t.dispatch(r.optimistActions.commit(i)),t.dispatch(a.team.onBatchJoin({teamIds:g,joinedUser:s||void 0}))}).catch(e=>{t.dispatch(r.optimistActions.revert(i)),t.dispatch(o.flash.error(e.message||"An error occurred while joining teams.")),t.dispatch(m.loadingStateActions.putFailure({key:p}))})})}(e.orgTeam||(e.orgTeam={}))}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(2,1    ),s=t(271                ),i=t(532                             ),l=e=>e.isLoading?n.createElement("div",{className:e.className},n.createElement(s.LoadingSpinner,null)):e.children(),c=e=>{switch(e.state.status){case i.LoadingStatus.FAILURE:return e.failure?n.createElement(e.failure,null):n.createElement("div",{className:e.className},n.createElement(s.LoadingSpinner,null));case i.LoadingStatus.LOADING:return n.createElement("div",{className:e.className},n.createElement(s.LoadingSpinner,null));case i.LoadingStatus.SUCCESS:return e.children(e.state.value)}};a.WithLoading=(e=>"isLoading"in e?n.createElement(l,Object.assign({},e)):n.createElement(c,Object.assign({},e)))}),
(function(t,o,n){t.exports={button:"org_team_action--button--3WMGr",requestButton:"org_team_action--requestButton--SllRN",joinedButton:"org_team_action--joinedButton--3hvGF org_team_action--button--3WMGr"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),i=s(43,1         ),n=s(125                        ),r=s(535                     ),a=s(113                                     ),c=s(147                                            ),p=s(538                    );class h extends o.PureComponent{constructor(){super(...arguments),this.state={isHovered:!1},this.onClickJoin=(()=>{const{onJoin:e}=this.props;e&&e(this.props.team.id)}),this.onClickLeave=(()=>{this.props.onLeave(this.props.team)}),this.onClickRequest=(()=>{const{onJoinRequest:e}=this.props;e&&e(this.props.team)}),this.onClickWithdraw=(()=>{const{onWithdrawRequestForTeam:e}=this.props;e&&e(this.props.team)}),this.onBypassRequest=(()=>{const{onBypassRequest:e}=this.props;e&&e(this.props.team)}),this.getOrgTeamActionDisplayText=(()=>{switch(this.props.orgTeamActionType){case r.OrgTeamActionType.CLICK_LEAVE:return this.props.useLinks?"Leave team":this.state.isHovered?"Leave":"Joined";case r.OrgTeamActionType.CLICK_WITHDRAW:return"Cancel request";case r.OrgTeamActionType.CLICK_JOIN:return"Join";case r.OrgTeamActionType.BYPASS_REQUEST:return"Join as owner";case r.OrgTeamActionType.CLICK_REQUEST:return"Request to join"}}),this.onClick=(e=>{switch(e.stopPropagation(),this.props.dispatch(a.fileBrowser.hideDropdown()),this.props.orgTeamActionType){case r.OrgTeamActionType.CLICK_LEAVE:return void this.onClickLeave();case r.OrgTeamActionType.CLICK_WITHDRAW:return void this.onClickWithdraw();case r.OrgTeamActionType.CLICK_JOIN:return void this.onClickJoin();case r.OrgTeamActionType.BYPASS_REQUEST:return void this.onBypassRequest();case r.OrgTeamActionType.CLICK_REQUEST:return void this.onClickRequest()}}),this.getButtonClassName=(()=>{switch(this.props.orgTeamActionType){case r.OrgTeamActionType.CLICK_LEAVE:return this.state.isHovered?p.button:p.joinedButton;case r.OrgTeamActionType.CLICK_REQUEST:return p.requestButton;default:return p.button}}),this.onMouseOverButton=(()=>{this.setState({isHovered:!0})}),this.onMouseLeaveButton=(()=>{this.setState({isHovered:!1})})}render(){const e=this.getOrgTeamActionDisplayText();if(this.props.useLinks)return o.createElement(c.Link,{className:this.props.className,onClick:this.onClick},e);const t={className:`${this.getButtonClassName()} ${this.props.className||""}`,onClick:this.onClick,onMouseOver:this.onMouseOverButton,onMouseLeave:this.onMouseLeaveButton,children:e};return this.props.orgTeamActionType===r.OrgTeamActionType.CLICK_LEAVE&&this.state.isHovered?o.createElement(c.ButtonNegative,Object.assign({},t)):o.createElement(c.ButtonSecondary,Object.assign({},t))}}h.displayName="OrgTeamAction",t.OrgTeamAction=i.connect((e,t)=>({dispatch:e.dispatch,orgTeamActionType:r.getOrgTeamActionType(t.team,e.teamRoleRequests[t.team.id],n.getPermissionsState(e),e.currentOrgId)}))(h)}),
(function(n,t,i){n.exports={_container:"redirecting_org_team_action--_container--1Z5zw",container:"redirecting_org_team_action--container--22TTE redirecting_org_team_action--_container--1Z5zw",spinner:"redirecting_org_team_action--spinner--3ayE5",containerLoading:"redirecting_org_team_action--containerLoading--_rYDP redirecting_org_team_action--_container--1Z5zw",button:"redirecting_org_team_action--button--3eCBv"}}),
(function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=n(2,1    ),s=n(539                                                     ),o=n(271                                        ),r=n(540                                );i.RedirectingOrgTeamAction=class extends t.Component{constructor(){super(...arguments),this.state={isJoining:!1,isRedirecting:!1},this.onJoin=(e=>{this.setState({isJoining:!0},()=>{this.props.onJoin&&this.props.onJoin(e)})})}componentDidUpdate(e){e.isCurrentUserInTeam&&!e.isLoading||!this.props.isCurrentUserInTeam||this.props.isLoading||!this.state.isJoining||this.setState({isRedirecting:!0},()=>{this.props.onOpenTeam()})}render(){const e=this.props.isLoading||this.state.isRedirecting?r.containerLoading:r.container;return t.createElement("div",{className:e},t.createElement("div",{className:`${r.spinner} ${this.props.spinnerClassName||""}`},t.createElement(o.LoadingSpinner,null)),t.createElement("div",{className:r.button},t.createElement(s.OrgTeamAction,Object.assign({},this.props,{onJoin:this.onJoin}))))}}}),
(function(e,t,i){e.exports={_teamTileBase:"team_tile--_teamTileBase--3vo66 text--fontPos14--3UJ36 text--_fontBase--YWDo0",_teamIconBase:"team_tile--_teamIconBase--181PC",_largeTile:"team_tile--_largeTile--2JF-J team_tile--_teamTileBase--3vo66 text--fontPos14--3UJ36 text--_fontBase--YWDo0",teamTitle:"team_tile--teamTitle--2SzJf text--fontPos13--1DoEt text--_fontBase--YWDo0 ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ",teamDescription:"team_tile--teamDescription--YgDO3 text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ",teamIcon:"team_tile--teamIcon--1KAoR team_tile--_teamIconBase--181PC",teamMemberCount:"team_tile--teamMemberCount--2vPI9 text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",team:"team_tile--team--2EkMx team_tile--_largeTile--2JF-J team_tile--_teamTileBase--3vo66 text--fontPos14--3UJ36 text--_fontBase--YWDo0",content:"team_tile--content--3liEM",teamJoined:"team_tile--teamJoined--ineoM team_tile--team--2EkMx team_tile--_largeTile--2JF-J team_tile--_teamTileBase--3vo66 text--fontPos14--3UJ36 text--_fontBase--YWDo0",teamUpper:"team_tile--teamUpper--1SqVi",teamLower:"team_tile--teamLower--1mEdn",teamUpperLeft:"team_tile--teamUpperLeft--3pR-Y",teamSettingsIcon:"team_tile--teamSettingsIcon--1hSDl",teamTilesLoadingContainer:"team_tile--teamTilesLoadingContainer--304Lo",teamTilesGridContainer:"team_tile--teamTilesGridContainer--WYek4",teamTilesGrid:"team_tile--teamTilesGrid--1_eG2",emptyState:"team_tile--emptyState--2cpaI tiles_view--emptyState--K7wCV text--fontPos11--RSei3 text--_fontBase--YWDo0",emptyTitle:"team_tile--emptyTitle--3u7GJ tiles_view--emptyTitle--1jaNz",emptyButton:"team_tile--emptyButton--3R8_h tiles_view--emptyButton--2G_Rc",newTeamIcon:"team_tile--newTeamIcon--1pX0w tiles_view--newFileIcon--1JmGa",joinSpinner:"team_tile--joinSpinner--xkZeq"}}),
(function(o,t,h){o.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8V7H9V1H8v6H2v1h6v6h1V8h6z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(2,1    ),s=a(43,1         ),n=a(105        ),m=a(123         ),r=a(533                                 ),o=a(535                     ),l=a(467                         ),c=a(113                                     ),p=a(475                  ),d=a(537                                     ),T=a(539                ),g=a(147                                            ),u=a(499                                  ),v=a(146                        ),h=a(510                           ),E=a(541                                                                 ),_=a(542              ),y=a(543                            );var b;!function(e){e.TeamTileInner=(e=>i.createElement("div",{className:e.isCurrentUserInTeam?_.teamJoined:_.team,onClick:e.isCurrentUserInTeam?e.onTileClick:void 0},i.createElement("div",{className:_.teamUpper},i.createElement(p.TeamAvatar,{className:_.teamIcon,entity:e.team,size:40}),i.createElement("div",{className:_.teamUpperLeft},i.createElement(h.SettingsButton,Object.assign({className:_.teamSettingsIcon},e)),i.createElement(E.RedirectingOrgTeamAction,{team:e.team,isCurrentUserInTeam:e.isCurrentUserInTeam,isLoading:e.isLoading,onOpenTeam:e.onTileClick,onJoin:e.onJoin,onLeave:e.onLeave,onJoinRequest:e.onJoinRequest,onBypassRequest:e.onBypassRequest,onWithdrawRequestForTeam:e.onWithdrawRequestForTeam,spinnerClassName:_.joinSpinner}))),i.createElement("div",{className:_.teamTitle},e.team.name),i.createElement("div",{className:_.teamDescription},e.team.description),i.createElement("div",{className:_.teamLower},i.createElement(u.FacePile,{entityList:e.topMembers,threshold:5,currentUser:e.currentUser}),i.createElement("div",{className:_.teamMemberCount},m.pluralize(e.memberCount,"member")))));e.ConnectedTeamTile=s.connect((e,t)=>{var a;const i=e.user,s=e.roles.byTeamId[t.team.id],n=e.orgTeams.teams.find(e=>e.id===t.team.id),m=n&&n.top_members&&n.top_members.filter(e=>!e.pending);return{isCurrentUserInTeam:!(!i||!s||!s[i.id]),currentUser:i,memberCount:null!==(a=t.team.member_count)&&void 0!==a?a:0,topMembers:m||[],isLoading:r.isLoading(e.loadingState,o.getJoiningOrgTeamLoadingKey(t.team.id))}},(e,t)=>({onTileClick:()=>{e(c.fileBrowser.selectView({view:"team",teamId:t.team.id,teamViewTab:l.TeamViewTab.HOME}))}}))(e.TeamTileInner)}(b||(b={}));const N=b.ConnectedTeamTile;t.TeamTileForTesting=N,t.TeamTileView=b.TeamTileInner;class C extends i.PureComponent{renderEmptyView(){return this.props.onCreateTeam?i.createElement("div",{className:_.emptyState},i.createElement("div",{className:_.emptyTitle},"No teams yet"),"Teams help you organize your files into projects, share your work easily, and manage permissions.",i.createElement(g.ButtonWhite,{className:_.emptyButton,onClick:this.props.onCreateTeam},i.createElement(v.Svg,{svg:y,className:_.newTeamIcon}),"New Team")):i.createElement("div",null,"No Teams")}render(){const e=[...this.props.orgTeams.teams];n.sortAlphabeticallyByProperty(e,"name");const t=this.props.orgTeams.isFetching;return 0===e.length?this.renderEmptyView():i.createElement("div",{className:t?_.teamTilesLoadingContainer:_.teamTilesGridContainer},i.createElement(d.WithLoading,{isLoading:t},()=>i.createElement("div",{className:_.teamTilesGrid},e.map(e=>i.createElement(N,Object.assign({key:e.id,team:e},this.props))))))}}var f;t.DiscoverableTeamTiles=C,C.displayName="DiscoverableTeamTiles",function(e){class t extends i.PureComponent{constructor(){super(...arguments),this.onTileClick=(()=>{this.props.dispatch(c.fileBrowser.selectView({view:"team",teamId:this.props.team.id,teamViewTab:l.TeamViewTab.HOME}))})}render(){const e=this.props.team;return i.createElement("div",{className:_.teamJoined,onClick:this.onTileClick},i.createElement("div",{className:_.teamUpper},i.createElement(p.Avatar,{className:_.teamIcon,entity:e,size:40}),i.createElement(T.OrgTeamAction,{team:e,onLeave:this.props.onLeave})),i.createElement("div",{className:_.teamTitle},e.name),i.createElement("div",{className:_.teamDescription},e.description))}}t.displayName="GuestTeamTile";e.ConnectedGuestTeamTile=s.connect(e=>({roles:e.roles}))(t)}(f||(f={}));const w=f.ConnectedGuestTeamTile;class L extends i.PureComponent{render(){const e=this.props.teams;return n.sortAlphabeticallyByProperty(e,"name"),i.createElement("div",{className:_.teamTilesGridContainer},e.length<1?i.createElement("div",{className:_.emptyState},"You’re not a member of any teams at ",this.props.orgName,"."):i.createElement("div",{className:_.teamTilesGrid},e.map(e=>i.createElement(w,{key:e.id,team:e,onLeave:this.props.onLeave}))))}}t.GuestTeamTiles=L,L.displayName="GuestTeamTiles"}),
(function(e,t,s){e.exports={grid:"teams--grid--1jeYi search_results_view--grid--1EP07",list:"teams--list--1zoM5 search_results_view--list--3m8h6",rowTemplate:"teams--rowTemplate--31jM-",row:"teams--row--2HQ3a teams--rowTemplate--31jM- search_list_row--row--2h_Rz text--fontPos13--1DoEt text--_fontBase--YWDo0",listHeader:"teams--listHeader--27ru5 teams--rowTemplate--31jM- search_view_bar--listHeader--JdsfJ text--fontPos13--1DoEt text--_fontBase--YWDo0",name:"teams--name--nto-x search_list_row--name--2KbBC search_list_row--_name--2EaTy ellipsis--ellipsis--1RWY6",nameDisabled:"teams--nameDisabled--lJofo search_list_row--nameDisabled--39AmP search_list_row--_name--2EaTy ellipsis--ellipsis--1RWY6",icon:"teams--icon--ugJG7",tileDisabled:"teams--tileDisabled--3GOw6",joinSpinner:"teams--joinSpinner--3iJ8k",touchedAt:"teams--touchedAt--1TkYF",createdAt:"teams--createdAt--2oQ5E",memberCount:"teams--memberCount--1wo-y",join:"teams--join--Zo48p"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(2,1    ),o=s(87      ),a=s(43,1         ),i=s(138      ),n=s(533                                 ),c=s(535                     ),l=s(117                                ),m=s(351                      ),d=s(403                                ),p=s(113                                     ),h=s(536                                 ),_=s(114                              ),u=s(404                                  ),S=s(475                            ),T=s(491                                             ),g=s(492                                  ),C=s(544                        ),w=s(201                                                   ),y=s(510                              ),v=s(529                        ),E=s(541                                          ),f=s(545          );class b extends r.Component{constructor(){super(...arguments),this.onClick=i.withDefaultOpenBehavior(e=>{e.preventDefault(),this.props.onClick()})}render(){const{searchResult:e}=this.props,t=e.files_last_touched_at,s=e.model,o=e.model.created_at;return r.createElement("div",{className:f.row},r.createElement("a",{className:this.props.isCurrentUserInTeam?f.name:f.nameDisabled,onClick:this.onClick,href:this.props.isCurrentUserInTeam?`/files/team/${s.id}`:void 0},r.createElement(S.TeamAvatarWithHandle,{key:s.id,entity:s,size:10,hideFallbackInitial:!0,onClick:void 0})),r.createElement("div",{className:f.touchedAt},t?r.createElement(g.FromNow,{date:t}):"–"),r.createElement("div",{className:f.createdAt},r.createElement(g.FromNow,{date:o})),r.createElement("div",{className:f.memberCount},e.member_count),r.createElement("div",{className:f.join},r.createElement(E.RedirectingOrgTeamAction,{team:s,isCurrentUserInTeam:this.props.isCurrentUserInTeam,isLoading:this.props.isLoading,onOpenTeam:this.props.onClick,onJoin:this.props.onJoin,onLeave:this.props.onLeave,spinnerClassName:f.joinSpinner})),r.createElement(y.SettingsButton,Object.assign({},this.props)))}}class M extends r.Component{constructor(){super(...arguments),this.onJoinRequest=(()=>{}),this.onWithdrawRequestForTeam=(()=>{}),this.onBypassRequest=(()=>{})}render(){return r.createElement("div",null,r.createElement(C.TeamTileView,Object.assign({},this.props,{team:this.props.searchResult.model,isCurrentUserInTeam:this.props.isCurrentUserInTeam,isLoading:this.props.isLoading,currentUser:this.props.user,memberCount:this.props.searchResult.member_count,topMembers:this.props.searchResult.top_members,onTileClick:this.props.onClick,onJoin:this.props.onJoin,onLeave:this.props.onLeave,onJoinRequest:this.onJoinRequest,onWithdrawRequestForTeam:this.onWithdrawRequestForTeam,onBypassRequest:this.onBypassRequest})))}}!function(e){e.viewBarConfig={viewId:"search-teams",sortKeys:[m.TeamSearchSortKeys.RELEVANCY,m.TeamSearchSortKeys.NAME,m.TeamSearchSortKeys.FILES_LAST_TOUCHED_AT,m.TeamSearchSortKeys.CREATED_AT,m.TeamSearchSortKeys.MEMBER_COUNT],listSortKeys:[m.TeamSearchSortKeys.NAME,m.TeamSearchSortKeys.FILES_LAST_TOUCHED_AT,m.TeamSearchSortKeys.CREATED_AT,m.TeamSearchSortKeys.MEMBER_COUNT,d.ViewOptions.SPACER],tabletListSortKeys:[m.TeamSearchSortKeys.NAME,m.TeamSearchSortKeys.FILES_LAST_TOUCHED_AT,m.TeamSearchSortKeys.MEMBER_COUNT,d.ViewOptions.SPACER],mobileListSortKeys:[m.TeamSearchSortKeys.NAME],sortKeyDescriptions:{[l.TileViewMode.GRID]:{relevancy:"Relevance",name:"Name",files_last_touched_at:"Last updated",created_at:"Created",member_count:"Members"},[l.TileViewMode.LIST]:{relevancy:"Relevance",name:"Name",files_last_touched_at:"Last updated",created_at:"Created",member_count:"Members"}},defaultOptions:{viewMode:l.TileViewMode.GRID,sortMode:{sortKey:m.TeamSearchSortKeys.RELEVANCY,sortDesc:!1}},includeSortDirection:e=>{return-1===[m.TeamSearchSortKeys.RELEVANCY].indexOf(e)},settingsSpacer:o.tablet||o.mobile,hideSortDropdownInDesktop:!0},e.gridStyle=f.grid,e.listStyle=f.list;const t=e=>(class extends r.Component{constructor(){super(...arguments),this.onClick=(()=>{this.props.isCurrentUserInTeam&&this.props.onClick()})}render(){const t=Object.assign(Object.assign({},this.props),{onClick:this.onClick});return r.createElement(e,Object.assign({},t))}}),s=(e,t)=>{const s=t.searchResult.model,r=e.roles.byTeamId[s.id]||{};return{isCurrentUserInTeam:!!e.user&&!!r[e.user.id],isLoading:n.isLoading(e.loadingState,c.getJoiningOrgTeamLoadingKey(s.id))}},i=(e,t)=>({onClick:()=>{e(p.fileBrowser.selectViewByTeamId(t.searchResult.model.id))},onJoin:()=>{e(h.orgTeam.join({teamId:t.searchResult.model.id}))},onLeave:()=>{e(_.showModal({type:w.TEAM_CONFIRM_LEAVE_MODAL,data:{teamId:t.searchResult.model.id}}))}});e.SearchResult=v.PerViewModeComponent({[l.TileViewMode.GRID]:a.connect((e,t)=>{const r=s(e,t);return Object.assign(Object.assign({},r),{user:e.user})},i)(t(M)),[l.TileViewMode.LIST]:a.connect(s,i)(t(b))}),e.ListHeader=(t=>{const s={sortMode:Object.assign(Object.assign({},e.viewBarConfig.defaultOptions.sortMode),t.sortState[m.SearchModelType.TEAMS]),viewMode:l.TileViewMode.LIST};return r.createElement(T.ViewBar,{listHeaderClassName:f.listHeader,sortKeys:e.viewBarConfig.sortKeys,listSortKeys:e.viewBarConfig.listSortKeys,tabletListSortKeys:e.viewBarConfig.tabletListSortKeys,mobileListSortKeys:e.viewBarConfig.mobileListSortKeys,sortKeyDescriptions:e.viewBarConfig.sortKeyDescriptions,onChangeSortOptions:e=>{const s=Object.assign(Object.assign({},t.sortState),{[m.SearchModelType.TEAMS]:{sortKey:e.sortKey,sortDesc:e.sortDesc}});t.onChangeSortState(s)},options:s,defaultSortKey:e.viewBarConfig.defaultOptions.sortMode.sortKey,hideViewModeToggle:!0,settingsSpacer:e.viewBarConfig.settingsSpacer})}),e.getValidOptions=(t=>({sortMode:t.search.parameters.sortState.teams,viewMode:u.getValidOptionsForViewMode(e.viewBarConfig.viewId,t,e.viewBarConfig.defaultOptions.viewMode)}))}(t.TeamsSearchResults||(t.TeamsSearchResults={}))}),
(function(e,l,d){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const a=d(115                     ),o=d(118                    );l.getSortableFolderInfo=((e,l)=>{const d=l.team_id&&e.teams[l.team_id],r=e.roles.byFolderId[l.id]||{},t=Object.keys(r).map(e=>r[e]).find(e=>e.level===a.PermissionLevel.OWNER),s=o.getLastUpdatedTime(l,e.fileKeysByFolderId,e.fileByKey);return{folderName:o.getFolderName(l),folderTeamName:d?d.name:null,folderOwnerName:t?t.user.handle:null,folderLastUpdated:s}})}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(2,1    ),r=t(520                                           ),c=t(43,1         );s.CachedSubtree=class{constructor(e,s){this._callback=e,this._previousValue=null,s&&(this._previousValue=this._callback())}render(e){const s=e?this._previousValue=this._callback():this._previousValue;return s instanceof Array?s.map(s=>s&&i.createElement(a,{key:s.key,visible:!!e},s)):s&&i.createElement(a,{key:s.key,visible:!!e},s)}};class a extends i.Component{constructor(){super(...arguments),this.ref=(e=>{this.el=e})}componentDidUpdate(e){this.el&&(!e.visible&&this.props.visible&&r.keyboardDispatcher.focusSubtreeIfNecessary(this.el),e.visible&&!this.props.visible&&r.keyboardDispatcher.blurSubtreeIfNecessary(this.el))}render(){const e={display:this.props.visible?"inline":"none"};return i.createElement("div",{ref:this.ref,className:"cachedSubtree",style:e},this.props.children)}}a.displayName="CachedSubtreeComponent",s.withDispatch=c.connect(void 0,e=>({dispatch:e}))}),
(function(s,r,b){s.exports={starSubscribed:"folder_subscribe_star--starSubscribed--22az4",starUnsubscribed:"folder_subscribe_star--starUnsubscribed--Us3Nk",svgContainer:"folder_subscribe_star--svgContainer--3rC1c"}}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 .5l2 5h5L11 9l1.5 5L8 11l-4.5 3.068L5 8.885 1 5.5h5l2-5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,L){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M10 5.5L8.539 1.846 8 .5l-.539 1.346L6 5.5H1l1.182 1L5 8.885 3.936 12.56 3.5 14.068l1.297-.884L8 11l3.195 2.13L12.5 14l-.45-1.502L11 9l2.857-2.5L15 5.5h-5zm2.339 1H9.323l-.251-.629L8 3.193 6.928 5.87l-.251.629H3.73l1.916 1.622.495.419-.18.622-.728 2.513 2.204-1.502.557-.38.56.374 2.19 1.46-.702-2.34-.185-.617.485-.424L12.338 6.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e(2,1    ),i=e(548                          ),a=e(188                               ),r=e(421                                ),p=e(146                        ),l=e(232                       ),c=e(549                          ),d=e(550                               ),n=e(551                                 );class u extends o.Component{constructor(){super(...arguments),this.state={isHover:!1},this.clearTooltip=(()=>{this.props.dispatch(r.tooltip.hide()),this.setState({isHover:!1})}),this.toggleSubscription=(s=>{s.stopPropagation(),this.props.dispatch(a.folder.setIsSubscribed({folderId:this.props.folder.id,isSubscribed:!this.props.folder.is_subscribed})),this.clearTooltip()}),this.onMouseEnter=(()=>{this.setState({isHover:!0})}),this.onMouseLeave=(()=>{this.clearTooltip()})}render(){const s=this.props.folder.is_subscribed||this.state.isHover,t=s?c.starSubscribed:c.starUnsubscribed,e=s?d:n,i=this.props.folder.is_subscribed?null:"Add to Favorites";return o.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:c.svgContainer,onClick:this.toggleSubscription,"data-tooltip-type":l.TooltipType.TEXT,"data-tooltip":i,"data-tooltip-timeout-delay":50,"data-tooltip-offset-y":-4},o.createElement(p.Svg,{className:t,svg:e}))}}u.displayName="FolderSubscribeStar",t.FolderSubscribeStar=i.withDispatch(u)}),
(function(l,e,i){l.exports={_fileTileContainer:"folder_list_card--_fileTileContainer--2lbvg",folderCard:"folder_list_card--folderCard--LTX9e",folderEmptyTile:"folder_list_card--folderEmptyTile--1AdfQ folder_list_card--_fileTileContainer--2lbvg",folderTiles:"folder_list_card--folderTiles--2uTi0",folderUpperRow:"folder_list_card--folderUpperRow--1EgXe",folderInfoTile:"folder_list_card--folderInfoTile--3I-ii folder_list_card--_fileTileContainer--2lbvg",folderInfoFooter:"folder_list_card--folderInfoFooter--145rW",folderActivity:"folder_list_card--folderActivity--Am89J",folderTeamNameOrAuthor:"folder_list_card--folderTeamNameOrAuthor--19MCW",folderName:"folder_list_card--folderName--1uCDF text--fontPos13--1DoEt text--_fontBase--YWDo0",folderDescription:"folder_list_card--folderDescription--25k4E ellipsis--ellipsisAfter3Lines--30mso ellipsis--_ellipsisAfterNLines--26JkZ",fileTile:"folder_list_card--fileTile--FYSue folder_list_card--_fileTileContainer--2lbvg",fileName:"folder_list_card--fileName--21voK ellipsis--ellipsis--1RWY6",invisibleFileTile:"folder_list_card--invisibleFileTile--3Uo1J folder_list_card--fileTile--FYSue folder_list_card--_fileTileContainer--2lbvg",image:"folder_list_card--image--2eURH",thumbnailContainer:"folder_list_card--thumbnailContainer--iOXoU",thumbnail:"folder_list_card--thumbnail--3R3v2",thumbnailFullWidth:"folder_list_card--thumbnailFullWidth--1Pt0a"}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(2,1    ),l=t(43,1         ),i=t(87      ),o=t(211              ),a=t(357                  ),n=t(123         ),d=t(111          ),p=t(113                                     ),c=t(547                     ),m=t(492                                  ),f=t(552                      ),h=t(553                     ),u=t(500                            ),b=t(510                                                     );class N extends s.PureComponent{constructor(){super(...arguments),this.MAX_FILES=15,this.onClick=(e=>{(i.mac?e.metaKey:e.ctrlKey)||e.shiftKey||(e.preventDefault(),this.props.onFolderClick())})}renderFileTiles(e){return e.map(e=>s.createElement(E,{key:e.key,file:e,teamId:this.props.folder.team_id,onFileClick:this.props.onFileClick}))}renderEmpty(){return s.createElement("div",{className:h.folderEmptyTile},this.props.hideFileThumbnails?"Join this Project to view files":"No files yet")}render(){const e=this.props.folderFiles.length,r=0===e,t=this.props.folderFiles.sort((e,r)=>e.touched_at<r.touched_at?1:-1).slice(0,this.MAX_FILES);return s.createElement("div",{className:h.folderCard,onClick:this.onClick},s.createElement(F,Object.assign({},this.props,{folder:this.props.folder,folderName:this.props.folderName,folderTeamName:this.props.folderTeamName,folderOwnerName:this.props.folderOwnerName,folderLastUpdated:this.props.folderLastUpdated,folderFileCount:e,showTeamNameOrAuthor:this.props.showTeamNameOrAuthor,hideSubscribe:!!this.props.hideSubscribe})),(r||this.props.hideFileThumbnails)&&this.renderEmpty(),!(r||this.props.hideFileThumbnails)&&s.createElement("div",{className:h.folderTiles},this.renderFileTiles(t),_(this.MAX_FILES-t.length)))}}r.FolderListCard=l.connect((e,r)=>{const t=(e.fileKeysByFolderId[r.folder.id]||[]).map(r=>e.fileByKey[r]).filter(e=>!!e);return Object.assign(Object.assign({},c.getSortableFolderInfo(e,r.folder)),{folderFiles:t})},(e,r)=>({onFolderClick:()=>{e(p.fileBrowser.selectViewByFolderId(r.folder.id))},onFileClick:r=>{e(p.fileBrowser.selectView({view:"fullscreen",fileKey:r}))}}))(N),r.FolderListCardView=N;class F extends s.Component{render(){const e=this.props.folder,r=this.props.folderTeamName&&`In ${this.props.folderTeamName}`,t=this.props.folderOwnerName&&`${this.props.folderOwnerName} (owner)`;return s.createElement("div",{className:h.folderInfoTile},s.createElement("div",{className:h.folderUpperRow},s.createElement("div",{className:h.folderName},this.props.folderName),s.createElement(b.SettingsButton,Object.assign({},this.props))),s.createElement("div",{className:h.folderDescription},e.description),this.props.showTeamNameOrAuthor&&s.createElement("div",{className:h.folderTeamNameOrAuthor},r||t),s.createElement("div",{className:h.folderInfoFooter},!this.props.hideSubscribe&&s.createElement(f.FolderSubscribeStar,{folder:e}),s.createElement("div",{className:h.folderActivity},n.pluralize(this.props.folderFileCount,"file"),this.props.folderLastUpdated&&s.createElement(s.Fragment,null,", updated ",s.createElement(m.FromNow,{date:this.props.folderLastUpdated})))))}}const _=e=>[Array(e).fill(!0).map((e,r)=>s.createElement("div",{key:`invis-${r}`,className:h.invisibleFileTile}))];class E extends s.Component{constructor(){super(...arguments),this.onClick=(e=>{e.preventDefault(),e.stopPropagation(),o.desktopApp&&d.trackEvent("Open File Click",{fileKey:this.props.file.key,uiSelectedView:JSON.stringify({teamId:this.props.teamId})}),this.props.onFileClick(this.props.file.key)})}render(){const e=this.props.file,r=e.thumbnail_guid?h.thumbnailFullWidth:h.thumbnail;return s.createElement("a",{className:h.fileTile,href:this.props.file.edit_url,rel:"noopener",onClick:this.onClick,draggable:!1},s.createElement("div",{className:h.image,style:{background:`url(${u.default()})`}},s.createElement("div",{className:h.thumbnailContainer,style:{backgroundColor:a.fileBackgroundColor(e.client_meta)}},s.createElement("div",{className:r,style:{backgroundImage:`url(${e.thumbnail_url})`}}))),s.createElement("div",{className:h.fileName},e.name))}}}),
(function(e,t,s){e.exports={grid:"projects--grid--3H0ln search_results_view--list--3m8h6",list:"projects--list--2oGDb search_results_view--list--3m8h6",rowTemplate:"projects--rowTemplate--2O5Kl",row:"projects--row--2LaJz projects--rowTemplate--2O5Kl search_list_row--row--2h_Rz text--fontPos13--1DoEt text--_fontBase--YWDo0",listHeader:"projects--listHeader--1oD9M projects--rowTemplate--2O5Kl search_view_bar--listHeader--JdsfJ text--fontPos13--1DoEt text--_fontBase--YWDo0",name:"projects--name--Yq15o search_list_row--name--2KbBC search_list_row--_name--2EaTy ellipsis--ellipsis--1RWY6",ellipsis:"projects--ellipsis--1usVY ellipsis--ellipsis--1RWY6",touchedAt:"projects--touchedAt--3OGdd",createdAt:"projects--createdAt--11hhn",fileCount:"projects--fileCount--2WnR9"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(2,1    ),s=o(43,1         ),a=o(87      ),i=o(138      ),c=o(117                                ),l=o(351                      ),n=o(113                                     ),d=o(404                                  ),S=o(554                               ),_=o(491                      ),m=o(492                                  ),h=o(510                              ),f=o(529                        ),u=o(555             ),w=e=>{const{searchResult:t}=e,o=t.files_last_touched_at?new Date(t.files_last_touched_at):null;return r.createElement(S.FolderListCardView,Object.assign({},e,{key:t.model.id,showTeamNameOrAuthor:!0,folder:t.model,folderFiles:t.recent_files,folderName:t.model.name,folderTeamName:e.teamName,folderOwnerName:null,folderLastUpdated:o,onFolderClick:e.onProjectClick,onFileClick:e.onFileClick,hideSubscribe:!0}))};class y extends r.Component{constructor(){super(...arguments),this.onProjectClick=i.withDefaultOpenBehavior(e=>{e.preventDefault(),this.props.onProjectClick()})}render(){const{searchResult:e}=this.props;return r.createElement("div",{className:u.row},r.createElement("a",{className:u.name,onClick:this.onProjectClick,href:`/files/project/${e.model.id}`},r.createElement("span",{className:u.ellipsis},e.model.name)),r.createElement("div",{className:u.touchedAt},e.files_last_touched_at?r.createElement(m.FromNow,{date:e.files_last_touched_at}):"–"),r.createElement("div",{className:u.createdAt},r.createElement(m.FromNow,{date:e.model.created_at})),r.createElement("div",{className:u.fileCount},e.file_count),r.createElement(h.SettingsButton,Object.assign({},this.props)))}}!function(e){e.viewBarConfig={viewId:"search-projects",sortKeys:[l.ProjectSearchSortKeys.RELEVANCY,l.ProjectSearchSortKeys.NAME,l.ProjectSearchSortKeys.FILES_LAST_TOUCHED_AT,l.ProjectSearchSortKeys.CREATED_AT,l.ProjectSearchSortKeys.FILE_COUNT],listSortKeys:[l.ProjectSearchSortKeys.NAME,l.ProjectSearchSortKeys.FILES_LAST_TOUCHED_AT,l.ProjectSearchSortKeys.CREATED_AT,l.ProjectSearchSortKeys.FILE_COUNT],tabletListSortKeys:[l.ProjectSearchSortKeys.NAME,l.ProjectSearchSortKeys.FILES_LAST_TOUCHED_AT,l.ProjectSearchSortKeys.FILE_COUNT],mobileListSortKeys:[l.ProjectSearchSortKeys.NAME],sortKeyDescriptions:{[c.TileViewMode.GRID]:{relevancy:"Relevance",name:"Name",files_last_touched_at:"Last updated",created_at:"Created",file_count:"Files"},[c.TileViewMode.LIST]:{relevancy:"Relevance",name:"Name",files_last_touched_at:"Last updated",created_at:"Created",file_count:"Files"}},defaultOptions:{viewMode:c.TileViewMode.GRID,sortMode:{sortKey:l.ProjectSearchSortKeys.RELEVANCY,sortDesc:!1}},includeSortDirection:e=>{return-1===[l.ProjectSearchSortKeys.RELEVANCY].indexOf(e)},hideSortDropdownInDesktop:!0},e.listStyle=u.list,e.gridStyle=u.grid,e.ListHeader=(t=>{const o=[l.ProjectSearchSortKeys.NAME,l.ProjectSearchSortKeys.FILES_LAST_TOUCHED_AT,l.ProjectSearchSortKeys.CREATED_AT,l.ProjectSearchSortKeys.FILE_COUNT],s={sortMode:Object.assign(Object.assign({},e.viewBarConfig.defaultOptions.sortMode),t.sortState[l.SearchModelType.PROJECTS]),viewMode:c.TileViewMode.LIST};return r.createElement(_.ViewBar,{listHeaderClassName:u.listHeader,sortKeys:o,listSortKeys:e.viewBarConfig.listSortKeys,tabletListSortKeys:e.viewBarConfig.tabletListSortKeys,mobileListSortKeys:e.viewBarConfig.mobileListSortKeys,sortKeyDescriptions:e.viewBarConfig.sortKeyDescriptions,onChangeSortOptions:e=>{const o=Object.assign(Object.assign({},t.sortState),{[l.SearchModelType.PROJECTS]:{sortKey:e.sortKey,sortDesc:e.sortDesc}});t.onChangeSortState(o)},options:s,defaultSortKey:e.viewBarConfig.defaultOptions.sortMode.sortKey,hideViewModeToggle:!0,settingsSpacer:a.mobile||a.tablet})}),e.getValidOptions=(t=>({sortMode:t.search.parameters.sortState.projects,viewMode:d.getValidOptionsForViewMode(e.viewBarConfig.viewId,t,e.viewBarConfig.defaultOptions.viewMode)}));const t=(e,t)=>{var o,r;const s=t.searchResult.model.team_id;return{teamName:null!==(r=s&&(null===(o=e.teams[s])||void 0===o?void 0:o.name))&&void 0!==r?r:null}};e.SearchResult=f.PerViewModeComponent({[c.TileViewMode.GRID]:s.connect(t,(e,t)=>({onProjectClick:()=>{e(n.fileBrowser.selectViewByFolderId(t.searchResult.model.id))},onFileClick:t=>{e(n.fileBrowser.selectView({view:"fullscreen",fileKey:t}))}}))(w),[c.TileViewMode.LIST]:s.connect(t,(e,t)=>({onProjectClick:()=>{e(n.fileBrowser.selectViewByFolderId(t.searchResult.model.id))}}))(y)})}(t.ProjectsSearchResults||(t.ProjectsSearchResults={}))}),
(function(s,e,i){s.exports={grid:"users--grid--neMtr search_results_view--grid--1EP07",list:"users--list--3IiST search_results_view--list--3m8h6",tileContainer:"users--tileContainer--2d-OC",settingsButton:"users--settingsButton--Cqg6K",tileContent:"users--tileContent--1QLTf",gridEllipsis:"users--gridEllipsis--3xDfQ ellipsis--ellipsis--1RWY6",tileName:"users--tileName--3Li_f users--gridEllipsis--3xDfQ ellipsis--ellipsis--1RWY6",email:"users--email--23Qsf users--gridEllipsis--3xDfQ ellipsis--ellipsis--1RWY6",lastActiveAt:"users--lastActiveAt--2Hyez",rowTemplate:"users--rowTemplate--ORAVo",row:"users--row--BQozI search_list_row--row--2h_Rz text--fontPos13--1DoEt text--_fontBase--YWDo0 users--rowTemplate--ORAVo",rowEmail:"users--rowEmail--2huun ellipsis--ellipsis--1RWY6",listHeader:"users--listHeader--1RlF3 search_view_bar--listHeader--JdsfJ text--fontPos13--1DoEt text--_fontBase--YWDo0 users--rowTemplate--ORAVo",listName:"users--listName--25ZsA search_list_row--name--2KbBC search_list_row--_name--2EaTy ellipsis--ellipsis--1RWY6"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(138      ),i=s(2,1    ),a=s(43,1         ),o=s(87      ),l=s(351                      ),n=s(117                                ),c=s(458                         ),d=s(404                                  ),m=s(475                            ),S=s(491                                             ),v=s(492                                  ),w=s(510                              ),u=s(113                                     ),f=s(529                        ),g=s(557          );!function(e){const t=[l.UserSearchSortKeys.NAME,l.UserSearchSortKeys.EMAIL];e.viewBarConfig={viewId:"search-users",sortKeys:[l.UserSearchSortKeys.RELEVANCY,l.UserSearchSortKeys.NAME,l.UserSearchSortKeys.EMAIL],listSortKeys:t,tabletListSortKeys:t,mobileListSortKeys:[l.UserSearchSortKeys.NAME],sortKeyDescriptions:{[n.TileViewMode.GRID]:{relevancy:"Relevance",name:"Name",email:"Email"},[n.TileViewMode.LIST]:{relevancy:"Relevance",name:"Name",email:"Email"}},defaultOptions:{viewMode:n.TileViewMode.GRID,sortMode:{sortKey:l.UserSearchSortKeys.RELEVANCY,sortDesc:!1}},includeSortDirection:e=>{return-1===[l.UserSearchSortKeys.RELEVANCY].indexOf(e)},settingsSpacer:o.tablet||o.mobile,hideSortDropdownInDesktop:!0},e.gridStyle=g.grid,e.listStyle=g.list;const s=(e,t)=>{const s=t.searchResult.model.id;return{linkToProfile:e.currentOrgId?`/files/${e.currentOrgId}/user/${s}`:`/files/user/${s}`}},p=(e,t)=>({onClick:()=>{e(u.fileBrowser.selectView({view:"user",userId:t.searchResult.model.id,userViewTab:c.UserViewTab.INTERNAL_PROFILE}))}});e.SearchResult=f.PerViewModeComponent({[n.TileViewMode.GRID]:a.connect(s,p)(e=>{const t=e.searchResult.model,s=r.withDefaultOpenBehavior(t=>{t.preventDefault(),e.onClick()});return i.createElement("div",{className:g.tileContainer},i.createElement("div",{className:g.settingsButton},i.createElement(w.SettingsButton,Object.assign({},e))),i.createElement("a",{href:e.linkToProfile,className:g.tileContent,onClick:s},i.createElement(m.Avatar,{size:48,entity:t}),i.createElement("div",{className:g.tileName},t.name||t.handle),i.createElement("div",{className:g.email},t.email),i.createElement("div",{className:g.lastActiveAt},e.searchResult.last_active_at?i.createElement(i.Fragment,null,"Last active ",i.createElement(v.FromNow,{date:e.searchResult.last_active_at})):"Not active yet")))}),[n.TileViewMode.LIST]:a.connect(s,p)(e=>{const t=e.searchResult.model,s=r.withDefaultOpenBehavior(t=>{t.preventDefault(),e.onClick()});return i.createElement("div",{className:g.row},i.createElement("a",{href:e.linkToProfile,onClick:s,className:g.listName},i.createElement(m.AvatarWithHandle,{key:t.id,entity:t,size:24})),i.createElement("div",{className:g.rowEmail},t.email),i.createElement(w.SettingsButton,Object.assign({},e)))})}),e.ListHeader=(t=>{const s={sortMode:Object.assign(Object.assign({},e.viewBarConfig.defaultOptions.sortMode),t.sortState[l.SearchModelType.USERS]),viewMode:n.TileViewMode.LIST};return i.createElement(S.ViewBar,{listSortKeys:e.viewBarConfig.listSortKeys,tabletListSortKeys:e.viewBarConfig.tabletListSortKeys,mobileListSortKeys:e.viewBarConfig.mobileListSortKeys,listHeaderClassName:g.listHeader,sortKeys:e.viewBarConfig.sortKeys,sortKeyDescriptions:e.viewBarConfig.sortKeyDescriptions,onChangeSortOptions:e=>{const s=Object.assign(Object.assign({},t.sortState),{[l.SearchModelType.USERS]:{sortKey:e.sortKey,sortDesc:e.sortDesc}});t.onChangeSortState(s)},options:s,defaultSortKey:e.viewBarConfig.defaultOptions.sortMode.sortKey,hideViewModeToggle:!0,settingsSpacer:e.viewBarConfig.settingsSpacer})}),e.getValidOptions=(t=>({sortMode:t.search.parameters.sortState.users,viewMode:d.getValidOptionsForViewMode(e.viewBarConfig.viewId,t,e.viewBarConfig.defaultOptions.viewMode)}))}(t.UsersSearchResults||(t.UsersSearchResults={}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),i=a(138      ),l=a(113                                     ),o=a(154                                 ),n=a(136                                 ),r=a(147                                            ),c=a(152                                          ),p=a(191          );class d extends s.PureComponent{constructor(){super(...arguments),this.onClick=i.withDefaultOpenBehavior(e=>{e.preventDefault(),this.props.callback(),this.props.dispatch(l.fileBrowser.hideModal())}),this.cancel=i.withDefaultOpenBehavior(e=>{e.preventDefault(),this.props.dispatch(l.fileBrowser.hideModal())})}render(){return s.createElement(o.Modal,{size:"small",dispatch:this.props.dispatch,title:"Installing third party plugins"},s.createElement(c.ModalCloseButton,{dispatch:this.props.dispatch}),s.createElement("div",null,"Please note, plugins are made by third-party developers. By using plugins, you accept the potential risks. You won’t see this message again.",s.createElement("div",{className:p.buttonRow},s.createElement(r.ButtonSecondary,{onClick:this.cancel},"Cancel"),s.createElement(r.ButtonPrimary,{className:p.confirmButton,onClick:this.onClick},"Install Plugin"))))}}d.displayName="PluginInstallConfirmationModal",t.PLUGIN_INSTALL_CONFIRMATION_MODAL=n.registerModal(d,"PluginInstallConfirmationModal")}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=i(108     ),l=i(111          ),s=i(441                                                     ),n=i(114                              ),r=i(91                  ),g=i(100                               ),d=i(279                             ),o=i(440                          ),u=i(353                                  ),c=i(559                                                      );e.put=r.actionCreator("PLUGIN_INSTALL_PUT"),e.del=r.actionCreator("PLUGIN_INSTALL_DEL"),e.replaceInstalled=r.actionCreator("PLUGIN_REPLACE_INSTALLED"),e.mergeInstalled=g.asyncActionCreator("MERGE_INSTALLED_PLUGINS",(t,i)=>{t.dispatch(s.mergePublishedAndValidate({publishedPlugins:[...i.user,...i.org],src:"mergeInstalled"}));const a={org:i.org.reduce((t,e)=>(t[e.id]=e,t),{}),user:i.user.reduce((t,e)=>(t[e.id]=e,t),{})};t.dispatch(e.put(a))}),e.initializeInstalledPlugins=g.asyncActionCreator("INITIALIZE_INSTALLED_PLUGINS",(t,i,n)=>{if(!t.getState().user)return;let r={};const g=t.getState().currentOrgId;g&&(r={org_id:g}),i.fileKey&&(r=Object.assign(Object.assign({},r),{file_key:i.fileKey}));const d=a.default.get("/api/plugins/installed",r);u.registerLoadingState(d,t,n),d.then(({data:i})=>{const a=i.meta;t.dispatch(s.mergePublishedAndValidate({publishedPlugins:[...a.user,...a.org],src:"mergeInstalled"}));const n={org:a.org.reduce((t,e)=>(t[e.id]=e,t),{}),user:a.user.reduce((t,e)=>(t[e.id]=e,t),{})};t.dispatch(e.replaceInstalled(n)),l.segment.track("Hub Plugin Install Count",{org:a.org.length,user:a.user.length})}).catch(()=>{})},(t,{orgId:e})=>e?`${t}_${e}`:t),e.installPlugin=g.optimisticActionCreator("INSTALL_PLUGIN",async(t,{pluginId:i,versionId:s,orgId:n},r)=>{let u={plugin_version_id:s,org_id:n,current_org_id:t.getState().currentOrgId,can_handle_first_time_install:!0};a.default.post(`/api/plugins/${i}/install`,u).then(({data:a})=>{t.dispatch(g.optimistActions.commit(r));const s=a.meta;t.dispatch(e.mergeInstalled({org:n?[s]:[],user:n?[]:[s]})),t.dispatch(d.visualBellActions.enqueue({message:"Plugin Installed",type:"plugin-installed",button:{text:"Undo",action:()=>{t.dispatch(e.uninstallPlugin({pluginId:i,orgId:n}))}}})),l.segment.track("Hub Plugin Install",Object.assign({pluginId:s.id,userOrOrg:n?"org":"user",orgId:n||null},o.getRoleInfoForTracking(s)))}).catch(e=>{t.dispatch(g.optimistActions.revert(r)),403===e.data.status?t.dispatch(d.visualBellActions.enqueue({message:`Unable to install plugin: ${e.data.message}`,type:"PLUGIN_INSTALL_FAILED",error:!0})):t.dispatch(d.visualBellActions.enqueue({message:"Unable to install plugin. Please try again.",type:"PLUGIN_INSTALL_FAILED",error:!0}))})}),e.uninstallPlugin=g.optimisticActionCreator("UNINSTALL_PLUGIN",async(t,{pluginId:i,orgId:n},r)=>{const o=n?"org":"user";a.default.del(`/api/plugins/${i}/install`,{org_id:n,current_org_id:t.getState().currentOrgId}).then(({data:a})=>{const u=a.meta;t.dispatch(s.mergePublishedAndValidate({publishedPlugins:[u],src:"mergeInstalled"})),t.dispatch(g.optimistActions.commit(r)),t.dispatch(e.del({orgOrUser:o,pluginId:i})),t.dispatch(d.visualBellActions.enqueue({message:"Uninstalled",type:"PLUGIN_UNINSTALL_SUCCESS"})),l.segment.track("Hub Plugin Uninstall",{pluginId:i,userOrOrg:n?"org":"user"})}).catch(e=>{t.dispatch(g.optimistActions.revert(r)),console.log(e)})}),e.checkPluginInstallStatus=g.asyncActionCreator("CHECK_PLUGIN_INSTALL_STATUS",(t,e)=>{let i={plugin_id:e.pluginId};e.orgId&&(i.org_id=e.orgId),a.default.get("/api/plugins/install_status",i).then(({data:t})=>{e.callback(!t.meta.previously_installed_plugin)}).catch(e=>{t.dispatch(d.visualBellActions.enqueue({type:"plugin-install-error",message:`Unable to install plugin: ${e.data.message}`,error:!0}))})}),e.tryInstallPlugin=g.asyncActionCreator("TRY_INSTALL_PLUGIN",(t,i)=>{const{orgId:a,pluginId:l}=i;t.dispatch(e.checkPluginInstallStatus({orgId:a,pluginId:l,callback:i=>{i?t.dispatch(n.showModal({type:c.PLUGIN_INSTALL_CONFIRMATION_MODAL,data:{dispatch:t.dispatch,callback:()=>{t.dispatch(e.installPlugin({pluginId:l,orgId:a}))}}})):t.dispatch(e.installPlugin({pluginId:l,orgId:a}))}}))})}),
(function(t,e,o){t.exports={container:"button_split--container--14Ttp",disabledContainer:"button_split--disabledContainer--u4e-P",splitButtonDropdown:"button_split--splitButtonDropdown--3-Htc",_buttonBase:"button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",_negativeButtonBase:"button_split--_negativeButtonBase--3OFod button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",_deselectButtonBase:"button_split--_deselectButtonBase--3nh2e button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",_deselectActiveButtonBase:"button_split--_deselectActiveButtonBase--129kt button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",_ctaButtonBase:"button_split--_ctaButtonBase--1f36L button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",ctaButton:"button_split--ctaButton--HO2Lg button_split--_ctaButtonBase--1f36L button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",ctaButtonSelected:"button_split--ctaButtonSelected--MRb_X button_split--_ctaButtonBase--1f36L button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 button_split--_negativeButtonBase--3OFod button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",ctaButtonDeselect:"button_split--ctaButtonDeselect--1R5MB button_split--_ctaButtonBase--1f36L button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 button_split--_deselectButtonBase--3nh2e button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",_caretButtonBase:"button_split--_caretButtonBase--2576E button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",caretButton:"button_split--caretButton--1dSH- button_split--_caretButtonBase--2576E button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",caretButtonSelected:"button_split--caretButtonSelected--9RMDl button_split--_caretButtonBase--2576E button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 button_split--_negativeButtonBase--3OFod button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",caretButtonDeselect:"button_split--caretButtonDeselect--tJS0I button_split--_caretButtonBase--2576E button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 button_split--_deselectButtonBase--3nh2e button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",caretButtonDeselectActive:"button_split--caretButtonDeselectActive--1qVVD button_split--_caretButtonBase--2576E button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 button_split--_deselectActiveButtonBase--129kt button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",hidden:"button_split--hidden--1PKTD",caretContent:"button_split--caretContent--3XNXt"}}),
(function(l,t,e){l.exports={src:'<svg width="10" height="8" viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M5 4.94L1.53 1.47.47 2.53 5 7.06l4.53-4.53-1.06-1.06L5 4.94z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(2,1    ),n=s(146                        ),i=s(147                                            ),a=s(113                                     ),r=s(232                       ),c=s(561                 ),p=s(409                                  ),l=s(137                                    ),d=s(355                                ),h=p.dropdown.Dropdown,u=p.dropdown.CheckableOption,m=s(562                                 );class v extends o.PureComponent{constructor(t){super(t),this.onMouseEnter=(()=>{this.setState({isMouseOver:!0})}),this.onMouseLeave=(()=>{this.setState({isMouseOver:!1,shouldListenToMouseEvents:!0})}),this.onShowDropdown=(()=>{this.props.dispatch(a.fileBrowser.showDropdown({type:this.props.dropdownKey}))}),this.onOptionClick=(t=>{this.props.selectedId===t?this.props.onDeselect(t):(this.props.selectedId&&this.props.onDeselect(this.props.selectedId),this.props.onSelect(t)),this.setState({shouldListenToMouseEvents:!1})}),this.renderDropdown=(()=>o.createElement(h,{className:c.splitButtonDropdown},this.props.options.map(t=>{const e=this.props.selectedId===t.id,s=e?"disable":"enable",n=this.props["data-search-click-action"];return o.createElement(u,{"data-search-click-action":`${n||this.props.dropdownKey}=>${t.id}:${s}`,key:t.id,disabled:t.disabled,onClick:this.onOptionClick.bind(this,t.id),checked:e},o.createElement("span",null,e?t.longDeselectText:t.longSelectText))}))),this.state={isMouseOver:!1,shouldListenToMouseEvents:!0}}render(){var t;if(!this.props.options||0===this.props.options.length)return null;const e=this.props.selectedId&&this.props.options.find(t=>t.id===this.props.selectedId),s=e||this.props.options[0],a=(null===(t=this.props.dropdownShown)||void 0===t?void 0:t.type)===this.props.dropdownKey,p=this.state.isMouseOver&&this.state.shouldListenToMouseEvents;let l,h,u,v=!1;a?(v=!0,e?(u=e.shortDeselectText,l=c.ctaButtonDeselect,h=c.caretButtonDeselectActive):(u=s.shortSelectText,l=c.ctaButton,h=c.caretButtonSelected)):e?p?(l=c.ctaButtonDeselect,h=c.caretButtonDeselect,v=!0,u=e.shortDeselectText):(l=c.ctaButtonSelected,h=c.caretButtonSelected,v=!1,u=e.shortSelectedText):(u=s.shortSelectText,l=c.ctaButton,p?(h=c.caretButton,v=!0):(h=c.caretButton,v=!1));const B=this.props.options.every(t=>t.disabled),C=[c.container,B?c.disabledContainer:"",this.props.className||""].filter(t=>!!t).join(" "),S=this.props["data-search-click-action"],T=B?d.IGNORE_CLICK_CAPTURE:S;return o.createElement("div",{className:C,onMouseEnter:B?void 0:this.onMouseEnter,onMouseLeave:B?void 0:this.onMouseLeave,onClick:e?this.onShowDropdown:void 0,"data-tooltip-type":r.TooltipType.TEXT,"data-tooltip":this.props.tooltip,"data-tooltip-show-immediately":!0},o.createElement(i.ButtonSecondary,{"data-search-click-action":T,className:`${l} ${this.props.ctaButtonClassName||""}`,disabled:s.disabled,onClick:e?void 0:this.onOptionClick.bind(this,s.id)},u),o.createElement(i.ButtonSecondary,{"data-search-click-action":d.IGNORE_CLICK_CAPTURE,className:`${h} ${this.props.caretButtonClassName||""}`,disabled:B,onClick:e?void 0:this.onShowDropdown},o.createElement("div",{className:c.hidden},this.props.caretButtonText),o.createElement("div",{className:c.caretContent},v?o.createElement(n.Svg,{svg:m}):this.props.caretButtonText)),a&&this.renderDropdown())}}e.ButtonSplit=v,v.displayName="ButtonSplit";class B extends o.PureComponent{constructor(t){super(t),this.onMouseEnter=(()=>{this.setState({isMouseOver:!0})}),this.onMouseLeave=(()=>{this.setState({isMouseOver:!1,shouldListenToMouseEvents:!0})}),this.onClick=(()=>{this.props.onClick&&this.props.onClick(),this.setState({shouldListenToMouseEvents:!1})}),this.state={isMouseOver:!1,shouldListenToMouseEvents:!0}}getCTAText(){const t=this.props.hoverStateOptions;return t?this.state.isMouseOver&&this.state.shouldListenToMouseEvents&&this.props.isSelected?t.deselectText:this.props.isSelected?t.selectedText:t.selectText:this.props.children}getButtonClassNames(){return this.props.hoverStateOptions&&this.state.isMouseOver&&this.state.shouldListenToMouseEvents&&this.props.isSelected?{ctaButtonClassName:c.ctaButtonDeselect,caretButtonClassName:c.caretButtonDeselect}:this.props.isSelected?{ctaButtonClassName:c.ctaButtonSelected,caretButtonClassName:c.caretButtonSelected}:{ctaButtonClassName:c.ctaButton,caretButtonClassName:c.caretButton}}render(){const t=[c.container,this.props.disabled?c.disabledContainer:"",this.props.className||""].filter(t=>!!t).join(" "),{ctaButtonClassName:e,caretButtonClassName:s}=this.getButtonClassNames();return o.createElement("div",{className:t,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o.createElement(i.ButtonSecondary,{"data-search-click-action":this.props["data-search-click-action"],className:`${e} ${this.props.ctaButtonClassName||""}`},this.getCTAText()),o.createElement(i.ButtonSecondary,{"data-search-click-action":`caret: ${this.props.caretButtonText}`,className:`${s}\n          ${this.props.caretButtonClassName||""}`},this.props.caretButtonText))}}e.ButtonSplitNoDropdown=B,e.ButtonSplitNoDropdownTracked=l.asTrackedClickable(B)}),
(function(t,o,n){t.exports={_buttonBase:"button_split__OLD--_buttonBase--10Wi3 text--fontPos14--3UJ36 text--_fontBase--YWDo0",caretButton:"button_split__OLD--caretButton--374WP",buttonBorder1px:"button_split__OLD--buttonBorder1px--1Ns3v button_split__OLD--_buttonBase--10Wi3 text--fontPos14--3UJ36 text--_fontBase--YWDo0",buttonBorder2px:"button_split__OLD--buttonBorder2px--2x3Wm button_split__OLD--_buttonBase--10Wi3 text--fontPos14--3UJ36 text--_fontBase--YWDo0",selectedButton:"button_split__OLD--selectedButton--1kLOf text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",caretButtonActive:"button_split__OLD--caretButtonActive--1ZgLL text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM button_split__OLD--caretButton--374WP",deselectButton:"button_split__OLD--deselectButton--1DBZC",container:"button_split__OLD--container--15EMK",containerFullWidth:"button_split__OLD--containerFullWidth--29i2T button_split__OLD--container--15EMK",disabledContainer:"button_split__OLD--disabledContainer--1a2k1",splitButtonDropdown:"button_split__OLD--splitButtonDropdown--1eTDk",ctaButton:"button_split__OLD--ctaButton--N9fzk",ctaButtonSelected:"button_split__OLD--ctaButtonSelected--1Fs9t",ctaButtonFullWidth:"button_split__OLD--ctaButtonFullWidth--3L8Va"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(2,1    ),i=o(146                        ),n=o(147                                            ),p=o(113                                     ),r=o(232                       ),d=o(564                      ),a=o(355                                ),l=o(409                                  ),c=l.dropdown.Dropdown,h=l.dropdown.CheckableOption,u=o(562                                 );class m extends s.PureComponent{constructor(t){super(t),this.onMouseEnter=(()=>{this.setState({isMouseOver:!0})}),this.onMouseLeave=(()=>{this.setState({isMouseOver:!1,shouldListenToMouseEvents:!0})}),this.onShowDropdown=(t=>{this.props.dispatch(p.fileBrowser.showDropdown({type:this.props.dropdownKey}))}),this.onOptionClick=(t=>{this.props.selectedId===t?this.props.onDeselect(t):(this.props.selectedId&&this.props.onDeselect(this.props.selectedId),this.props.onSelect(t)),this.setState({shouldListenToMouseEvents:!1})}),this.renderDropdown=(t=>s.createElement(c,{className:d.splitButtonDropdown},this.props.options.map(t=>{const e=this.props.selectedId===t.id,o=e?t.longDeselectText:t.longSelectText,i=this.props["data-search-click-action"],n=e?`un${i}`:i;return s.createElement(h,{key:t.id,disabled:t.disabled,onClick:this.onOptionClick.bind(this,t.id),"data-search-click-action":`${n}:${t.id}`,checked:e},s.createElement("span",null,o))}))),this.state={isMouseOver:!1,shouldListenToMouseEvents:!0}}render(){if(!this.props.options||0===this.props.options.length)return null;const t=this.props.selectedId&&this.props.options.find(t=>t.id===this.props.selectedId),e=t||this.props.options[0],o=this.state.isMouseOver&&this.state.shouldListenToMouseEvents,p=this.props.border1px?d.buttonBorder1px:d.buttonBorder2px;let l=p;const c=`${p} ${d.selectedButton}`,h=`${p} ${d.deselectButton}`;let m=d.ctaButton,v=e.shortSelectText;t&&(m=d.ctaButtonSelected,o?(v=t.shortDeselectText,l=h):(v=t.shortSelectedText,l=c));const b=this.props.options.every(t=>t.disabled),w=[this.props.fullWidth?d.containerFullWidth:d.container,b?d.disabledContainer:"",this.props.className||""].filter(t=>!!t).join(" ");if(1===this.props.options.length){const t=this.props["data-search-click-action"],o=this.props.selectedId?`un${t}`:t;return s.createElement("div",{className:w,"data-tooltip-type":r.TooltipType.TEXT,"data-tooltip":this.props.tooltip,"data-tooltip-show-immediately":!0},s.createElement(n.ButtonSecondary,{"data-search-click-action":o,className:l,disabled:e.disabled,onClick:this.onOptionClick.bind(this,e.id),onMouseOver:e.disabled?void 0:this.onMouseEnter,onMouseLeave:e.disabled?void 0:this.onMouseLeave},v))}const E=this.props.dropdownShown&&this.props.dropdownShown.type===this.props.dropdownKey;let S=d.caretButton;E&&(t&&(v=t.shortDeselectText,l=h,m=d.ctaButtonSelected),S=d.caretButtonActive),this.props.fullWidth&&(m+=` ${d.ctaButtonFullWidth}`);const k=this.props["data-search-click-action"],B=this.props.selectedId?`un${k}`:k;return s.createElement("div",{className:w,onMouseEnter:b?void 0:this.onMouseEnter,onMouseLeave:b?void 0:this.onMouseLeave,onClick:t?this.onShowDropdown:void 0,"data-tooltip-type":r.TooltipType.TEXT,"data-tooltip":this.props.tooltip,"data-tooltip-show-immediately":!0},s.createElement(n.ButtonSecondary,{"data-search-click-action":B,className:`${l} ${m}`,disabled:e.disabled,onClick:t?void 0:this.onOptionClick.bind(this,e.id)},v),s.createElement(n.ButtonSecondary,{"data-search-click-action":a.IGNORE_CLICK_CAPTURE,className:`${l} ${S}`,disabled:b,onClick:t?void 0:this.onShowDropdown},s.createElement(i.Svg,{svg:u})),E&&this.renderDropdown(v))}}e.ButtonSplit__OLD=m,m.displayName="ButtonSplit";e.ButtonSplitNoDropdown__OLD=class extends s.PureComponent{render(){const t=[this.props.fullWidth?d.containerFullWidth:d.container,this.props.disabled?d.disabledContainer:"",this.props.className||""].filter(t=>!!t).join(" ");return s.createElement("div",{className:t},s.createElement(n.ButtonSecondary,{onClick:this.props.onClick,className:`${this.props.border1px?d.buttonBorder1px:d.buttonBorder2px} ${this.props.buttonClassName||""}`,disabled:this.props.disabled},this.props.children))}}}),
(function(o,t,m){o.exports={communityModal:"logged_out_community_modal--communityModal--Kp5Qr",graphic:"logged_out_community_modal--graphic--3jRrZ",fullWidth:"logged_out_community_modal--fullWidth--1eEor",wideButton:"logged_out_community_modal--wideButton--1XgTn logged_out_community_modal--fullWidth--1eEor",primaryWideButton:"logged_out_community_modal--primaryWideButton--U2Hee logged_out_community_modal--wideButton--1XgTn logged_out_community_modal--fullWidth--1eEor",logInButton:"logged_out_community_modal--logInButton--zlhDK logged_out_community_modal--wideButton--1XgTn logged_out_community_modal--fullWidth--1eEor",header:"logged_out_community_modal--header--2uo-_ text--fontPos22--tgiEC text--_fontBase--YWDo0",subHeader:"logged_out_community_modal--subHeader--2ncxl text--fontPos16--24Ikw text--_fontBase--YWDo0"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(2,1    ),a=o(154                                 ),i=o(136                   ),n=o(113                                     ),r=o(361                                ),c=o(146                        ),l=o(377                                                ),d=o(147                                            ),m=o(400           ),p=o(152                                          ),u=o(566                               );class h extends s.Component{constructor(){super(...arguments),this.onLogInClick=(()=>{this.props.dispatch(r.auth.init({origin:"community_hub_signed_out_top_bar",formState:"sign_in"})),this.props.dispatch(n.fileBrowser.showModal({type:m.AUTH_MODAL,data:{headerText:" "}}))}),this.onSignUpClick=(()=>{this.props.dispatch(r.auth.init({origin:"community_hub_signed_out_top_bar",formState:"sign_up"})),this.props.dispatch(n.fileBrowser.showModal({type:m.AUTH_MODAL,data:{headerText:" ",showHandleForm:!0}}))})}render(){return s.createElement(a.Modal,{className:u.communityModal,dispatch:this.props.dispatch},s.createElement(p.ModalCloseButton,Object.assign({},this.props)),s.createElement("div",{className:u.graphic},this.props.icon&&s.createElement(c.Svg,{svg:this.props.icon,useOriginalSrcFills:!0})),s.createElement("div",{className:u.header},this.props.headerText),s.createElement("div",{className:u.subHeader},"Sign up for Figma to access thousands of usable Community files and plugins."),s.createElement(l.BrandButton,{type:"submit",className:u.primaryWideButton,onClick:this.onSignUpClick},"Sign Up"),s.createElement(d.ButtonSecondaryTracked,{className:u.logInButton,onClick:this.onLogInClick},"Log In"))}}t.LoggedOutCommunityActionModal=h,h.displayName="LoggedOutCommunityActionModal",t.LOGGED_OUT_COMMUNITY_ACTION_MODAL=i.registerModal(h,"LoggedOutCommunityActionModal")}),
(function(t,n,u){t.exports={ctaButton:"plugin_install_button--ctaButton--2v_XR",caretButton:"plugin_install_button--caretButton--3A1AZ button_split--caretButton--mvcr9"}}),
(function(c,l,e){c.exports={src:'<svg width="344" height="120" viewBox="0 0 344 120" xmlns="http://www.w3.org/2000/svg"><path d="M152.25 24.5c0-9.357 8.998-16.5 19.5-16.5 10.502 0 19.5 7.143 19.5 16.5 0 3.593-1.354 6.896-3.609 9.573-.024.028-.063.095-.078.223-.015.13.002.287.054.432.053.148.123.232.161.264l.009.008H202.5c4.142 0 7.5 3.358 7.5 7.5v60c0 4.142-3.358 7.5-7.5 7.5h-60c-4.142 0-7.5-3.358-7.5-7.5V88.524c0-1.602 1.191-2.597 2.257-2.98 1.066-.383 2.514-.364 3.603.553 2.195 1.849 4.828 2.903 7.64 2.903 7.211 0 13.5-7.12 13.5-16.5 0-9.38-6.289-16.5-13.5-16.5-2.812 0-5.445 1.054-7.64 2.903-1.089.917-2.537.936-3.603.553-1.066-.383-2.257-1.378-2.257-2.98V42.5c0-4.142 3.358-7.5 7.5-7.5h13.213l.009-.008c.038-.032.108-.116.161-.264.052-.145.069-.301.054-.432-.015-.128-.054-.195-.078-.223-2.255-2.677-3.609-5.98-3.609-9.573zm19.5-13.5c-9.38 0-16.5 6.289-16.5 13.5 0 2.812 1.054 5.445 2.903 7.64.917 1.089.936 2.537.553 3.602-.383 1.067-1.378 2.258-2.98 2.258H142.5c-2.485 0-4.5 2.015-4.5 4.5v13.963l.008.01c.032.037.116.107.264.16.145.052.301.07.432.054.128-.015.195-.054.223-.078 2.677-2.255 5.98-3.609 9.573-3.609 9.357 0 16.5 8.998 16.5 19.5 0 10.502-7.143 19.5-16.5 19.5-3.593 0-6.896-1.354-9.573-3.609-.028-.024-.095-.063-.223-.078-.131-.015-.287.002-.432.054-.148.053-.232.123-.264.16l-.008.01V102.5c0 2.485 2.015 4.5 4.5 4.5h60c2.485 0 4.5-2.015 4.5-4.5v-60c0-2.485-2.015-4.5-4.5-4.5h-14.726c-1.602 0-2.597-1.19-2.98-2.258-.383-1.065-.364-2.513.553-3.602 1.849-2.195 2.903-4.828 2.903-7.64 0-7.211-7.12-13.5-16.5-13.5z" fill-rule="evenodd" fill-opacity="1" fill="#0fa958" stroke="none"/><path d="M171.75 11c-9.38 0-16.5 6.289-16.5 13.5 0 2.812 1.054 5.445 2.903 7.64.917 1.089.936 2.537.553 3.602-.383 1.067-1.378 2.258-2.98 2.258H142.5c-2.485 0-4.5 2.015-4.5 4.5v13.963l.008.01c.032.037.116.107.264.16.145.052.301.07.432.054.128-.015.195-.054.223-.078 2.677-2.255 5.98-3.609 9.573-3.609 9.357 0 16.5 8.998 16.5 19.5 0 10.502-7.143 19.5-16.5 19.5-3.593 0-6.896-1.354-9.573-3.609-.028-.024-.095-.063-.223-.078-.131-.015-.287.002-.432.054-.148.053-.232.123-.264.16l-.008.01V102.5c0 2.485 2.015 4.5 4.5 4.5h60c2.485 0 4.5-2.015 4.5-4.5v-60c0-2.485-2.015-4.5-4.5-4.5h-14.726c-1.602 0-2.597-1.19-2.98-2.258-.383-1.065-.364-2.513.553-3.602 1.849-2.195 2.903-4.828 2.903-7.64 0-7.211-7.12-13.5-16.5-13.5z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=i(2,1    ),n=i(43,1         ),l=i(358                       ),e=i(129           ),p=i(303                             ),r=i(123         ),a=i(175                            ),u=i(113                                     ),h=i(361                                ),d=i(560                                                     ),c=i(441                                                     ),g=i(114                              ),_=i(440                          ),I=i(563                                          ),m=i(565                                               ),y=i(304                          ),S=i(567                                   ),T=i(568                          ),b=i(569                                                );class O extends I.ButtonSplit{}class f extends m.ButtonSplit__OLD{}const E={shortSelectText:"↓ Install",shortSelectedText:p.communityHubBrowsingEnabled()?"✓  Installed":"Installed",shortDeselectText:"Uninstall"};s.InstallButtonSplit=n.connect(t=>({user:t.user,orgEntity:y.getOrgPermissionEntity(t),dropdownShown:t.dropdownShown}))(class extends o.PureComponent{constructor(){super(...arguments),this.INSTALL_BUTTON_DROPDOWN="install-button-dropdown",this.showUninstallConfirmationModal=((t,s)=>{this.props.dispatch(u.fileBrowser.showModal({type:a.PLUGIN_UNINSTALL_MODAL,data:{plugin:t,orgEntity:"org"===s?this.props.orgEntity:null}}))}),this.showAuthModal=(()=>{e.isMobileBrowser?window.location.href="/login":(this.props.dispatch(h.auth.init({origin:"plugin_install_signed_out"})),this.props.dispatch(g.showModal({type:S.LOGGED_OUT_COMMUNITY_ACTION_MODAL,data:{headerText:"Install this plugin to extend what’s possible in Figma",icon:b,dispatch:this.props.dispatch}})))}),this.onDeselect=(t=>{if(!this.props.user)return void this.showAuthModal();const s=this.props.plugin.install_status===l.PluginStatus.PLUGIN_INSTALLED_FOR_USER,i=this.props.plugin.install_status===l.PluginStatus.PLUGIN_INSTALLED_FOR_ORG;"org"===t&&i&&this.props.orgEntity&&this.props.orgEntity.isAdmin?this.showUninstallConfirmationModal(this.props.plugin,t):"user"===t&&s&&this.props.dispatch(d.uninstallPlugin({pluginId:this.props.plugin.id}))}),this.onSelect=(t=>{this.props.user?(this.props.dispatch(c.mergePublishedAndValidate({publishedPlugins:[this.props.plugin],src:"installButton"})),"org"===t&&this.props.orgEntity?this.props.dispatch(d.tryInstallPlugin({pluginId:this.props.plugin.id,orgId:this.props.orgEntity.id})):this.props.dispatch(d.tryInstallPlugin({pluginId:this.props.plugin.id}))):this.showAuthModal()}),this.getTooltip=(()=>{if(this.props.orgEntity)return _.getPluginInstallStatus(this.props.plugin,this.props.orgEntity)}),this.onInstallForUserClick=(()=>{this.props.user?(this.props.dispatch(c.mergePublishedAndValidate({publishedPlugins:[this.props.plugin],src:"installButton"})),this.props.dispatch(d.tryInstallPlugin({pluginId:this.props.plugin.id}))):this.showAuthModal()}),this.onUninstallForUserClick=(()=>{if(!this.props.user)throw new Error("Trying to uninstall a plugin as a signed out user");this.props.dispatch(d.uninstallPlugin({pluginId:this.props.plugin.id}))})}getOptions(){const t=this.props.plugin.install_status===l.PluginStatus.PLUGIN_INSTALLED_FOR_USER;if(!this.props.orgEntity)return{options:[Object.assign(Object.assign({id:"user"},E),{longSelectText:"Install for you",longDeselectText:"Installed for you",disabled:!1})],selectedId:t?"user":null};const s=this.props.plugin.install_status===l.PluginStatus.PLUGIN_INSTALLED_FOR_ORG,i=this.props.orgEntity&&!s&&_.canInstallPluginForUser(this.props.plugin,this.props.orgEntity);if(!this.props.orgEntity.isAdmin)return{options:[Object.assign(Object.assign({id:"user"},E),{longSelectText:"Install for you",longDeselectText:"Installed for you",disabled:!i})],selectedId:s||t?"user":null,tooltip:i?void 0:this.getTooltip()};const o=this.props.orgEntity&&_.canInstallPluginForOrg(this.props.plugin,this.props.orgEntity);return{options:[Object.assign(Object.assign({id:"user"},E),{longSelectText:"Install for you",longDeselectText:"Installed for you",disabled:!i}),Object.assign(Object.assign({id:"org"},E),{longSelectText:`Install for everyone at ${this.props.orgEntity.name}`,longDeselectText:`Installed for everyone at ${this.props.orgEntity.name}`,disabled:!o})],selectedId:s?"org":t?"user":null,tooltip:o||i?void 0:this.getTooltip()}}render(){if(!this.props.plugin||!this.props.plugin.id)return null;const{options:t,selectedId:s,tooltip:i}=this.getOptions();if(!p.communityHubBrowsingEnabled()||this.props.useOldButton)return o.createElement(f,{"data-search-click-action":"install",selectedId:s,options:t,onSelect:this.onSelect,onDeselect:this.onDeselect,dropdownKey:`${this.INSTALL_BUTTON_DROPDOWN}-${this.props.plugin.id}`,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch,fullWidth:this.props.fullWidth,tooltip:i,className:this.props.className,border1px:this.props.border1px});if(null==this.props.orgEntity){const t=this.props.plugin.install_status===l.PluginStatus.PLUGIN_INSTALLED_FOR_USER||this.props.plugin.install_status===l.PluginStatus.PLUGIN_INSTALLED_FOR_ORG,s={selectText:"↓ Install",selectedText:"✓  Installed",deselectText:"Uninstall"};return o.createElement(I.ButtonSplitNoDropdown,{onClick:t?this.onUninstallForUserClick:this.onInstallForUserClick,ctaButtonClassName:T.ctaButton,caretButtonClassName:T.caretButton,isSelected:t,caretButtonText:r.prettyRound(this.props.plugin.install_count),hoverStateOptions:s})}return o.createElement(O,{"data-search-click-action":"install",selectedId:s,options:t,onSelect:this.onSelect,onDeselect:this.onDeselect,dropdownKey:`${this.INSTALL_BUTTON_DROPDOWN}-${this.props.plugin.id}`,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch,tooltip:i,className:this.props.className,caretButtonText:r.prettyRound(this.props.plugin.install_count),ctaButtonClassName:T.ctaButton,caretButtonClassName:T.caretButton})}}),s.defaultInstallText=E.shortSelectText}),
(function(i,l,a){i.exports={authorSpan:"hub_author_link--authorSpan--1rw8s ellipsis--ellipsis--1RWY6",authorLink:"hub_author_link--authorLink--1UF65 ellipsis--ellipsis--1RWY6 hub_author_link--authorSpan--1rw8s ellipsis--ellipsis--1RWY6",authorName:"hub_author_link--authorName--2-Ial ellipsis--ellipsis--1RWY6",authorLinkNoUnderline:"hub_author_link--authorLinkNoUnderline--3p2wx hub_author_link--authorLink--1UF65 ellipsis--ellipsis--1RWY6 hub_author_link--authorSpan--1rw8s ellipsis--ellipsis--1RWY6",authorAvatar:"hub_author_link--authorAvatar--1yKpN"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(2,1    ),n=r(43,1         ),s=r(138      ),i=r(113                                     ),l=r(571                    ),o=r(475               ),h={underline:l.authorLink,noUnderline:l.authorLinkNoUnderline};class c extends a.PureComponent{constructor(){super(...arguments),this.onClick=s.withDefaultOpenBehavior(e=>{e.preventDefault(),e.stopPropagation(),this.props.dispatch(i.fileBrowser.selectView(this.props.hrefView))})}render(){const e=a.createElement(a.Fragment,null,this.props.showAvatar&&a.createElement("div",{className:this.props.avatarClassName||l.authorAvatar},a.createElement(o.Avatar,{size:this.props.avatarSize||32,entity:this.props.publisher.publisher})),a.createElement("span",{className:l.authorName},this.props.publisher.publisher.name));return a.createElement("div",{className:`${this.props.className||""}`},this.props.disabled?a.createElement("span",{className:l.authorSpan},e):a.createElement("a",{className:this.props.authorLinkStyle,onClick:this.onClick},e))}}t.AuthorLinkInner=c;const p=e=>({view:"communityHub",subView:"handle",handle:e.publisher.publisher.profile_handle});t.AuthorLink=n.connect((e,t)=>({hrefView:p(t),authorLinkStyle:"communityHub"===e.selectedView.view&&"landing"===e.selectedView.subView?h.noUnderline:h.underline}))(c),t.UnderlineAuthorLink=n.connect((e,t)=>({hrefView:p(t),authorLinkStyle:h.underline}))(c)}),
(function(n,o,t){n.exports={container:"rounded_count--container--uSsdw"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=s(2,1    ),n=s(123         ),o=s(573                  );t.RoundedCount=class extends c.PureComponent{render(){return c.createElement("div",{"data-search-click-action":this.props["data-search-click-action"],className:`${o.container} ${this.props.className||""}`,onClick:this.props.onClick||void 0},this.props.prefix,n.prettyRound(Math.max(0,this.props.count)))}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(108     ),o=a(91                  ),r=a(100                               ),l=a(353                                  ),n=a(93                                   ),s=a(440                          ),c=a(279                             ),d=a(113                                     ),_=a(356                );t.addFollow=o.actionCreator("COMMUNITY_HUB_ADD_FOLLOW"),t.delFollow=o.actionCreator("COMMUNITY_HUB_DELETE_FOLLOW"),t.savePageState=o.actionCreator("COMMUNITY_HUB_SAVE_PAGE_STATE"),t.changeLandingPageSortState=o.actionCreator("COMMUNITY_HUB_LANDING_PAGE_CHANGE_SORT_STATE"),t.setLandingPageTab=o.actionCreator("COMMUNITY_HUB_SET_TAB"),t.setLandingPageCategory=o.actionCreator("COMMUNITY_HUB_LANDING_PAGE_CATEGORY_STATE"),t.setLandingPageScrollPosition=o.actionCreator("COMMUNITY_HUB_SET_LANDING_PAGE_SCROLL_Y_POSITION"),t.clearLandingPageScrollPosition=o.actionCreator("COMMUNITY_HUB_CLEAR_LANDING_PAGE_SCROLL_Y_POSITION"),t.setLoadingStateForResource=o.actionCreator("COMMUNITY_HUB_SET_LOADING_STATE_FOR_RESOURCE"),t.setResourceState=o.actionCreator("COMMUNITY_HUB_SET_RESOURCE_STATE"),t.addCategoriesToState=o.actionCreator("COMMUNITY_HUB_ADD_CATEGORIES_TO_STATE"),t.getCommunityProfileById=r.asyncActionCreator("COMMUNITY_HUB_GET_PROFILE",(e,{profileId:t,on404Redirect:a},o)=>{const r=i.default.get(`/api/profile/${t}`);l.registerLoadingState(r,e,o),r.then(({data:t})=>{e.dispatch(_.putCommunityProfile(t.meta.profile)),e.dispatch(d.fileBrowser.selectView(e.getState().selectedView))}).catch(({data:t})=>404===t.status&&a?(a(),null):(e.dispatch(n.flash.error("Error fetching profile information.")),null))},e=>e),t.getCommunityProfileByHandle=r.asyncActionCreator("COMMUNITY_HUB_GET_PROFILE_BY_HANDLE",(e,{handle:t,on404Redirect:a},o)=>{const r=e.getState().currentOrgId,s=i.default.get(`/api/profile/handle/${t}`,r?{current_org_id:r}:{});l.registerLoadingState(s,e,o),s.then(({data:t})=>{e.dispatch(_.putCommunityProfile(t.meta.profile))}).catch(({data:t})=>{404===t.status&&a&&a(),e.dispatch(n.flash.error("Error fetching profile information."))})},(e,{handle:t})=>`${e}_${t}`),t.getCommunityProfileByUserId=r.asyncActionCreator("COMMUNITY_HUB_GET_PROFILE",(e,{userId:t},a)=>{const o=e.getState().user;if((null==o?void 0:o.id)===t&&!o.community_profile_id)return Promise.resolve(null);const r=e.getState().currentOrgId,n=i.default.get(`/api/profile/user/${t}`,r?{current_org_id:r}:{});return l.registerLoadingState(n,e,a),n.then(({data:t})=>(e.dispatch(_.putCommunityProfile(t.meta.profile)),t.meta.profile||null)).catch(e=>null)},e=>e),t.createCommunityProfile=r.asyncActionCreator("COMMUNITY_HUB_CREATE_PROFILE",(e,t,a)=>{const{website:o,description:r,location:s,profileHandle:c,onSuccess:d,userId:p,teamId:u,orgId:f}=t,h=i.default.post("/api/profile",{website:o,description:r,location:s,profile_handle:c,user_id:p,team_id:u,org_id:f});l.registerLoadingState(h,e,a),h.then(({data:t})=>{e.dispatch(_.putCommunityProfile(t.meta)),d&&d(e)}).catch(({data:t})=>{e.dispatch(n.flash.error(t.message))})},e=>e),t.updateCommunityProfile=r.asyncActionCreator("COMMUNITY_HUB_UPDATE_PROFILE",(e,t,a)=>{const{website:o,description:r,location:s,profileId:c,profileHandle:d,onSuccess:p,shouldSetPublic:u}=t,f=i.default.put(`/api/profile/${c}`,{website:o,description:r,location:s,profile_handle:d,set_public:u});l.registerLoadingState(f,e,a),f.then(({data:t})=>{var a;(null===(a=e.getState().communityHub.currentProfile)||void 0===a?void 0:a.id)===t.meta.id&&e.dispatch(_.putCommunityProfile(t.meta)),d&&!u&&(t.meta.user_id?e.dispatch(n.flash.flash(`Your profile handle was set to @${d}.`)):t.meta.team_id?e.dispatch(n.flash.flash(`Your team's handle was set to @${d}.`)):t.meta.org_id&&e.dispatch(n.flash.flash(`Your organization's handle was set to @${d}.`))),p&&p(e)}).catch(({data:t})=>{e.dispatch(n.flash.error(t.message))})},e=>e),t.deleteCommunityProfile=r.asyncActionCreator("COMMUNITY_HUB_DELETE_PROFILE",(e,t,a)=>{const{profileId:o}=t;i.default.del(`/api/profile/${o}`).then(()=>{e.dispatch(_.clearCommunityProfile)}).catch(()=>{e.dispatch(n.flash.error("Unable to delete profile. Please try again later."))})}),t.uploadCommunityProfileCoverImage=r.asyncActionCreator("COMMUNITY_HUB_UPLOAD_PROFILE_COVER_IMAGE",(e,{file:t,profileId:a},o)=>{const r=s.bytesFromImageFile(t).then(e=>(function(e,t,a){if(!t)return Promise.resolve({cover_image_path:"",signature:""});return i.default.post(e).then(({data:e})=>e.meta).then(async({cover_image_path:e,signature:o})=>(await i.default.put(e,t,{raw:!0,headers:Object.assign(Object.assign({},i.default.defaults.headers),{"Content-Type":a})}),{cover_image_path:e,signature:o}))})(`/api/profile/${a}/upload`,e,t.type));l.registerLoadingState(r,e,o),r.then(({signature:e})=>i.default.put(`/api/profile/${a}`,{signature:e})).then(({data:t})=>{e.dispatch(_.putCommunityProfile(t.meta))}).catch(t=>{e.dispatch(n.flash.error(t?`An error occurred ${t}`:"An error occurred"))})},e=>e),t.follow=r.optimisticActionCreator("COMMUNTY_HUB_FOLLOW_ENTITY",async(e,a,o)=>{var l;const n=null===(l=e.getState().user)||void 0===l?void 0:l.community_profile_id;return!!n&&i.default.put("/api/follows",{followed_profile_id:a}).then(()=>(e.dispatch(r.optimistActions.commit(o)),e.dispatch(t.addFollow({followedProfileId:a,currentUserProfileId:n})),!0)).catch(t=>(e.dispatch(r.optimistActions.revert(o)),e.dispatch(c.visualBellActions.enqueue({message:`Unable to follow this profile: ${t.data.message}`,type:"COMMUNITY_HUB_FOLLOW_FAILED",error:!0})),!1))}),t.unfollow=r.optimisticActionCreator("COMMUNTY_HUB_UNFOLLOW_ENTITY",async(e,a,o)=>{var l;const n=null===(l=e.getState().user)||void 0===l?void 0:l.community_profile_id;return!!n&&i.default.del("/api/follows",{followed_profile_id:a}).then(()=>(e.dispatch(r.optimistActions.commit(o)),e.dispatch(t.delFollow({followedProfileId:a,currentUserProfileId:n})),!0)).catch(t=>(e.dispatch(r.optimistActions.revert(o)),e.dispatch(c.visualBellActions.enqueue({message:`Unable to unfollow this profile: ${t.data.message}`,type:"COMMUNITY_HUB_UNFOLLOW_FAILED",error:!0})),!1))})}),
(function(e,n,o){e.exports={handleModal:"change_profile_handle--handleModal--3IGo8 modal--modalShadow--HbHkT",reviewLink:"change_profile_handle--reviewLink--mR9C4",moreInfo:"change_profile_handle--moreInfo--2wUyN",email:"change_profile_handle--email--3hJbd",profileInfo:"change_profile_handle--profileInfo--2C9PW",contentHeaderImage:"change_profile_handle--contentHeaderImage--1LB9S",contentTitle:"change_profile_handle--contentTitle--2GQes undefined text--fontPos22Whyte--1Qe57 text--_fontBaseWhyte--e6y38",contentBody:"change_profile_handle--contentBody--2RT3R",footer:"change_profile_handle--footer--1gcR4",actualTextInput:"change_profile_handle--actualTextInput--1Ovvy",borderTextInput:"change_profile_handle--borderTextInput--3qa9r",textInput:"change_profile_handle--textInput--2OOWr modal--textInput--q3dSz",confirmButton:"change_profile_handle--confirmButton--2roAO modal--confirmButton--3Mjew",profileHandleButtonRow:"change_profile_handle--profileHandleButtonRow--2ZEvN modal--buttonRow--23IOU",duplicateHandleMessage:"change_profile_handle--duplicateHandleMessage--1E-Ta text--fontPos11--RSei3 text--_fontBase--YWDo0",duplicateHandleErrorMessage:"change_profile_handle--duplicateHandleErrorMessage--3jfu8 change_profile_handle--duplicateHandleMessage--1E-Ta text--fontPos11--RSei3 text--_fontBase--YWDo0",profileSuccessInfo:"change_profile_handle--profileSuccessInfo--213yV change_profile_handle--profileInfo--2C9PW",profileSuccessMoreInfo:"change_profile_handle--profileSuccessMoreInfo--2p3km change_profile_handle--moreInfo--2wUyN",profileURL:"change_profile_handle--profileURL--5lAHz"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(2,1    ),s=i(43,1         ),o=i(154                                 ),n=i(147                                            ),l=i(385                                              ),r=i(533                                 ),d=i(136                       ),c=i(113                                     ),p=i(575                                                    ),m=i(576                          );var h;!function(e){e[e.SET_PROFILE_HANDLE=0]="SET_PROFILE_HANDLE",e[e.SUCCESS=1]="SUCCESS"}(h||(h={}));class u extends a.Component{constructor(e){super(e),this.saveHandle=(e=>{this.setState({newProfileHandle:e})}),this.onProfileHandleValidationSuccess=(()=>{this.setState({submitDisabled:!1})}),this.onProfileHandleValidationFailure=(()=>{this.setState({submitDisabled:!0})}),this.onSubmit=(e=>{e.preventDefault(),this.setState({submitDisabled:!0});const t=this.props.profileId;if(t){const e={profileHandle:this.state.newProfileHandle,profileId:t,shouldSetPublic:!0,onSuccess:this.props.onFinish};this.props.dispatch(p.updateCommunityProfile(e)),this.setState({loadingKey:p.updateCommunityProfile.loadingKeyForPayload(e)})}else if(1==[this.props.userId,this.props.teamId,this.props.orgId].filter(e=>e).length){const e={profileHandle:this.state.newProfileHandle,teamId:this.props.teamId,orgId:this.props.orgId,userId:this.props.userId,onSuccess:this.props.onFinish};this.props.dispatch(p.createCommunityProfile(e)),this.setState({loadingKey:p.createCommunityProfile.loadingKeyForPayload(e)})}}),this.onChangeSubmit=(e=>{e.preventDefault(),this.setState({submitDisabled:!0}),this.props.profileId&&this.props.dispatch(p.updateCommunityProfile({profileHandle:this.state.newProfileHandle,profileId:this.props.profileId,shouldSetPublic:!1})),this.props.dispatch(c.fileBrowser.hideModal())}),this.navigateToProfileWithHandle=(e=>{this.props.dispatch(c.fileBrowser.selectView({view:"communityHub",subView:"handle",handle:this.state.newProfileHandle})),this.props.dispatch(c.fileBrowser.hideModal())}),this.state={newProfileHandle:e.existingProfileHandle||"",submitDisabled:!0,step:h.SET_PROFILE_HANDLE}}componentDidUpdate(){this.state.loadingKey&&(r.didSucceed(this.props.loadingState,this.state.loadingKey)?this.setState({step:h.SUCCESS,loadingKey:void 0}):r.didFail(this.props.loadingState,this.state.loadingKey)&&this.setState({loadingKey:void 0}))}renderHeaderImage(){return this.state.step===h.SET_PROFILE_HANDLE?this.props.userId?"https://static.figma.com/uploads/f3705186bf63741df6d081496237a0b525f9a6bb":"https://static.figma.com/uploads/cf3fa3f5b25723109a5864e9e87f5790c0c1e213":"https://static.figma.com/uploads/55cce76b49d5d5c5e62352d0d21ee8ce025eef38"}renderTitle(){return this.state.step===h.SET_PROFILE_HANDLE?a.createElement("div",{className:m.contentTitle},this.props.profileId?"Change your unique profile handle":this.props.userId?"Create a Figma Community profile to Like, Follow, and Publish":"Create a Community profile to publish publicly as your Org or Team"):a.createElement("div",{className:m.contentTitle},"Welcome to Figma Community!")}renderContent(){return this.state.step===h.SET_PROFILE_HANDLE?a.createElement("form",{id:u.id,onSubmit:this.onSubmit},a.createElement(l.ProfileHandleWithValidation,{saveHandle:this.saveHandle,onProfileHandleValidationSuccess:this.onProfileHandleValidationSuccess,onProfileHandleValidationFailure:this.onProfileHandleValidationFailure})):a.createElement("div",{className:m.profileSuccessInfo},"Your new Community profile is live. View your profile to customize it. Everyone can now find you at:",a.createElement("div",{className:m.profileSuccessMoreInfo},a.createElement("span",{className:m.profileURL},"figma.com/@",this.state.newProfileHandle)))}renderFooterCTAs(){return this.state.step===h.SET_PROFILE_HANDLE?this.props.profileId?a.createElement(a.Fragment,null,a.createElement(n.ButtonSecondary,{onClick:()=>this.props.dispatch(c.fileBrowser.hideModal())},"Cancel"),a.createElement(n.ButtonPrimary,{type:"submit",onClick:this.onChangeSubmit,className:m.confirmButton,disabled:this.state.submitDisabled},"Change Handle")):a.createElement(a.Fragment,null,a.createElement(n.ButtonSecondary,{onClick:()=>this.props.dispatch(c.fileBrowser.hideModal())},"Cancel"),a.createElement(n.ButtonPrimary,{type:"submit",onClick:this.onSubmit,className:m.confirmButton,disabled:this.state.submitDisabled},"Create Profile")):a.createElement(a.Fragment,null,a.createElement(n.ButtonSecondary,{onClick:()=>this.props.dispatch(c.fileBrowser.hideModal())},"Done"),a.createElement(n.ButtonPrimary,{type:"submit",onClick:this.navigateToProfileWithHandle,className:m.confirmButton},"View Profile"))}render(){return a.createElement(o.Modal,{size:"medium",className:m.handleModal,dispatch:this.props.dispatch},a.createElement("div",{className:m.contentHeaderImage,style:{backgroundImage:`url(${this.renderHeaderImage()})`}}),a.createElement("div",{className:m.contentBody},this.renderTitle(),this.renderContent()),a.createElement("div",{className:m.footer},a.createElement("div",{className:m.reviewLink},a.createElement(a.Fragment,null,"Review our ",a.createElement(n.Link,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines",target:"_blank"},"Community Guidelines"))),a.createElement("div",{className:m.profileHandleButtonRow},this.renderFooterCTAs())))}}t.ChangeProfileHandleInner=u,u.displayName="ChangeProfileHandle",u.id="profile-change-handle",t.popChangeProfileHandle=function(e){const i=e.getState();i.modalShown&&i.modalShown.type===t.CHANGE_PROFILE_HANDLE&&e.dispatch(c.fileBrowser.popModalStack())};const f=s.connect((e,t)=>({loadingState:e.loadingState}))(u);t.CHANGE_PROFILE_HANDLE="CHANGE_PROFILE_HANDLE",d.registerUnsafeModal(t.CHANGE_PROFILE_HANDLE,e=>{const t=e.modalShown;return a.createElement(f,{profileId:t.data.profileId,existingProfileHandle:t.data.profileHandle,teamId:t.data.teamId,orgId:t.data.orgId,userId:t.data.userId,onFinish:t.data.onFinish})})}),
(function(t,o,n){t.exports={followButton:"follow_button--followButton--1mD5p text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",followingButton:"follow_button--followingButton--1RQ0J follow_button--followButton--1mD5p text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM text--fontPos12--3tEpz text--_fontBase--YWDo0",unfollowButton:"follow_button--unfollowButton--7V_ID follow_button--followButton--1mD5p text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM"}}),
(function(l,c,f){l.exports={src:'<svg width="344" height="120" viewBox="0 0 344 120" xmlns="http://www.w3.org/2000/svg"><path d="M220 60c0-26.51-21.49-48-48-48-26.51 0-48 21.49-48 48 0 26.51 21.49 48 48 48 26.51 0 48-21.49 48-48z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M172 13.5c1.448 0 2.881.066 4.295.196l1.494.136.273-2.987-1.494-.137c-1.014-.093-2.037-.155-3.068-.186V10.5h-3v.022c-1.031.031-2.054.093-3.068.186l-1.494.137.273 2.987 1.494-.136c1.414-.13 2.847-.196 4.295-.196zm12.327 1.626l1.433.443c2.76.854 5.411 1.958 7.926 3.286l1.326.701 1.401-2.653-1.326-.7c-2.677-1.414-5.5-2.59-8.441-3.5l-1.433-.443-.886 2.866zm-25.54-2.866l-1.433.443c-2.941.91-5.764 2.086-8.441 3.5l-1.326.7 1.401 2.653 1.326-.7c2.515-1.329 5.166-2.433 7.926-3.287l1.433-.443-.886-2.866zm41.766 11.005l1.153.96c2.205 1.832 4.237 3.864 6.07 6.069l.959 1.153 2.307-1.918-.959-1.153c-1.95-2.346-4.113-4.509-6.459-6.459l-1.154-.959-1.917 2.307zm-59.023-2.307l-1.154.96c-2.346 1.95-4.509 4.112-6.459 6.458l-.959 1.154 2.307 1.917.959-1.153c1.833-2.205 3.865-4.237 6.07-6.07l1.153-.959-1.917-2.307zm70.914 16.03l.7 1.326c1.329 2.515 2.433 5.166 3.287 7.926l.443 1.433 2.866-.886-.443-1.433c-.91-2.94-2.086-5.764-3.5-8.441l-.7-1.326-2.653 1.4zm-83.541-1.401l-.7 1.326c-1.414 2.677-2.59 5.5-3.5 8.44l-.443 1.434 2.866.886.443-1.433c.854-2.76 1.958-5.411 3.287-7.926l.7-1.326-2.653-1.401zm-6.058 18.35l-.137 1.495c-.093 1.014-.155 2.037-.186 3.068h-.022v3h.022c.031 1.03.093 2.054.186 3.068l.137 1.494 2.987-.273-.136-1.494c-.13-1.414-.196-2.847-.196-4.295 0-1.448.066-2.881.196-4.295l.136-1.494-2.987-.273zm95.323.274l.136 1.494c.13 1.414.196 2.847.196 4.295 0 1.448-.066 2.881-.196 4.295l-.136 1.494 2.987.273.137-1.494c.093-1.014.155-2.037.186-3.068h.022v-3h-.022c-.031-1.03-.093-2.054-.186-3.068l-.137-1.494-2.987.273zm-1.294 18.116l-.443 1.433c-.854 2.76-1.958 5.411-3.287 7.926l-.7 1.326 2.653 1.401.7-1.326c1.414-2.677 2.59-5.5 3.5-8.44l.443-1.434-2.866-.886zm-92.614.886l.443 1.433c.91 2.94 2.086 5.764 3.5 8.441l.7 1.326 2.653-1.4-.7-1.327c-1.329-2.515-2.433-5.166-3.287-7.926l-.443-1.433-2.866.886zm84.475 15.34l-.959 1.153c-1.833 2.205-3.865 4.237-6.07 6.07l-1.153.959 1.917 2.307 1.154-.96c2.346-1.95 4.509-4.112 6.459-6.458l.959-1.154-2.307-1.917zm-75.777 1.918l.959 1.153c1.95 2.346 4.113 4.509 6.459 6.459l1.154.959 1.917-2.307-1.153-.96c-2.205-1.832-4.237-3.864-6.07-6.069l-.959-1.153-2.307 1.918zm62.054 9.973l-1.326.7c-2.515 1.329-5.166 2.433-7.926 3.287l-1.433.443.886 2.866 1.433-.443c2.941-.91 5.764-2.086 8.441-3.5l1.326-.7-1.401-2.653zm-47.425 2.653l1.326.7c2.677 1.414 5.5 2.59 8.441 3.5l1.433.443.886-2.866-1.433-.443c-2.76-.854-5.411-1.958-7.926-3.287l-1.326-.7-1.401 2.653zm30.202 3.071l-1.494.136c-1.414.13-2.847.196-4.295.196-1.448 0-2.881-.066-4.295-.196l-1.494-.136-.273 2.987 1.494.137c1.014.093 2.037.155 3.068.186v.022h3v-.022c1.031-.031 2.054-.093 3.068-.186l1.494-.137-.273-2.987z" fill-rule="evenodd" fill-opacity="1" fill="#a259ff" stroke="none"/><path d="M160 47c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5zm34 0c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5z" fill-rule="nonzero" fill-opacity="1" fill="#a259ff" stroke="none"/><path d="M141.5 58.5V60c0 16.845 13.655 30.5 30.5 30.5 16.845 0 30.5-13.655 30.5-30.5v-1.5h3V60c0 18.501-14.998 33.5-33.5 33.5-18.502 0-33.5-14.999-33.5-33.5v-1.5h3z" fill-rule="evenodd" fill-opacity="1" fill="#a259ff" stroke="none"/><path d="M228 100.5c0-8.56-6.94-15.5-15.5-15.5-8.56 0-15.5 6.94-15.5 15.5 0 8.56 6.94 15.5 15.5 15.5 8.56 0 15.5-6.94 15.5-15.5z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M229.5 100.5c0-9.389-7.611-17-17-17-9.389 0-17 7.611-17 17 0 9.389 7.611 17 17 17 9.389 0 17-7.611 17-17zm-17-14c7.732 0 14 6.268 14 14 0 7.732-6.268 14-14 14-7.732 0-14-6.268-14-14 0-7.732 6.268-14 14-14zM221 102h-17v-3h17v3zm-10 7V92h3v17h-3z" fill-rule="evenodd" fill-opacity="1" fill="#a259ff" stroke="none"/></svg>'}}),
(function(l,f,o){l.exports={src:'<svg width="344" height="120" viewBox="0 0 344 120" xmlns="http://www.w3.org/2000/svg"><path d="M294 60c0-22.091-17.909-40-40-40-22.091 0-40 17.909-40 40 0 22.091 17.909 40 40 40 22.091 0 40-17.909 40-40z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M295.5 60c0-22.92-18.58-41.5-41.5-41.5-22.92 0-41.5 18.58-41.5 41.5 0 22.92 18.58 41.5 41.5 41.5 22.92 0 41.5-18.58 41.5-41.5zM254 21.5c21.263 0 38.5 17.237 38.5 38.5 0 21.263-17.237 38.5-38.5 38.5-21.263 0-38.5-17.237-38.5-38.5 0-21.263 17.237-38.5 38.5-38.5z" fill-rule="evenodd" fill-opacity="1" fill="#ff8577" stroke="none"/><path d="M244 49.167c0 2.3-1.865 4.166-4.166 4.166-2.302 0-4.167-1.865-4.167-4.166 0-2.302 1.865-4.167 4.167-4.167 2.301 0 4.166 1.865 4.166 4.167zm28.333 0c0 2.3-1.865 4.166-4.166 4.166-2.302 0-4.167-1.865-4.167-4.166 0-2.302 1.865-4.167 4.167-4.167 2.301 0 4.166 1.865 4.166 4.167z" fill-rule="nonzero" fill-opacity="1" fill="#ff8577" stroke="none"/><path d="M228.833 58.5V60c0 13.9 11.268 25.167 25.167 25.167 13.899 0 25.166-11.268 25.166-25.167v-1.5h3V60c0 15.556-12.61 28.167-28.166 28.167-15.556 0-28.167-12.611-28.167-28.167v-1.5h3z" fill-rule="evenodd" fill-opacity="1" fill="#ff8577" stroke="none"/><path d="M129 60c0-22.091-17.909-40-40-40-22.091 0-40 17.909-40 40 0 22.091 17.909 40 40 40 22.091 0 40-17.909 40-40z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M130.5 60c0-22.92-18.58-41.5-41.5-41.5-22.92 0-41.5 18.58-41.5 41.5 0 22.92 18.58 41.5 41.5 41.5 22.92 0 41.5-18.58 41.5-41.5zM89 21.5c21.263 0 38.5 17.237 38.5 38.5 0 21.263-17.237 38.5-38.5 38.5-21.263 0-38.5-17.237-38.5-38.5 0-21.263 17.237-38.5 38.5-38.5z" fill-rule="evenodd" fill-opacity="1" fill="#ffc700" stroke="none"/><path d="M79 49.167c0 2.3-1.865 4.166-4.166 4.166-2.302 0-4.167-1.865-4.167-4.166 0-2.302 1.865-4.167 4.167-4.167 2.3 0 4.166 1.865 4.166 4.167zm28.333 0c0 2.3-1.865 4.166-4.166 4.166-2.302 0-4.167-1.865-4.167-4.166 0-2.302 1.865-4.167 4.167-4.167 2.301 0 4.166 1.865 4.166 4.167z" fill-rule="nonzero" fill-opacity="1" fill="#ffc700" stroke="none"/><path d="M63.833 58.5V60C63.833 73.9 75.1 85.167 89 85.167c13.899 0 25.166-11.268 25.166-25.167v-1.5h3V60c0 15.556-12.61 28.167-28.166 28.167-15.556 0-28.167-12.611-28.167-28.167v-1.5h3z" fill-rule="evenodd" fill-opacity="1" fill="#ffc700" stroke="none"/><path d="M220 60c0-26.51-21.49-48-48-48-26.51 0-48 21.49-48 48 0 26.51 21.49 48 48 48 26.51 0 48-21.49 48-48z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M221.5 60c0-27.338-22.162-49.5-49.5-49.5-27.338 0-49.5 22.162-49.5 49.5 0 27.338 22.162 49.5 49.5 49.5 27.338 0 49.5-22.162 49.5-49.5zM172 13.5c25.681 0 46.5 20.819 46.5 46.5 0 25.681-20.819 46.5-46.5 46.5-25.681 0-46.5-20.819-46.5-46.5 0-25.681 20.819-46.5 46.5-46.5z" fill-rule="evenodd" fill-opacity="1" fill="#5551ff" stroke="none"/><path d="M160 47c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5zm34 0c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5z" fill-rule="nonzero" fill-opacity="1" fill="#5551ff" stroke="none"/><path d="M141.5 58.5V60c0 16.845 13.655 30.5 30.5 30.5 16.845 0 30.5-13.655 30.5-30.5v-1.5h3V60c0 18.501-14.998 33.5-33.5 33.5-18.502 0-33.5-14.999-33.5-33.5v-1.5h3z" fill-rule="evenodd" fill-opacity="1" fill="#5551ff" stroke="none"/></svg>'}}),
(function(o,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const e=t(2,1    ),i=t(43,1         ),r=t(129           ),l=t(575                                                    ),n=t(398               ),p=t(113                                     ),a=t(114                              ),h=t(577                                                   ),u=t(147                                            ),c=t(567                                   ),d=t(578                  ),f=t(579                                                       ),w=t(580                                                     );s.FollowButton=i.connect((o,s)=>{var t;return{currentUser:o.user,followerId:(null===(t=o.user)||void 0===t?void 0:t.community_profile_id)||null}})(class extends e.PureComponent{constructor(o){super(o),this.onMouseEnter=(()=>{this.setState({isMouseOver:!0})}),this.onMouseLeave=(()=>{this.setState({isMouseOver:!1,shouldListenToMouseEvents:!0})}),this.loggedOutAction=((o,s)=>{var t;r.isMobileBrowser?window.location.href="/login":(this.props.dispatch(n.authActions.init({origin:s})),this.props.dispatch(a.showModal({type:c.LOGGED_OUT_COMMUNITY_ACTION_MODAL,data:{headerText:o,icon:(null===(t=this.props.trackingProperties)||void 0===t?void 0:t.modalTab)?w:f,dispatch:this.props.dispatch}})))}),this.follow=(o=>{if(o.stopPropagation(),this.props.currentUser)this.props.currentUser.community_profile_id?(this.setState({shouldListenToMouseEvents:!1,currentUserIsFollowing:!0}),this.props.onClick&&this.props.onClick(),this.props.dispatch(l.follow(this.props.profile.id)).then(o=>{o||(this.setState({currentUserIsFollowing:!1}),this.props.onError&&this.props.onError())})):this.props.dispatch(p.fileBrowser.showModal({type:h.CHANGE_PROFILE_HANDLE,data:{userId:this.props.currentUser.id,onFinish:()=>this.props.dispatch(l.follow(this.props.profile.id))}}));else{const o=`Follow ${this.props.profile.name||"this profile "} to keep up with what they publish`;this.loggedOutAction(o,"hub_file_follow_signed_out")}}),this.unfollow=(o=>{o.stopPropagation(),this.props.currentUser&&(this.setState({currentUserIsFollowing:!1}),this.props.onClick&&this.props.onClick(),this.props.dispatch(l.unfollow(this.props.profile.id)).then(o=>{o||(this.setState({currentUserIsFollowing:!0}),this.props.onError&&this.props.onError())}))}),this.state={isMouseOver:!1,shouldListenToMouseEvents:!0,currentUserIsFollowing:this.props.profile.current_user_is_following}}render(){const o=this.state.isMouseOver&&this.state.shouldListenToMouseEvents;return this.state.currentUserIsFollowing?e.createElement(u.ButtonSecondaryTracked,{className:o?`${d.unfollowButton} ${this.props.unfollowClassName}`:`${d.followingButton} ${this.props.followingClassName}`,onClick:this.unfollow,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,trackingProperties:Object.assign({followerProfileId:this.props.followerId,followedProfileId:this.props.profile.id,action:"unfollow"},this.props.trackingProperties||{})},o?"Unfollow":"Following"):e.createElement(u.ButtonPrimaryTracked,{className:`${d.followButton} ${this.props.followClassName}`,onClick:this.follow,trackingProperties:Object.assign({followerProfileId:this.props.followerId,followedProfileId:this.props.profile.id,action:"follow"},this.props.trackingProperties||{})},"Follow")}})}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=t(108     ),a=t(100                               ),l=t(279                             );i.likePlugin=a.optimisticActionCreator("LIKE_PLUGIN",async(e,{pluginId:i},t)=>{s.default.post(`/api/plugins/${i}/like`,{orgId:e.getState().currentOrgId}).then(()=>{e.dispatch(a.optimistActions.commit(t)),e.dispatch(l.visualBellActions.enqueue({message:"Liked plugin!",type:"PLUGIN_LIKE_SUCCESS"}))}).catch(i=>{e.dispatch(a.optimistActions.revert(t)),e.dispatch(l.visualBellActions.enqueue({message:`Unable to like this plugin: ${i.data.message}`,type:"PLUGIN_LIKE_FAILED",error:!0}))})}),i.unlikePlugin=a.optimisticActionCreator("UNLIKE_PLUGIN",async(e,{pluginId:i},t)=>{s.default.del(`/api/plugins/${i}/like`,{pluginId:i,orgId:e.getState().currentOrgId}).then(()=>{e.dispatch(a.optimistActions.commit(t)),e.dispatch(l.visualBellActions.enqueue({message:"Unliked",type:"PLUGIN_UNLIKE_SUCCESS"}))}).catch(i=>{e.dispatch(a.optimistActions.revert(t)),e.dispatch(l.visualBellActions.enqueue({message:`Unable to unlike this plugin: ${i.data.message}`,type:"PLUGIN_UNLIKE_FAILED",error:!0}))})})}),
(function(e,i,l){e.exports={hubFileTileViewMetaContainer:"resource_tiles--hubFileTileViewMetaContainer--2iYQN",hubFileTileBottomSection:"resource_tiles--hubFileTileBottomSection--3pT8-",hubFileTileViewAuthor:"resource_tiles--hubFileTileViewAuthor--3Ckjk text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",hubFileAuthorName:"resource_tiles--hubFileAuthorName--3kPva ellipsis--ellipsis--1RWY6",emptyAuthorLink:"resource_tiles--emptyAuthorLink--AKQGe",hubFileTileViewAuthorContainer:"resource_tiles--hubFileTileViewAuthorContainer--2diV_ ellipsis--ellipsis--1RWY6",hubFileTileAuthorContainer:"resource_tiles--hubFileTileAuthorContainer--2_R1k ellipsis--ellipsis--1RWY6",pluginAuthorContainer:"resource_tiles--pluginAuthorContainer--3vf0e ellipsis--ellipsis--1RWY6",hubFileTileViewTitle:"resource_tiles--hubFileTileViewTitle--3Qj8X text--fontPos13--1DoEt text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",hubFileTileViewButtonSpacer:"resource_tiles--hubFileTileViewButtonSpacer--1b1m2",hubFileTileViewButtonSpacerSafari:"resource_tiles--hubFileTileViewButtonSpacerSafari---xj1C",hubFileTileViewButtonContainerActive:"resource_tiles--hubFileTileViewButtonContainerActive--39yEv",profileHubFileTilePrimary:"resource_tiles--profileHubFileTilePrimary--2LuEb text--fontPos13--1DoEt text--_fontBase--YWDo0",profileHubFileTileTitle:"resource_tiles--profileHubFileTileTitle--272B6 ellipsis--ellipsis--1RWY6",pluginAuthorLink:"resource_tiles--pluginAuthorLink--26duJ",rowContainer:"resource_tiles--rowContainer--1nEiD",pluginRowContainer:"resource_tiles--pluginRowContainer--1Hc_T",_tileBorder__OLD:"resource_tiles--_tileBorder__OLD--38C5P",_tileBorder:"resource_tiles--_tileBorder--1pPBT",_tileContainer__OLD:"resource_tiles--_tileContainer__OLD--6Rgww resource_tiles--_tileBorder__OLD--38C5P",_tileContainer:"resource_tiles--_tileContainer--1ELkB resource_tiles--_tileBorder--1pPBT",_tileContent:"resource_tiles--_tileContent--W3jyI",profileHubFileTileCoverImage:"resource_tiles--profileHubFileTileCoverImage--1wnzJ resource_tiles--_tileContent--W3jyI",profileHubFileTileFullCoverImage:"resource_tiles--profileHubFileTileFullCoverImage--O2huJ resource_tiles--profileHubFileTileCoverImage--1wnzJ resource_tiles--_tileContent--W3jyI",profileHubFileTileMeta:"resource_tiles--profileHubFileTileMeta--3oEuC",hubFileTileActionsContainer:"resource_tiles--hubFileTileActionsContainer--2GEP8",roundedCount__OLD:"resource_tiles--roundedCount__OLD--17O2D",roundedCount:"resource_tiles--roundedCount--2wm0e text--fontPos12--3tEpz text--_fontBase--YWDo0",roundedCountMobile:"resource_tiles--roundedCountMobile--Syfw5 resource_tiles--roundedCount--2wm0e text--fontPos12--3tEpz text--_fontBase--YWDo0",installCount:"resource_tiles--installCount--26Lxj",installCountMobile:"resource_tiles--installCountMobile--21hxS",installedIndicator:"resource_tiles--installedIndicator--20kv6 text--fontPos11--RSei3 text--_fontBase--YWDo0",uninstallButton:"resource_tiles--uninstallButton--ERRZV",installButton:"resource_tiles--installButton--3DkA_",likeCount:"resource_tiles--likeCount--NyanZ text--fontPos12--3tEpz text--_fontBase--YWDo0",fileTileBorder:"resource_tiles--fileTileBorder--34mMP",fileTileBorderSafari:"resource_tiles--fileTileBorderSafari--2tP9T resource_tiles--fileTileBorder--34mMP",likeCountMobile:"resource_tiles--likeCountMobile--2gTQe text--fontPos12--3tEpz text--_fontBase--YWDo0",roundedInstallCount:"resource_tiles--roundedInstallCount--2BTUl resource_tiles--installCount--26Lxj resource_tiles--roundedCount--2wm0e text--fontPos12--3tEpz text--_fontBase--YWDo0",roundedInstallCountMobile:"resource_tiles--roundedInstallCountMobile--OdEX- resource_tiles--installCountMobile--21hxS resource_tiles--roundedCountMobile--Syfw5 resource_tiles--roundedCount--2wm0e text--fontPos12--3tEpz text--_fontBase--YWDo0",roundedUninstallCount:"resource_tiles--roundedUninstallCount--4_5gz resource_tiles--installCount--26Lxj resource_tiles--roundedCount--2wm0e text--fontPos12--3tEpz text--_fontBase--YWDo0",roundedLikeCount:"resource_tiles--roundedLikeCount--pxLQ9 resource_tiles--likeCount--NyanZ text--fontPos12--3tEpz text--_fontBase--YWDo0 resource_tiles--roundedCount--2wm0e text--fontPos12--3tEpz text--_fontBase--YWDo0",roundedLikeCountMobile:"resource_tiles--roundedLikeCountMobile--18wqC resource_tiles--likeCountMobile--2gTQe text--fontPos12--3tEpz text--_fontBase--YWDo0 resource_tiles--roundedCountMobile--Syfw5 resource_tiles--roundedCount--2wm0e text--fontPos12--3tEpz text--_fontBase--YWDo0",roundedLikedCount:"resource_tiles--roundedLikedCount--3L29A resource_tiles--likeCount--NyanZ text--fontPos12--3tEpz text--_fontBase--YWDo0 resource_tiles--roundedCount--2wm0e text--fontPos12--3tEpz text--_fontBase--YWDo0",roundedLikedCountMobile:"resource_tiles--roundedLikedCountMobile--d0Sx- resource_tiles--likeCountMobile--2gTQe text--fontPos12--3tEpz text--_fontBase--YWDo0 resource_tiles--roundedCountMobile--Syfw5 resource_tiles--roundedCount--2wm0e text--fontPos12--3tEpz text--_fontBase--YWDo0",likeButtonEmpty:"resource_tiles--likeButtonEmpty--1iw3w",likeButton:"resource_tiles--likeButton--6c3rF resource_tiles--likeButtonEmpty--1iw3w",authorName:"resource_tiles--authorName--PgOBX ellipsis--ellipsis--1RWY6",avatar:"resource_tiles--avatar--18uvt",profileHubFileTileContainerMobile:"resource_tiles--profileHubFileTileContainerMobile--2WRcp resource_tiles--_tileContainer--1ELkB resource_tiles--_tileBorder--1pPBT",profileHubFileTileContainer:"resource_tiles--profileHubFileTileContainer--313U5 resource_tiles--_tileContainer--1ELkB resource_tiles--_tileBorder--1pPBT",profileHubFileTileDescription:"resource_tiles--profileHubFileTileDescription--1K8zq",profilePluginTileContainer__OLD:"resource_tiles--profilePluginTileContainer__OLD--2XV_c resource_tiles--_tileContainer--1ELkB resource_tiles--_tileBorder--1pPBT",pluginTileViewAuthor:"resource_tiles--pluginTileViewAuthor--bqrO_ ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ text--fontPos11--RSei3 text--_fontBase--YWDo0",mobile:"resource_tiles--mobile--1agPT",profilePluginTileContainerMobile:"resource_tiles--profilePluginTileContainerMobile--3oQxH resource_tiles--_tileContainer--1ELkB resource_tiles--_tileBorder--1pPBT",profilePluginTileContainer:"resource_tiles--profilePluginTileContainer--1o93S resource_tiles--_tileContainer--1ELkB resource_tiles--_tileBorder--1pPBT",uninstallActionsContainerMobile:"resource_tiles--uninstallActionsContainerMobile--1yAqH",uninstallActionsContainer:"resource_tiles--uninstallActionsContainer--3NwJy",profilePluginTileContent__OLD:"resource_tiles--profilePluginTileContent__OLD--15bfQ resource_tiles--_tileContent--W3jyI",profilePluginTileContent:"resource_tiles--profilePluginTileContent--2g9Zf resource_tiles--_tileContent--W3jyI",profilePluginTileFooter__OLD:"resource_tiles--profilePluginTileFooter__OLD--1lSJT text--fontPos13--1DoEt text--_fontBase--YWDo0",profilePluginTileTop:"resource_tiles--profilePluginTileTop--1nvXl",pluginSettingsButton:"resource_tiles--pluginSettingsButton--3KOkG",profilePluginTileFooter:"resource_tiles--profilePluginTileFooter--1hwCS text--fontPos13--1DoEt text--_fontBase--YWDo0",profilePluginTileIcon:"resource_tiles--profilePluginTileIcon--2FR3m plugin--pluginIconBase--1x_Mv",profilePluginTileIcon__OLD:"resource_tiles--profilePluginTileIcon__OLD--2uTBo plugin--pluginIconBase--1x_Mv",_profilePluginTileText:"resource_tiles--_profilePluginTileText--2Bdqx",profilePluginTileName:"resource_tiles--profilePluginTileName--216Hm ellipsis--ellipsis--1RWY6 text--fontPos14--3UJ36 text--_fontBase--YWDo0 resource_tiles--_profilePluginTileText--2Bdqx",pluginTileIconContainer:"resource_tiles--pluginTileIconContainer--xANUI",profilePluginTileDescription:"resource_tiles--profilePluginTileDescription--C_uyp resource_tiles--_profilePluginTileText--2Bdqx ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ resource_tiles--_profilePluginTileText--2Bdqx text--fontPos11--RSei3 text--_fontBase--YWDo0",_profilePluginTileText__OLD:"resource_tiles--_profilePluginTileText__OLD--3WlKk",profilePluginTileName__OLD:"resource_tiles--profilePluginTileName__OLD--s6ype ellipsis--ellipsis--1RWY6 text--fontPos14--3UJ36 text--_fontBase--YWDo0 resource_tiles--_profilePluginTileText__OLD--3WlKk",profilePluginTileDescription__OLD:"resource_tiles--profilePluginTileDescription__OLD--3_Zj- ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ resource_tiles--_profilePluginTileText__OLD--3WlKk text--fontPos11--RSei3 text--_fontBase--YWDo0",pluginTileActionsContainer:"resource_tiles--pluginTileActionsContainer--140Rz resource_tiles--rowContainer--1nEiD",pluginTileViewPrivate:"resource_tiles--pluginTileViewPrivate--3TPRy ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ text--fontPos12--3tEpz text--_fontBase--YWDo0",lockIcon:"resource_tiles--lockIcon--2oF82",profilePluginTileFooterSvg:"resource_tiles--profilePluginTileFooterSvg--1h4y0",publicProfileTileContainer:"resource_tiles--publicProfileTileContainer--v0Rnz",publicProfileTileText:"resource_tiles--publicProfileTileText--2MlRG",publicProfileTileMeta:"resource_tiles--publicProfileTileMeta--1FGk1 resource_tiles--publicProfileTileText--2MlRG",publicProfileTileTitle:"resource_tiles--publicProfileTileTitle--3VG_5 resource_tiles--publicProfileTileText--2MlRG text--fontPos14--3UJ36 text--_fontBase--YWDo0",publicProfileTileHandle:"resource_tiles--publicProfileTileHandle--6T6VJ resource_tiles--publicProfileTileText--2MlRG text--fontPos12--3tEpz text--_fontBase--YWDo0",publicProfileTileLocation:"resource_tiles--publicProfileTileLocation--34zSb resource_tiles--publicProfileTileText--2MlRG text--fontPos11--RSei3 text--_fontBase--YWDo0",followsSection:"resource_tiles--followsSection--2V4el",followButton:"resource_tiles--followButton--2N-5N",followerCountLabel:"resource_tiles--followerCountLabel--28dPt text--fontPos11--RSei3 text--_fontBase--YWDo0",followerCount:"resource_tiles--followerCount--30t6j text--fontPos11--RSei3 text--_fontBase--YWDo0",publicProfileTileCreator:"resource_tiles--publicProfileTileCreator--3wb1T",publicProfileTileContent:"resource_tiles--publicProfileTileContent--1TQNU",publicProfileResourceTileContainer:"resource_tiles--publicProfileResourceTileContainer--2xAWb",publicProfileResourceTile:"resource_tiles--publicProfileResourceTile--V8-bl",_publicProfileResourceTile:"resource_tiles--_publicProfileResourceTile--2_8Kr",publicProfileResourceTileBorder:"resource_tiles--publicProfileResourceTileBorder--1N3Is",publicProfileHubFileTile:"resource_tiles--publicProfileHubFileTile--1W68r resource_tiles--_publicProfileResourceTile--2_8Kr",publicProfileHubFileTileMeta:"resource_tiles--publicProfileHubFileTileMeta--HbdHU",publicProfileHubFileTileName:"resource_tiles--publicProfileHubFileTileName--34NdD ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",publicProfilePluginTile:"resource_tiles--publicProfilePluginTile--2YdcV resource_tiles--_publicProfileResourceTile--2_8Kr",publicProfilePluginTileIcon:"resource_tiles--publicProfilePluginTileIcon--2iFsX plugin--pluginIconBase--1x_Mv",publicProfilePluginTileName:"resource_tiles--publicProfilePluginTileName--15jUx ellipsis--ellipsis--1RWY6 text--fontPos13--1DoEt text--_fontBase--YWDo0",publicProfileTileAvatar:"resource_tiles--publicProfileTileAvatar--33pmh",publicProfileTileEmptyContent:"resource_tiles--publicProfileTileEmptyContent--1kxrS text--fontPos12--3tEpz text--_fontBase--YWDo0",prototypeIcon:"resource_tiles--prototypeIcon--1cz4L",prototypeIconRow:"resource_tiles--prototypeIconRow--CwdZo",figPickLabelContainer:"resource_tiles--figPickLabelContainer--3MIls",figPickLabel:"resource_tiles--figPickLabel--2dSf2 text--fontPos11--RSei3 text--_fontBase--YWDo0"}}),
(function(l,e,o){l.exports={src:'<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15 27c6.627 0 12-5.373 12-12 0-6.627-5.373-12-12-12C8.373 3 3 8.373 3 15c0 6.627 5.373 12 12 12zm5.5-12l-8-5v10l8-5z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/><path d="M29 15c0 7.732-6.268 14-14 14-7.732 0-14-6.268-14-14C1 7.268 7.268 1 15 1c7.732 0 14 6.268 14 14zM15 27c6.627 0 12-5.373 12-12 0-6.627-5.373-12-12-12C8.373 3 3 8.373 3 15c0 6.627 5.373 12 12 12z" fill-rule="evenodd" fill-opacity=".54" fill="#000" stroke="none"/><path d="M12.5 20V10l8 5-8 5z" fill-rule="nonzero" fill-opacity=".54" fill="#000" stroke="none"/></svg>'}}),
(function(c,t,e){c.exports={src:'<svg width="9" height="12" viewBox="0 0 9 12" xmlns="http://www.w3.org/2000/svg"><path d="M2.2 4.8h4V3c0-1.105-.895-2-2-2-1.105 0-2 .895-2 2v1.8zm-1 0H.5c-.276 0-.5.224-.5.5v6.2c0 .276.224.5.5.5h7.4c.276 0 .5-.224.5-.5V5.3c0-.276-.224-.5-.5-.5h-.7V3c0-1.657-1.343-3-3-3-1.657 0-3 1.343-3 3v1.8z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,z){l.exports={src:'<svg width="344" height="120" viewBox="0 0 344 120" xmlns="http://www.w3.org/2000/svg"><path d="M171.5 29.5c-9-12-20.037-16.94-31.721-14.313-14.529 3.266-30.207 25.57-4.771 54.99 6.056 7.003 14.84 14.76 22.867 21.85 5.165 4.561 10.016 8.845 13.625 12.473 3.609-3.628 8.46-7.912 13.625-12.473 8.027-7.09 16.811-14.847 22.867-21.85 25.436-29.42 9.758-51.724-4.771-54.99C191.537 12.56 180.5 17.5 171.5 29.5z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M203.551 13.762c-12.415-2.791-24.002 2.552-33.25 14.884l2.4 1.8c8.751-11.669 19.238-16.22 30.192-13.757 6.715 1.51 13.837 7.483 16.251 16.608 2.395 9.051.208 21.487-12.286 35.937-4.904 5.671-11.66 11.878-18.396 17.867-1.443 1.283-2.886 2.556-4.309 3.812-5.18 4.572-10.091 8.906-13.741 12.575l2.127 2.116c3.574-3.593 8.382-7.837 13.549-12.397 1.434-1.266 2.896-2.556 4.367-3.864 6.729-5.983 13.624-12.308 18.672-18.147 12.942-14.969 15.635-28.395 12.917-38.667-2.698-10.199-10.679-17.01-18.493-18.767zm-57.327 2.235l-1.499.067c-1.519.067-3.059.274-4.617.625-1.288.29-2.598.745-3.89 1.36l-1.354.645-1.29-2.71 1.355-.644c1.482-.705 3.002-1.237 4.521-1.578 1.724-.388 3.44-.62 5.142-.695l1.499-.067.133 2.997zm5.945-2.253l1.438.427c3.203.95 6.29 2.49 9.23 4.59l1.22.872-1.744 2.441-1.22-.872c-2.695-1.925-5.484-3.308-8.339-4.155l-1.438-.427.853-2.876zm-20.837 7.45l-1.072 1.049c-1.916 1.876-3.592 4.16-4.849 6.805l-.644 1.355-2.71-1.288.644-1.355c1.414-2.973 3.3-5.546 5.461-7.661l1.072-1.05 2.098 2.145zm37.135 2.427l1.009 1.11c1.103 1.215 2.178 2.52 3.224 3.915l.675.915-1.832 2.477-1.243-1.592c-.993-1.324-2.009-2.556-3.045-3.697l-1.009-1.11 2.221-2.018zM123.506 34.59l-.219 1.484c-.385 2.6-.4 5.426.061 8.453l.226 1.483-2.966.451-.226-1.483c-.504-3.314-.493-6.44-.063-9.344l.22-1.484 2.967.44zm1.236 15.771l.526 1.405c.932 2.487 2.178 5.08 3.782 7.767l.769 1.288-2.576 1.538-.769-1.288c-1.69-2.83-3.015-5.585-4.015-8.252l-.526-1.405 2.809-1.053zm7.701 14.281l.916 1.188c.865 1.121 1.792 2.257 2.784 3.404.92 1.064 1.908 2.15 2.95 3.25l1.031 1.09-2.179 2.062-1.031-1.09c-1.068-1.128-2.086-2.247-3.04-3.35-1.028-1.188-1.99-2.366-2.891-3.534l-.916-1.188 2.376-1.832zm11.027 12.272l1.083 1.038c2.091 2.004 4.282 4.023 6.505 6.032l1.113 1.005-2.011 2.226-1.113-1.005c-2.237-2.02-4.451-4.062-6.57-6.092l-1.083-1.038 2.076-2.166zm12.275 11.258l1.124.993 2.001 1.768c1.599 1.41 3.17 2.797 4.682 4.145l1.12.998-1.996 2.24-1.12-.998c-1.506-1.343-3.069-2.722-4.665-4.13l-2.009-1.775-1.124-.993 1.987-2.248zm12.513 11.158l1.094 1.026c1.155 1.084 2.24 2.131 3.236 3.132l1.033 1.046-2.102 2.133-1.058-1.063c-.965-.971-2.025-1.993-3.162-3.06l-1.094-1.027 2.053-2.187zM180.5 60.546h-17v-3h17v3zm-10 7v-17h3v17h-3z" fill-rule="evenodd" fill-opacity="1" fill="#f24e1e" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="344" height="120" viewBox="0 0 344 120" xmlns="http://www.w3.org/2000/svg"><path d="M127 2h57.273L217 35.143V118h-90V2z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M125.5.5h59.4l33.6 34.027V119.5h-93V.5zm3 3v113h87V36.643h-32.727V3.5H128.5zm57.273 2.154l27.638 27.989h-27.638V5.653z" fill-rule="evenodd" fill-opacity="1" fill="#699bf7" stroke="none"/><path d="M165 57c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3 0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3zm20 0c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3 0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3z" fill-rule="nonzero" fill-opacity="1" fill="#699bf7" stroke="none"/><path d="M160.5 66.5V68c0 5.688 5.033 10.5 11.5 10.5 6.467 0 11.5-4.812 11.5-10.5v-1.5h3V68c0 7.567-6.607 13.5-14.5 13.5-7.893 0-14.5-5.933-14.5-13.5v-1.5h3z" fill-rule="evenodd" fill-opacity="1" fill="#699bf7" stroke="none"/></svg>'}}),
(function(e,i,l){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=l(2,1    ),n=l(43,1         ),o=l(113                                     ),s=l(466                                           ),r=l(440                          ),a=l(138      ),u=l(87      ),c=l(475               ),p=l(574                                            ),d=l(415             ),m=l(510                                                     ),h=l(234                                                    ),g=l(581                             ),b=l(471                            ),f=l(232                       ),C=l(299                             ),k=l(301                        ),P=l(358                       ),_=l(357                  ),v=l(137                                    ),T=l(129           ),w=l(398               ),E=l(111          ),I=l(172                                              ),F=l(560                                                     ),N=l(582                                                  ),y=l(401                                               ),L=l(114                              ),O=l(146                        ),U=l(360                     ),A=l(572                               ),B=l(179        ),D=l(112          ),H=l(304                          ),x=l(303                             ),S=l(577                                                   ),R=l(567                                   ),V=l(583                   ),M=l(584                                     ),G=l(585                                  ),z=l(586                                             ),j=l(587                                                  ),q=l(569                                                );var Y,$,Q,W,X,J,K;i.HubFileTileView=(e=>t.createElement(t.Fragment,null,t.createElement("div",{className:u.mobile?V.profileHubFileTileContainerMobile:V.profileHubFileTileContainer,style:{backgroundColor:e.backgroundColor,backgroundClip:u.safari?"padding-box":""},onClick:e.onClick},t.createElement("div",{className:u.safari||u.mobile?V.fileTileBorderSafari:V.fileTileBorder,onClick:()=>!0}),t.createElement("div",{className:V.hubFileTileViewButtonContainerActive},t.createElement(p.RoundedCount,{className:u.mobile?V.roundedInstallCountMobile:V.roundedInstallCount,count:e.duplicateCount,prefix:t.createElement("div",{className:V.installButton},"↓ "),onClick:u.mobile?void 0:e.onDuplicateClick}),t.createElement(p.RoundedCount,{className:e.hasLiked&&!u.mobile?V.roundedLikedCount:e.hasLiked?V.roundedLikedCountMobile:u.mobile?V.roundedLikeCountMobile:V.roundedLikeCount,count:e.likeCount,prefix:t.createElement("div",{className:e.hasLiked?V.likeButton:V.likeButtonEmpty},e.hasLiked?"♥ ":"♡ "),onClick:u.mobile?void 0:e.onLikeClick})),t.createElement("div",{className:e.thumbnailIsSet?V.profileHubFileTileFullCoverImage:V.profileHubFileTileCoverImage,style:{backgroundImage:e.backgroundImage}},e.showFigPickBadge&&t.createElement(i.FigPickBadge,null),e.isPrototype&&t.createElement("div",{className:V.prototypeIconRow},t.createElement(h.SvgWithFallback,{svg:M,className:V.prototypeIcon,useOriginalSrcFills:!0,fallbackSvg:M}))),t.createElement("div",{className:V.profileHubFileTileMeta},t.createElement("div",{className:V.hubFileTileViewMetaContainer},t.createElement("div",{className:V.hubFileTileViewTitle},e.name),e.showDuplicateCount&&t.createElement("div",{className:V.hubFileTileBottomSection},e.author?e.author:t.createElement("div",{className:V.emptyAuthorLink}),t.createElement("div",{className:u.safari?V.hubFileTileViewButtonSpacerSafari:V.hubFileTileViewButtonSpacer},t.createElement(p.RoundedCount,{className:V.roundedInstallCount,count:e.duplicateCount,prefix:t.createElement("div",{className:V.installButton},"↓ ")}),t.createElement(p.RoundedCount,{className:e.hasLiked?V.roundedLikedCount:V.roundedLikeCount,count:e.likeCount,prefix:t.createElement("div",{className:e.hasLiked?V.likeButton:V.likeButtonEmpty},e.hasLiked?"♥ ":"♡ ")}))),!e.showDuplicateCount&&t.createElement(c.Avatar,{entity:e.entity,size:24})))))),i.FigPickBadge=(()=>t.createElement("div",{className:V.figPickLabelContainer,"data-tooltip-type":f.TooltipType.TEXT,"data-tooltip":"Boosted by the Figma Team","data-tooltip-show-immediately":!0},t.createElement(b.Badge,{text:"Fig Pick",color:b.BadgeColor.BOLD_PURPLE,className:V.figPickLabel}))),function(e){class l extends t.Component{constructor(){super(...arguments),this.onTileClicked=(e=>{a.shouldUseDefaultOpenBehavior(e)?D.redirect(s.hubFilePath(this.props.hubFileId),"_blank"):this.props.onClick()}),this.loggedOutAction=((e,i,l)=>{T.isMobileBrowser?window.location.href="/login":this.props.onLoggedOutAction(e,i,l)}),this.duplicate=(e=>{if(null==e||e.stopPropagation(),null==e||e.preventDefault(),this.props.currentUser)this.props.onDuplicate();else{const e="Duplicate this file to see how it was made (and use it)";this.loggedOutAction(e,"hub_file_duplicate_signed_out",j)}}),this.like=(e=>{var i,l;if(null==e||e.stopPropagation(),null==e||e.preventDefault(),this.props.currentUser){if(!this.props.currentUser.community_profile_id)return void this.props.onProfileCreate(this.props.currentUser);this.props.onLike(),E.segment.track("Hub File Like Action",{likeStatus:!0,viewContext:this.props.viewContext||"",hubFileId:this.props.hubFile.id,userId:(null===(i=this.props.currentUser)||void 0===i?void 0:i.id)||"",profileId:this.props.hubFile.publisher.id,authorUserId:(null===(l=this.props.hubFile.creator)||void 0===l?void 0:l.id)||""})}else{const e="Like this file to show your appreciation (and save it)";this.loggedOutAction(e,"hub_file_like_signed_out",z)}}),this.unlike=(e=>{var i,l;null==e||e.stopPropagation(),null==e||e.preventDefault(),this.props.currentUser&&(this.props.onUnlike(),E.segment.track("Hub File Like Action",{likeStatus:!1,viewContext:this.props.viewContext||"",hubFileId:this.props.hubFile.id,userId:(null===(i=this.props.currentUser)||void 0===i?void 0:i.id)||"",profileId:this.props.hubFile.publisher.id,authorUserId:(null===(l=this.props.hubFile.creator)||void 0===l?void 0:l.id)||""}))})}render(){const e=this.props.hubFile;if(!e)return null;const l=U.getHubFileVersion(this.props.hubFile),n=t.createElement(A.AuthorLink,{publisher:this.props.hubFile,className:V.hubFileAuthorName,showAvatar:!0,avatarClassName:V.avatar,avatarSize:24}),o=t.createElement("div",{className:V.hubFileTileViewAuthor},t.createElement("div",{className:V.hubFileTileAuthorContainer},n));return t.createElement(i.HubFileTileView,{author:o,backgroundColor:_.fileBackgroundColor(e.client_meta),onClick:this.onTileClicked,href:s.hubFilePath(e.id),backgroundImage:`url(${e.redirect_thumbnail_url})`,name:l.name,showDuplicateCount:!!this.props.showDuplicateCount,duplicateCount:e.duplicate_count,entity:e.publisher||e.creator,description:l.description,likeCount:e.like_count,hasLiked:e.current_user_liked,onLikeClick:e.current_user_liked?this.unlike:this.like,onDuplicateClick:this.duplicate,isPrototype:e.viewer_mode===k.ViewerModeToPublishAs.PROTOTYPE,thumbnailIsSet:e.thumbnail_is_set,showFigPickBadge:this.props.enableFigPickBadge&&x.communityLandingPageRefreshEnabled()&&e.is_pinned})}}l.displayName="HubFileTile";const r=(e,i)=>({onClick:()=>{e(o.fileBrowser.selectView({view:"communityHub",subView:"hubFile",hubFileId:i.hubFileId}))},onLike:()=>{e(y.likeHubFile({hubFileId:i.hubFileId}))},onUnlike:()=>{e(y.unlikeHubFile({hubFileId:i.hubFileId}))},onProfileCreate:l=>{e(o.fileBrowser.showModal({type:S.CHANGE_PROFILE_HANDLE,data:{userId:l.id,onFinish:()=>e(y.likeHubFile({hubFileId:i.hubFileId}))}}))},onDuplicate:()=>{e(y.optimisticDuplicateHubFile({hubFileId:i.hubFileId,viewContext:i.viewContext||""}))},onLoggedOutAction:(i,l,t)=>{e(w.authActions.init({origin:l})),e(L.showModal({type:R.LOGGED_OUT_COMMUNITY_ACTION_MODAL,data:{headerText:i,icon:t,dispatch:e}}))}}),u=(e,i)=>{const l=e.hubFiles[i.hubFileId];return{currentUser:e.user||null,hubFile:l}};e.ConnectedHubFileTile=n.connect(u,r)(l),e.ConnectedHubFileTileTracked=n.connect(u,r)(v.asTrackedClickable(l))}(Y||(Y={})),i.HubFileTile=Y.ConnectedHubFileTile,i.HubFileTileTracked=Y.ConnectedHubFileTileTracked,i.PluginTileView__OLD=(e=>t.createElement("a",{onClick:e.onClick,href:e.href,className:V.profilePluginTileContainer__OLD},t.createElement("div",{className:V.profilePluginTileContent__OLD},t.createElement("div",{className:V.pluginSettingsButton},t.createElement(m.SettingsButton,Object.assign({},e))),t.createElement("img",{className:V.profilePluginTileIcon__OLD,src:e.iconSrc}),t.createElement("div",{className:V.profilePluginTileName__OLD},e.name),t.createElement("div",{className:V.profilePluginTileDescription__OLD},e.description),t.createElement("div",{className:V.profilePluginTileFooter__OLD},e.showInstallCount&&t.createElement(p.RoundedCount,{className:V.roundedCount__OLD,count:e.installCount,prefix:"↓"}),!e.showInstallCount&&t.createElement(c.Avatar,{entity:e.entity,size:24}))))),i.PluginTileView=(e=>t.createElement("div",{className:u.mobile?V.profilePluginTileContainerMobile:V.profilePluginTileContainer,onClick:e.onClick},t.createElement("div",{className:V.profilePluginTileContent},e.isInstalled&&t.createElement("span",{className:V.installedIndicator},"Installed"),t.createElement("div",{className:V.profilePluginTileTop},t.createElement("div",{className:V.pluginSettingsButton},t.createElement(m.SettingsButton,Object.assign({},e))),t.createElement("div",{className:V.pluginTileIconContainer},t.createElement("img",{className:V.profilePluginTileIcon,src:e.iconSrc})),t.createElement("div",{className:V.profilePluginTileName},e.name),t.createElement("div",{className:V.profilePluginTileDescription},e.description)),t.createElement("div",{className:V.profilePluginTileFooter},e.showInstallCount&&t.createElement("div",{className:V.pluginRowContainer},e.isPublic&&e.author,!e.isPublic&&t.createElement("div",{className:V.pluginTileViewPrivate},t.createElement(O.Svg,{className:V.lockIcon,svg:G}),"Private"),t.createElement("div",{className:V.pluginTileActionsContainer},t.createElement("div",{className:u.mobile?V.uninstallActionsContainerMobile:V.uninstallActionsContainer},t.createElement(p.RoundedCount,{className:u.mobile?V.roundedInstallCountMobile:e.isInstalled?V.roundedUninstallCount:V.roundedInstallCount,count:e.installCount,prefix:t.createElement("div",{className:V.installButton},e.isInstalled?"✓ ":"↓ "),onClick:u.mobile?void 0:e.onInstallClick}),e.isInstalled&&t.createElement("div",{className:V.uninstallButton,onClick:u.mobile?void 0:e.onInstallClick},"Uninstall")),t.createElement(p.RoundedCount,{"data-search-click-action":e.isLiked?"unlike":"like",className:e.isLiked&&!u.mobile?V.roundedLikedCount:e.isLiked?V.roundedLikedCountMobile:u.mobile?V.roundedLikeCountMobile:V.roundedLikeCount,count:e.likeCount,prefix:t.createElement("div",{className:e.isLiked?V.likeButton:V.likeButtonEmpty},e.isLiked?"♥ ":"♡ "),onClick:u.mobile?void 0:e.onLikeClick}))),!e.showInstallCount&&t.createElement(c.Avatar,{entity:e.entity,size:24}))))),function(e){class l extends t.PureComponent{constructor(){super(...arguments),this.onClick=(e=>{var i;a.shouldUseDefaultOpenBehavior(e)?D.redirect(s.pluginPath(null===(i=this.props.plugin)||void 0===i?void 0:i.id),"_blank"):this.props.onClick()}),this.loggedOutAction=((e,i,l)=>{T.isMobileBrowser?window.location.href="/login":this.props.onLoggedOutAction(e,i,l)}),this.like=(e=>{var i,l;if(null==e||e.stopPropagation(),null==e||e.preventDefault(),this.props.currentUser){if(!this.props.currentUser.community_profile_id)return void this.props.onProfileCreate(this.props.currentUser);this.props.onLike(),E.segment.track("Plugin Like Action",{likeStatus:!0,viewContext:this.props.viewContext||"",userId:(null===(i=this.props.currentUser)||void 0===i?void 0:i.id)||"",pluginId:this.props.plugin.id,profileId:this.props.plugin.publisher.id,authorUserId:(null===(l=this.props.plugin.creator)||void 0===l?void 0:l.id)||""})}else{const e="Like this plugin to show your appreciation (and save it)";this.loggedOutAction(e,"plugin_like_signed_out",z)}}),this.unlike=(e=>{var i,l;null==e||e.stopPropagation(),null==e||e.preventDefault(),this.props.currentUser&&(this.props.onUnlike(),E.segment.track("Plugin Like Action",{likeStatus:!1,viewContext:this.props.viewContext||"",userId:(null===(i=this.props.currentUser)||void 0===i?void 0:i.id)||"",pluginId:this.props.plugin.id,profileId:this.props.plugin.publisher.id,authorUserId:(null===(l=this.props.plugin.creator)||void 0===l?void 0:l.id)||""}))}),this.onUninstall=(e=>{if(null==e||e.stopPropagation(),null==e||e.preventDefault(),!this.props.currentUser)return;this.props.plugin.install_status===P.PluginStatus.PLUGIN_INSTALLED_FOR_USER&&this.props.onUninstall(this.props.currentUser)}),this.onInstall=(e=>{if(null==e||e.stopPropagation(),null==e||e.preventDefault(),!this.props.currentUser){const e="Install this Plugin to give you and Figma a boost";return void this.loggedOutAction(e,"plugin_install_signed_out",q)}if(r.canInstallPluginForUser(this.props.plugin,this.props.orgEntity))this.props.onInstall(this.props.currentUser);else{const e=r.getPluginInstallStatus(this.props.plugin,this.props.orgEntity);this.props.showInstallError(e)}})}isInstalled(){return this.props.plugin.install_status===P.PluginStatus.PLUGIN_INSTALLED_FOR_ORG||this.props.plugin.install_status===P.PluginStatus.PLUGIN_INSTALLED_FOR_USER}render(){const e=r.getPluginVersion(this.props.plugin),l=e.description,n=t.createElement(A.AuthorLink,{publisher:this.props.plugin,className:V.hubFileAuthorName,showAvatar:!0,avatarClassName:V.avatar,avatarSize:24}),o=t.createElement("div",{className:V.pluginTileViewAuthor},t.createElement("div",{className:V.pluginAuthorContainer},n));return t.createElement(i.PluginTileView,Object.assign({},this.props,{onClick:this.onClick,href:s.pluginPath(this.props.plugin.id),author:o,isPublic:this.props.isPublic,onInstallClick:this.isInstalled()?this.onUninstall:this.onInstall,onLikeClick:this.props.plugin.current_user_liked?this.unlike:this.like,description:l,name:e.name,iconSrc:e.redirect_icon_url,showInstallCount:!0,isInstalled:this.isInstalled(),isLiked:this.props.plugin.current_user_liked,installCount:this.props.plugin.install_count,likeCount:this.props.plugin.like_count,entity:this.props.plugin.publisher||this.props.plugin.creator}))}}const u=(e,i)=>({onClick:()=>{e(o.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:i.pluginId}))},onLike:()=>{e(N.likePlugin({pluginId:i.pluginId}))},onUnlike:()=>{e(N.unlikePlugin({pluginId:i.pluginId}))},onProfileCreate:l=>{e(o.fileBrowser.showModal({type:S.CHANGE_PROFILE_HANDLE,data:{userId:l.id,onFinish:()=>e(N.likePlugin({pluginId:i.pluginId}))}}))},showInstallError:i=>{e(I.visualBell.enqueue({message:`Can't install plugin: ${i}`,type:"plugin-install-failure"}))},onInstall:l=>{e(F.tryInstallPlugin({pluginId:i.pluginId,orgId:void 0}))},onUninstall:l=>{e(F.uninstallPlugin({pluginId:i.pluginId})),E.segment.track("Plugin Uninstalled",{pluginId:i.pluginId,userId:null==l?void 0:l.id,viewContext:i.viewContext||""}),e(I.visualBell.enqueue({message:"Plugin Uninstalled",type:"plugin-installed",button:{text:"Undo",action:()=>{e(F.tryInstallPlugin({pluginId:i.pluginId,orgId:void 0}))}}}))},onLoggedOutAction:(i,l,t)=>{e(w.authActions.init({origin:l})),e(L.showModal({type:R.LOGGED_OUT_COMMUNITY_ACTION_MODAL,data:{headerText:i,icon:t,dispatch:e}}))}}),c=(e,i)=>{const l=i.plugin||r.getPublishedPluginById(i.pluginId,e.publishedPlugins);return{currentUser:e.user||null,plugin:l,orgEntity:H.getOrgPermissionEntity(e)}};e.ConnectedPluginTile=n.connect(c,u)(l),e.ConnectedPluginTileTracked=n.connect(c,u)(v.asTrackedClickable(l))}($||($={})),i.PluginTile=$.ConnectedPluginTile,i.PluginTileTracked=$.ConnectedPluginTileTracked,function(e){class l extends t.Component{constructor(){super(...arguments),this.onClick=a.withDefaultOpenBehavior(e=>{e.preventDefault(),this.props.onTileClick&&this.props.onTileClick(this.props.plugin.id),this.props.onClick()})}render(){const e=r.getPluginVersion(this.props.plugin);let l=e.description;if(this.props.pluginOverrides&&this.props.pluginOverrides[this.props.plugin.id]){const{overrides:e}=this.props.pluginOverrides[this.props.plugin.id];l=(null==e?void 0:e.description)||l}return t.createElement(i.PluginTileView__OLD,Object.assign({},this.props,{onClick:this.onClick,href:s.pluginPath(this.props.plugin.id),iconSrc:e.redirect_icon_url,name:e.name,description:l,showInstallCount:this.props.showInstallCount,installCount:this.props.plugin.install_count,entity:this.props.plugin.creator}))}}l.displayName="PluginTile";const u=(e,i)=>({onClick:()=>{e(o.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:i.plugin.id}))}});e.ConnectedPluginTileTracked=n.connect(null,u)(v.asTrackedClickable(l)),e.ConnectedPluginTile=n.connect(null,u)(l)}(Q||(Q={})),i.PluginTile__OLD=Q.ConnectedPluginTile,i.PluginTileTracked__OLD=Q.ConnectedPluginTileTracked,function(e){class l extends t.Component{render(){return t.createElement(i.PluginTile__OLD,{plugin:this.props.plugin,showInstallCount:this.props.showInstallCount,pluginOverrides:this.props.pluginOverrides,onTileClick:this.props.onTileClick})}}l.displayName="ProfilePluginTile";e.ConnectedProfilePluginsTile=n.connect((e,i)=>({plugin:e.publishedPlugins[i.pluginId]}))(l)}(W||(W={})),i.ProfilePluginTile=W.ConnectedProfilePluginsTile;class Z extends t.Component{render(){const{numResources:e,maxResources:i,className:l}=this.props;return t.createElement(t.Fragment,null,e<i?Array(i-e).fill(null).map((e,i)=>t.createElement("div",{key:i,className:l})):null)}}i.EmptyResourceTilesForPadding=Z,Z.defaultProps={maxResources:4},function(e){class i extends t.Component{constructor(){super(...arguments),this.onHubFileClick=a.withDefaultOpenBehavior(e=>{e.preventDefault(),e.stopPropagation(),this.props.onHubFileClick()})}render(){const e=U.getHubFileVersion(this.props.hubFile);return t.createElement("div",{className:V.publicProfileResourceTileContainer},t.createElement("div",{className:V.publicProfileResourceTile},t.createElement("a",{className:V.publicProfileHubFileTile,style:{backgroundColor:_.fileBackgroundColor(this.props.hubFile.client_meta),backgroundImage:`url(${this.props.hubFile.redirect_thumbnail_url})`},onClick:this.onHubFileClick,href:s.hubFilePath(this.props.hubFile.id)},t.createElement("div",{className:V.publicProfileResourceTileBorder}),t.createElement("div",{className:V.publicProfileHubFileTileMeta},t.createElement("div",{className:V.publicProfileHubFileTileName},e.name)))))}}i.displayName="PublicProfileHubFileTile";e.PublicProfileHubFileTile=n.connect(null,(e,i)=>({onHubFileClick:()=>{e(o.fileBrowser.selectView({view:"communityHub",subView:"hubFile",hubFileId:i.hubFile.id}))}}))(i)}(X||(X={})),function(e){class i extends t.Component{constructor(){super(...arguments),this.onPluginClick=a.withDefaultOpenBehavior(e=>{e.preventDefault(),e.stopPropagation(),this.props.onPluginClick()})}render(){const e=r.getPluginVersion(this.props.plugin);return t.createElement("div",{className:V.publicProfileResourceTileContainer},t.createElement("div",{className:V.publicProfileResourceTile},t.createElement("a",{className:V.publicProfilePluginTile,onClick:this.onPluginClick,href:s.pluginPath(this.props.plugin.id)},t.createElement("div",{className:V.publicProfileResourceTileBorder}),t.createElement("img",{className:V.publicProfilePluginTileIcon,src:e.redirect_icon_url}),t.createElement("div",{className:V.publicProfilePluginTileName},e.name))))}}i.displayName="PublicProfilePluginTile";e.PublicProfilePluginTile=n.connect(null,(e,i)=>({onPluginClick:()=>{e(o.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:i.plugin.id}))}}))(i)}(J||(J={})),function(e){class i extends t.Component{constructor(e){super(e),this.onPublicProfileClick=(e=>{if(a.shouldUseDefaultOpenBehavior(e)){const e=this.props.publicProfile;if(!e)return;D.redirect(s.profilePath(e.profile_handle)||"","_blank")}else this.props.onPublicProfileClick()}),this.updateFollowInfoOnFollowClick=(()=>{const e=this.state.currentUserIsFollowing?{currentUserFollowActionCountDiff:this.state.currentUserFollowActionCountDiff-1,currentUserIsFollowing:!1}:{currentUserFollowActionCountDiff:this.state.currentUserFollowActionCountDiff+1,currentUserIsFollowing:!0};this.setState(e)}),this.state={currentUserFollowActionCountDiff:0,currentUserIsFollowing:e.publicProfile.current_user_is_following}}render(){const e=this.props.publicProfile;if(!e)return null;const i={id:e.id,name:e.name,img_url:e.img_url};return t.createElement("div",{className:V.publicProfileTileContainer,onClick:this.onPublicProfileClick},t.createElement("div",{className:V.publicProfileTileCreator},t.createElement(d.MediaQuery,{query:"(max-width: 841px)"},t.createElement(c.Avatar,{entity:i,size:104,className:V.publicProfileTileAvatar})),t.createElement(d.MediaQuery,{query:"(min-width: 842px)"},t.createElement(c.Avatar,{entity:i,size:120,className:V.publicProfileTileAvatar})),t.createElement("div",{className:V.publicProfileTileMeta},t.createElement("div",{className:V.publicProfileTileTitle},e.name),e.profile_handle&&t.createElement("div",{className:V.publicProfileTileHandle},"@",e.profile_handle),e.location&&t.createElement("div",{className:V.publicProfileTileLocation},e.location),x.communityHubFollowsEnabled()&&t.createElement("div",{className:V.followsSection},!this.props.isOwnProfile&&t.createElement(g.FollowButton,{profile:e,followClassName:V.followButton,followingClassName:V.followButton,unfollowClassName:V.followButton,onClick:this.updateFollowInfoOnFollowClick,onError:this.updateFollowInfoOnFollowClick}),t.createElement("div",null,t.createElement("div",{className:V.followerCountLabel},"Followers"),t.createElement("div",{className:V.followerCount},e.follower_count+this.state.currentUserFollowActionCountDiff))))),this.props.resources.length>0&&t.createElement("div",{className:V.publicProfileTileContent},this.props.resources.map(e=>{const i=H.resourceType(e);switch(i){case C.PublicProfileResourceType.HUB_FILE:return t.createElement(X.PublicProfileHubFileTile,{hubFile:e,key:e.id});case C.PublicProfileResourceType.PLUGIN:return t.createElement(J.PublicProfilePluginTile,{plugin:e,key:e.id});default:B.assertNever(i)}}),t.createElement(Z,{numResources:this.props.resources.length,maxResources:3,className:V.publicProfileResourceTileContainer})),0===this.props.resources.length&&t.createElement("div",{className:V.publicProfileTileEmptyContent},"No resources published yet"))}}i.displayName="PublicProfileTile";const l=(e,i)=>({isOwnProfile:!!e.user&&e.user.community_profile_id===i.publicProfile.id}),r=(e,i)=>({onPublicProfileClick:()=>{e(o.fileBrowser.selectView({view:"communityHub",subView:"handle",handle:i.publicProfile.profile_handle}))}});e.ConnectedPublicProfileTile=n.connect(l,r)(i),e.ConnectedPublicProfileTileTracked=n.connect(l,r)(v.asTrackedClickable(i))}(K||(K={})),i.PublicProfileTile=K.ConnectedPublicProfileTile,i.PublicProfileTileTracked=K.ConnectedPublicProfileTileTracked}),
(function(i,l,s){i.exports={ellipsis:"plugins--ellipsis--2m8Jv",_ellipsisAfterNLines:"plugins--_ellipsisAfterNLines--f6-KH",ellipsisAfter2Lines:"plugins--ellipsisAfter2Lines--1PBHE plugins--_ellipsisAfterNLines--f6-KH",ellipsisAfter3Lines:"plugins--ellipsisAfter3Lines--2Adfd plugins--_ellipsisAfterNLines--f6-KH",list:"plugins--list--E0HqW search_results_view--list--3m8h6",pluginRowTemplate:"plugins--pluginRowTemplate--A0L6q",listHeader:"plugins--listHeader--3QGHA search_view_bar--listHeader--JdsfJ text--fontPos13--1DoEt text--_fontBase--YWDo0 plugins--pluginRowTemplate--A0L6q",listHeaderMobile:"plugins--listHeaderMobile--1I_wE plugins--listHeader--3QGHA search_view_bar--listHeader--JdsfJ text--fontPos13--1DoEt text--_fontBase--YWDo0 plugins--pluginRowTemplate--A0L6q",pluginListRowContainer:"plugins--pluginListRowContainer--28Ce1 plugins--pluginRowTemplate--A0L6q text--fontPos14--3UJ36 text--_fontBase--YWDo0",text:"plugins--text--2Xl8s",pluginListRowIcon:"plugins--pluginListRowIcon--2UP7p plugin--pluginIconBase--1x_Mv",pluginListRowMeta:"plugins--pluginListRowMeta--3H14W",pluginListRowTitle:"plugins--pluginListRowTitle--3e2YB",pluginListRowSettingsButton:"plugins--pluginListRowSettingsButton--2KGdl",pluginListRowTitleText:"plugins--pluginListRowTitleText--1yNac plugins--text--2Xl8s",pluginTitleWrapper:"plugins--pluginTitleWrapper--2LnQf",pluginListRowDescription:"plugins--pluginListRowDescription--2MU2n plugins--text--2Xl8s plugins--ellipsisAfter2Lines--1PBHE plugins--_ellipsisAfterNLines--f6-KH",pluginListRowCell:"plugins--pluginListRowCell--3MrsJ",pluginPublisher:"plugins--pluginPublisher--1YIkS plugins--text--2Xl8s plugins--pluginListRowCell--3MrsJ",pluginLastUpdated:"plugins--pluginLastUpdated--l8eQ2 plugins--text--2Xl8s plugins--pluginListRowCell--3MrsJ",pluginInstallCount:"plugins--pluginInstallCount--2-F6D plugins--pluginListRowCell--3MrsJ",pluginInstallButton:"plugins--pluginInstallButton--1b09T plugins--pluginListRowCell--3MrsJ"}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=t(2,1    ),r=t(87      ),o=t(43,1         ),n=t(113                                     ),l=t(440                          ),a=t(138      ),u=t(117                                ),c=t(351                      ),S=t(404                                  ),g=t(491                                             ),P=t(492                                  ),p=t(570                                                  ),d=t(572                                            ),h=t(466                                                        ),y=t(574                                            ),K=t(588                                     ),b=t(529                        ),v=t(510                              ),w=t(589            );var L;!function(e){e.viewBarConfig={viewId:"search-public_plugins",sortKeys:[c.PublicPluginSearchSortKeys.NAME,c.PublicPluginSearchSortKeys.AUTHOR_NAME,c.PublicPluginSearchSortKeys.UPDATED_AT,c.PublicPluginSearchSortKeys.INSTALL_COUNT,c.PublicPluginSearchSortKeys.POPULARITY,c.PublicPluginSearchSortKeys.RELEVANCY],listSortKeys:[c.PublicPluginSearchSortKeys.NAME,c.PublicPluginSearchSortKeys.AUTHOR_NAME,c.PublicPluginSearchSortKeys.UPDATED_AT,c.PublicPluginSearchSortKeys.INSTALL_COUNT],tabletListSortKeys:[c.PublicPluginSearchSortKeys.NAME,c.PublicPluginSearchSortKeys.INSTALL_COUNT],mobileListSortKeys:[c.PublicPluginSearchSortKeys.NAME,c.PublicPluginSearchSortKeys.INSTALL_COUNT],sortKeyDescriptions:{[u.TileViewMode.GRID]:{[c.PublicPluginSearchSortKeys.NAME]:"Name",[c.PublicPluginSearchSortKeys.AUTHOR_NAME]:"Publisher",[c.PublicPluginSearchSortKeys.UPDATED_AT]:"Last updated",[c.PublicPluginSearchSortKeys.INSTALL_COUNT]:"Installs",[c.PublicPluginSearchSortKeys.POPULARITY]:"Popular",[c.PublicPluginSearchSortKeys.RELEVANCY]:"Relevance"},[u.TileViewMode.LIST]:{[c.PublicPluginSearchSortKeys.NAME]:"Name",[c.PublicPluginSearchSortKeys.AUTHOR_NAME]:"Publisher",[c.PublicPluginSearchSortKeys.UPDATED_AT]:"Last updated",[c.PublicPluginSearchSortKeys.INSTALL_COUNT]:"Installs",[c.PublicPluginSearchSortKeys.POPULARITY]:"Popular",[c.PublicPluginSearchSortKeys.RELEVANCY]:"Relevance"}},defaultOptions:{viewMode:u.TileViewMode.LIST,sortMode:{sortKey:c.PublicPluginSearchSortKeys.POPULARITY,sortDesc:!1}},includeSortDirection:e=>{return-1===[c.PublicPluginSearchSortKeys.POPULARITY,c.PublicPluginSearchSortKeys.RELEVANCY].indexOf(e)},settingsSpacer:r.tablet||r.mobile,hideSortDropdownInDesktop:!1},e.listStyle=w.list,e.ListHeader=(i=>{const t={sortMode:Object.assign(Object.assign({},e.viewBarConfig.defaultOptions.sortMode),i.sortState[c.SearchModelType.PUBLIC_PLUGINS]),viewMode:u.TileViewMode.LIST},r={sortKeyDescriptions:e.viewBarConfig.sortKeyDescriptions,onChangeSortOptions:e=>{const t=Object.assign(Object.assign({},i.sortState),{[c.SearchModelType.PUBLIC_PLUGINS]:{sortKey:e.sortKey,sortDesc:e.sortDesc}});i.onChangeSortState(t)},options:t,hideViewModeToggle:!0,listSortKeys:e.viewBarConfig.listSortKeys,mobileListSortKeys:e.viewBarConfig.mobileListSortKeys,tabletListSortKeys:e.viewBarConfig.tabletListSortKeys,sortKeys:e.viewBarConfig.sortKeys,settingsSpacer:e.viewBarConfig.settingsSpacer,defaultSortKey:e.viewBarConfig.defaultOptions.sortMode.sortKey};return s.createElement(g.ViewBar,Object.assign({listHeaderClassName:w.listHeader},r))}),e.getValidOptions=(i=>({sortMode:i.search.parameters.sortState.public_plugins,viewMode:S.getValidOptionsForViewMode(e.viewBarConfig.viewId,i,e.viewBarConfig.defaultOptions.viewMode)}))}(i.PublicPluginsSearchResults||(i.PublicPluginsSearchResults={})),function(e){e.viewBarConfig={viewId:"search-private_plugins",sortKeys:[c.PrivatePluginSearchSortKeys.NAME,c.PrivatePluginSearchSortKeys.AUTHOR_NAME,c.PrivatePluginSearchSortKeys.UPDATED_AT,c.PrivatePluginSearchSortKeys.INSTALL_COUNT,c.PrivatePluginSearchSortKeys.RELEVANCY],listSortKeys:[c.PrivatePluginSearchSortKeys.NAME,c.PrivatePluginSearchSortKeys.AUTHOR_NAME,c.PrivatePluginSearchSortKeys.UPDATED_AT,c.PrivatePluginSearchSortKeys.INSTALL_COUNT],tabletListSortKeys:[c.PrivatePluginSearchSortKeys.NAME,c.PrivatePluginSearchSortKeys.INSTALL_COUNT],mobileListSortKeys:[c.PrivatePluginSearchSortKeys.NAME,c.PrivatePluginSearchSortKeys.INSTALL_COUNT],sortKeyDescriptions:{[u.TileViewMode.GRID]:{[c.PrivatePluginSearchSortKeys.NAME]:"Name",[c.PrivatePluginSearchSortKeys.AUTHOR_NAME]:"Publisher",[c.PrivatePluginSearchSortKeys.UPDATED_AT]:"Last updated",[c.PrivatePluginSearchSortKeys.INSTALL_COUNT]:"Installs",[c.PrivatePluginSearchSortKeys.RELEVANCY]:"Relevance"},[u.TileViewMode.LIST]:{[c.PrivatePluginSearchSortKeys.NAME]:"Name",[c.PrivatePluginSearchSortKeys.AUTHOR_NAME]:"Publisher",[c.PrivatePluginSearchSortKeys.UPDATED_AT]:"Last updated",[c.PrivatePluginSearchSortKeys.INSTALL_COUNT]:"Installs",[c.PrivatePluginSearchSortKeys.RELEVANCY]:"Relevance"}},defaultOptions:{viewMode:u.TileViewMode.GRID,sortMode:{sortKey:c.PrivatePluginSearchSortKeys.RELEVANCY,sortDesc:!1}},includeSortDirection:e=>{return-1===[c.PrivatePluginSearchSortKeys.RELEVANCY].indexOf(e)},settingsSpacer:r.tablet||r.mobile,hideSortDropdownInDesktop:!0},e.listStyle=w.list,e.ListHeader=(i=>{const t={sortMode:Object.assign(Object.assign({},e.viewBarConfig.defaultOptions.sortMode),i.sortState[c.SearchModelType.PRIVATE_PLUGINS]),viewMode:u.TileViewMode.LIST},r={sortKeyDescriptions:e.viewBarConfig.sortKeyDescriptions,onChangeSortOptions:e=>{const t=Object.assign(Object.assign({},i.sortState),{[c.SearchModelType.PRIVATE_PLUGINS]:{sortKey:e.sortKey,sortDesc:e.sortDesc}});i.onChangeSortState(t)},options:t,hideViewModeToggle:!0,listSortKeys:e.viewBarConfig.listSortKeys,mobileListSortKeys:e.viewBarConfig.mobileListSortKeys,tabletListSortKeys:e.viewBarConfig.tabletListSortKeys,sortKeys:e.viewBarConfig.sortKeys,settingsSpacer:e.viewBarConfig.settingsSpacer,defaultSortKey:e.viewBarConfig.defaultOptions.sortMode.sortKey};return s.createElement(g.ViewBar,Object.assign({listHeaderClassName:w.listHeader},r))}),e.getValidOptions=(i=>({sortMode:i.search.parameters.sortState.private_plugins,viewMode:S.getValidOptionsForViewMode(e.viewBarConfig.viewId,i,e.viewBarConfig.defaultOptions.viewMode)}))}(i.PrivatePluginsSearchResults||(i.PrivatePluginsSearchResults={})),function(e){class i extends s.Component{constructor(){super(...arguments),this.onPluginListRowClick=a.withDefaultOpenBehavior(e=>{e.preventDefault(),this.props.onPluginListRowClick()})}render(){const e=this.props.plugin;if(!e||!e.current_plugin_version_id)return null;const i=l.getPluginVersion(e);return i?s.createElement("div",{className:w.pluginListRowContainer},s.createElement("a",{onClick:this.onPluginListRowClick,href:h.pluginPath(e.id),className:w.pluginListRowMeta},s.createElement("img",{src:i.redirect_icon_url||"",className:w.pluginListRowIcon}),s.createElement("div",{className:w.pluginTitleWrapper},s.createElement("div",{className:w.pluginListRowTitle},s.createElement("div",{className:w.pluginListRowTitleText},i.name),s.createElement(v.SettingsButton,Object.assign({className:w.pluginListRowSettingsButton},this.props))),s.createElement("div",{className:w.pluginListRowDescription},i.description))),s.createElement(d.AuthorLink,{publisher:e,className:w.pluginPublisher}),s.createElement("div",{className:w.pluginLastUpdated},s.createElement(P.FromNow,{date:i.created_at})),s.createElement("div",{className:w.pluginInstallCount},s.createElement(y.RoundedCount,{count:e.install_count})),s.createElement("div",{className:w.pluginInstallButton},s.createElement(p.InstallButtonSplit,{plugin:e,useOldButton:!0}))):null}}i.displayName="PluginListRow";e.ConnectedPluginListRow=o.connect(null,(e,i)=>({onPluginListRowClick:()=>{e(n.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:i.plugin.id}))}}))(i)}(L||(L={})),i.PluginListRow=L.ConnectedPluginListRow;class T extends s.PureComponent{render(){return s.createElement(K.PluginTileTracked,Object.assign({},this.props,{isPublic:!1,plugin:this.props.plugin,pluginId:this.props.plugin.id,showInstallCount:!0,innerText:"Plugin Tile",trackingProperties:{pluginId:this.props.plugin.id}}))}}!function(e){const t=e=>(class extends s.Component{render(){const{publishedPlugin:i,searchResult:t}=this.props,r=i||t.model;return s.createElement(e,Object.assign({},this.props,{plugin:r,key:r.id}))}}),r=t(i.PluginListRow),n=t(T),l=(e,i)=>({publishedPlugin:e.publishedPlugins[i.searchResult.model.id]||null});e.SearchResult=b.PerViewModeComponent({[u.TileViewMode.GRID]:o.connect(l)(n),[u.TileViewMode.LIST]:o.connect(l)(r)})}(i.BasePluginsSearchResults||(i.BasePluginsSearchResults={}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(2,1    ),o=i(117                                ),s=i(351                      ),l=i(588                                     );!function(e){e.SearchResult=(t=>e.renderSearchResult(t.searchResult,o.TileViewMode.GRID));const t=[s.HubFileSearchSortKeys.POPULARITY,s.HubFileSearchSortKeys.RECENCY];e.viewBarConfig={viewId:"search-hub_files",sortKeys:t,listSortKeys:t,tabletListSortKeys:t,mobileListSortKeys:t,sortKeyDescriptions:{[o.TileViewMode.GRID]:{[s.HubFileSearchSortKeys.POPULARITY]:"Popular",[s.HubFileSearchSortKeys.RECENCY]:"Recent"},[o.TileViewMode.LIST]:{[s.HubFileSearchSortKeys.POPULARITY]:"Popular",[s.HubFileSearchSortKeys.RECENCY]:"Recent"}},defaultOptions:{viewMode:o.TileViewMode.GRID,sortMode:{sortKey:s.HubFileSearchSortKeys.POPULARITY,sortDesc:!1}},includeSortDirection:e=>!1,hideSortDropdownInDesktop:!1},e.renderSearchResult=((e,t)=>r.createElement(l.HubFileTileTracked,{showDuplicateCount:!0,hubFileId:e.model.id,searchResult:e.model,key:`hub_file-${e.model.id}`,innerText:"Hub File Tile",viewContext:"Community Hub Search",trackingProperties:{hubFileId:e.model.id}})),e.getValidOptions=(t=>({viewMode:e.viewBarConfig.defaultOptions.viewMode,sortMode:{sortKey:t.search.parameters.sortState.hub_files.sortKey,sortDesc:e.viewBarConfig.defaultOptions.sortMode.sortDesc}}))}(t.HubFilesSearchResults||(t.HubFilesSearchResults={}))}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=a(351                      ),t=a(402                               ),o=a(355                                ),c=a(531                                                             ),l=a(546                                                             ),n=a(556                                                                ),i=a(558                                                             ),p=a(590                                                               ),u=a(591                                                                 ),S=a(189                             );function d(e=s.defaultSearchState,a){if(t.searchActions.startSession.matches(a)){const{entryPoint:s}=a.payload;return o.Search.Session.start(e,{entryPoint:s})}if(t.searchActions.incrementQueryCount.matches(a))return o.Search.Session.incrementQueryCount(e);if(t.searchActions.setParameters.matches(a)){const s=Object.assign(Object.assign({},e.parameters),a.payload),t=r.scopeDefinitions[s.searchScope];return-1===t.modelTypes.indexOf(s.searchModelType)&&(s.searchModelType=t.correspondingModelTypes[s.searchModelType]||t.defaultModelType),Object.assign(Object.assign({},e),{parameters:s})}if(t.searchActions.resetResponses.matches(a))return Object.assign(Object.assign({},e),{queryId:null,responses:s.defaultSearchState.responses,responseSortState:s.defaultSearchState.responseSortState,responseCounts:s.defaultSearchState.responseCounts});if(t.searchActions.clearQuery.matches(a)){const a={sessionId:e.sessionId,queryId:e.queryId,queryCount:e.queryCount};return Object.assign(Object.assign(Object.assign({},s.defaultSearchState),{parameters:Object.assign(Object.assign({},e.parameters),{query:s.defaultSearchState.parameters.query})}),a)}if(t.searchActions.setFocus.matches(a))return Object.assign(Object.assign({},e),{isFocused:a.payload.isFocused});if(t.searchActions.setMoreResultsModelType.matches(a))return Object.assign(Object.assign({},e),{moreResultsModelType:a.payload.moreResultsModelType});if(t.searchActions.reset.matches(a))return Object.assign({},s.defaultSearchState);if(S.orgs.switchActiveOrgAndSetCurrentOrgId.matches(a))return Object.assign({},s.defaultSearchState);if(t.searchActions.setSearchScrollTop.matches(a))return Object.assign(Object.assign({},e),{searchScrollTop:a.payload.top});if(t.searchActions.setResponse.matches(a)){if(e.parameters.query!==a.payload.parameters.query)return e;const r=Object.assign({},a.payload.response),t=a.payload.parameters.searchModelType;return r.results.forEach(e=>{e.search_model_type=t}),Object.assign(Object.assign({},e),{responseSortState:Object.assign({},a.payload.parameters.sortState),responses:Object.assign(Object.assign(Object.assign({},s.defaultSearchState.responses),e.responses),{[t]:a.payload.response}),responseCounts:Object.assign(Object.assign({},e.responseCounts),{[t]:r.results.length}),completedQueries:Object.assign(Object.assign({},e.completedQueries),{[t]:a.payload.parameters.query}),queryId:a.payload.queryId})}return e}s.defaultSearchState={parameters:{query:"",searchModelType:r.SearchModelType.HUB_FILES,searchScope:r.SearchScope.COMMUNITY,sortState:{[r.SearchModelType.PUBLIC_PLUGINS]:Object.assign({},p.PublicPluginsSearchResults.viewBarConfig.defaultOptions.sortMode),[r.SearchModelType.PRIVATE_PLUGINS]:Object.assign({},p.PrivatePluginsSearchResults.viewBarConfig.defaultOptions.sortMode),[r.SearchModelType.HUB_FILES]:Object.assign({},u.HubFilesSearchResults.viewBarConfig.defaultOptions.sortMode),[r.SearchModelType.FILES]:Object.assign({},c.FilesSearchResults.viewBarConfig.defaultOptions.sortMode),[r.SearchModelType.PROJECTS]:Object.assign({},n.ProjectsSearchResults.viewBarConfig.defaultOptions.sortMode),[r.SearchModelType.TEAMS]:Object.assign({},l.TeamsSearchResults.viewBarConfig.defaultOptions.sortMode),[r.SearchModelType.USERS]:Object.assign({},i.UsersSearchResults.viewBarConfig.defaultOptions.sortMode)}},responseSortState:null,responses:{[r.SearchModelType.PUBLIC_PLUGINS]:null,[r.SearchModelType.PRIVATE_PLUGINS]:null,[r.SearchModelType.FILES]:null,[r.SearchModelType.PROJECTS]:null,[r.SearchModelType.TEAMS]:null,[r.SearchModelType.USERS]:null,[r.SearchModelType.HUB_FILES]:null,[r.SearchModelType.PUBLIC_PROFILES]:null},responseCounts:{[r.SearchModelType.PUBLIC_PLUGINS]:null,[r.SearchModelType.PRIVATE_PLUGINS]:null,[r.SearchModelType.FILES]:null,[r.SearchModelType.PROJECTS]:null,[r.SearchModelType.TEAMS]:null,[r.SearchModelType.USERS]:null,[r.SearchModelType.HUB_FILES]:null,[r.SearchModelType.PUBLIC_PROFILES]:null},completedQueries:{[r.SearchModelType.PUBLIC_PLUGINS]:"",[r.SearchModelType.PRIVATE_PLUGINS]:"",[r.SearchModelType.FILES]:"",[r.SearchModelType.PROJECTS]:"",[r.SearchModelType.TEAMS]:"",[r.SearchModelType.USERS]:"",[r.SearchModelType.PUBLIC_PROFILES]:"",[r.SearchModelType.HUB_FILES]:""},sessionId:null,queryCount:0,queryId:null,isFocused:!0,searchScrollTop:0,moreResultsModelType:null},s.search=d,s.default=d}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=s(113                                     ),r=s(88           ),i=s(117                                );function a(){const e=null!=r.localStorageOrNull?r.localStorageOrNull.getItem("persisted-sorting"):null;if(e){const s=function(e){function s(e){const s=i.TileSortKey[i.TileSortKey[e]];if(void 0!==e)return Object.assign(Object.assign({},t.defaultState),{sort:Object.assign(Object.assign({},t.defaultState.sort),{key:s})})}let l;try{l=JSON.parse(e)}catch(a){return console.error(a),null}let r={};return l.folders&&l.folders.byId&&Object.keys(l.folders.byId).forEach(e=>{r[e]=s(l.folders.byId[e])}),{deletedFiles:s(l.deletedFiles)||t.defaultStateByView.deletedFiles,folders:{default:l.folders&&l.folders.default&&s(l.folders.default)||t.defaultStateByView.folders.default,byId:r},recentFiles:s(l.recentFiles)||t.defaultStateByView.recentFiles,searchResults:s(l.searchResults)||t.defaultStateByView.searchResults}}(e);return s||null}}t.tileSortFilterConfigEquals=function(e,t){return e.sort.key===t.sort.key&&e.sort.dir===t.sort.dir&&e.filters.creator===t.filters.creator},t.defaultState={viewMode:i.TileViewMode.GRID,sort:{key:i.TileSortKey.NAME,dir:i.TileSortDir.DESC},filters:{creator:i.TileFilterCreator.ANY}},t.defaultStateByView={deletedFiles:Object.assign(Object.assign({},t.defaultState),{filters:Object.assign(Object.assign({},t.defaultState.filters),{creator:i.TileFilterCreator.SELF}),sort:Object.assign(Object.assign({},t.defaultState.sort),{key:i.TileSortKey.TRASHED_AT})}),folders:{default:Object.assign(Object.assign({},t.defaultState),{sort:Object.assign(Object.assign({},t.defaultState.sort),{key:i.TileSortKey.TOUCHED_AT})}),byId:Object.create(null)},recentFiles:Object.assign(Object.assign({},t.defaultState),{sort:Object.assign(Object.assign({},t.defaultState.sort),{key:i.TileSortKey.TOUCHED_AT})}),searchResults:Object.assign(Object.assign({},t.defaultState),{sort:Object.assign(Object.assign({},t.defaultState.sort),{key:i.TileSortKey.SEARCH_RELEVANCE})})},t.tileSortFilterStateByView=function(e=t.defaultStateByView,s){if(l.fileBrowser.hydrate.matches(s)){const t=null!=r.localStorageOrNull?r.localStorageOrNull.getItem("sort-filter-prefs-v1"):null;if(t){const s=function(e){try{const s=JSON.parse(e);return{deletedFiles:s.deletedFiles,folders:{default:s.folders.default,byId:s.folders.byId},recentFiles:s.recentFiles,searchResults:s.searchResults}}catch(t){return null}}(t);return s||e}const s=a();return s||e}if(l.fileBrowser.setTileSortFilterConfigForView.matches(s)){const t=s.payload.selectedView;if("folder"===t.view){const l=Object.assign(Object.assign({},e.folders),{byId:Object.assign(Object.assign({},e.folders.byId),{[t.folderId]:s.payload.config})}),r=Object.assign(Object.assign({},e),{folders:l});return o(r),r}if("recentFiles"===t.view||"searchDeprecated"===t.view||"deletedFiles"===t.view){let l;l="searchDeprecated"===t.view?"searchResults":"deletedFiles"===t.view?"deletedFiles":"recentFiles";const r=Object.assign(Object.assign({},e),{[l]:s.payload.config});return o(r),r}}return e};const o=e=>{if(r.localStorageOrNull)try{const s=JSON.stringify(e);r.localStorageOrNull.setItem("sort-filter-prefs-v1",s)}catch(t){}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(108     ),o=a(91                  ),i=a(100                               ),c=a(93                                   );!function(e){e.set=o.actionCreator("ORG_BILLING_DATA_SET"),e.get=i.asyncActionCreator("ORG_BILLING_DATA_GET",t=>{const a=t.getState().currentOrgId;r.default.get(`/api/orgs/${a}/billing_data`).then(a=>{t.dispatch(e.set(a.data.meta))}).catch(e=>{var a;t.dispatch(c.flash.error((null===(a=e.data)||void 0===a?void 0:a.message)||"An error occurred while fetching billing data.",5e3)),console.error(e)})}),e.lockInvoice=i.asyncActionCreator("ORG_BILLING_LOCK_INVOICE",(t,a)=>{const o=t.getState().currentOrgId;r.default.put(`/api/orgs/${o}/lock_invoice`,a).then(a=>{t.dispatch(e.set(a.data.meta))}).catch(e=>{var a;t.dispatch(c.flash.error((null===(a=e.data)||void 0===a?void 0:a.message)||"An error occurred while locking your invoice.",5e3)),console.error(e)})})}(t.orgBillingData||(t.orgBillingData={}))}),
(function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=i(594                                         ),n=i(9,1    );function s(t=null,a){return e.orgBillingData.set.matches(a)?Object.assign(Object.assign({},t),a.payload):t}function c(t=!1,a){return!e.orgBillingData.set.matches(a)&&(!!e.orgBillingData.get.matches(a)||t)}a.data=s,a.isFetching=c,a.orgBillingData=n.combineReducers({data:s,isFetching:c})}),
(function(e,i,l){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=l(280                             ),a=l(113                                     ),r=l(338                                 ),f=l(343                      );function c(e,i){if(!e)return[];if(a.fileBrowser.hydrate.matches(i))return i.payload&&i.payload.recent_files||[];if(t.file.recentFilePut.matches(i)||t.file.recentFilePost.matches(i)){if(i.payload.file.file_repo_id)return e;let l=-1;for(let t=0;t<e.length;++t)if(e[t].key===i.payload.file.key){l=t;break}return-1!==l?[i.payload.file].concat(e.slice(0,l)).concat(e.slice(l+1)):[i.payload.file].concat(e)}if(t.file.recentFilesDelete.matches(i)){let l=i.payload.files.map(e=>e.key);return e.filter(e=>l.indexOf(e.key)<0)}if(t.file.deleteFiles.matches(i)){let l=[...e],t=i.payload.fileKeys;return l.filter(e=>!t[e.key])}return r.reduceList(e,i,f.file)}i.recentFiles=c,i.default=c}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const p=o(342                                  );function r(e,t){if(!e)return[];if(p.prototype.resetRecents.matches(t))return[];if(p.prototype.recentPrototypePost.matches(t)){let o=-1;for(let r=0;r<e.length;++r)if(e[r].file_key===t.payload.prototype.file_key&&e[r].page_id===t.payload.prototype.page_id){o=r;break}let p=[...e];return-1!==o&&p.splice(o,1),[t.payload.prototype].concat(p)}return p.prototype.unmarkViewed.matches(t)?e.filter(e=>e.file_key!==t.payload.fileKey||e.page_id!==t.payload.pageId):e}t.recentPrototypes=r,t.default=r}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(113                                     );r.recentRepos=function(e=[],r){return o.fileBrowser.hydrate.matches(r)&&r.payload.recent_repos?[...r.payload.recent_repos]:e}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(91                  );!function(t){t.insertNotifications=r.actionCreator("USER_NOTIFICATIONS_INSERT"),t.reject=r.actionCreator("USER_NOTIFICATIONS_REJECT"),t.resolve=r.actionCreator("USER_NOTIFICATIONS_RESOLVE"),t.selectView=r.actionCreator("USER_NOTIFICATIONS_SELECT_VIEW"),t.markAllAsRead=r.actionCreator("USER_NOTIFICATIONS_MARK_ALL_AS_READ"),t.setBell=r.actionCreator("USER_NOTIFICATIONS_SET_BELL"),t.reset=r.actionCreator("USER_NOTIFICATIONS_RESET"),t.get=r.actionCreator("USER_NOTIFICATIONS_GET")}(e.userNotifications||(e.userNotifications={}))}),
(function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(113                                     ),n=e(599                                          ),a=e(9,1    ),o=e(85                   );i.userNotifications=a.combineReducers({feed:function(t={allIds:[],byId:Object.create(null)},i){if(n.userNotifications.insertNotifications.matches(i)){const t=i.payload.notifications.feed,e=Object.create(null),s=[];return t.forEach(t=>{s.push(t.id),e[t.id]=t}),{allIds:s,byId:e}}if(n.userNotifications.reset.matches(i))return{allIds:[],byId:Object.create(null)};if(n.userNotifications.markAllAsRead.matches(i)){const i=Object.assign({},t.byId);return t.allIds.forEach(t=>{const e=i[t];e.read_at=(new Date).getTime(),i[t]=e}),Object.assign(Object.assign({},t),{byId:i})}if(n.userNotifications.resolve.matches(i)){const e=i.payload,s=Object.assign(Object.assign({},t.byId[e.notificationId]),{resolved_at:(new Date).getTime(),read_at:(new Date).getTime()}),n=Object.assign(Object.assign({},t.byId),{[s.id]:s});return Object.assign(Object.assign({},t),{byId:n})}if(n.userNotifications.reject.matches(i)){const e=i.payload.notificationId,s=Object.assign({},t.byId);return delete s[e],{allIds:t.allIds.filter(t=>t!==e),byId:s}}return t},files:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.files:n.userNotifications.reset.matches(i)?Object.create(null):t},fileCommentReactions:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.file_comment_reactions:n.userNotifications.reset.matches(i)?Object.create(null):t},folders:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.folders:n.userNotifications.reset.matches(i)?Object.create(null):t},teams:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.teams:n.userNotifications.reset.matches(i)?Object.create(null):t},roles:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.roles:n.userNotifications.reset.matches(i)?Object.create(null):t},users:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.users:n.userNotifications.reset.matches(i)?Object.create(null):t},hubFiles:function(t={},i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.hub_files:n.userNotifications.reset.matches(i)?{}:t},plugins:function(t={},i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.plugins:n.userNotifications.reset.matches(i)?{}:t},profiles:function(t={},i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.profiles:n.userNotifications.reset.matches(i)?{}:t},bellStates:function(t={},i){if(s.fileBrowser.init.matches(i)){const i=o.initialOptions().user_notifications_bell;return i?i.bell:t}if(n.userNotifications.reset.matches(i))return t;if(n.userNotifications.setBell.matches(i)){if(null!=i.payload.notificationSpaceId){let e=Object.assign({},t);return e[i.payload.notificationSpaceId]=i.payload.isBellStateHigh,e}return t}return t},isFetchingNotifictions:function(t=!1,i){return!!n.userNotifications.get.matches(i)||!n.userNotifications.insertNotifications.matches(i)&&t}})}),
(function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e(171                                ),i=e(444                       ),s={error:null,billingPeriod:i.BillingPeriod.UNSPECIFIED,numAnnualEditors:0,numMonthlyEditors:0,studentTeam:!1,submitPending:!1,upgradingNewTeam:!1,submitPutAnnualQuantityPending:!1,promo:null,token:null,taxes:null};t.payment=function(n=s,t){if(a.payment.init.matches(t))return Object.assign(Object.assign({},s),{promo:n.promo,billingPeriod:i.BillingPeriod.ANNUAL,numAnnualEditors:t.payload.numAnnualEditors});if(a.payment.startProUpgradeFlow.matches(t))return Object.assign(Object.assign({},n),{upgradingNewTeam:t.payload.newTeam});if(a.payment.confirmStudentTeamFlow.matches(t))return Object.assign(Object.assign({},n),{upgradingNewTeam:t.payload.newTeam});if(a.payment.submitPaymentAndAddress.matches(t))return Object.assign(Object.assign({},n),{submitPending:!0});if(a.payment.makeStudentTeam.matches(t))return Object.assign(Object.assign({},n),{submitPending:!0});if(a.payment.setSubmitPending.matches(t))return Object.assign(Object.assign({},n),{submitPending:t.payload.submitPending});if(a.payment.setBillingPeriod.matches(t))return Object.assign(Object.assign({},n),{billingPeriod:t.payload.billingPeriod});if(a.payment.setNumEditors.matches(t))return Object.assign(Object.assign({},n),{numAnnualEditors:t.payload.annualQuantity,numMonthlyEditors:t.payload.monthlyQuantity});if(a.payment.showError.matches(t))return Object.assign(Object.assign({},n),{error:t.payload.error,submitPending:!1});if(a.payment.putAnnualQuantity.matches(t))return Object.assign(Object.assign({},n),{submitPutAnnualQuantityPending:!0});if(a.payment.setSubmitPutAnnualQuantityPending.matches(t))return Object.assign(Object.assign({},n),{submitPutAnnualQuantityPending:t.payload.submitPending});if(a.payment.setPromo.matches(t))return Object.assign(Object.assign({},n),{promo:t.payload.promo});if(a.payment.setToken.matches(t)){let e=t.payload.token;return Object.assign(Object.assign({},n),{token:e})}return a.payment.setTaxes.matches(t)?Object.assign(Object.assign({},n),{taxes:t.payload.taxes}):n}}),
(function(t,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=c(91                  );!function(t){t.cartStep=r.actionCreator("CART_STEP"),t.teamSubscribed=r.actionCreator("CART_TEAM_SUBSCRIBED")}(e.cart||(e.cart={}))}),
(function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=c(602                             ),s={receipts:{}};t.cart=function(e=s,t){if(a.cart.teamSubscribed.matches(t)){const c=Object.assign({},e.receipts);return c[t.payload.team.id]=t.payload.receipt,Object.assign(Object.assign({},e),{receipts:c})}return e}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=t(108     ),s=t(93                                   ),o=t(100                               );!function(e){e.put=o.optimisticActionCreator("FILE_BROWSER_PREFERENCES_PUT",(e,r,t)=>{r.userInitiated&&i.default.put("/api/file_browser_preferences",Object.assign(Object.assign({},r.prefs),{org_id:e.getState().currentOrgId})).then(()=>{e.dispatch(o.optimistActions.commit(t))}).catch(r=>{var i;e.dispatch(o.optimistActions.revert(t)),e.dispatch(s.flash.error((null===(i=r.data)||void 0===i?void 0:i.message)||"An error occurred.")),console.error(r)})})}(r.fileBrowserPreferences||(r.fileBrowserPreferences={})),function(e){e.put=o.optimisticActionCreator("FILE_BROWSER_SECTION_PREFERENCES_PUT",(e,r,t)=>{r.userInitiated&&i.default.put(`/api/file_browser_preferences/section/${r.prefs.section_type}`,Object.assign(Object.assign({},r.prefs),{org_id:e.getState().currentOrgId})).then(()=>{e.dispatch(o.optimistActions.commit(t))}).catch(r=>{var i;e.dispatch(o.optimistActions.revert(t)),e.dispatch(s.flash.error((null===(i=r.data)||void 0===i?void 0:i.message)||"An error occurred.")),console.error(r)})})}(r.fileBrowserSectionPreferences||(r.fileBrowserSectionPreferences={}))}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FileBrowserSidebarSectionType={USER_FOLDERS:"user_folders",USER_DRAFTS:"user_drafts",TEAM:"team"}}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=r(604                                                 ),t=r(604                                                 ),a=r(113                                     ),n=r(605                            );s.fileBrowserPreferences=function(e={},s){if(a.fileBrowser.hydrate.matches(s)){if(s.payload&&s.payload.file_browser_preferences)return s.payload&&s.payload.file_browser_preferences}else if(t.fileBrowserPreferences.put.matches(s))return Object.assign(Object.assign({},e),s.payload.prefs);return e};const c={bySectionType:{},byTeamId:{}};s.fileBrowserSectionPreferencesBySectionOrTeamId=function(e=c,s){function r(e,s){return s.section_type===n.FileBrowserSidebarSectionType.TEAM?Object.assign(Object.assign({},e),{byTeamId:Object.assign(Object.assign({},e.byTeamId),{[s.team_id]:Object.assign(Object.assign({},e.byTeamId[s.team_id]),s)})}):Object.assign(Object.assign({},e),{bySectionType:Object.assign(Object.assign({},e.bySectionType),{[s.section_type]:Object.assign(Object.assign({},e.bySectionType[s.section_type]),s)})})}if(a.fileBrowser.hydrate.matches(s)){let e=Object.assign({},c);if(s.payload&&s.payload.file_browser_section_preferences)for(let i of s.payload.file_browser_section_preferences)e=r(e,i);return e}return i.fileBrowserSectionPreferences.put.matches(s)?r(e,s.payload.prefs):e}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=t(113                                     ),s=t(206                             );a.teamCreation=function(e={},a){return s.team.submitNewTeam.matches(a)?Object.assign(Object.assign({},e),{loading:!0}):s.team.setLoading.matches(a)?Object.assign(Object.assign({},e),{loading:a.payload.loading}):i.fileBrowser.selectView.matches(a)&&"teamCreation"===a.payload.view?Object.assign(Object.assign({},e),{loading:!1}):e}}),
(function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=n(206                             );a.teamView=function(e={renamingTeam:!1},a){return t.team.beginRename.matches(a)?Object.assign(Object.assign({},e),{renamingTeam:!0}):t.team.stopRename.matches(a)?Object.assign(Object.assign({},e),{renamingTeam:!1}):e}}),
(function(t,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});const r=e(91                  );!function(t){t.initBillingDetails=r.actionCreator("TEAM_ADMIN_INIT_BILLING_DETAILS"),t.fetchEditors=r.actionCreator("TEAM_ADMIN_FETCH_EDITORS"),t.fetchSummary=r.actionCreator("TEAM_ADMIN_FETCH_SUMMARY"),t.setBillingSummary=r.actionCreator("TEAM_ADMIN_SET_SUMMARY"),t.setEditors=r.actionCreator("TEAM_ADMIN_SET_EDITORS"),t.getAdmins=r.actionCreator("TEAM_ADMIN_GET_ADMINS"),t.setAdmins=r.actionCreator("TEAM_ADMIN_SET_ADMINS_BY_ID"),t.sortEditorsBy=r.actionCreator("TEAM_ADMIN_SORT_EDITORS_BY"),t.setQuery=r.actionCreator("TEAM_ADMIN_SET_QUERY"),t.setSearchResults=r.actionCreator("TEAM_ADMIN_SET_SEARCH_RESULTS"),t.initUserDetails=r.actionCreator("TEAM_ADMIN_INIT_USER_DETAILS"),t.setUserRoles=r.actionCreator("TEAM_ADMIN_SET_USER_ROLES"),t.demoteUserRoles=r.actionCreator("TEAM_ADMIN_DEMOTE_EDITOR_ROLES")}(_.teamAdmin||(_.teamAdmin={}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ASCENDING=0]="ASCENDING",e[e.DESCENDING=1]="DESCENDING"}(t.SortDirection||(t.SortDirection={}))}),
(function(s,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=i(609                                   ),t=i(9,1    ),n=i(610                          );e.teamAdmin=t.combineReducers({billingDetails:(s,e)=>{if(null==s||a.teamAdmin.initBillingDetails.matches(e))return{loadingSummary:!0,loadingEditors:!0,editorsSortBy:{field:"name",direction:n.SortDirection.ASCENDING},query:"",searchResults:[],admins:[],editors:[]};if(a.teamAdmin.setBillingSummary.matches(e))return null==e.payload.summary?Object.assign(Object.assign({admins:[]},s),{loadingSummary:!1,billingSummary:null}):Object.assign(Object.assign({admins:[]},s),{loadingSummary:!1,billingSummary:e.payload.summary});if(a.teamAdmin.setEditors.matches(e))return Object.assign(Object.assign({},s),{loadingEditors:!1,editors:e.payload.editors});if(a.teamAdmin.setAdmins.matches(e))return Object.assign(Object.assign({},s),{admins:e.payload.admins||[]});if(a.teamAdmin.fetchEditors.matches(e))return Object.assign(Object.assign({},s),{loadingEditors:!0,editors:[],searchResults:[]});if(a.teamAdmin.demoteUserRoles.matches(e)){const i=s.editors.filter(s=>s.id!==e.payload.editor.id),a=s.searchResults.filter(s=>s.id!==e.payload.editor.id);return Object.assign(Object.assign({},s),{loadingEditors:!1,editors:i,searchResults:a})}return a.teamAdmin.sortEditorsBy.matches(e)?Object.assign(Object.assign({},s),{editorsSortBy:e.payload.sortBy}):a.teamAdmin.setQuery.matches(e)?Object.assign(Object.assign({},s),{query:e.payload.query}):a.teamAdmin.setSearchResults.matches(e)?Object.assign(Object.assign({},s),{searchResults:e.payload.searchResults}):s},userDetails:(s,e)=>!s||a.teamAdmin.initUserDetails.matches(e)?{loading:!0,roles:{}}:a.teamAdmin.setUserRoles.matches(e)?Object.assign(Object.assign({},s),{loading:!1,roles:e.payload.roles}):s})}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(91                  );!function(e){e.updateTeamRoleRequests=s.actionCreator("ORGS_UPDATE_TEAM_ROLE_REQUESTS")}(t.teamRoleRequests||(t.teamRoleRequests={}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(612                                          );t.teamRoleRequests=function(e={},t){if(a.teamRoleRequests.updateTeamRoleRequests.matches(t)){const s=Object.assign({},e);return t.payload.teamRoleRequests.forEach(e=>{s[e.team_id]=e}),s}return e}}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=s(188                               );n.folderView=function(e={},n){return t.folder.beginRename.matches(n)?Object.assign(Object.assign({},e),{renamingFolder:!0}):t.folder.stopRename.matches(n)?Object.assign(Object.assign({},e),{renamingFolder:!1}):e}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.GET="EMAIL_SETTINGS_GET",t.PUT="EMAIL_SETTINGS_PUT",t.get=function(){return{type:t.GET}},t.put=function(e,i=!1){return{type:t.PUT,payload:{emailLists:e,userInitiated:i}}}}(e.emailSettings||(e.emailSettings={}))}),
(function(e,l,i){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.EmailListKey={ACTIVITY:"activity"},l.ActivityLevel={EVERY_FOLLOWER:"every_follower",DAILY_FOLLOWER:"daily_follower",WEEKLY_FOLLOWER:"weekly_follower"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(615                                ),l=i(85                   ),a=i(616                              ),L={listsFetched:!1,lists:{[a.ActivityLevel.EVERY_FOLLOWER]:!1,[a.ActivityLevel.DAILY_FOLLOWER]:!1,[a.ActivityLevel.WEEKLY_FOLLOWER]:!1},token:l.initialOptions().email_token};t.emailSettings=function(e=L,t){switch(t.type){case s.emailSettings.GET:return Object.assign(Object.assign({},e),{listsFetched:!0});case s.emailSettings.PUT:{let i=Object.assign({},e.lists);for(let e in t.payload.emailLists)if(e==a.EmailListKey.ACTIVITY)switch(delete i[a.ActivityLevel.EVERY_FOLLOWER],delete i[a.ActivityLevel.DAILY_FOLLOWER],delete i[a.ActivityLevel.WEEKLY_FOLLOWER],t.payload.emailLists[e]){case"every":i[a.ActivityLevel.EVERY_FOLLOWER]=!0;break;case"daily":i[a.ActivityLevel.DAILY_FOLLOWER]=!0;break;case"weekly":i[a.ActivityLevel.WEEKLY_FOLLOWER]=!0}else i[e]=t.payload.emailLists[e];return Object.assign(Object.assign({},e),{lists:i})}default:return e}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(93                                   ),s=a(618                                 ),c=a(108     ),i=a(91                  ),o=a(100                               );!function(e){e.batchPost=i.actionCreator("IDP_USER_BATCH_POST"),e.getAll=o.asyncActionCreator("IDP_USER_GET_ALL",(e,t)=>{const a=e.getState().currentOrgId;c.default.get(`/api/orgs/${a}/idp_users`).then(t=>{e.dispatch(s.idpUser.batchPost({idpUsers:t.data.meta})),e.dispatch(s.idpUser.getAllSucceeded())}).catch(t=>{e.dispatch(r.flash.error(t.message||"An error occurred while trying to fetch SCIM users."))})}),e.getAllSucceeded=i.actionCreator("IDP_USER_GET_ALL_SUCCEEDED")}(t.idpUser||(t.idpUser={}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(93                                   ),s=a(108     ),r=a(91                  ),n=a(123         ),c=a(100                               ),o=a(113                                     ),d=a(189                             ),l=a(172                                              );!function(e){e.set=r.actionCreator("SET_ORG_INVITES"),e.del=r.actionCreator("DELETE_ORG_INVITE"),e.isCreating=r.actionCreator("IS_CREATING_ORG_INVITES"),e.get=c.asyncActionCreator("GET_ORG_INVITES",(t,a)=>{const r=t.getState();s.default.get("/api/org_invites",{org_id:r.currentOrgId||""}).then(a=>{const i=a.data.meta;t.dispatch(e.set(i))}).catch(e=>{var a;const s=(null===(a=e.data)||void 0===a?void 0:a.message)||"An error occurred while fetching org invites.";t.dispatch(i.flash.flash(s))})}),e.deleteRequest=c.asyncActionCreator("DELETE_ORG_INVITES",(t,a)=>{const{idpUser:r}=a,n=t.getState();s.default.del(`/api/org_invites/${r.id}`,{org_id:n.currentOrgId}).then(a=>{t.dispatch(e.del({org_invite_id:r.id})),t.dispatch(i.flash.flash(`Provisional user ${r.email} removed`))}).catch(e=>{var a;const s=(null===(a=e.data)||void 0===a?void 0:a.message)||"An error occurred while deleting org invites.";t.dispatch(i.flash.flash(s))})}),e.postRequest=c.asyncActionCreator("POST_REQUEST_ORG_INVITES",(t,a)=>{const i=t.getState(),{emails:r,accountType:c,isResentInvite:g}=a;t.dispatch(e.isCreating({creating:!0})),s.default.post("/api/org_invites",{org_id:i.currentOrgId,emails:r,account_type:c}).then(a=>{const i=a.data.meta;t.dispatch(e.set(i)),t.dispatch(e.isCreating({creating:!1})),t.dispatch(o.fileBrowser.popModalStack()),t.dispatch(d.orgs.selectAdminView({view:"members"}));const s=g?"Invite resent.":`${i.length} ${n.getPluralOrSingular(i.length,"Member")} added successfully.`;t.dispatch(l.visualBell.enqueue({message:s}))}).catch(a=>{var i;const s=(null===(i=a.data)||void 0===i?void 0:i.message)||"An error occurred while creating org invites.";t.dispatch(e.isCreating({creating:!1})),t.dispatch(l.visualBell.enqueue({message:s,error:!0}))})}),e.putRequest=c.asyncActionCreator("PUT_REQUEST_ORG_INVITES",(t,a)=>{const{idpUser:r}=a,n=t.getState();s.default.put(`/api/org_invites/${r.id}`,{org_id:n.currentOrgId,account_type:r.account_type}).then(a=>{t.dispatch(e.set([a.data.meta])),t.dispatch(i.flash.flash(`Provisional user ${r.email} updated.`))}).catch(e=>{var a;const s=(null===(a=e.data)||void 0===a?void 0:a.message)||"An error occurred while updating org invites.";t.dispatch(i.flash.flash(s))})})}(t.orgInvites||(t.orgInvites={}))}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(620                                 ),o=t(172                                              ),a=t(93                                   ),i=t(91                  ),c=t(108     ),n=t(353                                  ),d=t(100                               );!function(e){e.set=i.actionCreator("ORGS_USER_SET"),e.put=d.optimisticActionCreator("ORG_USER_PUT",(r,t,s)=>{t.userInitiated&&c.default.put(`/api/org_users/${t.orgUser.id}`,t.orgUser).then(t=>{r.dispatch(d.optimistActions.commit(s)),e.put({orgUser:t.data,userInitiated:!1})}).catch(e=>{r.dispatch(d.optimistActions.revert(s)),r.dispatch(a.flash.error(e.message||"An error occurred."))})}),e.requestAccountType=d.optimisticActionCreator("ORG_USER_REQUEST_ACCOUNT_TYPE",(e,r,t)=>{c.default.put(`/api/org_account_type_request/${r.orgUserId}`).then(()=>{e.dispatch(d.optimistActions.commit(t)),e.dispatch(a.flash.flash("Account type request submitted."))}).catch(r=>{console.error(r),e.dispatch(d.optimistActions.revert(t)),e.dispatch(a.flash.error(r&&r.message||"An error occurred while requesting an account type."))})}),e.leaveOrg=d.optimisticActionCreator("ORG_USER_LEAVE_ORG",(e,r,t)=>{c.default.del(`/api/org_user/${r.orgId}`).then(()=>{e.dispatch(d.optimistActions.commit(t)),e.dispatch(o.visualBell.enqueue({type:"org_guest_leave",message:`You successfully left ${r.orgName} Organization.`}))}).catch(s=>{console.error(s),e.dispatch(d.optimistActions.revert(t)),e.dispatch(a.flash.error(s&&s.message||`An error occurred while leaving ${r.orgName} Organization.`))})}),e.batchPut=d.optimisticActionCreator("ORG_USER_BATCH_UPDATE_ORG_USERS",(e,r,t)=>{c.default.put(`/api/orgs/${r.orgId}/org_users`,r.params).then(o=>{const a=o.data.meta;e.dispatch(d.optimistActions.commit(t)),e.dispatch(s.orgUser.set({orgUsers:a,orgId:r.orgId}))}).catch(r=>{console.log(r),e.dispatch(d.optimistActions.revert(t)),e.dispatch(a.flash.error(r.message||"An error occurred while updating org users."))})}),e.batchDel=d.optimisticActionCreator("ORG_USER_DELETE_REFACTOR",(r,t,s)=>{t.userInitiated&&c.default.del(`/api/orgs/${t.orgId}/org_users`,t.params).then(e=>{r.dispatch(d.optimistActions.commit(s));const o=t.params.org_user_ids.length,i=1===o?`${o} user has been removed from the organization.`:`${o} users have been removed from the organization.`;r.dispatch(a.flash.flash(i))}).catch(o=>{r.dispatch(d.optimistActions.revert(s)),r.dispatch(e.getAll({orgId:t.orgId})),r.dispatch(a.flash.error(o.message||"An error occurred."))})}),e.getAll=d.asyncActionCreator("ORG_USER_GET_ALL",(e,r)=>{const t=r?r.params:{};c.default.get(`/api/orgs/${r.orgId}/org_users`,t).then(t=>{const o=t.data.meta;e.dispatch(s.orgUser.getAllSucceeded()),e.dispatch(s.orgUser.set({orgUsers:o,orgId:r.orgId}))}).catch(r=>{console.log(r),e.dispatch(a.flash.error(r.message||"An error occurred while fetching org users."))})}),e.getAllSucceeded=i.actionCreator("ORGS_USER_GET_ALL_SUCCEEDED"),e.getByUserId=d.asyncActionCreator("ORG_USER_GET_BY_USER_ID",(e,r,t)=>{const o=c.default.get(`/api/orgs/${r.orgId}/user/${r.userId}`);return n.registerLoadingState(o,e,t),o.then(t=>{const o=[t.data.meta];return e.dispatch(s.orgUser.set({orgUsers:o,orgId:r.orgId})),o.find(e=>e.user_id===r.userId)||null}).catch(r=>(console.log(r),e.dispatch(a.flash.error(r.message||"An error occurred while fetching org users.")),null))},(e,r)=>`${e}_${r.orgId}_${r.userId}`)}(r.orgUser||(r.orgUser={}))}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(108     ),o=t(618                                 ),a=t(619                                   ),i=t(620                                 ),l=t(172                                              ),_=t(91                  ),n=t(100                               ),R=t(265                                    );!function(e){e.setRosterMembers=_.actionCreator("ORG_ROSTER_SET_ROSTER_MEMBERS"),e.setQuery=_.actionCreator("ORG_ROSTER_SET_QUERY"),e.setFilters=_.actionCreator("ORG_ROSTER_FILTERS"),e.setFilterCounts=_.actionCreator("ORG_ROSTER_SET_FILTER_COUNTS"),e.setSortConfig=_.actionCreator("ORG_ROSTER_SORT_CONFIG"),e.selectOrgUserIds=_.actionCreator("ORG_ROSTER_SELECT_ORG_USER_IDS"),e.unselectOrgUserIds=_.actionCreator("ORG_ROSTER_UNSELECT_ORG_USER_IDS"),e.clearUserIds=_.actionCreator("ORG_ROSTER_CLEAR_USER_IDS"),e.get=n.asyncActionCreator("ORG_ROSTER_GET",(e,r)=>{Promise.all([e.dispatch(i.orgUser.getAll({orgId:r.orgId})),r.ignoreIdpUsers?null:e.dispatch(o.idpUser.getAll()),r.ignoreIdpUsers?null:e.dispatch(a.orgInvites.get())])}),e.exportCSV=n.asyncActionCreator("ORG_ROSTER_EXPORT",(e,r)=>{s.default.post(`/api/orgs/${r.orgId}/export_members`).then(()=>{e.dispatch(l.visualBell.enqueue({message:"Your CSV is being generated, which will take a few minutes. We’ll email you when it’s ready.",type:"orgRoster.exportCSV",icon:R.VisualBellIcon.CHECK}))},()=>{e.dispatch(l.visualBell.enqueue({message:"There was an error processing your request. Please try again later.",type:"orgRoster.exportCSV",icon:R.VisualBellIcon.EXCLAMATION,error:!0}))})})}(r.orgRoster||(r.orgRoster={}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(189                             ),r=s(621                                   ),a=s(113                                     );t.fetchedRoster=function(e=!1,t){return!!r.orgRoster.get.matches(t)||!o.orgs.resetDashboard.matches(t)&&!a.fileBrowser.hydrate.matches(t)&&e}}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=e(189                             ),o=e(206                             ),s=e(536                                 );a.joiningTeamIds=function(t=Object.create(null),a){if(s.orgTeam.join.matches(a))return Object.assign(Object.assign({},t),{[a.payload.teamId]:!0});if(s.orgTeam.batchJoin.matches(a)){const e=Object.assign({},t);for(const t of a.payload.teamIds)e[t]=!0;return e}if(o.team.onJoin.matches(a)){const e=a.payload.teamId,n=Object.assign({},t);return delete n[e],n}if(o.team.onBatchJoin.matches(a)){const e=a.payload.teamIds,n=Object.assign({},t);for(const t of e)delete n[t];return n}return n.orgs.resetDashboard.matches(a)?Object.create(null):t}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(189                             );s.selectedAdminView=function(e="general",s){return a.orgs.selectAdminView.matches(s)?s.payload.view:a.orgs.resetDashboard.matches(s)?"general":e}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(189                             ),a={property:"name",isDescending:!1};s.teamSortConfig=function(e=a,s){return o.orgs.sortTeamsBy.matches(s)?s.payload:o.orgs.resetDashboard.matches(s)?Object.assign({},a):e}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(9,1    ),d=i(622               ),n=i(623                 ),s=i(624                    ),r=i(625                  );t.orgDashboard=o.combineReducers({fetchedRoster:d.fetchedRoster,joiningTeamIds:n.joiningTeamIds,selectedAdminView:s.selectedAdminView,teamSortConfig:r.teamSortConfig})}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(113                                     ),o=s(189                             ),a=s(619                                   ),i=s(621                                   ),n=s(620                                 ),c=s(9,1    ),d=s(465                          );r.orgRoster=c.combineReducers({sort:function(e={type:d.OrgRosterSortType.NAME,isDescending:!1},r){return i.orgRoster.setSortConfig.matches(r)?r.payload:o.orgs.resetDashboard.matches(r)?{type:d.OrgRosterSortType.NAME,isDescending:!1}:i.orgRoster.setQuery.matches(r)?{type:d.OrgRosterSortType.SEARCH,isDescending:!0}:e},filters:function(e={permissionFilter:null,accountTypeFilter:null},r){return i.orgRoster.setFilters.matches(r)?r.payload:o.orgs.resetDashboard.matches(r)?{permissionFilter:null,accountTypeFilter:null}:e},filterCounts:function(e=d.zeroFilterCounts(),r){return i.orgRoster.setFilterCounts.matches(r)?r.payload.filterCounts:e},searchQuery:function(e="",r){return i.orgRoster.setQuery.matches(r)?r.payload.query:o.orgs.resetDashboard.matches(r)?"":e},orgRosterIds:function(e=[],r){return i.orgRoster.setRosterMembers.matches(r)?r.payload.members:n.orgUser.batchDel.matches(r)?e.filter(e=>!e.user_id||-1===r.payload.params.org_user_ids.indexOf(e.id)):a.orgInvites.del.matches(r)?e.filter(e=>!!e.user_id||-1===r.payload.org_invite_id.indexOf(e.id)):o.orgs.resetDashboard.matches(r)?[]:e},selectedOrgUserIds:function(e={},r){if(t.fileBrowser.hydrate.matches(r)||i.orgRoster.clearUserIds.matches(r)||o.orgs.resetDashboard.matches(r))return{};if(n.orgUser.batchDel.matches(r)){const s=Object.assign({},e);for(const e of r.payload.params.org_user_ids)delete s[e];return s}if(i.orgRoster.unselectOrgUserIds.matches(r)){const s=Object.assign({},e);for(const e of r.payload.ids)delete s[e];return s}if(i.orgRoster.selectOrgUserIds.matches(r)){const s=Object.assign({},e);for(const e of r.payload.ids)s[e]=!0;return s}if(i.orgRoster.setRosterMembers.matches(r)){const s=Object.assign({},e),t=new Set;r.payload.members.forEach(e=>{e.user_id&&t.add(e.id)});for(let e in s)t.has(e)||delete s[e];return s}return e}})}),
(function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=o(113                                     ),i=o(205                             ),d=o(9,1    ),s=o(115                     );function n(e,r){return Object.keys(e).reduce((o,t)=>(e[t][r]&&(o[t]=e[t][r]),o),{})}function l(e){return e.pending?`pending-${e.id}`:e.user_id}function y(e,r={},o){let t=o.payload&&o.payload.role;if(t&&t.resource_type===e){let e=t.resource_id_or_key,d=function(e={},r){if(i.role.post.matches(r)||i.role.put.matches(r)){const o=r.payload.role;let t,i=Object.assign({},e);for(let r in e){let d=e[r];if(o.pending&&d.pending&&o.user.email&&o.user.email===d.user.email){t=i[r].created_at,delete i[r];break}if(!o.pending&&d.pending&&o.id===d.id){t=i[r].created_at,delete i[r];break}}return i[l(o)]=Object.assign(Object.assign(Object.assign({},e[l(o)]),o),t?{created_at:t}:null),i}if(i.role.del.matches(r)){const o=r.payload.role;if(l(o)in e){let r=Object.assign({},e);return delete r[l(o)],r}}return e}(r[e]||{},o);if(d!==r[e]){const o=Object.assign({},r);return 0===Object.keys(d).length?delete o[e]:o[e]=d,o}}return r}r.filterRolesByUserId=n,r.getUserRolesFromRoles=function(e,r){return{byFileKey:n(e.byFileKey,r),byRepoId:n(e.byRepoId,r),byFolderId:n(e.byFolderId,r),byTeamId:n(e.byTeamId,r)}},r.roleUserId=l;const a=d.combineReducers({byFileKey:y.bind(void 0,s.ResourceType.FILE),byRepoId:y.bind(void 0,s.ResourceType.FILE_REPO),byFolderId:y.bind(void 0,s.ResourceType.FOLDER),byTeamId:y.bind(void 0,s.ResourceType.TEAM)});function c(e,r,o){const t=r.filter(e=>e.resource_type===o),i=t.map(e=>e.resource_id_or_key).reduce((r,o)=>(r[o]=Object.assign({},e[o])||{},r),Object.assign({},e));return t.reduce((e,r)=>(e[r.resource_id_or_key][l(r)]=r,e),Object.assign(Object.assign({},e),i))}function b(e,r){let o=Object.assign({},e);return o.byFileKey=c(e.byFileKey,r,s.ResourceType.FILE),o.byRepoId=c(e.byRepoId,r,s.ResourceType.FILE_REPO),o.byFolderId=c(e.byFolderId,r,s.ResourceType.FOLDER),o.byTeamId=c(e.byTeamId,r,s.ResourceType.TEAM),o}r.roles=function(e={byFileKey:{},byRepoId:{},byFolderId:{},byTeamId:{}},r){if(t.fileBrowser.hydrate.matches(r)){let e=b({byFileKey:{},byRepoId:{},byFolderId:{},byTeamId:{}},r.payload.roles||[]);for(let o of r.payload.files||[])null==e.byFileKey[o.key]&&(e.byFileKey[o.key]={});return e}return i.role.batchPut.matches(r)?b(e,r.payload.roles):a(e,r)}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.user=((e={})=>Object.assign({created_at:"",email:"harry@ministryofmagic.com",email_validated_at:`${new Date(1)}`,google_sso_only:!1,handle:"Harry Potter",id:"1",experiment_seed:"1",img_url:"",name:"Harry Potter",phone_number:null,two_factor_app_enabled:!1,two_factor_secret_loaded:!1,profile:{},saml_sso_only:!1,student_validated_at:null,teams:[],unsubscribed_at:null,dev_tokens:[],oauth_tokens:[],utc_offset:0,track_tags:null,appData:{loggedOut:!1},description:null,community_profile_id:""},e)),t.userPublic=((e={})=>Object.assign({id:"1",email:"harry@ministryofmagic.com",handle:"Harry Potter",img_url:""},e)),t.userContact=((e={})=>Object.assign({id:"1",email:"harry@ministryofmagic.com",handle:"Harry Potter",img_url:""},e))}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e(void 0,{type:"@@test/INIT"})}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(115                     ),a=s(628                       ),t=s(113                                     ),o=s(629                               ),u=s(630                                       );r.role=(e=>{if(!0===e.pending)return Object.assign(Object.assign({created_at:"",id:"1",level:i.PermissionLevel.OWNER,resource_id_or_key:"abc",resource_type:i.ResourceType.FILE,updated_at:"",user_id:null,user:{email:"harry@ministryofmagic.com"}},e),{pending:!0});{const r=o.userPublic(e.user||{id:e.user_id||"1"});return Object.assign(Object.assign({created_at:"",id:"1",level:i.PermissionLevel.OWNER,resource_id_or_key:"abc",resource_type:i.ResourceType.FILE,updated_at:""},e),{pending:!1,user:r,user_id:r.id})}}),r.roleList=(e=>e.map(r.role)),r.roles=(e=>a.roles(u.default(a.roles),t.fileBrowser.hydrate({roles:r.roleList(e)})))}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(206                             ),r=t(189                             ),m=t(536                                 ),o=t(9,1    ),n=t(120                     ),i=t(115                     ),c=t(631                                );function d(e=!1,s){return!m.orgTeam.set.matches(s)&&!r.orgs.resetDashboard.matches(s)&&(!!m.orgTeam.get.matches(s)||e)}function u(e=[],s){if(m.orgTeam.set.matches(s))return s.payload.teams;if(r.orgs.resetDashboard.matches(s))return[];if(a.team.onJoin.matches(s)){const t=s.payload.teamId,a=s.payload.joinedUser;return e.map(e=>{if(e.id===t){let s=[];return e.top_members&&(s=e.top_members),0===e.member_count&&a&&(s=[c.role({pending:!1,user_id:a.id,user:a,level:i.PermissionLevel.OWNER})]),Object.assign(Object.assign({},e),{member_count:(e.member_count||0)+1,top_members:s,orphaned:!1})}return e})}if(a.team.onBatchJoin.matches(s)){const t=s.payload.teamIds,a=s.payload.joinedUser;return e.map(e=>{if(t.includes(e.id)){let s=[];return e.top_members&&(s=e.top_members),0===e.member_count&&a&&(s=[c.role({pending:!1,user_id:a.id,user:a,level:i.PermissionLevel.OWNER})]),Object.assign(Object.assign({},e),{member_count:(e.member_count||0)+1,top_members:s,orphaned:!1})}return e})}if(a.team.del.matches(s)){const t=s.payload.team;return s.payload.teamDelete?e.filter(e=>e.id!==t.id):e.reduce((e,s)=>{if(t.id===s.id){if(s.org_access===n.OrgAccess.PUBLIC||s.org_access===n.OrgAccess.PRIVATE||s.org_access===n.OrgAccess.SECRET&&1===s.member_count){const t=s.member_count-1;e.push(Object.assign(Object.assign({},s),{member_count:t,orphaned:0===t}))}}else e.push(s);return e},[])}if(a.team.put.matches(s)){const t=s.payload.team.id;return e.map(e=>e.id===t?Object.assign(Object.assign({},e),s.payload.team):e)}return e}s.isFetching=d,s.teams=u,s.orgTeams=o.combineReducers({teams:u,isFetching:d})}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(618                                 ),n=s(619                                   ),c=s(9,1    ),r=s(113                              );function a(e={},t){if(i.idpUser.batchPost.matches(t)){const s=Object.assign({},e);return t.payload.idpUsers.forEach(e=>{s[e.id]=Object.assign(Object.assign({},e),{isOrgInvite:!1})}),s}if(n.orgInvites.set.matches(t)){const s=Object.assign({},e);return t.payload.forEach(e=>{s[e.id]=Object.assign(Object.assign(Object.assign({},s[e.id]),e),{isOrgInvite:!0,name:""})}),s}if(n.orgInvites.del.matches(t)){const s=Object.assign({},e);return delete s[t.payload.org_invite_id],s}return e}function o(e=!1,t){return!i.idpUser.batchPost.matches(t)&&(!!i.idpUser.getAll.matches(t)||e)}function d(e=!1,t){return!!i.idpUser.getAllSucceeded.matches(t)||!r.fileBrowser.hydrate.matches(t)&&e}t.idpUsers=a,t.isFetching=o,t.fetched=d,t.idpUserById=c.combineReducers({isFetching:o,fetched:d,isCreatingOrgInvite:function(e=!1,t){return n.orgInvites.isCreating.matches(t)?t.payload.creating:e},idpUsers:a})}),
(function(a,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=e(108     ),r=e(91                  ),n=e(93                                   ),i=e(634                                        ),c=e(100                               );!function(a){a.generateToken=r.actionCreator("ORG_SAML_CONFIG_GENERATE_TOKEN"),a.revokeToken=r.actionCreator("ORG_SAML_CONFIG_REVOKE_TOKEN"),a.set=r.actionCreator("ORG_SAML_CONFIG_SET"),a.get=c.asyncActionCreator("ORG_SAML_CONFIG_GET",a=>{const o=a.getState().currentOrgId;t.default.get(`/api/org/${o}/org_saml_config`).then(o=>{a.dispatch(i.orgSamlConfig.set({orgSamlConfig:o.data.meta}))}).catch(o=>{var e;a.dispatch(n.flash.flash((null===(e=o.data)||void 0===e?void 0:e.message)||"An error occurred while fetching org saml config.",5e3)),console.error(o)})})}(o.orgSamlConfig||(o.orgSamlConfig={}))}),
(function(o,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const e=i(634                                        ),g=i(9,1    );function t(o=null,n){return e.orgSamlConfig.set.matches(n)?n.payload.orgSamlConfig:o}function a(o=!1,n){return(!e.orgSamlConfig||!e.orgSamlConfig.set.matches(n))&&(!(!e.orgSamlConfig||!e.orgSamlConfig.get.matches(n))||o)}n.config=t,n.isFetching=a,n.orgSamlConfig=g.combineReducers({config:t,isFetching:a})}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const l=t(401                                               ),s=t(304                          );i.hubFiles=function(e={},i){if(l.putAll.matches(i)){const t=Object.assign({},e);for(const l of i.payload)t[l.id]=Object.assign(Object.assign({},l),{versions:s.mergeVersions(e[l.id],l)});return t}if(l.delAll.matches(i)){const t=Object.assign({},e);for(const e of i.payload)delete t[e.id];return t}if(l.likeHubFile.matches(i)&&e[i.payload.hubFileId]){const t=Object.assign({},e);return t[i.payload.hubFileId]=Object.assign(Object.assign({},t[i.payload.hubFileId]),{like_count:t[i.payload.hubFileId].like_count+1,current_user_liked:!0}),t}if(l.optimisticDuplicateHubFile.matches(i)){const t=Object.assign({},e);return e[i.payload.hubFileId].recently_duplicated||(t[i.payload.hubFileId]=Object.assign(Object.assign({},t[i.payload.hubFileId]),{duplicate_count:t[i.payload.hubFileId].duplicate_count+1,recently_duplicated:!0})),t}if(l.unlikeHubFile.matches(i)&&e[i.payload.hubFileId]){const t=Object.assign({},e);return t[i.payload.hubFileId]=Object.assign(Object.assign({},t[i.payload.hubFileId]),{like_count:t[i.payload.hubFileId].like_count-1,current_user_liked:!1}),t}return e},i.figFilePublishedAsHubFile=function(e={},i){if(l.putFigFilePublishedAsHubFile.matches(i)){const t=Object.assign({},e),{fileKey:l,hubFileId:s}=i.payload;return t[l]=s,t}if(l.delFigFilePublishedAsHubFile.matches(i)){const t=Object.assign({},e),{fileKey:l}=i.payload;return delete t[l],t}return e},i.figFileRemixedFromHubFile=function(e={},i){if(l.putFigFileRemixedFromHubFile.matches(i)){const t=Object.assign({},e),{fileKey:l,hubFileId:s}=i.payload;return t[l]=s,t}if(l.delFigFileRemixedFromHubFile.matches(i)){const t=Object.assign({},e),{fileKey:l}=i.payload;return delete t[l],t}return e};const u=l.hubFilePublishingActions;i.publishingHubFiles=s.publishingStateReducer(u),i.hubFileRemixes=function(e={},i){if(l.putHubFileRemix.matches(i)){const{hubFileId:t,from:l,to:s}=i.payload;return Object.assign(Object.assign({},e),{[t]:{from:l,to:s}})}return e}}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=e(91                  ),r=e(100                               ),o=e(353                                  ),s=e(107           ),_=e(108     ),h=e(112          ),l=e(449                                  ),n=e(93                                   );!function(t){t.setChecklistState=i.actionCreator("PRO_TRIAL_SET_CHECKLIST_STATE"),t.getLoadingKey=(t=>`PRO_TRIAL_CHECKLIST_${t}`),t.setTransition=r.asyncActionCreator("PRO_TRIAL_SET_TRANSITION",(a,{checklistState:e},i)=>{o.registerLoadingState(s.waitFor(450),a,t.getLoadingKey("FADING_OUT"));setTimeout(()=>{o.registerLoadingState(s.waitFor(300),a,t.getLoadingKey("ANIMATING")),a.dispatch(t.setChecklistState({checklistState:e}))},150)}),t.startWalkThrough=r.asyncActionCreator("START_PRO_TRIAL_WALK_THROUGH",(a,{walkThroughFlag:e,team:i})=>{const r=_.default.post(`/api/teams/${i.id}/pro_trial_walk_through/${e}`).then(t=>{if("todo"===t.data.meta.walk_through_status&&t.data.meta.walk_through_file_key&&t.data.meta.walk_through_path){const i=`/file/${t.data.meta.walk_through_file_key}?walk_through_id=${e}&walk_through_path=${t.data.meta.walk_through_path}`;h.redirect(i,"_blank"),a.dispatch(l.userFlags.put({name:e}))}else{if("complete"!==t.data.meta.walk_through_status)throw"Unrecognized response.";a.dispatch(l.userFlags.put({name:e}))}}).catch(()=>{a.dispatch(n.flash.error("There was an error launching your walk through. Try again later."))});o.registerLoadingState(r,a,t.getLoadingKey(e))})}(a.proTrialChecklist||(a.proTrialChecklist={}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.CLOSED=2]="CLOSED"}(t.ProTrialChecklistState||(t.ProTrialChecklistState={}))}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=i(637                                            ),c=i(638                                   ).ProTrialChecklistState.COLLAPSED;e.proTrialChecklist=function(t=c,e){return a.proTrialChecklist.setChecklistState.matches(e)?e.payload.checklistState:t}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(113                                     ),a=i(213                                   ),r=i(172                                              ),n=i(173                                        ),l=i(319                                              ),o=i(108     ),p=i(91                  ),u=i(100                               ),c=i(209                ),b=i(176                       ),y=i(175                            ),h=i(226                       ),m=i(215                                          ),_=i(285                            ),d=i(261                               ),g=i(135                     ),f=i(357                  ),S=i(222                                      ),T=i(265                                    ),E=i(123         ),L=i(85                   ),O=i(179        ),N=p.actionCreator("PUBLISH_PROGRESS");t.publishProgress=N;const P=p.actionCreator("PUBLISH_REQUEST_FINISHED");t.publishRequestFinished=P;const I=u.asyncActionCreator("UNPUBLISH_ALL",e=>{const t=e.getState(),i=e=>{e=Object.assign({},e);for(const t in e)_.isPublished(e[t].status)?e[t].status=b.LibraryStatus.DELETED:e[t].status===b.LibraryStatus.NEW&&(e[t].status=b.LibraryStatus.NOT_STAGED);return e},s=i(t.library.local.components),a=i(t.library.local.stateGroups),r=i(t.library.local.styles);e.dispatch(n.library.replaceLocalItems({local:s,type:b.LibraryItemType.COMPONENT})),e.dispatch(n.library.replaceLocalItems({local:a,type:b.LibraryItemType.STATE_GROUP})),e.dispatch(n.library.replaceLocalItems({local:r,type:b.LibraryItemType.STYLE})),e.dispatch(v({}))});t.unpublishAll=I;const v=u.asyncActionCreator("PUBLISH_CHANGES",(e,t={})=>{let i=e.getState();if(i.library.publishProgress.state!==b.PublishProgressState.NONE)return;const p=c.getEditingFile(i);if(!p)return void console.error("library publishChanges: file is null");const u=e=>e.status===b.LibraryStatus.DELETED||e.status===b.LibraryStatus.NOT_STAGED,I=Object.values(i.library.local.components).every(e=>u(e))&&Object.values(i.library.local.stateGroups).every(e=>u(e))&&Object.values(i.library.local.styles).every(e=>u(e)),v=()=>{e.dispatch(r.visualBell.dequeue({type:"library-publish"})),e.dispatch(s.fileBrowser.showModal({type:y.PUBLISH_COMPONENTS_MODAL}))};(function(e){var t;const i=e.getState(),s=c.getEditingFile(i);if(!s)throw new Error("library getPublishFormData: file is null");const a=g.canAccessProFeature(s.team_id?i.teams[s.team_id]:null),r=a&&_.isFileC2(i.fileVersion),n=a?i.library.local.components:{},l=r?i.library.local.stateGroups:{},o=i.library.local.styles,p=i.library.local.thumbnails;if(!_.isFileC2(i.fileVersion)&&Object.keys(i.library.local.stateGroups).length>0)throw new Error(`File version ${i.fileVersion} does not support publishing state groups`);let u={client_version:null===(t=window.mpGlobal)||void 0===t?void 0:t.version,file_key:s.key,file_version:i.fileVersion,c2_dual_write:!!L.getFeatureFlags().c2_dual_write,unpublish_components:[],publish_components:[],unpublish_state_groups:[],publish_state_groups:[],unpublish_styles:[],publish_styles:[],parts:[]},y=new FormData,d=[];function f(e){const t=e.item.node_id,i=p[t]||{};let s,a=i.url||null;switch(e.type){case b.LibraryItemType.COMPONENT:case b.LibraryItemType.STYLE:s=e.item.content_hash;break;case b.LibraryItemType.STATE_GROUP:s=e.item.version;break;default:O.assertNever(e)}if(!e.forceThumbnailGeneration&&i.content_hash===s&&h.isValidThumbnailUrl(a)||(e.type===b.LibraryItemType.COMPONENT?a=h.getThumbnailUrlForComponent(t):e.type===b.LibraryItemType.STATE_GROUP?a=h.getThumbnailUrlForComponent(t):e.type===b.LibraryItemType.STYLE?a=S.isColorStyleTransparent(e.item)?h.getEmptyThumbnailUrl():h.getThumbnailUrlForStyle(t,e.item.style_type):O.assertNever(e)),!a||!h.isValidThumbnailUrl(a))throw new C;const r=h.generatePublishableBufferForStyleOrSymbol(t),n=h.getBufferForThumbnailUrl(a),l=new Blob([r],{type:"application/x-figma"}),o=new Blob([n],{type:"image/png"}),c=`canvas:${t}`,y=`thumbnail:${t}`;d.push({id:c,data:l}),d.push({id:y,data:o}),u.parts.push({name:c,mime:"application/x-figma",length:r.length},{name:y,mime:"image/png"})}let T=0;return new Promise((t,i)=>{const s=Object.keys(n).reverse(),a=Object.keys(l).reverse(),r=Object.keys(o).reverse(),c=s.length+a.length+r.length,_=c<40,g=_?1/0:1/60,E=()=>s.length>0||a.length>0||r.length>0;function L(){const O=(new Date).getTime();for(;((new Date).getTime()-O)/1e3<g&&E();)if(s.length>0){const e=s.pop();if(!e)continue;const t=n[e],i=t.status;if(i===b.LibraryStatus.CURRENT||i===b.LibraryStatus.NOT_STAGED)continue;if(i===b.LibraryStatus.DELETED){u.unpublish_components.push(t.component_key);continue}let a=h.generateComponentKeyForNode(e);if(!a)continue;let r=t.content_hash;i===b.LibraryStatus.CAN_UPGRADE&&(r=m.fullscreen.DEPRECATED_sendMessage("dirtySharedSymbolVersion",{nodeId:e}).args.newVersion);try{f({item:t,type:b.LibraryItemType.COMPONENT})}catch(P){if(!(P instanceof C))throw P;T++;continue}u.publish_components.push({node_id:e,name:t.name,component_key:a,content_hash:r,containing_frame:JSON.stringify(t.containing_frame)||null,description:t.description,is_unflattened:t.is_unflattened,min_node_width:t.width,min_node_height:t.height})}else if(a.length>0){const e=a.pop();if(!e)continue;const t=l[e],i=t.status;if(i===b.LibraryStatus.CURRENT||i===b.LibraryStatus.NOT_STAGED)continue;if(i===b.LibraryStatus.DELETED){u.unpublish_state_groups.push(t.key);continue}const s=h.generateStateGroupKeyForNode(e);try{f({item:t,type:b.LibraryItemType.STATE_GROUP})}catch(P){if(!(P instanceof C))throw P;T++;continue}u.publish_state_groups.push({node_id:e,name:t.name,key:s,version:t.version,description:t.description,containing_frame:JSON.stringify(t.containing_frame)||null,min_node_width:t.width,min_node_height:t.height})}else if(r.length>0){const e=r.pop();if(!e)continue;const t=o[e],i=t.status,s=p[e];if(i===b.LibraryStatus.CURRENT||i===b.LibraryStatus.NOT_STAGED)continue;if(i===b.LibraryStatus.DELETED){u.unpublish_styles.push(t.key);continue}const a=t.meta||{},n=S.cssThumbnailMaybeSupported(t.style_type)&&(s.content_hash!==t.content_hash||S.hasInvalidCssThumbnail(t));if(n){const i=h.getStyleThumbnailForCSSRendering(e,t.style_type);"INVALID"!=i.type&&(a.style_thumbnail=i)}let l=S.cssThumbnailDefinitelySupported(t.style_type);try{f({item:t,type:b.LibraryItemType.STYLE,forceThumbnailGeneration:l})}catch(P){if(!(P instanceof C))throw P;T++;continue}u.publish_styles.push({node_id:e,style_type:t.style_type,name:t.name,key:t.key,content_hash:t.content_hash,description:t.description,sort_position:t.sort_position,meta:JSON.stringify(a)})}_||e.getState().library.publishProgress.state!==b.PublishProgressState.NONE?(_||e.dispatch(N({state:b.PublishProgressState.ASSEMBLING_COMPONENTS,progress:1-(s.length+a.length+r.length)/c})),E()?requestAnimationFrame(L):(y.append("manifest",JSON.stringify(u)),d.forEach(e=>{y.append(e.id,e.data)}),t({formData:y,numSkippedDueToError:T}))):i()}_?L():(e.dispatch(N({state:b.PublishProgressState.ASSEMBLING_COMPONENTS,progress:0})),requestAnimationFrame(L))})})(e).then(({formData:s,numSkippedDueToError:u})=>{e.dispatch(N({state:b.PublishProgressState.UPLOADING,progress:0})),e.dispatch(r.visualBell.enqueue({type:"library-publish",message:`${I?"Unpublishing":"Publishing"} library`,icon:T.VisualBellIcon.SPINNER})),f.createSavepoint(p.key,`Components ${I?"Unpublished":"Published"}`,t.savepointDescription,e).then(()=>o.default.post("/api/upnode/library_checkpoints",s,{headers:{"X-Csrf-Bypass":"yes"},raw:!0})).then(({data:t})=>{const s=JSON.parse(t);let a=Object.create(null),l=Object.create(null),o=Object.create(null);s.meta&&(s.meta.components&&(a=s.meta.components),s.meta.components_v2&&_.isFileC2(i.fileVersion)&&(a=s.meta.components_v2),s.meta.stateGroups&&(l=s.meta.stateGroups),s.meta.styles&&(o=s.meta.styles));const c=(t,i)=>{const s=[],a=Object.create(null);for(let e in t){const i=t[e];i.unpublished_at?s.push(i.node_id):a[i.node_id]=i}e.dispatch(n.library.put({itemsById:a,file:p,type:i})),e.dispatch(n.library.del({nodeIds:s,file:p,type:i}))};if(c(a,b.LibraryItemType.COMPONENT),c(l,b.LibraryItemType.STATE_GROUP),c(o,b.LibraryItemType.STYLE),d.Fullscreen)for(const e in a){const t=a[e];d.Fullscreen.markSharedComponentPublished(e,t.content_hash||"")}e.dispatch(P()),u>0?e.dispatch(r.visualBell.enqueue({type:"library-publish",icon:T.VisualBellIcon.EXCLAMATION,error:!0,message:`Unable to ${I?"unpublish":"publish"} ${u} ${E.getPluralOrSingular(u,"change")} ${I?"from":"to"} the Team Library`,button:{text:"Retry",action:v}})):e.dispatch(r.visualBell.enqueue({type:"library-publish",message:I?"Successfully unpublished library":"Successfully published library updates",icon:T.VisualBellIcon.CHECK}))}).catch(t=>{e.dispatch(r.visualBell.enqueue({type:"library-publish",icon:T.VisualBellIcon.EXCLAMATION,error:!0,message:`${I?"Unpublishing":"Publishing"} failed`,button:{text:"Retry",action:v}})),e.dispatch(l.updateLibraryFromPublishedAndLocalData()),e.dispatch(P()),0!==t.status&&a.errorHandler.raiseError(t)})}).catch(()=>{})});t.publishChanges=v;class C extends Error{constructor(e){super(e),Object.setPrototypeOf(this,C.prototype)}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(189                             ),s=a(206                             ),i=a(280                             ),l=a(113                                     ),n=a(205                             ),c=a(173                                        ),o=a(260                                                  ),y=a(207                                   ),u=a(9,1    ),p=a(640                                        ),b=a(319                                              ),d=a(308         ),m=a(176                       ),h=a(222                                      );t.hydrateLibraryItemsWithType=((e,t)=>e.map(e=>(e.type=t,e)));const f=(e,t)=>{for(const a of Object.values(e))a.type=t;return e},g=(e,t)=>{for(const a of Object.values(e))f(a,t);return e},O=(e,t)=>{for(const a of Object.values(e))g(a,t);return e};function T(e){return(t={filteredByTeamId:{},minScorePerFile:{},numAssetsByFileKey:{}},a)=>c.library.setPublishedSearchResults.matches(a)&&a.payload.type===e?(a.payload.results.filteredByTeamId=O(a.payload.results.filteredByTeamId,e),a.payload.results):t}function _(e){return(a={query:"",isLoading:!1,results:[],moreResults:[],showMoreResults:!1},r)=>{if(c.library.setLocalQuery.matches(r)&&r.payload.type===e){const e=r.payload.query;return{query:e,isLoading:e.length>0,results:e.length?a.results:[],moreResults:e.length?a.moreResults:[],showMoreResults:!!e.length&&a.showMoreResults}}return c.library.setLocalSearchResults.matches(r)&&r.payload.type===e?Object.assign(Object.assign({},a),{isLoading:!1,results:t.hydrateLibraryItemsWithType(r.payload.results,e),moreResults:t.hydrateLibraryItemsWithType(r.payload.moreResults,e),showMoreResults:a.showMoreResults||0===r.payload.results.length}):c.library.setLocalSearchShowMoreResults.matches(r)&&r.payload.type===e?Object.assign(Object.assign({},a),{showMoreResults:r.payload.showMoreResults}):a}}function j(e){return(t=Object.create(null),a)=>{if(c.library.initialize.matches(a)&&a.payload.type===e)return O(a.payload.publishedItemsByTeamId,e);if(c.library.put.matches(a)&&a.payload.type===e){const e=a.payload.file,r=e.team_id||m.NO_TEAM_ID;let s=Object.assign({},t);s[r]=Object.assign({},s[r]),s[r][e.key]=Object.assign({},s[r][e.key]);for(let t in a.payload.itemsById){const i=a.payload.itemsById[t];i.meta&&(i.meta=h.parseLibraryMeta(i.meta)),s[r][e.key][t]=Object.assign({type:a.payload.type},i)}return s}if(c.library.updateComponentsForTeam.matches(a))return Object.assign(Object.assign({},t),{[a.payload.teamId]:g(a.payload.componentsByFileKey,m.LibraryItemType.COMPONENT)});if(c.library.del.matches(a)&&a.payload.type===e){const e=a.payload.file,r=e.team_id||m.NO_TEAM_ID;let s=Object.assign({},t);return s[r]=Object.assign({},s[r]),s[r][e.key]=Object.assign({},s[r][e.key]),a.payload.nodeIds.forEach(t=>{delete s[r][e.key][t]}),d.isEmpty(s[r][e.key])&&delete s[r][e.key],s}if(c.library.deleteComponentsForFile.matches(a)){const e=a.payload.fileKey;for(let a in t)if(e in t[a]){let r=Object.assign({},t);return r[a]=Object.assign({},r[a]),delete r[a][e],r}return t}if(i.file.deleteFiles.matches(a)){let e;for(let r in a.payload.fileKeys){const s=a.payload.fileKeys[r].team_id||m.NO_TEAM_ID;s in t&&r in t[s]&&(e||(e=Object.assign({},t)),e[s]=Object.assign({},e[s]),delete e[s][r])}return e||t}if(s.team.del.matches(a)){if(a.payload.team.id in t){let e=Object.assign({},t);return delete e[a.payload.team.id],e}return t}return t}}function S(e){return(t=Object.create(null),a)=>c.library.replaceUpdates.matches(a)&&a.payload.type===e?O(a.payload.itemsByTeamId,e):t}function I(e){return(t=Object.create(null),a)=>c.library.clearLocal.matches(a)?Object.create(null):c.library.replaceLocalItems.matches(a)&&a.payload.type===e?f(a.payload.local,e):t}const L=u.combineReducers({byTeam:(e=Object.create(null),t)=>{if(r.orgs.switchActiveOrgAndSetCurrentOrgId.matches(t))return Object.create(null);if(b.initializeTeamSubscriptions.matches(t))return t.payload.fileSubscriptionsByTeamId;if(b.postTeamSubscription.matches(t)){const a=Object.assign({},e),{file_key:r,team_id:s,is_subscribed:i}=t.payload.libraryTeamSubscription;return a[s]=Object.assign({},e[s])||Object.create(null),a[s][r]=i,a}return e},byFile:(e=Object.create(null),t)=>{if(r.orgs.switchActiveOrgAndSetCurrentOrgId.matches(t))return Object.create(null);if(b.initializeFileSubscriptionsForFile.matches(t)){const a=Object.assign({},e);return a[t.payload.fileKey]=t.payload.fileSubscriptionsByFileKey,a}if(b.postFileSubscription.matches(t)){const{file_key:a,library_file_key:r,is_subscribed:s}=t.payload.libraryFileSubscription,i=Object.assign({},e);return i[a]=Object.assign({},e[a]),i[a][r]=s,i}return e},forCurrentUser:(e=Object.create(null),t)=>{if(r.orgs.switchActiveOrgAndSetCurrentOrgId.matches(t))return Object.create(null);if(b.initializeUserSubscriptions.matches(t))return t.payload.subscriptions;if(b.postUserSubscription.matches(t)){const{file_key:a,is_subscribed:r}=t.payload.libraryUserSubscription;return Object.assign(Object.assign({},e),{[a]:r})}return e},forCurrentOrg:(e=Object.create(null),t)=>{if(r.orgs.switchActiveOrgAndSetCurrentOrgId.matches(t))return Object.create(null);if(b.initializeOrgSubscriptions.matches(t))return t.payload.subscriptions;if(b.postOrgSubscription.matches(t)){const{fileKey:a}=t.payload;return Object.assign(Object.assign({},e),{[a]:!0})}if(b.deleteOrgSubscription.matches(t)){const{fileKey:a}=t.payload;if(a in e){const t=Object.assign({},e);return delete t[a],t}return e}return e}}),R=u.combineReducers({components:j(m.LibraryItemType.COMPONENT),styles:j(m.LibraryItemType.STYLE),stateGroups:j(m.LibraryItemType.STATE_GROUP)}),N=u.combineReducers({components:S(m.LibraryItemType.COMPONENT),styles:S(m.LibraryItemType.STYLE),stateGroups:S(m.LibraryItemType.STATE_GROUP)}),E=u.combineReducers({components:I(m.LibraryItemType.COMPONENT),styles:I(m.LibraryItemType.STYLE),stateGroups:I(m.LibraryItemType.STATE_GROUP),thumbnails:(e={},t)=>{if(c.library.clearLocal.matches(t))return{};if(o.libraryThumbnail.replaceThumbnailsForLocalStyles.matches(t)){let a=t.payload.thumbnails;for(const t in e){const r=e[t];r.kind==m.StyleKind.DANGLING&&"FAILED_THUMBNAIL"!=r.url&&(a[t]=r)}return a}return o.libraryThumbnail.addThumbnailForDanglingStyle.matches(t)?Object.assign(Object.assign({},e),{[t.payload.styleID]:{kind:m.StyleKind.DANGLING,url:t.payload.url}}):e}}),P=u.combineReducers({components:T(m.LibraryItemType.COMPONENT),styles:T(m.LibraryItemType.STYLE),stateGroups:T(m.LibraryItemType.STATE_GROUP)}),M=u.combineReducers({components:_(m.LibraryItemType.COMPONENT),styles:_(m.LibraryItemType.STYLE),stateGroups:_(m.LibraryItemType.STATE_GROUP)});t.library=u.combineReducers({published:R,updates:N,local:E,subscriptions:L,currentLibraryView:function(e={},t){return c.library.setLibraryView.matches(t)?Object.assign(Object.assign({},e),t.payload):!n.role.del.matches(t)||t.payload.role.resource_id_or_key!==e.teamId&&t.payload.role.resource_id_or_key!==e.fileKey?e:Object.assign(Object.assign({},e),{teamId:void 0,fileKey:void 0})},librarySearchQuery:function(e="",t){return c.library.setLibraryQuery.matches(t)?t.payload.query:l.fileBrowser.hideModal.matches(t)?"":e},publishedSearchResults:P,localSearch:M,selectedNodeId:function(e=null,t){return c.library.setSelectedNodeId.matches(t)?t.payload.nodeId:e},dragState:function(e={},t){return c.library.setLibraryView.matches(t)?{}:c.library.setSparseDragState.matches(t)?Object.assign(Object.assign({},e),t.payload):e},publishProgress:function(e={state:m.PublishProgressState.NONE,progress:0},t){return p.publishChanges.matches(t)?{state:m.PublishProgressState.ASSEMBLING_COMPONENTS,progress:0}:p.publishRequestFinished.matches(t)?{state:m.PublishProgressState.NONE,progress:0}:p.publishProgress.matches(t)?t.payload:e},isRenamingSelectedStyle:function(e=!1,t){return c.library.setIsRenamingSelectedStyle.matches(t)?t.payload.isRenaming:e},expandedStylePanels:function(e={},t){if(y.fullscreen.open.matches(t))return{};if(c.library.expandStylePanel.matches(t)){const a=t.payload.styleType;return a in e?e:Object.assign(Object.assign({},e),{[a]:!0})}if(c.library.collapseStylePanel.matches(t)){const a=t.payload.styleType;if(a in e){const t=Object.assign({},e);return delete t[a],t}return e}return e},isFetched:function(e=!1,t){return!!b.markFetched.matches(t)||e}}),t.default=t.library}),
(function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=a(9,1    ),t=a(332                               ),s=a(337                               ),o=a(341                             ),l=a(344                       ),c=a(345                       ),n=a(349                             ),d=a(350                             ),p=a(592                        ),f=a(593                                  ),m=a(404                                  ),u=a(595                                  ),_=a(596                              ),g=a(597                                   ),w=a(598                              ),B=a(600                                    ),y=a(601                         ),h=a(603                              ),b=a(606                         ),v=a(607                               ),F=a(608                           ),S=a(611                            ),I=a(613                   ),N=a(614                             ),R=a(617                                            ),O=a(626                                             ),V=a(627                            ),T=a(632                           ),C=a(633                                ),U=a(635                ),j=a(636                           ),M=a(639                                     ),P=a(641                         ),K=a(280                             ),L=a(113                                     );function A(e=!1,r){return!L.fileBrowser.selectView.matches(r)&&(!L.fileBrowser.showModal.matches(r)&&(!L.fileBrowser.init.matches(r)&&(!!L.fileBrowser.showMobileNav.matches(r)||!L.fileBrowser.hideMobileNav.matches(r)&&e)))}function D(e=!1,r){return!L.fileBrowser.init.matches(r)&&(L.fileBrowser.setLocalFonts.matches(r)?r.payload.value:e)}function k(e=null,r){return L.fileBrowser.beginCreateNewFolder.matches(r)?r.payload:L.fileBrowser.stopCreateNewFolder.matches(r)?null:e}function q(e=null,r){return L.fileBrowser.beginRenameNavFolder.matches(r)?r.payload.folderId:L.fileBrowser.stopRenameNavFolder.matches(r)?null:e}function x(e=null,r){return L.fileBrowser.beginRenameNavTeam.matches(r)?r.payload.teamId:L.fileBrowser.stopRenameNavTeam.matches(r)?null:e}function E(e={},r){if(K.file.deleteActiveUsers.matches(r)){const a=Object.assign(Object.create(null),e);return delete a[r.payload.fileKey],a}if(K.file.setActiveUsers.matches(r)){const a=r.payload.fileKey,i=r.payload.users,t=Object.create(null);for(let e of i)t[e.id]=e;return e=e||Object.create(null),Object.assign(Object.create(null),e,{[a]:t})}return e}function W(e=!1,r){return L.fileBrowser.setFileBrowserLoading.matches(r)?r.payload.show:e}function z(){return{userNotifications:B.userNotifications,recentFiles:_.recentFiles,recentPrototypes:g.recentPrototypes,recentRepos:w.recentRepos,fileKeysByFolderId:l.fileKeysByFolderId,pinnedFileKeyToUserNameByFolderId:l.pinnedFileKeyToUserNameByFolderId,renamingNavFolderWithId:q,renamingNavTeamWithId:x,fileImport:o.fileImport,avatarEditorState:s.avatarEditorState,fileSearch:d.fileSearch,search:p.search,mobileNavShown:A,localFonts:D,creatingNewFolder:k,tileSelect:n.tileSelect,teamCreation:v.teamCreation,emailSettings:R.emailSettings,activeFileUsers:E,teamView:F.teamView,teamAdmin:S.teamAdmin,teamRoleRequests:I.teamRoleRequests,folderView:N.folderView,payment:y.payment,cart:h.cart,tileSortFilterStateByView:f.tileSortFilterStateByView,showingFileBrowserLoader:W,orgDashboard:O.orgDashboard,activityLogs:t.activityLogs,orgSamlConfig:U.orgSamlConfig,fileBrowserPreferences:b.fileBrowserPreferences,fileBrowserSectionPreferencesBySectionOrTeamId:b.fileBrowserSectionPreferencesBySectionOrTeamId,orgRoster:V.orgRoster,orgTeams:T.orgTeams,orgBillingData:u.orgBillingData,idpUserById:C.idpUserById,hubFileRemixes:j.hubFileRemixes,viewBarSortOptionsByView:m.viewBarSortOptionsByView,viewBarViewModeOptionByView:m.viewBarViewModeOptionByView,proTrialChecklist:M.proTrialChecklist,library:P.library,repoIdsByFolderId:c.repoIdsByFolderId}}r.activeFileUsers=E,r.showingFileBrowserLoader=W,r.fileBrowserReducerMap=z,r.fileBrowser=i.combineReducers(z())}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=l(280                             ),s=l(113                                     );function a(e={},t){if(s.fileBrowser.setDeletedFiles.matches(t)){let e={};return t.payload.deletedFiles.forEach(t=>{e[t.key]=t}),e}if(i.file.deleteFiles.matches(t)){let l=Object.assign({},e);for(let e in t.payload.fileKeys)l[e]=t.payload.fileKeys[e];return l}if(i.file.put.matches(t)){let l=t.payload.file;if(!l.trashed_at&&e[l.key]){let t=Object.assign({},e);return delete t[l.key],t}return e}if(i.file.restoreTrashedFiles.matches(t)||i.file.deleteFilesForever.matches(t)){let l=Object.keys(t.payload.fileKeys),i=Object.assign({},e);for(let e of l)delete i[e];return i}return e}t.deletedFilesByKey=a,t.default=a}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(9,1    ),a=t(113                                     ),l=t(207                                   ),c=t(187                                  );s.USER_FOLDERS="USER_FOLDERS",s.USER_DRAFTS="USER_DRAFTS",s.fileMove=o.combineReducers({folderSearchQuery:function(e="",s){return c.fileMove.setFolderSearchQuery.matches(s)?s.payload.query:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?"":e},folderRenaming:function(e=null,s){return c.fileMove.startFolderRename.matches(s)?s.payload.folderId:c.fileMove.endFolderRename.matches(s)||l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?null:e},focusedIndex:function(e=-1,s){return c.fileMove.incrementFocusedIndex.matches(s)?e===s.payload.upperBound-1?e:e+1:c.fileMove.decrementFocusedIndex.matches(s)?0===e||-1===e?e:e-1:c.fileMove.setFocusedIndexAt.matches(s)?s.payload.indexAt:c.fileMove.resetFocusedIndex.matches(s)||l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?-1:e},indexCount:function(e=null,s){return c.fileMove.setIndexCount.matches(s)?s.payload.indexCount:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?null:e},indexOffsets:function(e={},s){return c.fileMove.setIndexOffsets.matches(s)?s.payload.indexOffsets:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?{}:e},folderRows:function(e=[],s){return c.fileMove.setFolderRows.matches(s)?s.payload.rows:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?[]:e},teamOrder:function(e=[],s){return c.fileMove.setTeamOrder.matches(s)?s.payload.teamIds:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?[]:e},foldersByTeamId:function(e={},s){return c.fileMove.setfoldersByTeamId.matches(s)?s.payload.foldersByTeamId:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?{}:e},isSearchResult:function(e=!1,s){return c.fileMove.isSearchResult.matches(s)?s.payload.isSearchResult:!a.fileBrowser.hideModal.matches(s)&&e},isSearchFocused:function(e=!1,s){return c.fileMove.isSearchFocused.matches(s)?s.payload.isSearchFocused:!(a.fileBrowser.hideModal.matches(s)||c.fileMove.decrementFocusedIndex.matches(s)||c.fileMove.incrementFocusedIndex.matches(s))&&(!!c.fileMove.setFolderSearchQuery.matches(s)||e)},upDownKeyPressed:function(e=!1,s){return!(!c.fileMove.decrementFocusedIndex.matches(s)&&!c.fileMove.incrementFocusedIndex.matches(s))||!(c.fileMove.setKeyPressedToFalse.matches(s)||l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s))&&e},canMouseFocus:function(e=!0,s){return c.fileMove.canMouseFocus.matches(s)?s.payload.canFocus:!(!l.fullscreen.attemptClose.matches(s)&&!a.fileBrowser.hideModal.matches(s))||e}})}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(188                               ),d=t(113                                     ),r=t(338                                 );function o(e={},t){if(d.fileBrowser.hydrate.matches(t)){let e={};for(let a of t.payload.folders||[])e[a.id]=Object.assign(Object.assign({},a),{appData:{}});return e}if(s.folder.post.matches(t)){let a=t.payload;return Object.assign(Object.assign({},e),{[a.id]:a})}if(s.folder.del.matches(t)){const a=Object.assign({},e);return t.payload.folderIds.forEach(e=>{delete a[e]}),a}return r.reduceObject(e,t,a.folder)}a.folders=o,a.folder=r.createReducerWithPrecheck(function(e,a){if(s.folder.put.matches(a))return a.payload.folder.id!==e.id?e:Object.assign(Object.assign({},e),a.payload.folder);if(s.folder.move.matches(a))return a.payload.folder.id!==e.id?e:Object.assign(Object.assign({},e),{team_id:a.payload.teamId});if(s.folder.rename.matches(a)){if(a.payload.folderId!==e.id)return e;let t=Object.assign({},e);return t.name=a.payload.folderName,t.path=t.parent_path?`${t.parent_path}/${t.name}`:t.name,t}return s.folder.updateFolderAccess.matches(a)?a.payload.folderId!==e.id?e:Object.assign(Object.assign({},e),{is_view_only:a.payload.isViewOnly,is_invite_only:a.payload.isInviteOnly}):s.folder.fetchedRoles.matches(a)?a.payload.id!==e.id?e:Object.assign(Object.assign({},e),{appData:Object.assign(Object.assign({},e.appData),{fetchedRoles:!0})}):e},{shouldIgnoreAction:e=>!(s.folder.put.matches(e)||s.folder.move.matches(e)||s.folder.rename.matches(e)||s.folder.updateFolderAccess.matches(e)||s.folder.fetchedRoles.matches(e))}),a.default=o}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(342                                  );function a(e=t.defaultPrototype,s){return o.prototype.reset.matches(s)?Object.assign({},t.defaultPrototype):o.prototype.setTriggerHotspots.matches(s)?Object.assign(Object.assign({},e),{triggerHotspots:s.payload.triggerHotspots}):o.prototype.setHoverCursor.matches(s)?Object.assign(Object.assign({},e),{showHoverCursor:s.payload.showHoverCursor}):o.prototype.showComments.matches(s)?Object.assign(Object.assign({},e),{showComments:!0}):o.prototype.hideComments.matches(s)?Object.assign(Object.assign({},e),{showComments:!1}):o.prototype.setShowResolvedComments.matches(s)?Object.assign(Object.assign({},e),{showResolvedComments:s.payload.showResolved}):o.prototype.setShowOnlyParticipatingComments.matches(s)?Object.assign(Object.assign({},e),{showOnlyParticipatingComments:s.payload.showOnlyParticipating}):o.prototype.setIsReconnecting.matches(s)?Object.assign(Object.assign({},e),{isReconnecting:s.payload.isReconnecting}):o.prototype.setCurrentIndex.matches(s)?Object.assign(Object.assign({},e),{currentIndex:s.payload.currentIndex}):o.prototype.setFrameIds.matches(s)?Object.assign(Object.assign({},e),{frameIds:s.payload.frameIds}):o.prototype.setPages.matches(s)?Object.assign(Object.assign({},e),{pages:s.payload.pages}):o.prototype.setCurrentPageId.matches(s)?Object.assign(Object.assign({},e),{currentPageId:s.payload.currentPageId}):o.prototype.setBackgroundColor.matches(s)?Object.assign(Object.assign({},e),{backgroundColor:s.payload.color}):o.prototype.setProgressBarMode.matches(s)?Object.assign(Object.assign({},e),{showProgressBar:s.payload.showProgress}):e}t.DEFAULT_BG_COLOR={r:0,g:0,b:0,a:255},t.defaultPrototype={showProgressBar:!0,triggerHotspots:!1,showHoverCursor:!1,showComments:!1,showOnlyParticipatingComments:!1,showResolvedComments:!1,currentIndex:0,frameIds:[],pages:[],currentPageId:null,backgroundColor:t.DEFAULT_BG_COLOR,isReconnecting:!1},t.prototypeReducerMap={prototype:a},t.prototype=a}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(91                  );!function(e){e.updateSelectionPaintsFromFullscreen=i.actionCreator("UPDATE_SELECTION_PAINTS_FROM_FULLSCREEN"),e.updateSelectionStylesFromFullscreen=i.actionCreator("UPDATE_SELECTION_STYLES_FROM_FULLSCREEN"),e.clearSelectionPaintsDueToLimitExceeded=i.actionCreator("CLEAR_SELECTION_PAINTS_DUE_TO_LIMIT_EXCEEDED"),e.updateCurrentSelectionPaintInPicker=i.actionCreator("UPDATE_CURRENT_SELECTION_PAINT_IN_PICKER")}(t.selectionPaintActions||(t.selectionPaintActions={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(207                                   ),n=r(113                                     ),o=r(261                               ),s=r(442                             ),c=r(308         );function l(e,t){return null!=e[t]&&e[t]>0}t.selectionProperties=function(e={},t){if(n.fileBrowser.init.matches(t))return Object.create(null);if(i.fullscreen.updateMirror.matches(t)&&t.payload.selectionProperties){const r=t.payload.selectionProperties,i=r.message;if(null==i&&c.isEmpty(r.derivedProperties.changes)&&c.isEmpty(r.derivedProperties.mixed))return e;const n=Object.assign(Object.create(null),e);if(null!=i&&"NODE_CHANGES"===i.type&&i.nodeChanges)for(const e of i.nodeChanges){const t=e.guid?e.guid.localID:null;for(const r in e)if("guid"!==r)switch(t===o.SelectionPropertyState.MIXED_VALUES_FIRST&&(n[r]=s.emptyMixedValuesArray()),t){case o.SelectionPropertyState.PRESENT:n[r]=e[r];break;case o.SelectionPropertyState.MIXED:n[r]=s.MIXED;break;case o.SelectionPropertyState.MIXED_VALUES_FIRST:case o.SelectionPropertyState.MIXED_VALUES_NEXT:n[r].push(e[r]);break;default:n[r]=null}}for(const e in r.derivedProperties.changes)n[e]=r.derivedProperties.changes[e];for(const e in r.derivedProperties.mixed)n[e]=s.MIXED;return n}return e},t.anySelectedOfType=l,t.allSelectedOfType=function(e,t){if(!l(e,t))return!1;let r=0;for(const i in e)if(null!=e[i]&&e[i]>0&&(r+=1)>1)return!1;return!0}}),
(function(e,t,n){"use strict";function r(e,t,n){if("stop"===n(t))return"stop";if(t.reversedChildren)for(const o of t.reversedChildren)if("stop"===r(e,e.get(o),n))return"stop"}function o(e,t){const n=e.get(t);return n&&n.parent?e.get(n.parent):null}function i(e,t,n){let r=o(e,t);for(;r;){if("CANVAS"===r.type||"DOCUMENT"===r.type)return;if("stop"===n(r))break;r=o(e,r.guid)}}function u(e){return"FRAME"===e||"SYMBOL"===e||"INSTANCE"===e}function s(e,t){return t&&"CANVAS"===t.type&&t.visible&&u(e.type)&&e.visible&&!e.sharedSymbolReference}Object.defineProperty(t,"__esModule",{value:!0}),t.traverse=r,t.getParent=o,t.forEachAncestor=i,t.getAncestors=function(e,t){const n=[];return i(e,t,e=>{n.push(e)}),n},t.countParents=function(e,t){let n=0,r=e.get(t)||null;for(;r&&"CANVAS"!==r.type&&"DOCUMENT"!==r.type;)n++,r=o(e,r.guid);return n},t.pageIdContainingNodeId=function(e,t){let n=null;if(!t)return n;let r=e.get(t);if(!r)return n;for(n=r.guid;r&&"CANVAS"!==r.type&&r.parent;)n=(r=e.get(r.parent)).guid;return n},t.isNodeTypeInFrame=u,t.isNodeTypeWithChildren=function(e){return"DOCUMENT"===e||"CANVAS"===e||"GROUP"===e||"FRAME"===e||"SYMBOL"===e||"INSTANCE"===e||"BOOLEAN_OPERATION"===e},t.isVectorNodeType=function(e){return"VECTOR"===e||"STAR"===e||"LINE"===e||"ELLIPSE"===e||"RECTANGLE"===e||"REGULAR_POLYGON"===e||"ROUNDED_RECTANGLE"===e},t.topLevelFramesForPageId=function(e,t){const n=[],r=e.get(t);for(let o of r.reversedChildren){const t=e.get(o);s(t,r)&&n.push(t)}return n},t.setLocked=function(e,t,n,o){const i=e.get(t);i&&(o?r(e,i,e=>{e.locked=n}):i.locked=n)},t.setVisible=function(e,t,n,o){const i=e.get(t);i&&(o?r(e,i,e=>{e.visible=n}):i.visible=n)}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(207                                   ),c=r(113                                     ),l=r(228         ),o=r(649                                        );function i(e,t){return!!e[t]}function s(e,t,r){if(i(t,r))return e.get(r)||null;let n=null;return o.forEachAncestor(e,r,e=>{if(!n&&i(t,e.guid)&&(n=e),n)return"stop"}),n}t.sceneGraphSelection=function(e=Object.create(null),t){if(c.fileBrowser.init.matches(t)||n.fullscreen.close.matches(t))return Object.create(null);if(n.fullscreen.updateMirror.matches(t)&&t.payload.selection){const{add:r,remove:n,replace:c}=t.payload.selection;if(l.assertDev(!((r||n)&&c),"We expect either an add or remove OR a replace."),c)return c;const o=Object.assign(Object.create(null),e,r);for(let e in n)delete o[e];return o}return e},t.forEachSelectedNode=function(e,t,r){for(const n in t){const t=e.get(n);t&&o.traverse(e,t,r)}},t.forEachDirectlySelectedNode=function(e,t,r){for(const n in t){const t=e.get(n);t&&r(t)}},t.isDirectlySelected=i,t.isSelected=function(e,t,r){return!!s(e,t,r)},t.directlySelectedAncestorOrSelf=s}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=l(207                                   ),c=l(231       );t.selectedStyleProperties=function(e={},t){if(s.fullscreen.updateSelectedStyleProperties.matches(t)){let l=t.payload.selectedStyleProperties||{};return c.equals(l.guid,e.guid)?Object.assign(Object.assign({},l),{url:e.url}):l}return s.fullscreen.updateSelectedStyleThumbnailURL.matches(t)?Object.assign(Object.assign({},e),{url:t.payload.selectedStyleThumbnailURL}):e}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(647                                        );t.selectionPaints=function(e={paints:[],styles:[],emptyDueToLimitExceeded:!1},t){if(s.selectionPaintActions.updateSelectionPaintsFromFullscreen.matches(t))return Object.assign(Object.assign({},e),{paints:t.payload,emptyDueToLimitExceeded:!1});if(s.selectionPaintActions.updateSelectionStylesFromFullscreen.matches(t)){const i=t.payload.sort((e,t)=>e.count>t.count?-1:e.count==t.count&&e.styleName<t.styleName?-1:1);return Object.assign(Object.assign({},e),{styles:i,emptyDueToLimitExceeded:!1})}return s.selectionPaintActions.clearSelectionPaintsDueToLimitExceeded.matches(t)?{paints:[],styles:[],emptyDueToLimitExceeded:!0}:e}}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deepEqualsIgnoringNumberPrecision=function e(r,n){const t=typeof r;if(typeof n!==t)return!1;if("number"===t)return!Number.isNaN(r)&&!Number.isNaN(n);if("object"!==t)return r===n;if(null===r!=(null===n))return!1;if(null===r)return!0;if(r instanceof Array!=n instanceof Array)return!1;if(r instanceof Array)return r.length===n.length&&r.every((r,t)=>e(r,n[t]));const u=Object.keys(r),i=Object.keys(n);return u.length===i.length&&(u.sort(),i.sort(),!!u.every((e,r)=>e===i[r])&&u.every(t=>e(r[t],n[t])))},r.pluginWarn=function(e){console.error(e)}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(221       ),s=o(261                               ),d=o(140         ),l=o(653                                 );function a(e,t){let o=0,n=!1;for(45===e.charCodeAt(t)&&(n=!0,t++);t<e.length;){const n=e.charCodeAt(t++);if(n<48||n>57)break;o=10*o+n-48}return n?-o:o}t.parseIntegerFast=a;class r{constructor(e,t,o){this.guid=e,this.sessionID=t,this.localID=o}setGlobalNodeID(){s.SceneNodeCpp.setGlobalUnstableNodeID(this.sessionID,this.localID)}get type(){return this.setGlobalNodeID(),n.schema.NodeType[s.SceneNodeCpp.getType(s.NodeContext.REDUX)]}get name(){return this.setGlobalNodeID(),s.SceneNodeCpp.getName(s.NodeContext.REDUX)}set name(e){this.setGlobalNodeID(),s.SceneNodeCpp.setName(e,s.NodeContext.REDUX)}get locked(){return this.setGlobalNodeID(),s.SceneNodeCpp.getLocked(s.NodeContext.REDUX)}set locked(e){this.setGlobalNodeID(),s.SceneNodeCpp.setLocked(e,s.NodeContext.REDUX)}get mask(){return this.setGlobalNodeID(),s.SceneNodeCpp.getMask(s.NodeContext.REDUX)}set mask(e){this.setGlobalNodeID(),s.SceneNodeCpp.setMask(e,s.NodeContext.REDUX)}get visible(){return this.setGlobalNodeID(),s.SceneNodeCpp.getVisible(s.NodeContext.REDUX)}set visible(e){this.setGlobalNodeID(),s.SceneNodeCpp.setVisible(e,s.NodeContext.REDUX)}get resizeToFit(){return this.setGlobalNodeID(),s.SceneNodeCpp.getResizeToFit(s.NodeContext.REDUX)}get stackMode(){return this.setGlobalNodeID(),n.schema.StackMode[s.SceneNodeCpp.getStackMode(s.NodeContext.REDUX)]||"NONE"}set stackMode(e){const t=n.schema.StackMode[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for stackMode");this.setGlobalNodeID(),s.SceneNodeCpp.setStackMode(t,s.NodeContext.REDUX)}get frameMaskDisabled(){return this.setGlobalNodeID(),s.SceneNodeCpp.getFrameMaskDisabled(s.NodeContext.REDUX)}set frameMaskDisabled(e){this.setGlobalNodeID(),s.SceneNodeCpp.setFrameMaskDisabled(e,s.NodeContext.REDUX)}get isSymbolPublishable(){return this.setGlobalNodeID(),s.SceneNodeCpp.getIsSymbolPublishable(s.NodeContext.REDUX)}get symbolDescription(){return this.setGlobalNodeID(),s.SceneNodeCpp.getSymbolDescription(s.NodeContext.REDUX)}set symbolDescription(e){this.setGlobalNodeID(),s.SceneNodeCpp.setSymbolDescription(e,s.NodeContext.REDUX)}get stateGroupDescription(){return this.setGlobalNodeID(),s.SceneNodeCpp.getStateGroupDescription(s.NodeContext.REDUX)}get cornerRadius(){return this.setGlobalNodeID(),s.SceneNodeCpp.getCornerRadius(s.NodeContext.REDUX)}set cornerRadius(e){this.setGlobalNodeID(),s.SceneNodeCpp.setCornerRadius(e,s.NodeContext.REDUX)}get objectsPanelThumbnailId(){return this.setGlobalNodeID(),s.SceneNodeCpp.getObjectsPanelThumbnailId(s.NodeContext.REDUX)}get isExpandable(){return this.setGlobalNodeID(),s.SceneNodeCpp.getIsExpandable(s.NodeContext.REDUX)}get isExpanded(){return this.setGlobalNodeID(),s.SceneNodeCpp.getIsExpanded(s.NodeContext.REDUX)}get isTemporarilyExpanded(){return this.setGlobalNodeID(),s.SceneNodeCpp.getIsTemporarilyExpanded(s.NodeContext.REDUX)}get styleType(){return this.setGlobalNodeID(),n.schema.StyleType[s.SceneNodeCpp.getStyleType(s.NodeContext.REDUX)]||"NONE"}get styleDescription(){return this.setGlobalNodeID(),s.SceneNodeCpp.getStyleDescription(s.NodeContext.REDUX)||""}set styleDescription(e){this.setGlobalNodeID(),s.SceneNodeCpp.setStyleDescription(e,s.NodeContext.REDUX)}get componentKey(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getComponentKey(s.NodeContext.REDUX);return""===e?null:e}get stateGroupKey(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getStateGroupKey(s.NodeContext.REDUX);return""===e?null:e}get publishFile(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getPublishFile(s.NodeContext.REDUX);return""===e?null:e}get sharedSymbolVersion(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getSharedSymbolVersion(s.NodeContext.REDUX);return""===e?null:e}get sharedStateGroupVersion(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getSharedStateGroupVersion(s.NodeContext.REDUX);return""===e?null:e}get publishID(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getPublishID(s.NodeContext.REDUX);return""===e?null:e}get sharedSymbolReference(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getSharedSymbolReference(s.NodeContext.REDUX);return 0===e.length?null:n.schema.decodeSharedSymbolReference(e)}get fontName(){return this.setGlobalNodeID(),s.SceneNodeCpp.getFontName(s.NodeContext.REDUX)}get exportSettings(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getExportSettings(s.NodeContext.REDUX);return""===e?[]:n.schema.decodeNodeChange(d.decode(e)).exportSettings||[]}set exportSettings(e){const t=n.schema.encodeNodeChange({exportSettings:e}),o=n.schema.decodeNodeChange(t).exportSettings;if(!l.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for export settings");this.setGlobalNodeID(),s.SceneNodeCpp.setExportSettings(d.encode(t),s.NodeContext.REDUX)}get parent(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getParent(s.NodeContext.REDUX);return""===e?null:e}get reversedChildren(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getReversedChildren(s.NodeContext.REDUX);return""===e?[]:e.split(" ")}get scrollDirection(){return this.setGlobalNodeID(),n.schema.ScrollDirection[s.SceneNodeCpp.getScrollDirection(s.NodeContext.REDUX)]||"NONE"}get fixedChildrenCount(){return this.setGlobalNodeID(),s.SceneNodeCpp.getFixedChildrenCount(s.NodeContext.REDUX)}get booleanOperation(){return this.setGlobalNodeID(),n.schema.BooleanOperation[s.SceneNodeCpp.getBooleanOperation(s.NodeContext.REDUX)]||null}set booleanOperation(e){const t=n.schema.BooleanOperation[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for booleanOperation");this.setGlobalNodeID(),s.SceneNodeCpp.setBooleanOperation(t,s.NodeContext.REDUX)}get hasEnabledStaticImagePaint(){return this.setGlobalNodeID(),s.SceneNodeCpp.getHasEnabledStaticImagePaint(s.NodeContext.REDUX)}get hasEnabledAnimatedPaint(){return this.setGlobalNodeID(),s.SceneNodeCpp.getHasEnabledAnimatedPaint(s.NodeContext.REDUX)}get isStateGroup(){return this.setGlobalNodeID(),s.SceneNodeCpp.getIsStateGroup(s.NodeContext.REDUX)}get isState(){return this.setGlobalNodeID(),s.SceneNodeCpp.getIsState(s.NodeContext.REDUX)}}t.SceneGraphShim=class{get(e){const t=a(e,0),o=a(e,e.indexOf(":")+1);return s.SceneNodeCpp.setGlobalUnstableNodeID(t,o),s.SceneNodeCpp.exists(s.NodeContext.REDUX)?new r(e,t,o):null}}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createNodeWithDefaults=function(e,n){const t={guid:e,type:"NONE",name:"",locked:!1,mask:!1,visible:!0,resizeToFit:!1,stackMode:"NONE",frameMaskDisabled:!1,isSymbolPublishable:!1,symbolDescription:"",stateGroupDescription:"",styleType:"NONE",styleDescription:"",parent:null,reversedChildren:[],booleanOperation:null,cornerRadius:0,objectsPanelThumbnailId:0,isExpandable:!1,isExpanded:!1,isTemporarilyExpanded:!1,scrollDirection:"NONE",fixedChildrenCount:0,componentKey:null,stateGroupKey:null,publishFile:null,sharedSymbolVersion:null,sharedStateGroupVersion:null,publishID:null,hasEnabledStaticImagePaint:!1,hasEnabledAnimatedPaint:!1,isStateGroup:!1,isState:!1,fontName:null,sharedSymbolReference:null,exportSettings:[]};return n&&Object.assign(t,n),t},n.createMockSceneGraph=function(e){return{get:n=>e[n]}}}),
(function(e,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=c(207                                   ),n=c(113                                     ),s=c(654                                             ),i=c(655                                                     );a.sceneGraph=function(e=i.createMockSceneGraph({}),a){return n.fileBrowser.init.matches(a)||r.fullscreen.close.matches(a)?i.createMockSceneGraph({}):r.fullscreen.updateMirror.matches(a)&&a.payload.invalidateSceneGraph?new s.SceneGraphShim:e}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9,1    ),o=r(264          ),s=r(648                     ),i=r(650                      ),c=r(651                          ),l=r(652                ),a=r(656                   ),p=r(207                                   );function d(e=0,t){return p.fullscreen.updateMirror.matches(t)&&t.payload.invalidateSceneGraph&&t.payload.invalidateSceneGraph.rebuildRows?e+1:e}t.objectsPanelRowRebuildCounter=d,t.mirror=n.combineReducers({appModel:o.appModel,selectionProperties:s.selectionProperties,selectedStyleProperties:c.selectedStyleProperties,sceneGraph:a.sceneGraph,sceneGraphSelection:i.sceneGraphSelection,objectsPanelRowRebuildCounter:d,selectionPaints:l.selectionPaints})}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(91                  ),a=o(100               ),r=o(108     ),l=o(98                  );!function(e){e.reset=i.actionCreator("FILE_FOLLOWER_RESET"),e.post=i.actionCreator("FILE_FOLLOWER_POST"),e.del=i.actionCreator("FILE_FOLLOWER_DELETE"),e.set=i.actionCreator("FILE_FOLLOWER_SET"),e.put=a.asyncActionCreator("FILE_FOLLOWER_PUT",(t,o)=>{r.default.put(`/api/file/${o.key}/file_followers`,{notification_preference:o.notification_preference}).then(o=>{t.dispatch(e.set({fileFollower:o.data.meta}))}).catch(e=>{var o;const i=(null===(o=e.data)||void 0===o?void 0:o.message)||"An error occurred while updating notification preference.";t.dispatch(l.flashActions.flash(i)),console.log(e)})})}(t.fileFollower||(t.fileFollower={}))}),
(function(e,l,i){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const t=i(658                                      );l.fileFollowers=((e={},l)=>{if(t.fileFollower.set.matches(l)){let i=l.payload.fileFollower;return Object.assign(Object.assign({},e),{[i.user_id]:i})}if(t.fileFollower.reset.matches(l))return{};if(t.fileFollower.post.matches(l)){let i=l.payload.fileFollower;return Object.assign(Object.assign({},e),{[i.user_id]:i})}if(t.fileFollower.del.matches(l)){let i=Object.assign({},e);return delete i[l.payload.fileFollower.user_id],i}return e}),function(e){e.ALL="all",e.PARTICIPATING="participating",e.NONE="none"}(l.NotificationPreference||(l.NotificationPreference={}))}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(85                   ),n=t(361                      ),l=t(362                      );a.defaultState={formState:void 0,email:"",name:"",profileHandle:"",jobTitle:"",accessCode:null,emailToken:null,optInEmail:!1,passwordLength:0,redirectUrl:null,loading:!1,error:null,success:null,domainSuggestion:null,appAuthId:null,appAuthAppType:null,appAuthGSecret:null,appAuthDesktopProtocol:null,googleIdToken:null,ssoMethod:null,orgName:null,existingSession:!1},a.auth=function(e=a.defaultState,t){if(n.auth.init.matches(t)){let a=s.default();return{formState:t.payload.formState,email:a.email||"",name:a.name||"",profileHandle:"",jobTitle:"",accessCode:a.access_code||null,emailToken:a.email_token||null,optInEmail:!1,passwordLength:0,redirectUrl:e.redirectUrl||a.redirect_url||null,loading:!1,error:a.error||null,success:null,domainSuggestion:null,origin:t.payload.origin,appAuthId:a.app_auth_id||null,appAuthAppType:a.app_auth_app_type||null,appAuthGSecret:a.app_auth_g_secret||null,appAuthDesktopProtocol:a.app_auth_desktop_protocol||null,googleIdToken:null,ssoMethod:a.sso_method||null,orgName:a.org_name||null,existingSession:a.existing_session||!1}}if(n.auth.redeemReset.matches(t))return Object.assign(Object.assign({},e),{loading:!1,appAuthId:null,appAuthGSecret:null,redirectUrl:null,formState:l.AuthFormState.SIGN_IN});if(n.auth.setRedirectUrl.matches(t))return Object.assign(Object.assign({},e),{redirectUrl:t.payload.redirectUrl});if(n.auth.setGoogleIdToken.matches(t))return Object.assign(Object.assign({},e),{googleIdToken:t.payload.googleIdToken});if(n.auth.changeEmail.matches(t))return Object.assign(Object.assign({},e),{email:t.payload.value});if(n.auth.changeName.matches(t))return Object.assign(Object.assign({},e),{name:t.payload.value});if(n.auth.changeHandle.matches(t))return Object.assign(Object.assign({},e),{profileHandle:t.payload.value});if(n.auth.changeOptInEmail.matches(t))return Object.assign(Object.assign({},e),{optInEmail:t.payload.value});if(n.auth.toggleSMS.matches(t))return Object.assign(Object.assign({},e),{smsOkay:t.payload});if(n.auth.requireTwoFactor.matches(t))return Object.assign(Object.assign({},e),{loading:!1,twoFactorRequired:t.payload.required,hint:t.payload.hint,error:null,success:null});if(n.auth.changeJob.matches(t))return Object.assign(Object.assign({},e),{jobTitle:t.payload.value});if(n.auth.changePasswordLength.matches(t))return Object.assign(Object.assign({},e),{passwordLength:t.payload.value});if(n.auth.setDomainSuggestion.matches(t))return Object.assign(Object.assign({},e),{domainSuggestion:t.payload.domain});if(n.auth.useDomainSuggestion.matches(t)){const a=`${e.email.split("@")[0]}@${e.domainSuggestion}`;return Object.assign(Object.assign({},e),{email:a,domainSuggestion:null})}return n.auth.showForm.matches(t)?t.payload.formState!==e.formState?Object.assign(Object.assign({},e),{formState:t.payload.formState,loading:!1,error:t.payload.errorMessage||null,success:null,invalidInput:null}):e:n.auth.showError.matches(t)?Object.assign(Object.assign({},e),{loading:!1,error:t.payload.message,errorType:t.payload.errorType,invalidInput:t.payload.invalidInput,success:null}):n.auth.clearError.matches(t)?Object.assign(Object.assign({},e),{error:null,errorType:null,invalidInput:null,success:null}):n.auth.showSuccess.matches(t)?Object.assign(Object.assign({},e),{error:null,errorType:null,invalidInput:null,loading:!1,success:t.payload.message}):n.auth.signIn.matches(t)||n.auth.signUp.matches(t)||n.auth.sendValidationEmail.matches(t)||n.auth.resetPassword.matches(t)||n.auth.validateCode.matches(t)||n.auth.sendPasswordReset.matches(t)||n.auth.sendEmailSamlStart.matches(t)?Object.assign(Object.assign({},e),{loading:!0,error:null,success:null}):e}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=o(91                  ),s=o(100               ),n=o(315       ),r=o(108     );function i(t){return t.type?t.type:t.name.endsWith(".otf")?"font/opentype":t.name.endsWith(".ttf")?"font/ttf":""}let c=0;e.getFontUploadId=function(){return c++};const d=t=>{switch(t){case 400:return"Invalid font.";case 403:return"Unfortunately, you don't have permission to complete this action.";case 409:return"This font has already been uploaded to your Organization. Access this font now from the Font Picker.";case 422:return"This file has missing or invalid fields.";case 429:return"This file is too big. Files must be less than 20 MB.";default:return"The font could not be uploaded. Please try again later."}},l=s.asyncActionCreator("UPLOAD_FONTS",(t,e)=>{for(const o in e.fonts){const a=e.fonts[o],s={resourceType:e.resourceType,resourceId:e.resourceId};e.overwrite&&(s.overwrite="true"),r.default.post("/api/upnode/font",a,{params:s,headers:{"content-type":i(a)},raw:!0,uploadEvents:{[r.default.Events.PROGRESS]:(e,a)=>{const s=a.loaded/a.total;t.dispatch(F({uploadId:o,progress:s}))}}}).then(s=>{const r=JSON.parse(s.data).meta,i=n.sharedFontMetadataToFontInfo(r);if("org"===e.resourceType){const o={},a=t.getState(),{fontsByResourceId:s}=a.sharedFonts;Object.keys(s).map(t=>n.resourceIDForUniqueResourceID(t)).filter(t=>a.teams[t]&&a.teams[t].org_id===e.resourceId).forEach(t=>{const e=s[`team-${t}`]&&s[`team-${t}`][i.family]&&s[`team-${t}`][i.family][i.style];e&&e.weight===i.weight&&e.italic===i.italic&&e.stretch===i.stretch&&(o[i.id]=o[i.id]||{font:i,collisions:[]},o[i.id].collisions.push(e))});for(const e in o)t.dispatch(p(o[e]))}t.dispatch(y({font:i})),t.dispatch(u({resourceId:e.resourceId,font:i,filename:a.name,uploadId:o}))}).catch(e=>{let s;if(e.data)try{const t=JSON.parse(e.data).meta;s=t?{existing:n.sharedFontMetadataToFontInfo(t.collision.existing),uploaded:t.collision.uploaded}:void 0}catch(r){}t.dispatch(f({filename:a.name,uploadId:o,collision:s,message:d(e.status),status:e.status}))})}}),u=a.actionCreator("UPLOAD_FONT_SUCCESS"),f=a.actionCreator("UPLOAD_FONT_FAILURE"),p=a.actionCreator("UPLOAD_FONT_WARNING"),h=a.actionCreator("CLEAR_FONT_UPLOAD_RESULTS"),F=a.actionCreator("UPLOAD_FONT_PROGRESS"),T=a.actionCreator("TOGGLE_FONT_TO_DELETE"),_=a.actionCreator("CLEAR_FONTS_TO_DELETE"),O=s.asyncActionCreator("DELETE_FONT",t=>{const{fontsToDelete:e}=t.getState().sharedFonts;r.default.del("/api/fonts",{font_ids:Object.keys(e)}).then(o=>{const a=o.data.meta;for(const s in e)a.errors[s]||t.dispatch(C({font:e[s]}));t.dispatch(E(a))}).catch(e=>{const o={};Object.keys(t.getState().sharedFonts.fontsToDelete).forEach(t=>{o[t]={status:e.status}}),t.dispatch(E({errors:o}))})}),E=a.actionCreator("DELETE_FONT_COMPLETE"),S=a.actionCreator("DISMISS_FONT_COLLISION"),m=a.actionCreator("DISMISS_FONT_WARNING"),I=a.actionCreator("UPDATE_SHARED_FONT_LIST"),y=a.actionCreator("PUT_SHARED_FONT"),C=a.actionCreator("DEL_SHARED_FONT");e.sharedFonts={uploadFonts:l,uploadFontProgress:F,clearFontUploadResults:h,deleteFonts:O,toggleFontsToDelete:T,clearFontsToDelete:_,deleteFontComplete:E,dismissFontCollision:S,dismissFontWarning:m,uploadFontSuccess:u,uploadFontFailure:f,uploadFontWarning:p,updateSharedFontList:I,put:y,del:C}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=s(661                             ),o=s(207                                   ),i=s(113                                     ),n=s(261                               );e.getFontPriority=(t=>{switch(t.source){case n.FontSource.SHARED:return t.teamId?3:4;case n.FontSource.LOCAL:return 2;case n.FontSource.GOOGLE:return 1;default:return 0}}),e.getVersionsForStyles=(t=>{const s={};for(const r in t){s[r]=s[r]||{};for(const o in t[r]){const i=t[r][o].styles||{};for(const n in i)if(s[r][n]){const i=s[r][n],c=t[r][i],a=t[r][o];e.getFontPriority(a)>e.getFontPriority(c)&&(s[r][n]=o)}else s[r][n]=o}}return s});const c=(t,e)=>t.source===e.source&&(t.source!==n.FontSource.SHARED||!!t.teamId==!!e.teamId&&!!t.orgId==!!e.orgId);function a(t){return{weight:t.weight,stretch:t.stretch,italic:t.italic,postscript:t.postscript,sampleUrl:t.sampleUrl,id:t.id}}function l(t,e,s){t[e]=Object.assign({},t[e]),t[e][s]&&(t[e][s]=Object.assign({},t[e][s]),t[e][s].styles=Object.assign({},t[e][s].styles))}function f(t,s){const r=s.version||"";if(o=t,[s.family,r].reduce((t,e)=>(t||{})[e],o)){if(l(t,s.family,r),c(t[s.family][r],s))return void(t[s.family][r].styles[s.style]=a(s));if(!(e.getFontPriority(s)>e.getFontPriority(t[s.family][r])))return;t[s.family][r]={source:s.source,teamId:s.teamId,orgId:s.orgId,styles:{}}}else t[s.family]=t[s.family]||{},t[s.family][r]={source:s.source,teamId:s.teamId,orgId:s.orgId,styles:{}};var o;l(t,s.family,r),t[s.family][r].styles[s.style]=a(s)}e.fonts=function(t={},e){if(i.fileBrowser.init.matches(e))return Object.create(null);if(o.fullscreen.updateFontList.matches(e)){const s=Object.assign({},t),r=new Set(e.payload.sources);for(const t in s)for(const e in s[t])r.has(s[t][e].source)&&(s[t]=Object.assign({},s[t]),delete s[t][e],0===Object.keys(s[t]).length&&delete s[t]);for(const t of e.payload.list)f(s,t);return s}if(r.sharedFonts.put.matches(e)){const s=Object.assign({},t);return f(s,e.payload.font),s}return t}}),
(function(e,t,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const _=E(91                  );!function(e){e.getStyleSet=_.actionCreator("STYLE_FILE_GET_STYLE_SET"),e.putStyleSet=_.actionCreator("STYLE_FILE_PUT_STYLE_SET"),e.updateSelectedIndices=_.actionCreator("STYLE_FILE_UPDATE_SELECTED_INDICES")}(t.style||(t.style={}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=s(663                              );t.DOCUMENT_COLORS_STYLE_FILE_ID="-1",t.styleSets=function(e=Object.create(null),t){if(c.style.putStyleSet.matches(t)){const s=Object.assign({},t.payload.styleSet);return Object.assign(Object.create(null),e,{[t.payload.id]:s})}return e},t.selectedSharedColorIndices=function(e=[],t){return c.style.updateSelectedIndices.matches(t)?t.payload.indices:e}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(207                                   ),c=n(214         ),i=n(420              ),o=n(422                                        );t.PICKER_WIDTH=i.pxToInt(o.rightNavWidth),t.pickerPositionLeftOf=function(e){const{top:n,left:s}=e.getBoundingClientRect();return new c.Vector(s-t.PICKER_WIDTH,n)},t.pickerShown=function(e=null,t){return s.fullscreen.showPicker.matches(t)?t.payload:s.fullscreen.hidePicker.matches(t)?null:e}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const E=o(91                  );!function(e){e.reset=E.actionCreator("COLOR_PICKER_RESET"),e.setStylesExpanded=E.actionCreator("COLOR_PICKER_SET_STYLES_EXPANDED"),e.setViewMode=E.actionCreator("COLOR_PICKER_SET_VIEW_MODE"),e.selectSwatchSet=E.actionCreator("COLOR_PICKER_SELECT_SWATCH_SET"),e.resetSwatchSet=E.actionCreator("COLOR_PICKER_RESET_SWATCH_SET")}(t.colorPicker||(t.colorPicker={}))}),
(function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.GRID=0]="GRID",e[e.LIST=1]="LIST"}(t.ViewMode||(t.ViewMode={})),t.DOCUMENT_SWATCH_SET_ID="document-swatch-set-id",t.LOCAL_SWATCH_SET_ID="local-swatch-set-id"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=s(228         ),a=s(666                                     ),d=s(667                            ),i={stylesExpanded:!1,viewMode:d.ViewMode.GRID,selectedSwatchSetId:d.DOCUMENT_SWATCH_SET_ID};t.colorPicker=function(e,t){return e?a.colorPicker.reset.matches(t)?Object.assign({},i):a.colorPicker.setStylesExpanded.matches(t)?Object.assign(Object.assign({},e),{stylesExpanded:t.payload.expanded}):a.colorPicker.setViewMode.matches(t)?Object.assign(Object.assign({},e),{viewMode:t.payload.viewMode}):a.colorPicker.resetSwatchSet.matches(t)?(c.assertDev(""!==i.selectedSwatchSetId,"selectedSwatchSetId must be a valid swatch set ID"),Object.assign(Object.assign({},e),{selectedSwatchSetId:i.selectedSwatchSetId})):a.colorPicker.selectSwatchSet.matches(t)?(c.assertDev(""!==t.payload.swatchId,"selectedSwatchSetId must be a valid swatch set ID"),Object.assign(Object.assign({},e),{selectedSwatchSetId:t.payload.swatchId})):e:i}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(91                  );!function(e){e.setItems=r.actionCreator("EXPORT_PICKER_SET_ITEMS"),e.setChecked=r.actionCreator("EXPORT_PICKER_CHECK")}(t.exportableItems||(t.exportableItems={}))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(669                                      ),r=n(308         ),s=n(649                                        ),l=n(264                                  ),a=n(650                                              );class o{constructor(){this.indexer={}}next(e){return null==this.indexer[e]?this.indexer[e]=0:this.indexer[e]++,this.indexer[e]}}function c(e,t,n,i){let r=`${e}-${t}-${n.imageType}-${n.suffix}`;return`${r}-${i.next(r)}`}t.UniqueIndexer=o,t.exportableItems=function(e=Object.create(null),t){if(i.exportableItems.setItems.matches(t)){let n=Object.assign({},e.checked);for(let e of t.payload.items){let t=e.itemID;null==n[t]&&(n[t]=!0)}return{items:t.payload.items,frames:t.payload.frames,checked:n}}if(i.exportableItems.setChecked.matches(t)){let n=Object.assign({},e.checked);return n[t.payload.itemID]=t.payload.checked,Object.assign(Object.assign({},e),{checked:n})}return e};const p={PNG:".png",JPEG:".jpg",SVG:".svg",PDF:".pdf"};function u(e,t,n,i){let r,s=!1;""===e.trim()&&(e="Untitled"),r=`${e}${t}${n}`;let l=i.next(`${r}`);return l>0&&(r=`${e}${t}-${l}${n}`,s=!0),{filename:r,isDuplicate:s}}function d(e,t,n,i){let r,s;if("CANVAS"===e)""===(r=n).trim()&&(r="Untitled"),s=r=r.replace(/\//g,"_");else{(r=t).endsWith("/")&&(r=r.substr(0,r.length-1));let e=r.lastIndexOf("/");s=-1!==e?r.substr(e+1,r.length):r;for(let t of i){let e=t.substr(0,t.lastIndexOf("/"));e.length>0&&(r=e+"/"+r)}}return{name:r,title:s}}function m(e){return("FRAME"===e.type||"SYMBOL"===e.type)&&!e.resizeToFit}t.computeExportFilename=u,t.computeExportName=d,t.isNodeFrameOrSymbol=m,t.computeExportItems=function(e){const t=[],n=[],i=e.mirror,f=i.sceneGraph,g=e=>{(null!=e.exportSettings&&e.exportSettings.length>0||m(e))&&t.push(e)},h=e=>{const t=e.parent?f.get(e.parent):null;m(e)&&null!=t&&"CANVAS"===t.type&&n.push({nodeID:e.guid,name:e.name})},x=e=>{m(e)&&n.push({nodeID:e.guid,name:e.name})};if(r.isEmpty(i.sceneGraphSelection)){const e=f.get(l.currentCanvasNodeId(i.appModel));e&&(s.traverse(f,e,g),s.traverse(f,e,h))}else a.forEachSelectedNode(f,i.sceneGraphSelection,g),a.forEachDirectlySelectedNode(f,i.sceneGraphSelection,x);let y="Untitled";e.editingFileKey&&(y=e.fileByKey[e.editingFileKey].name);const b=[];let I=new o,$=new o;for(let r of t){let e=s.getAncestors(i.sceneGraph,r.guid).filter(e=>!e.visible);if(!r.visible||e.length>0)continue;let t=r.exportSettings;if(null!=t)for(let n of t){if(null==n.imageType)continue;let e=s.getAncestors(i.sceneGraph,r.guid).map(e=>e.name),{name:t,title:l}=d(r.type,r.name,y,e),a=c(r.guid,t,n,$),{filename:o,isDuplicate:m}=u(t,n.suffix||"",(S=n.imageType,p[S]),I);b.push({itemID:a,nodeID:r.guid,title:l,filename:o,exportSetting:n,warning:m?"Name duplicated":void 0,warningTooltip:m?`Renamed to ${o}`:void 0})}}var S;return{items:b,frames:n}}}),
(function(R,E,I){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),function(R){R[R.NOTHING_RECORDED=0]="NOTHING_RECORDED",R[R.RECORDING=1]="RECORDING",R[R.RECORDING_FINISHED=2]="RECORDING_FINISHED",R[R.EXPORTING=3]="EXPORTING"}(E.RecordingStatus||(E.RecordingStatus={}))}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(9,1    ),o=n(190                                         ),r=n(671                                 );const i={filterOutMouseMoveEvents:!0,includeOnlyFirstAndLastDragEvents:!0,isScreenshotTest:!1};const c=s.combineReducers({dialogShown:function(t=!1,e){return!!o.interactionTest.showRecorder.matches(e)||!o.interactionTest.hideRecorder.matches(e)&&t},status:function(t=r.RecordingStatus.NOTHING_RECORDED,e){return o.interactionTest.startRecording.matches(e)?r.RecordingStatus.RECORDING:o.interactionTest.stopRecording.matches(e)?r.RecordingStatus.RECORDING_FINISHED:o.interactionTest.exportRecording.matches(e)?r.RecordingStatus.EXPORTING:o.interactionTest.doneExporting.matches(e)?r.RecordingStatus.RECORDING_FINISHED:t},recordedEvents:function(t=[],e){return o.interactionTest.startRecording.matches(e)?[]:o.interactionTest.recordEvent.matches(e)?[...t,e.payload]:t},exportSettings:function(t=i,e){return o.interactionTest.updateExportSettings.matches(e)?e.payload:t},pretestCommands:function(t=null,e){return o.interactionTest.updatePretestCommands.matches(e)?e.payload:t}});e.default=c}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(91                  );!function(t){t.usedKeyboardShortcut=r.actionCreator("USED_KEYBOARD_SHORTCUT")}(e.keyboardShortcut||(e.keyboardShortcut={}))}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(673                                          ),a=o(88           );e.USED_KEYBOARD_SHORTCUTS_LOCAL_STORAGE_KEY="usedKeyboardShortcuts";let r={};if(a.localStorageOrNull){const t=a.localStorageOrNull.getItem(e.USED_KEYBOARD_SHORTCUTS_LOCAL_STORAGE_KEY);try{r=t&&JSON.parse(t)||{}}catch(c){}}e.usedKeyboardShortcuts=function(t=r,e){if(s.keyboardShortcut.usedKeyboardShortcut.matches(e)){const o=e.payload.key;return o in t?Object.assign(Object.assign({},t),{[o]:t[o]+1}):Object.assign(Object.assign({},t),{[o]:1})}return t}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(448                                         );a.welcomeSequence=function(e={requestInFlight:!1,collaborators:["","",""]},a){if(s.welcomeSequenceActions.setTeamName.matches(a))return Object.assign(Object.assign({},e),{teamName:a.payload});if(s.welcomeSequenceActions.setFolderName.matches(a))return Object.assign(Object.assign({},e),{folderName:a.payload});if(s.welcomeSequenceActions.updateCollaboratorEmail.matches(a)){const t=[...e.collaborators];return t[a.payload.index]=a.payload.email,Object.assign(Object.assign({},e),{collaborators:t})}if(s.welcomeSequenceActions.addCollaborator.matches(a)){const a=[...e.collaborators];return a.push(""),Object.assign(Object.assign({},e),{collaborators:a})}return s.welcomeSequenceActions.teamCreateSuccess.matches(a)?Object.assign(Object.assign({},e),{teamId:a.payload.teamId,folderId:a.payload.folderId,requestInFlight:!1}):s.welcomeSequenceActions.teamCreateError.matches(a)?Object.assign(Object.assign({},e),{requestInFlight:!1}):s.welcomeSequenceActions.submitTeamCreate.matches(a)?Object.assign(Object.assign({},e),{requestInFlight:!0}):s.welcomeSequenceActions.setFocusedCollaboratorIndex.matches(a)?Object.assign(Object.assign({},e),{focusedCollaboratorIndex:a.payload}):e}}),
(function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=n(190                                         ),a=n(207                                   ),r=n(113                                     ),i=n(647                                        ),l=n(85                   ),o=n(657              ),c=n(659                                ),u=n(641                         ),p=n(283                                 ),d=n(660                        ),f=n(662      ),m=n(664                        ),h=n(665       ),g=n(668             ),y=n(670              ),w=n(672                  ),_=n(674                        ),P=n(211              ),k=n(215                                          ),b=n(261                               ),S=n(284                          ),M=n(675                                  );function B(e=!1,s){return!r.fileBrowser.init.matches(s)&&(!!a.fullscreen.beginRenaming.matches(s)||!a.fullscreen.stopRenaming.matches(s)&&e)}function T(e=null,s){var n;return r.fileBrowser.init.matches(s)?(null===(n=l.default().editing_file)||void 0===n?void 0:n.key)||null:t.interactionTest.startTestRun.matches(s)?s.payload.fakeFileKey:a.fullscreen.open.matches(s)?s.payload.file?s.payload.file.key:null:a.fullscreen.newFileLoaded.matches(s)?s.payload.file.key:a.fullscreen.close.matches(s)?null:e}function L(e=null,s){return r.fileBrowser.init.matches(s)?l.getFeatureFlags().c2_live?S.FileVersion.C2:S.FileVersion.UNFLATTEN:a.fullscreen.setFileVersion.matches(s)?s.payload.fileVersion:e}function D(e=!1,s){return a.fullscreen.setNeedsUpgrade.matches(s)?s.payload.needsUpgrade:e}function O(e=S.ProgressBarMode.OFF,s){let n=e;if(r.fileBrowser.init.matches(s)){n=l.default().editing_file?S.ProgressBarMode.HIDE_UI:S.ProgressBarMode.OFF}else a.fullscreen.new_.matches(s)?n=s.payload.openInNewTab||P.desktopApp?S.ProgressBarMode.OFF:S.ProgressBarMode.HIDE_UI:a.fullscreen.open.matches(s)?n=S.ProgressBarMode.HIDE_UI:a.fullscreen.documentLoaded.matches(s)&&e!==S.ProgressBarMode.ON_AND_LOCKED?n=S.ProgressBarMode.OFF:a.fullscreen.setProgressBarMode.matches(s)&&(n=s.payload.mode);return n!==e&&k.fullscreen.isReady()&&k.fullscreen.DEPRECATED_sendMessage("showingProgressBar",{value:n}),n}function v(e=!1,s){return a.fullscreen.new_.matches(s)?!!s.payload.openInNewTab&&e:!(r.fileBrowser.init.matches(s)||a.fullscreen.open.matches(s)||a.fullscreen.reconnectingSucceeded.matches(s)||a.fullscreen.documentLoaded.matches(s)||a.fullscreen.hideAsyncDetachModal.matches(s))&&(!(!a.fullscreen.reconnectingStarted.matches(s)&&!a.fullscreen.showAsyncDetachModal.matches(s))||e)}function F(e=S.OpenDesktopAppModalMode.NONE,s){return a.fullscreen.showOpenDesktopAppModal.matches(s)?s.payload:a.fullscreen.hideOpenDesktopAppModal.matches(s)?S.OpenDesktopAppModalMode.NONE:e}function A(e=null,s){return r.fileBrowser.init.matches(s)?null:a.fullscreen.setSaveStatus.matches(s)?s.payload:e}s.isRenaming=B,s.editingFileKey=T,s.fileVersion=L,s.needsUpgrade=D,s.showingProgressBar=O,s.showingReconnectingModal=v,s.showingOpenDesktopAppModal=F,s.saveStatus=A;const I={sessionID:-1,observingSessionID:-1,allUsers:[]};function U(e=I,s){return r.fileBrowser.init.matches(s)?I:a.fullscreen.updateMultiplayerState.matches(s)?s.payload:a.fullscreen.stopObservingOtherUser.matches(s)?Object.assign(Object.assign({},e),{observingSessionID:-1}):e}function R(e=!1,s){return!!a.fullscreen.showUpgradeBanner.matches(s)||!a.fullscreen.hideUpgradeBanner.matches(s)&&e}function C(e=!1,s){return!!a.fullscreen.showDowntimeBanner.matches(s)||!a.fullscreen.hideDowntimeBanner.matches(s)&&e}function E(e,s){return null==e?{activeTab:b.LeftPanelTab.LAYERS}:a.fullscreen.setLeftPanelTab.matches(s)?Object.assign(Object.assign({},e),{activeTab:s.payload.tab}):e}function N(e=null,s){return a.fullscreen.setEyedropper.matches(s)?s.payload:e}function j(e=null,s){return a.fullscreen.setHyperlinkPopup.matches(s)?s.payload:a.fullscreen.updateHyperlinkPopupPosition.matches(s)?e&&e.data?Object.assign(Object.assign({},e),{position:s.payload.position,size:s.payload.size}):null:e}function H(e=[],s){return a.fullscreen.setRecentlyUsedQuickCommands.matches(s)?s.payload:e}function K(e=null,s){return a.fullscreen.setMostRecentContextMenuClickPosition.matches(s)?s.payload:e}function V(e={count:0,startTime:null,waitTime:0},s){if(a.fullscreen.showProgressBellForSaveAs.matches(s)){const s=Date.now(),n=null===e.startTime?e.waitTime:e.waitTime+(s-e.startTime);return{count:e.count+1,startTime:s,waitTime:n}}const n=a.fullscreen.cancelSaveAs.matches(s),t=a.fullscreen.beginSaveAs.matches(s);if(n||t){const a=(n||t&&s.payload.skipped)&&null!==e.startTime?e.waitTime+Date.now()-e.startTime:0;return{count:e.count+1,startTime:null,waitTime:a}}return e}function x(e={},s){return i.selectionPaintActions.updateCurrentSelectionPaintInPicker.matches(s)?s.payload:e}function q(e=!1,s){return a.fullscreen.setPickerListLayout.matches(s)?s.payload.isListLayout:e}function z(e=!1,s){return a.fullscreen.setInstanceSwapPickerListLayout.matches(s)?s.payload.isListLayout:e}s.saveAsState=V,s.stylePickerListLayout=q,s.instanceSwapPickerListLayout=z,s.fullscreenReducerMap=function(){return{auth:d.auth,editingFileKey:T,fileVersion:L,needsUpgrade:D,showingProgressBar:O,showingReconnectingModal:v,showingOpenDesktopAppModal:F,saveStatus:A,isRenaming:B,pickerShown:h.pickerShown,versionHistory:p.versionHistory,fileFollowers:c.fileFollowers,multiplayer:U,fonts:f.fonts,library:u.library,mirror:o.mirror,styleSets:m.styleSets,selectedSharedColorIndices:m.selectedSharedColorIndices,colorPicker:g.colorPicker,exportableItems:y.exportableItems,showingUpgradeBanner:R,showingDowntimeBanner:C,interactionTests:w.default,leftPanel:E,usedKeyboardShortcuts:_.usedKeyboardShortcuts,welcomeSequence:M.welcomeSequence,eyedropper:N,hyperlinkPopup:j,recentlyUsedQuickCommands:H,mostRecentContextMenuClickPosition:K,saveAsState:V,currentSelectionPaintInPicker:x,stylePickerListLayout:q,instanceSwapPickerListLayout:z}}}),
(function(e,l,a){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const o=a(113                                     );function t(e=null,l){return o.fileBrowser.showModal.matches(l)?e?Object.assign({prevModal:e},l.payload):l.payload:o.fileBrowser.popModalStack.matches(l)?e&&e.prevModal||null:o.fileBrowser.hideModal.matches(l)?null:o.fileBrowser.hideSpecificModal.matches(l)&&e&&l.payload.type===e.type?null:e}l.modalShown=t,l.default=t}),
(function(e,l,a){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const t=a(172                                              );function s(e=[],l){return t.visualBell.enqueue.matches(l)?l.payload.type&&e.length>0&&e[e.length-1].type==l.payload.type?e.slice(0,e.length-1).concat([l.payload]):e.concat([l.payload]):t.visualBell.dequeue.matches(l)?l.payload.type?e.filter(e=>e.type!==l.payload.type):e.slice(1):t.visualBell.clearAll.matches(l)?[]:e}l.visualBell=s,l.default=s}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(185                                 );function o(t=[],e){return n.notifActions.enqueue.matches(e)?t.length>0&&t[t.length-1].type==e.payload.notification.type?[...t.slice(0,t.length-1),e.payload.notification]:[...t,e.payload.notification]:n.notifActions.dequeue.matches(e)?null!=e.payload.type?t.filter(t=>t.type!==e.payload.type):t.slice(1):n.notifActions.clearAll.matches(e)?[]:t}e.notifications=o,e.default=o}),
(function(i,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=t(91                  );!function(i){i.hideWarningNotif=e.actionCreator("DOWNTIME_HIDE_WARNING_NOTIF"),i.hideOngoingNotif=e.actionCreator("DOWNTIME_ONGOING_NOTIF"),i.onTick=e.actionCreator("DOWNTIME_TICK")}(o.downtime||(o.downtime={}))}),
(function(n,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(n){n.warningHidden="WARNING_HIDDEN",n.ongoingHidden="ONGOING_HIDDEN",n.noneHidden="NONE_HIDDEN"}(i.DowntimeNotificationState||(i.DowntimeNotificationState={})),function(n){n.Warning="WARNING",n.Imminent="IMMINENT",n.Ongoing="ONGOING",n.Finished="FINISHED"}(i.DowntimeStatus||(i.DowntimeStatus={}))}),
(function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e(9,1    ),o=e(680                                                            ),a=e(681                                                  );t.default=i.combineReducers({hidingDowntimeNotif:function(n=a.DowntimeNotificationState.noneHidden,t){return o.downtime.hideOngoingNotif.matches(t)?a.DowntimeNotificationState.ongoingHidden:o.downtime.hideWarningNotif.matches(t)?a.DowntimeNotificationState.warningHidden:n},notifMinutesRemaining:function(n=null,t){if(o.downtime.onTick.matches(t)){const n=t.payload.payload.downtimeStartMs-Date.now();return Math.floor(n/1e3/60)}return n},payload:function(n=null,t){return o.downtime.onTick.matches(t)?t.payload.payload:n},status:function(n=a.DowntimeStatus.Finished,t){if(o.downtime.onTick.matches(t)){const{payload:n,hostname:e,currentTimeMs:i}=t.payload;let o=a.DowntimeStatus.Finished;if(n&&n.renderOnHostname&&n.renderOnHostname!==e)return o;const{finished:d,downtimeStartMs:r,warningDurationMs:m,notifDurationMs:s}=t.payload.payload;if(!d){let n=i<r&&r-i<=m,t=i<r&&r-i<=s&&!n;r<=i?o=a.DowntimeStatus.Ongoing:n?o=a.DowntimeStatus.Imminent:t&&(o=a.DowntimeStatus.Warning)}return o}return n}})}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(91                  );!function(e){e.set=n.actionCreator("BLOCKED_UI_LOADING_INDICATOR_SET"),e.remove=n.actionCreator("BLOCKED_UI_LOADING_INDICATOR_REMOVE")}(o.BlockedUILoadingIndicator||(o.BlockedUILoadingIndicator={}))}),
(function(o,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const d=e(683                                                                                                   );function i(o=null,n){return d.BlockedUILoadingIndicator.set.matches(n)?n.payload:d.BlockedUILoadingIndicator.remove.matches(n)?null:o}n.blockedUILoadingIndicator=i,n.default=i}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=r(91                  );!function(e){e.subscribe=function(t){return e.batchSubscribe([t])},e.batchSubscribe=c.actionCreator("REALTIME_BATCH_SUBSCRIBE"),e.unsubscribe=c.actionCreator("REALTIME_UNSUBSCRIBE"),e.reset=c.actionCreator("REALTIME_RESET")}(t.realtime||(t.realtime={}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(9,1    ),r=i(685                                 ),n=i(113                                     );function a(e={},t){if(n.fileBrowser.init.matches(t))return{};if(r.realtime.batchSubscribe.matches(t)){const i=t.payload;let s=null;for(const t of i)e[t.channel]||(s||(s=Object.assign({},e)),s[t.channel]=!0);return s||e}if(r.realtime.reset.matches(t))return{};if(r.realtime.unsubscribe.matches(t)){let i=t.payload,s=Object.assign({},e);return delete s[i],s}return e}t.subscriptions=a,t.realtime=s.combineReducers({subscriptions:a})}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(113                                     ),c=a(206                             ),n=a(338                                 ),r=a(628      );function i(e,t){return e.name<t.name?-1:1}t.getConnectSlackUrl=function(e){return`/slack/${e.id}/connect`},t.getFirstTeamAlphabetically=function(e,t){const a=Object.keys(t.byTeamId).map(t=>e[t]);return a.length?(a.sort(i),a[0]):null},t.getOrderedTeamIds=function(e){if(!e.user)return[];const t=Object.keys(r.filterRolesByUserId(e.roles.byTeamId,e.user.id)).filter(t=>e.teams[t]),a=e.fileBrowserPreferences&&e.fileBrowserPreferences.ordered_team_ids||[],s=new Set(t),c=a.filter(e=>s.has(e)),n=new Set(c);return t.filter(e=>!n.has(e)).concat(c)};const o=n.createReducerWithPrecheck((e,t)=>c.team.fetchedRoles.matches(t)&&t.payload.team.id===e.id?Object.assign(Object.assign({},e),{appData:Object.assign(Object.assign({},e.appData),{fetchedRoles:!0})}):e,{shouldIgnoreAction:e=>!c.team.fetchedRoles.matches(e)});function d(e={},t){if(s.fileBrowser.hydrate.matches(t)){let e={};for(let a of t.payload.teams||[])e[a.id]=a;return e}if(c.team.post.matches(t))return Object.assign(Object.assign({},e),{[t.payload.team.id]:t.payload.team});if(c.team.del.matches(t)){let a=Object.assign({},e);return delete a[t.payload.team.id],a}if(c.team.rename.matches(t)){let a=Object.assign(Object.assign({},e[t.payload.team.id]),{name:t.payload.name});return Object.assign(Object.assign({},e),{[t.payload.team.id]:a})}if(c.team.changeOrgAccess.matches(t)){let a=Object.assign(Object.assign({},e[t.payload.team.id]),{org_access:t.payload.orgAccess});return Object.assign(Object.assign({},e),{[a.id]:a})}if(c.team.put.matches(t)){const a=e[t.payload.team.id];return Object.assign(Object.assign({},e),{[t.payload.team.id]:Object.assign(Object.assign({},a),t.payload.team)})}return t.type,n.reduceObject(e,t,o)}t.teams=d,t.default=d}),
(function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=i(113                                     ),a=i(421                                ),s=i(232                       ),n={target:null,state:s.TooltipState.NONE,position:s.TooltipPosition.BELOW,timeoutID:null};o.tooltip=function(t=n,o){return a.tooltip.update.matches(o)?Object.assign(Object.assign({},t),o.payload.tooltip):e.fileBrowser.init.matches(o)?n:t}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e[e.BUSY=0]="BUSY",e[e.READY=1]="READY"}(i.CommentStatus||(i.CommentStatus={})),i.NEW_COMMENT_ID="new-comment-id",function(e){e[e.FULL=0]="FULL",e[e.REACTIONS=1]="REACTIONS"}(i.EmojiPickerType||(i.EmojiPickerType={})),i.COMMENT_PREFERENCE_ID="comment-preference-picker",i.REACTION_EMOJIS=[{id:"heavy_plus_sign",description:"plus sign"},{id:"+1",description:"thumbs up"},{id:"-1",description:"thumbs down"},{id:"eyes",description:"eyes"},{id:"heart_eyes",description:"heart eyes"},{id:"joy",description:"joy"},{id:"star2",description:"glowing star"}]}),
(function(e,t,s){"use strict";var a=this&&this.__rest||function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]])}return s};Object.defineProperty(t,"__esModule",{value:!0});const n=s(692                                 ),r=s(689                        );function o(){return{replyMessageMeta:[],state:r.CommentStatus.READY,offsetOrNull:null}}t.getDefaultThread=o,t.threads=function(e={},t){if(n.comments.reset.matches(t))return{};if(n.comments.del.matches(t)){if(t.payload.comment.id in e){const s=e,n=t.payload.comment.id;return s[n],a(s,["symbol"==typeof n?n:n+""])}}else if(n.comments.setThreadOffset.matches(t)){if(t.payload.threadId!==r.NEW_COMMENT_ID)return Object.assign(Object.assign({},e),{[t.payload.threadId]:Object.assign(Object.assign(Object.assign({},o()),e[t.payload.threadId]),{offsetOrNull:t.payload.offset})})}else{if(n.comments.setReplyMessage.matches(t))return Object.assign(Object.assign({},e),{[t.payload.threadId]:Object.assign(Object.assign(Object.assign({},o()),e[t.payload.threadId]),{replyMessageMeta:t.payload.messageMeta})});if(n.comments.submitReply.matches(t))return Object.assign(Object.assign({},e),{[t.payload.threadId]:Object.assign(Object.assign(Object.assign({},o()),e[t.payload.threadId]),{state:r.CommentStatus.BUSY})});if(n.comments.resetThread.matches(t))return Object.assign(Object.assign({},e),{[t.payload.threadId]:Object.assign(Object.assign(Object.assign(Object.assign({},o()),e[t.payload.threadId]),{state:r.CommentStatus.READY}),t.payload.resetStatusOnly?{}:{replyMessageMeta:[]})})}return e}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(420              ),i=s(214         ),r=s(111          ),a=s(227                                ),o=s(689                        ),c=s(422                                        ),d=s(690                                  );function l(e,t){if(!e||!t)return null;return e.width-t.x<n.pxToInt(c.commentThreadWidth)+48?{x:-n.pxToInt(c.commentThreadWidth)-48,y:-100}:{x:48,y:-100}}function m(e,s){const{canvasPosition:n,threadOffset:r}=s,a=n&&e?t.canvasPositionToAnchorPosition(e,n):null,o=r||l(e,a),c=a&&o?i.Vector.add(a,o):null;return Object.assign(Object.assign({},s),{anchorPosition:a,threadPosition:c,threadOffset:o})}t.MAX_DRAG_DISTANCE=15,t.canPlaceCommentAtViewportPosition=function(e,t){return!t||i.contains(t,e)},t.getInitialThreadOffset=l,t.newCommentThreadWithoutPosition=function(e,t,s){const{state:n,messageMeta:i,anchorPosition:r}=t;return{id:o.NEW_COMMENT_ID,key:o.NEW_COMMENT_ID,state:n,anchored:!0,canvasPosition:r,threadOffset:t.threadOffset,page:s,isActive:e===o.NEW_COMMENT_ID,comments:[],messageMeta:i,replyMessageMeta:[]}},t.newCommentThread=function(e,t,s){const{state:n,messageMeta:r}=e.newComment,c=e.newComment.anchorPosition,d=c&&s?a.canvasPositionToViewport(s,c):null,m=e.newComment.threadOffset||l(s,d),u=d&&m?i.Vector.add(d,m):null;return{id:o.NEW_COMMENT_ID,key:o.NEW_COMMENT_ID,state:n,anchored:!0,canvasPosition:c,threadOffset:m,anchorPosition:d,threadPosition:u,page:t,isActive:e.activeId===o.NEW_COMMENT_ID,comments:[],messageMeta:r,replyMessageMeta:[]}},t.livegraphFilePermittedUsers=function(e){const t={accessByFile:null,accessByProject:null,accessByTeam:null,pendingFileRolesEmails:[]};if("loaded"!==e.status)return"errors"===e.status&&r.segmentTrackEvent("Livegraph FilePermittedUsers Errors",{errors:JSON.stringify(e.errors)}),t;const{file:s}=e.data;if(!s)return t;const{team:n,project:i}=s,a=e=>({id:e.id,handle:e.handle,img_url:e.imgUrl,email:e.email});t.accessByFile=[];for(const r of s.roles)r.pending?r.pendingEmail&&t.pendingFileRolesEmails.push(r.pendingEmail):r.user&&t.accessByFile.push(a(r.user));if(i){t.accessByProject=[];for(const e of i.roles)!e.pending&&e.user&&t.accessByProject.push(a(e.user));t.isProjectInviteOnly=null!==i.inviteOnlyAt}if(n){t.accessByTeam=[];for(const e of n.roles)!e.pending&&e.user&&t.accessByTeam.push(a(e.user))}return t},t.filePermittedUsers=function(e,t,s){const n={accessByFile:null,accessByProject:null,accessByTeam:null,pendingFileRolesEmails:[]};if(!e)return n;const i=e.team_id,r=e.folder_id;n.accessByFile=[];const a=s.byFileKey[e.key];for(const c in a){const e=a[c];"id"in e.user?n.accessByFile.push(e.user):n.pendingFileRolesEmails.push(e.user.email)}if(i){n.accessByTeam=[];const e=s.byTeamId[i];for(const t in e){const s=e[t];"id"in s.user&&n.accessByTeam.push(s.user)}}const o=r&&t[r];if(r&&o){n.isProjectInviteOnly=o.is_invite_only,n.accessByProject=[];const e=s.byFolderId[r];for(const t in e){const s=e[t];"id"in s.user&&n.accessByProject.push(s.user)}}return n},t.livegraphCommentThreadsInfo=function(e,t,s,n,i){if("loaded"!==e.status)return"errors"===e.status&&r.segmentTrackEvent("Livegraph Comments Errors",{errors:JSON.stringify(e.errors)}),e;const a=e.data.file;if(!a)return{status:"loaded",errors:[],data:[]};const{commentThreads:o,anchorPositionById:c}=n,l=a.currentUserFileFollower&&a.currentUserFileFollower.unreadComments;return{status:"loaded",errors:[],data:o.map(e=>{const n=t[e.id]||d.getDefaultThread(),{state:r,replyMessageMeta:o}=n,m=e.clientMeta&&e.clientMeta.nodeId||"0:1",u=c[e.id],f=[e,...a.comments.filter(t=>t.parentId===e.id).sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime())];return{id:e.id,key:e.key,state:r,anchored:!!u,canvasPosition:u,threadOffset:n.offsetOrNull,page:i(m),isActive:s===e.id,comments:f.map(t=>({id:t.id,key:e.key,parent_id:t.parentId,user_id:t.user.id,created_at:t.createdAt.toISOString(),resolved_at:e.resolvedAt?e.resolvedAt.toISOString():null,deleted_at:null,message_meta:t.messageMeta.map(e=>e.user?{t:e.t,user_id:e.user.id,user_annotated:{id:e.user.id,handle:e.user.handle,img_url:e.user.imgUrl}}:{t:e.t}),client_meta:t.clientMeta?Object.assign(Object.assign(Object.assign({x:t.clientMeta.x,y:t.clientMeta.y},t.clientMeta.nodeId?{node_id:t.clientMeta.nodeId}:{}),t.clientMeta.inFrame?{in_frame:t.clientMeta.inFrame}:{}),t.clientMeta.nodeOffset?{node_offset:t.clientMeta.nodeOffset}:{}):null,order_id:null!==t.orderId?t.orderId.toString():null,reactions:t.reactions.map(e=>({id:e.id,file_comment_id:e.fileCommentId,emoji:e.emoji,user_id:e.userId,user:{id:e.user.id,handle:e.user.handle,img_url:e.user.imgUrl},created_at:e.createdAt.toISOString(),sort_timestamp:e.sortTimestamp.toISOString()})),isUnread:!(!l||!l[t.id]),user:{id:t.user.id,handle:t.user.handle,img_url:t.user.imgUrl}})),messageMeta:[],replyMessageMeta:o}})}},t.canvasPositionToAnchorPosition=((e,t)=>a.canvasPositionToViewport(e,t)),t.convertToCommentThreadInfoWithPosition=m,t.convertToCommentThreadInfosWithPosition=function(e,t){return"loaded"!==t.status?t:{status:"loaded",errors:[],data:t.data.map(t=>m(e,t))}},t.commentThreadInfos=function(e,t,s,n,i,r,a,o){if(!e)return{status:"loading"};const c=[],{anchorPositionById:l}=a;for(const m in t){const e=n[m]||d.getDefaultThread(),a=s[m];if(a){const n=t[m];let d="0:1";a.client_meta&&a.client_meta.node_id&&(d=a.client_meta.node_id);const u=l[m];c.push({id:m,key:a.key,state:e.state,canvasPosition:u,threadOffset:e.offsetOrNull,anchored:!!u,page:o(d),isActive:i===m,comments:n.map(e=>Object.assign(Object.assign({},s[e]),{isUnread:e in r})).sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()),messageMeta:[],replyMessageMeta:e.replyMessageMeta})}}return{status:"loaded",errors:[],data:c}},t.getNumUnreadComments=function(e){if("loaded"!==e.status)return 0;let t=0;for(const s of e.data)if(s.anchored&&!s.comments[0].resolved_at)for(const e of s.comments)e.isUnread&&t++;return t},t.getUrl=function(e,t){var s,n;let i=`/${t?"proto":"file"}/${e.key}`;return(null===(s=e.client_meta)||void 0===s?void 0:s.node_id)&&(i+=`?node-id=${e.client_meta.node_id}`),i+=`#${null!==(n=e.parent_id)&&void 0!==n?n:e.id}`,new URL(i,document.baseURI).href},t.getReactionEmojiDescription=(e=>{var t;return(null===(t=o.REACTION_EMOJIS.find(t=>`:${t.id}:`===e))||void 0===t?void 0:t.description)||e})}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(91                  ),n=i(231       ),o=i(108     ),s=i(98                  ),r=i(172                                              ),c=i(207                                   ),m=i(100                               ),l=i(186                      ),d=i(215                                          ),_=i(261                               ),p=i(227                                ),C=i(689                        ),E=i(208                               ),u=i(98                  ),h=i(691                     ),f=i(90             ),T=i(99                      ),M=i(111          ),S=i(85                   );!function(e){e.reset=a.actionCreator("COMMENTS_RESET"),e.post=a.actionCreator("COMMENTS_POST"),e.put=a.actionCreator("COMMENTS_PUT"),e.del=a.actionCreator("COMMENTS_DEL"),e.fetchedUnread=a.actionCreator("COMMENTS_FETCHED_UNREAD"),e.postUnread=a.actionCreator("COMMENTS_POST_UNREAD"),e.deleteUnread=a.actionCreator("COMMENTS_DELETE_UNREAD"),e.setThreadOffset=a.actionCreator("COMMENTS_SET_THREAD_OFFSET"),e.setEditing=a.actionCreator("COMMENTS_SET_EDITING"),e.setReplyMessage=a.actionCreator("COMMENTS_SET_REPLY_MESSAGE"),e.setNewCommentMessage=a.actionCreator("COMMENTS_SET_NEW_COMMENT_MESSAGE"),e.resetThread=a.actionCreator("COMMENTS_RESET_THREAD"),e.resetNewComment=a.actionCreator("COMMENTS_RESET_NEW_COMMENT"),e.setViewportInfo=a.actionCreator("COMMENTS_SET_VIEWPORT_INFO"),e.setShowResolvedComments=a.actionCreator("COMMENTS_SET_SHOW_RESOLVED_COMMENTS"),e.setShowOnlyParticipatingComments=a.actionCreator("COMMENTS_SET_SHOW_ONLY_MY_COMMENTS"),e.setEmojiPicker=a.actionCreator("COMMENTS_SHOW_EMOJI_PICKER"),e.setTypeahead=a.actionCreator("COMMENTS_SET_TYPEAHEAD"),e.setTypeaheadPositionOffset=a.actionCreator("COMMENTS_SET_TYPEAHEAD_POSITION_OFFSET"),e.setActive=a.actionCreator("COMMENTS_SET_ACTIVE"),e.setInitialThreadAlreadyOpened=a.actionCreator("COMMENTS_SET_INITIAL_THREAD_ALREADY_OPENED"),e.onResponseError=m.asyncActionCreator("ON_RESPONSE_ERROR",(e,t)=>{const{resp:i}=t;let a=i.data&&i.data.message||"An error occurred";e.dispatch(u.flashActions.error(a))}),e.loaded=a.actionCreator("COMMENTS_LOADED"),e.initCommentsForFile=m.asyncActionCreator("COMMENTS_INIT_COMMENTS_FOR_FILE",(t,{fileKey:i})=>{o.default.get(`/api/file/${i}/comments`).then(({data:a})=>{let n=t.getState();if(E.editingFileKey(n.selectedView)===i){for(let i of a.meta)t.dispatch(e.post({comment:i,userInitiated:!1}));t.dispatch(e.loaded())}}),o.default.get(`/api/file/${i}/unread_comments`).then(({data:a})=>{if(E.editingFileKey(t.getState().selectedView)!==i)return;const n=a.meta||{};for(let e in n)n[e]||delete n[e];t.dispatch(e.fetchedUnread({unreadIds:n}))})}),e.setNewAnchorPositionFromCanvasPosition=m.asyncActionCreator("COMMENTS_SET_NEW_ANCHOR_WITH_CANVAS_POSITION",(t,i)=>{const{position:a,viewport:n}=i,o=n||(()=>S.getFeatureFlags().comments_perf_redux?d.fullscreen.getViewportInfo():t.getState().comments.viewportInfo)();t.dispatch(e.setNewAnchorPosition({position:o?p.viewportPositionToCanvas(o,a):a}))}),e.setNewAnchorPosition=m.asyncActionCreator("COMMENTS_SET_NEW_ANCHOR_POSITION",(e,t)=>{if("fullscreen"===e.getState().selectedView.view){const{x:e,y:i}=t.position;_.Fullscreen.setActiveCommentNode(_.Fullscreen.getCommentAnchorNodeAtPosition(e,i)||n.invalidGUIDStr)}}),e.setNewCommentActive=m.asyncActionCreator("COMMENTS_SET_NEW_COMMENT_ACTIVE",(t,i)=>{let a=t.getState();if(a.comments.activeId!==C.NEW_COMMENT_ID&&t.dispatch(e.setThreadOffset({threadId:C.NEW_COMMENT_ID,offset:null})),"fullscreen"===a.selectedView.view)if(a.comments.newComment.anchorPosition){const{x:e,y:t}=a.comments.newComment.anchorPosition;_.Fullscreen.setActiveCommentNode(_.Fullscreen.getCommentAnchorNodeAtPosition(e,t)||n.invalidGUIDStr)}else _.Fullscreen.setActiveCommentNode(n.invalidGUIDStr)}),e.deactivateActiveComment=m.asyncActionCreator("COMMENTS_DEACTIVATE_ACTIVE_COMMENT",(e,t)=>{"fullscreen"===e.getState().selectedView.view&&_.Fullscreen.setActiveCommentNode(n.invalidGUIDStr)}),e.submitNewComment=m.asyncActionCreator("COMMENTS_SUBMIT_NEW_COMMENT",(t,i)=>{const a=t.getState(),n=E.editingFileKey(a.selectedView);if(!n)return;const s=a.comments.newComment,{canvasPosition:m,nodeId:d,nodeOffset:_,inFrame:p}=i,u={x:m.x,y:m.y,node_id:d,node_offset:_,in_frame:p};let h=s.messageMeta;o.default.post(`/api/file/${n}/comments`,{file_key:n,message_meta:h,client_meta:u,prototype_mode:"prototype"===a.selectedView.view}).then(({data:i})=>{if(E.editingFileKey(t.getState().selectedView)!==n)return;i.message&&i.message.warning_message&&t.dispatch(r.visualBell.enqueue({type:"at-mention-error",message:i.message.warning_message})),i.message&&i.message.is_new_file_follower&&t.dispatch(r.visualBell.enqueue({message:"You will be notified about replies",type:"comments-opted-in",button:{text:"Manage",action:()=>{t.dispatch(e.deactivateActiveComment()),t.dispatch(c.fullscreen.showPicker({id:C.COMMENT_PREFERENCE_ID}))}}}));let o=i.meta;t.dispatch(e.post({comment:o,userInitiated:!1}));const s="fullscreen"===a.selectedView.view?"fullscreen":"prototype";l.trackEventForFile("Comment Submitted",n,a,{commentId:o.id,locationX:m&&m.x,locationY:m&&m.y,nodeId:d,nodeOffsetX:_&&_.x,nodeOffsetY:_&&_.y,selectedView:s})}).catch(i=>{e.onResponseError(i),t.dispatch(e.resetNewComment({resetStatusOnly:!0}))})}),e.submitReply=m.asyncActionCreator("COMMENTS_SUBMIT_REPLY",(t,i)=>{const a=t.getState(),n=E.editingFileKey(a.selectedView);if(!n)return;let s=a.comments.threads[i.threadId].replyMessageMeta;o.default.post(`/api/file/${n}/comments/${i.threadId}`,{file_key:n,message_meta:s,prototype_mode:"prototype"===a.selectedView.view}).then(({data:i})=>{if(E.editingFileKey(t.getState().selectedView)!==n)return;i.message&&i.message.warning_message&&t.dispatch(r.visualBell.enqueue({type:"at-mention-error",message:i.message.warning_message})),i.message&&i.message.is_new_file_follower&&t.dispatch(r.visualBell.enqueue({message:"You will be notified about replies",type:"comments-opted-in",button:{text:"Manage",action:()=>{t.dispatch(e.deactivateActiveComment()),t.dispatch(c.fullscreen.showPicker({id:C.COMMENT_PREFERENCE_ID}))}}}));let o=i.meta;t.dispatch(e.post({comment:o,userInitiated:!1}));const s="fullscreen"===a.selectedView.view?"fullscreen":"prototype";l.trackEventForFile("Comment Submitted",n,a,{commentId:o.id,parentCommentId:o.id,selectedView:s})}).catch(a=>{e.onResponseError(a),t.dispatch(e.resetThread({threadId:i.threadId,resetStatusOnly:!0}))})}),e.stopEditing=a.actionCreator("COMMENTS_STOP_EDITING"),e.showThread=m.asyncActionCreator("COMMENTS_SHOW_THREAD",(t,i)=>{const a=t.getState(),{thread:o,viewportOverride:s}=i,r=o.comments[0],c=s||(S.getFeatureFlags().comments_perf_redux?d.fullscreen.getViewportInfo():t.getState().comments.viewportInfo);if(!c)return;if(!r)return;const m=r.client_meta,l=m&&m.node_id;l&&"fullscreen"===a.selectedView.view&&_.Fullscreen.setCurrentPageFromNode(l);const C=c&&o.canvasPosition?h.canvasPositionToAnchorPosition(c,o.canvasPosition):null;if("fullscreen"===a.selectedView.view&&C&&(C.x-48<c.x||C.x+48>c.x+c.width||C.y-48<c.y||C.y+48>c.y+c.height)){const{x:e,y:t}=p.viewportPositionToCanvas(c,C);_.Fullscreen.setCanvasSpaceCenter(e,t)}const E=o.id;E&&E!==a.comments.activeId&&t.dispatch(e.setThreadOffset({threadId:E,offset:null})),t.dispatch(e.readThread({thread:o})),M.segmentTrackEvent("Comment Thread Read",{commentThreadId:E}),"fullscreen"===a.selectedView.view&&_.Fullscreen.setActiveCommentNode(l||n.invalidGUIDStr),setTimeout(()=>{t.dispatch(e.setActive({threadId:E}))},200)}),e.setMessageMeta=m.asyncActionCreator("COMMENTS_SET_MESSAGE_META",(t,{comment:{key:i,id:a,parent_id:n},messageMeta:s})=>{const c=o.default.put(`/api/file/${i}/comments/${a}`,{message_meta:s}).then(({data:i})=>{i.message&&i.message.warning_message&&(t.dispatch(e.put({comment:i.meta})),t.dispatch(r.visualBell.enqueue({type:"at-mention-error",message:i.message.warning_message})))});T.flashOnFailure(c,t,"An error occurred while editing this comment."),f.livegraphCommentsLaunchState.livelaunch?f.livegraphClient.applyUpdates({Comment:{[a]:{messageMeta:s.map(e=>({t:void 0===e.t?null:e.t,userId:void 0===e.user_id?null:e.user_id}))}}},c):T.optimisticRequest(c,t.dispatch,e.put({comment:{id:a,parent_id:n,message_meta:s}}))}),e.setClientMeta=m.asyncActionCreator("COMMENTS_SET_CLIENT_META",(t,{thread:{key:i,id:a},clientMeta:n})=>{const s=o.default.put(`/api/file/${i}/comments/${a}`,{client_meta:n});T.flashOnFailure(s,t,"An error occurred while moving this comment."),f.livegraphCommentsLaunchState.livelaunch?f.livegraphClient.applyUpdates({Comment:{[a]:{clientMeta:{x:n.x,y:n.y,nodeId:void 0===n.node_id?null:n.node_id,nodeOffset:void 0===n.node_offset?null:n.node_offset,inFrame:void 0===n.in_frame?null:n.in_frame}}}},s):T.optimisticRequest(s,t.dispatch,e.put({comment:{id:a,parent_id:null,client_meta:n}}))}),e.setResolved=m.asyncActionCreator("COMMENTS_SET_RESOLVED",(t,{thread:{key:i,id:a},resolved:n})=>{const s=t.getState();n&&s.comments.activeId===a&&!s.comments.showResolved&&t.dispatch(e.deactivateActiveComment());const r=n?"true":"false",c=o.default.put(`/api/file/${i}/comments/${a}`,{resolved_at:r}),m=`An error occurred while ${n?"resolving":"unresolving"} this comment.`;T.flashOnFailure(c,t,m),f.livegraphCommentsLaunchState.livelaunch?f.livegraphClient.applyUpdates({Comment:{[a]:{resolvedAt:n?new Date:null}}},c):T.optimisticRequest(c,t.dispatch,e.put({comment:{id:a,parent_id:null,resolved_at:r}}))}),e.setDeleted=m.asyncActionCreator("COMMENTS_SET_DELETED",(t,{comment:{key:i,id:a,parent_id:n}})=>{const s=o.default.del(`/api/file/${i}/comments/${a}`);if(T.flashOnFailure(s,t,"An error occurred while deleting this comment."),f.livegraphCommentsLaunchState.livelaunch){const i=f.livegraphClient.applyUpdates({Comment:{[a]:null}},s);T.optimisticRequest(i,t.dispatch,e.del({comment:{id:a,parent_id:n}}))}else T.optimisticRequest(s,t.dispatch,e.del({comment:{id:a,parent_id:n}}))}),e.toggleCommentReaction=m.asyncActionCreator("COMMENTS_TOGGLE_REACTION",(t,i)=>{const{comment:a,emoji:n}=i,o=t.getState().user;if(!o)return;const s=a.reactions.find(e=>e.emoji===n&&e.user_id===o.id);s?t.dispatch(e.removeCommentReaction({comment:i.comment,reaction:s})):t.dispatch(e.addCommentReaction({comment:i.comment,reaction:{emoji:n}}))}),e.postReaction=a.actionCreator("COMMENTS_POST_REACTION"),e.addCommentReaction=m.asyncActionCreator("COMMENTS_ADD_REACTION",(t,i)=>{const a=t.getState(),n=a.user;if(!n)return;const s=o.default.post(`/api/file/${i.comment.key}/comments/${i.comment.id}/reactions`,{emoji:i.reaction.emoji,prototype_mode:"prototype"===a.selectedView.view});T.flashOnFailure(s,t,"An error occurred while adding a comment reaction.");const r=(new Date).toISOString(),c={id:`${i.comment.id}_${i.reaction.emoji}_${n.id}`,file_comment_id:i.comment.id,emoji:i.reaction.emoji,user_id:n.id,user:Object.assign({},n),created_at:r,sort_timestamp:r};f.livegraphCommentsLaunchState.livelaunch?f.livegraphClient.applyUpdates({CommentReaction:{[c.id]:{fileCommentId:c.file_comment_id,emoji:c.emoji,userId:c.user_id,createdAt:new Date(c.created_at),sortTimestamp:new Date(c.sort_timestamp)}}},s):T.optimisticRequest(s,t.dispatch,e.postReaction({reaction:c}))}),e.delReactions=a.actionCreator("COMMENTS_DEL_REACTION"),e.removeCommentReaction=m.asyncActionCreator("COMMENTS_REMOVE_REACTION",(t,i)=>{var a;const n=o.default.del(`/api/file/${i.comment.key}/comments/${i.comment.id}/reactions`,{emoji:i.reaction.emoji});T.flashOnFailure(n,t,"An error occurred while removing a comment reaction.");const s=null===(a=t.getState().user)||void 0===a?void 0:a.id,r=i.comment.reactions.filter(e=>e.emoji===i.reaction.emoji&&e.user_id===s).map(e=>e.id);if(f.livegraphCommentsLaunchState.livelaunch){const e=r.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:null}),Object.create(null));f.livegraphClient.applyUpdates({CommentReaction:e},n)}else T.optimisticRequest(n,t.dispatch,e.delReactions({file_comment_id:i.comment.id,file_comment_reaction_ids:r}))}),e.readThread=m.optimisticActionCreator("COMMENTS_READ_THREAD",(e,t,i)=>{const a=e.getState(),{thread:n}=t,r=E.editingFileKey(a.selectedView);if(r&&n.comments.length){const t=n.comments.map(({id:e})=>e);o.default.del(`/api/file/${r}/unread_comments`,{comment_ids:t}).then(({data:t})=>{e.dispatch(m.optimistActions.commit(i))}).catch(t=>{try{t=JSON.parse(t),e.dispatch(s.flashActions.error(t.message))}catch(a){e.dispatch(s.flashActions.error("An error occurred while marking a comment as read."))}e.dispatch(m.optimistActions.revert(i))})}})}(t.comments||(t.comments={}))}),
(function(e,t,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=m(692                                 ),n=m(689                        );t.activeId=function(e=null,t){return c.comments.reset.matches(t)||c.comments.deactivateActiveComment.matches(t)?null:c.comments.setActive.matches(t)?t.payload.threadId:c.comments.setNewCommentActive.matches(t)?n.NEW_COMMENT_ID:c.comments.del.matches(t)&&t.payload.comment.id===e?null:e}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(692                                 );t.commentsById=function(e={},t){if(n.comments.reset.matches(t))return{};if(n.comments.put.matches(t)||n.comments.post.matches(t)){let s=t.payload.comment;return Object.assign(Object.assign({},e),{[s.id]:Object.assign(Object.assign({},e[s.id]),s)})}if(n.comments.del.matches(t)){let s=Object.assign({},e),n=t.payload.comment;return delete s[n.id],n.parent_id||Object.keys(e).forEach(t=>{e[t].parent_id===n.id&&delete s[t]}),s}if(n.comments.postReaction.matches(t)){const s=t.payload.reaction,n=s.file_comment_id;return e[n]?Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},e[n]),{reactions:e[n].reactions.concat([s])})}):e}if(n.comments.delReactions.matches(t)){const s=t.payload.file_comment_id,n=new Set(t.payload.file_comment_reaction_ids);return e[s]?Object.assign(Object.assign({},e),{[s]:Object.assign(Object.assign({},e[s]),{reactions:e[s].reactions.filter(e=>!n.has(e.id))})}):e}return e}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(692                                 );t.commentIdsByThread=function(e={},t){if(i.comments.reset.matches(t))return{};if(i.comments.put.matches(t)||i.comments.post.matches(t)){let n=t.payload.comment,i=n.parent_id||n.id;if(i in e){for(let t of e[i])if(t===n.id)return e;return Object.assign(Object.assign({},e),{[i]:e[i].concat([n.id])})}return Object.assign(Object.assign({},e),{[i]:[n.id]})}if(i.comments.del.matches(t)){let n=t.payload.comment;if(n.parent_id){let t=n.parent_id,i=e[t];if(i){let s=i.indexOf(n.id);if(s>=0)return Object.assign(Object.assign({},e),{[t]:i.slice(0,s).concat(i.slice(s+1))})}}else if(n.id in e){let t=Object.assign({},e);return delete t[n.id],t}return e}return e}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(692                                 ),n=s(689                        ),m={messageMeta:[],state:n.CommentStatus.READY,anchorPosition:null,threadOffset:null};t.newComment=function(e=m,t){return a.comments.reset.matches(t)?m:a.comments.setNewCommentMessage.matches(t)?Object.assign(Object.assign({},e),{messageMeta:t.payload.messageMeta}):a.comments.setThreadOffset.matches(t)?t.payload.threadId===n.NEW_COMMENT_ID?Object.assign(Object.assign({},e),{threadOffset:t.payload.offset}):e:a.comments.setNewAnchorPosition.matches(t)?Object.assign(Object.assign({},e),{anchorPosition:t.payload.position}):a.comments.submitNewComment.matches(t)?Object.assign(Object.assign({},e),{state:n.CommentStatus.BUSY}):a.comments.resetNewComment.matches(t)?t.payload.resetStatusOnly?Object.assign(Object.assign({},e),{state:n.CommentStatus.READY}):m:e}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(692                                 );t.unreadIds=function(e={},t){if(a.comments.reset.matches(t))return{};if(a.comments.fetchedUnread.matches(t))return t.payload.unreadIds;if(a.comments.postUnread.matches(t))return t.payload.commentId in e?e:Object.assign(Object.assign({},e),{[t.payload.commentId]:!0});if(a.comments.deleteUnread.matches(t)){if(!(t.payload.commentId in e))return e;let n=Object.assign({},e);return delete n[t.payload.commentId],n}if(a.comments.del.matches(t)){if(!(t.payload.comment.id in e))return e;let n=Object.assign({},e);return delete n[t.payload.comment.id],n}return e}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=s(692                                 );e.editingComment=function(t=null,e){return n.comments.reset.matches(e)||n.comments.stopEditing.matches(e)||n.comments.setMessageMeta.matches(e)?null:n.comments.setEditing.matches(e)?e.payload:t}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(692                                 );t.viewportInfo=function(e=null,t){return o.comments.reset.matches(t)?null:o.comments.setViewportInfo.matches(t)?t.payload.viewportInfo:e}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(692                                 );e.showResolved=function(t=!1,e){return!s.comments.reset.matches(e)&&(s.comments.setShowResolvedComments.matches(e)?e.payload.showResolved:t)},e.showOnlyParticipating=function(t=!1,e){return s.comments.setShowOnlyParticipatingComments.matches(e)?e.payload.showOnlyParticipating:t}}),
(function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const m=c(692                                 );t.emojiPicker=function(e=null,t){return m.comments.reset.matches(t)||m.comments.setActive.matches(t)||m.comments.setNewCommentActive.matches(t)||m.comments.deactivateActiveComment.matches(t)?null:m.comments.setEmojiPicker.matches(t)?t.payload.visible?Object.assign({},t.payload):null:e}}),
(function(e,t,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=m(692                                 );t.typeahead=function(e=null,t){return s.comments.reset.matches(t)||s.comments.setActive.matches(t)||s.comments.setNewCommentActive.matches(t)||s.comments.deactivateActiveComment.matches(t)?null:s.comments.setTypeahead.matches(t)?t.payload:e},t.typeaheadPositionOffset=function(e={x:0,y:0},t){return s.comments.reset.matches(t)||s.comments.setActive.matches(t)||s.comments.setNewCommentActive.matches(t)||s.comments.deactivateActiveComment.matches(t)?{x:0,y:0}:s.comments.setTypeaheadPositionOffset.matches(t)?t.payload:e}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(692                                 );n.initialThreadAlreadyOpened=function(e=!1,n){return a.comments.setInitialThreadAlreadyOpened.matches(n)?n.payload.openInitialThread:e}}),
(function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=c(692                                 );t.loaded=function(e=!1,t){return!n.comments.reset.matches(t)&&(!!n.comments.loaded.matches(t)||e)}}),
(function(e,d,t){"use strict";Object.defineProperty(d,"__esModule",{value:!0});const i=t(9,1    ),o=t(693          ),n=t(694               ),a=t(695                      ),s=t(690        ),m=t(696            ),r=t(697           ),c=t(698                ),h=t(699              ),_=t(700              ),l=t(701             ),y=t(702          ),p=t(703                           ),w=t(704       );d.comments=i.combineReducers({activeId:o.activeId,commentsById:n.commentsById,commentIdsByThread:a.commentIdsByThread,threads:s.threads,newComment:m.newComment,unreadIds:r.unreadIds,editingComment:c.editingComment,viewportInfo:h.viewportInfo,showOnlyParticipating:_.showOnlyParticipating,showResolved:_.showResolved,emojiPicker:l.emojiPicker,typeahead:y.typeahead,typeaheadPositionOffset:y.typeaheadPositionOffset,initialThreadAlreadyOpened:p.initialThreadAlreadyOpened,loaded:w.loaded})}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(91                  );!function(e){e.toggleFullScreen=r.actionCreator("WINDOW_TOGGLE_FULL_SCREEN"),e.enterFullScreen=r.actionCreator("WINDOW_ENTER_FULL_SCREEN"),e.exitFullScreen=r.actionCreator("WINDOW_EXIT_FULL_SCREEN"),e.didEnterFullScreen=r.actionCreator("WINDOW_DID_ENTER_FULL_SCREEN"),e.didExitFullScreen=r.actionCreator("WINDOW_DID_EXIT_FULL_SCREEN")}(t.appWindow||(t.appWindow={}))}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=i(706                                   );n.defaultAppWindow={inFullScreenMode:!!document.fullscreenElement},n.appWindow=function(e=n.defaultAppWindow,i){return t.appWindow.didEnterFullScreen.matches(i)?Object.assign(Object.assign({},e),{inFullScreenMode:!0}):t.appWindow.didExitFullScreen.matches(i)?Object.assign(Object.assign({},e),{inFullScreenMode:!1}):e}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(189                             ),s=o(113                                     );t.orgById=function(e=Object.create(null),t){if(s.fileBrowser.hydrate.matches(t)){const e=Object.create(null);for(let o of t.payload.orgs||[])o&&(e[o.id]=o);return e}if(r.orgs.put.matches(t)){const o=t.payload.org;return Object.assign(Object.assign({},e),{[o.id]:o})}return e}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(113                                     );t.userStateLoaded=function(e=!1,t){return!!o.fileBrowser.setUserStateLoaded.matches(t)||e}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=i(108     ),n=i(91                  ),o=i(93                                   ),r=i(710                                   ),s=i(100                               ),c=i(125                        );!function(t){t.setAll=n.actionCreator("ORG_DOMAIN_SET_ALL"),t.isFetching=n.actionCreator("ORG_DOMAINS_IS_FETCHING"),t.getAll=s.asyncActionCreator("ORG_DOMAINS_GET_ALL",(t,e)=>{const i=t.getState(),n=i.orgDomains;if(!i.currentOrgId||!c.canMemberOrg(i.currentOrgId,i)||n.isFetching)return;const s=Date.now(),g=!n.fetchedAt||n.fetchedAt+72e5<s;(e.force||g)&&(t.dispatch(r.orgDomains.isFetching({fetching:!0})),a.default.get(`/api/orgs/${i.currentOrgId}/domains`).then(e=>{t.dispatch(r.orgDomains.setAll({domains:e.data.meta,fetched_at:s})),t.dispatch(r.orgDomains.isFetching({fetching:!1}))}).catch(e=>{var i;t.dispatch(r.orgDomains.isFetching({fetching:!1})),t.dispatch(o.flash.flash((null===(i=e.data)||void 0===i?void 0:i.message)||"An error occurred while fetching domains.",5e3)),console.error(e)}))})}(e.orgDomains||(e.orgDomains={}))}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(710                                   ),s=n(9,1    ),c=n(189                             );function o(t=[],e){return i.orgDomains.setAll.matches(e)?e.payload.domains:c.orgs.switchActiveOrgAndSetCurrentOrgId.matches(e)?[]:t}function r(t=!1,e){return!c.orgs.switchActiveOrgAndSetCurrentOrgId.matches(e)&&(i.orgDomains.isFetching.matches(e)?e.payload.fetching:t)}function a(t=null,e){return i.orgDomains.setAll.matches(e)?e.payload.fetched_at:c.orgs.switchActiveOrgAndSetCurrentOrgId.matches(e)?null:t}e.domains=o,e.isFetching=r,e.fetchedAt=a,e.orgDomains=s.combineReducers({domains:o,isFetching:r,fetchedAt:a})}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(189                             ),a=r(113                                     ),i=r(317                       );t.currentOrgId=function(e=null,t){return a.fileBrowser.init.matches(t)||a.fileBrowser.hydrate.matches(t)?i.getLastSelectedOrgId():s.orgs.setCurrentOrgId.matches(t)?t.payload.orgId:e}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=s(113                                     );a.hasPersonalSpace=function(e=!0,a){return o.fileBrowser.hydrate.matches(a)?!a.payload.disable_personal:e}}),
(function(r,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const e=o(91                  );!function(r){r.startDrag=e.actionCreator("DRAG_AND_DROP_START"),r.stopDrag=e.actionCreator("DRAG_AND_DROP_STOP")}(t.dragAndDrop||(t.dragAndDrop={}))}),
(function(e,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e){e[e.Folder=0]="Folder",e[e.Team=1]="Team",e[e.None=2]="None"}(a.DragDataType||(a.DragDataType={}))}),
(function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e(714                                      ),d={type:e(715                             ).DragDataType.None,data:null};function n(a=d,t){return r.dragAndDrop.startDrag.matches(t)?Object.assign(Object.assign({},a),t.payload):r.dragAndDrop.stopDrag.matches(t)?d:a}t.dragState=n,t.default=n}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(108     ),s=o(100               ).asyncActionCreator("SET_FAVORITE_FONTS",(e,t)=>{r.default.put("/api/user/favorite_fonts",{fonts:t}).then().catch(e=>{console.error("Failed to save favorite fonts to user profile",e)})});t.favoriteFonts={setFavoriteFonts:s}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=o(113                                     ),s=o(717                               );e.userFavoriteFonts=function(t=[],e){return a.fileBrowser.hydrate.matches(e)&&(t=e.payload.user_favorite_fonts||[]),s.favoriteFonts.setFavoriteFonts.matches(e)&&(t=e.payload),t}}),
(function(s,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(661                             ),t=o(315       );e.initialState={uploadsRemaining:{},uploadsLaunched:0,unsuccessfulUploads:[],successfulUploads:[],collisions:[],warnings:[],fontsToDelete:{},unsuccessfulDeletes:[],successfulDeletes:[],fontsByResourceId:{}},e.sharedFonts=function(s=e.initialState,o){if(n.sharedFonts.uploadFonts.matches(o)){const e=Object.assign({},s);e.uploadsRemaining=Object.assign({},e.uploadsRemaining);for(const s in o.payload.fonts)e.uploadsLaunched++,e.uploadsRemaining[s]={file:o.payload.fonts[s],progress:0};return e}if(n.sharedFonts.uploadFontProgress.matches(o)){const e=Object.assign({},s);return e.uploadsRemaining=Object.assign({},e.uploadsRemaining),e.uploadsRemaining[o.payload.uploadId]=Object.assign(Object.assign({},e.uploadsRemaining[o.payload.uploadId]),{progress:o.payload.progress}),e}if(n.sharedFonts.uploadFontSuccess.matches(o)){const e=Object.assign({},s);if(0===e.uploadsLaunched)return e;e.successfulUploads=[...e.successfulUploads,o.payload.filename];const{uploadId:n}=o.payload;return n&&(e.uploadsRemaining=Object.assign({},e.uploadsRemaining),delete e.uploadsRemaining[n]),e}if(n.sharedFonts.uploadFontFailure.matches(o)){const e=Object.assign({},s);return 0===e.uploadsLaunched?e:(o.payload.collision&&null!=o.payload.uploadId?(e.collisions=[...e.collisions,Object.assign(Object.assign({},o.payload.collision),{file:e.uploadsRemaining[o.payload.uploadId].file})],e.uploadsLaunched--):e.unsuccessfulUploads=[...e.unsuccessfulUploads,{filename:o.payload.filename,message:o.payload.message}],o.payload.uploadId&&(e.uploadsRemaining=Object.assign({},e.uploadsRemaining),delete e.uploadsRemaining[o.payload.uploadId]),e)}if(n.sharedFonts.uploadFontWarning.matches(o)){const e=Object.assign({},s);return e.warnings.push(o.payload),e}if(n.sharedFonts.toggleFontsToDelete.matches(o)){const e=Object.assign({},s);return e.fontsToDelete=Object.assign({},e.fontsToDelete),o.payload.fonts.forEach(s=>{const n=()=>{delete e.fontsToDelete[s.id]},t=()=>{e.fontsToDelete[s.id]=s};null!=o.payload.checked?o.payload.checked?t():n():e.fontsToDelete[s.id]?n():t()}),e}if(n.sharedFonts.deleteFonts.matches(o))return Object.assign(Object.assign({},s),{successfulDeletes:[],unsuccessfulDeletes:[]});if(n.sharedFonts.deleteFontComplete.matches(o)){const e=Object.assign({},s);return e.unsuccessfulDeletes=[...e.unsuccessfulDeletes],e.successfulDeletes=[...e.successfulDeletes],e.fontsByResourceId=Object.assign({},e.fontsByResourceId),e.fontsToDelete=Object.assign({},e.fontsToDelete),Object.keys(e.fontsToDelete).forEach(s=>{o.payload.errors[s]?e.unsuccessfulDeletes.push(s):(delete e.fontsToDelete[s],e.successfulDeletes.push(s))}),e}if(n.sharedFonts.clearFontsToDelete.matches(o))return Object.assign(Object.assign({},s),{fontsToDelete:{},unsuccessfulDeletes:[],successfulDeletes:[]});if(n.sharedFonts.dismissFontCollision.matches(o)){const e=Object.assign({},s);return e.collisions=e.collisions.slice(1),e}if(n.sharedFonts.dismissFontWarning.matches(o)){const e=Object.assign({},s);return e.warnings=e.warnings.slice(1),e}if(n.sharedFonts.clearFontUploadResults.matches(o))return Object.assign(Object.assign({},s),{uploadsRemaining:{},uploadsLaunched:0,unsuccessfulUploads:[],successfulUploads:[],collisions:[],warnings:[]});if(n.sharedFonts.updateSharedFontList.matches(o)){const e=Object.assign({},s);return e.fontsByResourceId={},o.payload.forEach(s=>{const o=t.uniqueResourceIDForFont(s);e.fontsByResourceId[o]||(e.fontsByResourceId[o]={}),e.fontsByResourceId[o][s.family]||(e.fontsByResourceId[o][s.family]={}),e.fontsByResourceId[o][s.family][s.style]=s}),e}if(n.sharedFonts.put.matches(o)){const e=Object.assign({},s),n=t.uniqueResourceIDForFont(o.payload.font),{family:a,style:l}=o.payload.font;return e.fontsByResourceId=Object.assign({},e.fontsByResourceId),e.fontsByResourceId[n]=Object.assign({},e.fontsByResourceId[n]),e.fontsByResourceId[n][a]=Object.assign({},e.fontsByResourceId[n][a]),e.fontsByResourceId[n][a][l]=o.payload.font,e}if(n.sharedFonts.del.matches(o)){const e=Object.assign({},s);e.fontsByResourceId=Object.assign({},e.fontsByResourceId);const n=t.uniqueResourceIDForFont(o.payload.font),{family:a,style:l}=o.payload.font;return e.fontsByResourceId[n]=Object.assign({},e.fontsByResourceId[n]),e.fontsByResourceId[n][a]=Object.assign({},e.fontsByResourceId[n][a]),delete e.fontsByResourceId[n][a][l],0===Object.keys(e.fontsByResourceId[n][a]).length&&delete e.fontsByResourceId[n][a],0===Object.keys(e.fontsByResourceId[n]).length&&delete e.fontsByResourceId[n],e}return s}}),
(function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=o(620                                 ),a=o(338                                 );r.orgUserReducer=a.createReducerWithPrecheck(function(e,r){return e&&r.payload&&r.payload.orgUser&&e.id===r.payload.orgUser.id&&s.orgUser.put.matches(r)?Object.assign(Object.assign({},e),{permission:r.payload.orgUser.permission||e.permission,account_type:r.payload.orgUser.account_type||e.account_type}):e},{shouldIgnoreAction:e=>!s.orgUser.put.matches(e)})}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=t(113                                     ),s=t(720                          ),o=t(338                                 );r.orgDraftsOwners=function(e=Object.create(null),r){if(a.fileBrowser.hydrate.matches(r)&&r.payload.org_drafts_owners){const e=Object.create(null);return r.payload.org_drafts_owners.forEach(r=>{e[r.drafts_folder_id]=r}),e}return o.reduceObject(e,r,s.orgUserReducer)}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(91                  );!function(e){e.showOnboardingSequence=o.actionCreator("RCS_ONBOARDING_SHOW"),e.hideOnboardingSequence=o.actionCreator("RCS_ONBOARDING_HIDE"),e.hideOnboardingSequenceFromOtherTab=o.actionCreator("RCS_ONBOARDING_HIDE_FROM_OTHER_TAB"),e.setHighlightTemplateFiles=o.actionCreator("RCS_HIGHLIGHT_TEMPLATE_FILES")}(n.responsiveContentActions||(n.responsiveContentActions={}))}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=o(722                                           );n.responsiveContent=function(e={},n){var o,i;return t.responsiveContentActions.hideOnboardingSequence.matches(n)?{}:t.responsiveContentActions.hideOnboardingSequenceFromOtherTab.matches(n)&&(null===(o=e.onboardingSequence)||void 0===o?void 0:o.interTabId)&&n.payload.interTabId===(null===(i=e.onboardingSequence)||void 0===i?void 0:i.interTabId)?{}:t.responsiveContentActions.showOnboardingSequence.matches(n)?Object.assign({},n.payload):e}}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=e(532                             ),n=e(352                                      );a.loadingState=function(t={},a){if(n.loadingStateActions.putLoading.matches(a))return Object.assign(Object.assign({},t),{[a.payload.key]:s.LoadingStatus.LOADING});if(n.loadingStateActions.putSuccess.matches(a))return Object.assign(Object.assign({},t),{[a.payload.key]:s.LoadingStatus.SUCCESS});if(n.loadingStateActions.putFailure.matches(a))return Object.assign(Object.assign({},t),{[a.payload.key]:s.LoadingStatus.FAILURE});if(n.loadingStateActions.del.matches(a)){const e=Object.assign({},t);return delete e[a.payload.key],e}return t}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(91                  );!function(e){e.set=o.actionCreator("PROGRESS_SET"),e.clear=o.actionCreator("PROGRESS_CLEAR")}(r.progress||(r.progress={}))}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(725                                 );s.progress=function(e={},s){if(t.progress.set.matches(s))return Object.assign(Object.assign({},e),{[s.payload.key]:{progress:s.payload.progress}});if(t.progress.clear.matches(s)){const r=Object.assign({},e);return delete r[s.payload.key],r}return e}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(212                ),n=r(293       ),s=r(111          ),i=r(88           );t.REQUEST_PREFIX="ping-request:",t.RESPONSE_PREFIX="ping-response:",t.CLEANUP_TIMEOUT=1e3;const a=1;let m=0;t.ping=async function(e,r,l){const E=i.localStorageOrNull;if(!E)return Promise.reject("Local storage not available");const g=t.REQUEST_PREFIX+e,u=t.RESPONSE_PREFIX+e,c=new n.Timer;let d=!1,v=e=>{};const w=new Promise(e=>{v=e}),I=()=>{E.removeItem(g),E.removeItem(u),window.removeEventListener("storage",T)},T=t=>{t.storageArea===E&&null!==t.newValue&&t.key===u&&(c.stop(),m<a&&(m++,s.segment.track("autosave_ping_response_time",{responseTime:c.getElapsedTime(),reachedTimeOut:d,timeOut:r})),I(),d?o.reportErrorWithoutCrashing(`ping: responded after timeout interval for ${e}`):v(!0))};E.removeItem(g),E.removeItem(u),window.addEventListener("storage",T);const P=(new Date).getTime();return E.setItem(g,P.toString()),c.start(),setTimeout(()=>{l?setTimeout(I,l):I(),d=!0,v(!1)},r),window.addEventListener("unload",I),w},t.registerPingListener=function(e){const r=i.localStorageOrNull;if(!r)throw"Local storage not available";const o=t.REQUEST_PREFIX+e,n=t.RESPONSE_PREFIX+e;r.removeItem(n);const s=e=>{if(e.storageArea===r&&null!==e.newValue&&e.key===o){const e=(new Date).getTime();r.setItem(n,e.toString()),setTimeout(()=>{r.removeItem(o),r.removeItem(n)},t.CLEANUP_TIMEOUT)}};return window.addEventListener("storage",s,!1),{unregister:()=>window.removeEventListener("storage",s,!1)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t)=>t.some(t=>e instanceof t);let o,s;const i=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function l(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(D(this),t),v(i.get(this))}:function(...t){return v(e.apply(D(this),t))}:function(t,...n){const r=e.call(D(this),t,...n);return c.set(r,t.sort?t.sort():[t]),v(r)}}function p(e){return"function"==typeof e?l(e):(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});a.set(e,t)}(e),r(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,f):e)}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(v(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&i.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=p(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const D=e=>d.get(e);var b=function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};const h=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],B=new Map;function g(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(B.get(t))return B.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!h.includes(n))return;const s=function(e,...t){return b(this,void 0,void 0,function*(){const s=this.transaction(e,o?"readwrite":"readonly");let i=s.store;r&&(i=i.index(t.shift()));const a=yield i[n](...t);return o&&(yield s.done),a})};return B.set(t,s),s}f=(e=>Object.assign(Object.assign({},e),{get:(t,n,r)=>g(t,n)||e.get(t,n,r),has:(t,n)=>!!g(t,n)||e.has(t,n)}))(f),t.deleteDB=function(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),v(n).then(()=>void 0)},t.openDB=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(e,t),a=v(i);return r&&i.addEventListener("upgradeneeded",e=>{r(v(i.result),e.oldVersion,e.newVersion,v(i.transaction))}),n&&i.addEventListener("blocked",()=>n()),a.then(e=>{s&&e.addEventListener("close",()=>s()),o&&e.addEventListener("versionchange",()=>o())}).catch(()=>{}),a},t.unwrap=D,t.wrap=v}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let t=null,u=[];n.saveStatusChanged=function(e){if(!e.unsaved.hasMultiplayerChanges){for(const e of u)e();u=[]}t=e},n.waitForMultiplayerToBeSynced=function(){return t&&!t.unsaved.hasMultiplayerChanges?Promise.resolve():new Promise(e=>{u.push(e)})}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.webLocksAvailable=!!navigator.locks,a.acquireLockOrFail=async function(e){return navigator.locks?new Promise((a,s)=>{const i=navigator.locks.request(e,{ifAvailable:!0},async e=>{e?await new Promise((e,s)=>{a({release:async()=>{e(),await i}})}):a(null)}).catch(e=>{setTimeout(()=>{throw e})})}):{release:async()=>{}}},a.isLockAvailable=async function(e){return navigator.locks?new Promise(a=>{navigator.locks.request(e,{ifAvailable:!0},async e=>{a(!!e)})}):Promise.resolve(!0)}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(87      ),o=s(293       ),a=s(111          ),i=s(363      ),r=s(105        ),c=s(727       ),l=s(728  ),u=s(261                               ),S=s(212                ),d=s(130                     ),h=s(185                                 ),g=s(177                                       ),E=s(85                   ),f=s(357                  ),m=s(729                                               ),I=s(730                   ),D=s(228         ),_=s(310                                   );t.LIVE_DB_NAME="figma-autosave-v1",t.DARK_DB_NAME="figma-autosave-darklaunch",t.DB_TEST_NAME="figma-autosave-test-db-1",t.NODE_CHANGES_STORE="node-changes",t.IMAGES_STORE="saved-images",t.EDITOR_SESSIONS_STORE="editor-sessions";const v="session-index";t.autosaveIPC=new i.IPC,t.RESTORED_AUTOSAVE_MSG="restored-autosave";const O=5,p=200,w=1e4;let y=!1;t.setIsRunningTest=function(){y=!0};let T=null;function A(e){return!!/A mutation operation was attempted on a database that did not allow mutations/.test(e)}async function R(){if(T)return T;const e=y?t.DB_TEST_NAME:E.getFeatureFlags().autosave_darklaunch?t.DARK_DB_NAME:t.LIVE_DB_NAME;return T=l.openDB(e,1,{upgrade(e,s,n,o){e.createObjectStore(t.EDITOR_SESSIONS_STORE,{keyPath:"id",autoIncrement:!0}).createIndex(v,["userID","fileKey","sessionID"],{unique:!0}),e.createObjectStore(t.NODE_CHANGES_STORE,{keyPath:["editorSessionID","nodeID"]}),e.createObjectStore(t.IMAGES_STORE,{keyPath:["editorSessionID","hash"]})},terminated(){T=null}}).catch(e=>(A(e.message)||S.reportErrorWithoutCrashing(e.message),null))}async function b(e,t,s){let n=0;for(;n<O;){n++;const i=await R();if(i)try{const n=i.transaction(e,s),r=await t(n);return await n.done,r}catch(a){o=a.message,/Failed to execute 'transaction' on 'IDBDatabase': The database connection is closing/.test(o)||/TimeoutError: Transaction timed out due to inactivity/.test(o)||S.reportErrorWithoutCrashing(a.message)}}var o;throw"[Autosave] Transaction failed after multiple attempts"}function C(){return 24*(E.getFeatureFlags().autosave_darklaunch?2:n.safari?7:30)*60*60*1e3}function N(e,t,s){return`autosave-${e}-${t}-${s}`}function F(e){return IDBKeyRange.bound([e,""],[e,"~"])}function k(e,t){return IDBKeyRange.bound([e,t],[e,t,1/0])}function G(e){return IDBKeyRange.bound([e,""],[e+1,""])}async function L(e,s,n,o){if(!o){const e=await R();if(!e)return;o=e.transaction([t.EDITOR_SESSIONS_STORE])}const a=o.objectStore(t.EDITOR_SESSIONS_STORE),i=await a.index(v).get([e,s,n]);return null==i?void 0:i.id}async function M(e,t,s){const n=N(e,t,s);return I.webLocksAvailable?!(await I.isLockAvailable(n)):c.ping(n,p,w)}t.deleteDBForTest=async function(){(await R()).close(),await l.deleteDB(t.DB_TEST_NAME),T=null},t.autosaveDB=R,t.autosaveTransaction=b,t.autosaveExpiryTimeMs=C,t.rangeForUser=F,t.rangeForFile=k,t.rangeForEditor=G;let P=null;async function j(e,s){const n=await R();if(!n)return;const o=n.transaction([t.EDITOR_SESSIONS_STORE,t.NODE_CHANGES_STORE,t.IMAGES_STORE],"readwrite"),a=o.objectStore(t.EDITOR_SESSIONS_STORE),i=o.objectStore(t.NODE_CHANGES_STORE),r=o.objectStore(t.IMAGES_STORE);let c=await a.index(v).openCursor(e);for(;c;){const e=c.value;s&&s(e)||(i.delete(G(e.id)),r.delete(G(e.id)),c.delete()),c=await c.continue()}await o.done}t.garbageCollectAutosaveChanges=S.reportPromiseErrorDecorator(async e=>{P||(P=async function(){l.deleteDB("figma-autosave").catch(e=>{A(e.message)||S.reportErrorWithoutCrashing(e.message)}),await j(F(e),e=>Date.now()-e.lastUpdatedAt<C())}()),await P}),t.resetGCTaskForTest=function(){P=null},t.fileKeysWithAutosavedChanges=S.reportPromiseErrorDecorator(async e=>{const s=await R();if(!s)return[];const n=s.transaction([t.EDITOR_SESSIONS_STORE,t.NODE_CHANGES_STORE]),o=n.objectStore(t.EDITOR_SESSIONS_STORE),a=await o.index(v).getAll(F(e)),i=[],r=n.objectStore(t.NODE_CHANGES_STORE);for(const t of a)await r.count(G(t.id))>0&&i.push(t);const c=new Set,l=[];for(const t of i)c.has(t.fileKey)||l.push(M(e,t.fileKey,t.sessionID).then(e=>{e||c.add(t.fileKey)}));return await Promise.all(l),Array.from(c)}),t.activeFiles=function(e,t){return r.filterNull(e.map(e=>{const s=t[e];return s&&!s.trashed_at?s:null}))},t.deleteAutosaveDataForSessions=j;let B=null;async function x(e,s,n,o){const a=e.objectStore(t.EDITOR_SESSIONS_STORE),i=e.objectStore(t.NODE_CHANGES_STORE),r=e.objectStore(t.IMAGES_STORE);let c=await L(s,n,o,e);null!=c&&(a.delete(c),i.delete(G(c)),r.delete(G(c))),await e.done}async function K(e){const{transaction:s,commitPolicy:n,userID:o,fileKey:a,sessionID:i,oldSessionID:r,pendingChanges:c,pendingImages:l}=e,S=s.objectStore(t.EDITOR_SESSIONS_STORE),d=s.objectStore(t.NODE_CHANGES_STORE),h=s.objectStore(t.IMAGES_STORE);let g=await L(o,a,r,s);const E={userID:o,fileKey:a,sessionID:i,lastUpdatedAt:Date.now()};null==g?g=await S.add(E):(n===u.AutosaveCommitPolicy.REPLACE_CHANGES&&d.delete(G(g)),await S.put(Object.assign({id:g},E)));for(const t of c)t.changes?d.put({editorSessionID:g,nodeID:t.nodeID,changes:t.changes}):d.delete([g,t.nodeID]);for(const t of l)if(0===await h.count([g,t])){const e=u.AutosaveHelpers.getImageBytes(t);e.length>0&&h.add({editorSessionID:g,hash:t,blob:e})}const f=await d.count(G(g));return 0===f&&await h.delete(G(g)),await async function(e,s){0===await s.objectStore(t.NODE_CHANGES_STORE).count(G(e))&&0===await s.objectStore(t.IMAGES_STORE).count(G(e))&&s.objectStore(t.EDITOR_SESSIONS_STORE).delete(e)}(g,s),B&&await B,await s.done,f}t.setBlockCommitForTest=function(e){B=e},t.clearChangesForEditorSession=x,t.commitChanges=K;class H{constructor(){this.nextEventPromise=new Promise(e=>{this.nextEventPromiseResolve=e})}onCommitEvent(){this.nextEventPromiseResolve(),this.nextEventPromise=new Promise(e=>{this.nextEventPromiseResolve=e})}waitForNextCommit(){return this.nextEventPromise}}class U{constructor(e,t){this.userID=e,this.fileKey=t,this.currentSession=null,this.sessionsToRestore=null}async destroy(){var e;await(null===(e=this.currentSession)||void 0===e?void 0:e.destroy())}async onConnect(e){await R()?this.currentSession=new W(e,this):console.log("[Autosave] Session not started because IDB is not available.")}session(){return this.currentSession}checkForSessionsToRestore(){const e=this.userID;return this.sessionsToRestore||(this.sessionsToRestore=async function(s){return await _.fullscreenLoadTimer.timeAsync(async()=>{await t.garbageCollectAutosaveChanges(e)},"gcAutosaveStart","gcAutosaveEnd"),await _.fullscreenLoadTimer.timeAsync(async()=>{const e=await R();if(!e)return[];const n=e.transaction(t.EDITOR_SESSIONS_STORE),o=n.objectStore(t.EDITOR_SESSIONS_STORE),a=[];let i=await o.index(v).openCursor(s);for(;i;)a.push(i.value),i=await i.continue();if(await n.done,0===a.length)return[];console.log("[Auto-save] Found auto-saved data for this file");const r=await Promise.all(a.map(e=>M(e.userID,e.fileKey,e.sessionID)));return a.filter((e,t)=>!r[t])},"checkForAutosaveStart","checkForAutosaveEnd")}(k(this.userID,this.fileKey))),this.sessionsToRestore}}t.AutosaveManager=U;class W{constructor(e,s){this.sessionID=e,this.manager=s,this.pendingChanges=[],this.pendingImages=new Set,this.currentEditingSessionLock=null,this.commitEventListener=new H,this.restoring=!1,this.clearAllNodeChanges=S.reportPromiseErrorDecorator(async()=>{this.currentEditingSessionLock||(this.currentEditingSessionLock=this.acquireNewSessionLock(this.sessionID)),await this.currentEditingSessionLock,await b([t.EDITOR_SESSIONS_STORE,t.NODE_CHANGES_STORE,t.IMAGES_STORE],async e=>x(e,this.manager.userID,this.manager.fileKey,this.sessionID),"readwrite"),this.commitEventListener.onCommitEvent()}),this.reportedStorageError=!1,this.commitAutosave=S.reportPromiseErrorDecorator(async e=>{const{commitPolicy:s,newSessionID:n,numberOfUncleanRegisters:o}=e;D.assertDev(this.readyToAcceptChanges(),"caller is responsible for making sure that we are ready to accept changes"),D.assertDev(s===u.AutosaveCommitPolicy.ADD_CHANGES||null!=n,"new session ID is provided only when reconnecting and replacing changes");const a=this.sessionID;let i=null;null!=n&&n!==this.sessionID&&(i=this.currentEditingSessionLock,this.sessionID=n,this.currentEditingSessionLock=null),this.currentEditingSessionLock||(this.currentEditingSessionLock=this.acquireNewSessionLock(this.sessionID)),await this.currentEditingSessionLock;const r=this.pendingChanges,c=this.pendingImages;this.pendingChanges=[],this.pendingImages=new Set;const l=await b([t.EDITOR_SESSIONS_STORE,t.NODE_CHANGES_STORE,t.IMAGES_STORE],async e=>await K({transaction:e,commitPolicy:s,userID:this.manager.userID,fileKey:this.manager.fileKey,oldSessionID:a,sessionID:this.sessionID,pendingChanges:r,pendingImages:c}),"readwrite");this.reportedStorageError||null==o||(l>0&&0===o?S.reportErrorWithoutCrashing("Expected IDB to be empty after synchronizing with multiplayer"):l>o?S.reportErrorWithoutCrashing("Expected IDB to have at many node changes as registers (currently has more)"):l<o&&S.reportErrorWithoutCrashing("Expected IDB to have at many node changes as registers (currently has less)"),this.reportedStorageError=!0),null!=i&&(null==i||i.then(e=>null==e?void 0:e.release())),this.commitEventListener.onCommitEvent()}),this.restoreAutosaveIfNeeded=S.reportPromiseErrorDecorator(async()=>{this.restoring=!0;const e=new o.Timer;e.start();const t=await this.manager.checkForSessionsToRestore(),s=e.getElapsedTime();let n=!1,i=0,r=0;if(t.length>0){const e=await this.restoreChangesForSessionRows(t);n=e.hadChanges,i=e.numberOfBytes,r=e.numberOfNodes}e.stop(),a.segment.track("autosave_restore_on_load",{hadChangesToRestore:n,time:e.getElapsedTime(),sessionsCheckTime:s,numberOfBytes:i,numberOfNodes:r,clearAllFlag:E.getFeatureFlags().autosave_clearall}),this.restoring=!1}),this.restoreChangesForSessionRows=S.reportPromiseErrorDecorator(async e=>{this.currentEditingSessionLock||(this.currentEditingSessionLock=this.acquireNewSessionLock(this.sessionID)),await this.currentEditingSessionLock;const s=await b([t.EDITOR_SESSIONS_STORE,t.NODE_CHANGES_STORE,t.IMAGES_STORE],async s=>await async function(e,s,n){const o=e.objectStore(t.EDITOR_SESSIONS_STORE),a=e.objectStore(t.NODE_CHANGES_STORE),i=e.objectStore(t.IMAGES_STORE),r=[],c=[];for(const t of n){const e=await o.index(v).get([t.userID,t.fileKey,t.sessionID]);e&&e.id&&(r.push(e),c.push(e.id))}if(0===r.length)return await e.done,new Map;const l=r[0],S=new Map;let d=await a.openCursor(G(l.id));for(;d;)S.set(d.value.nodeID,d.value.changes),d=await d.continue();for(const t of c.slice(1)){let e=await a.openCursor(G(t));for(;e;){const t=e.value,s=S.get(t.nodeID),n=s?u.AutosaveHelpers.mergeMultiplayerMessages(s,1,t.changes,1):t.changes;S.set(t.nodeID,n),a.put({editorSessionID:l.id,nodeID:t.nodeID,changes:n}),e.delete(),e=await e.continue()}let s=await i.openCursor(G(t));for(;s;)i.put(Object.assign(Object.assign({},s.value),{editorSessionID:l.id})),s.delete(),s=await s.continue();o.delete(t)}let h=Math.max(...r.map(e=>e.lastUpdatedAt));return await o.put(Object.assign(Object.assign({},l),{sessionID:s,lastUpdatedAt:h})),await e.done,console.log(`[Auto-save] Found claimed autosave changes from ${c.length} sessions`),S}(s,this.sessionID,e),"readwrite"),n=s.size>0;n&&(E.getFeatureFlags().autosave_livelaunch&&await f.createSavepoint(this.manager.fileKey,"Offline sync","Before syncing local changes",d.globalReduxStore).catch(e=>{var t;return S.reportErrorWithoutCrashing((null===(t=e.data)||void 0===t?void 0:t.message)||"Could not connect to the server.")}),console.log("[Auto-save] Restoring auto-saved data"),await this.restoreChanges(s)),this.commitEventListener.waitForNextCommit().then(()=>{t.autosaveIPC.sendToOtherTabs(t.RESTORED_AUTOSAVE_MSG)});let o=0,a=s.size;for(const t of s.values())o+=t.length;return{hadChanges:n,numberOfBytes:o,numberOfNodes:a}})}async destroy(){var e;this.currentEditingSessionLock&&(null===(e=await this.currentEditingSessionLock)||void 0===e||e.release())}readyToAcceptChanges(){return!this.restoring}saveNodeChanges(e,t){this.pendingChanges.push({nodeID:e,changes:t})}clearNodeChanges(e){this.pendingChanges.push({nodeID:e,changes:null})}saveImages(e){for(const t of e)this.pendingImages.add(t)}async acquireNewSessionLock(e){const t=N(this.manager.userID,this.manager.fileKey,e);let s=null;if(I.webLocksAvailable)s=await I.acquireLockOrFail(t);else{const e=c.registerPingListener(t);s={release:async()=>{e.unregister()}}}return s||S.reportErrorWithoutCrashing("[Autosave] Failed to acquire editing session lock"),s}async restoreChanges(e){const t=Array.from(e.entries()).sort(([e,t],[s,n])=>e<s?-1:1);for(const[n,o]of t){const e=1;u.AutosaveHelpers.loadAutosavedNodeChanges(n,o,e)}let s=u.AutosaveHelpers.getImagesUsedInAutosavedChanges().split(" ");await this.restoreImagesIfAvailable(s),E.getFeatureFlags().autosave_livelaunch?(u.AutosaveHelpers.applyAutosavedChanges(),console.log("[Auto-save] Successfully applied auto-saved changes"),await m.waitForMultiplayerToBeSynced(),console.log("[Auto-save] Successfully synced auto-saved changes"),await f.createSavepoint(this.manager.fileKey,"Offline sync","After syncing local changes",d.globalReduxStore).catch(e=>{var t;return S.reportErrorWithoutCrashing((null===(t=e.data)||void 0===t?void 0:t.message)||"Could not connect to the server.")}),d.globalReduxStore.dispatch(h.notifActions.enqueue({notification:{type:g.NotificationType.AUTOSAVE_CHANGES_RESTORED,message:"Your offline changes were synced"}}))):u.AutosaveHelpers.clearAutosavedChanges()}async restoreImagesIfAvailable(e){return b([t.EDITOR_SESSIONS_STORE,t.IMAGES_STORE],async s=>{const n=await this.currentEditorSessionID(s);if(!n)return;const o=s.objectStore(t.IMAGES_STORE);for(const t of e){const e=await o.get([n,t]);e&&u.AutosaveHelpers.restoreImageBytes(t,e.blob)}await s.done})}async currentEditorSessionID(e){return L(this.manager.userID,this.manager.fileKey,this.sessionID,e)}}t.AutosaveSession=W;let q=null;function V(){return E.getFeatureFlags().autosave_darklaunch||E.getFeatureFlags().autosave_livelaunch}t.autosaveSupported=V,t.getAutosave=function(){if(!V())return null;if(!function(){var e;const t=d.globalReduxStore.getState();return!q||q.userID==(null===(e=t.user)||void 0===e?void 0:e.id)&&q.fileKey==t.editingFileKey||(q.destroy(),q=null),q}()){const e=d.globalReduxStore.getState();if(!e.user||!e.editingFileKey)return null;q=new U(e.user.id,e.editingFileKey)}return q}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(91                  ),o=t(100                               ),i=t(731                     );!function(e){e.setAutosaveFileKeys=s.actionCreator("SET_AUTOSAVE_FILE_KEYS"),e.checkForAutosavedChanges=o.asyncActionCreator("CHECK_FOR_AUTOSAVED_CHANGES",async(a,t)=>{var s;const o=null===(s=a.getState().user)||void 0===s?void 0:s.id;if(!o)return;await i.garbageCollectAutosaveChanges(o);const n=await i.fileKeysWithAutosavedChanges(o);a.dispatch(e.setAutosaveFileKeys(n))})}(a.autosave||(a.autosave={}))}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(732                                 ),n={unsyncedFileKeys:[]};s.autosave=function(e=n,s){return a.autosave.setAutosaveFileKeys.matches(s)?{unsyncedFileKeys:s.payload}:e}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(108     ),l=a(100                               ),s=a(91                  ),c=a(401                                               );t.putAll=s.actionCreator("TEMPLATE_FILE_PUT_ALL"),t.getTemplateFiles=l.asyncActionCreator("HUB_FILE_REMOTE_TEMPLATES",e=>{i.default.get("/api/hub_files/templates").then(({data:a})=>{const i=a.meta;Object.keys(i).forEach(t=>{e.dispatch(c.mergeAndValidate({hubFiles:i[t],src:"getTemplateFiles"}))}),e.dispatch(t.putAll(i))})})}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=a(734                                      );t.templateFiles=function(e={},t){if(c.putAll.matches(t)){const e=t.payload;let a={};return Object.keys(e).forEach(t=>{a[t]=e[t].map(e=>e.id)}),a}return e}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=t(211              ),l=t(91                  ),o=t(100                               ),s=t(440                          ),n=t(303                             ),p=t(441                       ),c=t(125                        );a.initializeLocal=l.actionCreator("PLUGIN_INITIALIZE_LOCAL"),a.updateLocal=l.actionCreator("PLUGIN_UPDATE_LOCAL"),a.deleteLocal=l.actionCreator("PLUGIN_DELETE_LOCAL"),a.initializeLocalPlugins=o.asyncActionCreator("INITIALIZE_LOCAL_PLUGINS",e=>{n.supportsDesktopPluginsV4()&&i.desktopApp&&(i.desktopApp.getAllLocalFileExtensionIds().then(t=>{Promise.all(t.map(e=>s.loadLocalPlugin(e))).then(t=>{const i={};t.forEach(e=>{i[e.localFileId]=e}),e.dispatch(a.initializeLocal(i))})}),i.desktopApp.registerManifestChangeObserver(t=>{if("added"===t.type||"changed"===t.type){const i=t.id,l=s.parseLocalPlugin(i,t.localLoadResult);e.dispatch(a.updateLocal(l));const o=e.getState(),{publishingPlugins:n,localPlugins:d,publishedPlugins:r,currentOrgId:L}=o,u=n[i];u&&u.metadata&&s.isEmptyPluginPublishingMetadata(u.metadata)&&!l.error&&e.dispatch(p.updatePluginPublishingMetadata({id:i,metadata:s.getDefaultPluginVersionMetadata(Object.assign(Object.assign({},c.getPermissionsState(o)),{currentOrgId:L,localPlugins:d,publishedPlugins:r}),i)}))}else"removed"===t.type&&e.dispatch(a.deleteLocal(t.id))}))}),a.reloadLocalPlugin=o.asyncActionCreator("RELOAD_LOCAL_PLUGIN",(e,{localFileId:t})=>{s.loadLocalPlugin(t).then(t=>{e.dispatch(a.updateLocal(t))})}),a.deleteLocalPlugin=o.asyncActionCreator("DELETE_LOCAL_PLUGIN",(e,t)=>{null!=t&&(i.desktopApp&&i.desktopApp.removeLocalFileExtension(t),e.dispatch(a.deleteLocal(t)))})}),
(function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const l=t(108     ),s=t(91                  ),n=t(111          ),a=t(100                               ),u=t(441                       ),r=t(279                             );e.setWhitelistedPlugins=s.actionCreator("PLUGIN_SET_WHITELISTED"),e.initializeWhitelistedPlugins=a.asyncActionCreator("INITIALIZE_WHITELISTED_PLUGINS",i=>{const t=i.getState().currentOrgId;t&&l.default.get(`/api/plugins/org/${t}/whitelist`).then(({data:t})=>{const l=t.meta;i.dispatch(u.mergePublishedAndValidate({publishedPlugins:l,src:"initializeWhitelistedPlugins"}));const s=l.reduce((i,e)=>(i[e.id]=!0,i),{});i.dispatch(e.setWhitelistedPlugins(s))})}),e.putWhitelistedPlugin=s.actionCreator("PUT_WHITELISTED_PLUGIN"),e.delWhitelistedPlugin=s.actionCreator("DEL_WHITELISTED_PLUGIN"),e.whitelistPlugin=a.asyncActionCreator("WHITELIST_PLUGIN",(i,{orgId:t,pluginId:s})=>{t&&s&&l.default.post(`/api/plugins/org/${t}/whitelist/${s}`).then(()=>{i.dispatch(e.putWhitelistedPlugin({pluginId:s})),n.segment.track("Hub Plugin Add to Whitelist",{pluginId:s,orgId:t})}).catch(()=>{i.dispatch(r.visualBellActions.enqueue({error:!0,message:"Unable to add this plugin. Please try again later."}))})}),e.unwhitelistPlugin=a.asyncActionCreator("UNWHITELIST_PLUGIN",(i,{orgId:t,pluginId:s})=>{t&&s&&l.default.del(`/api/plugins/org/${t}/whitelist/${s}`).then(()=>{i.dispatch(e.delWhitelistedPlugin({pluginId:s})),n.segment.track("Hub Plugin Remove from Whitelist",{pluginId:s,orgId:t})}).catch(()=>{i.dispatch(r.visualBellActions.enqueue({error:!0,message:"Unable to remove this plugin. Please try again later."}))})})}),
(function(i,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(736                                                   ),e=t(441                                                     ),s=t(560                                                     ),l=t(737                                                       ),u=t(189                             ),c=t(113                                     ),o=t(304                          ),g=t(582                                                  );n.localPlugins=function(i={},n){if(a.initializeLocal.matches(n))return n.payload;if(a.updateLocal.matches(n)){const t=Object.assign({},i);return t[n.payload.localFileId]=n.payload,t}if(a.deleteLocal.matches(n)){const t=Object.assign({},i);return delete t[n.payload],t}return i},n.publishedPlugins=function(i={},n){if(e.putAll.matches(n)){const t=Object.assign({},i);for(const a of n.payload)t[a.id]=Object.assign(Object.assign({},a),{versions:o.mergeVersions(i[a.id],a)});return t}if(e.delAll.matches(n)){const t=Object.assign({},i);for(const i of n.payload)delete t[i.id];return t}if(s.installPlugin.matches(n)){const t=Object.assign({},i);return t[n.payload.pluginId]=Object.assign(Object.assign({},t[n.payload.pluginId]),{install_count:t[n.payload.pluginId].install_count+1}),t}if(s.uninstallPlugin.matches(n)){const t=Object.assign({},i);return t[n.payload.pluginId]=Object.assign(Object.assign({},t[n.payload.pluginId]),{install_count:t[n.payload.pluginId].install_count-1}),t}if(g.likePlugin.matches(n)){if(n.payload.pluginId in i){const t=Object.assign({},i);return t[n.payload.pluginId]=Object.assign(Object.assign({},t[n.payload.pluginId]),{like_count:t[n.payload.pluginId].like_count+1,current_user_liked:!0}),t}}else if(g.unlikePlugin.matches(n)&&n.payload.pluginId in i){const t=Object.assign({},i);return t[n.payload.pluginId]=Object.assign(Object.assign({},t[n.payload.pluginId]),{like_count:t[n.payload.pluginId].like_count-1,current_user_liked:!1}),t}return i};const r={org:{},user:{}};n.installedPlugins=function(i=r,n){if(s.put.matches(n))return{org:Object.assign(Object.assign({},i.org),n.payload.org),user:Object.assign(Object.assign({},i.user),n.payload.user)};if(s.replaceInstalled.matches(n))return n.payload;if(s.del.matches(n)){const t=Object.assign({},i);return delete t[n.payload.orgOrUser][n.payload.pluginId],t}if(s.uninstallPlugin.matches(n)){const t=Object.assign({},i);return delete t[n.payload.orgId?"org":"user"][n.payload.pluginId],t}return u.orgs.switchActiveOrgAndSetCurrentOrgId.matches(n)?r:i},n.featuredPlugins=function(i={},n){return e.replaceFeaturedPlugins.matches(n)?n.payload:i},n.whitelistedPlugins=function(i={},n){if(l.setWhitelistedPlugins.matches(n))return n.payload;if(l.putWhitelistedPlugin.matches(n)){const t=Object.assign({},i);return t[n.payload.pluginId]=!0,t}if(l.delWhitelistedPlugin.matches(n)){const t=Object.assign({},i);return delete t[n.payload.pluginId],t}return c.fileBrowser.hydrate.matches(n)?{}:i};const p=e.pluginPublishingActions;n.publishingPlugins=o.publishingStateReducer(p)}),
(function(o,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=a(575                                                    ),t=a(356                                              ),l=a(203                             ),n=a(206                             ),r=a(189                             );i.currentProfile=function(o=null,i){if(t.putCommunityProfile.matches(i))return i.payload;if(e.addFollow.matches(i)){if(i.payload.followedProfileId===(null==o?void 0:o.id))return Object.assign(Object.assign({},o),{follower_count:o.follower_count+1,current_user_is_following:!0});if(i.payload.currentUserProfileId===(null==o?void 0:o.id))return Object.assign(Object.assign({},o),{following_count:o.following_count+1})}if(e.delFollow.matches(i)){if(i.payload.followedProfileId===(null==o?void 0:o.id))return Object.assign(Object.assign({},o),{follower_count:o.follower_count-1,current_user_is_following:!1});if(i.payload.currentUserProfileId===(null==o?void 0:o.id))return Object.assign(Object.assign({},o),{following_count:o.following_count-1})}return l.user.put.matches(i)&&o&&i.payload.user.id===o.user_id&&i.payload.user.img_url?Object.assign(Object.assign({},o),{img_url:i.payload.user.img_url}):n.team.put.matches(i)&&o&&i.payload.team.id===o.team_id&&i.payload.team.img_url?Object.assign(Object.assign({},o),{img_url:i.payload.team.img_url}):r.orgs.put.matches(i)&&o&&i.payload.org.id===o.org_id&&i.payload.org.img_url?Object.assign(Object.assign({},o),{img_url:i.payload.org.img_url}):o},i.profileHandleToInfo=function(o={},i){if(t.putCommunityProfile.matches(i)){const a=i.payload;if(a.profile_handle&&a.id)return Object.assign(Object.assign({},o),{[a.profile_handle.toLowerCase()]:{id:a.id}})}return o}}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=e(9,1    ),o=e(304                          ),s=e(302                                ),i=e(575                                                    );function c(t=s.defaultCommunityHubLandingSortState,a){return i.changeLandingPageSortState.matches(a)?a.payload.sortState:t}function r(t=0,a){return i.setLandingPageScrollPosition.matches(a)?a.payload:i.clearLandingPageScrollPosition.matches(a)?0:t}function u(t=s.defaultCommunityHubLandingTab,a){return i.setLandingPageTab.matches(a)?a.payload:t}function g(t=null,a){return i.setLandingPageCategory.matches(a)?a.payload.categoryId:t}function d(t=o.getInitialLandingPageState(),a){if(i.setLoadingStateForResource.matches(a)){const{categoryId:e,tab:n,sortState:o}=a.payload,s=Object.assign({},t),i=s[e][n][o];return s[e][n][o]=Object.assign(Object.assign({},i),{loading:!0}),s}if(i.setResourceState.matches(a)){const e=Object.assign({},t);return e[a.payload.categoryId][a.payload.tab][a.payload.sortState]=a.payload.resourceIdState,e}if(i.addCategoriesToState.matches(a)){const e=Object.assign({},t);for(const t of a.payload)e[t.id]={category:t,[s.CommunityHubLandingTab.FILES]:Object.assign({},s.emptyTabState),[s.CommunityHubLandingTab.PLUGINS]:Object.assign({},s.emptyTabState),[s.CommunityHubLandingTab.CREATORS]:Object.assign({},s.emptyTabState)};return e}return t}a.sortState=c,a.scrollPosition=r,a.tab=u,a.selectedCategoryId=g,a.resourcesByCategory=d,a.landingPage=n.combineReducers({sortState:c,scrollPosition:r,tab:u,selectedCategoryId:g,resourcesByCategory:d})}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=a(575                                                    );e.pageState=function(t=null,e){return n.savePageState.matches(e)?e.payload:t}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(9,1    ),r=a(740             ),u=a(741           ),i=a(739                               );t.communityHub=n.combineReducers({landingPage:r.landingPage,currentProfile:i.currentProfile,pageState:u.pageState})}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(9,1    ),a=r(113                                     ),o=r(620                                 ),n=r(338                                 ),c=r(720                          );function i(e=!1,s){return!o.orgUser.set.matches(s)&&(!!o.orgUser.getAll.matches(s)||e)}function d(e=!1,s){return!!o.orgUser.getAllSucceeded.matches(s)||!a.fileBrowser.hydrate.matches(s)&&e}function g(e={},s){if(a.fileBrowser.hydrate.matches(s)){const e={},r=(s.payload.org_users||[]).concat(s.payload.org_drafts_owners||[]);for(let s of r)e[s.org_id]||(e[s.org_id]={}),e[s.org_id][s.user_id]=s;return e}const r=s.payload&&(s.payload.orgUser&&s.payload.orgUser.org_id||s.payload.orgId);if(!r)return e;const t=function(e={},s){if(o.orgUser.batchPut.matches(s)){const r=Object.assign({},e),t=new Set(s.payload.params.org_user_ids);for(let a in e){const o=e[a];t.has(o.id)&&(r[a]=Object.assign(Object.assign({},o),{permission:s.payload.params.permission||o.permission,account_type:s.payload.params.account_type||o.account_type}))}return r}if(o.orgUser.put.matches(s)){const r=Object.assign({},e);for(let t in e){const a=e[t];s.payload.orgUser.id===a.id&&(r[t]=Object.assign(Object.assign({},a),s.payload.orgUser))}return r}if(o.orgUser.set.matches(s)){const r=Object.assign({},e);for(let t of s.payload.orgUsers||[]){const s=e[t.user_id];r[t.user_id]=s?Object.assign(Object.assign({},t),{last_edit:s.last_edit||t.last_edit,last_seen:s.last_seen||t.last_seen}):t}return r}if(o.orgUser.batchDel.matches(s)){const r=Object.assign({},e),t=new Set(s.payload.params.org_user_ids);for(const s in e){const a=e[s];t.has(a.id)&&delete r[s]}return r}return n.reduceObject(e,s,c.orgUserReducer)}(e[r],s);if(t!==e[r]){const s=Object.assign({},e);return s[r]=t,s}return e}s.isFetching=i,s.fetched=d,s.orgUsers=g,s.orgUsersByOrgId=t.combineReducers({orgUsers:g,isFetching:i,fetched:d})}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(449                                  ),n=t(113                                     );a.userFlags=function(e={},a){if(n.fileBrowser.hydrate.matches(a)){const t=Object.assign({},e);return a.payload.user_flags&&a.payload.user_flags.forEach(e=>{t[e.name]={updatedAt:new Date(e.updated_at),createdAt:new Date(e.created_at)}}),t}if(s.userFlags.put.matches(a))return e[a.payload.name]?e:Object.assign(Object.assign({},e),{[a.payload.name]:{createdAt:new Date,updatedAt:new Date}});if(s.userFlags.post.matches(a)){const t=Object.assign({},e),s=new Date;return Object.keys(a.payload.flags).forEach(e=>{if(a.payload.flags[e]){const a=t[e];void 0!==a?a.updatedAt=s:t[e]={createdAt:s,updatedAt:s}}else delete t[e]}),t}if(s.userFlags.receiveUpdate.matches(a))return Object.assign(Object.assign({},e),{[a.payload.name]:{createdAt:new Date(a.payload.created_at),updatedAt:new Date(a.payload.updated_at)}});if(s.userFlags.receiveDelete.matches(a)){if(e[a.payload.name]){const t=Object.assign({},e);return delete t[a.payload.name],t}return e}return e}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=s(9,1    ),i=s(45,1            ),o=s(320                              ),d=s(326                          ),t=s(327                          ),p=s(329                                 ),u=s(642                              ),l=s(344                       ),n=s(643                               ),c=s(98                  ),g=s(644                           ),m=s(645                         ),f=s(646                           ),_=s(676                            ),b=s(677                       ),h=s(678                                     ),F=s(679                                         ),w=s(682                                                   ),y=s(684                                                                                          ),v=s(686                          ),P=s(628                       ),I=s(208                               ),B=s(687                       ),R=s(688                         ),S=s(495                      ),O=s(705                                   ),H=s(707                            ),M=s(708                      ),K=s(709                                   ),j=s(711                             ),A=s(712                                ),k=s(713                                    ),x=s(716                               ),D=s(718               ),L=s(719                              ),U=s(721                                  ),C=s(723                                    ),T=s(724                               ),V=s(726                          ),W=s(733                          ),q=s(345                       ),z=s(735                                ),E=s(738                         ),G=s(636                           ),J=s(739                               ),N=s(742                                             ),Q=s(743                                     ),X=s(744           );r.commonReducerMap={autocomplete:o.autocomplete,contacts:d.contacts,dropdownShown:t.dropdownShown,flashes:c.flashReducer,modalShown:b.modalShown,progress:V.progress,visualBell:h.visualBell,notifications:F.notifications,downtime:w.default,blockedUILoadingIndicator:y.blockedUILoadingIndicator,teams:B.teams,user:S.user,userFlags:X.userFlags,fileMove:g.fileMove,fileByKey:l.fileByKey,deletedFilesByKey:n.deletedFilesByKey,folders:m.folders,realtime:v.realtime,selectedView:I.selectedView,roles:P.roles,twoFactorAuth:p.twoFactorAuth,tooltip:R.tooltip,comments:O.comments,appWindow:H.appWindow,orgById:M.orgById,orgDraftsOwners:U.orgDraftsOwners,currentOrgId:A.currentOrgId,hasPersonalSpace:k.hasPersonalSpace,dragState:x.dragState,userFavoriteFonts:D.userFavoriteFonts,sharedFonts:L.sharedFonts,orgUsersByOrgId:Q.orgUsersByOrgId,orgDomains:j.orgDomains,responsiveContent:C.responsiveContent,loadingState:T.loadingState,userStateLoaded:K.userStateLoaded,autosave:W.autosave,localPlugins:E.localPlugins,publishedPlugins:E.publishedPlugins,installedPlugins:E.installedPlugins,publishingPlugins:E.publishingPlugins,featuredPlugins:E.featuredPlugins,whitelistedPlugins:E.whitelistedPlugins,hubFiles:G.hubFiles,figFilePublishedAsHubFile:G.figFilePublishedAsHubFile,figFileRemixedFromHubFile:G.figFileRemixedFromHubFile,publishingHubFiles:G.publishingHubFiles,profileHandleToInfo:J.profileHandleToInfo,communityHub:N.communityHub,repos:q.repos,fileKeysByRepoId:l.fileKeysByRepoId,templateFiles:z.templateFiles},r.combineAppReducers=function(){return i.default(a.combineReducers(Object.assign(Object.assign(Object.assign(Object.assign({},r.commonReducerMap),u.fileBrowserReducerMap()),_.fullscreenReducerMap()),f.prototypeReducerMap)))}}),
(function(t,n,u){"use strict";function r(t){return function(n){var u=n.dispatch,r=n.getState;return function(n){return function(e){return"function"==typeof e?e(u,r,t):n(e)}}}}n.__esModule=!0;var e=r();e.withExtraArgument=r,n.default=e}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(207                                   ),l=n(231       ),s=n(228         ),i=n(111          ),r=n(123         ),a=n(221       ),c=n(215                                          ),d=n(263                      ),u=n(211              ),f=n(261                               ),p=n(442                             ),m=n(283                                 ),g=n(86            ),S=n(294            ),v=n(130                     );function b(e,t,n){c.fullscreen.DEPRECATED_sendMessage("setNodeProperty",{nodeId:e,property:t,value:n})}function y(e){const t=Object.create(null);for(const n in e)t[r.camelCasedToDashed(n)]=e[n];c.fullscreen.DEPRECATED_sendMessage("updateAppModel",t,null)}t.invalidGUID=l.toString(l.invalidGUID),t.addToSelection=function(e){c.fullscreen.DEPRECATED_sendMessage("addToSelection",{nodeIds:e})},t.removeFromSelection=function(e){c.fullscreen.DEPRECATED_sendMessage("removeFromSelection",{nodeIds:e})},t.clearSelection=function(){c.fullscreen.DEPRECATED_sendMessage("clearSelection")},t.selectNodesInRange=function(e,t){c.fullscreen.DEPRECATED_sendMessage("selectNodesInRange",{fromNodeId:e,toNodeId:t})},t.reparentSelection=function(e,t,n=f.ScrollBehavior.SCROLLS){c.fullscreen.DEPRECATED_sendMessage("transferSelection",{newParentId:e,newIndex:t,behavior:n===f.ScrollBehavior.SCROLLS?"SCROLLS":"FIXED"})},t.duplicateSelection=function(e,t,n=f.ScrollBehavior.SCROLLS){c.fullscreen.DEPRECATED_sendMessage("duplicateSelection",{newParentId:e,newIndex:t,behavior:n===f.ScrollBehavior.SCROLLS?"SCROLLS":"FIXED"})},t.setName=function(e,t){b(e,"name",t)},t.setIsExpanded=function(e,t){b(e,"is-expanded",t)},t.setIsTemporarilyExpanded=function(e,t){b(e,"is-temporarily-expanded",t)},t.setIsSymbolPublishable=function(e,t){b(e,"is-symbol-publishable",t)},t.setIsPublishable=function(e,t){b(e,"is-publishable",t)},t.setStyleDescription=function(e,t){b(e,"style-description",t)},t.expandUpToRoot=function(e){c.fullscreen.DEPRECATED_sendMessage("expandUpToRoot",{nodeId:e})},t.setExpandedRecursive=function(e,t){c.fullscreen.DEPRECATED_sendMessage("setExpandedRecursive",{nodeId:e,isExpanded:t})},t.clearTemporarilyExpanded=function(){c.fullscreen.DEPRECATED_sendMessage("clearTemporarilyExpanded")},t.setSelectionExpanded=function(e,t){c.fullscreen.DEPRECATED_sendMessage("setSelectionExpanded",{nodeId:e,isExpanded:t})},t.updateAppModel=y,t.setHoveredNode=function(e){y({hoveredNode:e})},t.setObjectsPanelWidth=function(e){y({sidebarSplitPosition:e})},t.setPagesPanelHeight=function(e){y({pagesPanelHeight:e})},t.setPagesPanelIsOpen=function(e){y({pagesPanelIsOpen:e})},t.setSmallNudgeAmount=function(e){y({smallNudgeAmount:e})},t.setBigNudgeAmount=function(e){y({bigNudgeAmount:e})},t.setPropertiesPanelTab=function(e){y({propertiesPanelTab:e})},t.setHandoffPlatformTarget=function(e){y({handoffPlatformTarget:e})},t.setHandoffOutputFormat=function(e){y({handoffOutputFormat:e})};const E=["x","y","width","height","angle","canBecomeGroup","miterLimitAngle","availableOTFeaturesForSelection","availableOTFeaturesForFonts","toggledOnOTFeaturesForSelection","toggledOffOTFeaturesForSelection","mixedStateOTFeaturesForSelection","detectedList","destinationOverlayPositionType","destinationOverlayBackgroundInteraction","destinationOverlayBackgroundType","destinationOverlayBackgroundColor","name","numSelected","numSelectedByType","arcStart","arcSweep","arcRadius","fontFamily","fontStyle","intrinsicLineHeight","prototypeInteractions"];function h(e,t,n){const o=Object.assign({},e),l=function(e){const t=Object.create(null);for(const n of E)if(n in e){const o=e[n];o!==p.MIXED&&(t[n]=o),delete e[n]}return t}(o),i=function(e){const t={guid:{sessionID:0,localID:0}};for(const n in e){const o=e[n];o!==p.MIXED&&(t[n]=o)}return t}(o),r=v.globalReduxStore.getState().mirror.selectedStyleProperties;if(null==r?void 0:r.guid){if(l){const e=l.fontFamily&&l.fontStyle;s.assertDev(!e,"UI should never simultaneously update font family and style"),l.fontFamily&&r.fontStyle&&(i.fontName={family:l.fontFamily,style:r.fontStyle,postscript:""}),r.fontFamily&&l.fontStyle&&(i.fontName={family:r.fontFamily,style:l.fontStyle,postscript:""})}const e=a.schema.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[i]});c.fullscreen.DEPRECATED_sendMessage("updateSelectedStyleProperties",{shouldCommit:t===d.ShouldCommit.YES},e),s.assertDev(null!=r.styleType,"unknown style type"),D(r.styleType)}else{const e=a.schema.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[i]});c.fullscreen.DEPRECATED_sendMessage("updateSelectionProperties",{derivedPropertyUpdates:l,overwrite:n,shouldCommit:t===d.ShouldCommit.YES},e)}}t.updateSelectionProperties=function(e,t,n){S.appTimer.start("update-selection-properties");try{h(e,t,n)}catch(o){throw o}finally{S.appTimer.stop("update-selection-properties")}},t.updateSelectionProperties_=h;const D=g.debounce(e=>{i.segment.track("Style Edited",{styleType:e})},500);let O=Object.create(null);function P(e){s.assertDev(!O.invalidateSceneGraph,"We should get at most one sceneGraphMirrorUpdate per frame. We got two."),O.invalidateSceneGraph={rebuildRows:!e||e.rebuildRows}}function I(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function T(e){var t,n,o;s.assertDev(!(null===(t=O.selection)||void 0===t?void 0:t.replace),"addSelectors and replaceSelectors called on the same frame"),O.selection||(O.selection=Object.create(null)),(null===(n=O.selection)||void 0===n?void 0:n.add)||(O.selection.add=Object.create(null));const i=e.buffer;if(i)for(let s=0;s<i.length;s+=8){const e=I(i,s),t=I(i,s+4),n=l.toString({sessionID:e,localID:t});(null===(o=O.selection)||void 0===o?void 0:o.add)[n]=!0}}function C(e){var t,n,o;s.assertDev(!(null===(t=O.selection)||void 0===t?void 0:t.replace),"removeSelectors and replaceSelectors called on the same frame"),O.selection||(O.selection=Object.create(null)),(null===(n=O.selection)||void 0===n?void 0:n.remove)||(O.selection.remove=Object.create(null));const i=e.buffer;if(i)for(let s=0;s<i.length;s+=8){const e=I(i,s),t=I(i,s+4),n=l.toString({sessionID:e,localID:t});(null===(o=O.selection)||void 0===o?void 0:o.remove)[n]=!0}}function R(e){var t,n,o,i;s.assertDev(!(null===(t=O.selection)||void 0===t?void 0:t.add),"addSelectors and replaceSelectors called on the same frame"),s.assertDev(!(null===(n=O.selection)||void 0===n?void 0:n.remove),"removeSelectors and replaceSelectors called on the same frame"),O.selection||(O.selection=Object.create(null)),(null===(o=O.selection)||void 0===o?void 0:o.replace)||(O.selection.replace=Object.create(null));const r=e.buffer;if(r)for(let s=0;s<r.length;s+=8){const e=I(r,s),t=I(r,s+4),n=l.toString({sessionID:e,localID:t});(null===(i=O.selection)||void 0===i?void 0:i.replace)[n]=!0}}function _(e){if(u.desktopApp){const t={},n="action-enabled-";for(let o of Object.keys(e))if(o.startsWith(n)){t[o.substr(n.length)]=e[o].value}Object.keys(t).length>0&&u.desktopApp.updateActionState(t)}let t=Object.create(null);for(let n in e)t[r.toCamelCase(n)]=e[n].value;O.appModelChanges=Object.assign(Object.assign({},O.appModelChanges),t)}function F(e){const t=e.buffer.length>0?a.schema.decodeMessage(e.buffer):null;delete e.buffer;const n=e;s.assertDev(!O.selectionProperties,"Updating selectionProperties multiple times on a frame"),O.selectionProperties={message:t,derivedProperties:n}}t.initialize=function(){c.fullscreen.fromFullscreen.on("sceneGraphMirrorUpdate",P),c.fullscreen.fromFullscreen.on("selection:addSelectors",T),c.fullscreen.fromFullscreen.on("selection:removeSelectors",C),c.fullscreen.fromFullscreen.on("selection:replaceSelectors",R),c.fullscreen.fromFullscreen.on("updateAppModel",_),c.fullscreen.fromFullscreen.on("selectionPropertiesUpdate",F)},t.dispatchUpdateMirrorIfNecessary=function(){if(0===Object.keys(O).length)return{sceneOrVersionHistoryChanged:!1};const e=!!O.invalidateSceneGraph&&v.globalReduxStore.getState().versionHistory.activeId===m.CURRENT_VERSION;return v.globalReduxStore.dispatch(o.fullscreen.updateMirror(O)),O=Object.create(null),{sceneOrVersionHistoryChanged:e}}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(141            );let a=!1,r=[],s=[],l=0;const i=6e4,c=3e5,u=4e3,d=6e4;function m(e){const n=e.split(":");return{channel:n[0],timestamp:parseInt(n[1]),generation:parseInt(n[2]),signature:n[3]}}function p(){let e=null,n=null,t=null,r={},l=u,i=!0,c=!0,p=Date.now();const f=()=>{null!=t&&clearInterval(t),null!=n&&n.close(),t=null,n=null,c=!0},w=()=>{f(),i&&(console.log(`[Realtime] Reconnecting in ${l}ms`),setTimeout(h,Math.random()*l+4e3),l<6e4&&(l*=2))},g=e=>{n&&n.readyState===n.OPEN&&n.send(`tok:${e.channel}:${e.timestamp}:${e.generation}:${e.signature}`)},h=()=>{f();let o="";o="https:"===window.location.protocol?`wss://${window.location.host}`:`ws://${window.location.host}`,o+="/api/realtime_v2",o+=`?release_git_tag=${window.INITIAL_OPTIONS&&window.INITIAL_OPTIONS.release_git_tag||""}`,(n=new WebSocket(o)).onopen=(e=>{l=u,t=setInterval(()=>{n.send("ping")},3e4+5e3*Math.random()-2500),a&&Date.now()-p>d&&s.forEach(e=>{setTimeout(e,0)}),a=!0;for(const n in r)g(r[n])}),n.onmessage=(n=>{if("pong"===n.data)return void(p=Date.now());const t=n.data.substr(0,4);if("tok:"===t){const e=m(n.data.substr(4));return void(r[e.channel]=e)}let o={};if("ouc:"===t){const e=n.data.substr(4).split(":");2!==e.length&&console.warn("Got ouc: command with wrong number of params");for(let n=0;n<2;n++)"null"===e[n]&&(e[n]=null);o={type:"verify_user_state",org_user_count:e[0]&&parseInt(e[0]),org_user_updated:e[1]&&new Date(parseInt(e[1])).toISOString()}}else if("sub:"===t||"uns:"===t){const e=n.data.split(":"),t=e[e.length-1];if("ok"===t)return;if(delete r[e[1]],"expired"!==t)return void console.warn(n.data);if(!c)return;c=!1,o={type:"token_expired"}}else{try{o=JSON.parse(n.data)}catch(a){return void console.warn(`unexpected non-JSON realtime message: ${n.data}`)}null!=o.err&&(console.warn("encountered error message from realtime",o.err),w())}e&&e(o)}),n.onclose=(e=>{n=null,w()})};return o.isRunningInteractionTests()||h(),{disconnect:()=>{i=!1,f(),r={}},setCallback:n=>{e=n},subscribe:e=>{const n=r[e.channel];r[e.channel]=e,n||g(e)},unsubscribe:e=>{delete r[e],(e=>{delete r[e],n&&n.readyState===n.OPEN&&n.send(`uns:${e}`)})(e)}}}var f;n.parseRealtimeToken=m,n.realtimeClient=p(),n.resetRealtimeConnection=function(){n.realtimeClient.disconnect(),n.realtimeClient=p()},n.addReconnectCallback=function(e){r.push(e)},f=function(){l>0||r.forEach(e=>{l+=1,setTimeout(()=>{try{e()}finally{l-=1}},i+Math.random()*(c-i))})},s.push(f)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(113                                     ),n=i(692                                 ),a=i(208                               ),c=i(689                        ),m=i(297                              ),o=i(748           ),l=i(130                     ),r=i(90             );if(!r.livegraphCommentsLaunchState.livelaunch){o.addReconnectCallback(function(){const e=l.globalReduxStore,t=e&&e.getState(),i=t&&t.selectedView&&a.editingFileKey(t.selectedView);i&&e.dispatch(n.comments.initCommentsForFile({fileKey:i}))})}t.default=(e=>t=>(function(i){if(s.fileBrowser.init.matches(i))m.initialize(e);else{if(s.fileBrowser.selectView.matches(i)&&!r.livegraphCommentsLaunchState.livelaunch){const s=e.getState(),c=s.selectedView&&a.editingFileKey(s.selectedView),m=t(i),o=e.getState();if(!o.user)return m;const l=a.editingFileKey(o.selectedView);return l&&l!==c&&(e.dispatch(n.comments.reset()),e.dispatch(n.comments.initCommentsForFile({fileKey:l}))),m}if(n.comments.post.matches(i)&&!i.payload.userInitiated){const s=e.getState();let a=i.payload.comment;if(s.user&&a.user_id===s.user.id)if(a.parent_id){let t=s.comments.threads[a.parent_id];t&&t.state===c.CommentStatus.BUSY&&e.dispatch(n.comments.resetThread({threadId:a.parent_id,resetStatusOnly:!1}))}else{let m=s.comments.newComment;if(m&&m.state===c.CommentStatus.BUSY){const s=t(i);return e.dispatch(n.comments.setActive({threadId:a.id})),e.dispatch(n.comments.resetNewComment({resetStatusOnly:!1})),s}}}}return t(i)}))}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=t(666                                     ),r=t(206                             ),l=t(207                                   ),s=t(113                                     ),n=t(173                                        ),c=t(185                                 ),o=t(260                                                  ),y=t(640                                        ),b=t(319                                              ),p=t(319                                              ),d=t(179        ),m=t(308         ),u=t(261                               ),f=t(687                       ),h=t(209                ),g=t(667                            ),_=t(176                       ),L=t(177                                       ),S=t(285                            ),T=t(125                        ),I=t(226                       );a.default=(e=>a=>(function(t){if(l.fullscreen.setFileVersion.matches(t)){const i=e.getState().editingFileKey;return i&&b.getSubscribedComponentsAndStateGroupsForFile(e,t.payload.fileVersion,i),a(t)}if(s.fileBrowser.selectView.matches(t)){const i=e.getState();if(i.selectedView&&"fullscreen"===i.selectedView.view&&"fullscreen"!==t.payload.view)e.dispatch(n.library.clearLocal()),e.dispatch(n.library.setLibraryView({teamId:null,scrollTop:0,modalPosition:null,size:null})),e.dispatch(c.notifActions.clearAll()),i.library.librarySearchQuery&&e.dispatch(n.library.setLibraryQuery({query:""})),i.modalShown&&e.dispatch(s.fileBrowser.hideModal()),I.teamLibraryItemSceneGraphCache.clearCache(),b.resetFirstUpdatesComputed(),S.resetPublishChangesNotification();else if((!i.selectedView||"fullscreen"!==i.selectedView.view)&&"fullscreen"===t.payload.view){if(a(t),!i.library.currentLibraryView.teamId){const a=h.getEditingFile(e.getState());if(a&&a.team_id&&a.team_id in i.teams)e.dispatch(n.library.setLibraryView({teamId:a.team_id}));else{const a=f.getFirstTeamAlphabetically(i.teams,i.roles),t=a?a.id:null;e.dispatch(n.library.setLibraryView({teamId:t}))}}return}return a(t)}if(n.library.getLibraryState.matches(t))return p.getLibrary(e),a(t);if(n.library.setLibraryView.matches(t))return e.dispatch(n.library.setLibraryQuery({query:""})),a(t);if(l.fullscreen.setLeftPanelTab.matches(t)){const i=e.getState();if(t.payload.tab===u.LeftPanelTab.TEAM_LIBRARY&&i.leftPanel.activeTab===u.LeftPanelTab.TEAM_LIBRARY&&i.library.currentLibraryView.fileKey){const a=i.fileByKey[i.library.currentLibraryView.fileKey];if(a.team_id){const t=i.teams[a.team_id];e.dispatch(n.library.setLibraryView({teamId:t.id,fileKey:null}))}}return a(t)}if(l.fullscreen.updateMirror.matches(t)&&t.payload.appModelChanges)return t.payload.appModelChanges.subscribedComponents||t.payload.appModelChanges.subscribedStyles?(a(t),void b.computeUpdates(e)):a(t);if(r.team.del.matches(t)){a(t);const i=e.getState();if(i.library.currentLibraryView.teamId===t.payload.team.id){const a=f.getFirstTeamAlphabetically(i.teams,i.roles),t=a?a.id:null;e.dispatch(n.library.setLibraryView({teamId:t}))}}else{if(o.libraryThumbnail.updateThumbnails.matches(t)){const i=e.getState(),r=i.library.local.thumbnails,l=i.library.local.components,s=i.library.local.stateGroups,c=i.library.local.styles;let y=null,b=null;for(const{nodeId:e,url:a,styleThumbnail:n,type:o}of t.payload){let t;if(o===_.LibraryItemType.COMPONENT?t=l:o===_.LibraryItemType.STATE_GROUP?t=s:o===_.LibraryItemType.STYLE?t=c:d.assertNever(o),!(e in t))continue;const i=r[e]&&r[e].url;i&&a&&I.revokeThumbnailUrl(i);const p=t[e];let m;switch(p.type){case _.LibraryItemType.COMPONENT:case _.LibraryItemType.STYLE:m=p.content_hash;break;case _.LibraryItemType.STATE_GROUP:m=p.version;break;default:d.assertNever(p)}const u=(y||r)[e];if(u&&u.url===a&&u.content_hash===m||(y||(y=Object.assign({},r)),y[e]={kind:_.StyleKind.LOCAL,url:a,content_hash:m}),o===_.LibraryItemType.STYLE){const a=(b||c)[e];a.meta&&a.meta.style_thumbnail===n||(b||(b=Object.assign({},c)),b[e]=Object.assign(Object.assign({},a),{meta:Object.assign(Object.assign({},a.meta),{style_thumbnail:n})}))}}return y&&e.dispatch(o.libraryThumbnail.replaceThumbnailsForLocalStyles({thumbnails:y})),b&&e.dispatch(n.library.replaceLocalItems({local:b,type:_.LibraryItemType.STYLE})),a(t)}if(y.publishRequestFinished.matches(t))return S.resetPublishChangesNotification(),a(t);if(n.library.put.matches(t)){const i=e.getState().library.updates.components,r=e.getState().library.published.styles,l={},s=t.payload.file,o=s.team_id||_.NO_TEAM_ID;for(let e in t.payload.itemsById)r[o]&&r[o][s.key]&&r[o][s.key][e]||t.payload.type!==_.LibraryItemType.STYLE||(l[t.payload.itemsById[e].key]=!0);if(Object.keys(l).length>0)for(let a in r){const i=r[a];for(let r in i){const c=i[r],y=[];for(let e in c)a===o&&r===s.key&&t.payload.itemsById[e]||l[c[e].key]&&y.push(e);y.length>0&&e.dispatch(n.library.del({nodeIds:y,file:e.getState().fileByKey[r],type:_.LibraryItemType.STYLE}))}}if(a(t),h.getEditingFile(e.getState())){e.dispatch(b.updateLibraryFromPublishedAndLocalData());const a=e.getState(),t=a.library.updates.components;if(S.getNumLibraryItems(i)<S.getNumLibraryItems(t)){const t=h.getEditingFile(a);t&&T.canEditFile(t.key,a)&&e.dispatch(c.notifActions.enqueue({notification:{type:L.NotificationType.COMPONENT_UPDATES_AVAILABLE,message:"Component updates available"}}))}}}else{if(!n.library.del.matches(t)){if(n.library.clearLocal.matches(t)){const i=e.getState().library.local.thumbnails;for(const e in i){const{url:a}=i[e];a&&I.revokeThumbnailUrl(a)}return S.resetLibraryPromises(),a(t)}if(n.library.setSparseDragState.matches(t)){const i=!!e.getState().library.dragState.draggingLibraryItem;a(t);const r=!!e.getState().library.dragState.draggingLibraryItem;return void(i!==r&&u.Fullscreen.setIsDraggingInstanceFromSidebar(r))}return a(t)}{a(t);const r=e.getState();if(h.getEditingFile(r)){e.dispatch(b.updateLibraryFromPublishedAndLocalData());const a=r.library.published,l=t.payload.file,s=l.team_id;s&&m.isEmpty(a.components[s])&&e.dispatch(n.library.setLibraryView({teamId:null,fileKey:null})),s&&a.styles[s]&&!a.styles[s][l.key]&&e.getState().colorPicker.selectedSwatchSetId===l.key&&e.dispatch(i.colorPicker.selectSwatchSet({swatchId:g.DOCUMENT_SWATCH_SET_ID}))}}}}}))}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=t(108     );let c,o,r=new Map,a=0;const i=new RegExp("^[#|@] sourceMappingURL=(.*)");function u(){return o||(o=function(){if(!c){const e="https://static.figma.com/scripts/esprima-4.0.1.min.js";(c=s.default.get(e,null,{raw:!0}).then(e=>e.response+"")).catch(()=>c=void 0)}return c}().then(e=>{const n=`\n        function getRelativeSourceMapUrlRanges(comments) {\n          const ranges = [];\n          for (const comment of comments) {\n            if (comment.type !== 'Line') {\n              continue;\n            }\n\n            const match = comment.value.match(${i});\n            if (match) {\n              try {\n                const sourceMapUrl = new URL(match[1]);\n              } catch (e) {\n                // Not a valid url for source maps\n                ranges.push(comment.range);\n              }\n            }\n          }\n          return ranges;\n        };\n\n        onmessage = function(e) {\n          const id = e.data[0];\n          try {\n            const parsed = esprima.parse(e.data[1], { comment: true, range: true });\n            const rangesToRemove = getRelativeSourceMapUrlRanges(parsed.comments);\n            postMessage([id, { success: true, rangesToRemove }]);\n          } catch (e) {\n            e = {\n              index: e.index,\n              description: e.description,\n              column: e.column, // Annoyingly, this is non-enumerable\n              lineNumber: e.lineNumber\n            };\n            postMessage([id, { success: false, error: e }]);\n          }\n        };\n      `,t=URL.createObjectURL(new Blob([e,n])),s=new Worker(t);return s.onmessage=(e=>{const[n,s]=e.data,c=r.get(n);void 0!==c&&(r.delete(n),c(s)),URL.revokeObjectURL(t)}),s})).catch(()=>o=void 0),o}n.prepareForSyntaxChecking=function(){u()},n.checkJavaScriptSyntax=async function(e){const n=await u();return new Promise(t=>{const s=a++;return r.set(s,t),n.postMessage([s,e]),{success:!0}})}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(108     ),i=r(751                                  );t.pluginCodeCache=new class{constructor(){this.forceRefresh=(async(e,t)=>{if(!t.redirect_code_url)throw new Error("Invalid code download url");let r="";const c=s.default.get(t.redirect_code_url,null,{raw:!0}).then(({data:e})=>(r=e,i.checkJavaScriptSyntax(r))).then(t=>{if(!t.success)throw new Error("code is not valid javascript");return delete this.requestsInFlight[e],this.cache[e]=r,r}).catch(t=>{throw delete this.requestsInFlight[e],t});return this.requestsInFlight[e]=c,c}),this.getAndCache=(e=>{const t=this.getPluginVersionHash(e);return t?t in this.cache?Promise.resolve(this.cache[t]):t in this.requestsInFlight?this.requestsInFlight[t]:this.forceRefresh(t,e):Promise.resolve(null)}),this.clearCache=(()=>{this.cache=Object.create(null),this.requestsInFlight=Object.create(null)}),this.clearCache()}getPluginVersionHash(e){return e&&e.id&&e.plugin_id?`${e.plugin_id}:${e.id}`:null}}}),
(function(o,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(o){o[o.INVITE=0]="INVITE",o[o.PUBLISH=1]="PUBLISH"}(i.FilePermissionsModalTabView||(i.FilePermissionsModalTabView={})),function(o){o.FOLLOWERS="followers",o.FOLLOWING="following"}(i.FollowsListModalTabView||(i.FollowsListModalTabView={}))}),
(function(e,t,s){e.exports={base:"tab--base--vEslZ text--fontPos14--3UJ36 text--_fontBase--YWDo0",selected:"tab--selected--2mpPj",unselected:"tab--unselected--2T1WZ",disabled:"tab--disabled--K6250"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const l=t(2,1    ),i=t(141              ),r=t(754        );class a extends i.Component{constructor(){super(...arguments),this.styleOverrides=(()=>({})),this.applyDefaultStyles=(()=>!0),this.onClick=i.mouseEvent(this,"click",()=>{this.props.onClick&&this.props.onClick(this.props.tab)})}render(){const e=this.applyDefaultStyles()?r.base:"",s=this.styleOverrides().base;let t=this.applyDefaultStyles()?r.unselected:"",i=this.styleOverrides().unselected;return this.props.disabled?(t=this.applyDefaultStyles()?r.disabled:"",i=this.styleOverrides().disabled):this.props.selectedTab===this.props.tab&&(t=this.applyDefaultStyles()?r.selected:"",i=this.styleOverrides().selected),l.createElement("div",{className:`${e} ${s||""} ${t} ${i||""}`,onClick:this.onClick},this.props.children)}}s.Tab=a,a.displayName="Tab"}),
(function(e,a,d){e.exports={modalBackground:"header_modal--modalBackground--3fkKH",modal:"header_modal--modal--3V0h3 modal--modalShadow--HbHkT",header:"header_modal--header--c8kL6",headerSmall:"header_modal--headerSmall--8-Lat header_modal--header--c8kL6",headerLarge:"header_modal--headerLarge--3rkae header_modal--header--c8kL6",headerHidden:"header_modal--headerHidden--1BUZD",headerModalTitle:"header_modal--headerModalTitle--8hnpX",headerModalTitleWithoutOverflow:"header_modal--headerModalTitleWithoutOverflow--1rTCG header_modal--headerModalTitle--8hnpX",fixedTop:"header_modal--fixedTop--34GrB"}}),
(function(o,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});const a=e(85                   );!function(o){o.ASSETS_TAB="assets-tab",o.TEAM_LIBRARY="team-library",o.MODAL_CLOSE_BUTTON="modal-close-button",o.PUBLISH_WALK_THROUGH_LIBRARY="publish-walk-through-library",o.CONFIRM_PUBLISH_WALK_THROUGH_LIBRARY="confirm-publish-walk-through-library",o.LOCAL_COMPONENTS_SECTION_HEADER="local-components-section-header",o.PUBLISHED_LIBRARY_SECTION_HEADER="published-library-section-header",o.PUBLISHED_MUSIC_CONTROLS_SECTION_HEADER="published-music-controls-section-header",o.LOCAL_MUSIC_CONTROLS_SECTION_HEADER="local-music-controls-section-header",o.LOCAL_COMPONENT="walk-through-component-local",o.PUBLISHED_COMPONENT="walk-through-component-published",o.TEAM_LIBRARY_TOGGLE_FILE_VIEW="team-library-toggle-file-view",o.TEAM_LIBRARY_TOGGLE_LIST_VIEW="team-library-toggle-list-view"}(_.WalkthroughDataOnboardingKeys||(_.WalkthroughDataOnboardingKeys={})),function(o){o.LOCAL_COMPONENTS="Local components",o.MUSIC_CONTROLS="Music Controls"}(_.WalkthroughSectionHeaders||(_.WalkthroughSectionHeaders={})),function(o){o.LOCAL_COMPONENTS="local_components",o.PUBLISHED_COMPONENTS="published_components"}(_.WalkthroughPaths||(_.WalkthroughPaths={})),_.IMPORT_COMPONENT_WALKTHROUGH_USER_FLAG="pro_trials_v2_imported_component",_.proTrialComponentName=a.default().pro_trials_v2_component_name,_.proTrialLibraryName=(()=>a.default().user_data?`${a.default().user_data.name}'s ${a.default().pro_trials_v2_published_team_library_file_name}`:"USER_DATA_NOT_SET")}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=o(2,1    ),i=o(101                             ),n=o(138      ),a=o(152                                          ),r=o(756                 ),l=o(757                      ),p=o(141              );class d extends t.Component{constructor(){super(...arguments),this.onBackgroundMouseDown=(()=>{this.props.disableClickOutsideToHide||this.props.onClose&&this.props.onClose()}),this.onModalMouseDown=(e=>{e.stopPropagation()}),this.onKeyDown=(e=>{e.keyCode===n.Key.ESCAPE&&(this.props.disableClickOutsideToHide&&!this.props.closeOnEsc||this.props.onClose&&this.props.onClose())}),this.bgRef=(e=>{e&&this.props.closeOnEsc&&!e.contains(document.activeElement)&&e.focus()})}render(){const e=`${r.modalBackground} ${i.PREVENT_EVENT_CAPTURE} ${this.props.fixedTop?r.fixedTop:""}`;let s=this.props.maxWidth||492,o=this.props.minWidth||348;return s<o&&(s=492,o=348),t.createElement("div",{tabIndex:0,className:e,onMouseDown:this.onBackgroundMouseDown,onKeyDown:this.onKeyDown,ref:this.bgRef},t.createElement("div",{className:`${r.modal} ${this.props.containerClassName||""}`,style:{maxWidth:s,minWidth:o},onMouseDown:this.onModalMouseDown},t.createElement(h,{headerClassname:this.props.headerClassName||"",headerSize:this.props.headerSize,title:this.props.title,onClose:this.props.onClose,onMouseDown:this.onModalMouseDown,isCloseHidden:this.props.isCloseHidden,containerRef:this.props.containerRef},this.props.children)))}}s.HeaderModal=d,d.displayName="HeaderModal";class h extends t.Component{render(){let e=r.header;switch(this.props.headerSize){case"small":e=r.headerSmall;break;case"large":e=r.headerLarge;break;case"hidden":e=r.headerHidden}const s=`${this.props.headerClassname||""} ${e}`;return t.createElement("div",{className:`${this.props.className||""}`,ref:this.props.containerRef},t.createElement("div",{className:s,onMouseMove:this.props.onMouseMove},"string"==typeof this.props.title?t.createElement("div",{className:this.props.truncateTitleText?r.headerModalTitleWithoutOverflow:r.headerModalTitle},this.props.title):this.props.title,!this.props.isCloseHidden&&t.createElement(a.CloseButton,{dataOnboardingKey:l.WalkthroughDataOnboardingKeys.MODAL_CLOSE_BUTTON,onClick:this.props.onClose,onMouseDown:this.props.onMouseDown,innerText:"Close",className:this.props.closeButtonClassName,recordingKey:p.joinKeys(this.props,"headerModalContainer")})),this.props.children)}}s.HeaderModalContainer=h,h.displayName="HeaderModalContainer"}),
(function(l,o,t){l.exports={header:"follows_list_modal--header--2itwj",baseTab:"follows_list_modal--baseTab--p2UqJ text--fontPos14--3UJ36 text--_fontBase--YWDo0",selectedTab:"follows_list_modal--selectedTab--1tk6M follows_list_modal--baseTab--p2UqJ text--fontPos14--3UJ36 text--_fontBase--YWDo0",tabs:"follows_list_modal--tabs--7ltug",container:"follows_list_modal--container--oXolO",profileList:"follows_list_modal--profileList--nlToE",followsProfileTile:"follows_list_modal--followsProfileTile--2Us8q",profileInfoClickTarget:"follows_list_modal--profileInfoClickTarget--2y-eQ",avatar:"follows_list_modal--avatar--1M7Jl",profileInfo:"follows_list_modal--profileInfo--3j0n_",profileName:"follows_list_modal--profileName--3eShl ellipsis--ellipsis--1RWY6 text--fontPos13--1DoEt text--_fontBase--YWDo0",profileHandle:"follows_list_modal--profileHandle--3BugR ellipsis--ellipsis--1RWY6 text--fontPos12--3tEpz text--_fontBase--YWDo0",followButton:"follows_list_modal--followButton--lpD0l",loadingSpinner:"follows_list_modal--loadingSpinner--2w2yQ",emptyState:"follows_list_modal--emptyState--1Gx23",emptyStateText:"follows_list_modal--emptyStateText--3WZSh text--fontPos11--RSei3 text--_fontBase--YWDo0"}}),
(function(l,c,o){l.exports={src:'<svg width="288" height="200" viewBox="0 0 288 200" xmlns="http://www.w3.org/2000/svg"><path d="M192 100c0-26.51-21.49-48-48-48-26.51 0-48 21.49-48 48 0 26.51 21.49 48 48 48 26.51 0 48-21.49 48-48z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M144 53.5c1.448 0 2.881.066 4.295.196l1.494.136.273-2.987-1.494-.137c-1.014-.093-2.037-.155-3.068-.186V50.5h-3v.022c-1.031.031-2.054.093-3.068.186l-1.494.137.273 2.987 1.494-.136c1.414-.13 2.847-.196 4.295-.196zm12.327 1.626l1.433.443c2.76.854 5.411 1.958 7.926 3.286l1.326.701 1.401-2.653-1.326-.7c-2.677-1.414-5.5-2.59-8.441-3.5l-1.433-.443-.886 2.866zm-25.54-2.866l-1.433.443c-2.941.91-5.764 2.086-8.441 3.5l-1.326.7 1.401 2.653 1.326-.7c2.515-1.329 5.166-2.433 7.926-3.287l1.433-.443-.886-2.866zm41.766 11.005l1.153.96c2.205 1.832 4.237 3.864 6.07 6.069l.959 1.153 2.307-1.918-.959-1.153c-1.95-2.346-4.113-4.509-6.459-6.459l-1.154-.959-1.917 2.307zm-59.023-2.307l-1.154.96c-2.346 1.95-4.509 4.112-6.459 6.458l-.959 1.154 2.307 1.917.959-1.153c1.833-2.205 3.865-4.237 6.07-6.07l1.153-.959-1.917-2.307zm70.914 16.03l.7 1.326c1.329 2.515 2.433 5.166 3.287 7.926l.443 1.433 2.866-.886-.443-1.433c-.91-2.94-2.086-5.764-3.5-8.441l-.7-1.326-2.653 1.4zm-83.541-1.401l-.7 1.326c-1.414 2.677-2.59 5.5-3.5 8.44l-.443 1.434 2.866.886.443-1.433c.854-2.76 1.958-5.411 3.287-7.926l.7-1.326-2.653-1.401zm-6.058 18.35l-.137 1.495c-.093 1.014-.155 2.037-.186 3.068H94.5v3h.022c.031 1.031.093 2.054.186 3.068l.137 1.494 2.987-.273-.136-1.494c-.13-1.414-.196-2.847-.196-4.295 0-1.448.066-2.881.196-4.295l.136-1.494-2.987-.273zm95.323.274l.136 1.494c.13 1.414.196 2.847.196 4.295 0 1.448-.066 2.881-.196 4.295l-.136 1.494 2.987.273.137-1.494c.093-1.014.155-2.037.186-3.068h.022v-3h-.022c-.031-1.03-.093-2.054-.186-3.068l-.137-1.494-2.987.273zm-1.294 18.116l-.443 1.433c-.854 2.76-1.958 5.411-3.287 7.926l-.7 1.326 2.653 1.401.7-1.326c1.414-2.677 2.59-5.5 3.5-8.441l.443-1.433-2.866-.886zm-92.614.886l.443 1.433c.91 2.941 2.086 5.764 3.5 8.441l.7 1.326 2.653-1.401-.7-1.326c-1.329-2.515-2.433-5.166-3.287-7.926l-.443-1.433-2.866.886zm84.475 15.34l-.959 1.153c-1.833 2.205-3.865 4.237-6.07 6.07l-1.153.959 1.917 2.307 1.154-.959c2.346-1.95 4.509-4.113 6.459-6.459l.959-1.154-2.307-1.917zm-75.777 1.917l.959 1.154c1.95 2.346 4.113 4.509 6.459 6.459l1.154.959 1.917-2.307-1.153-.959c-2.205-1.833-4.237-3.865-6.07-6.07l-.959-1.153-2.307 1.917zm62.054 9.974l-1.326.7c-2.515 1.329-5.166 2.433-7.926 3.287l-1.433.443.886 2.866 1.433-.443c2.941-.91 5.764-2.086 8.441-3.5l1.326-.7-1.401-2.653zm-47.425 2.653l1.326.7c2.677 1.414 5.5 2.59 8.441 3.5l1.433.443.886-2.866-1.433-.443c-2.76-.854-5.411-1.958-7.926-3.287l-1.326-.7-1.401 2.653zm30.202 3.071l-1.494.136c-1.414.13-2.847.196-4.295.196-1.448 0-2.881-.066-4.295-.196l-1.494-.136-.273 2.987 1.494.137c1.014.093 2.037.155 3.068.186v.022h3v-.022c1.031-.031 2.054-.093 3.068-.186l1.494-.137-.273-2.987z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/><path d="M122 87c0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5 0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5zm34 0c0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5 0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5z" fill-rule="nonzero" fill-opacity="1" fill="#bbb" stroke="none"/><path d="M113.5 98.5v1.5c0 16.845 13.655 30.5 30.5 30.5 16.845 0 30.5-13.655 30.5-30.5v-1.5h3v1.5c0 18.502-14.998 33.5-33.5 33.5-18.502 0-33.5-14.998-33.5-33.5v-1.5h3z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/><path d="M200 140.5c0-8.56-6.94-15.5-15.5-15.5-8.56 0-15.5 6.94-15.5 15.5 0 8.56 6.94 15.5 15.5 15.5 8.56 0 15.5-6.94 15.5-15.5z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M201.5 140.5c0-9.389-7.611-17-17-17-9.389 0-17 7.611-17 17 0 9.389 7.611 17 17 17 9.389 0 17-7.611 17-17zm-17-14c7.732 0 14 6.268 14 14 0 7.732-6.268 14-14 14-7.732 0-14-6.268-14-14 0-7.732 6.268-14 14-14zM193 142h-17v-3h17v3zm-10 7v-17h3v17h-3z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/></svg>'}}),
(function(l,c,o){l.exports={src:'<svg width="288" height="200" viewBox="0 0 288 200" xmlns="http://www.w3.org/2000/svg"><path d="M192 100c0-26.51-21.49-48-48-48-26.51 0-48 21.49-48 48 0 26.51 21.49 48 48 48 26.51 0 48-21.49 48-48z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M193.5 100c0-27.338-22.162-49.5-49.5-49.5-27.338 0-49.5 22.162-49.5 49.5 0 27.338 22.162 49.5 49.5 49.5 27.338 0 49.5-22.162 49.5-49.5zM144 53.5c25.681 0 46.5 20.819 46.5 46.5 0 25.681-20.819 46.5-46.5 46.5-25.681 0-46.5-20.819-46.5-46.5 0-25.681 20.819-46.5 46.5-46.5z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/><path d="M122 87c0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5 0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5zm34 0c0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5 0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5z" fill-rule="nonzero" fill-opacity="1" fill="#bbb" stroke="none"/><path d="M113.5 98.5v1.5c0 16.845 13.655 30.5 30.5 30.5 16.845 0 30.5-13.655 30.5-30.5v-1.5h3v1.5c0 18.502-14.998 33.5-33.5 33.5-18.502 0-33.5-14.998-33.5-33.5v-1.5h3z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/><path d="M200 140.5c0-8.56-6.94-15.5-15.5-15.5-8.56 0-15.5 6.94-15.5 15.5 0 8.56 6.94 15.5 15.5 15.5 8.56 0 15.5-6.94 15.5-15.5z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M184.5 126.5c.937 0 1.851.092 2.734.267l1.471.291.583-2.943-1.472-.291c-.595-.118-1.201-.205-1.816-.259v-.065h-3v.065c-.615.054-1.221.141-1.816.259l-1.472.291.583 2.943 1.471-.291c.883-.175 1.797-.267 2.734-.267zm-8.2-.97l-1.247.834c-1.853 1.241-3.448 2.836-4.689 4.689l-.834 1.247 2.493 1.669.834-1.247c1.023-1.527 2.338-2.842 3.865-3.865l1.247-.834-1.669-2.493zm14.731 2.493l1.247.834c1.527 1.023 2.842 2.338 3.865 3.865l.834 1.247 2.493-1.669-.834-1.247c-1.241-1.853-2.836-3.448-4.689-4.689l-1.247-.834-1.669 2.493zm-22.916 7.689l-.291 1.472c-.118.595-.205 1.201-.259 1.816h-.065v3h.065c.054.615.141 1.221.259 1.816l.291 1.472 2.943-.583-.291-1.471c-.175-.883-.267-1.797-.267-2.734 0-.937.092-1.851.267-2.734l.291-1.471-2.943-.583zm29.827.583l.291 1.471c.175.883.267 1.797.267 2.734 0 .937-.092 1.851-.267 2.734l-.291 1.471 2.943.583.291-1.472c.118-.595.205-1.201.259-1.816h.065v-3h-.065c-.054-.615-.141-1.221-.259-1.816l-.291-1.472-2.943.583zM169.53 148.7l.834 1.247c1.241 1.853 2.836 3.448 4.689 4.689l1.247.834 1.669-2.493-1.247-.834c-1.527-1.023-2.842-2.338-3.865-3.865l-.834-1.247-2.493 1.669zm27.447-1.669l-.834 1.247c-1.023 1.527-2.338 2.842-3.865 3.865l-1.247.834 1.669 2.493 1.247-.834c1.853-1.241 3.448-2.836 4.689-4.689l.834-1.247-2.493-1.669zm-8.272 6.911l-1.471.291c-.883.175-1.797.267-2.734.267-.937 0-1.851-.092-2.734-.267l-1.471-.291-.583 2.943 1.472.291c.595.118 1.201.205 1.816.259v.065h3v-.065c.615-.054 1.221-.141 1.816-.259l1.472-.291-.583-2.943zM193 142h-17v-3h17v3zm-10 7v-17h3v17h-3z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/></svg>'}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=o(2,1    ),i=o(137                                    ),s=o(111          ),a=o(86            ),n=o(282             ),r=o(304                          ),c=o(129           ),d=o(113                                     ),h=o(98                  ),w=o(753                             ),f=o(475               ),p=o(581              ),m=o(755         ),g=o(758                                 ),b=o(136                    ),u=o(271                                        ),F=o(146                        ),S=o(759                                                   ),L=o(760                                          ),y=o(761                                          );class T extends m.Tab{constructor(){super(...arguments),this.styleOverrides=(()=>({base:S.baseTab,selected:S.selectedTab})),this.applyDefaultStyles=(()=>!1)}}class O extends l.Component{constructor(e){super(e),this.profileListRef=l.createRef(),this.modalContainerRef=l.createRef(),this.onScroll=(()=>{this.profileListRef.current&&this.modalContainerRef.current&&this.profileListRef.current.getBoundingClientRect().bottom<=this.modalContainerRef.current.getBoundingClientRect().bottom&&this.fetchNextFollows()}),this.scrollListener=a.debounce(this.onScroll),this.fetchNextFollows=(async()=>{this.props.currentSelectedView.followsModalTab===w.FollowsListModalTabView.FOLLOWERS?this.fetchFollowers():this.fetchFollowing()}),this.handleFetchFailure=(()=>{this.setState({didFetchFail:!0}),this.props.dispatch(h.flashActions.error("An error has occurred. Please refresh the page and try again."))}),this.onTabClick=(e=>{const t=this.props.profile.user_id?e:w.FollowsListModalTabView.FOLLOWERS;s.segment.track("Follows Modal Tab Clicked",{profileId:this.props.profile.id,tab:t,viewerProfileId:this.props.currentUserProfileId}),this.props.dispatch(d.fileBrowser.selectView(Object.assign(Object.assign({},this.props.currentSelectedView),{followsModalTab:e})))}),this.hideModal=(()=>{const e=Object.assign({},this.props.currentSelectedView);delete e.followsModalTab,this.props.dispatch(d.fileBrowser.selectView(e))}),this.getFollowsListHeightStyle=(e=>{const t=c.isMobileBrowser?window.innerHeight:window.innerHeight-128-48,o=e===w.FollowsListModalTabView.FOLLOWERS?this.props.profile.follower_count:this.props.profile.following_count;return{height:Math.min(Math.max(80*Math.min(o,r.PAGINATION_PAGE_SIZE),328),t)}}),this.renderTabs=(()=>{const e=this.props.currentSelectedView.followsModalTab;return l.createElement("div",{className:S.tabs},l.createElement(T,{onClick:()=>this.onTabClick(w.FollowsListModalTabView.FOLLOWERS),tab:w.FollowsListModalTabView.FOLLOWERS,selectedTab:e},"Followers"),this.props.profile.user_id&&l.createElement(T,{onClick:()=>this.onTabClick(w.FollowsListModalTabView.FOLLOWING),tab:w.FollowsListModalTabView.FOLLOWING,selectedTab:e},"Following"))}),this.renderView=(()=>{const e=this.props.currentSelectedView.followsModalTab,t=e===w.FollowsListModalTabView.FOLLOWERS?this.state.followerState:this.state.followingState,o=e===w.FollowsListModalTabView.FOLLOWERS?this.state.followerState.followers:this.state.followingState.following;return 0!=o.length||t.loading?l.createElement("div",{className:S.profileList,style:this.getFollowsListHeightStyle(e),ref:this.profileListRef,onScroll:this.scrollListener},o.map(t=>l.createElement("div",{className:S.followsProfileTile,key:t.id,onClick:()=>{this.props.dispatch(d.fileBrowser.selectView({view:"communityHub",subView:"handle",handle:t.profile_handle}))}},l.createElement("div",{className:S.profileInfoClickTarget},l.createElement(f.Avatar,{entity:t,size:48,className:S.avatar}),l.createElement("div",{className:S.profileInfo},l.createElement("div",{className:S.profileName},t.name),l.createElement("div",{className:S.profileHandle},"@",t.profile_handle))),t.id!=this.props.currentUserProfileId&&l.createElement(p.FollowButton,{profile:t,followClassName:S.followButton,followingClassName:S.followButton,trackingProperties:{modalTab:e,viewingProfileId:this.props.profile.id}}))),t.loading&&l.createElement(u.LoadingSpinner,{className:S.loadingSpinner})):e===w.FollowsListModalTabView.FOLLOWERS?l.createElement("div",{className:S.emptyState},l.createElement(F.Svg,{svg:L,useOriginalSrcFills:!0}),l.createElement("div",{className:S.emptyStateText},"No followers yet")):l.createElement("div",{className:S.emptyState},l.createElement(F.Svg,{svg:y,useOriginalSrcFills:!0}),l.createElement("div",{className:S.emptyStateText},"Not following anyone yet"))}),e.profile.user_id||e.currentSelectedView.followsModalTab!==w.FollowsListModalTabView.FOLLOWING||e.dispatch(d.fileBrowser.selectView(Object.assign(Object.assign({},e.currentSelectedView),{followsModalTab:w.FollowsListModalTabView.FOLLOWERS}))),this.state={followerState:{followers:[],loading:!1},followingState:{following:[],loading:!1},didFetchFail:!1}}async componentDidMount(){this.fetchNextFollows(),document.body.style.top=`-${window.scrollY}px`,document.body.style.position="fixed",document.body.style.left="0px",document.body.style.right="0px"}componentWillUnmount(){const e=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",window.scrollTo(0,-1*parseInt(e||"0"))}componentDidUpdate(e,t){e.currentSelectedView.followsModalTab!==this.props.currentSelectedView.followsModalTab&&this.fetchNextFollows()}async fetchFollowers(){if(n.hasMore(this.state.followerState)){this.setState({followerState:Object.assign(Object.assign({},this.state.followerState),{loading:!0}),didFetchFail:!1});try{const t=await n.paginate(`/api/followers/${this.props.profile.id}`,r.PAGINATION_PAGE_SIZE,this.state.followerState,n.NEXT_PAGE);this.setState({followerState:{followers:[...this.state.followerState.followers,...t.followers],loading:!1,pagination:t.pagination},didFetchFail:!1})}catch(e){this.handleFetchFailure()}}}async fetchFollowing(){if(n.hasMore(this.state.followingState)){this.setState({followingState:Object.assign(Object.assign({},this.state.followingState),{loading:!0}),didFetchFail:!1});try{const t=await n.paginate(`/api/following/${this.props.profile.id}`,r.PAGINATION_PAGE_SIZE,this.state.followingState,n.NEXT_PAGE);this.setState({followingState:{following:[...this.state.followingState.following,...t.following],loading:!1,pagination:t.pagination},didFetchFail:!1})}catch(e){this.handleFetchFailure()}}}render(){return l.createElement(i.TrackingContext,{name:"Follows List Modal"},l.createElement(g.HeaderModal,{title:this.renderTabs(),onClose:this.hideModal,headerClassName:S.header,containerClassName:S.container,containerRef:this.modalContainerRef,closeOnEsc:!0},this.renderView()))}}O.displayName="FollowsListModal",t.FOLLOWS_LIST_MODAL=b.registerModal(O,"FollowsListModal")}),
(function(e,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=i(85                   ),l=i(113                                     ),o=i(207                                   ),n=i(401                                               ),c=i(575                                                    ),s=i(752                              ),_=i(303                             ),p=i(398               ),r=i(468                                        ),d=i(762                                               ),u=i(577                                                                ),f=i(175                            ),m={},h=[d.FOLLOWS_LIST_MODAL.type,u.CHANGE_PROFILE_HANDLE,f.HUB_FILE_PUBLISH_MODAL,f.PLUGIN_PUBLISH_MODAL,f.PLUGIN_INSTALL_MODAL,f.PLUGIN_UNINSTALL_MODAL];a.default=(e=>a=>(function(i){if(l.fileBrowser.hydrate.matches(i)){const e=a(i);return s.pluginCodeCache.clearCache(),e}if(l.fileBrowser.selectView.matches(i)){const{selectedView:o,modalShown:n}=e.getState(),s=!!i.payload.followsModalTab,_=((null==n?void 0:n.type)||"")in h;return"communityHub"===o.view&&_&&!s&&e.dispatch(l.fileBrowser.hideModal()),"communityHub"===i.payload.view?(e.dispatch(c.savePageState(i.payload)),e.dispatch(p.authActions.setRedirectUrl({redirectUrl:r.selectedViewToPath(e.getState(),i.payload)}))):e.dispatch(p.authActions.setRedirectUrl({redirectUrl:t.initialOptions().redirect_url||null})),a(i)}if(o.fullscreen.open.matches(i)){const t=a(i);if(_.communityHubPublishingEnabled()){const a=i.payload.file&&i.payload.file.key;if(!a||m[a])return;m[a]=!0,e.dispatch(n.getHubFileMetadata({fileKey:i.payload.file.key}))}return t}return a(i)}))}),
(function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(n){function e(n){throw new Error("unreachable")}function t(n){switch(n.type){case"string-key":return n.string;case"plugin-name":return n.plugin;default:return e()}}function r(n){return function(n){return function(n){return"run-installed-plugin"===n.type&&"string"==typeof n.pluginId&&(void 0===n.command||"string"==typeof n.command)}(n)||function(n){return"run-local-plugin"===n.type&&"number"==typeof n.localFileId&&(void 0===n.command||"string"==typeof n.command)}(n)}(n)||function(n){return function(n){return"run-last"===n.type}(n)||function(n){return"manage"===n.type}(n)||function(n){return"create-new"===n.type}(n)||function(n){return"open-console"===n.type&&(void 0===n.showError||"string"==typeof n.showError)}(n)||function(n){return"internal-dev"===n.type}(n)||function(n){return"open-dir"===n.type&&"number"==typeof n.localFileId}(n)}(n)}function u(n){return function(n){return"run-menu-action"===n.type&&function(n){return function(n){return"string-key"===n.type&&"string"==typeof n.key&&"string"==typeof n.string}(n)||function(n){return"plugin-name"===n.type&&"string"==typeof n.plugin}(n)}(n.name)&&(void 0===n.menuAction||r(n.menuAction))&&(void 0===n.disabled||"boolean"==typeof n.disabled)}(n)||function(n){return"separator"===n.type}(n)||function(n){return"submenu"===n.type&&"string"==typeof n.name&&Array.isArray(n.submenu)&&n.submenu.every(u)}(n)}n.stringOfActionMenuItemName=t,n.nameOfMenuItem=function(n){switch(n.type){case"run-menu-action":return t(n.name);case"separator":return"";case"submenu":return n.name;default:return e()}},n.isMenuAction=r,n.isMenuItem=u}(e.PluginMenuV19||(e.PluginMenuV19={})),function(n){function e(n){throw new Error("unreachable")}function t(n){switch(n.type){case"string-key":return n.string;case"plugin-name":return n.plugin;default:return e()}}function r(n){return function(n){return"run-local-plugin"===n.type&&"number"==typeof n.localFileId&&(void 0===n.command||"string"==typeof n.command)}(n)||function(n){return"run-installed-plugin"===n.type&&"string"==typeof n.pluginId&&(void 0===n.command||"string"==typeof n.command)}(n)||function(n){return!("string"!=typeof n.type||void 0!==n.showError&&"string"!=typeof n.showError||void 0!==n.localFileId&&"number"!=typeof n.localFileId)}(n)}function u(n){return function(n){return"run-menu-action"===n.type&&function(n){return"string-key"===n.type&&"string"==typeof n.string||"plugin-name"===n.type&&"string"==typeof n.plugin}(n.name)&&(void 0===n.menuAction||r(n.menuAction))&&(void 0===n.disabled||"boolean"==typeof n.disabled)}(n)||"separator"===n.type||function(n){return"submenu"===n.type&&"string"==typeof n.name&&Array.isArray(n.submenu)&&n.submenu.every(u)}(n)}n.stringOfActionMenuItemName=t,n.nameOfMenuItem=function(n){switch(n.type){case"run-menu-action":return t(n.name);case"separator":return"";case"submenu":return n.name;default:return e()}},n.isMenuAction=r,n.isMenuItem=u}(e.PluginMenu||(e.PluginMenu={}))}),
(function(n,u,l){"use strict";Object.defineProperty(u,"__esModule",{value:!0});const t=l(440              );let e=null;u.setLastRunPluginArgs=function(n){e=n},u.clearLastRunPluginIfNotRunnable=function(n,u,l){e&&!t.isPluginRunnable({plugin:e.plugin,publishedPlugins:u,orgEntity:l,installedPlugins:n})&&(e=null)},u.getLastRunPluginArgs=function(){return e}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(261                               ),r=o(221       ),i=o(140         ),s=o(653                                 ),l=o(230       ),a=o(261        ),d=o(654                      ),c=/^-?\d+:-?\d+$/;class g{constructor(e,t,o){this.guid=e,this.sessionID=t,this.localID=o}setGlobalNodeID(){n.SceneNodeCpp.setGlobalUnstableNodeID(this.sessionID,this.localID)}get type(){return this.setGlobalNodeID(),r.schema.NodeType[n.SceneNodeCpp.getType(n.NodeContext.PLUGIN)]||"NONE"}get name(){return this.setGlobalNodeID(),n.SceneNodeCpp.getName(n.NodeContext.PLUGIN)}set name(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setName(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get locked(){return this.setGlobalNodeID(),n.SceneNodeCpp.getLocked(n.NodeContext.PLUGIN)}set locked(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setLocked(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get mask(){return this.setGlobalNodeID(),n.SceneNodeCpp.getMask(n.NodeContext.PLUGIN)}set mask(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setMask(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get visible(){return this.setGlobalNodeID(),n.SceneNodeCpp.getVisible(n.NodeContext.PLUGIN)}set visible(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setVisible(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get proportionsConstrained(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getProportionsConstrained()}set proportionsConstrained(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setProportionsConstrained(e);if(t)throw new Error(t)}get instanceScaleFactor(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getInstanceScaleFactor()}set instanceScaleFactor(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setInstanceScaleFactor(e);if(t)throw new Error(t)}get resizeToFit(){return this.setGlobalNodeID(),n.SceneNodeCpp.getResizeToFit(n.NodeContext.PLUGIN)}get stackMode(){return this.setGlobalNodeID(),r.schema.StackMode[n.SceneNodeCpp.getStackMode(n.NodeContext.PLUGIN)]||"NONE"}set stackMode(e){const t=r.schema.StackMode[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for stackMode");this.setGlobalNodeID(),n.SceneNodeCpp.setStackMode(t,n.NodeContext.PLUGIN)}get stackCounterSizing(){return this.setGlobalNodeID(),r.schema.StackSize[n.PluginSceneNodeCpp.getStackCounterSizing()]||null}set stackCounterSizing(e){const t=r.schema.StackSize[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for stackCounterSizing");this.setGlobalNodeID(),n.PluginSceneNodeCpp.setStackCounterSizing(t)}get stackCounterAlign(){return this.setGlobalNodeID(),r.schema.StackCounterAlign[n.PluginSceneNodeCpp.getStackCounterAlign()]||null}set stackCounterAlign(e){const t=r.schema.StackCounterAlign[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for stackCounterAlign");this.setGlobalNodeID(),n.PluginSceneNodeCpp.setStackCounterAlign(t)}get stackHorizontalPadding(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStackHorizontalPadding()}set stackHorizontalPadding(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStackHorizontalPadding(e);if(t)throw new Error(t)}get stackVerticalPadding(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStackVerticalPadding()}set stackVerticalPadding(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStackVerticalPadding(e);if(t)throw new Error(t)}get stackSpacing(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStackSpacing()}set stackSpacing(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStackSpacing(e);if(t)throw new Error(t)}get frameMaskDisabled(){return this.setGlobalNodeID(),n.SceneNodeCpp.getFrameMaskDisabled(n.NodeContext.PLUGIN)}set frameMaskDisabled(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setFrameMaskDisabled(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get isSymbolPublishable(){return this.setGlobalNodeID(),n.SceneNodeCpp.getIsSymbolPublishable(n.NodeContext.PLUGIN)}get stateGroupDescription(){return this.setGlobalNodeID(),n.SceneNodeCpp.getStateGroupDescription(n.NodeContext.PLUGIN)}get symbolDescription(){return this.setGlobalNodeID(),n.SceneNodeCpp.getSymbolDescription(n.NodeContext.PLUGIN)}set symbolDescription(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setSymbolDescription(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get cornerRadius(){return this.setGlobalNodeID(),n.SceneNodeCpp.getCornerRadius(n.NodeContext.PLUGIN)}set cornerRadius(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setCornerRadius(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get cornerRadiusOrMixed(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getCornerRadiusOrMixed()}set cornerRadiusOrMixed(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setCornerRadiusOrMixed(e);if(t)throw new Error(t)}get objectsPanelThumbnailId(){return this.setGlobalNodeID(),n.SceneNodeCpp.getObjectsPanelThumbnailId(n.NodeContext.PLUGIN)}get isExpandable(){return this.setGlobalNodeID(),n.SceneNodeCpp.getIsExpandable(n.NodeContext.PLUGIN)}get isExpanded(){return this.setGlobalNodeID(),n.SceneNodeCpp.getIsExpanded(n.NodeContext.PLUGIN)}set isExpanded(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setIsExpanded(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get isTemporarilyExpanded(){return this.setGlobalNodeID(),n.SceneNodeCpp.getIsTemporarilyExpanded(n.NodeContext.PLUGIN)}get styleType(){return this.setGlobalNodeID(),r.schema.StyleType[n.SceneNodeCpp.getStyleType(n.NodeContext.PLUGIN)]||void 0}get styleDescription(){return this.setGlobalNodeID(),n.SceneNodeCpp.getStyleDescription(n.NodeContext.PLUGIN)||""}set styleDescription(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setStyleDescription(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get componentKey(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getComponentKey(n.NodeContext.PLUGIN);return""===e?null:e}get stateGroupKey(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getStateGroupKey(n.NodeContext.PLUGIN);return""===e?null:e}get publishFile(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getPublishFile(n.NodeContext.PLUGIN);return""===e?null:e}get sharedSymbolVersion(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getSharedSymbolVersion(n.NodeContext.PLUGIN);return""===e?null:e}get sharedStateGroupVersion(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getSharedStateGroupVersion(n.NodeContext.PLUGIN);return""===e?null:e}get publishID(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getPublishID(n.NodeContext.PLUGIN);return""===e?null:e}get sharedSymbolReference(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getSharedSymbolReference(n.NodeContext.PLUGIN);return 0===e.length?null:r.schema.decodeSharedSymbolReference(e)}get exportSettings(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getExportSettings(n.NodeContext.PLUGIN);return""===e?[]:r.schema.decodeNodeChange(i.decode(e)).exportSettings||[]}set exportSettings(e){const t=r.schema.encodeNodeChange({exportSettings:e}),o=r.schema.decodeNodeChange(t).exportSettings;if(!s.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for export settings");this.setGlobalNodeID(),n.SceneNodeCpp.setExportSettings(i.encode(t),n.NodeContext.PLUGIN)}get parent(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getParent(n.NodeContext.PLUGIN);return""===e?null:e}get reversedChildren(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getReversedChildren(n.NodeContext.PLUGIN);return""===e?[]:e.split(" ")}get scrollDirection(){return this.setGlobalNodeID(),r.schema.ScrollDirection[n.SceneNodeCpp.getScrollDirection(n.NodeContext.PLUGIN)]||"NONE"}set scrollDirection(e){const t=r.schema.ScrollDirection[e];if("number"!=typeof t)throw new Error("Invalid value for scrollDirection");{this.setGlobalNodeID();const e=n.SceneNodeCpp.setScrollDirection(t,n.NodeContext.PLUGIN);if(e)throw new Error(e)}}get fixedChildrenCount(){return this.setGlobalNodeID(),n.SceneNodeCpp.getFixedChildrenCount(n.NodeContext.PLUGIN)}set fixedChildrenCount(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setFixedChildrenCount(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get booleanOperation(){return this.setGlobalNodeID(),r.schema.BooleanOperation[n.SceneNodeCpp.getBooleanOperation(n.NodeContext.PLUGIN)]||null}set booleanOperation(e){const t=r.schema.BooleanOperation[e];if("number"!=typeof t)throw new Error("Invalid value for booleanOperation");{this.setGlobalNodeID();const e=n.SceneNodeCpp.setBooleanOperation(t,n.NodeContext.PLUGIN);if(e)throw new Error(e)}}get horizontalConstraint(){return this.setGlobalNodeID(),r.schema.ConstraintType[n.PluginSceneNodeCpp.getHorizontalConstraint()]||null}set horizontalConstraint(e){const t=r.schema.ConstraintType[e];if("number"!=typeof t)throw new Error("Invalid value for horizontalConstraint");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setHorizontalConstraint(t);if(e)throw new Error(e)}}get verticalConstraint(){return this.setGlobalNodeID(),r.schema.ConstraintType[n.PluginSceneNodeCpp.getVerticalConstraint()]||null}set verticalConstraint(e){const t=r.schema.ConstraintType[e];if("number"!=typeof t)throw new Error("Invalid value for verticalConstraint");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setVerticalConstraint(t);if(e)throw new Error(e)}}get hasEnabledStaticImagePaint(){return this.setGlobalNodeID(),n.SceneNodeCpp.getHasEnabledStaticImagePaint(n.NodeContext.PLUGIN)}get hasEnabledAnimatedPaint(){return this.setGlobalNodeID(),n.SceneNodeCpp.getHasEnabledAnimatedPaint(n.NodeContext.PLUGIN)}get isStateGroup(){return this.setGlobalNodeID(),n.SceneNodeCpp.getIsStateGroup(n.NodeContext.PLUGIN)}get isState(){return this.setGlobalNodeID(),n.SceneNodeCpp.getIsState(n.NodeContext.PLUGIN)}get isInternalOnlyNode(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getIsInternalOnlyNode()}get size(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getSize()}set size(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setSize(e.x,e.y);if(t)throw new Error(t)}get relativeTransform(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRelativeTransform()}set relativeTransform(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRelativeTransform(e.m00,e.m01,e.m02,e.m10,e.m11,e.m12);if(t)throw new Error(t)}get absoluteTransform(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getAbsoluteTransform()}get symbolId(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getSymbolId()}get prototypeStartNodeId(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getPrototypeStartNodeId();return e||null}get opacity(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getOpacity()}set opacity(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setOpacity(e);if(t)throw new Error(t)}get cornerSmoothing(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getCornerSmoothing()}set cornerSmoothing(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setCornerSmoothing(e);if(t)throw new Error(t)}get strokeWeight(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStrokeWeight()}set strokeWeight(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStrokeWeight(e);if(t)throw new Error(t)}get hasSharedStyleReference(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getHasSharedStyleReference()}get characters(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getCharacters()}get hasMissingFont(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.hasMissingFont()}get rectangleTopLeftCornerRadius(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleTopLeftCornerRadius()}set rectangleTopLeftCornerRadius(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleTopLeftCornerRadius(e);if(t)throw new Error(t)}get rectangleTopRightCornerRadius(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleTopRightCornerRadius()}set rectangleTopRightCornerRadius(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleTopRightCornerRadius(e);if(t)throw new Error(t)}get rectangleBottomLeftCornerRadius(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleBottomLeftCornerRadius()}set rectangleBottomLeftCornerRadius(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleBottomLeftCornerRadius(e);if(t)throw new Error(t)}get rectangleBottomRightCornerRadius(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleBottomRightCornerRadius()}set rectangleBottomRightCornerRadius(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleBottomRightCornerRadius(e);if(t)throw new Error(t)}get rectangleCornerRadiiIndependent(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleCornerRadiiIndependent()}set rectangleCornerRadiiIndependent(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleCornerRadiiIndependent(e);if(t)throw new Error(t)}get rectangleCornerToolIndependent(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleCornerToolIndependent()}set rectangleCornerToolIndependent(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleCornerToolIndependent(e);if(t)throw new Error(t)}get starInnerScale(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStarInnerScale()}set starInnerScale(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStarInnerScale(e);if(t)throw new Error(t)}get count(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getCount()}set count(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setCount(e);if(t)throw new Error(t)}get autoRename(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getAutoRename()}set autoRename(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setAutoRename(e);if(t)throw new Error(t)}get fillPaints(){this.setGlobalNodeID();const e=p("fillPaints",n.PluginSceneNodeCpp.getFillPaints());if(null==e)throw new Error("Figma Internal Error: fillPaints not found");return e}set fillPaints(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRangeFillPaints(0,-1,u("fillPaints",e));if(t)throw new Error(t)}get fillPaintsOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getRangeFillPaints(0,-1);return"mixed"===e?e:this.fillPaints}get strokePaints(){this.setGlobalNodeID();const e=p("strokePaints",n.PluginSceneNodeCpp.getStrokePaints());if(null==e)throw new Error("Figma Internal Error: strokePaints not found");return e}set strokePaints(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStrokePaints(u("strokePaints",e));if(t)throw new Error(t)}get backgroundPaints(){this.setGlobalNodeID();const e=p("backgroundPaints",n.PluginSceneNodeCpp.getBackgroundPaints());if(null==e)throw new Error("Figma Internal Error: backgroundPaints not found");return e}set backgroundPaints(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setBackgroundPaints(u("backgroundPaints",e));if(t)throw new Error(t)}get directlySelectedNodes(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getDirectlySelectedNodes();return""===e?[]:e.split(" ")}set directlySelectedNodes(e){for(const o of e)if(!c.test(o))throw new Error(`Invalid node id: ${o}`);this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setDirectlySelectedNodes(e.join(" "));if(t)throw new Error(t)}get layoutGrids(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getLayoutGrids();return""===e?[]:r.schema.decodeNodeChange(i.decode(e)).layoutGrids||[]}set layoutGrids(e){const t=r.schema.encodeNodeChange({layoutGrids:e}),o=r.schema.decodeNodeChange(t).layoutGrids;if(!s.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for layoutGrids");this.setGlobalNodeID();const l=n.PluginSceneNodeCpp.setLayoutGrids(i.encode(t));if(l)throw new Error(l)}get guides(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getGuides();return""===e?[]:r.schema.decodeNodeChange(i.decode(e)).guides||[]}set guides(e){const t=r.schema.encodeNodeChange({guides:e}),o=r.schema.decodeNodeChange(t).guides;if(!s.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for guides");this.setGlobalNodeID();const l=n.PluginSceneNodeCpp.setGuides(i.encode(t));if(l)throw new Error(l)}get effects(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getEffects();return""===e?[]:r.schema.decodeNodeChange(i.decode(e)).effects||[]}set effects(e){const t=r.schema.encodeNodeChange({effects:e}),o=r.schema.decodeNodeChange(t).effects;if(!s.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for effects");this.setGlobalNodeID();const l=n.PluginSceneNodeCpp.setEffects(i.encode(t));if(l)throw new Error(l)}get reactions(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getReactions()}get overlayPositionType(){return this.setGlobalNodeID(),r.schema.OverlayPositionType[n.PluginSceneNodeCpp.getOverlayPositionType()]||null}get overlayBackground(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getOverlayBackground()}get overlayBackgroundInteraction(){return this.setGlobalNodeID(),r.schema.OverlayBackgroundInteraction[n.PluginSceneNodeCpp.getOverlayBackgroundInteraction()]||null}get dashPattern(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getDashPattern();return""===e?[]:r.schema.decodeNodeChange(i.decode(e)).dashPattern||[]}set dashPattern(e){const t=r.schema.encodeNodeChange({dashPattern:e}),o=r.schema.decodeNodeChange(t).dashPattern;if(!s.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for dashPattern");this.setGlobalNodeID();const l=n.PluginSceneNodeCpp.setDashPattern(i.encode(t));if(l)throw new Error(l)}get fontSize(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getFontSize()}set fontSize(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRangeFontSize(0,-1,e);if(t)throw new Error(t)}get fontSizeOrMixed(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRangeFontSize(0,-1)}get paragraphIndent(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getParagraphIndent()}set paragraphIndent(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setParagraphIndent(e);if(t)throw new Error(t)}get paragraphSpacing(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getParagraphSpacing()}set paragraphSpacing(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setParagraphSpacing(e);if(t)throw new Error(t)}get strokeAlign(){return this.setGlobalNodeID(),r.schema.StrokeAlign[n.PluginSceneNodeCpp.getStrokeAlign()]||null}set strokeAlign(e){const t=r.schema.StrokeAlign[e];if("number"!=typeof t)throw new Error("Invalid value for strokeAlign");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setStrokeAlign(t);if(e)throw new Error(e)}}get strokeCap(){return this.setGlobalNodeID(),r.schema.StrokeCap[n.PluginSceneNodeCpp.getStrokeCap()]||null}set strokeCap(e){const t=r.schema.StrokeCap[e];if("number"!=typeof t)throw new Error("Invalid value for strokeCap");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setStrokeCap(t);if(e)throw new Error(e)}}get strokeCapOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getStrokeCapOrMixed();return"mixed"===e?e:r.schema.StrokeCap[e]||null}get strokeJoin(){return this.setGlobalNodeID(),r.schema.StrokeJoin[n.PluginSceneNodeCpp.getStrokeJoin()]||null}set strokeJoin(e){const t=r.schema.StrokeJoin[e];if("number"!=typeof t)throw new Error("Invalid value for strokeJoin");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setStrokeJoin(t);if(e)throw new Error(e)}}get strokeJoinOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getStrokeJoinOrMixed();return"mixed"===e?e:r.schema.StrokeJoin[e]||null}get handleMirroring(){return this.setGlobalNodeID(),r.schema.VectorMirror[n.PluginSceneNodeCpp.getHandleMirroring()]||null}set handleMirroring(e){const t=r.schema.VectorMirror[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for handleMirroring");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setHandleMirroring(t);if(e)throw new Error(e)}}get strokeMiterLimit(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStrokeMiterLimit()}set strokeMiterLimit(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStrokeMiterLimit(e);if(t)throw new Error(t)}get handleMirroringOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getHandleMirroringOrMixed();return"mixed"===e?e:r.schema.VectorMirror[e]||null}get blendMode(){return this.setGlobalNodeID(),r.schema.BlendMode[n.PluginSceneNodeCpp.getBlendMode()]||null}set blendMode(e){const t=r.schema.BlendMode[e];if("number"!=typeof t)throw new Error("Invalid value for blendMode");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setBlendMode(t);if(e)throw new Error(e)}}get textAlignHorizontal(){return this.setGlobalNodeID(),r.schema.TextAlignHorizontal[n.PluginSceneNodeCpp.getTextAlignHorizontal()]||null}set textAlignHorizontal(e){const t=r.schema.TextAlignHorizontal[e];if("number"!=typeof t)throw new Error("Invalid value for textAlignHorizontal");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setTextAlignHorizontal(t);if(e)throw new Error(e)}}get textAlignVertical(){return this.setGlobalNodeID(),r.schema.TextAlignVertical[n.PluginSceneNodeCpp.getTextAlignVertical()]||null}set textAlignVertical(e){const t=r.schema.TextAlignVertical[e];if("number"!=typeof t)throw new Error("Invalid value for textAlignVertical");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setTextAlignVertical(t);if(e)throw new Error(e)}}get textCase(){return this.setGlobalNodeID(),r.schema.TextCase[n.PluginSceneNodeCpp.getTextCase()]||null}set textCase(e){const t=r.schema.TextCase[e];if("number"!=typeof t)throw new Error("Invalid value for textCase");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setRangeTextCase(0,-1,t);if(e)throw new Error(e)}}get textCaseOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getRangeTextCase(0,-1);return"mixed"===e?e:r.schema.TextCase[e]||null}get textDecoration(){return this.setGlobalNodeID(),r.schema.TextDecoration[n.PluginSceneNodeCpp.getTextDecoration()]||null}set textDecoration(e){const t=r.schema.TextDecoration[e];if("number"!=typeof t)throw new Error("Invalid value for textDecoration");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setRangeTextDecoration(0,-1,t);if(e)throw new Error(e)}}get textDecorationOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getRangeTextDecoration(0,-1);return"mixed"===e?e:r.schema.TextDecoration[e]||null}get textAutoResize(){return this.setGlobalNodeID(),r.schema.TextAutoResize[n.PluginSceneNodeCpp.getTextAutoResize()]||null}set textAutoResize(e){const t=r.schema.TextAutoResize[e];if("number"!=typeof t)throw new Error("Invalid value for textAutoResize");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setTextAutoResize(t);if(e)throw new Error(e)}}get letterSpacing(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getLetterSpacing();return{value:e.value,units:r.schema.NumberUnits[e.units]}}set letterSpacing(e){const t=r.schema.NumberUnits[e.units];if("number"!=typeof t)throw new Error("Invalid format for letterSpacing");{this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setRangeLetterSpacing(0,-1,e.value,t);if(o)throw new Error(o)}}get letterSpacingOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getRangeLetterSpacing(0,-1);return"mixed"===e?e:{value:e.value,units:r.schema.NumberUnits[e.units]}}get lineHeight(){throw new Error("Figma Internal Error: direct call to lineHeight getter not supported")}set lineHeight(e){const t=r.schema.NumberUnits[e.units];if("number"!=typeof t)throw new Error("Invalid format for lineHeight");{this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setRangeLineHeight(0,-1,e.value,t);if(o)throw new Error(o)}}get lineHeightOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getRangeLineHeight(0,-1);return"mixed"===e?e:{value:e.value,units:r.schema.NumberUnits[e.units]}}get fontName(){return this.setGlobalNodeID(),n.SceneNodeCpp.getFontName(n.NodeContext.PLUGIN)}set fontName(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRangeFontName(0,-1,e.family,e.style,e.postscript);if(t)throw new Error(t)}get fontNameOrMixed(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRangeFontName(0,-1)}get arcData(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getArcData();if(""===e)throw new Error("Figma Internal Error: arcData not found");const t=r.schema.decodeNodeChange(i.decode(e)).arcData;if(!t||null==t.startingAngle||null==t.endingAngle||null==t.innerRadius)throw new Error("Figma Internal Error: arcData missing properties");return t}set arcData(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setArcData(e.startingAngle,e.endingAngle,e.innerRadius);if(t)throw new Error(t)}get vectorDataInfo(){this.setGlobalNodeID();const e=p("vectorData",n.PluginSceneNodeCpp.getVectorData());if(null==e)throw new Error("Figma Internal Error: vectorData not found");return e}set vectorDataInfo(e){const t=e.data.vectorNetworkBlob;if(null==t||t<0||t>=e.blobs.length)throw new Error("Invalid input for vectorData");this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setVectorData(u("vectorData",e));if(o)throw new Error(o)}get inheritedFillStyle(){return this.getInheritedStyleKey("inheritFillStyleKey")}set inheritedFillStyle(e){this.setInheritedStyleKey("inheritFillStyleKey",e)}get inheritedFillStyleOrMixed(){return this.getInheritedStyleKeyOrMixed("inheritFillStyleKey")}get inheritedFillStyleForStroke(){return this.getInheritedStyleKey("inheritFillStyleKeyForStroke")}set inheritedFillStyleForStroke(e){this.setInheritedStyleKey("inheritFillStyleKeyForStroke",e)}get inheritedFillStyleForBackground(){return this.getInheritedStyleKey("inheritFillStyleKeyForBackground")}set inheritedFillStyleForBackground(e){this.setInheritedStyleKey("inheritFillStyleKeyForBackground",e)}get inheritedEffectStyle(){return this.getInheritedStyleKey("inheritEffectStyleKey")}set inheritedEffectStyle(e){this.setInheritedStyleKey("inheritEffectStyleKey",e)}get inheritedTextStyle(){return this.getInheritedStyleKey("inheritTextStyleKey")}set inheritedTextStyle(e){this.setInheritedStyleKey("inheritTextStyleKey",e)}get inheritedTextStyleOrMixed(){return this.getInheritedStyleKeyOrMixed("inheritTextStyleKey")}get inheritedGridStyle(){return this.getInheritedStyleKey("inheritGridStyleKey")}set inheritedGridStyle(e){this.setInheritedStyleKey("inheritGridStyleKey",e)}clone(){if("DOCUMENT"===this.type)throw new Error("Cannot clone the root node");this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.cloneNode();if(!e)throw new Error("Failed to clone node");return e}createInstance(){if("SYMBOL"!==this.type)throw new Error("Can only create instances of components");this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.createInstance();if("success"!==e.status)throw console.error("createInstance got error",e.error),new Error(e.error);return e.nodeId}removeSelfAndChildren(){if(this.setGlobalNodeID(),!n.PluginSceneNodeCpp.removeSelfAndChildren())throw new Error("Removing this node is not allowed")}appendChild(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.getChildCount(),o=n.PluginSceneNodeCpp.insertChild(this.sessionID,this.localID,t,e.sessionID,e.localID);if(o)throw new Error(o)}insertChild(e,t){const o=n.PluginSceneNodeCpp.insertChild(this.sessionID,this.localID,t,e.sessionID,e.localID);if(o)throw new Error(o)}resizeWithConstraints(e,t){this.setGlobalNodeID(),n.PluginSceneNodeCpp.resizeWithConstraints(e,t)}resizeWithoutConstraints(e,t){this.setGlobalNodeID(),n.PluginSceneNodeCpp.setSize(e,t)}rescale(e){this.setGlobalNodeID(),n.PluginSceneNodeCpp.rescale(e)}outlineStroke(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.outlineStroke()}export(e){if(this.setGlobalNodeID(),e){const t=i.encode(r.schema.encodeNodeChange({exportSettings:e}));return n.PluginSceneNodeCpp.exportAsImage(t)}return n.PluginSceneNodeCpp.exportAsImage("")}getSelectedTextRange(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getSelectedTextRange()}setSelectedTextRange(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setSelectedTextRange(e,t,o);if(r)throw new Error(r)}getRangeFontSize(e,t){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRangeFontSize(e,t)}setRangeFontSize(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeFontSize(e,t,o);if(r)throw new Error(r)}getRangeFontName(e,t){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRangeFontName(e,t)}setRangeFontName(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeFontName(e,t,o.family,o.style,o.postscript);if(r)throw new Error(r)}getRangeTextCase(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.getRangeTextCase(e,t);return"mixed"===o?o:r.schema.TextCase[o]||null}setRangeTextCase(e,t,o){const i=r.schema.TextCase[o];if("number"!=typeof i)throw new Error("Invalid value for setRangeTextCase");{this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setRangeTextCase(e,t,i);if(o)throw new Error(o)}}getRangeTextDecoration(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.getRangeTextDecoration(e,t);return"mixed"===o?o:r.schema.TextDecoration[o]||null}setRangeTextDecoration(e,t,o){const i=r.schema.TextDecoration[o];if("number"!=typeof i)throw new Error("Invalid value for setRangeTextDecoration");{this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setRangeTextDecoration(e,t,i);if(o)throw new Error(o)}}getRangeLetterSpacing(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.getRangeLetterSpacing(e,t);return"mixed"===o?o:{value:o.value,units:r.schema.NumberUnits[o.units]}}setRangeLetterSpacing(e,t,o){const i=r.schema.NumberUnits[o.units];if("number"!=typeof i)throw new Error("Invalid format for setRangeLetterSpacing");{this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeLetterSpacing(e,t,o.value,i);if(r)throw new Error(r)}}getRangeLineHeight(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.getRangeLineHeight(e,t);return"mixed"===o?o:{value:o.value,units:r.schema.NumberUnits[o.units]}}setRangeLineHeight(e,t,o){const i=r.schema.NumberUnits[o.units];if("number"!=typeof i)throw new Error("Invalid format for setRangeLineHeight");{this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeLineHeight(e,t,o.value,i);if(r)throw new Error(r)}}getRangeFillPaints(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.getRangeFillPaints(e,t);if("mixed"===o)return o;{const e=p("fillPaints",o);if(null==e)throw new Error("Figma Internal Error: fillPaints not found");return e}}setRangeFillPaints(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeFillPaints(e,t,u("fillPaints",o));if(r)throw new Error(r)}getRangeInheritedFillStyle(e,t){return this.getRangeInheritedStyleKey(e,t,"inheritFillStyleKey")}setRangeInheritedFillStyle(e,t,o){this.setRangeInheritedStyleKey(e,t,"inheritFillStyleKey",o)}getRangeInheritedTextStyle(e,t){return this.getRangeInheritedStyleKey(e,t,"inheritTextStyleKey")}setRangeInheritedTextStyle(e,t,o){this.setRangeInheritedStyleKey(e,t,"inheritTextStyleKey",o)}getPluginData(e,t){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getPluginData(e,t)}setPluginData(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setPluginData(e,t,o);if(r)throw new Error(r)}getSharedPluginData(e,t){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getSharedPluginData(e,t)}setSharedPluginData(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setSharedPluginData(e,t,o);if(r)throw new Error(r)}setRelaunchData(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setPluginRelaunchData(e,t);if(o)throw new Error(o)}spliceCharacters(e,t,o,r){this.setGlobalNodeID();const i=n.PluginSceneNodeCpp.spliceCharacters(e,t,o,r);if(i)throw new Error(i)}getSharedSymbolVersion(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getSharedSymbolVersion()}getStyleVersion(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStyleVersion()}getInheritedStyleKey(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.getInheritedStyle(e);return l.isValidStyleKey(t)?t:null}getInheritedStyleKeyOrMixed(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.getRangeInheritedStyle(0,-1,e);return"mixed"===t?"mixed":l.isValidStyleKey(t)?t:null}setInheritedStyleKey(e,t){if(t&&!l.isValidStyleKey(t))throw new Error(`Invalid style key ${t.key} and version ${t.version}`);const o=t||{key:"",version:""};this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeInheritedStyle(0,-1,e,o.key,o.version);if(r)throw new Error(`Cannot set style successfully: ${r}`)}getRangeInheritedStyleKey(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.getRangeInheritedStyle(e,t,o);return"mixed"===r?r:l.isValidStyleKey(r)?r:null}setRangeInheritedStyleKey(e,t,o,r){if(r&&!l.isValidStyleKey(r))throw new Error(`Invalid style key ${r.key} and version ${r.version}`);const i=r||{key:"",version:""};this.setGlobalNodeID();const s=n.PluginSceneNodeCpp.setRangeInheritedStyle(e,t,o,i.key,i.version);if(s)throw new Error(`Cannot set style successfully: ${s}`)}}class h{get(e){const t=d.parseIntegerFast(e,0),o=d.parseIntegerFast(e,e.indexOf(":")+1);if(n.SceneNodeCpp.setGlobalUnstableNodeID(t,o),n.SceneNodeCpp.exists(n.NodeContext.PLUGIN))return new g(e,t,o)}getCurrentPage(){return n.PluginSceneNodeCpp.getCurrentPage()||null}setCurrentPage(e){const t=n.PluginSceneNodeCpp.setCurrentPage(e.sessionID,e.localID);if(t)throw new Error(t)}createNode(e){const t=r.schema.NodeType[e];if("number"==typeof t){const e=n.PluginSceneNodeCpp.createNode(t);if(""!==e)return e}throw new Error(`Cannot create node with type ${e}`)}}function p(e,t){if(""===t)return;const o=r.schema.decodeMessage(i.decode(t));if(!o||!o.nodeChanges||1!==o.nodeChanges.length||void 0===o.nodeChanges[0][e])throw new Error(`Cannot read value for ${e}`);return{data:o.nodeChanges[0][e],blobs:o.blobs||[]}}function u(e,t){const o=r.schema.encodeNodeChange({[e]:t.data});if(!s.deepEqualsIgnoringNumberPrecision(t.data,r.schema.decodeNodeChange(o)[e]))throw new Error(`Invalid format for ${e}`);return i.encode(r.schema.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[{[e]:t.data}],blobs:t.blobs}))}t.SceneGraphShim=h,h.instance=new h,t.decodeDataWithBlobs=p,t.encodeDataWithBlobs=u;class N{get(e){const t=l.styleKeyFromString(e);if(!t)return;const o=a.Fullscreen.getStyleNodeId(t.key,t.version);return o?h.instance.get(o):void 0}createStyle(e){const t=r.schema.StyleType[e];if("number"!=typeof t)return null;const o=a.Fullscreen.createStyle(t);return l.styleKeyToString(o)}softDeleteStyle(e){e.removeSelfAndChildren()}getAllLocalStyles(e){const t=r.schema.StyleType[e];return"number"!=typeof t?[]:a.Fullscreen.getAllLocalStyles(t).map(l.styleKeyToString)}}t.StyleManager=N,N.instance=new N}),
(function(t,n,i){"use strict";function e(t,n){return{x:Math.min(t.x,n.x),y:Math.min(t.y,n.y)}}function r(t,n){return{x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)}}function x(t){return t.width<0||t.height<0||!isFinite(t.x)||!isFinite(t.y)||!isFinite(t.width)||!isFinite(t.height)}Object.defineProperty(n,"__esModule",{value:!0}),n.getRotationOfMatrix=function({m00:t,m10:n}){return Math.atan2(-n,t)},n.setRotationOfMatrix=function({m00:t,m01:n,m02:i,m10:e,m11:r,m12:x},y){const h=Math.sin(y),o=Math.cos(y),u=Math.sqrt(t*t+e*e),c=(t*n+e*r)/u,a=(-e*n+t*r)/u;return{m00:u*o,m01:c*o+a*h,m02:i,m10:-u*h,m11:-c*h+a*o,m12:x}},n.vectorEq=function(t,n){return t.x===n.x&&t.y===n.y},n.vectorMin=e,n.vectorAdd=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},n.vectorMax=r,n.computeBounds=function(t,n){const i=e(t,n),x=r(t,n);return{x:i.x,y:i.y,width:x.x-i.x,height:x.y-i.y}},n.rectContains=function(t,n){return n.x>=t.x&&n.x<=t.x+t.width&&n.y>=t.y&&n.y<=t.y+t.height},n.rectIsInvalid=x,n.rectUnionWith=function(t,n){if(x(t))return n;if(x(n))return t;const i=e({x:t.x,y:t.y},{x:n.x,y:n.y}),y=r({x:t.x+t.width,y:t.y+t.height},{x:n.x+n.width,y:n.y+n.height});return{x:i.x,y:i.y,width:y.x-i.x,height:y.y-i.y}}}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(767          ),o=0,s={Z:0,M:2,L:2,Q:4,C:6};function i(t){if(!t.data||!t.data.length)return[];const e=t.data.split(" "),n=[];for(let r of e){if("Z"===r||"M"===r||"L"===r||"Q"===r||"C"===r){n.push(r);continue}const t=Number(r);if(isNaN(t))throw new Error(`Failed to convert path. Invalid command at ${r}`);n.push(t)}if(n.length>0&&"M"!==n[0])throw new Error(`Failed to convert path. ${n[0]} is not a valid first command`);return n}function a(t,e){return{x:t.m00*e.x+t.m01*e.y+t.m02,y:t.m10*e.x+t.m11*e.y+t.m12}}function c(t,e,n,o){const s=r.computeBounds(t,o);if(r.rectContains(s,e)&&r.rectContains(s,n))return s;const i=[0,0,0,0],a=[0,0,0,0],c=[0,0,0,0],h=[0,0,0,0];let m=0,d=0;i[0]=0,a[0]=0,m=1+l(t.x,e.x,n.x,o.x,i,1),d=1+l(t.y,e.y,n.y,o.y,a,1),i[m++]=1,a[d++]=1,c[0]=t.x,h[0]=t.y;for(let r=1;r+1<m;r++)c[r]=g(t.x,e.x,n.x,o.x,i[r]);for(let r=1;r+1<d;r++)h[r]=g(t.y,e.y,n.y,o.y,a[r]);c[m-1]=o.x,h[d-1]=o.y;const u={x:t.x,y:t.y},f={x:t.x,y:t.y};for(let r=0;r<m;r++)u.x=Math.min(u.x,c[r]),f.x=Math.max(f.x,c[r]);for(let r=0;r<d;r++)u.y=Math.min(u.y,h[r]),f.y=Math.max(f.y,h[r]);return{x:u.x,y:u.y,width:f.x-u.x,height:f.y-u.y}}function g(t,e,n,r,o){let s=1-o;return s*(s*(s*t+3*o*e)+3*o*o*n)+o*o*o*r}function l(t,e,n,r,o,s){let i=3*(3*e+r-(t+3*n)),a=6*(t+n-2*e),c=3*(e-t),g=s;if(Math.abs(i)<1e-12&&(i=0),Math.abs(a)<1e-12&&(a=0),0!==i){const t=a*a-4*c*i;if(t>=0){const e=-a/(2*i),n=Math.sqrt(t)/Math.abs(2*i),r=e-n,s=e+n;0<r&&r<1&&(o[g++]=r),t>0&&0<s&&s<1&&(o[g++]=s)}}else if(0!==a){const t=-c/a;0<t&&t<1&&(o[g++]=t)}return g-s}function h(t){const e=[];return t?(t.forEach(t=>{e.push({windingRule:t.windingRule,loops:t.loops.map(t=>t.slice())})}),e):e}function m(t){return`${t.x} ${t.y}`}function d(t){return 0===t.tangentStart.x&&0===t.tangentStart.y&&0===t.tangentEnd.x&&0===t.tangentEnd.y}function u(t,e){if(e===t.start)return t.end;if(e===t.end)return t.start;throw new Error(`Unknown vertex (${e}) for segment (${t.start},${t.end})`)}e.pathToCommands=i,e.validateVectorNetwork=function(t){new f(t).checkValid()},e.scaleVectorNetwork=function(t,e){const n=t&&t.vertices||[],r=t&&t.segments||[],o=t&&t.regions||[],s={m00:e.x,m01:0,m02:0,m10:0,m11:e.y,m12:0};return{regions:h(o),segments:r.map(t=>({start:t.start,end:t.end,tangentStart:a(s,t.tangentStart),tangentEnd:a(s,t.tangentEnd)})),vertices:n.map(t=>Object.assign(Object.assign({},a(s,t)),{strokeCap:t.strokeCap,strokeJoin:t.strokeJoin,cornerRadius:t.cornerRadius,handleMirroring:t.handleMirroring}))}},e.translateVectorNetwork=function(t,e){const n=t&&t.vertices||[],r=t&&t.segments||[],o=t&&t.regions||[],s={m00:1,m01:0,m02:e.x,m10:0,m11:1,m12:e.y};return{regions:h(o),segments:function(t){const e=[];return t?(t.forEach(t=>{e.push({start:t.start,tangentStart:Object.assign({},t.tangentStart),end:t.end,tangentEnd:Object.assign({},t.tangentEnd)})}),e):e}(r),vertices:n.map(t=>Object.assign(Object.assign({},a(s,t)),{strokeCap:t.strokeCap,strokeJoin:t.strokeJoin,cornerRadius:t.cornerRadius,handleMirroring:t.handleMirroring}))}},e.encodeNetwork=function(t,e){const n=t&&t.vertices||[],r=t&&t.segments||[],s=t&&t.regions||[],i=[n.length,r.length,s.length],a=new Float32Array(1),c=new Int32Array(a.buffer);function g(t){return a[0]=t,c[0]}for(let o=0;o<n.length;o++){const t=n[o];i.push(e[o],g(t.x),g(t.y))}for(let l=0;l<r.length;l++){const t=r[l];i.push(o,t.start,g(t.tangentStart.x),g(t.tangentStart.y),t.end,g(t.tangentEnd.x),g(t.tangentEnd.y))}for(let l=0;l<s.length;l++){const t=s[l],e=t.loops;if("NONZERO"!==t.windingRule&&"EVENODD"!==t.windingRule)throw new Error("Invalid network has invalid winding rule "+JSON.stringify(t.windingRule));i.push(o<<1|("NONZERO"===t.windingRule?1:0),e.length);for(let n=0;n<e.length;n++){const t=e[n];i.push(t.length);for(let e=0;e<t.length;e++)i.push(t[e])}}return new Uint8Array(new Int32Array(i).buffer)},e.decodeNetwork=function(t,e){const n=[],r=[],o=[];if(t.length<3)return{vertices:n,segments:r,regions:o};const s=new Int32Array(t.buffer),i=new Float32Array(s.buffer);let a=0;const c=s[a++],g=s[a++],l=s[a++];for(let h=0;h<c;h++){let t=s[a++];const r=e.get(t)||e.get(0);n.push(Object.assign({x:i[a++],y:i[a++]},r))}for(let h=0;h<g;h++)a++,r.push({start:s[a++],tangentStart:{x:i[a++],y:i[a++]},end:s[a++],tangentEnd:{x:i[a++],y:i[a++]}});for(let h=0;h<l;h++){let t=s[a++],e=s[a++],n={windingRule:1&t?"NONZERO":"EVENODD",loops:[]};for(let r=0;r<e;r++){let t=s[a++],e=[];for(let n=0;n<t;n++)e.push(s[a++]);n.loops.push(e)}o.push(n)}if(a!==s.length)throw new Error("Failed to retrieve vector network, network data is invalid");return{vertices:n,segments:r,regions:o}},e.convertNetworkToPaths=function(t){const e=new f(t),n=Array(t.segments.length).fill(!1),o=[];if(e.isEmpty())return[];for(let a of e.regions){const t=new x(a.windingRule);for(const o of a.loops){let s=null;for(const{segment:i,segmentIndex:a}of e.getOrderedLoop(o)){n[a]=!0;const o=e.getVertex(i.start),c=e.getVertex(i.end);null===s&&(t.moveTo(o),s=o),d(i)?t.lineTo(c):t.curveTo(r.vectorAdd(o,i.tangentStart),r.vectorAdd(c,i.tangentEnd),c)}r.vectorEq(t.lastPosition,s)&&t.closePath()}o.push(t)}const s=[];for(let r=0;r<e.vertices.length;r++)s[r]=[];for(let r=0;r<e.segments.length;r++)n[r]||(s[e.segments[r].start].push(r),s[e.segments[r].end].push(r));const i=[];for(let r=0;r<2;r++)for(let t=0;t<e.vertices.length;t++)if(0!==r||2!==s[t].length)for(let r of s[t]){if(n[r])continue;let o=t,a=r;const c={segments:[],isClosed:!1,startingVertex:o};for(i.push(c);!n[a];){n[a]=!0,o=u(e.segments[a],o),c.segments.push(a);const t=s[o];if(2!==t.length)break;a=t[0]===a?t[1]:t[0]}o===t&&(c.isClosed=!0)}if(i.length>0){const t=new x("NONE");o.push(t);for(const n of i){let o=n.startingVertex,s=e.vertices[o];t.moveTo(s);for(const i of n.segments){const n=e.segments[i];o=n.start===o?n.end:n.start;const a=e.vertices[o];d(n)?t.lineTo(a):o===n.end?t.curveTo(r.vectorAdd(s,n.tangentStart),r.vectorAdd(a,n.tangentEnd),a):t.curveTo(r.vectorAdd(s,n.tangentEnd),r.vectorAdd(a,n.tangentStart),a),s=a}n.isClosed&&t.closePath()}}return o.map(t=>t.toVectorPath())},e.convertPathsToNetwork=function(t){const e=[],n=[],r=[],o={},a={},c=[];let g={x:0,y:0},l=null;function h(t){const n=m(t);return n in o?o[n]:(o[n]=e.length,e.push(t),o[n])}function d(t){const e=function(t){return t.start<t.end||t.start===t.end&&(t.tangentStart.x<t.tangentEnd.x||t.tangentStart.x===t.tangentEnd.x&&t.tangentStart.y<t.tangentEnd.y)?`${t.start} ${t.tangentStart.x} ${t.tangentStart.y} ${t.end} ${t.tangentEnd.x} ${t.tangentEnd.y}`:`${t.end} ${t.tangentEnd.x} ${t.tangentEnd.y} ${t.start} ${t.tangentStart.x} ${t.tangentStart.y}`}(t);return e in a?a[e]:(a[e]=n.length,n.push(t),a[e])}function u(){if(null===l){const t=h(g);l={startingVertex:t,loop:[]}}}function f(t){if(null!==l&&l.loop.length){const e=o[m(g)],n=l.startingVertex;if(t&&e!==n){const t=d({start:e,end:n,tangentStart:{x:0,y:0},tangentEnd:{x:0,y:0}});l.loop.push(t)}c.push(l.loop)}l=null}for(const x of t){const t=i(x),e=t.length;let n=0;for(;n<e;){const r=t[n++],i=s[r];if(void 0===i||n+i>e)throw new Error("Failed to convert path to network, invalid commands data");switch(r){case"M":l=null,g={x:t[n++],y:t[n++]};break;case"L":{u();const e=d({start:o[m(g)],end:h(g={x:t[n++],y:t[n++]}),tangentStart:{x:0,y:0},tangentEnd:{x:0,y:0}});l.loop.push(e);break}case"Q":{u();let e=g;const r=o[m(e)];let s={x:t[n++],y:t[n++]};const i=d({start:r,end:h(g={x:t[n++],y:t[n++]}),tangentStart:{x:2*(s.x-e.x)/3,y:2*(s.y-e.y)/3},tangentEnd:{x:2*(s.x-g.x)/3,y:2*(s.y-g.y)/3}});l.loop.push(i);break}case"C":{u();let e=g;const r=o[m(e)];let s={x:t[n++],y:t[n++]},i={x:t[n++],y:t[n++]};const a=d({start:r,end:h(g={x:t[n++],y:t[n++]}),tangentStart:{x:s.x-e.x,y:s.y-e.y},tangentEnd:{x:i.x-g.x,y:i.y-g.y}});l.loop.push(a);break}case"Z":f(!0)}}"NONE"!==x.windingRule&&(f(!1),c.length>0&&r.push({windingRule:x.windingRule,loops:c})),l=null}return{vertices:e,segments:n,regions:r}},e.multiplyTransforms=function(t,e){return{m00:t.m00*e.m00+t.m01*e.m10,m01:t.m00*e.m01+t.m01*e.m11,m02:t.m00*e.m02+t.m01*e.m12+t.m02,m10:t.m10*e.m00+t.m11*e.m10,m11:t.m10*e.m01+t.m11*e.m11,m12:t.m10*e.m02+t.m11*e.m12+t.m12}},e.invertMatrix=function(t){const e=1/(t.m00*t.m11-t.m01*t.m10);return{m00:t.m11*e,m01:-t.m01*e,m02:(t.m01*t.m12-t.m11*t.m02)*e,m10:-t.m10*e,m11:t.m00*e,m12:(t.m10*t.m02-t.m00*t.m12)*e}},e.transformVector=a,e.boundingBoxForNetwork=function(t){const e=t&&t.vertices||[],n=t&&t.segments||[];let o={x:1/0,y:1/0,width:-1/0,height:-1/0};for(let s of n){let t=e[s.start],n=e[s.end];o=r.rectUnionWith(o,r.computeBounds(t,n))}for(let s of n){if(0===s.tangentStart.x&&0===s.tangentStart.y&&0===s.tangentEnd.x&&0===s.tangentEnd.y)continue;const t=e[s.start],n={x:t.x+s.tangentStart.x,y:t.y+s.tangentStart.y},i=e[s.end],a={x:i.x+s.tangentEnd.x,y:i.y+s.tangentEnd.y};r.rectContains(o,n)&&r.rectContains(o,a)||(o=r.rectUnionWith(o,c(t,n,a,i)))}return isFinite(o.x)&&isFinite(o.y)&&isFinite(o.width)&&isFinite(o.height)?o:{x:0,y:0,width:0,height:0}};class f{constructor(t){this.regions=[],this.segments=[],this.vertices=[],t&&(this.regions=t.regions,this.segments=t.segments,this.vertices=t.vertices)}isEmpty(){return 0===this.vertices.length}hasVertex(t,e){return t.start===e||t.end===e}startingVertex(t){if(1===t.length)return this.segments[t[0]].start;const e=this.segments[t[0]],n=this.segments[t[1]];let r=this.hasVertex(n,e.end);const o=this.hasVertex(n,e.start);if(r&&o&&t.length>2){const n=this.segments[t[2]];r=this.hasVertex(n,e.start)}if(r)return e.start;if(!o)throw new Error("Network: invalid starting vertex");return e.end}getOrderedLoop(t){if(0===t.length)return[];const e=[];let n=this.startingVertex(t);for(let r of t){const t=this.segments[r],o=t.start===n;if(t.start!==n&&t.end!==n)throw new Error("Network: invalid loop");o?(e.push({segmentIndex:r,segment:{start:t.start,end:t.end,tangentStart:t.tangentStart,tangentEnd:t.tangentEnd}}),n=t.end):(e.push({segmentIndex:r,segment:{start:t.end,end:t.start,tangentStart:t.tangentEnd,tangentEnd:t.tangentStart}}),n=t.start)}return e}getVertex(t){return this.vertices[t]}checkValid(){for(const[t,e]of this.segments.entries()){if(e.start>=this.vertices.length)throw new Error(`vectorNetwork.segments[${t}].start does not refer to a valid vertex. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);if(e.end>=this.vertices.length)throw new Error(`vectorNetwork.segments[${t}].end does not refer to a valid vertex. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`)}for(const[t,e]of this.regions.entries()){if(0===e.loops.length)throw new Error(`vectorNetwork.regions[${t}].loops must have at least one loop. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);for(const[n,r]of e.loops.entries()){if(0===r.length)throw new Error(`vectorNetwork.regions[${t}].loops[${n}] must have at least one segment. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);for(const[o,s]of r.entries())if(s>=this.segments.length)throw new Error(`vectorNetwork.regions[${t}].loops[${n}][${o}] does not refer to a valid segment. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);let e=this.startingVertex(r);for(const[o,s]of r.entries()){const r=this.segments[s];if(e!=r.start&&e!=r.end)throw new Error(`vectorNetwork.regions[${t}].loops[${n}][${o}] does not connect properly with previous segment. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);e=u(r,e)}}}}}class x{constructor(t){this.windingRule=t,this.commands=[],this.lastPosition=null}moveTo(t){this.commands.push("M",t.x,t.y),this.lastPosition=t}lineTo(t){this.commands.push("L",t.x,t.y),this.lastPosition=t}curveTo(t,e,n){this.commands.push("C",t.x,t.y,e.x,e.y,n.x,n.y),this.lastPosition=n}closePath(){this.commands.push("Z"),this.lastPosition=null}toVectorPath(){return{windingRule:this.windingRule,data:this.commands.join(" ")}}}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(231       ),i=t(766                                          ),o=t(767          ),a=t(261                               ),s=t(101                             ),d=t(768                    ),u=t(333       ),c=t(653                  ),l=t(230                              ),f=t(438                ),p=t(439                        ),g=t(747                              ),m=t(85                   ),h=t(215                                          ),y=t(130                     ),b=t(285                            ),w=t(209                ),v=i.SceneGraphShim.instance,S=console.warn;class P extends Error{constructor(e){super(e)}}n.NodeNotFoundError=P;const A=i.StyleManager.instance;function R(e,n){if(!e.isObject(n))throw new Error(`Expected node, got ${e.isNull(n)?"null":e.typeof(n)}`);const t=e.getProp(n,"id");if(!e.isString(t))throw new Error(`Expected node id to be a string, got ${e.typeof(t)}`);const r=e.toString(t);if(l.looksLikeStyleKey(r)){const e=A.get(r);if(void 0===e)throw new P(`The style with id ${JSON.stringify(r)} does not exist`);return e}if(r.startsWith("I")){const e=a.PluginHelpers.guidFromDeveloperFriendlyId(r),n=e?v.get(e):void 0;if(void 0===n)throw new P(`The node (instance sublayer) with id ${JSON.stringify(r)} does not exist`);return n}return x(r)}function x(e){const n=v.get(e);if(void 0===n)throw new P(`The node with id ${JSON.stringify(e)} does not exist`);return n}function F(e){return"FRAME"===e.type&&e.resizeToFit}function T({vm:e,mixedSentinel:n,imageStore:t},r,i){e.defineProp(r,i,{enumerable:!0,get:function(){const r=R(e,this).fillPaintsOrMixed;if("mixed"===r)return n;const i=O(e,t,r.data);return e.deepFreezeObject(i),i},set:function(n){const r=[];return R(e,this).fillPaints={data:C(t,f.deepValidateAndUnwrap(e,n,p.Paints,i),r),blobs:r},e.undefined}})}function N(e){return[[e.m00,e.m01,e.m02],[e.m10,e.m11,e.m12]]}function I(e){return e?{m00:e[0][0],m01:e[0][1],m02:e[0][2],m10:e[1][0],m11:e[1][1],m12:e[1][2]}:{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}n.getNode=R,n.getNodeWrapperOrThrow=x,function(e){function n(e){const t=e.parent;if(!t)return;const r=v.get(t);r&&(n(r),g.setIsExpanded(e.guid,!0))}function t(e,n){if(!e)throw new Error(`Cannot ${n} in a plugin without an ID. `+'Make sure your plugin manifest has a valid "id" field.')}e.toString=function({vm:e,stats:n},t){e.defineFunction(t,"toString",function(){n.increment("node.toString");const t=e.toString(e.getProp(this,"id"));return e.newString(`[Node ${t}]`)})},e.clone=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"clone",function(){n.increment("node.clone");const r=R(e,this).clone();return t.createNode(r)})},e.remove=function({vm:e,stats:n},t){e.defineFunction(t,"remove",function(){return n.increment("node.remove"),R(e,this).removeSelfAndChildren(),e.undefined})},e.exportNode=function({vm:e,stats:n},t){e.defineFunction(t,"exportAsync",function(t){n.increment("node.exportAsync");const r=R(e,this),i=f.deepValidateAndUnwrap(e,t,p.ExportSetting.isOptional,"settings")||{format:"PNG"},o=r.export(k([i]));if(0===o.length)throw new Error("Failed to export node");const{promise:a,resolve:s}=e.newPromise();return s(e.newUint8Array(o)),a})},e.parent=function({vm:e,nodeFactory:n},t){e.defineProp(t,"parent",{enumerable:!0,get:function(){const t=R(e,this).parent;if(null===t)return e.null;const r=n.createNode(t),i=R(e,r);return i.sharedSymbolReference||"CANVAS"===i.type&&i.isInternalOnlyNode?e.null:r}})},e.name=function({vm:e},n){e.defineProp(n,"name",{enumerable:!0,get:function(){const n=R(e,this);return"DOCUMENT"===n.type?e.newString(h.fullscreen.getCurrentFileName()):e.newString(n.name)},set:function(n){const t=R(e,this);if("TEXT"===t.type)t.autoRename=!1;else if("DOCUMENT"===t.type){if(e.isString(n))return S("Setting the document name is currently not supported"),e.undefined;throw new Error("Setting the document name is currently not supported")}return t.name=f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"name"),e.undefined}})},e.visible=function({vm:e},n){e.defineProp(n,"visible",{enumerable:!0,get:function(){return e.newBoolean(R(e,this).visible)},set:function(n){return R(e,this).visible=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"visible"),e.undefined}})},e.locked=function({vm:e},n){e.defineProp(n,"locked",{enumerable:!0,get:function(){return e.newBoolean(R(e,this).locked)},set:function(n){return R(e,this).locked=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"locked"),e.undefined}})},e.expanded=function({vm:e},n){e.defineProp(n,"expanded",{enumerable:!0,get:function(){return e.newBoolean(R(e,this).isExpanded)},set:function(n){return R(e,this).isExpanded=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"expanded"),e.undefined}})},e.removed=function({vm:e},n){e.defineProp(n,"removed",{enumerable:!0,get:function(){try{return R(e,this),e.newBoolean(!1)}catch(n){if(n instanceof P)return e.newBoolean(!0);throw n}}})},e.children=function({vm:e,nodeFactory:n},t){e.defineProp(t,"children",{enumerable:!0,get:function(){const t=e.newArray(),r=R(e,this).reversedChildren,i=r.length;if("0:0"!==e.getStringProp(this,"id"))for(let o=0;o<i;o++)e.setProp(t,o.toString(),n.createNode(r[i-o-1]));else for(let o=0,a=0;o<i;o++){let s=r[i-o-1];x(s).isInternalOnlyNode||(e.setProp(t,a.toString(),n.createNode(s)),a++)}return e.deepFreezeObject(t),t}})},e.findOne=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"findOne",function(r){n.increment("node.findOne");const i=(n,o)=>{const a=n.reversedChildren,s=a.length;for(let d=0;d<s;d++){const n=x(a[s-d-1]);if(o&&n.isInternalOnlyNode)continue;const u=t.createNode(n.guid),c=e.callFunction(r,e.null,u);if("FAILURE"===c.type)throw new Error(`"findOne" callback crashed: ${c.error.message}`);if(e.toBoolean(c.handle))return u;const l=i(n,!1);if(void 0!==l)return l}},o=R(e,this),a=i(o,"0:0"===o.guid);return void 0!==a?a:e.null})},e.findAll=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"findAll",function(r){n.increment("node.findAll");const i=e.toBoolean(r),o=e.newArray();let a=0;const s=(n,d)=>{const u=n.reversedChildren,c=u.length;for(let l=0;l<c;l++){const n=x(u[c-l-1]);if(d&&n.isInternalOnlyNode)continue;const f=t.createNode(n.guid);if(i){const n=e.callFunction(r,e.null,f);if("FAILURE"===n.type)throw new Error(`"findAll" callback crashed: ${n.error.message}`);e.toBoolean(n.handle)&&(e.setProp(o,a+"",f),a++)}else e.setProp(o,a+"",f),a++;s(n,!1)}},d=R(e,this);return s(d,"0:0"===d.guid),o})},e.findChild=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"findChild",function(r){n.increment("node.findChild");const i=R(e,this),o="0:0"===i.guid,a=i.reversedChildren,s=a.length;for(let n=0;n<s;n++){const i=x(a[s-n-1]);if(o&&i.isInternalOnlyNode)continue;const d=t.createNode(i.guid),u=e.callFunction(r,e.null,d);if("FAILURE"===u.type)throw new Error(`"findChild" callback crashed: ${u.error.message}`);if(e.toBoolean(u.handle))return d}return e.null})},e.findChildren=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"findChildren",function(r){n.increment("node.findChildren");const i=R(e,this),o="0:0"===i.guid,a=e.newArray();let s=0;const d=i.reversedChildren,u=d.length;for(let n=0;n<u;n++){const i=x(d[u-n-1]);if(o&&i.isInternalOnlyNode)continue;const c=t.createNode(i.guid),l=e.callFunction(r,e.null,c);if("FAILURE"===l.type)throw new Error(`"findChildren" callback crashed: ${l.error.message}`);e.toBoolean(l.handle)&&(e.setProp(a,s+"",c),s++)}return a})},e.appendChild=function({vm:e,stats:n},t){e.defineFunction(t,"appendChild",function(t){return n.increment("node.appendChild"),R(e,this).appendChild(R(e,t)),e.null}),e.defineFunction(t,"insertChild",function(t,r){n.increment("node.insertChild");let i=f.deepValidateAndUnwrap(e,t,f.PropTypes.integer,"index");const o=R(e,this);if("0:0"===e.getStringProp(this,"id")){const e=o.reversedChildren,n=e.length;for(let t=0;t<n&&t<i;t++)x(e[n-t-1]).isInternalOnlyNode&&i++}return o.insertChild(R(e,r),i),e.null})},e.constraints=function({vm:e},n){e.defineProp(n,"constraints",{enumerable:!0,get:function(){const n=R(e,this);if(F(n))return e.undefined;if("BOOLEAN_OPERATION"===n.type)return e.undefined;const t=e.deepWrap({horizontal:n.horizontalConstraint,vertical:n.verticalConstraint});return e.deepFreezeObject(t),t},set:function(n){const t=R(e,this);if(F(t))throw new Error("Groups do not have a constraint property. Please set the constraints on the node's children.");if("BOOLEAN_OPERATION"===t.type)throw new Error("Boolean operations do not have a constraint property. Please set the constraints on the node's children.");const{vertical:r,horizontal:i}=f.deepValidateAndUnwrap(e,n,p.Constraints,"constraints");return t.verticalConstraint=r,t.horizontalConstraint=i,e.undefined}})},e.layoutAlign=function({vm:e},n){e.defineProp(n,"layoutAlign",{enumerable:!0,get:function(){return e.newString(R(e,this).stackCounterAlign)},set:function(n){return R(e,this).stackCounterAlign=f.deepValidateAndUnwrap(e,n,p.LayoutAlign,"layoutAlign"),e.undefined}})},e.layoutMode=function({vm:e},n){e.defineProp(n,"layoutMode",{enumerable:!0,get:function(){return e.newString(R(e,this).stackMode)},set:function(n){return R(e,this).stackMode=f.deepValidateAndUnwrap(e,n,p.LayoutMode,"layoutMode"),e.undefined}})},e.counterAxisSizingMode=function({vm:e},n){e.defineProp(n,"counterAxisSizingMode",{enumerable:!0,get:function(){switch(R(e,this).stackCounterSizing){case"FIXED":return e.newString("FIXED");case"RESIZE_TO_FIT":return e.newString("AUTO")}},set:function(n){switch(f.deepValidateAndUnwrap(e,n,p.CounterAxisSizingMode,"counterAxisSizingMode")){case"FIXED":R(e,this).stackCounterSizing="FIXED";break;case"AUTO":R(e,this).stackCounterSizing="RESIZE_TO_FIT"}return e.undefined}})},e.horizontalPadding=function({vm:e},n){e.defineProp(n,"horizontalPadding",{enumerable:!0,get:function(){return e.newNumber(R(e,this).stackHorizontalPadding)},set:function(n){return R(e,this).stackHorizontalPadding=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"horizontalPadding"),e.undefined}})},e.verticalPadding=function({vm:e},n){e.defineProp(n,"verticalPadding",{enumerable:!0,get:function(){return e.newNumber(R(e,this).stackVerticalPadding)},set:function(n){return R(e,this).stackVerticalPadding=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"verticalPadding"),e.undefined}})},e.itemSpacing=function({vm:e},n){e.defineProp(n,"itemSpacing",{enumerable:!0,get:function(){return e.newNumber(R(e,this).stackSpacing)},set:function(n){return R(e,this).stackSpacing=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"itemSpacing"),e.undefined}})},e.relativeTransform=function({vm:e},n){e.defineProp(n,"relativeTransform",{enumerable:!0,get:function(){const n=e.deepWrap(N(R(e,this).relativeTransform));return e.deepFreezeObject(n),n},set:function(n){return R(e,this).relativeTransform=I(f.deepValidateAndUnwrap(e,n,p.Matrix,"relativeTransform")),e.undefined}})},e.absoluteTransform=function({vm:e},n){e.defineProp(n,"absoluteTransform",{enumerable:!0,get:function(){const n=e.deepWrap(N(R(e,this).absoluteTransform));return e.deepFreezeObject(n),n}})},e.rotation=function({vm:e},n){e.defineProp(n,"rotation",{enumerable:!0,get:function(){const n=R(e,this),t=o.getRotationOfMatrix(n.relativeTransform)*(180/Math.PI);return e.newNumber(t)},set:function(n){const t=R(e,this),r=f.deepValidateAndUnwrap(e,n,f.PropTypes.float,"rotation")*(Math.PI/180);return t.relativeTransform=o.setRotationOfMatrix(t.relativeTransform,r),e.undefined}})},e.x=function({vm:e},n){e.defineProp(n,"x",{enumerable:!0,get:function(){return e.newNumber(R(e,this).relativeTransform.m02)},set:function(n){const t=R(e,this);return t.relativeTransform=Object.assign(Object.assign({},t.relativeTransform),{m02:f.deepValidateAndUnwrap(e,n,f.PropTypes.float,"x")}),e.undefined}})},e.y=function({vm:e},n){e.defineProp(n,"y",{enumerable:!0,get:function(){return e.newNumber(R(e,this).relativeTransform.m12)},set:function(n){const t=R(e,this);return t.relativeTransform=Object.assign(Object.assign({},t.relativeTransform),{m12:f.deepValidateAndUnwrap(e,n,f.PropTypes.float,"y")}),e.undefined}})},e.width=function({vm:e},n){e.defineProp(n,"width",{enumerable:!0,get:function(){return e.newNumber(R(e,this).size.x)}})},e.height=function({vm:e},n){e.defineProp(n,"height",{enumerable:!0,get:function(){return e.newNumber(R(e,this).size.y)}})},e.resizeWithoutConstraints=function({vm:e,stats:n},t){e.defineFunction(t,"resizeWithoutConstraints",function(t,r){n.increment("node.resizeWithoutConstraints");let i=R(e,this),o="LINE"===i.type?0:p.NonZeroPositiveFloat;const a=f.deepValidateAndUnwrap(e,t,p.NonZeroPositiveFloat,"width"),s=f.deepValidateAndUnwrap(e,r,o,"height");return i.hasMissingFont&&n.resizeNodeWithMissingFont(),i.resizeWithoutConstraints(a,s),e.undefined})},e.resizeWithConstraints=function({vm:e,stats:n},t){e.defineFunction(t,"resize",function(t,r){n.increment("node.resize");let i=R(e,this),o="LINE"===i.type?0:p.NonZeroPositiveFloat;const a=f.deepValidateAndUnwrap(e,t,p.NonZeroPositiveFloat,"width"),s=f.deepValidateAndUnwrap(e,r,o,"height");return i.hasMissingFont&&n.resizeNodeWithMissingFont(),i.resizeWithConstraints(a,s),e.undefined})},e.rescale=function({vm:e},n){e.defineFunction(n,"rescale",function(n){let t=R(e,this);const r=f.deepValidateAndUnwrap(e,n,f.PropTypes.float,"scale");return t.rescale(r),e.undefined})},e.constrainProportions=function({vm:e},n){e.defineProp(n,"constrainProportions",{enumerable:!0,get:function(){return e.newBoolean(R(e,this).proportionsConstrained)},set:function(n){return R(e,this).proportionsConstrained=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"constrainProportions"),e.undefined}})},e.opacity=function({vm:e},n){e.defineProp(n,"opacity",{enumerable:!0,get:function(){return e.newNumber(R(e,this).opacity)},set:function(n){return R(e,this).opacity=f.deepValidateAndUnwrap(e,n,p.ZeroToOne,"opacity"),e.undefined}})},e.blendMode=function({vm:e},n){e.defineProp(n,"blendMode",{enumerable:!0,get:function(){return e.newString(R(e,this).blendMode)},set:function(n){return R(e,this).blendMode=f.deepValidateAndUnwrap(e,n,p.BlendMode,"blendMode"),e.undefined}})},e.isMask=function({vm:e},n){e.defineProp(n,"isMask",{enumerable:!0,get:function(){return e.newBoolean(R(e,this).mask)},set:function(n){return R(e,this).mask=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"isMask"),e.undefined}})},e.effects=function({vm:e},n){e.defineProp(n,"effects",{enumerable:!0,get:function(){const n=e.deepWrap(R(e,this).effects.map(e=>"INNER_SHADOW"===e.type||"DROP_SHADOW"===e.type?{type:e.type,color:e.color,offset:e.offset,radius:e.radius,spread:e.spread,visible:e.visible,blendMode:e.blendMode}:{type:"FOREGROUND_BLUR"===e.type?"LAYER_BLUR":e.type,radius:e.radius,visible:e.visible}));return e.deepFreezeObject(n),n},set:function(n){const t=R(e,this);return t.effects=function(e,n){return e.map(e=>("INNER_SHADOW"!==e.type&&"DROP_SHADOW"!==e.type||(void 0===e.spread?delete e.spread:0!==e.spread&&(function(e){return"ROUNDED_RECTANGLE"===e.type||"RECTANGLE"===e.type||"ELLIPSE"===e.type||("FRAME"===e.type||"SYMBOL"===e.type||"INSTANCE"===e.type?((0===e.fillPaints.data.length||e.fillPaints.data.every(e=>!(e.visible&&e.opacity)))&&S("The 'spread' parameter is not supported when frames or components have no visible fills"),e.frameMaskDisabled&&S("The 'spread' parameter is not supported when frames or components have \"Clips content\" disabled."),!0):(S(`Spread is not supported for node type ${e.type}`),!1))}(n)||(e.spread=0))),Object.assign(Object.assign({},e),{type:"LAYER_BLUR"===e.type?"FOREGROUND_BLUR":e.type})))}(f.deepValidateAndUnwrap(e,n,p.Effects,"effects"),t),e.undefined}})},e.effectStyleId=function({vm:e},n){e.defineProp(n,"effectStyleId",{enumerable:!0,get:function(){return e.newString(l.styleKeyToString(R(e,this).inheritedEffectStyle))},set:function(n){return R(e,this).inheritedEffectStyle=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"effectStyleId")),e.undefined}})},e.cornerRadius=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"cornerRadius",{enumerable:!0,get:function(){const t=R(e,this);if(F(t))return e.undefined;let r=t.cornerRadiusOrMixed;return"mixed"===r?n:e.newNumber(r)},set:function(n){const t=R(e,this);if(F(t))throw new Error("Groups do not have a cornerRadius property. Please use frames instead.");const r=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"cornerRadius");return t.cornerRadiusOrMixed=r,e.undefined}})},e.cornerSmoothing=function({vm:e},n){e.defineProp(n,"cornerSmoothing",{enumerable:!0,get:function(){const n=R(e,this);return F(n)?e.undefined:e.newNumber(n.cornerSmoothing)},set:function(n){const t=R(e,this);if(F(t))throw new Error("Groups do not have a cornerSmoothing property. Please use frames instead.");return t.cornerSmoothing=f.deepValidateAndUnwrap(e,n,p.ZeroToOne,"cornerSmoothing"),e.undefined}})},e.fills=function(e,n){T(e,n,"fills")},e.fillStyleId=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"fillStyleId",{enumerable:!0,get:function(){const t=R(e,this).inheritedFillStyleOrMixed;return"mixed"===t?n:e.newString(l.styleKeyToString(t))},set:function(n){return R(e,this).inheritedFillStyle=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"fillStyleId")),e.undefined}})},e.strokes=function({vm:e,imageStore:n},t){e.defineProp(t,"strokes",{enumerable:!0,get:function(){const t=R(e,this),r=O(e,n,t.strokePaints.data);return e.deepFreezeObject(r),r},set:function(t){const r=[];return R(e,this).strokePaints={data:C(n,f.deepValidateAndUnwrap(e,t,p.Paints,"strokes"),r),blobs:r},e.undefined}})},e.strokeStyleId=function({vm:e},n){e.defineProp(n,"strokeStyleId",{enumerable:!0,get:function(){const n=R(e,this);return e.newString(l.styleKeyToString(n.inheritedFillStyleForStroke))},set:function(n){return R(e,this).inheritedFillStyleForStroke=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"effectStyleId")),e.undefined}})},e.strokeWeight=function({vm:e},n){e.defineProp(n,"strokeWeight",{enumerable:!0,get:function(){const n=R(e,this);return e.newNumber(n.strokeWeight)},set:function(n){return R(e,this).strokeWeight=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"strokeWeight"),e.undefined}})},e.strokeAlign=function({vm:e},n){e.defineProp(n,"strokeAlign",{enumerable:!0,get:function(){return e.newString(R(e,this).strokeAlign)},set:function(n){return R(e,this).strokeAlign=f.deepValidateAndUnwrap(e,n,p.StrokeAlign,"strokeAlign"),e.undefined}})},e.strokeCap=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"strokeCap",{enumerable:!0,get:function(){let t=R(e,this).strokeCapOrMixed;return"mixed"===t?n:e.newString(t)},set:function(n){return R(e,this).strokeCap=f.deepValidateAndUnwrap(e,n,p.StrokeCap,"strokeCap"),e.undefined}})},e.strokeJoin=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"strokeJoin",{enumerable:!0,get:function(){let t=R(e,this).strokeJoinOrMixed;return"mixed"===t?n:e.newString(t)},set:function(n){return R(e,this).strokeJoin=f.deepValidateAndUnwrap(e,n,p.StrokeJoin,"strokeJoin"),e.undefined}})},e.handleMirroring=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"handleMirroring",{enumerable:!0,get:function(){let t=R(e,this).handleMirroringOrMixed;return"mixed"===t?n:e.newString(t)},set:function(n){return R(e,this).handleMirroring=f.deepValidateAndUnwrap(e,n,p.HandleMirroring,"handleMirroring"),e.undefined}})},e.strokeMiterLimit=function({vm:e},n){e.defineProp(n,"strokeMiterLimit",{enumerable:!0,get:function(){return e.newNumber(R(e,this).strokeMiterLimit)},set:function(n){return R(e,this).strokeMiterLimit=f.deepValidateAndUnwrap(e,n,f.PropTypes.float.range(1,16),"strokeMiterLimit"),e.undefined}})},e.dashPattern=function({vm:e},n){e.defineProp(n,"dashPattern",{enumerable:!0,get:function(){const n=R(e,this),t=e.deepWrap(n.dashPattern);return e.deepFreezeObject(t),t},set:function(n){const t=f.deepValidateAndUnwrap(e,n,f.PropTypes.arrayOf(f.PropTypes.float.min(0)),"dashPattern");if(t.length>a.PluginHelpers.getMaxDashPattern())throw new Error("A maximum of 8 dash patterns is supported");return R(e,this).dashPattern=t,e.undefined}})},e.backgrounds=function({vm:e,imageStore:n},t){e.defineProp(t,"backgrounds",{enumerable:!0,get:function(){const t=R(e,this),r="CANVAS"!==t.type?O(e,n,t.fillPaints.data):O(e,n,t.backgroundPaints.data);return e.deepFreezeObject(r),r},set:function(t){const r=R(e,this),i=[],o={data:C(n,f.deepValidateAndUnwrap(e,t,p.Paints,"backgrounds"),i),blobs:i};if("CANVAS"!==r.type){if(F(r))return S("backgrounds on groups are no longer supported"),e.undefined;r.fillPaints=o}else r.backgroundPaints=o;return e.undefined}})},e.backgroundStyleId=function({vm:e},n){e.defineProp(n,"backgroundStyleId",{enumerable:!0,get:function(){const n=R(e,this),t=l.styleKeyToString(n.inheritedFillStyle);return e.newString(t)},set:function(n){const t=R(e,this),r=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"backgroundStyleId"));return F(t)?(S("backgrounds on groups are no longer supported"),e.undefined):(t.inheritedFillStyle=r,e.undefined)}})},e.layoutGrids=function({vm:e},n){e.defineProp(n,"layoutGrids",{enumerable:!0,get:function(){const n=e.deepWrap(void 0===(t=R(e,this).layoutGrids)?[]:t.map(e=>{let n={pattern:"GRID"===e.pattern?"GRID":"X"===e.axis?"COLUMNS":"ROWS",visible:e.visible,color:e.color};if("STRIPES"===e.pattern)switch(n.gutterSize=e.gutterSize,n.alignment=e.type,e.type){case"MIN":case"MAX":n.count=e.numSections===s.NUM_SECTIONS_INFINITE?Number.POSITIVE_INFINITY:e.numSections,n.sectionSize=e.sectionSize,n.offset=e.offset;break;case"STRETCH":n.count=e.numSections===s.NUM_SECTIONS_INFINITE?1:e.numSections,n.offset=e.offset;break;case"CENTER":n.count=e.numSections===s.NUM_SECTIONS_INFINITE?Number.POSITIVE_INFINITY:e.numSections,n.sectionSize=e.sectionSize}else n.sectionSize=e.sectionSize;return n}));var t;return e.deepFreezeObject(n),n},set:function(n){return R(e,this).layoutGrids=function(e){const n={alignment:"STRETCH",count:5,gutterSize:20,sectionSize:10,offset:0,visible:!0,color:{r:1,g:0,b:0,a:.1}};return e.map(e=>{const t=f.addDefaults(e,n);return{pattern:"COLUMNS"===t.pattern||"ROWS"===t.pattern?"STRIPES":t.pattern,axis:"COLUMNS"===t.pattern?"X":"Y",numSections:Math.min(t.count,s.NUM_SECTIONS_INFINITE),type:t.alignment,gutterSize:t.gutterSize,sectionSize:t.sectionSize,offset:t.offset,visible:t.visible,color:t.color}})}(f.deepValidateAndUnwrap(e,n,p.LayoutGrids,"layoutGrids")),e.undefined}})},e.gridStyleId=function({vm:e},n){e.defineProp(n,"gridStyleId",{enumerable:!0,get:function(){return e.newString(l.styleKeyToString(R(e,this).inheritedGridStyle))},set:function(n){return R(e,this).inheritedGridStyle=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"gridStyleId")),e.undefined}})},e.clipsContent=function({vm:e},n){e.defineProp(n,"clipsContent",{enumerable:!0,get:function(){return e.newBoolean(!R(e,this).frameMaskDisabled)},set:function(n){return R(e,this).frameMaskDisabled=!f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"clipsContent"),e.undefined}})},e.overflowDirection=function({vm:e},n){e.defineProp(n,"overflowDirection",{enumerable:!0,get:function(){const n=R(e,this);return e.newString(n.scrollDirection)},set:function(n){return R(e,this).scrollDirection=f.deepValidateAndUnwrap(e,n,p.OverflowDirection,"overflowDirection"),e.undefined}})},e.numberOfFixedChildren=function({vm:e},n){e.defineProp(n,"numberOfFixedChildren",{enumerable:!0,get:function(){const n=R(e,this);return e.newNumber(n.fixedChildrenCount)},set:function(n){const t=R(e,this),r=f.deepValidateAndUnwrap(e,n,p.PositiveInteger,"numberOfFixedChildren");if(r>t.reversedChildren.length)throw new Error("numberOfFixedChildren must be <= the number of children in the node");return t.fixedChildrenCount=r,e.undefined}})},e.description=function({vm:e},n){e.defineProp(n,"description",{enumerable:!0,get:function(){return e.newString(R(e,this).symbolDescription)},set:function(n){return R(e,this).symbolDescription=f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"description"),e.undefined}})},e.remote=function({vm:e},n){e.defineProp(n,"remote",{enumerable:!0,get:function(){const n=R(e,this);return e.newBoolean(a.SceneGraphHelpers.nodeIsSubscribedSymbol(n.guid))}})},e.getPublishStatus=function({vm:e},n){e.defineFunction(n,"getPublishStatusAsync",function(){const n=R(e,this),{promise:t,resolve:r,reject:i}=e.newPromise();return e.registerPromise(async function(e){await b.libraryComponentsPromise;const n=y.globalReduxStore.getState(),t=w.getEditingFile(n);if(!t)return"UNPUBLISHED";const r=n.library.published.components,i=b.getLibraryItemPublishedInFile(t,e.guid,r);let o=null;return!i||i.unpublished_at?"UNPUBLISHED":(o=i.content_hash)?e.getSharedSymbolVersion()===o?"CURRENT":"CHANGED":"UNPUBLISHED"}(n)).then(n=>r(e.newString(n)),n=>{i(e.newString("Failed to get component publish status"))}),t})},e.mainComponent=function({vm:e,nodeFactory:n},t){const r={enumerable:!0,get:function(){const t=R(e,this);return n.createNode(t.symbolId)},set:function(n){const t=R(e,this),r=R(e,n),i=a.PluginHelpers.replaceSymbolBackingInstance(t.guid,r.guid);if("failure"===i.status)throw new Error(i.error)}};e.defineProp(t,"mainComponent",r),e.defineProp(t,"masterComponent",r)},e.scaleFactor=function({vm:e},n){e.defineProp(n,"scaleFactor",{enumerable:!0,get:function(){return e.newNumber(R(e,this).instanceScaleFactor)},set:function(n){return R(e,this).instanceScaleFactor=f.deepValidateAndUnwrap(e,n,p.NonZeroPositiveFloat,"scaleFactor"),e.undefined}})},e.key=function({vm:e},n){e.defineProp(n,"key",{enumerable:!0,get:function(){const n=R(e,this);return e.newString(a.SceneGraphHelpers.getComponentKeyForNode(n.guid))}})},e.createInstance=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"createInstance",function(){n.increment("node.createInstance");const r=R(e,this).createInstance();return t.createNode(r)})},e.textStyleId=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"textStyleId",{enumerable:!0,get:function(){const t=R(e,this).inheritedTextStyleOrMixed;return"mixed"===t?n:e.newString(l.styleKeyToString(t))},set:function(n){return R(e,this).inheritedTextStyle=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"textStyleId")),e.undefined}})},e.characters=function({vm:e},n){e.defineProp(n,"characters",{enumerable:!0,get:function(){return e.newString(R(e,this).characters)},set:function(n){const t=R(e,this);return t.spliceCharacters(0,t.characters.length,f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"characters"),"BEFORE"),e.undefined}})},e.insertCharacters=function({vm:e,stats:n},t){e.defineFunction(t,"insertCharacters",function(t,r,i){n.increment("node.insertCharacters");const o=f.deepValidateAndUnwrap(e,t,f.PropTypes.integer.min(0),"start"),a=f.deepValidateAndUnwrap(e,r,f.PropTypes.string,"characters"),s=f.deepValidateAndUnwrap(e,i,f.PropTypes.oneOf(["BEFORE","AFTER"]).isOptional,"useStyle"),d=R(e,this);if(o>d.characters.length)throw new Error("Cannot insert characters at index greater than the length of the text");return d.spliceCharacters(o,o,a,s||"BEFORE"),e.undefined})},e.deleteCharacters=function({vm:e,stats:n},t){e.defineFunction(t,"deleteCharacters",function(t,r){n.increment("node.deleteCharacters");const i=f.deepValidateAndUnwrap(e,t,f.PropTypes.integer.min(0),"start"),o=f.deepValidateAndUnwrap(e,r,f.PropTypes.integer.min(0),"end"),a=R(e,this),s=a.characters.length;if(i>s||o>s)throw new Error("Cannot delete characters at index greater than the length of the text");if(i>o)throw new Error("deleteCharacters must have (start <= end)");return a.spliceCharacters(i,o,"","BEFORE"),e.undefined})},e.hasMissingFont=function({vm:e},n){e.defineProp(n,"hasMissingFont",{enumerable:!0,get:function(){return e.newBoolean(R(e,this).hasMissingFont)}})},e.autoRename=function({vm:e},n){e.defineProp(n,"autoRename",{enumerable:!0,get:function(){return e.newBoolean(R(e,this).autoRename)},set:function(n){const t=R(e,this),r=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"autoRename");return t.autoRename=r,r&&(t.name=t.characters.trim().replace(/\s+/g," ")),e.undefined}})},e.fontSize=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"fontSize",{enumerable:!0,get:function(){let t=R(e,this).fontSizeOrMixed;return"mixed"===t?n:e.newNumber(t)},set:function(n){return R(e,this).fontSize=f.deepValidateAndUnwrap(e,n,f.PropTypes.float.min(1),"fontSize"),e.undefined}})},e.paragraphIndent=function({vm:e},n){e.defineProp(n,"paragraphIndent",{enumerable:!0,get:function(){return e.newNumber(R(e,this).paragraphIndent)},set:function(n){return R(e,this).paragraphIndent=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"paragraphIndent"),e.undefined}})},e.paragraphSpacing=function({vm:e},n){e.defineProp(n,"paragraphSpacing",{enumerable:!0,get:function(){return e.newNumber(R(e,this).paragraphSpacing)},set:function(n){return R(e,this).paragraphSpacing=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"paragraphSpacing"),e.undefined}})},e.letterSpacing=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"letterSpacing",{enumerable:!0,get:function(){let t=R(e,this).letterSpacingOrMixed;if("mixed"===t)return n;const r=e.deepWrap({unit:t.units,value:t.value});return e.deepFreezeObject(r),r},set:function(n){let t=f.deepValidateAndUnwrap(e,n,p.LetterSpacing,"letterSpacing");return R(e,this).letterSpacing={units:t.unit,value:t.value},e.undefined}})},e.textAlignHorizontal=function({vm:e},n){e.defineProp(n,"textAlignHorizontal",{enumerable:!0,get:function(){return e.newString(R(e,this).textAlignHorizontal)},set:function(n){return R(e,this).textAlignHorizontal=f.deepValidateAndUnwrap(e,n,p.TextAlignHorizontal,"textAlignHorizontal"),e.undefined}})},e.textAlignVertical=function({vm:e},n){e.defineProp(n,"textAlignVertical",{enumerable:!0,get:function(){return e.newString(R(e,this).textAlignVertical)},set:function(n){return R(e,this).textAlignVertical=f.deepValidateAndUnwrap(e,n,p.TextAlignVertical,"textAlignVertical"),e.undefined}})},e.textCase=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"textCase",{enumerable:!0,get:function(){let t=R(e,this).textCaseOrMixed;return"mixed"===t?n:e.newString(t)},set:function(n){return R(e,this).textCase=f.deepValidateAndUnwrap(e,n,p.TextCase,"textCase"),e.undefined}})},e.textDecoration=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"textDecoration",{enumerable:!0,get:function(){let t=R(e,this).textDecorationOrMixed;return"mixed"===t?n:e.newString(t)},set:function(n){return R(e,this).textDecoration=f.deepValidateAndUnwrap(e,n,p.TextDecoration,"textDecoration"),e.undefined}})},e.textAutoResize=function({vm:e},n){e.defineProp(n,"textAutoResize",{enumerable:!0,get:function(){return e.newString(R(e,this).textAutoResize)},set:function(n){return R(e,this).textAutoResize=f.deepValidateAndUnwrap(e,n,p.TextAutoResize,"textAutoResize"),e.undefined}})},e.lineHeight=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"lineHeight",{enumerable:!0,get:function(){let t=R(e,this).lineHeightOrMixed;if("mixed"===t)return n;const r=e.deepWrap(U(t));return e.deepFreezeObject(r),r},set:function(n){return R(e,this).lineHeight=V(f.deepValidateAndUnwrap(e,n,p.LineHeight,"lineHeight")),e.undefined}})},e.fontName=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"fontName",{enumerable:!0,get:function(){let t=R(e,this).fontNameOrMixed;if("mixed"===t)return n;const r=e.deepWrap({family:t.family,style:t.style});return e.deepFreezeObject(r),r},set:function(n){return R(e,this).fontName=f.deepValidateAndUnwrap(e,n,p.FontName,"fontName"),e.undefined}})},e.pointCount=function({vm:e},n){e.defineProp(n,"pointCount",{enumerable:!0,get:function(){return e.newNumber(R(e,this).count)},set:function(n){return R(e,this).count=f.deepValidateAndUnwrap(e,n,f.PropTypes.integer.min(3),"pointCount"),e.undefined}})},e.vectorNetwork=function({vm:e},n){e.defineProp(n,"vectorNetwork",{enumerable:!0,get:function(){const n=R(e,this),{data:t,blobs:r}=n.vectorDataInfo,i=n.size;if(null==t.vectorNetworkBlob)throw new Error("Figma Internal Error: vector is missing data");const o=M(t,i,r[t.vectorNetworkBlob],n),a=e.deepWrap(o);return e.deepFreezeObject(a),a},set:function(n){const t=f.addDefaults(f.deepValidateAndUnwrap(e,n,p.VectorNetwork,"vectorNetwork"),{regions:[]});t.segments=t.segments.map(e=>f.addDefaults(e,{tangentStart:{x:0,y:0},tangentEnd:{x:0,y:0}})),d.validateVectorNetwork(t);const{boundingBox:r,blob:i,styleOverrideTable:o}=D(t),a={x:r.width,y:r.height},s={x:r.x,y:r.y},u=R(e,this);u.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:a,styleOverrideTable:o},blobs:[i]};const c=u.relativeTransform,l=d.transformVector(c,s);return u.size=a,u.relativeTransform=Object.assign(Object.assign({},c),{m02:l.x,m12:l.y}),e.undefined}})},e.vectorPaths=function({vm:e},n){e.defineProp(n,"vectorPaths",{enumerable:!0,get:function(){const n=R(e,this),{data:t,blobs:r}=n.vectorDataInfo,i=n.size;if(null==t.vectorNetworkBlob)throw new Error("Figma Internal Error: vector is missing data");const o=function(e,n,t,r){const i=M(e,n,t,r);return d.convertNetworkToPaths(i)}(t,i,r[t.vectorNetworkBlob],n),a=e.deepWrap(o);return e.deepFreezeObject(a),a},set:function(n){const{boundingBox:t,blob:r}=(i=f.deepValidateAndUnwrap(e,n,p.VectorPaths,"vectorPaths"),D(d.convertPathsToNetwork(i)));var i;const o={x:t.width,y:t.height},a={x:t.x,y:t.y},s=R(e,this);s.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:o},blobs:[r]};const u=s.relativeTransform,c=d.transformVector(u,a);return s.size=o,s.relativeTransform=Object.assign(Object.assign({},u),{m02:c.x,m12:c.y}),e.undefined}})},e.guides=function({vm:e},n){e.defineProp(n,"guides",{enumerable:!0,get:function(){const n=e.deepWrap(R(e,this).guides.map(e=>{if(null==e.axis||null==e.offset)throw new Error("Figma Internal Error: guide missing data");return{axis:e.axis,offset:e.offset}}));return e.deepFreezeObject(n),n},set:function(n){return R(e,this).guides=f.deepValidateAndUnwrap(e,n,p.Guides,"guides").map(e=>({axis:e.axis,offset:e.offset,guid:r.invalidGUID})),e.undefined}})},e.prototypeStartNode=function({vm:e,nodeFactory:n},t){e.defineProp(t,"prototypeStartNode",{enumerable:!0,get:function(){const t=R(e,this).prototypeStartNodeId;return t&&void 0!==v.get(t)?n.createNode(t):e.null}})},e.reactions=function({vm:e},n){e.defineProp(n,"reactions",{enumerable:!0,get:function(){const n=R(e,this).reactions,t=e.deepWrap(n);return e.deepFreezeObject(t),t}})},e.overlayPositionType=function({vm:e},n){e.defineProp(n,"overlayPositionType",{enumerable:!0,get:function(){return e.newString(R(e,this).overlayPositionType)}})},e.overlayBackgroundInteraction=function({vm:e},n){e.defineProp(n,"overlayBackgroundInteraction",{enumerable:!0,get:function(){return e.newString(R(e,this).overlayBackgroundInteraction)}})},e.overlayBackground=function({vm:e},n){e.defineProp(n,"overlayBackground",{enumerable:!0,get:function(){const n=R(e,this).overlayBackground,t=e.deepWrap(n);return e.deepFreezeObject(t),t}})},e.selection=function({vm:e,nodeFactory:t},r){e.defineProp(r,"selection",{enumerable:!0,get:function(){const n=e.newArray();let r=0;for(const i of R(e,this).directlySelectedNodes)e.setProp(n,r.toString(),t.createNode(i)),r++;return e.shallowFreezeObject(n),n},set:function(t){if(!e.isArray(t))throw new Error("The selection must be an array");const r=e.getNumberProp(t,"length"),i=[];for(let o=0;o<r;o++){const r=e.getProp(t,o.toString()),a=R(e,r);n(a),i.push(a.guid)}return R(e,this).directlySelectedNodes=i,e.undefined}}),e.defineProp(r,"selectedTextRange",{enumerable:!0,get:function(){const n=R(e,this).getSelectedTextRange();if(n){const r=e.newObject();return e.setProp(r,"node",t.createNode(n.textNodeId)),e.setProp(r,"start",e.newNumber(n.start)),e.setProp(r,"end",e.newNumber(n.end)),e.shallowFreezeObject(r),r}return e.null},set:function(n){const t=R(e,this);if(e.isNull(n))return function(e){const n=e.directlySelectedNodes;if(1===n.length){const e=v.get(n[0]);if(e&&"TEXT"===e.type)return e}return null}(t)&&h.fullscreen.triggerAction("leave-edit-mode"),e.undefined;const r=f.deepValidateAndUnwrap(e,n,p.SelectedText,"selectedTextRange"),i=R(e,e.getProp(n,"node"));if(r.end<r.start)throw new Error("selectedTextRange must have (start <= end)");const o=i.characters.length;if(r.start>o||r.end>o)throw new Error("selectedTextRange must have (start < # of characters), (end < # of characters)");return t.directlySelectedNodes=[i.guid],h.fullscreen.triggerAction("request-edit-mode"),t.setSelectedTextRange(i.guid,r.start,r.end),e.undefined}})},e.booleanOperation=function({vm:e},n){e.defineProp(n,"booleanOperation",{enumerable:!0,get:function(){let n=R(e,this).booleanOperation;return"XOR"===n&&(n="EXCLUDE"),e.newString(n)},set:function(n){let t=f.deepValidateAndUnwrap(e,n,p.BooleanOperation,"booleanOperation");return"EXCLUDE"===t&&(t="XOR"),R(e,this).booleanOperation=t,e.undefined}})},e.innerRadius=function({vm:e},n){e.defineProp(n,"innerRadius",{enumerable:!0,get:function(){return e.newNumber(R(e,this).starInnerScale)},set:function(n){return R(e,this).starInnerScale=f.deepValidateAndUnwrap(e,n,p.ZeroToOne,"innerRadius"),e.undefined}})},e.arcData=function({vm:e},n){e.defineProp(n,"arcData",{enumerable:!0,get:function(){const n=e.deepWrap(R(e,this).arcData);return e.deepFreezeObject(n),n},set:function(n){return R(e,this).arcData=f.deepValidateAndUnwrap(e,n,p.ArcData,"arcData"),e.undefined}})},e.topLeftRadius=function({vm:e},n){e.defineProp(n,"topLeftRadius",{enumerable:!0,get:function(){const n=R(e,this);return e.newNumber(n.rectangleCornerRadiiIndependent?n.rectangleTopLeftCornerRadius:n.cornerRadius)},set:function(n){const t=R(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleCornerToolIndependent=!0,t.rectangleTopLeftCornerRadius=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"topLeftRadius"),e.undefined}})},e.topRightRadius=function({vm:e},n){e.defineProp(n,"topRightRadius",{enumerable:!0,get:function(){const n=R(e,this);return e.newNumber(n.rectangleCornerRadiiIndependent?n.rectangleTopRightCornerRadius:n.cornerRadius)},set:function(n){const t=R(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleCornerToolIndependent=!0,t.rectangleTopRightCornerRadius=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"topRightRadius"),e.undefined}})},e.bottomLeftRadius=function({vm:e},n){e.defineProp(n,"bottomLeftRadius",{enumerable:!0,get:function(){const n=R(e,this);return e.newNumber(n.rectangleCornerRadiiIndependent?n.rectangleBottomLeftCornerRadius:n.cornerRadius)},set:function(n){const t=R(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleCornerToolIndependent=!0,t.rectangleBottomLeftCornerRadius=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"bottomLeftRadius"),e.undefined}})},e.bottomRightRadius=function({vm:e},n){e.defineProp(n,"bottomRightRadius",{enumerable:!0,get:function(){const n=R(e,this);return e.newNumber(n.rectangleCornerRadiiIndependent?n.rectangleBottomRightCornerRadius:n.cornerRadius)},set:function(n){const t=R(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleCornerToolIndependent=!0,t.rectangleBottomRightCornerRadius=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"bottomRightRadius"),e.undefined}})},e.exportSettings=function({vm:e},n){e.defineProp(n,"exportSettings",{enumerable:!0,get:function(){const n=e.deepWrap(void 0===(t=R(e,this).exportSettings)?[]:t.map(e=>{const n={format:"JPEG"===e.imageType?"JPG":e.imageType,suffix:e.suffix||"",contentsOnly:!!e.contentsOnly};return"JPG"===n.format||"PNG"===n.format?n.constraint={type:e.constraint.type.substring("CONTENT_".length),value:e.constraint.value}:"SVG"===n.format&&(n.svgOutlineText=!!e.svgOutlineText,n.svgIdAttribute="ALWAYS"==e.svgIDMode,n.svgSimplifyStroke=!e.svgForceStrokeMasks),n}));var t;return e.deepFreezeObject(n),n},set:function(n){return R(e,this).exportSettings=k(f.deepValidateAndUnwrap(e,n,p.ExportSettings,"exportSettings")),e.undefined}})},e.pluginData=function({vm:e,stats:n,pluginID:r},i){function o(e){if(e.length<3)throw new Error("The namespace must be at least 3 characters");if(!e.match(/^[0-9a-z]+$/))throw new Error("The namespace can only consist of lowercase alphanumeric characters")}e.defineFunction(i,"getSharedPluginData",function(t,r){n.increment("node.getSharedPluginData");const i=f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"namepace");o(i);const a=f.deepValidateAndUnwrap(e,r,f.PropTypes.string,"key");return e.newString(R(e,this).getSharedPluginData(i,a))}),e.defineFunction(i,"setSharedPluginData",function(t,r,i){n.increment("node.setSharedPluginData");const a=f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"namepace");o(a);const s=f.deepValidateAndUnwrap(e,r,f.PropTypes.string,"key"),d=f.deepValidateAndUnwrap(e,i,f.PropTypes.string,"value");return R(e,this).setSharedPluginData(a,s,d),e.undefined}),e.defineFunction(i,"getPluginData",function(i){n.increment("node.getPluginData"),t(r,"get private plugin data");const o=f.deepValidateAndUnwrap(e,i,f.PropTypes.string,"key");return e.newString(R(e,this).getPluginData(r,o))}),e.defineFunction(i,"setPluginData",function(i,o){n.increment("node.setPluginData"),t(r,"set private plugin data");const a=f.deepValidateAndUnwrap(e,i,f.PropTypes.string,"key"),s=f.deepValidateAndUnwrap(e,o,f.PropTypes.string,"value");return R(e,this).setPluginData(r,a,s),e.undefined})},e.pluginRelaunchData=function({vm:e,stats:n,pluginID:r},i){e.defineFunction(i,"setRelaunchData",function(i){n.increment("node.setRelaunchData"),t(r,"set relaunch data");const o=f.deepValidateAndUnwrap(e,i,p.RelaunchData,"relaunchData"),a=R(e,this);for(const e in o)if(o[e].length>1e3)throw new Error("Maximum allowed description length is 1000 characters");return a.setRelaunchData(r,o),e.undefined})},e.textRangeFunctions=function({vm:e,stats:n,mixedSentinel:t,imageStore:r},i){function o(n,t,r){const i=f.deepValidateAndUnwrap(e,t,p.PositiveInteger,"start"),o=f.deepValidateAndUnwrap(e,r,p.PositiveInteger,"end");if(i>=o)throw new Error("Empty range selected. 'end' must be greater than 'start'");if(o>n.characters.length)throw new Error("Range outside of available characters. 'start' must be less than node.characters.length and 'end' must be less than or equal to node.characters.length");return[i,o]}e.defineFunction(i,"getRangeFontSize",function(r,i){n.increment("node.getRangeFontSize");const a=R(e,this),[s,d]=o(a,r,i),u=a.getRangeFontSize(s,d);return"mixed"===u?t:e.newNumber(u)}),e.defineFunction(i,"setRangeFontSize",function(t,r,i){n.increment("node.setRangeFontSize");const a=R(e,this),[s,d]=o(a,t,r),u=f.deepValidateAndUnwrap(e,i,f.PropTypes.float.min(1),"value");return a.setRangeFontSize(s,d,u),e.undefined}),e.defineFunction(i,"getRangeFontName",function(r,i){n.increment("node.getRangeFontName");const a=R(e,this),[s,d]=o(a,r,i),u=a.getRangeFontName(s,d);if("mixed"===u)return t;const c=e.deepWrap({family:u.family,style:u.style});return e.deepFreezeObject(c),c}),e.defineFunction(i,"setRangeFontName",function(t,r,i){n.increment("node.setRangeFontName");const a=R(e,this),[s,d]=o(a,t,r),u=f.deepValidateAndUnwrap(e,i,p.FontName,"value");return a.setRangeFontName(s,d,u),e.undefined}),e.defineFunction(i,"getRangeTextDecoration",function(r,i){n.increment("node.getRangeTextDecoration");const a=R(e,this),[s,d]=o(a,r,i),u=a.getRangeTextDecoration(s,d);return"mixed"===u?t:e.newString(u)}),e.defineFunction(i,"setRangeTextDecoration",function(t,r,i){n.increment("node.setRangeTextDecoration");const a=R(e,this),[s,d]=o(a,t,r),u=f.deepValidateAndUnwrap(e,i,p.TextDecoration,"value");return a.setRangeTextDecoration(s,d,u),e.undefined}),e.defineFunction(i,"getRangeTextCase",function(r,i){n.increment("node.getRangeTextCase");const a=R(e,this),[s,d]=o(a,r,i),u=a.getRangeTextCase(s,d);return"mixed"===u?t:e.newString(u)}),e.defineFunction(i,"setRangeTextCase",function(t,r,i){n.increment("node.setRangeTextCase");const a=R(e,this),[s,d]=o(a,t,r),u=f.deepValidateAndUnwrap(e,i,p.TextCase,"value");return a.setRangeTextCase(s,d,u),e.undefined}),e.defineFunction(i,"getRangeLineHeight",function(r,i){n.increment("node.getRangeLineHeight");const a=R(e,this),[s,d]=o(a,r,i),u=a.getRangeLineHeight(s,d);if("mixed"===u)return t;const c=e.deepWrap(U(u));return e.deepFreezeObject(c),c}),e.defineFunction(i,"setRangeLineHeight",function(t,r,i){n.increment("node.setRangeLineHeight");const a=R(e,this),[s,d]=o(a,t,r),u=V(f.deepValidateAndUnwrap(e,i,p.LineHeight,"value"));return a.setRangeLineHeight(s,d,u),e.undefined}),e.defineFunction(i,"getRangeLetterSpacing",function(r,i){n.increment("node.getRangeLetterSpacing");const a=R(e,this),[s,d]=o(a,r,i),u=a.getRangeLetterSpacing(s,d);if("mixed"===u)return t;const c=e.deepWrap({unit:u.units,value:u.value});return e.deepFreezeObject(c),c}),e.defineFunction(i,"setRangeLetterSpacing",function(t,r,i){n.increment("node.setRangeLetterSpacing");const a=R(e,this),[s,d]=o(a,t,r),u=f.deepValidateAndUnwrap(e,i,p.LetterSpacing,"value");return a.setRangeLetterSpacing(s,d,{units:u.unit,value:u.value}),e.undefined}),e.defineFunction(i,"getRangeFills",function(i,a){n.increment("node.getRangeFills");const s=R(e,this),[d,u]=o(s,i,a),c=s.getRangeFillPaints(d,u);if("mixed"===c)return t;const l=O(e,r,c.data);return e.deepFreezeObject(l),l}),e.defineFunction(i,"setRangeFills",function(t,i,a){n.increment("node.setRangeFills");const s=R(e,this),[d,u]=o(s,t,i),c=[],l={data:C(r,f.deepValidateAndUnwrap(e,a,p.Paints,"value"),c),blobs:c};return s.setRangeFillPaints(d,u,l),e.undefined}),e.defineFunction(i,"getRangeTextStyleId",function(r,i){n.increment("node.getRangeTextStyleId");const a=R(e,this),[s,d]=o(a,r,i),u=a.getRangeInheritedTextStyle(s,d);return"mixed"===u?t:e.newString(l.styleKeyToString(u))}),e.defineFunction(i,"setRangeTextStyleId",function(t,r,i){n.increment("node.setRangeTextStyleId");const a=R(e,this),[s,d]=o(a,t,r),u=l.styleKeyFromString(f.deepValidateAndUnwrap(e,i,f.PropTypes.string,"value"));return a.setRangeInheritedTextStyle(s,d,u),e.undefined}),e.defineFunction(i,"getRangeFillStyleId",function(r,i){n.increment("node.getRangeFillStyleId");const a=R(e,this),[s,d]=o(a,r,i),u=a.getRangeInheritedFillStyle(s,d);return"mixed"===u?t:e.newString(l.styleKeyToString(u))}),e.defineFunction(i,"setRangeFillStyleId",function(t,r,i){n.increment("node.setRangeFillStyleId");const a=R(e,this),[s,d]=o(a,t,r),u=l.styleKeyFromString(f.deepValidateAndUnwrap(e,i,f.PropTypes.string,"value"));return a.setRangeInheritedFillStyle(s,d,u),e.undefined})},e.outlineStroke=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"outlineStroke",function(){n.increment("node.outlineStroke");const r=R(e,this).outlineStroke();return r?t.createNode(r):e.null})}}(n.VmNode||(n.VmNode={})),n.defineFillsProp=T,n.wrapPrivateImage=function(e,n){const t=e.newObject();return e.defineProp(t,"hash",{enumerable:!1,value:e.deepWrap(n.sha1)}),e.defineFunction(t,"getBytesAsync",function(){const{promise:t,resolve:r,reject:i}=e.newPromise(),o=e.registerPromise(n.getBytesAsync());return o.then(n=>{r(e.deepWrap(n))}),o.catch(n=>{i(e.deepWrap(n))}),t}),t},n.featureFlaggedTrait=function(e,n){return n.map(n=>(t,r)=>{m.getFeatureFlags()[e]&&n(t,r)})},n.mixin=function(e,n,...t){const r=e.vm.evalCode(`(function ${n}() {}).prototype`);if("SUCCESS"!==r.type)throw new Error("Internal eval error");for(const i of t)i(e,r.handle);return e.vm.retainHandle(r.handle),r.handle};const E=.3;function O(e,n,t){const r=e.newArray();if(!t||0===t.length)return r;for(let o=0,a=0;o<t.length;o++){const n=t[o],s=e.newObject();switch(e.setProp(s,"type",e.newString(n.type)),e.setProp(s,"visible",e.newBoolean(n.visible)),e.setProp(s,"opacity",e.newNumber(n.opacity)),e.setProp(s,"blendMode",e.newString(n.blendMode)),n.type){case"SOLID":e.setProp(s,"color",e.deepWrap({r:n.color.r,g:n.color.g,b:n.color.b}));break;case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":e.setProp(s,"gradientStops",e.deepWrap(n.stops)),e.setProp(s,"gradientTransform",e.deepWrap(N(n.transform)));break;case"IMAGE":e.setProp(s,"scaleMode",e.deepWrap("STRETCH"===n.imageScaleMode?"CROP":n.imageScaleMode)),e.setProp(s,"imageTransform",e.deepWrap(N(n.transform))),e.setProp(s,"scalingFactor",e.deepWrap(n.scale)),e.setProp(s,"filters",e.deepWrap((i=n.paintFilter,f.addDefaults(i?{exposure:i.exposure,contrast:Math.min(Math.max((i.contrast||0)/E,-1),1),saturation:i.vibrance,temperature:i.temperature,tint:i.tint,highlights:i.highlights,shadows:i.shadows}:{},{exposure:0,contrast:0,saturation:0,temperature:0,tint:0,highlights:0,shadows:0})))),n.animatedImage&&n.animatedImage.hash?e.setProp(s,"imageHash",e.newString(u.toHex(n.animatedImage.hash))):n.image&&n.image.hash?e.setProp(s,"imageHash",e.newString(u.toHex(n.image.hash))):e.setProp(s,"imageHash",e.null);break;default:c.pluginWarn(`Paint type ${n.type} is not yet supported`)}e.setProp(r,(a++).toString(),s)}var i;return r}function C(e,n,t){return n.map(n=>{const r=void 0===n.visible||n.visible,i=void 0===n.opacity?1:n.opacity,o=void 0===n.blendMode?"NORMAL":n.blendMode;switch(n.type){case"SOLID":return{type:n.type,color:Object.assign(Object.assign({},n.color),{a:1}),visible:r,opacity:i,blendMode:o};case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":return{type:n.type,transform:I(n.gradientTransform),stops:n.gradientStops,visible:r,opacity:i,blendMode:o};case"IMAGE":{if(null!=n.scalingFactor&&n.scalingFactor<=0)throw new Error("Image scaleFactor must be greater than 0");const a=n.imageHash,s={hash:u.fromHex(a)};if(!e.isImageAlreadyRegistered(a)){const n=e.internalBytesForImage(a);if(null===n)throw new Error("Missing bytes for image");s.dataBlob=t.length,t.push({bytes:n})}const d="CROP"===n.scaleMode?"STRETCH":n.scaleMode;return{type:n.type,imageScaleMode:d,image:s,transform:I(n.imageTransform),paintFilter:function(e){return f.addDefaults(e?{exposure:e.exposure,contrast:Math.min(Math.max((e.contrast||0)*E,-E),E),vibrance:e.saturation,temperature:e.temperature,tint:e.tint,highlights:e.highlights,shadows:e.shadows}:{},{exposure:0,contrast:0,vibrance:0,temperature:0,tint:0,highlights:0,shadows:0})}(n.filters),scale:n.scalingFactor||1,visible:r,opacity:i,blendMode:o}}default:throw new Error(`Unsupported paint type: ${n.type}`)}})}function k(e){const n={suffix:"",contentsOnly:!0,constraint:{type:"SCALE",value:1},svgOutlineText:!0,svgIdAttribute:!1,svgSimplifyStroke:!0};return e.map(e=>{const t=f.addDefaults(e,n);return{imageType:"JPG"===t.format?"JPEG":t.format,suffix:t.suffix,contentsOnly:t.contentsOnly,constraint:{type:"CONTENT_"+t.constraint.type,value:t.constraint.value},svgOutlineText:t.svgOutlineText,svgForceStrokeMasks:!t.svgSimplifyStroke,svgIDMode:t.svgIdAttribute?"ALWAYS":"IF_NEEDED"}})}function U(e){if("PERCENT"===e.units)return{unit:"AUTO"};if("RAW"===e.units)return{unit:"PERCENT",value:100*e.value};if("PIXELS"===e.units)return{unit:"PIXELS",value:e.value};throw new Error("Unknown lineHeight unit")}function V(e){if("AUTO"===e.unit)return{units:"PERCENT",value:100};if("PERCENT"===e.unit)return{units:"RAW",value:e.value/100};if("PIXELS"===e.unit)return{units:"PIXELS",value:e.value};throw new Error("Unknown lineHeight unit")}function M(e,n,t,r){let i={strokeCap:r.strokeCap,strokeJoin:r.strokeJoin,cornerRadius:r.cornerRadius,handleMirroring:r.handleMirroring},o=new Map;o.set(0,i);for(let d of e.styleOverrideTable||[]){if(null==d.styleID)throw new Error("Figma Internal Error: missing styleID when decoding vector network");o.set(d.styleID,{strokeCap:"strokeCap"in d?d.strokeCap:i.strokeCap,strokeJoin:"strokeJoin"in d?d.strokeJoin:i.strokeJoin,cornerRadius:"cornerRadius"in d?d.cornerRadius:i.cornerRadius,handleMirroring:"handleMirroring"in d?d.handleMirroring:i.handleMirroring})}const a=d.decodeNetwork(t.bytes,o),s=e.normalizedSize||{x:1,y:1},u={x:n.x/(s.x||1),y:n.y/(s.y||1)};return d.scaleVectorNetwork(a,u)}function D(e){const n=d.boundingBoxForNetwork(e),t=d.translateVectorNetwork(e,{x:-n.x,y:-n.y}),r={strokeCap:"NONE",strokeJoin:"MITER",cornerRadius:0,handleMirroring:"NONE"},i=[],o=new Map,a=t.vertices.map(e=>{const n=f.addDefaults(e,r),t=n.strokeCap+"|"+n.strokeJoin+"|"+n.cornerRadius+"|"+n.handleMirroring;let a=o.get(t);return void 0===a&&(a=i.length+1,i.push({styleID:a,strokeCap:n.strokeCap,strokeJoin:n.strokeJoin,cornerRadius:n.cornerRadius,handleMirroring:n.handleMirroring}),o.set(t,a)),a});return{boundingBox:n,blob:{bytes:d.encodeNetwork(t,a)},styleOverrideTable:i}}}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const d=t(261                               ),r=t(769                     );const i=[r.VmNode.toString,r.VmNode.clone,r.VmNode.remove,r.VmNode.parent,r.VmNode.name,r.VmNode.removed,r.VmNode.pluginData,r.VmNode.pluginRelaunchData],n=[r.VmNode.visible,r.VmNode.locked],N=[r.VmNode.children,r.VmNode.findAll,r.VmNode.findOne,r.VmNode.findChild,r.VmNode.findChildren,r.VmNode.appendChild],a=[r.VmNode.relativeTransform,r.VmNode.absoluteTransform,r.VmNode.x,r.VmNode.y,r.VmNode.width,r.VmNode.height,r.VmNode.rotation,r.VmNode.layoutAlign,r.VmNode.resizeWithConstraints,r.VmNode.resizeWithoutConstraints,r.VmNode.rescale,r.VmNode.constrainProportions],s=[r.VmNode.opacity,r.VmNode.blendMode,r.VmNode.isMask,r.VmNode.effects,r.VmNode.effectStyleId],m=[r.VmNode.cornerRadius,r.VmNode.cornerSmoothing],p=[r.VmNode.fills,r.VmNode.fillStyleId,r.VmNode.strokes,r.VmNode.strokeStyleId,r.VmNode.strokeWeight,r.VmNode.strokeAlign,r.VmNode.strokeCap,r.VmNode.strokeJoin,r.VmNode.strokeMiterLimit,r.VmNode.dashPattern,r.VmNode.outlineStroke],c=[r.VmNode.description,r.VmNode.remote,r.VmNode.createInstance,r.VmNode.key,r.VmNode.getPublishStatus],V=[r.VmNode.mainComponent,r.VmNode.scaleFactor],y=[r.VmNode.textStyleId,r.VmNode.characters,r.VmNode.insertCharacters,r.VmNode.deleteCharacters,r.VmNode.hasMissingFont,r.VmNode.autoRename,r.VmNode.fontSize,r.VmNode.paragraphIndent,r.VmNode.paragraphSpacing,r.VmNode.textAlignHorizontal,r.VmNode.textAlignVertical,r.VmNode.textCase,r.VmNode.textDecoration,r.VmNode.textAutoResize,r.VmNode.letterSpacing,r.VmNode.lineHeight,r.VmNode.fontName,r.VmNode.textRangeFunctions],h=[r.VmNode.pointCount],l=[r.VmNode.vectorNetwork,r.VmNode.vectorPaths,r.VmNode.handleMirroring],P=[r.VmNode.guides,r.VmNode.selection,r.VmNode.backgrounds],u=[r.VmNode.booleanOperation,r.VmNode.expanded],g=[r.VmNode.innerRadius],T=[r.VmNode.arcData],O=[r.VmNode.topLeftRadius,r.VmNode.topRightRadius,r.VmNode.bottomLeftRadius,r.VmNode.bottomRightRadius],b=[r.VmNode.exportSettings,r.VmNode.exportNode],E=[r.VmNode.reactions],k=[r.VmNode.prototypeStartNode],w=[...i,...n,...s,...p,...a,...b],x=[...w,r.VmNode.constraints],f=[...i,...n,...s,...a,...N,...b,...p,...m,...O,r.VmNode.layoutGrids,r.VmNode.gridStyleId,r.VmNode.backgrounds,r.VmNode.backgroundStyleId,r.VmNode.clipsContent,r.VmNode.guides,r.VmNode.expanded,r.VmNode.constraints,r.VmNode.layoutMode,r.VmNode.counterAxisSizingMode,r.VmNode.horizontalPadding,r.VmNode.verticalPadding,r.VmNode.itemSpacing,r.VmNode.overflowDirection,r.VmNode.numberOfFixedChildren,r.VmNode.overlayPositionType,r.VmNode.overlayBackground,r.VmNode.overlayBackgroundInteraction];o.PublicNodeFactory=class{constructor(e,o){this.cache=new Map;const t=Object.assign({vm:e,nodeFactory:this},o);this.vm=e,this.documentNodePrototype=r.mixin(t,"DocumentNode",...i,...N),this.addTypeToPrototype(this.documentNodePrototype,"DOCUMENT"),this.pageNodePrototype=r.mixin(t,"PageNode",...i,...N,...P,...b,...k),this.addTypeToPrototype(this.pageNodePrototype,"PAGE"),this.sliceNodePrototype=r.mixin(t,"SliceNode",...i,...n,...a,...b),this.addTypeToPrototype(this.sliceNodePrototype,"SLICE"),this.frameNodePrototype=r.mixin(t,"FrameNode",...f,...E),this.addTypeToPrototype(this.frameNodePrototype,"FRAME"),this.groupNodePrototype=r.mixin(t,"GroupNode",...i,...n,...s,...a,...N,...b,...E,r.VmNode.backgrounds,r.VmNode.backgroundStyleId,r.VmNode.expanded),this.addTypeToPrototype(this.groupNodePrototype,"GROUP"),this.componentNodePrototype=r.mixin(t,"ComponentNode",...f,...c,...E),this.addTypeToPrototype(this.componentNodePrototype,"COMPONENT"),this.instanceNodePrototype=r.mixin(t,"InstanceNode",...f,...V,...E),this.addTypeToPrototype(this.instanceNodePrototype,"INSTANCE"),this.booleanOperationNodePrototype=r.mixin(t,"BooleanOperationNode",...w,...m,...N,...u,...E),this.addTypeToPrototype(this.booleanOperationNodePrototype,"BOOLEAN_OPERATION"),this.vectorNodePrototype=r.mixin(t,"VectorNode",...x,...m,...l,...E),this.addTypeToPrototype(this.vectorNodePrototype,"VECTOR"),this.starNodePrototype=r.mixin(t,"StarNode",...x,...m,...h,...g,...E),this.addTypeToPrototype(this.starNodePrototype,"STAR"),this.lineNodePrototype=r.mixin(t,"LineNode",...x,...E),this.addTypeToPrototype(this.lineNodePrototype,"LINE"),this.ellipseNodePrototype=r.mixin(t,"EllipseNode",...x,...m,...T,...E),this.addTypeToPrototype(this.ellipseNodePrototype,"ELLIPSE"),this.polygonNodePrototype=r.mixin(t,"PolygonNode",...x,...m,...h,...E),this.addTypeToPrototype(this.polygonNodePrototype,"POLYGON"),this.rectangleNodePrototype=r.mixin(t,"RectangleNode",...x,...m,...O,...E),this.addTypeToPrototype(this.rectangleNodePrototype,"RECTANGLE"),this.textNodePrototype=r.mixin(t,"TextNode",...x,...y,...E),this.addTypeToPrototype(this.textNodePrototype,"TEXT")}addTypeToPrototype(e,o){this.vm.defineProp(e,"type",{enumerable:!0,writable:!1,value:this.vm.newString(o)})}createNode(e){let o=this.cache.get(e);if(void 0!==o)return o;const t=this.vm,i=function(e){const o=r.getNodeWrapperOrThrow(e),t=o.type;switch(t){case"NONE":throw new Error(`Internal Figma error: Unknown node type for "${e}" in createNode`);case"ROUNDED_RECTANGLE":return"RECTANGLE";case"REGULAR_POLYGON":return"POLYGON";case"SYMBOL":return"COMPONENT";case"FRAME":if(o.resizeToFit)return"GROUP";break;case"CANVAS":return"PAGE"}return t}(e);switch(i){case"DOCUMENT":o=t.newObject(this.documentNodePrototype);break;case"PAGE":o=t.newObject(this.pageNodePrototype);break;case"SLICE":o=t.newObject(this.sliceNodePrototype);break;case"FRAME":o=t.newObject(this.frameNodePrototype);break;case"GROUP":o=t.newObject(this.groupNodePrototype);break;case"COMPONENT":o=t.newObject(this.componentNodePrototype);break;case"INSTANCE":o=t.newObject(this.instanceNodePrototype);break;case"BOOLEAN_OPERATION":o=t.newObject(this.booleanOperationNodePrototype);break;case"VECTOR":o=t.newObject(this.vectorNodePrototype);break;case"STAR":o=t.newObject(this.starNodePrototype);break;case"LINE":o=t.newObject(this.lineNodePrototype);break;case"ELLIPSE":o=t.newObject(this.ellipseNodePrototype);break;case"POLYGON":o=t.newObject(this.polygonNodePrototype);break;case"RECTANGLE":o=t.newObject(this.rectangleNodePrototype);break;case"TEXT":o=t.newObject(this.textNodePrototype);break;default:throw new Error(`unsupported type in create node: ${i}`)}const n=d.PluginHelpers.developerFriendlyIdFromGuid(e);if(!n)throw new Error(`Internal Figma error: Unknown id "${n}" in createNode`);return t.defineProp(o,"id",{enumerable:!0,writable:!1,value:t.newString(n)}),t.shallowFreezeObject(o),this.cache.set(e,o),t.retainHandle(o),o}}}),
(function(a,e,r){a.exports={backgroundOverlay:"draggable_modal--backgroundOverlay--CPf6e",positionedContainer:"draggable_modal--positionedContainer--1aHEn",positionedContainerAnimated:"draggable_modal--positionedContainerAnimated--3Exj_ draggable_modal--positionedContainer--1aHEn",popup:"draggable_modal--popup--2HDaD",positionedContainerDragging:"draggable_modal--positionedContainerDragging--CAkAw",frame:"draggable_modal--frame--ZkQEE modal--modalShadow--HbHkT",header:"draggable_modal--header--PzIrk",contentContainer:"draggable_modal--contentContainer--PfnuK",arrow:"draggable_modal--arrow--AnRXT",arrowLight:"draggable_modal--arrowLight--2WNHP",arrowLeftTitle:"draggable_modal--arrowLeftTitle--1sqv2",arrowRightTitle:"draggable_modal--arrowRightTitle--r0wye",arrowRightBody:"draggable_modal--arrowRightBody--2yQTJ",arrowBottom:"draggable_modal--arrowBottom--f5qLk draggable_modal--arrow--AnRXT",resizeTarget:"draggable_modal--resizeTarget--pSHWd",resizeVertical:"draggable_modal--resizeVertical--3omqu draggable_modal--resizeTarget--pSHWd",resizeHorizontal:"draggable_modal--resizeHorizontal--Fi0BD draggable_modal--resizeTarget--pSHWd",resizeCorner:"draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeTop:"draggable_modal--resizeTop--1k1Zr draggable_modal--resizeVertical--3omqu draggable_modal--resizeTarget--pSHWd",resizeBottom:"draggable_modal--resizeBottom--3bIv1 draggable_modal--resizeVertical--3omqu draggable_modal--resizeTarget--pSHWd",resizeLeft:"draggable_modal--resizeLeft--Qq71b draggable_modal--resizeHorizontal--Fi0BD draggable_modal--resizeTarget--pSHWd",resizeRight:"draggable_modal--resizeRight--BMx8w draggable_modal--resizeHorizontal--Fi0BD draggable_modal--resizeTarget--pSHWd",resizeTopLeft:"draggable_modal--resizeTopLeft--27ACr draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeTopRight:"draggable_modal--resizeTopRight--3ntDc draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeBottomLeft:"draggable_modal--resizeBottomLeft--2rytk draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeBottomRight:"draggable_modal--resizeBottomRight--3XxsI draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(6,1        );e.TouchToMouseAdapter=class{constructor(t,e,o,n,r={}){this.component=t,this.onMouseDown=e,this.onMouseMove=o,this.onMouseUp=n,this.options=r,this.oldTouch=null,this.draggingID=null,this.deferredDragStart=null,this.onTouchStart=(t=>{if(t.stopPropagation(),null===this.draggingID&&t.touches.length>0&&this.shouldAdaptTouch(t.touches[0])){const e=t.touches[0];if(this.draggingID=e.identifier,document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEndOrCancel),document.addEventListener("touchcancel",this.onTouchEndOrCancel),this.options.mustBeHorizontal||this.options.delayInMS){let o=!1;if(t.persist(),(t=Object.create(t)).target=t.target,t.currentTarget=t.currentTarget,this.deferredDragStart=(n=>{if(o)return!1;const r=n.clientX-e.clientX,s=n.clientY-e.clientY;return!(Math.sqrt(r*r+s*s)<10||(o=!0,this.options.mustBeHorizontal&&Math.abs(r)<Math.abs(s)||this.options.delayInMS||(this.onMouseDown(this.mouseEvent("mousedown",t,e)),0)))}),this.options.delayInMS){const n=this.deferredDragStart;setTimeout(()=>{this.deferredDragStart!==n||o||(this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",t,e)))},this.options.delayInMS)}}else this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",t,e))}}),this.onTouchMove=(t=>{if(t.stopPropagation(),null!==this.draggingID)for(const e of t.touches)if(e.identifier===this.draggingID){if(this.deferredDragStart){if(!this.deferredDragStart(e))break;this.deferredDragStart=null}t.preventDefault(),this.onMouseMove(this.mouseEvent("mousemove",t,e));break}}),this.onTouchEndOrCancel=(t=>{t.stopPropagation(),null!==this.draggingID&&(this.draggingID=null,document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEndOrCancel),document.removeEventListener("touchcancel",this.onTouchEndOrCancel),this.deferredDragStart?this.deferredDragStart=null:this.onMouseUp(this.mouseEvent("mouseup",t,this.oldTouch)))})}mouseEvent(t,e,o){this.oldTouch=o;const n=new MouseEvent(t,{altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});return Object.defineProperty(n,"target",{value:e.target}),Object.defineProperty(n,"currentTarget",{value:e.currentTarget}),n}shouldAdaptTouch(t){if(!this.options.observeInsideOverflowScroll){const e=n.findDOMNode(this.component);for(let o=t.target;o;o=o.parentElement){const n=getComputedStyle(o).overflowY;if("scroll"===n||"auto"===n){const e=o.getBoundingClientRect();if(t.clientX>=e.left&&t.clientX<e.right&&t.clientY>=e.top&&t.clientY<e.bottom)return!1}if(o===e)break}}return!0}}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2,1    ),o=i(214         ),n=i(138      ),a=i(520                                           ),h=i(758                                              ),r=i(148                                  ),l=i(101                             ),p=i(141              ),d=i(420              ),c=i(771                    ),g=i(422                                        ),u=i(772                                   );e.HEADER_HEIGHT=d.pxToInt(g.draggableModalHeaderHeight);const m=16;var w,T;!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.RIGHT_TITLE=2]="RIGHT_TITLE",t[t.RIGHT_BODY=3]="RIGHT_BODY",t[t.LEFT_TITLE=4]="LEFT_TITLE"}(w=e.ArrowPosition||(e.ArrowPosition={})),function(t){t[t.IGNORE=0]="IGNORE"}(T=e.OnCloseIgnore||(e.OnCloseIgnore={}));const E={x:"left",y:"top"};class v extends p.Component{constructor(t){super(t),this.minBottomMargin=(()=>this.props.minBottomMargin||m),this.windowResized=(()=>{this.state.position&&this.setState({position:new o.Vector(this.state.position.x,this.state.position.y)})}),this.adjustPositionToFitOnScreen=(()=>{if(!this.props.animatedIn&&this.state.position.equals(this.props.initialPosition)){const{top:t,bottom:e,height:i}=this.el.getBoundingClientRect(),s=this.state.position.x;let n=this.state.position.y;t<0?n=0:e+this.minBottomMargin()>window.innerHeight&&(n=window.innerHeight-(i+this.minBottomMargin()));const a=new o.Vector(s,n);a.equals(this.state.position)||this.setState({position:a})}}),this.onKeyDown=(t=>{t.event.keyCode===n.Key.ESCAPE&&!this.props.ignoreCloseShortcut&&this.props.onClose&&(this.props.onClose()===T.IGNORE?t.shouldPropagate=!0:t.accept())}),this.keyReceiverRef=(t=>this.keyEl=t),this.focus=(()=>this.keyEl.focus()),this.stopPropagation=(t=>t.stopPropagation()),this.frameRef=(t=>{this.el=t,t&&this.props.acceptHeight&&this.props.acceptHeight(t.getBoundingClientRect().height)}),this.onContentMouseDown=(t=>{this.props.dragHeaderOnly&&t.stopPropagation()}),this.mouseDown=(t=>{if(2===t.button)return;t.stopPropagation();const e=t.target;if("input"===e.tagName.toLowerCase()||"label"===e.tagName.toLowerCase()||"img"===e.tagName.toLowerCase()||"a"===e.tagName.toLowerCase())return;const i=this.el.getBoundingClientRect(),s=new o.Vector(t.pageX,t.pageY);this.setState({position:new o.Vector(i.left,i.top),constraints:E,lastDragPosition:s})}),this.dragStartCalled=!1,this.documentMouseMove=(t=>{var e,i;if(!this.state.lastDragPosition)return p.SKIP_RECORDING;{const s=this.state.position,n=new o.Vector(t.pageX,t.pageY),a=n.subtract(this.state.lastDragPosition);this.setState({position:s.add(a),lastDragPosition:n,hasCustomPosition:!0}),this.dragStartCalled||(null===(i=(e=this.props).onDragStart)||void 0===i||i.call(e),this.dragStartCalled=!0)}}),this.documentMouseUp=(()=>{var t,e;this.state.lastDragPosition&&(this.dragStartCalled&&(null===(e=(t=this.props).onDragEnd)||void 0===e||e.call(t,this.state.position),this.dragStartCalled=!1),this.setState({lastDragPosition:null}))}),this.resizeTop=(t=>{const e=new o.Vector(this.state.position.x,this.state.position.y+t);let i;void 0!==this.state.height&&(i=this.state.height-t,this.props.minHeight&&(i=Math.max(this.props.minHeight,i))),this.setState({height:i,position:e})}),this.resizeBottom=(t=>{if(void 0===this.state.height)return;let e=this.state.height+t;this.props.minHeight&&(e=Math.max(this.props.minHeight,e)),this.setState({height:e})}),this.resizeLeft=(t=>{const e=new o.Vector(this.state.position.x+t,this.state.position.y);let i;void 0!==this.state.width&&(i=this.state.width-t,this.props.minWidth&&(i=Math.max(this.props.minWidth,i))),this.setState({width:i,position:e})}),this.resizeRight=(t=>{if(void 0===this.state.width)return;let e=this.state.width+t;this.props.minWidth&&(e=Math.max(this.props.minWidth,e)),this.setState({width:e})}),this.style=(t=>{const e={};return"left"===this.state.constraints.x?e.left=t.x:e.right=t.x,"top"===this.state.constraints.y?e.top=t.y:e.bottom=t.y,this.state.width&&(e.width=this.state.width),this.state.height&&(e.height=this.state.height),e}),this.touchAdapter=new u.TouchToMouseAdapter(this,this.mouseDown,this.documentMouseMove,this.documentMouseUp),this.state={position:t.initialPosition,constraints:t.initialConstraints||E,width:t.initialWidth,lastDragPosition:null,height:null!=t.initialHeight?t.initialHeight+e.HEADER_HEIGHT:void 0,showArrow:!0}}componentDidMount(){if(document.addEventListener("mousemove",this.documentMouseMove),document.addEventListener("mouseup",this.documentMouseUp),this.adjustPositionToFitOnScreen(),!this.state.width||!this.state.height){const{width:t,height:e}=this.el.getBoundingClientRect();this.state.width?this.setState({height:e}):this.state.height?this.setState({width:t}):this.setState({width:t,height:e})}window.addEventListener("resize",this.windowResized)}componentWillUnmount(){document.removeEventListener("mousemove",this.documentMouseMove),document.removeEventListener("mouseup",this.documentMouseUp),window.removeEventListener("resize",this.windowResized)}UNSAFE_componentWillUpdate(t){this.state.hasCustomPosition?this.state.showArrow&&this.setState({showArrow:!1}):this.props.initialPosition.equals(t.initialPosition)||this.setState({position:t.initialPosition}),this.props.initialWidth!==t.initialWidth&&this.setState({width:t.initialWidth}),this.props.initialHeight!==t.initialHeight&&this.setState({height:null!=t.initialHeight?t.initialHeight+e.HEADER_HEIGHT:void 0})}componentDidUpdate(t,e){if(this.adjustPositionToFitOnScreen(),!this.props.initialHeight&&t!==this.props){let t=this.el.style.height;this.el.style.height="";let e=this.el.getBoundingClientRect();this.el.style.height=t,this.state.height!==e.height&&(this.setState({height:e.height}),this.props.acceptHeight&&this.props.acceptHeight(e.height))}this.state.width===e.width&&this.state.height===e.height||this.props.onSizeChange&&this.props.onSizeChange()}render(){let t=this.state.position||new o.Vector(0,0),i=this.state.width||0;t=t.clamp({x:-i/2,y:0,width:window.innerWidth+i/2,height:window.innerHeight-e.HEADER_HEIGHT});const n=this.style(t);let p=this.props.animatedIn?c.positionedContainerAnimated:c.positionedContainer;this.state.lastDragPosition&&(p+=` ${c.positionedContainerDragging}`);const d=s.createElement("div",{className:`${c.contentContainer} ${this.props.contentContainerClassName||""}`,onMouseDown:this.onContentMouseDown},s.createElement(a.KeyboardReceiver,{name:"Draggable modal",handleKeyDown:this.onKeyDown,focusOnMount:!0,ref:this.keyReceiverRef},this.props.children));return s.createElement("div",{className:`${p} ${l.PREVENT_EVENT_CAPTURE}`,style:n,ref:this.frameRef,onMouseDown:this.mouseDown,onTouchStart:this.touchAdapter.onTouchStart},s.createElement("div",{className:c.frame,style:this.props.frameStyle},this.state.showArrow&&this.props.arrowRelativeX&&s.createElement("div",{className:(()=>{switch(this.props.arrowPosition){case w.RIGHT_TITLE:return c.arrowRightTitle;case w.RIGHT_BODY:return c.arrowRightBody;case w.TOP:return this.props.title?c.arrow:c.arrowLight;case w.BOTTOM:return c.arrowBottom;case w.LEFT_TITLE:return c.arrowLeftTitle;default:return}})(),style:{left:this.props.arrowRelativeX,top:this.props.arrowRelativeY}}),s.createElement(r.TabLoop,null,null!=this.props.title?s.createElement(h.HeaderModalContainer,{onClose:this.props.onClose,headerClassname:`${c.header} ${this.props.headerClassName||""}`,closeButtonClassName:this.props.closeButtonClassName,onMouseDown:this.stopPropagation,onMouseMove:this.documentMouseMove,headerSize:this.props.headerSize,title:this.props.title,truncateTitleText:this.props.truncateTitleText,isCloseHidden:this.props.isCloseHidden,recordingKey:"draggableModal"},d):d)),this.props.allowResize&&s.createElement(z,{resizeTop:this.resizeTop,resizeBottom:this.resizeBottom,resizeLeft:this.resizeLeft,resizeRight:this.resizeRight}))}}e.DraggableModal=v,v.displayName="DraggableModal";class R extends s.Component{render(){return s.createElement("div",{className:`${c.backgroundOverlay} ${l.PREVENT_EVENT_CAPTURE}`},s.createElement(v,Object.assign({},this.props)))}}var M;e.DraggableModalBgDisabled=R,R.displayName="DraggableModalBgDisabled",function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(M||(M={}));class z extends s.PureComponent{constructor(t){super(t),this.startResizing=((t,e)=>{e.stopPropagation(),e.preventDefault();const i=Object.create(null);t.forEach(t=>{i[t]=!0});const s=new o.Vector(e.clientX,e.clientY);this.setState({isResizing:i,lastPosition:s}),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}),this.onMouseMove=(t=>{if(!this.state.isResizing||!this.state.lastPosition)return void this.unbindDocumentListeners();const e=new o.Vector(t.clientX,t.clientY),i=e.subtract(this.state.lastPosition);this.state.isResizing[M.TOP]&&this.props.resizeTop(i.y),this.state.isResizing[M.BOTTOM]&&this.props.resizeBottom(i.y),this.state.isResizing[M.LEFT]&&this.props.resizeLeft(i.x),this.state.isResizing[M.RIGHT]&&this.props.resizeRight(i.x),this.setState({lastPosition:e})}),this.onMouseUp=(t=>{this.unbindDocumentListeners(),this.setState({isResizing:void 0})}),this.unbindDocumentListeners=(()=>{document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}),this.state={isResizing:void 0}}render(){return s.createElement("div",null,s.createElement("div",{className:c.resizeTop,onMouseDown:this.startResizing.bind(this,[M.TOP])}),s.createElement("div",{className:c.resizeTopRight,onMouseDown:this.startResizing.bind(this,[M.TOP,M.RIGHT])}),s.createElement("div",{className:c.resizeTopLeft,onMouseDown:this.startResizing.bind(this,[M.TOP,M.LEFT])}),s.createElement("div",{className:c.resizeLeft,onMouseDown:this.startResizing.bind(this,[M.LEFT])}),s.createElement("div",{className:c.resizeRight,onMouseDown:this.startResizing.bind(this,[M.RIGHT])}),s.createElement("div",{className:c.resizeBottom,onMouseDown:this.startResizing.bind(this,[M.BOTTOM])}),s.createElement("div",{className:c.resizeBottomRight,onMouseDown:this.startResizing.bind(this,[M.BOTTOM,M.RIGHT])}),s.createElement("div",{className:c.resizeBottomLeft,onMouseDown:this.startResizing.bind(this,[M.BOTTOM,M.LEFT])}))}}z.displayName="ResizeTarget"}),
(function(i,n,u){i.exports={pluginUI:"jsvm_ui--pluginUI--HIW9L"}}),
(function(p,a,n){p.exports={appFont:"in_app_page--appFont--3IVZv",app:"in_app_page--app--234Z6 in_app_page--appFont--3IVZv",content:"in_app_page--content--2V_He"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2,1    ),a=i(6,1        ),n=i(87      ),o=i(88           ),l=i(130                     ),r=i(214         ),h=i(773                                                    ),d=i(215                                          ),m=i(172                                              ),c=i(265                                    ),u=i(774            ),g=i(775                              ),p=i(211              ),f=i(262                                     );function y(e,t,i){return Math.max(t,Math.min(i,e))}t.POSITION_LOCAL_STORAGE_KEY="plugin-positions";t.PluginUIHandle=class{constructor(e,i,s,a,n,l){this.vmType=e,this.pluginID=i,this.title=s,this.shouldShowVisualBell=a,this.cancelCallback=n,this.messageHandler=l,this.uiContainer=null,this.iframeElement=null,this.iframeHtml="",this.iframeDisplayed=!1,this.iframeWidth=300,this.iframeHeight=200,this.iframeInitialPosition=null,this.iframeLoaded=!1,this.lastNotificationTimeout=-1,this.storeModalPosition=(e=>{const i=o.getLocalStorageOrNull();if(i){let a={};try{a=JSON.parse(i.getItem(t.POSITION_LOCAL_STORAGE_KEY)||"")}catch(s){}a&&"object"==typeof a||(a={}),a[this.pluginID]={x:e.x,y:e.y},i.setItem(t.POSITION_LOCAL_STORAGE_KEY,JSON.stringify(a))}}),this.tearDown=(()=>{this.destroyIframe(),this.hideProgress()}),this.windowMessageEventListener=(e=>{e.source&&this.iframeElement&&e.source===this.iframeElement.contentWindow&&(e.data!==w?this.messageHandler(e):d.fullscreen.triggerAction("plugins-run-last",{source:"keyboard"}))}),this.setIframeElement=(e=>{this.iframeElement=e,this.iframeElement&&(this.iframeElement.onload=(()=>{this.iframeElement.contentWindow.postMessage(this.iframeHtml,"*"),this.iframeElement.onload=(()=>{this.iframeLoaded=!0;const e=this.pendingMessages;this.pendingMessages=[],e.forEach(({message:e,options:t})=>this.postMessageToIframe(e,t))})}))}),this.showProgress()}titleWithVmNotice(){return"realms"===this.vmType?`${this.title} (${f.defaultStringsRaw["plugins-realms-vm"]})`:this.title}updateUI(){a.render(s.createElement(C,{title:this.titleWithVmNotice(),displayed:this.iframeDisplayed,width:this.iframeWidth,height:this.iframeHeight,initialPosition:this.iframeInitialPosition,iframeRefCallback:this.setIframeElement,cancelCallback:this.cancelCallback,onDragEnd:this.storeModalPosition}),this.uiContainer)}loadModalPosition(){const e=o.getLocalStorageOrNull();if(e)try{const s=JSON.parse(e.getItem(t.POSITION_LOCAL_STORAGE_KEY)||"")[this.pluginID];return new r.Vector(y(s.x,0,window.innerWidth-this.iframeWidth),y(s.y,0,window.innerHeight-this.iframeHeight))}catch(i){}return null}makeIframe(e,t,i,s){this.destroyIframe(),this.iframeHtml=e,this.iframeLoaded=!1,this.uiContainer=document.createElement("div"),this.uiContainer.className=g.appFont,document.body.appendChild(this.uiContainer),window.addEventListener("message",this.windowMessageEventListener),null!=t&&(this.iframeWidth=t),null!=i&&(this.iframeHeight=i);const a=new r.Vector(Math.max((window.innerWidth-this.iframeWidth)/2,0),Math.max((window.innerHeight-this.iframeHeight)/2,0));if("default"===s)this.iframeInitialPosition=a;else if("last"===s)this.iframeInitialPosition=this.loadModalPosition()||a;else{const e=l.globalReduxStore.getState().mostRecentContextMenuClickPosition;this.iframeInitialPosition=e?new r.Vector(e.x,e.y):this.loadModalPosition()||a}this.storeModalPosition(this.iframeInitialPosition),this.updateUI()}destroyIframe(){this.hideIframe(),this.iframeHtml="",this.pendingMessages=[],this.iframeElement&&(this.iframeElement.onload=null),window.removeEventListener("message",this.windowMessageEventListener),this.uiContainer&&(a.unmountComponentAtNode(this.uiContainer),document.body.removeChild(this.uiContainer)),this.uiContainer=null,this.iframeElement=null}setIframeSize(e,t){if(!this.uiContainer)throw new Error("No UI to resize. Did you forget to create a UI by calling showUI?");Number.isNaN(e)||(this.iframeWidth=y(e,100,window.innerWidth-50)),Number.isNaN(t)||(this.iframeHeight=y(t,100,window.innerHeight-50)),this.updateUI()}showIframe(){if(!this.uiContainer)throw new Error("No UI to show. Did you forget to create a UI by calling showUI?");this.hideProgress(),this.iframeDisplayed=!0,this.updateUI()}hideIframe(){this.iframeDisplayed=!1,this.uiContainer&&this.updateUI(),this.showProgress()}postMessageToIframe(e,t){if(!this.uiContainer||!this.iframeElement)throw new Error("No UI to send a message to. Did you forget to create a UI by calling showUI?");this.iframeLoaded||t.skipQueue?this.iframeElement.contentWindow.postMessage(e,t.origin):this.pendingMessages.push({message:e,options:t})}showPluginVisualBell(e,t,i){this.hideProgress();const s=!this.iframeDisplayed&&(i.timeout>5e3||this.lastNotificationTimeout>Date.now()-1e3);d.fullscreen.dispatch(m.visualBell.enqueue({type:t,message:e,timeoutOverride:i.timeout,timeoutType:"exact",button:s?{text:"Cancel",action:e=>{this.cancelCallback()}}:void 0})),this.iframeDisplayed||this.showProgress(),this.lastNotificationTimeout=Math.max(this.lastNotificationTimeout,Date.now())+i.timeout}cancelPluginVisualBell(e){d.fullscreen.dispatch(m.visualBell.dequeue({type:e}))}showProgress(){d.fullscreen&&d.fullscreen.isReady()&&this.shouldShowVisualBell&&d.fullscreen.dispatch(m.visualBell.enqueue({type:"plugins-status",message:`Running ${this.titleWithVmNotice()}`,icon:c.VisualBellIcon.SPINNER,delay:300,preventDismissal:!0,button:{text:"Cancel",action:e=>{this.cancelCallback()}}}))}hideProgress(){d.fullscreen&&d.fullscreen.isReady()&&this.shouldShowVisualBell&&d.fullscreen.dispatch(m.visualBell.dequeue({type:"plugins-status"}))}};const w="$INTERNAL_DO_NOT_USE$RERUN_PLUGIN$",I=`\ndocument.close();\ndocument.addEventListener('keydown', (e) => {\n  if (e.keyCode === 80 /* P */ && !e.shiftKey && e.altKey && ${n.mac?"!e.ctrlKey && e.metaKey":"e.ctrlKey && !e.metaKey"}) {\n    // Handle the plugin re-run shortcut\n    parent.postMessage('${w}', '*')\n    e.stopPropagation()\n    e.stopImmediatePropagation()\n  } else if (${JSON.stringify(!!p.desktopApp)}) {\n    // Handle Select All, Undo and Redo in the desktop app\n    if (e.keyCode === 65 /* A */ && ${n.mac?"e.metaKey":"e.ctrlKey"}) {\n      document.execCommand('selectAll')\n    } else if (e.keyCode === 90 /* Z */ && ${n.mac?"e.metaKey":"e.ctrlKey"}) {\n      if (e.shiftKey) {\n        document.execCommand('redo')\n      } else {\n        document.execCommand('undo')\n      }\n    }\n  }\n}, true)\n`,E="data:text/html;base64,"+btoa(`<script>\n  onmessage = (event) => {\n    if (event.source === parent) {\n      document.write("<script>" + ${JSON.stringify(I)} + "</" + "script>" + event.data)\n    }\n  }\n<\/script>`);class C extends s.Component{constructor(){super(...arguments),this.state={dragging:!1},this.onDragStart=(()=>{this.setState({dragging:!0})}),this.onDragEnd=(e=>{this.setState({dragging:!1}),this.props.onDragEnd(e)})}render(){return s.createElement("div",{style:{display:this.props.displayed?"":"none"},className:u.pluginUI},s.createElement(h.DraggableModal,{title:this.props.title,truncateTitleText:!0,dragHeaderOnly:!0,initialWidth:this.props.width,initialHeight:this.props.height,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onClose:this.props.cancelCallback,ignoreCloseShortcut:!0,initialPosition:this.props.initialPosition},s.createElement("iframe",{name:"Plugin Iframe",ref:this.props.iframeRefCallback,style:{display:"block",width:this.props.width,height:this.props.height,pointerEvents:this.state.dragging?"none":"auto"},src:E})))}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new Map;t.registerImageListener=function(e,t){let i=n.get(e);void 0===i&&(i=[],n.set(e,i)),-1===i.indexOf(t)&&i.push(t)},t.unregisterImageListener=function(e,t){const i=n.get(e);if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}},t.triggerImageListeners=function(e,t){const i=n.get(e);if(void 0!==i)for(const n of i.slice())n(t)}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=t(261                               ),s=t(333       ),i=t(140         ),n=t(777                                       );r.PluginImageStore=class{constructor(){this.hashToPrivateImage=new Map,this.tearDown=(()=>{this.hashToPrivateImage=new Map})}isImageAlreadyRegistered(e){return a.PluginHelpers.isImageRegistered(e)}internalBytesForImage(e){return this.getPrivateImageOrThrow(e).bytes}bytesFromImage(e){let r=this.getPrivateImageOrThrow(e);return null!==r.bytes?Promise.resolve(new Uint8Array(r.bytes)):new Promise((t,s)=>{const i=a.PluginHelpers.startLoadingImage(r.sha1);if("failure"===i.status)s(new Error(i.error));else if("FAILED"===i.resourceStatus)s(new Error("Loading failed"));else if("LOADED"===i.resourceStatus)r.bytes=this.bytesFromLoadedImage(e),t(new Uint8Array(r.bytes));else{const i=o=>{o===a.ResourceStatus.LOADED?(n.unregisterImageListener(e,i),r.bytes=this.bytesFromLoadedImage(e),t(new Uint8Array(this.bytesFromLoadedImage(e)))):o===a.ResourceStatus.FAILED&&(n.unregisterImageListener(e,i),s(new Error("Loading failed")))};n.registerImageListener(e,i)}})}bytesFromLoadedImage(e){const r=a.PluginHelpers.getImageBytes(e);if("failure"===r.status)throw new Error(r.error);return i.decode(r.buffer)}getPrivateImageOrThrow(e){const r=this.hashToPrivateImage.get(e);if(void 0===r)throw new Error("SHA1 hash does not correspond to an existing image");return r}getOrCreatePrivateImage(e){let r=this.hashToPrivateImage.get(e);return void 0===r&&(r={isAlreadyOnMainThread:!1,sha1:e,bytes:null,getBytesAsync:()=>this.bytesFromImage(e)}),this.hashToPrivateImage.set(e,r),r}createImageFromSHA1(e){const r=this.getOrCreatePrivateImage(e);return r.isAlreadyOnMainThread=!0,r}createImage(e){const r=new Uint8Array(e),t=s.sha1OfUint8Array(r),a=this.getOrCreatePrivateImage(t);return a.bytes=r,a.isAlreadyOnMainThread=!1,a}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(766                                          ),r=n(769                     ),o=n(230                              ),s=n(261                               ),l=n(130                     ),a=n(285                            ),c=n(209                ),u=i.StyleManager.instance;var p;!function(e){e.type=function({vm:e},t){e.defineProp(t,"type",{enumerable:!0,get:function(){return e.newString(function(e){switch(e){case"TEXT":case"EFFECT":case"GRID":return e;case"FILL":return"PAINT"}throw new Error(`Unsupported style type: ${e}`)}(r.getNode(e,this).styleType))}})},e.key=function({vm:e},t){e.defineProp(t,"key",{enumerable:!0,get:function(){const t=o.styleKeyFromString(e.getStringProp(this,"id"));return e.newString(t.key)}})},e.description=function({vm:e},t){e.defineProp(t,"description",{enumerable:!0,get:function(){return e.newString(r.getNode(e,this).styleDescription)},set:function(t){return r.getNode(e,this).styleDescription=e.toString(t),e.undefined}})},e.remote=function({vm:e},t){e.defineProp(t,"remote",{enumerable:!0,get:function(){return e.newBoolean(r.getNode(e,this).hasSharedStyleReference)}})},e.getPublishStatus=function({vm:e},t){e.defineFunction(t,"getPublishStatusAsync",function(){const t=r.getNode(e,this),{promise:n,resolve:i,reject:o}=e.newPromise();return e.registerPromise(async function(e){await a.libraryStylesPromise;const t=l.globalReduxStore.getState(),n=c.getEditingFile(t);if(!n)return"UNPUBLISHED";const i=t.library.published.styles,r=a.getLibraryItemPublishedInFile(n,e.guid,i);let o=null;return!r||r.unpublished_at?"UNPUBLISHED":(o=r.content_hash)?(s.PluginHelpers.updateStyles(),e.getStyleVersion()===o?"CURRENT":"CHANGED"):"UNPUBLISHED"}(t)).then(t=>i(e.newString(t)),t=>{o(e.newString("Failed to get style publish status"))}),n})},e.remove=function({vm:e,stats:t},n){e.defineFunction(n,"remove",function(){return t.increment("style.remove"),u.softDeleteStyle(r.getNode(e,this)),e.undefined})},e.paints=function(e,t){r.defineFillsProp(e,t,"paints")}}(p||(p={}));const d=[r.VmNode.name,p.type,p.key,p.description,p.remote,p.remove,p.getPublishStatus],y=[...d,p.paints],f=[...d,r.VmNode.fontSize,r.VmNode.textDecoration,r.VmNode.fontName,r.VmNode.letterSpacing,r.VmNode.lineHeight,r.VmNode.paragraphIndent,r.VmNode.paragraphSpacing,r.VmNode.textCase],g=[...d,r.VmNode.effects],m=[...d,r.VmNode.layoutGrids];t.StyleNodeFactory=class{constructor(e,t,n,i,o){this.cache=new Map;const s={vm:e,stats:t,nodeFactory:null,imageStore:n,pluginID:"",mixedSentinel:i,enableProposedApi:o};this.vm=e,this.paintStylePrototype=r.mixin(s,"PaintStyle",...y),this.textStylePrototype=r.mixin(s,"TextStyle",...f),this.effectStylePrototype=r.mixin(s,"EffectStyle",...g),this.gridStylePrototype=r.mixin(s,"GridStyle",...m)}createStyle(e){const t=this.vm,n=this.cache.get(e),i=u.get(e);if(!i)return void 0!==n&&this.cache.delete(e),t.null;if(void 0!==n)return n;let r;const o=i.styleType;switch(o){case"FILL":r=t.newObject(this.paintStylePrototype);break;case"TEXT":r=t.newObject(this.textStylePrototype);break;case"EFFECT":r=t.newObject(this.effectStylePrototype);break;case"GRID":r=t.newObject(this.gridStylePrototype);break;default:throw new Error(`Unsupported style type: ${o}`)}return t.defineProp(r,"id",{enumerable:!0,value:t.newString(e)}),t.shallowFreezeObject(r),this.cache.set(e,r),t.retainHandle(r),r}},t.convertStyleTypeToPrivate=function(e){switch(e){case"TEXT":case"EFFECT":case"GRID":return e;case"PAINT":return"FILL";default:throw new Error(`Unsupported style type: ${e}`)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o="figma-plugin",r="client-quota",s="client-storage",u=1048576;function a(e){const{userID:t,pluginID:n,name:o}=e;return[t,n,o]}function c(e){if(!e.userID)throw new Error("Cannot store to client storage without a user ID");if(!e.pluginID)throw new Error("Cannot store to client storage without a plugin ID")}let i=null;function l(){return i||(i=new Promise((e,t)=>{const n=indexedDB.open(o,1);n.onupgradeneeded=(()=>{const e=n.result;e.createObjectStore(r),e.createObjectStore(s)}),n.onerror=(()=>t(n.error)),n.onsuccess=(()=>{try{const r=n.result;e(r)}catch(o){t(o)}})})),i}function g(e){let t=e.value,n=0;return JSON.stringify(t,(e,t)=>"string"==typeof t?(n+=t.length,""):ArrayBuffer.isView(t)?(n+=t.buffer.byteLength,""):void 0===t?"":t).length+n}t.getClientValueAsync=async function(e){c(e);const t=(await l()).transaction(s,"readonly");return new Promise((n,o)=>{const r=a(e),u=t.objectStore(s);t.onabort=(e=>o("Database error"));const c=u.get(r);c.onsuccess=(()=>{n(c.result?c.result.value:void 0)})})},t.setClientValueAsync=async function(e){c(e);const t=e.name,n={value:e.value},o=await l();return new Promise((c,i)=>{const l=o.transaction([r,s],"readwrite");l.onabort=(e=>i("Database error"));const f=a(e),d=function(e){const{userID:t,pluginID:n}=e;return[t,n]}(e),b=l.objectStore(s),p=l.objectStore(r),w=b.get(f),D=p.get(d);D.onsuccess=(()=>{const e=w.result,o=D.result,r=o?o.quota:0,s=e?t.length+g(e):0,a={quota:r+(t.length+g(n))-s};if(a.quota>u)return i("Client storage quota exceeded for this plugin ID. Please use less client storage."),void l.abort();b.put(n,f),p.put(a,d),l.oncomplete=(e=>c())})})}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(93                                   ),r=o(108     ),a=o(112          ),i=o(261                               ),l=o(211              ),s=o(107           ),c=Object.create(null);t.checkpointCallback=((e,t)=>{e in c&&c[e](t)});class p extends Error{}function f(e){const t=Math.random().toString(36).substring(2);return i.Multiplayer.forceCheckpoint(t),new Promise((o,n)=>{c[t]=(a=>{try{if(delete c[t],!a)throw new p("Couldn't save checkpoint, please try again later");r.default.get(`/api/files/${e}`).then(e=>{const t=JSON.parse(e.response),n=t.meta.checkpoint_token,r=t.meta.name;o({token:n,fileName:r})},e=>{n(e)})}catch(i){n(i)}}),setTimeout(()=>{t in c&&(delete c[t],n(new p("Timed out waiting for export, aborting")))},1e4)})}t.infoForExternalExport=f,t.ExportTab={avocode:"avocode",images:"images"},t.externalExport=async function(e,o,r,i,c,d){if(d)return void i();let u=()=>{};try{let i=null;if(o!==t.ExportTab.avocode)throw new Error(`Unsupported export tab: ${o}`);i=`/avocode_export?filekey=${r}&ids=${c.join(",")}`;const d=l.desktopApp?null:a.unsafeWindowOpen(i,"_blank");u=(()=>{null!=d&&d.close()});const{token:h,fileName:b}=await f(r);if(i+=`&token=${encodeURIComponent(h)}&filename=${encodeURIComponent(b)}`,l.desktopApp)a.unsafeWindowOpen(`${i}&desktop=true`,"_blank");else{const e=d;await async function(e){let t=0;for(;null==e.startExport;){if(t>=1e4)throw new Error("The external window failed to load");await s.waitFor(200),t+=200}}(e),e.startExport(h,b)}}catch(w){u(),w instanceof p?e(n.flash.error(w.message)):(console.error(w),e(n.flash.error("Could not export: Internal error")))}null!=i&&i()}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(213                                   ),o=n(769                     ),r=n(770                 ),s=n(766                                          ),a=n(776                ),l=n(778                 ),c=n(261                               ),d=n(779                ),u=n(438                ),p=n(141              ),g=n(130                     ),m=n(316                                   ),h=n(439                        ),f=n(230                              ),y=n(209                ),w=n(226                       ),v=n(215                                          ),b=n(780                                  ),S=n(781                                       ),F=n(85                   ),P=n(298                            ),I=n(105        ),A=n(319                                              ),N=n(285                            ),E=s.SceneGraphShim.instance,T=s.StyleManager.instance,C=console.info,H=/^(\d+:\d+)|(I(\d+:\d+;)*(\d+:\d+))$/,_={PaintStyle:"FILL",TextStyle:"TEXT",GridStyle:"GRID",EffectStyle:"EFFECT"};function k(e){const t={};for(const n in e)t[e[n]]="create"+n;return t}const O=console.warn;function M(e,t,n,i,r){if(!e.isArray(n))throw new Error(`First argument to ${t}() must be an array`);const s=e.getNumberProp(n,"length");if(s<1)throw new Error(`First argument to ${t}() must be an array of at least one node`);const a=[];for(let d=0;d<s;d++){const t=e.getProp(n,d.toString());a.push(o.getNode(e,t).guid)}const l=e.isUndefined(i)?void 0:o.getNode(e,i);let c=-1;return e.isUndefined(r)||(c=u.deepValidateAndUnwrap(e,r,u.PropTypes.integer.min(0),`${t} index`)),{nodeIds:a,parent:l,index:c}}t.typeToCreateNodeFunctionName=k({Rectangle:"RECTANGLE",Page:"CANVAS",Slice:"SLICE",Frame:"FRAME",Component:"SYMBOL",BooleanOperation:"BOOLEAN_OPERATION",Vector:"VECTOR",Star:"STAR",Line:"LINE",Ellipse:"ELLIPSE",Polygon:"REGULAR_POLYGON",Text:"TEXT"}),t.typeToCreateStyleFunctionName=k(_),t.typeToGetAllStylesFunctionName=function(e){const t={};for(const n in e)t[e[n]]="getLocal"+n+"s";return t}(_),t.addAlertAPI=function(e,t,n){e.isEqual(e.undefined,e.getProp(e.global,"alert"))&&e.defineFunction(e.global,"alert",i=>{t.increment("alert");let o=e.toString(i);return o=""!==n?`From the plugin "${n}":\n\n${o}`:`From the current plugin:\n\n${o}`,alert(o),e.undefined})};const x=u.PropTypes.exact({visible:u.PropTypes.bool.isOptional,width:u.PropTypes.integer.min(0).isOptional,height:u.PropTypes.integer.min(0).isOptional}).isOptional,U=u.PropTypes.exact({origin:u.PropTypes.string.isOptional}).isOptional,V=["close","selectionchange","currentpagechange"],D=[],j=["message"];async function L(e,t,n,i){const o=g.globalReduxStore.getState();await N.libraryStylesPromise;const r=o.library.published.styles;for(const a in r)for(const o in r[a])for(const l in r[a][o]){const c=r[a][o][l];if(c.key===n){if(o!==i){let e;try{e=await w.teamLibraryItemSceneGraphCache.get(c)}catch(s){throw new Error(`Failed to download the style with the key "${n}"`)}v.fullscreen.DEPRECATED_sendMessage("getOrCreateSubscribedStyleNodeId",{styleKey:c.key,fileKey:c.file_key,editingFileKey:o,versionHash:c.content_hash},e)}const r=t.createStyle(f.styleKeyToString({key:c.key,version:c.content_hash}));if(!e.isNull(r))return r}}throw new Error(`Could not find a published style with the key "${n}"`)}async function B(e,t,n){let i=t.node_id;if(t.file_key!==n){let e;try{e=await w.teamLibraryItemSceneGraphCache.get(t)}catch(o){throw new Error(`Failed to download the component with the key "${t.component_key}"`)}i=v.fullscreen.DEPRECATED_sendMessage("upsertSharedSymbol",{guid:t.node_id,versionHash:t.content_hash,fileKey:t.file_key,editingFileKey:n,componentKey:t.component_key,isUnflattened:t.is_unflattened},e).args.localGUID}if(i&&E.get(i))return e.createNode(i);throw new Error(`Could not find a published component with the key "${t.component_key}"`)}async function R(e,t){const n=g.globalReduxStore,i=n.getState(),o=y.getEditingFile(i);if(!o)throw new Error("Missing a current file");const r=i.library.published.components;for(const a in r)for(const n in r[a])for(const i in r[a][n]){const s=r[a][n][i];if(s.component_key===t)return await B(e,s,o.key)}const s=await A.getComponentByKey(n,t);if(!s)throw new Error(`Could not find a published component with the key "${t}"`);return await B(e,s,o.key)}t.FigmaAPI=class{constructor(e,t){this.vm=e,this.options=t,this.visualBellCounter=0,this.eventHandlers=new Map,this.eventHandlerTimeouts=new Map,this.previousSelection=[],this.previousSelectedTextRangeJson="null",this.onMessageCallback=void 0,this.selectionCallback=(()=>{this.fireDebouncedEventAsync("selectionchange",()=>{const e=this.currentSelection(),t=this.currentSelectedTextRangeJson();I.valuesEqual(this.previousSelection,e)&&this.previousSelectedTextRangeJson===t||this.fireEventSync("selectionchange",[]),this.previousSelection=e,this.previousSelectedTextRangeJson=t,c.PluginHelpers.resetSelectionCouldBeDirty()})}),this.pageCallback=(()=>{this.fireDebouncedEventAsync("currentpagechange",()=>{this.fireEventSync("currentpagechange",[])})}),this.uiCancelCallback=(()=>{C("Plugin cancelled by user"),this.options.closePlugin()}),this.iframeMessageHandler=(e=>{if(!(e.data instanceof Object))return void O('Message from UI to plugin ignored because it\'s not an object. The message must be an object with a "pluginMessage" property containing the actual message.');const t=this.options.pluginID;if("getPluginId"in e.data){const n="null"!==e.origin?e.origin:"*";this.uiHandle.postMessageToIframe({pluginId:t},{origin:n,skipQueue:!0})}let n=e.origin+"";if(/^https?\:\/\/\%7b[a-f0-9\.-]+\%7d$/.test(n)&&(n="null"),"*"!==e.data.pluginId&&("pluginId"in e.data||"null"!==e.origin)&&(!t||!(e.data.pluginId===t||Array.isArray(e.data.pluginId)&&e.data.pluginId.indexOf(t)>=0)))return"pluginId"in e.data?void O("Provided pluginId does not match id of currently running plugin"):void O("Message from UI to plugin ignored due to missing pluginId in message. Please specify the pluginId that you wish to deliver the message to. You can also use '*' if it is safe to deliver the message to any plugin.");if("pluginMessage"in e.data){const t=this.eventHandlers.get("message");if(!(void 0!==t&&t.length||this.onMessageCallback))return void O('Message from UI to plugin dropped due to no message handler installed"');let i=[this.vm.deepWrap(e.data.pluginMessage),this.vm.deepWrap({origin:n})];return this.fireEventSync("message",i),void(this.onMessageCallback&&this.vm.callFunction(this.onMessageCallback,this.vm.undefined,...i))}O('Ignoring postMessage from plugin UI iframe due to missing "pluginMessage"')}),this.imageStore=new l.PluginImageStore;const n=e.evalCode("Symbol('figma.mixed')");if("FAILURE"===n.type)throw new Error(`Figma Internal Error: failed to create mixed constant, ${n.error}`);this.mixedSentinel=n.handle,e.retainHandle(this.mixedSentinel),this.nodeFactory=new r.PublicNodeFactory(e,{pluginID:t.pluginID,imageStore:this.imageStore,mixedSentinel:this.mixedSentinel,stats:t.stats,enableProposedApi:t.enableProposedApi}),this.styleFactory=new d.StyleNodeFactory(e,this.options.stats,this.imageStore,this.mixedSentinel,t.enableProposedApi),this.uiHandle="CONSOLE_SHIM"===this.options.apiMode.type?this.options.apiMode.uiHandle:new a.PluginUIHandle(e.vmType,this.options.pluginID,this.options.name,"HIDE_VISUAL_BELL"!==this.options.apiMode.type,this.uiCancelCallback,this.iframeMessageHandler),P.addSelectionChangeCallback(this.selectionCallback),P.addCurrentPageChangeCallback(this.pageCallback),this.options.addShutdownAction(()=>this.tearDown()),this.previousSelection=this.currentSelection(),c.PluginHelpers.resetSelectionCouldBeDirty()}tearDown(){P.removeSelectionChangeCallback(this.selectionCallback),P.removeCurrentPageChangeCallback(this.pageCallback),this.fireEventSync("close",[]),this.imageStore.tearDown(),this.uiHandle.tearDown(),this.eventHandlers.clear(),this.eventHandlerTimeouts.forEach(e=>clearTimeout(e)),this.eventHandlerTimeouts.clear(),this.onMessageCallback=void 0}currentSelection(){const e=E.getCurrentPage();return null!==e?o.getNodeWrapperOrThrow(e).directlySelectedNodes:[]}currentSelectedTextRangeJson(){const e=E.getCurrentPage();return null!==e?JSON.stringify(o.getNodeWrapperOrThrow(e).getSelectedTextRange()):JSON.stringify(null)}makeGroupingOperationFunction(e,t){return(n,i,o)=>{const{nodeIds:r,parent:s,index:a}=M(this.vm,e,n,i,o);if(!s)throw new Error(`Second argument to ${e}() must be provided`);const l=c.PluginHelpers.groupNodes(t,r.join(" "),s.sessionID,s.localID,a);if("success"===l.status)return this.nodeFactory.createNode(l.nodeId);throw new Error(`${e}() failed: ${l.error}`)}}addEventHandler(e,t,n){if(!this.vm.isFunction(t))throw new Error(`${e} handler must be a function`);let i=this.eventHandlers.get(e)||[];i.push({handler:t,once:n}),this.eventHandlers.set(e,i),this.vm.retainHandle(t)}removeEventHandler(e,t){let n=this.eventHandlers.get(e);if(n)for(let i=n.length-1;i>=0;i--)if(this.vm.isEqual(n[i].handler,t))return n.splice(i,1),void this.vm.releaseHandle(t)}fireDebouncedEventAsync(e,t){this.eventHandlerTimeouts.has(e)&&clearTimeout(this.eventHandlerTimeouts.get(e)),this.eventHandlerTimeouts.set(e,setTimeout(()=>{this.eventHandlerTimeouts.delete(e),t()},0))}fireEventSync(e,t){let n=this.eventHandlers.get(e);n?this.eventHandlers.set(e,n.filter(({once:e})=>!e)):n=[];for(let i of n)this.vm.callFunction(i.handler,this.vm.undefined,...t)}addEventHandlersTo(e,t){const n=u.PropTypes.oneOf(t);this.vm.defineFunction(e,"on",(e,t)=>{const i=u.deepValidateAndUnwrap(this.vm,e,n,"eventName");return this.addEventHandler(i,t,!1),this.vm.undefined}),this.vm.defineFunction(e,"once",(e,t)=>{const i=u.deepValidateAndUnwrap(this.vm,e,n,"eventName");return this.addEventHandler(i,t,!0),this.vm.undefined}),this.vm.defineFunction(e,"off",(e,t)=>{const i=u.deepValidateAndUnwrap(this.vm,e,n,"eventName");return this.removeEventHandler(i,t),this.vm.undefined})}createViewportApi(){const e=this.vm,t=this.options.stats,n=e.newObject();return e.defineProp(n,"center",{enumerable:!1,get:()=>{t.increment("get viewport.center");const n=c.PluginHelpers.getViewportBounds(),i=e.newObject();return e.setProp(i,"x",e.newNumber(n.x+n.width/2)),e.setProp(i,"y",e.newNumber(n.y+n.height/2)),e.shallowFreezeObject(i),i},set:function(n){t.increment("set viewport.center");const{x:i,y:o}=u.deepValidateAndUnwrap(e,n,h.Vector,"viewport.center");return c.PluginHelpers.setViewportCenter({x:i,y:o}),e.undefined}}),e.defineProp(n,"bounds",{enumerable:!1,get:()=>{t.increment("get viewport.bounds");const n=c.PluginHelpers.getViewportBounds(),i=e.newObject();return e.setProp(i,"x",e.newNumber(n.x)),e.setProp(i,"y",e.newNumber(n.y)),e.setProp(i,"width",e.newNumber(n.width)),e.setProp(i,"height",e.newNumber(n.height)),e.shallowFreezeObject(i),i}}),e.defineProp(n,"zoom",{enumerable:!1,get:()=>{t.increment("get viewport.zoom");const n=c.PluginHelpers.getViewportZoomScale();return e.newNumber(n)},set:function(n){t.increment("set viewport.zoom");const i=u.deepValidateAndUnwrap(e,n,u.PropTypes.float.min(0),"viewport.zoom");if(!(i>0))throw new Error("viewport.zoom expects a positive number");return c.PluginHelpers.setViewportZoomScale(i),e.undefined}}),e.defineFunction(n,"scrollAndZoomIntoView",n=>{t.increment("viewport.scrollAndZoomIntoView");const i=[];if(!e.isArray(n))throw new Error("Call to scrollAndZoomIntoView expected an array");const o=e.getNumberProp(n,"length");for(let t=0;t<o;t++){const o=e.getProp(n,t.toString());i.push(e.getString(e.getProp(o,"id")))}return c.PluginHelpers.scrollAndZoomIntoView(i),e.undefined}),e.shallowFreezeObject(n),n}createUiApi(){const e=this.vm,t=this.options.stats,n=e.newObject();return e.defineFunction(n,"show",()=>(t.increment("ui.show"),this.uiHandle.showIframe(),e.undefined)),e.defineFunction(n,"resize",(n,i)=>{t.increment("ui.resize");const o=u.deepValidateAndUnwrap(e,n,u.PropTypes.integer.min(0),"resize width"),r=u.deepValidateAndUnwrap(e,i,u.PropTypes.integer.min(0),"resize height");return this.uiHandle.setIframeSize(o,r),e.undefined}),e.defineFunction(n,"hide",()=>(t.increment("ui.hide"),this.uiHandle.hideIframe(),e.undefined)),e.defineFunction(n,"close",()=>(t.increment("ui.close"),this.uiHandle.destroyIframe(),e.undefined)),this.addEventHandlersTo(n,j),e.defineProp(n,"onmessage",{enumerable:!1,get:()=>{if(t.increment("get ui.onmessage"),"CONSOLE_SHIM"===this.options.apiMode.type)throw new Error('Cannot use "onmessage" from the developer tools console');return this.onMessageCallback?this.onMessageCallback:e.undefined},set:n=>{if(t.increment("set ui.onmessage"),"CONSOLE_SHIM"===this.options.apiMode.type)throw new Error('Cannot use "onmessage" from the developer tools console');let i;if(e.isNull(n)||e.isUndefined(n))i=void 0;else{if(!e.isFunction(n))throw new Error("onmessage must be a function");i=n}return this.onMessageCallback&&e.releaseHandle(this.onMessageCallback),this.onMessageCallback=i,this.onMessageCallback&&e.retainHandle(this.onMessageCallback),e.undefined}}),e.defineFunction(n,"postMessage",(n,i)=>{t.increment("ui.postMessage");const o=u.addDefaults(u.deepValidateAndUnwrap(e,i,U,"postMessage options")||{},{origin:"*"});return this.uiHandle.postMessageToIframe({pluginMessage:e.deepUnwrap(n),pluginId:this.options.pluginID},{origin:o.origin}),e.undefined}),e.shallowFreezeObject(n),n}createClientStorageApi(){const e=this.vm,{stats:t,userID:n,pluginID:i}=this.options,o=e.newObject();return e.defineFunction(o,"getAsync",o=>{t.increment("clientStorage.getAsync");const r=u.deepValidateAndUnwrap(e,o,u.PropTypes.string,"key"),{promise:s,resolve:a,reject:l}=e.newPromise();return e.registerPromise(b.getClientValueAsync({userID:n,pluginID:i,name:r})).then(t=>a(e.deepWrap(t)),t=>{const n=JSON.stringify(r);l(e.newString(`Failed to get client storage key ${n}`))}),s}),e.defineFunction(o,"setAsync",(o,r)=>{t.increment("clientStorage.setAsync");const s=u.deepValidateAndUnwrap(e,o,u.PropTypes.string,"key"),a=e.deepUnwrap(r),{promise:l,resolve:c,reject:d}=e.newPromise();return e.registerPromise(b.setClientValueAsync({userID:n,pluginID:i,name:s,value:a})).then(t=>c(e.undefined),t=>{const n=JSON.stringify(s);d(e.newString(`Failed to set client storage key ${n}: ${t}`))}),l}),e.shallowFreezeObject(o),o}getUiHandle(){return this.uiHandle}createAPI(){const e=this.vm,{command:n,pluginID:r,apiVersion:s,closePlugin:a,enableProposedApi:l,stats:d}=this.options,f=e.newObject();e.setProp(e.global,"figma",f),e.defineProp(f,"apiVersion",{enumerable:!1,writable:!1,value:e.newString(s)}),function(e,n,i,o){e.defineFunction(i,"getStyleById",t=>{n.increment("getStyleById");const i=e.toString(t);return o.createStyle(i)});for(const r in t.typeToCreateStyleFunctionName){const s=t.typeToCreateStyleFunctionName[r];e.defineFunction(i,s,()=>{n.increment(s);const e=T.createStyle(r);if(!e)throw new Error(`Could not create ${r} style`);return o.createStyle(e)})}for(const r in t.typeToGetAllStylesFunctionName){const s=t.typeToGetAllStylesFunctionName[r];e.defineFunction(i,s,()=>{n.increment(s);const t=T.getAllLocalStyles(r),i=e.newArray();let a=0;for(const n of t)e.setProp(i,a.toString(),o.createStyle(n)),a++;return i})}}(e,d,f,this.styleFactory),e.defineProp(f,"root",{value:this.nodeFactory.createNode("0:0"),enumerable:!1}),e.defineProp(f,"currentPage",{enumerable:!1,get:()=>{d.increment("get currentPage");const t=E.getCurrentPage();return null===t?e.null:this.nodeFactory.createNode(t)},set:function(t){d.increment("set currentPage");const n=o.getNode(e,t);if("CANVAS"!==n.type)throw new Error("figma.currentPage expects a PageNode");return E.setCurrentPage(n),e.null}}),e.defineProp(f,"command",{enumerable:!1,get:()=>(d.increment("get command"),e.newString(n))}),e.defineProp(f,"mixed",{enumerable:!1,get:()=>(d.increment("get mixed"),this.mixedSentinel)});for(const i in t.typeToCreateNodeFunctionName){const n=t.typeToCreateNodeFunctionName[i];e.defineFunction(f,n,()=>{d.increment(n);const e=E.createNode(i);return this.nodeFactory.createNode(e)})}e.defineFunction(f,"flatten",(t,n,i)=>{d.increment("flatten");const{nodeIds:o,parent:r,index:s}=M(e,"flatten",t,n,i),a=c.PluginHelpers.flattenNodes(o.join(" "),r?r.sessionID:-1,r?r.localID:-1,s);if("success"===a.status)return this.nodeFactory.createNode(a.nodeId);throw new Error(`Call to flatten() failed: ${a.error}`)}),e.defineFunction(f,"group",this.makeGroupingOperationFunction("group",c.GroupNodesType.GROUP)),e.defineFunction(f,"union",this.makeGroupingOperationFunction("union",c.GroupNodesType.UNION)),e.defineFunction(f,"subtract",this.makeGroupingOperationFunction("subtract",c.GroupNodesType.SUBTRACT)),e.defineFunction(f,"intersect",this.makeGroupingOperationFunction("intersect",c.GroupNodesType.INTERSECT)),e.defineFunction(f,"exclude",this.makeGroupingOperationFunction("exclude",c.GroupNodesType.XOR)),e.defineFunction(f,"createImage",t=>(d.increment("createImage"),o.wrapPrivateImage(e,this.imageStore.createImage(u.deepValidateAndUnwrap(e,t,u.PropTypes.uint8Array,"createImage"))))),e.defineFunction(f,"getImageByHash",t=>{d.increment("getImageByHash");const n=u.deepValidateAndUnwrap(e,t,u.PropTypes.string,"getImageByHash");return o.wrapPrivateImage(e,this.imageStore.createImageFromSHA1(n))}),e.defineFunction(f,"listAvailableFontsAsync",()=>{d.increment("listAvailableFontsAsync");const{promise:t,resolve:n,reject:o}=e.newPromise();return e.registerPromise(async function(){const e=g.globalReduxStore.getState().fonts,t=[];for(const n in e){const i=new Set,o=e[n];for(const e in o){const r=o[e];for(const e in r.styles)i.has(e)||(i.add(e),t.push({fontName:{family:n,style:e}}))}}return t.sort((e,t)=>e.fontName.family>t.fontName.family?1:e.fontName.family<t.fontName.family?-1:e.fontName.style>t.fontName.style?1:e.fontName.style<t.fontName.style?-1:0),t}()).then(t=>n(e.deepWrap(t)),t=>{o(e.newString("Internal error")),i.errorHandler.raiseError(t)}),t}),e.defineFunction(f,"loadFontAsync",t=>{d.increment("loadFontAsync");const{promise:n,resolve:i,reject:o}=e.newPromise(),r=u.deepValidateAndUnwrap(e,t,h.FontName,"loadFontAsync");return setTimeout(()=>{e.registerPromise(function({family:e,style:t}){return new Promise((n,i)=>{const o=c.PluginHelpers.startLoadingFontName(e,t);if(o!==c.ResourceStatus.LOADED)if(o!==c.ResourceStatus.LOADING)i();else{const o=r=>{r===c.ResourceStatus.LOADED?(m.unregisterFontListener(e,t,o),n()):r===c.ResourceStatus.FAILED&&(m.unregisterFontListener(e,t,o),i())};m.registerFontListener(e,t,o)}else n()})}(r)).then(()=>i(e.undefined),()=>o(e.newString(`The font "${r.family} ${r.style}" could not be loaded`)))}),n}),e.defineProp(f,"hasMissingFont",{enumerable:!1,get:()=>(d.increment("get hasMissingFont"),e.newBoolean(c.PluginHelpers.documentHasMissingFont()))}),e.defineFunction(f,"getNodeById",t=>{d.increment("getNodeById");const n=e.toString(t);if(!H.test(n))return e.null;let i=n.startsWith("I")?c.PluginHelpers.guidFromDeveloperFriendlyId(n):n;return i&&void 0!==E.get(i)?this.nodeFactory.createNode(i):e.null}),e.defineFunction(f,"createNodeFromSvg",t=>{d.increment("createNodeFromSvg");const n=e.toString(t),i=c.PluginHelpers.createNodeFromSvgForPlugin(n);if(""===i)throw new Error("Failed to convert SVG file");return this.nodeFactory.createNode(i)}),e.defineFunction(f,"importStyleByKeyAsync",t=>{d.increment("importStyleByKeyAsync");const{promise:n,resolve:i,reject:o}=e.newPromise(),r=u.deepValidateAndUnwrap(e,t,u.PropTypes.string,"key");return e.registerPromise(L(e,this.styleFactory,r,this.options.editingFileKey)).then(e=>i(e),t=>{o(e.newString(`Failed to import style by key "${r}"`))}),n}),e.defineFunction(f,"importComponentByKeyAsync",t=>{d.increment("importComponentByKeyAsync");const{promise:n,resolve:i,reject:o}=e.newPromise(),r=u.deepValidateAndUnwrap(e,t,u.PropTypes.string,"key");return e.registerPromise(R(this.nodeFactory,r)).then(e=>i(e),t=>{o(e.newString(`Failed to import component by key "${r}"`))}),n}),e.defineFunction(f,"closePlugin",t=>{d.increment("closePlugin");const n=u.deepValidateAndUnwrap(e,t,u.PropTypes.string.isOptional,"closePlugin message");return setTimeout(()=>{n?a({message:n,isError:!1}):a()}),e.undefined}),e.defineFunction(f,"notify",(t,n)=>{let i=u.deepValidateAndUnwrap(e,t,u.PropTypes.string,"notify message");const o=u.addDefaults(u.deepValidateAndUnwrap(e,n,h.ShowVisualBellOptions.isOptional,"notify options")||{},{timeout:4e3});o.timeout=Math.max(o.timeout,100),i.length>100&&(i=i.slice(0,100)+"…");const r=`message-from-plugin-${this.visualBellCounter}`;return this.uiHandle.showPluginVisualBell(i,r,o),this.visualBellCounter++,function(e,t,n){const i=e.newObject();return e.defineFunction(i,"cancel",()=>(t.cancelPluginVisualBell(n),e.undefined)),i}(e,this.uiHandle,r)});let y=V;l&&(y=y.concat(D)),this.addEventHandlersTo(f,y),p.isRunningInteractionTests()&&e.defineFunction(f,"closePluginWithFailure",t=>{let n;try{n=e.toString(t)}catch(i){n='The plugin called "closePluginWithFailure"'}return setTimeout(()=>a({message:n,isError:!0})),e.undefined}),e.defineFunction(f,"showUI",(t,n)=>{d.increment("showUI");const i=u.deepValidateAndUnwrap(e,t,u.PropTypes.string,"showUI html"),o=u.addDefaults(u.deepValidateAndUnwrap(e,n,x,"showUI options")||{},{visible:!0,position:"last"});return this.uiHandle.makeIframe(i,o.width,o.height,o.position),o.visible&&this.uiHandle.showIframe(),e.undefined}),e.defineProp(f,"ui",{enumerable:!1,value:this.createUiApi()}),e.defineProp(f,"viewport",{enumerable:!1,value:this.createViewportApi()}),e.defineProp(f,"clientStorage",{enumerable:!1,value:this.createClientStorageApi()}),function(e){const{vm:t,figmaApi:n,editingFileKey:i,pluginID:o}=e,r=F.default().zeplin_plugin_id;r&&o===r&&t.defineFunction(n,"infoForZeplinExportAsync",()=>{const{promise:e,resolve:n,reject:o}=t.newPromise();return i?n(t.deepWrap({fileKey:i})):o(t.newString("Failed to get the fileKey")),e});const s=F.default().avocode_plugin_id;s&&o===s&&t.defineFunction(n,"infoForAvocodeExportAsync",()=>{const{promise:e,resolve:n,reject:o}=t.newPromise();return S.infoForExternalExport(i).then(({token:e})=>n(t.deepWrap({token:e})),e=>{o(t.newString("Failed to generate Avocode export information"))}),e})}({vm:e,figmaApi:f,editingFileKey:this.options.editingFileKey,pluginID:r}),e.shallowFreezeObject(f)}},t.importStyleByKeyAsync=L,t.importComponentByKeyAsync=R}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=t(261                               );n.addTestAPI=function(e,n){const t=e.newObject();e.setProp(e.global,"__TEST__",t),e.defineProp(t,"updateInstanceCallCount",{enumerable:!0,get:()=>e.newNumber(s.DebuggingHelpers.updateInstanceCallCount())}),n&&(e.defineFunction(t,"sendMessage",t=>(n.sendMessageToTest(e.toString(t)),e.undefined)),e.defineFunction(t,"onMessage",t=>{if(!e.isFunction(t))throw new Error("onMessage handler must be a function");return e.retainHandle(t),n.sendMessageToPlugin=(n=>{e.callFunction(t,e.undefined,e.newString(n))}),e.undefined})),e.shallowFreezeObject(t)}}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTimerAPIs=function(e,t,l){if(!e.isEqual(e.undefined,e.getProp(e.global,"setTimeout")))return;const n=new Map,r=new Map;let a=1;function o(t,l){if(e.isFunction(t)){e.retainHandle(t);for(const t of l)e.retainHandle(t);let n=!1;return{release:()=>{if(!n){n=!0,e.releaseHandle(t);for(const t of l)e.releaseHandle(t)}},callback:()=>{n||e.callFunction(t,e.global,...l)}}}{const l=e.toString(t);return{release:()=>{},callback:()=>e.evalCode(l)}}}e.setProp(e.global,"setTimeout",e.newFunction("setTimeout",(l,r,...c)=>{null!==t&&t.increment("setTimeout");const{release:u,callback:s}=o(l,c),i=e.toNumber(r),d=a++,m=setTimeout(()=>{n.delete(m),s(),u()},i);return n.set(d,{release:u,realId:m}),e.newNumber(d)})),e.setProp(e.global,"clearTimeout",e.newFunction("clearTimeout",l=>{null!==t&&t.increment("clearTimeout");const r=e.toNumber(l),a=n.get(r);return void 0!==a&&(n.delete(r),clearTimeout(a.realId),a.release()),e.undefined})),e.setProp(e.global,"setInterval",e.newFunction("setInterval",(l,n,...c)=>{null!==t&&t.increment("setInterval");const{release:u,callback:s}=o(l,c),i=e.toNumber(n),d=a++,m=setInterval(s,i);return r.set(d,{release:u,realId:m}),e.newNumber(d)})),e.setProp(e.global,"clearInterval",e.newFunction("clearInterval",l=>{null!==t&&t.increment("clearInterval");const n=e.toNumber(l),a=r.get(n);return void 0!==a&&(r.delete(n),clearInterval(a.realId),a.release()),e.undefined})),l(()=>{for(const{realId:e}of n.values())clearTimeout(e);n.clear();for(const{realId:e}of r.values())clearInterval(e);r.clear()})}}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=r(215                                          ),i=r(437     ),s=r(782               ),a=r(783              ),o=r(786                          ),l=r(141              ),c=r(111          ),g=r(212                ),u=r(261                               ),d=r(431                   ),p=r(784               ),m=100;let I=0;function _(e){if(++I>m)return;const{message:n,raw_stack:r,apiVersion:t,pluginID:i}=e;let s=Object.assign(Object.assign({message:n},g.splitStackIntoSegmentSizes(r)),{pluginID:i||"",version:t});c.segment.track("plugin_generated_error",s)}n.runPluginCodeInRuntime=async function(e){const{code:n,name:r,apiVersion:c,command:g,userID:m,editingFileKey:I,enableProposedApi:f,pluginCounter:P,errorHandler:y,testMessageHandler:b,securityCheckReporter:A,stats:h}=e;let w,v;return"cppvm"===e.vmType?w=await i.createCppVm():(await d.loadRealms(),w=i.createRealmsVm()),w.setErrorHandler(n=>{let r="";try{r=w.toString(n.handle)}catch(i){r="Error: An error was thrown, but couldn't be converted into a string"}let t="";try{t=w.getStringProp(n.handle,"stack")}catch(i){t="Unable to get stack"}_({message:r,raw_stack:t,pluginID:e.pluginID,apiVersion:c}),y(r)}),w.setAbortHandler(n=>{v({message:"Plugin runtime aborted",isError:!0}),_({message:"Plugin runtime aborted",raw_stack:n,pluginID:e.pluginID,apiVersion:c})}),{runResult:new Promise((d,_)=>{let y=[];const D=e=>{-1===y.indexOf(e)&&y.push(e)};v=(e=>{let n=void 0;e&&e.isError&&(n=new Error(e.message));try{(()=>{let e;if(y.forEach(n=>{try{n()}catch(r){e||(e=r)}}),y=[],e)throw e})()}catch(r){throw n=n||r,r}finally{n?_(n):d(e&&e.message)}}),o.silenceConsole();const E=new s.FigmaAPI(w,{stats:h,name:r,command:g,userID:m,pluginID:e.pluginID||"",editingFileKey:I,apiVersion:c,closePlugin:v,addShutdownAction:D,apiMode:A?{type:"HIDE_VISUAL_BELL"}:{type:"NORMAL"},enableProposedApi:f});E.createAPI(),D(()=>w.destroy()),D(()=>o.restoreConsole()),D(()=>t.fullscreen.triggerAction("commit")),s.addAlertAPI(w,h,r),p.addTimerAPIs(w,h,D),l.isRunningInteractionTests()&&a.addTestAPI(w,b),A&&w.defineFunction(w.global,"reportSecurityResults",e=>(A(w.toString(e)),w.undefined));const S=i.createNoOpJavascriptVm();D(()=>S.destroy()),D(()=>{delete window.figma}),new s.FigmaAPI(S,{stats:h,name:r,command:g,userID:m,pluginID:e.pluginID||"",editingFileKey:I,apiVersion:c,closePlugin:v,addShutdownAction:D,apiMode:{type:"CONSOLE_SHIM",uiHandle:E.getUiHandle()},enableProposedApi:f}).createAPI();const R=n+"\n//# sourceURL=PLUGIN_"+P+"_SOURCE\n";setTimeout(()=>{if(!A&&o.getCurrentPluginCounter()!==P)return void v({message:"Plugin already terminated",isError:!0});let e;u.PluginHelpers.prepareToRunPlugin();try{e=w.evalTopLevelCode(R)}catch(n){let e="Unknown error";try{e=n+""}catch(n){}return void v({message:e,isError:!0})}if("FAILURE"===e.type)if(l.isRunningInteractionTests()){const n=w.toString(e.error.handle);v({message:n,isError:!0})}else v()})}),closePlugin:v}}}),
(function(module,exports,require){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const storage_1=require(88           ),plugin_syntax_checker_1=require(751                      ),segment_1=require(111          ),safe_record_1=require(141              ),jsvm_runtime_1=require(785                            ),jsvm_1=require(437                    ),plugin_constants_1=require(303                 ),jsvm_figma_api_1=require(782                              ),bindings_interface_1=require(215                                          ),global_redux_store_1=require(130                     ),desktop_app_1=require(211              ),visual_bell_actions_1=require(172                                              ),plugin_constants_2=require(303                             ),plugin_helper_1=require(440              ),plugins_1=require(358                       ),plugin_code_cache_1=require(752                  ),plugin_last_run_1=require(765                ),consoleError=console.error,hasTrackedPluginApiUse=new Set;function getUserID(){var e;return null===(e=global_redux_store_1.globalReduxStore.getState().user)||void 0===e?void 0:e.id}function vmTypeForPluginDev(){return global_redux_store_1.globalReduxStore.getState().mirror.appModel.useRealmsForPluginDev?"realms":"cppvm"}async function showVisualBellError(e){e.length>50&&(e=e.substring(0,50)+"…");const n=desktop_app_1.desktopApp&&(!plugin_constants_2.supportsDesktopPluginsV4()||!(await desktop_app_1.desktopApp.isDevToolsOpened()));bindings_interface_1.fullscreen.dispatch(visual_bell_actions_1.visualBell.enqueue({type:"plugins-runtime-error",message:e,button:n?{text:"Open Console",action:()=>{desktop_app_1.desktopApp.openDevTools("bottom")}}:void 0}))}function makeRuntimeErrorHandler(){let e=0;return n=>{let r="";++e>1&&(r=` (${e} errors total)`),showVisualBellError(`Plugin Error: ${n}${r}`)}}exports.getUserID=getUserID,exports.vmTypeForPluginDev=vmTypeForPluginDev,exports.showVisualBellError=showVisualBellError;let closePluginFunc=e=>{};function terminateCurrentPlugin(e){e?closePluginFunc({message:e+"",isError:!0}):closePluginFunc(),currentPluginCounter=void 0}function exposeGlobalDebugAPI(e){const n=jsvm_1.createNoOpJavascriptVm();let r=[()=>n.destroy(),()=>{delete window.figma},()=>bindings_interface_1.fullscreen.triggerAction("commit")];const t=e=>{(()=>{let e;if(r.forEach(n=>{try{n()}catch(r){e||(e=r)}}),r=[],e)throw e})()};delete window.figma,new jsvm_figma_api_1.FigmaAPI(n,{name:"",command:"",pluginID:"",editingFileKey:e.editingFileKey,stats:new plugin_helper_1.StatCounter,userID:e.userID,apiVersion:plugin_constants_1.PLUGIN_VERSION_LATEST_STABLE,closePlugin:t,addShutdownAction:e=>{-1===r.indexOf(e)&&r.push(e)},apiMode:{type:"HIDE_VISUAL_BELL"},enableProposedApi:!0}).createAPI(),closePluginFunc=t}exports.terminateCurrentPlugin=terminateCurrentPlugin,exports.exposeGlobalDebugAPI=exposeGlobalDebugAPI;let nextPluginCounter=1,currentPluginCounter=void 0;function getCurrentPluginCounter(){return currentPluginCounter}function isPluginRunning(){return void 0!==currentPluginCounter}exports.getCurrentPluginCounter=getCurrentPluginCounter,exports.isPluginRunning=isPluginRunning;let realmsSandboxChecksPromise=void 0,cppSandboxChecksPromise=void 0;function resetSecurityChecks(){realmsSandboxChecksPromise=void 0,cppSandboxChecksPromise=void 0}function createPluginRunID(){return Math.random().toString(36).slice(2)}async function runPlugin(e){e.ignoreForRunLastPlugin||plugin_last_run_1.setLastRunPluginArgs(e),plugins_1.isLocalPlugin(e.plugin)?await runLocalPlugin(e.plugin,e):await runInstalledPlugin(e.plugin,e)}async function runInstalledPlugin(e,n){const{command:r,triggeredFrom:t,editingFileKey:o}=n,i=await plugin_code_cache_1.pluginCodeCache.getAndCache(e);if(!i)throw new Error("No code found for plugin version");const s=getUserID();if(!s)throw new Error("Cannot run plugin while logged out");const l=createPluginRunID(),a={pluginID:e.plugin_id,version:e.manifest.api,trigger:t,source:"imported",command:r,name:e.name,fileKey:o,pluginRunID:l};return segment_1.segment.track("Run User Action",a),runPluginCode({code:i,command:r,name:e.name,apiVersion:e.manifest.api,pluginID:e.plugin_id,userID:s,editingFileKey:o,enableProposedApi:!1,checkSyntax:!1,showRuntimeErrors:!1,showLaunchErrors:!0,vmType:"cppvm",pluginRunID:l})}async function runLocalPlugin(e,n){const{command:r,triggeredFrom:t,editingFileKey:o}=n,i=createPluginRunID(),s=getUserID();if(!s)throw new Error("Cannot run plugin while logged out");if(e.manifest){const n={pluginID:e.manifest.id||"",version:e.manifest.api,trigger:t,source:"development",command:r,name:"<local plugin>",fileKey:o,pluginRunID:i};segment_1.segment.track("Run User Action",n)}try{const n=await plugin_helper_1.getManifest(e.localFileId),t={code:await plugin_helper_1.getLocalPluginCode(e.localFileId),command:r,name:n.name,apiVersion:n.api,pluginID:n.id||"",userID:s,editingFileKey:o,checkSyntax:!0,enableProposedApi:!!n.enableProposedApi,showRuntimeErrors:!0,showLaunchErrors:!1,vmType:vmTypeForPluginDev(),pluginRunID:i};await runPluginCode(t)}catch(l){consoleError(l),showVisualBellError(l&&l.message||"An error occurred while running this plugin")}}function runLastPlugin(){const e=plugin_last_run_1.getLastRunPluginArgs();e&&runPlugin(e)}function runPluginCode(e){const n=new plugin_helper_1.StatCounter,r=Date.now(),t=new Promise(async(r,t)=>{terminateCurrentPlugin(),closePluginFunc=t;let o=nextPluginCounter;currentPluginCounter=o,nextPluginCounter++;try{realmsSandboxChecksPromise||(realmsSandboxChecksPromise=doSecurityChecks("realms").catch(e=>{throw segment_1.segment.track("Plugin Sandbox Failure",{error:e+"",vm:"realms"}),e})),await realmsSandboxChecksPromise,cppSandboxChecksPromise||(cppSandboxChecksPromise=doSecurityChecks("cppvm").catch(e=>{throw segment_1.segment.track("Plugin Sandbox Failure",{error:e+"",vm:"cppvm"}),e})),await cppSandboxChecksPromise;let{runResult:s,closePlugin:l}=await runPluginCodeInternal(Object.assign(Object.assign({},e),{pluginCounter:o,stats:n}));if(getCurrentPluginCounter()===o){closePluginFunc=l;const e=await s;e&&bindings_interface_1.fullscreen.dispatch(visual_bell_actions_1.visualBell.enqueue({type:"plugins-supplied-message",message:e}))}r()}catch(i){t(i)}finally{o===currentPluginCounter&&(currentPluginCounter=void 0,exposeGlobalDebugAPI({userID:e.userID,editingFileKey:e.editingFileKey}))}}).catch(n=>{if(consoleError(n),!e.showLaunchErrors)throw n;showVisualBellError(n&&n.message||"An error occurred while running this plugin")}),o=()=>{if(segment_1.segment.track("Finish User Action",{pluginID:e.pluginID,pluginRunID:e.pluginRunID,approximateDurationMS:Date.now()-r}),e.pluginID){let r=0;for(const t of n.keys()){const n=`${e.pluginID}:${t}`;hasTrackedPluginApiUse.has(n)||(hasTrackedPluginApiUse.add(n),setTimeout(()=>{segment_1.segment.track("Plugin Api Use",{pluginID:e.pluginID,apiName:t})},r),r+=20)}n.hasResizedNodeWithMissingFont()&&(segment_1.segment.track("Plugin resized node with missing font",{pluginID:e.pluginID}),console.warn("This plugin resized a node with missing fonts. Text layout for node will not be applied."))}};return t.then(o,o),t}async function runPluginCodeInternal(e){const{stats:n,code:r,name:t,apiVersion:o,command:i,userID:s,editingFileKey:l,enableProposedApi:a,checkSyntax:u,vmType:c,pluginCounter:g,showRuntimeErrors:p,testMessageHandler:d,securityCheckReporter:m,errorHandler:_}=e;if("0.6.0"!==o&&"1.0.0"!==o)throw new Error(`Unknown plugin api version "${o}"`);let h;if(p){let e=makeRuntimeErrorHandler();h=_?n=>{e(n),_(n)}:e}else h=_||(()=>{});let f=r;if(!1!==u){let e;try{e=await plugin_syntax_checker_1.checkJavaScriptSyntax(r)}catch(y){}if(e&&!1===e.success){const{lineNumber:n,column:t,description:o}=e.error,i=`Syntax error on line ${n}: ${o}`,s=r.split("\n");let l="";if(n>=1&&n<=s.length&&t>=1&&t<100){l+=`\n${s[n-1].replace(/\t/g," ").slice(0,t+100)}\n${" ".repeat(t-1)}^`}throw consoleError(i+l),new Error(i)}"realms"===c&&e&&e.success&&(f=plugin_helper_1.omitRanges(r,e.rangesToRemove))}return jsvm_runtime_1.runPluginCodeInRuntime({stats:n,code:f,name:t,apiVersion:o,userID:s,pluginID:e.pluginID,editingFileKey:l,pluginCounter:g,vmType:c,command:i,enableProposedApi:a,errorHandler:h,testMessageHandler:d,securityCheckReporter:m})}async function doSecurityChecks(vmType){let html='<script>\n  function doIframeSecurityChecks() {\n\n    // Edge seems to change the URL and origin of the page when you document.write()\n    // a whole new page. The new URL looks something like http://{abc123.abcd-1234-5678-0123}/\n    // with the {} escaped using percent encoding.\n    if (document.location.origin !== "null" &&\n        !/^https?\\:\\/\\/\\%7b[a-f0-9.-]+\\%7d$/.test(document.location.origin)) {\n      return "Failed origin check: " + document.location.origin\n    }\n\n    // This doesn\'t ensure that we\'re sandboxed. But we want this to be true\n    if (!document.location.href.startsWith(\'data:text/html,\') &&\n        !document.location.href.startsWith(\'data:text/html;base64,\') &&\n        !/^https?\\:\\/\\/\\%7b[a-f0-9.-]+\\%7d\\/$/.test(document.location.href)) {\n      return "Failed location.href check: " + document.location.href\n    }\n\n    try {\n      if (localStorage && localStorage["figma-extension-guard"] !== undefined) {\n        return "Failed localStorage check"\n      }\n    } catch(ex) {}\n\n    try {\n      window.parent.document.body\n      return "Failed DOM access check"\n    } catch(ex) {}\n\n    try {\n      window.parent.someRandomProperty\n      return "Failed JS heap access check"\n    } catch(ex) {}\n\n    return "ok"\n  }\n\n  let result\n  try {\n    result = doIframeSecurityChecks()\n  } catch(ex) {\n    result = ex + \'\'\n  }\n  parent.postMessage({ pluginMessage: result }, \'*\')\n  <\/script>',code=`\n    function doMainThreadSecurityChecks() {\n      // Modify a grab bag of prototype objects to try to modify prototypes outside\n      // of the sandbox.\n      // Grab prototype objects both through global property accesses, like\n      // Array.prototype, through syntax access, like [].__proto__, and through\n      // Object helpers, like Object.getPrototypeOf({}), in case\n      // the realm API accidentally protects one but not the other.\n      // Also grab prototypes for things that don't have named constructors, like\n      // GeneratorFunction\n      for (let obj of [Array.prototype,\n                       String.prototype,\n                       Function.prototype,\n                       Object.prototype,\n                       Date.prototype,\n                       [].__proto__,\n                       "".__proto__,\n                       Math.__proto__,\n                       (new Date()).__proto__,\n                       ({}).__proto__,\n                       (() => {}).__proto__,\n                       (function*(){}).__proto__,\n                       "(async () => {}).__proto__",\n                       "(async function*(){}).__proto__",\n                       Object.getPrototypeOf([]),\n                       Object.getPrototypeOf(""),\n                       Object.getPrototypeOf(Math),\n                       Object.getPrototypeOf(new Date()),\n                       Object.getPrototypeOf({}),\n                       Object.getPrototypeOf(() => {}),\n                       Object.getPrototypeOf(function*(){}),\n                       "Object.getPrototypeOf(async () => {})",\n                       "Object.getPrototypeOf(async function*(){})",\n                       ]) {\n        // Some syntaxes might not work in all browser versions. But we still want to protect the\n        // ones where it does work.\n        if (typeof obj === 'string') {\n          try {\n            obj = eval(obj)\n          } catch(ex) {\n            continue\n          }\n        }\n\n        // Don't make it enumerable since adding enumerable properties on Object.prototype\n        // will completely break Figma. And we want a breach here to prevent plugins from\n        // running, not to prevent Figma from continuing to work\n        Object.defineProperty(obj, 'hackedSandbox', {\n          value: true,\n          configurable: true,\n          enumerable: false,\n        })\n      }\n\n      function swallowErrors(cb) {\n        try { return cb() }\n        catch (e) { return false }\n      }\n\n      if (swallowErrors(() => window) ||\n          swallowErrors(() => document) ||\n          swallowErrors(() => localStorage)) {\n        return "Browser globals accessible"\n      }\n\n      // Check if you can use eval or Function to break out of the sandbox\n      if (swallowErrors(() => eval('window')) ||\n          swallowErrors(() => eval('document')) ||\n          swallowErrors(() => eval('localStorage')) ||\n          swallowErrors(() => new Function('return window')()) ||\n          swallowErrors(() => new Function('return document')()) ||\n          swallowErrors(() => new Function('return localStorage')())) {\n        return "Browser globals accessible"\n      }\n\n      if (figma.showUI.__proto__ !== Function.prototype) {\n        return "APIs use unexpected prototype"\n      }\n\n      if ([].__proto__ !== Array.prototype) {\n        return "Array use unexpected prototype"\n      }\n\n      return "ok"\n    }\n\n    let result\n    try {\n      result = doMainThreadSecurityChecks()\n    } catch(ex) {\n      result = ex + ''\n    }\n\n    if (result !== "ok") {\n      reportSecurityResults(result)\n      figma.closePlugin()\n    }\n\n    figma.showUI(${JSON.stringify(html)}, { visible: false })\n    figma.ui.onmessage = result => {\n      reportSecurityResults(result)\n      figma.closePlugin()\n    }\n  `;storage_1.localStorageOrNull&&(storage_1.localStorageOrNull["figma-extension-guard"]="guard");let triggeredError=void 0,reportedResult="";const{runResult:runResult}=await runPluginCodeInternal({stats:new plugin_helper_1.StatCounter,code:code,name:"Security Checker",apiVersion:plugin_constants_1.PLUGIN_VERSION_LATEST_STABLE,command:"",pluginRunID:"",pluginID:"",userID:"",editingFileKey:"",vmType:vmType,enableProposedApi:!1,checkSyntax:!1,showRuntimeErrors:!1,showLaunchErrors:!1,errorHandler:e=>{triggeredError=triggeredError||e||"unknown error"},pluginCounter:-1,securityCheckReporter:e=>{reportedResult=e}});await runResult;let failedPrototypeChecks=!1;for(let obj of[Array.prototype,Function.prototype,Object.prototype,Date.prototype,Object.getPrototypeOf(function*(){yield 0}),"Object.getPrototypeOf(async () => {})","Object.getPrototypeOf(async function*(){ yield 0 })"]){if("string"==typeof obj)try{obj=eval(obj)}catch(ex){continue}obj.hackedSandbox&&(failedPrototypeChecks=!0,delete obj.hackedSandbox)}if(failedPrototypeChecks)throw new Error("Prototypes not isolated");if(void 0!==triggeredError)throw new Error("Security checks triggered error");if("ok"!==reportedResult)throw new Error(reportedResult)}exports.resetSecurityChecks=resetSecurityChecks,exports.createPluginRunID=createPluginRunID,exports.runPlugin=runPlugin,exports.runLastPlugin=runLastPlugin,exports.runPluginCode=runPluginCode;const consoleFuncNames=["log","error","assert","info","warn","clear"];let consoleStash={};for(let e of consoleFuncNames)consoleStash[e]=console[e];let silenceDepth=0;function silenceConsole(){if(!safe_record_1.isRunningInteractionTests()&&!safe_record_1.isDevelopmentEnvironment){if(0===silenceDepth){console.clear(),console.log("------- Clearing and silencing console.log from Figma -------");try{for(let e of consoleFuncNames)console[e]=(()=>{})}catch(e){console.log("unable to silence console")}}silenceDepth++}}function restoreConsole(){if(!safe_record_1.isRunningInteractionTests()&&!safe_record_1.isDevelopmentEnvironment&&0===--silenceDepth){try{for(let e of consoleFuncNames)console[e]=consoleStash[e]}catch(e){console.log("unable to restore console")}console.log("------- Restoring console.log functionality in Figma --------")}}exports.silenceConsole=silenceConsole,exports.restoreConsole=restoreConsole}),
(function(e,n,t){e.exports={button:"plugin_new_development_modal--button--3-_9K",buttonsContainer:"plugin_new_development_modal--buttonsContainer--gds_U",modal:"plugin_new_development_modal--modal--3EC1c",modalTitle:"plugin_new_development_modal--modalTitle--3Hv0k text--fontPos24--2l6xY text--_fontBase--YWDo0",modalSubtitle:"plugin_new_development_modal--modalSubtitle--1rM6E text--fontPos14--3UJ36 text--_fontBase--YWDo0",modalContent:"plugin_new_development_modal--modalContent--Njltu",modalTitleSubtext:"plugin_new_development_modal--modalTitleSubtext--3grCs",modalContentPadding:"plugin_new_development_modal--modalContentPadding--1r2TR",generateNew:"plugin_new_development_modal--generateNew--2Lv-g",pluginNameText:"plugin_new_development_modal--pluginNameText--1IR2r text--fontPos11--RSei3 text--_fontBase--YWDo0",pluginNameInput:"plugin_new_development_modal--pluginNameInput--3Ii7E",continueButton:"plugin_new_development_modal--continueButton--3h3iM",separator:"plugin_new_development_modal--separator--3ByuV",separatorLine:"plugin_new_development_modal--separatorLine--1_RJX",or:"plugin_new_development_modal--or--pwKZW",dragTargetBox:"plugin_new_development_modal--dragTargetBox--2kvTx",folderIcon:"plugin_new_development_modal--folderIcon--3LTsf",folderDragText:"plugin_new_development_modal--folderDragText--39n0d",split:"plugin_new_development_modal--split--3_gma",leftSplit:"plugin_new_development_modal--leftSplit--3h8ZC plugin_new_development_modal--split--3_gma",rightSplit:"plugin_new_development_modal--rightSplit--VngdX plugin_new_development_modal--split--3_gma",closeX:"plugin_new_development_modal--closeX--sY_d7",closeWhite:"plugin_new_development_modal--closeWhite--Loa95",templatesRow:"plugin_new_development_modal--templatesRow--1uIs0",template:"plugin_new_development_modal--template--39s_h",selectedTemplate:"plugin_new_development_modal--selectedTemplate--28ghr plugin_new_development_modal--template--39s_h",templateContent:"plugin_new_development_modal--templateContent--261dy",selectedTemplateContent:"plugin_new_development_modal--selectedTemplateContent--3My5n plugin_new_development_modal--templateContent--261dy",templateImage:"plugin_new_development_modal--templateImage--2Ixp5",templateDescription:"plugin_new_development_modal--templateDescription--3JOy9",templateTitle:"plugin_new_development_modal--templateTitle--2o_pj text--fontPos14--3UJ36 text--_fontBase--YWDo0",radio:"plugin_new_development_modal--radio--OGs-_",emptyRadio:"plugin_new_development_modal--emptyRadio--1cH-I",chooseButtonsContainer:"plugin_new_development_modal--chooseButtonsContainer--2YGhR",modalInstructions:"plugin_new_development_modal--modalInstructions--2VvNS",modalTextPadding:"plugin_new_development_modal--modalTextPadding--3D6iY",commandTitle:"plugin_new_development_modal--commandTitle--2indb",instructionArea:"plugin_new_development_modal--instructionArea--y-r3l",textLink:"plugin_new_development_modal--textLink--1Ekrb",linkArea:"plugin_new_development_modal--linkArea--2OZ5e plugin_new_development_modal--instructionArea--y-r3l text--fontPos13--1DoEt text--_fontBase--YWDo0",linkIcon:"plugin_new_development_modal--linkIcon--oiaEQ"}}),
(function(c,h,l){c.exports={src:'<svg width="18" height="22" viewBox="0 0 18 22" xmlns="http://www.w3.org/2000/svg"><path d="M.879.879C1.44.316 2.204 0 3 0h8c.265 0 .52.105.707.293l6 6c.188.187.293.442.293.707v12c0 .796-.316 1.559-.879 2.121-.562.563-1.325.879-2.121.879H3c-.796 0-1.559-.316-2.121-.879C.316 20.56 0 19.796 0 19V3C0 2.204.316 1.441.879.879zM3 2c-.265 0-.52.105-.707.293C2.105 2.48 2 2.735 2 3v16c0 .265.105.52.293.707.187.188.442.293.707.293h12c.265 0 .52-.105.707-.293.188-.187.293-.442.293-.707V8h-5c-.552 0-1-.448-1-1V2H3zm9 1.414L14.586 6H12V3.414zM4 8c0-.552.448-1 1-1h2c.552 0 1 .448 1 1 0 .552-.448 1-1 1H5c-.552 0-1-.448-1-1zm0 4c0-.552.448-1 1-1h8c.552 0 1 .448 1 1 0 .552-.448 1-1 1H5c-.552 0-1-.448-1-1zm0 4c0-.552.448-1 1-1h8c.552 0 1 .448 1 1 0 .552-.448 1-1 1H5c-.552 0-1-.448-1-1z" fill-rule="evenodd" fill-opacity="1" fill="#61616a" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-.089-5.135l4-4.5-.822-.73-3.613 4.064L4.89 7.11l-.778.778 3 3 .413.412.387-.436z" fill-rule="evenodd" fill-opacity="1" fill="#1bc47d" stroke="none"/></svg>'}}),
(function(h,v,l){h.exports={src:'<svg width="19" height="18" viewBox="0 0 19 18" xmlns="http://www.w3.org/2000/svg"><path d="M2.157 16.5v-15h3.6V0h-4.35c-.45 0-.75.3-.75.75v16.5c0 .45.3.75.75.75h16.5c.45 0 .75-.3.75-.75V12.9h-1.5v3.6h-15zM15.97 1.675L8.757 8.834 9.83 9.9l7.29-7.235v2.437h1.536V0h-5.142v1.523h2.456v.152z" fill-rule="nonzero" fill-opacity="1" fill="#60606a" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2,1    ),s=a(43,1         ),i=a(736                                                   ),l=a(441                                                     ),o=a(113                                     ),c=a(440                          ),r=a(147                                            ),m=a(154                                 ),p=a(279                             ),d=a(303                             ),u=a(146                        ),g=a(211              ),h=a(111          ),E=a(787                                 ),N=a(136                    ),v=a(152                                          ),f=a(788                                     ),C=a(151                           ),w=a(789                                        ),T=a(790                                     );function P(e,t,a){const n={name:e,id:t,api:d.PLUGIN_VERSION_LATEST_STABLE,main:"code.js"};return a&&(n.ui="ui.html"),JSON.stringify(n,void 0,2)}function _(e){const t={name:e.replace(/\s/g,"-").replace(/[^a-zA-Z0-9-_]/g,""),version:"1.0.0",description:"Your Figma Plugin",main:"code.js",scripts:{build:"tsc -p tsconfig.json"},author:"",license:""};return JSON.stringify(t,void 0,2)}const k={empty:function(e,t){return[{name:"manifest.json",content:P(e,t,!1)},{name:"code.js",content:"figma.closePlugin()"}]},runOnce:function(e,t){return[{name:"manifest.json",content:P(e,t,!1)},{name:"package.json",content:_(e)},{name:"README.md",content:d.TYPESCRIPT_README},{name:"code.js",content:d.JAVASCRIPT_REDIRECT},{name:"code.ts",content:d.getTsForNewPlugin()},{name:"tsconfig.json",content:d.DEFAULT_TSCONFIG}]},withUI:function(e,t){return[{name:"manifest.json",content:P(e,t,!0)},{name:"package.json",content:_(e)},{name:"README.md",content:d.TYPESCRIPT_README},{name:"code.js",content:d.JAVASCRIPT_REDIRECT},{name:"code.ts",content:d.getTsWithHtmlForNewPlugin()},{name:"ui.html",content:d.getHtmlForNewPlugin()},{name:"tsconfig.json",content:d.DEFAULT_TSCONFIG}]}};class b extends n.PureComponent{constructor(){super(...arguments),this.state={pluginName:"",pluginLocalFileId:-1,step:"createPlugin",selectedTemplate:"runOnce"},this.onPluginNameChange=(e=>{this.setState({pluginName:e.currentTarget.value})}),this.onCancelClick=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.onLinkExistingClick=(async()=>{try{await this.importPluginFromFile()&&this.props.dispatch(o.fileBrowser.hideModal())}catch(e){this.props.dispatch(p.visualBellActions.enqueue({message:"Unable to import plugin. Please try again later.",error:!0}))}}),this.onGenerateNewClick=(async()=>{let e="";try{const t=await c.newPublishedPlugin();this.props.dispatch(l.mergePublishedAndValidate({publishedPlugins:[t],src:"onGenerateNewClick"})),e=t.id}catch(a){return void this.props.dispatch(p.visualBellActions.enqueue({message:"Unable to generate plugin ID. Please try again later.",error:!0}))}const t=await this.createAndWriteNewPluginToFile({name:this.state.pluginName,pluginId:e,template:k[this.state.selectedTemplate](this.state.pluginName,e)});null==t||"runOnce"!==this.state.selectedTemplate&&"withUI"!==this.state.selectedTemplate?this.props.dispatch(o.fileBrowser.hideModal()):this.setState({step:"instructions",pluginLocalFileId:t})}),this.onContinueClick=(()=>{""!==this.pluginDirName()&&this.setState({step:"chooseTemplate"})}),this.onFinishClick=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.onRevealLocally=(()=>{g.desktopApp.openExtensionDirectory(this.state.pluginLocalFileId)}),this.selectTemplate=(e=>()=>{this.setState({selectedTemplate:e})})}async importPluginFromFile(){let e=null;const{added:t,existed:a}=await g.desktopApp.createMultipleNewLocalFileExtensions({title:"Pick Plugin Manifest File",filters:[{name:"Manifests",extensions:["json"]}],properties:["openFile"]},0);if(null!=(e=t&&t[0]||a&&a[0])){const t=await c.getManifest(e);return h.segment.track("Added New Plugin",{how:"loaded",pluginId:t.id,version:t.api}),this.props.dispatch(i.reloadLocalPlugin({localFileId:e})),!0}return!1}pluginDirName(){return this.state.pluginName.replace(/[^0-9a-zA-Z\.\-\+!%&_ =]/g,"_").trim()}async createAndWriteNewPluginToFile({name:e,pluginId:t,template:a}){if(""===this.pluginDirName())return this.props.dispatch(p.visualBellActions.enqueue({message:'Please add some text to your plugin name (for example, add "Plugin" to the end)',error:!0})),null;try{const e=await g.desktopApp.writeNewExtensionToDisk(this.pluginDirName(),a);if(e)return h.segment.track("Added New Plugin",{how:"created",pluginId:t,version:d.PLUGIN_VERSION_LATEST_STABLE}),this.props.dispatch(i.reloadLocalPlugin({localFileId:e})),e}catch(n){console.error(n)}return this.props.dispatch(p.visualBellActions.enqueue({message:"Unable to write plugin to disk. Please try again later",error:!0})),null}renderCreatePluginStep(){return n.createElement(m.Modal,{className:E.modal,dispatch:this.props.dispatch,size:720},n.createElement("div",{className:E.leftSplit},n.createElement("div",{className:E.modalTitle},"Create a plugin"),n.createElement("div",{className:E.modalContent},n.createElement("div",{className:E.modalSubtitle},"Generate from template"),n.createElement("div",{className:E.generateNew},n.createElement("div",{className:E.pluginNameText},"Name"),n.createElement(r.TextInput,{value:this.state.pluginName,onChange:this.onPluginNameChange,className:E.pluginNameInput,placeholder:"Plugin Name",required:!0}),n.createElement(r.ButtonPrimary,{className:E.continueButton,onClick:this.onContinueClick},"Continue ->"))),n.createElement("div",{className:E.separator},n.createElement("hr",{className:E.separatorLine}),n.createElement("div",{className:E.or},"or"),n.createElement("hr",{className:E.separatorLine})),n.createElement("div",{className:E.modalSubtitle},"Link existing plugin"),n.createElement("div",{className:E.dragTargetBox,onClick:this.onLinkExistingClick},n.createElement(u.Svg,{svg:f,className:E.folderIcon}),n.createElement("div",{className:E.folderDragText},"Click to choose a manifest.json file"))),n.createElement("div",{className:E.rightSplit},n.createElement("img",{src:"https://static.figma.com/uploads/0a7232b023a327674d4dae60db15c41dee9506b7"})),n.createElement("div",{className:`${E.closeX} ${E.closeWhite}`,onClick:this.onCancelClick},n.createElement(u.Svg,{svg:C})))}renderTemplate(e){const t=e.id===this.state.selectedTemplate;return n.createElement("div",{className:t?E.selectedTemplate:E.template,onClick:this.selectTemplate(e.id)},n.createElement("div",{className:t?E.selectedTemplateContent:E.templateContent},n.createElement("div",{className:E.radio},t?n.createElement(u.Svg,{svg:w}):n.createElement("div",{className:E.emptyRadio})),n.createElement("img",{className:E.templateImage,src:e.imageUrl}),n.createElement("div",{className:E.templateDescription},n.createElement("div",{className:E.templateTitle},e.name),n.createElement("div",null,e.text))))}renderChooseTemplateStep(){return n.createElement(m.Modal,{className:E.modal,dispatch:this.props.dispatch,size:720},n.createElement("div",{className:E.modalContentPadding},n.createElement("div",{className:E.modalTitle},"Choose a template"),n.createElement("div",{className:E.modalTitleSubtext},"Select the type of plugin you would like to build"),n.createElement("div",{className:E.templatesRow},this.renderTemplate({id:"empty",name:"Empty",text:"Empty starter plugin. A blank slate for your imagination.",imageUrl:"https://static.figma.com/uploads/171bddd8f0698d6caa103c986338af272d905f17"}),this.renderTemplate({id:"runOnce",name:"Run once",text:"Doesn't require the user to interact with the plugin after it runs once. The simplest way to get started.",imageUrl:"https://static.figma.com/uploads/b73d4f9a0a5dbc0d235cca2da54ce1e64bd5ce30"}),this.renderTemplate({id:"withUI",name:"With UI & browser APIs",text:"Allows users to interact with your plugin on the canvas. Provides access to the full set of browser APIs like <canvas> and network.",imageUrl:"https://static.figma.com/uploads/20bbb50c0e2e9ee70e049ec54e3df7f040296e2a"})),n.createElement("div",{className:E.chooseButtonsContainer},n.createElement(r.ButtonSecondary,{className:E.button,onClick:this.onCancelClick},"Cancel"),n.createElement(r.ButtonPrimary,{className:E.button,onClick:this.onGenerateNewClick},"Save as..."))),n.createElement("div",{className:E.closeX,onClick:this.onCancelClick},n.createElement(u.Svg,{svg:C})))}renderInstructionsStep(){return n.createElement(m.Modal,{className:E.modalInstructions,dispatch:this.props.dispatch,size:720},n.createElement("div",{className:E.modalContentPadding},n.createElement("div",{className:E.modalTextPadding},n.createElement("div",{className:E.modalTitle},this.state.pluginName," successfully created!"),n.createElement("div",{className:E.modalTitleSubtext},n.createElement("p",null,"To build and run your plugin, you will need to install Node.js and TypeScript."),n.createElement("p",null,'Please refer to the newly created "README.md" in your plugin directory for more information, or consult our developer documentation.'),n.createElement(r.Link,{onClick:this.onRevealLocally},"Open Folder")),n.createElement("div",{className:E.commandTitle},"Plugin documentation"),n.createElement("div",{className:E.linkArea},n.createElement(r.Link,{href:"https://www.figma.com/plugin-docs/"},"https://www.figma.com/plugin-docs/"),n.createElement("a",{href:"https://www.figma.com/plugin-docs/"},n.createElement(u.Svg,{svg:T,className:E.linkIcon})))),n.createElement("div",{className:E.chooseButtonsContainer},n.createElement(r.ButtonSecondary,{className:E.button,onClick:this.onFinishClick},"Done"))),n.createElement("div",{className:E.closeX,onClick:this.onCancelClick},n.createElement(u.Svg,{svg:C})))}render(){return d.supportsDesktopPluginsV4()?"createPlugin"===this.state.step?this.renderCreatePluginStep():"chooseTemplate"===this.state.step?this.renderChooseTemplateStep():"instructions"===this.state.step?this.renderInstructionsStep():n.createElement(n.Fragment,null):n.createElement(m.Modal,{dispatch:this.props.dispatch,size:"small",title:"Please update Figma"},n.createElement(v.ModalCloseButton,Object.assign({},this.props)),n.createElement("div",null,"There’s a new version of the Figma Desktop App available which supports an improved experience for creating new plugins. Please update your Figma Desktop App to get access to this new functionality."),n.createElement("div",{className:E.buttonsContainer},n.createElement(r.ButtonSecondary,{className:E.button,onClick:this.onCancelClick},"Close")))}}b.displayName="PluginNewDevelopmentModal",t.PLUGIN_ADD_DEVELOPMENT_MODAL=N.registerModal(s.connect()(b),"PluginNewDevelopmentModal")}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(87      ),o=r(421                                ),s=r(215                                          ),i=r(138      ),a=r(147                                            );var y;function l(e,t=y.YES){if(!s.fullscreen)return!1;if(!s.fullscreen.isRootElementVisible())return!1;const r=e.keyCode,o=i.isStandardShortcutKeyPressed(e);if(r===i.Key.TAB&&i.isNoneOrAllowedModifiersPressed(e,i.ModifierKey.SHIFT));else if(n.mac&&e.ctrlKey&&(r===i.Key.A||r===i.Key.B||r===i.Key.D||r===i.Key.E||r===i.Key.F||r===i.Key.H||r===i.Key.K||r===i.Key.L||r===i.Key.N||r===i.Key.O||r===i.Key.P||r===i.Key.T||r===i.Key.V));else if(r===i.Key.A||r===i.Key.DELETE||r===i.Key.BACKSPACE||r===i.Key.NUMPAD_DELETE||r===i.Key.SPACE||r===i.Key.ENTER||r===i.Key.HOME||r===i.Key.END||r===i.Key.PAGE_UP||r===i.Key.PAGE_DOWN);else if(o&&r===i.Key.Z&&t===y.NO);else if(o||e.ctrlKey){if(d(e,!0))return!0}else if(r===i.Key.ESCAPE){if(s.fullscreen.DEPRECATED_sendMessage("handleEscape").args.accepted)return e.preventDefault(),!0}return!1}function d(e,t=!1){let r;if("keydown"===e.type)r=i.EventType.KEY_PRESS;else{if("keyup"!==e.type)return console.error("Invalid event passed to forwardKeyboardEvent"),!1;r=i.EventType.KEY_RELEASE}const n=t?"handleKeyboardShortcut":"handleKeyboardEvent",o=s.fullscreen.DEPRECATED_sendMessage(n,{type:r,which:e.which,modifierKeys:i.modifierKeys(e),isRepeat:e.repeat}).args.accepted;return o&&e.preventDefault(),o}!function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"}(y=t.ForwardUndo||(t.ForwardUndo={})),t.forwardInputKeyToFullscreenIfNecessary=l,a.setForwardInputKeyToFullscreenIfNecessary(l),t.forwardKeyboardEvent=d,t.webAppHasElementAtPoint=((e,t)=>{const r=document.elementFromPoint(e,t);return r&&!r.getAttribute("data-forward-events-to-fullscreen")}),t.webAppWantsEventAtPoint=((e,r,n)=>{let s=!1;return!1===(s=!!t.webAppHasElementAtPoint(r,n)||(!!e.getState().dropdownShown||!!document.activeElement&&document.activeElement!==document.body))&&e.getState().tooltip&&e.dispatch(o.tooltip.hide()),s})}),
(function(c,l,t){c.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M11 6c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5zm1 0c0 3.313-2.686 6-6 6-3.314 0-6-2.687-6-6 0-3.313 2.686-6 6-6 3.314 0 6 2.687 6 6zm-6.512.383c-.088.216-.133.506-.133.87h1l.016-.237c.029-.256.142-.478.34-.668l.316-.301c.248-.24.421-.457.52-.652.099-.198.148-.408.148-.63 0-.486-.152-.863-.457-1.128-.304-.268-.733-.403-1.285-.403-.547 0-.98.141-1.297.422-.315.281-.475.67-.48 1.168h1.133c.003-.147.035-.272.093-.374.024-.042.053-.08.086-.114.062-.063.134-.11.217-.14.075-.027.157-.04.248-.04.406 0 .61.22.61.66 0 .075-.01.148-.031.22-.02.067-.048.133-.087.198-.078.13-.235.301-.472.512-.235.209-.396.42-.485.637zm-.07 1.64c-.117.112-.176.256-.176.43 0 .172.058.314.172.426.117.112.27.168.461.168.12 0 .227-.023.317-.068.052-.026.098-.06.14-.1.117-.112.176-.254.176-.426 0-.174-.06-.318-.18-.43-.117-.114-.268-.171-.453-.171-.094 0-.18.015-.258.044-.074.029-.14.071-.199.127z" fill-rule="evenodd" fill-opacity="1" fill="#444" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2,1    ),o=n(141              ),r=n(150                         ),a=n(146                        ),l=n(143                                      ),i=n(157                   ),d=n(792                                        ),p=n(232                       );!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(483                         ));const c=(e,t)=>Object.assign(Object.assign({},e),{className:`${t} ${e.className||""}`});class u extends s.PureComponent{render(){return s.createElement(r.RecordableDiv,Object.assign({},c(this.props,i.modalPanel)))}}t.ModalPanel=u,u.displayName="ModalPanel";class h extends o.PureComponent{render(){return s.createElement(r.RecordableDiv,Object.assign({},c(this.props,i.panel)))}}t.Panel=h,h.displayName="Panel";class m extends o.PureComponent{render(){const e=this.props.selectedSecondary?i.rowSelectedSecondary:this.props.selected?i.rowSelected:null;let t=i.singleRow;e&&(t=t+" "+e);const n=c(this.props,t);return delete n.selected,delete n.selectedSecondary,s.createElement(r.RecordableDiv,Object.assign({},n))}}t.Row=m,m.displayName="Row";class b extends o.PureComponent{render(){const e=this.props.selectedSecondary?i.rowSelectedSecondary:this.props.selected?i.rowSelected:null;let t=i.doubleRow;e&&(t=t+" "+e);const n=c(this.props,t);return delete n.selected,delete n.selectedSecondary,s.createElement(r.RecordableDiv,Object.assign({},n))}}t.DoubleRow=b,b.displayName="Row";class g extends o.PureComponent{render(){return s.createElement(r.RecordableDiv,Object.assign({},c(this.props,i.labelRow)))}}t.LabelRow=g,g.displayName="LabelRow";class y extends o.PureComponent{render(){let e=i.panelTitle;this.props.faded&&(e=i.panelTitleFaded),this.props.extended&&(e=i.panelTitleExtended);const t=c(this.props,e);return delete t.faded,delete t.extended,s.createElement(r.RecordableDiv,Object.assign({},t))}}t.PanelTitle=y,y.displayName="PanelTitle";class T extends o.PureComponent{render(){const e=c(this.props,i.panelTitleWithTip);return delete e.title,delete e.dataTooltipContentKey,delete e.dataTooltipTimeoutDelay,s.createElement(r.RecordableDiv,Object.assign({},e),s.createElement("div",{className:i.panelTitleWithTipText},this.props.title),s.createElement(a.Svg,{className:i.panelTitleWithTipIcon,svg:T.helpIcon,"data-tooltip-type":p.TooltipType.SPECIAL,"data-tooltip":this.props.dataTooltipContentKey,"data-tooltip-timeout-delay":this.props.dataTooltipTimeoutDelay}))}}function f(e){let t=i.textInput;return e.noLeftBorder&&(t+=` ${i.noLeftBorder}`),e.squareRightBorder&&(t+=` ${i.squareRightBorder}`),e.noBorderOnFocus||(t+=` ${i.border}`),t}t.PanelTitleWithTip=T,T.displayName="PanelTitleWithTip",T.helpIcon=n(793                                              ),t.SimpleInput=s.forwardRef(function(e,t){const n=f(e);let o=c(e,n);return null!=o.dataTestId&&(o["data-test-id"]=o.dataTestId),delete o.dataTestId,delete o.noLeftBorder,delete o.squareRightBorder,delete o.noBorderOnFocus,s.createElement("input",Object.assign({autoComplete:"new-password",spellCheck:!1,ref:t},o))});class R extends o.PureComponent{constructor(){super(...arguments),this.onChange=o.changeEvent(this,"change",e=>this.props.onChange?this.props.onChange(e):o.SKIP_RECORDING),this.onBlur=o.focusEvent(this,"blur",e=>this.props.onBlur?this.props.onBlur(e):o.SKIP_RECORDING),this.onKeyDown=(e=>{!d.forwardInputKeyToFullscreenIfNecessary(e,d.ForwardUndo.NO)&&this.props.onKeyDown&&this.props.onKeyDown(e)})}render(){const e=f(this.props),t=c(this.props,e);return delete t.noLeftBorder,delete t.squareRightBorder,delete t.recordingKey,this.props.recordingKey&&(this.props.onChange&&(t.onChange=this.onChange),this.props.onBlur&&(t.onBlur=this.onBlur)),t.onKeyDown=this.onKeyDown,s.createElement(l.LazyInput,Object.assign({"data-test-id":this.props.dataTestId,type:"text",spellCheck:!1},t))}}t.TextInput=R,R.displayName="TextInput",t.Label=(e=>s.createElement("label",Object.assign({},c(e,i.label)))),t.LabelInactive=(e=>s.createElement("label",Object.assign({},c(e,i.labelInactive))));class w extends s.PureComponent{render(){const e=f(this.props)+" "+i.outlineButton,t=c(this.props,e);return delete t.noLeftBorder,delete t.squareRightBorder,s.createElement(r.RecordableDiv,Object.assign({},t,{tabIndex:0}),t.children)}}t.OutlineButton=w,w.displayName="OutlineButton"}),
(function(n,e,l){n.exports={container:"internal_plugin_dev_modal--container--2RUM9",section:"internal_plugin_dev_modal--section--1XVM_",webPluginsContainer:"internal_plugin_dev_modal--webPluginsContainer--1GQt_ internal_plugin_dev_modal--section--1XVM_",label:"internal_plugin_dev_modal--label--1dXnr",warning:"internal_plugin_dev_modal--warning--1KQ5H",statusSection:"internal_plugin_dev_modal--statusSection--IkBsw internal_plugin_dev_modal--section--1XVM_",pluginCode:"internal_plugin_dev_modal--pluginCode--1QQyh",deprecatedPluginCode:"internal_plugin_dev_modal--deprecatedPluginCode--HQjJr",row:"internal_plugin_dev_modal--row--1hMJe",buttonRow:"internal_plugin_dev_modal--buttonRow--2gqLZ internal_plugin_dev_modal--row--1hMJe",growingButton:"internal_plugin_dev_modal--growingButton--2q2D3",rowLeft:"internal_plugin_dev_modal--rowLeft--3MnlK",primaryAction:"internal_plugin_dev_modal--primaryAction--28PrT",offlineLabel:"internal_plugin_dev_modal--offlineLabel--1cFec"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2,1    ),a=n(113                                     ),s=n(214         ),i=n(147                                            ),l=n(773                                                    ),o=n(794                                                                        ),u=n(786                          ),c=n(303                             ),d=n(751                                  ),m=n(88           ),g=n(795                              ),p=n(136                                 ),h=800,_=500,E="devPluginCode";t.INTERNAL_PLUGIN_DEV_MODAL="internal-plugin-dev-modal",p.registerUnsafeModal(t.INTERNAL_PLUGIN_DEV_MODAL,e=>r.createElement(v,Object.assign({},e)));class v extends r.Component{constructor(e){super(e),this.close=(()=>{this.props.dispatch(a.fileBrowser.hideModal())}),this.onPluginError=(e=>{this.setState({status:e})}),this.runPlugin=(()=>{const e=u.runPluginCode({code:this.state.pluginCode,name:"Dev Plugin",apiVersion:c.PLUGIN_VERSION_LATEST_STABLE,command:"",pluginRunID:"",pluginID:"00000000000000000",userID:u.getUserID(),editingFileKey:this.props.editingFileKey,vmType:u.vmTypeForPluginDev(),enableProposedApi:!0,showLaunchErrors:!0,showRuntimeErrors:!0,errorHandler:this.onPluginError,checkSyntax:!0});this.setState({status:"Running",currentRun:e,numRuntimeErrors:0,lastRuntimeError:""}),e.then(()=>{this.state.currentRun===e&&this.setState({status:"Done",currentRun:void 0})}).catch(t=>{this.state.currentRun===e&&(t=(t+="").replace(/^Error: /,""),this.setState({status:"Error: "+t,currentRun:void 0}))})}),this.onPluginCodeChanged=(e=>{const t=e.target.value;this.setState({pluginCode:t}),m.localStorageOrNull&&m.localStorageOrNull.setItem(E,t)}),this.state={status:"",numRuntimeErrors:0,pluginCode:m.localStorageOrNull&&m.localStorageOrNull.getItem(E)||""},d.prepareForSyntaxChecking()}render(){const e=new s.Vector(window.innerWidth-h,window.innerHeight-_);return r.createElement(l.DraggableModal,{title:"Internal Plugin Dev",dragHeaderOnly:!0,onClose:this.close,initialPosition:e},r.createElement("div",{className:g.container},r.createElement("div",null,r.createElement("div",{className:g.section},r.createElement("div",{className:g.label},"Code"),r.createElement(o.TextInput,{type:"textarea",className:g.pluginCode,placeholder:"Type code here...",onChange:this.onPluginCodeChanged,value:this.state.pluginCode,spellCheck:!1}))),r.createElement("div",{className:g.statusSection},r.createElement("div",{className:g.row},r.createElement("div",null,this.state.status||"Ready")),0===this.state.numRuntimeErrors?null:r.createElement("div",null,this.state.numRuntimeErrors," runtime errors detected. See browser console for more details. Last error was: ",this.state.lastRuntimeError)),r.createElement("div",{className:g.buttonRow},r.createElement(i.ButtonPrimary,{className:g.primaryAction,disabled:!this.state.pluginCode,onClick:this.runPlugin},"Run Plugin"))))}}v.displayName="InternalPluginDevModal"}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const u=i(113                                     ),t=i(114                              ),l=i(215                                          ),s=i(303                             ),a=i(358                       ),r=i(440                          ),o=i(211              ),p=i(87      ),m=i(112          ),g=i(111          ),c=i(764                                       ),d=i(179        ),y=i(262                                     ),b=i(765                            ),f=i(786                          ),_=i(279                             ),h=i(791                                                         ),v=i(796                                                                        ),A=console.error;function P(e,n,i){e.sort((e,u)=>i(n(e),n(u)))}function w(e,n){return e.map(e=>a.isManifestSubmenu(e)?{type:"submenu",name:e.name,submenu:w(e.menu,n)}:a.isManifestMenuSeparator(e)?{type:"separator"}:{type:"run-menu-action",name:{type:"plugin-name",plugin:e.name},menuAction:n(e.command)})}function M(e,n){const{publishedPlugins:i,installedPluginVersions:u,orgEntity:t}=e,l=[];for(const s in u){const e=u[s];r.isPluginRunnable({plugin:e,publishedPlugins:i,orgEntity:t})&&(!e.manifest.menu||0===e.manifest.menu.length||n?l.push({type:"run-menu-action",name:{type:"plugin-name",plugin:e.name},menuAction:{type:"run-installed-plugin",pluginId:s,command:void 0},disabled:n}):l.push({type:"submenu",name:e.name,submenu:w(e.manifest.menu,e=>({type:"run-installed-plugin",pluginId:s,command:e}))}))}return P(l,c.PluginMenu.nameOfMenuItem,(new Intl.Collator).compare),l}function k({nameStringKey:e,menuAction:n,disabled:i,property:u,propertyValue:t}){return{type:"run-menu-action",name:{type:"string-key",key:e,string:y.defaultStringsRaw[e]},menuAction:n,disabled:i,property:u,propertyValue:t}}function I(e){const{localPlugins:n,publishedPlugins:i,orgEntity:u}=e,t=[];for(let l in n){const e=+l,s=n[l];if(!r.isPluginRunnable({plugin:s,publishedPlugins:i,orgEntity:u}))continue;const o=s.error,m=r.getFormattedDisplayString(s);if(o){const n="LOAD"===o.type;t.push({type:"submenu",name:m,submenu:[k({nameStringKey:n?"plugins-menu-plugin-missing":"plugins-menu-manifest-issue",menuAction:{type:"open-console"},disabled:!0}),k({nameStringKey:"plugins-menu-show-error",menuAction:{type:"open-console",showError:a.pluginErrorToString(o)},disabled:n}),k({nameStringKey:p.mac?"plugins-menu-open-directory-mac":"plugins-menu-open-directory-win",menuAction:{type:"open-dir",localFileId:e},disabled:n})]})}else s.manifest.menu&&0!==s.manifest.menu.length?t.push({type:"submenu",name:m,submenu:w(s.manifest.menu,n=>({type:"run-local-plugin",localFileId:e,command:n}))}):t.push({type:"run-menu-action",name:{type:"plugin-name",plugin:m},menuAction:{type:"run-local-plugin",localFileId:e,command:void 0}})}return P(t,c.PluginMenu.nameOfMenuItem,(new Intl.Collator).compare),t}function E(e){const n=[],i=e.appModel.isReadOnly;return n.push(...M(e,i)),n.push(k({nameStringKey:"plugins-run-last",menuAction:{type:"run-last"},disabled:null==b.getLastRunPluginArgs()||i})),n.push({type:"separator"}),n.push(k({nameStringKey:"plugins-menu-manage",menuAction:{type:"manage"},disabled:i})),s.supportsDesktopPluginsV4()&&!i&&(n.push({type:"separator"}),n.push({type:"submenu",name:"Development",submenu:function(e){const n=I(e);return n.length>0&&n.push({type:"separator"}),n.push(k({nameStringKey:"plugins-menu-dev-create-new",menuAction:{type:"create-new"}})),n.push(k({nameStringKey:"plugins-menu-open-console",menuAction:{type:"open-console"}})),n.push(k({nameStringKey:"plugins-menu-dev-toggle-realms",menuAction:{actualTypeForBackwardsCompatibility:"toggle-realms",type:"open-console"},property:"useRealmsForPluginDev",propertyValue:!0})),n}(e)})),n}function D(e,n,i){const{editingFileKey:s,publishedPlugins:a,installedPluginVersions:p,localPlugins:c,orgEntity:y}=e;switch(i.type){case"run-installed-plugin":case"run-local-plugin":{if(!s)return void l.fullscreen.dispatch(_.visualBellActions.enqueue({message:"File must be fully loaded to run plugin.",type:"missing-file-key-to-run-plugin",error:!0}));const e="run-installed-plugin"===i.type?p[i.pluginId]:c[i.localFileId];return void(e&&r.isPluginRunnable({plugin:e,publishedPlugins:a,orgEntity:y})&&f.runPlugin({plugin:e,command:i.command||"",triggeredFrom:n,editingFileKey:s}))}case"run-last":return void l.fullscreen.triggerAction("plugins-run-last",{source:"menu"});case"manage":return void m.redirect(`/my_plugins?${y?`org_id=${null==y?void 0:y.id}`:""}`,"_blank");case"create-new":return void l.fullscreen.dispatch(t.showModal({type:h.PLUGIN_ADD_DEVELOPMENT_MODAL}));case"open-console":if(!o.desktopApp)return;return"toggle-realms"===i.actualTypeForBackwardsCompatibility?void l.fullscreen.triggerAction("toggle-use-realms-for-plugin-dev"):(o.desktopApp.openDevTools("bottom"),void(i.showError?A(i.showError):g.segment.track("Plugin Open Dev Tools")));case"internal-dev":return void l.fullscreen.dispatch(u.fileBrowser.showModal({type:v.INTERNAL_PLUGIN_DEV_MODAL,data:{}}));case"open-dir":if(!o.desktopApp)return;return void o.desktopApp.openExtensionDirectory(i.localFileId);default:d.assertNever(i)}}n.buildInstalledPluginMenuItems=M,n.buildLocalPluginMenuItems=I,n.buildPluginMenu=E,n.runPluginMenuAction=D,n.getPluginsMenu=function(e,n){const i=i=>()=>D(e,n,i);return{name:"plugins-menu",children:E(e).map(function e(n){switch(n.type){case"run-menu-action":switch(n.name.type){case"string-key":return{name:n.name.key,callback:i(n.menuAction),disabled:n.disabled,property:n.property,propertyValue:n.propertyValue};case"plugin-name":return{name:"plugins-menu-item",args:{plugin_name:n.name.plugin},callback:i(n.menuAction),disabled:n.disabled};default:return d.assertNever(n.name)}case"separator":return{separator:!0};case"submenu":return{name:"labeled-menu-item",args:{label:n.name},children:n.submenu.map(e)};default:d.assertNever(n)}})}}}),
(function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=n(797                              ),l=n(440                          ),t=n(304                          ),r=n(211              ),u=n(765                            ),g=n(86            );let o={};const a=g.debounce(e=>{const s=i.buildPluginMenu(Object.assign(Object.assign({},e),{installedPluginVersions:l.getInstalledPluginVersions(e),orgEntity:t.getOrgPermissionEntity(e)}));r.desktopApp.setPluginMenuData(s)},200);s.default=(e=>s=>(function(n){const i=s(n),l=e.getState(),g=t.getOrgPermissionEntity(l);if(u.clearLastRunPluginIfNotRunnable(l.installedPlugins,l.publishedPlugins,g),!r.desktopApp||!r.desktopApp.supportsSettingPluginMenuData())return;const p={appModel:l.mirror.appModel,editingFileKey:l.editingFileKey,publishedPlugins:l.publishedPlugins,installedPlugins:l.installedPlugins,localPlugins:l.localPlugins,currentOrgId:l.currentOrgId,hasLastPlugin:null!=u.getLastRunPluginArgs(),user:l.user,fileByKey:l.fileByKey,folders:l.folders,repos:l.repos,teams:l.teams,roles:l.roles,orgById:l.orgById,orgDraftsOwners:l.orgDraftsOwners,orgUsersByOrgId:l.orgUsersByOrgId};let d=!1;for(const e in p)if(p[e]!==o[e]){d=!0;break}return d?(o=p,a(p),i):void 0}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(173                                        ),a=r(86            ),i=r(322                           ),l=r(135                     ),o=r(209                ),c=r(111          ),n=r(176                       ),h=r(285                            ),y=r(85                   ),d=r(108     ),u=[{name:"name",weight:.6},{name:"containing_frame.name",weight:.1},{name:"containing_frame.pageName",weight:.1},{name:"description",weight:.05}],m=u.concat([{name:"file.name",weight:.1},{name:"folder.name",weight:.1}]);class p{constructor(){this.dirtySources=new Set,this.dirtyResults=new Set,this.queryDidChange=((e,t)=>{for(const r of t)this.dirtyResults.add(r);this.debouncedComputeResults(e)}),this.debouncedComputeResults=a.debounce(e=>{const t=e.getState();this.dirtyResults.size>0&&(this.dirtySources.size>0&&(this.initSources(t,this.dirtySources),this.dirtySources.clear()),this.computeResults(e,this.dirtyResults),this.dirtyResults.clear())},200),this.queryIsPresentForTypes=(e=>[]),this.initSources=((e,t)=>{}),this.computeResults=((e,t)=>{})}sourcesDidChange(e,t){for(const r of t)this.dirtySources.add(r)}}t.localLibrarySearch=new class extends p{constructor(){super(...arguments),this.localComponentSearch=new i.ScoredSearchLibrary([],{keys:u,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.localStyleSearch=new i.ScoredSearchLibrary([],{keys:u,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.localComponentSearchMore=new i.ScoredSearchLibrary([],{keys:u,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.localStyleSearchMore=new i.ScoredSearchLibrary([],{keys:u,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.lastUpdatedQuery=Date.now(),this.initSources=((e,t)=>{const r=o.getEditingFile(e);if(!r)return;const s=(t,s,a,i,l)=>{const o=[],c=new Set,n=e=>{for(const t of e)t.id&&c.has(t.id)||(t.id&&c.add(t.id),o.push(Object.assign({},t)))},y=h.localLibraryItemsExcludingDeleted(a),d=h.getSubscribedLibraryItems(e.library,i,r);n(y),n(d),n(l),t.set(o);const u=h.flattenLibraryItems(i).filter(e=>e.id&&!c.has(e.id));s.set(u)};t.has(n.LibraryItemType.COMPONENT)&&s(this.localComponentSearch,this.localComponentSearchMore,e.library.local.components,e.library.published.components,h.getOtherUsedStandaloneComponentsAndStateGroups(e.mirror.sceneGraph,e.fileVersion,e.mirror.appModel.subscribedComponents,e.mirror.appModel.subscribedStateGroups,e.library,e.fileByKey)),t.has(n.LibraryItemType.STYLE)&&s(this.localStyleSearch,this.localStyleSearchMore,e.library.local.styles,e.library.published.styles,[])}),this.computeResults=((e,t)=>{const r=e.getState(),a=async(t,a,i)=>{try{const o=Date.now();let h,y={query:t,fv:`${r.fileVersion||0}`};r.currentOrgId&&(y.org_id=r.currentOrgId);let u=await d.default.get("/api/search/components",y);if(o<=this.lastUpdatedQuery)return;h=u.data.meta;let m=a.map(e=>e.item.id);h=h.filter(e=>-1==m.indexOf(e.id)&&e.file_key in r.fileByKey),e.dispatch(s.library.setLocalSearchResults({results:i,moreResults:h,type:n.LibraryItemType.COMPONENT})),this.lastUpdatedQuery=o}catch(l){e.dispatch(s.library.setLocalSearchResults({results:i,moreResults:[],type:n.LibraryItemType.COMPONENT})),c.segmentTrackEvent("ServerSideSearch-Error: An uncaught error returned during component sidebar search",{query:t})}},i=async(t,r,i,l)=>{if(i){const o=Date.now(),h=t.search(i),d=await h,u=d.map(e=>e.item);let m=y.getFeatureFlags();if(m&&m.sss_team_library_live_launch&&l==n.LibraryItemType.COMPONENT)a(i,d,u),c.segmentTrackEvent("asset-search-time",{useSSS:!0,elapsedTime:Date.now()-o});else{const t=r.search(i);let a=(await t).map(e=>e.item);e.dispatch(s.library.setLocalSearchResults({results:u,moreResults:a,type:l})),c.segmentTrackEvent("asset-search-time",{useSSS:!1,elapsedTime:Date.now()-o})}}};t.has(n.LibraryItemType.COMPONENT)&&i(this.localComponentSearch,this.localComponentSearchMore,r.library.localSearch.components.query,n.LibraryItemType.COMPONENT),t.has(n.LibraryItemType.STYLE)&&i(this.localStyleSearch,this.localStyleSearchMore,r.library.localSearch.styles.query,n.LibraryItemType.STYLE)}),this.queryIsPresentForTypes=(e=>{const t=[];return e.library.localSearch.components.query&&t.push(n.LibraryItemType.COMPONENT),e.library.localSearch.styles.query&&t.push(n.LibraryItemType.STYLE),t})}},t.publishedLibrarySearch=new class extends p{constructor(){super(...arguments),this.componentSearch=new i.ScoredSearchLibrary([],{keys:m,threshold:.3,matchAllTokens:!0,tokenize:!0}),this.componentSearchWithPage=new i.ScoredSearchLibrary([],{keys:m,threshold:.1,tokenize:!1}),this.styleSearch=new i.ScoredSearchLibrary([],{keys:m,threshold:.3,matchAllTokens:!0,tokenize:!0}),this.initSources=((e,t)=>{const r=(t,r)=>{t.set(r.map(t=>{const r=e.fileByKey[t.file_key],s=(null==r?void 0:r.folder_id)?e.folders[r.folder_id]:null;return Object.assign(Object.assign({},t),{file:r,folder:s})}))};if(t.has(n.LibraryItemType.COMPONENT)){const t=Object.assign({},e.library.published.components);for(let r in t){const s=e.teams[r];l.shouldRestrictProFeature(s)&&delete t[r]}let s=h.flattenLibraryItems(t);r(this.componentSearch,s),r(this.componentSearchWithPage,s)}t.has(n.LibraryItemType.STYLE)&&r(this.styleSearch,h.flattenLibraryItems(e.library.published.styles))}),this.computeResults=((e,t)=>{const r=e.getState(),a=r.library.librarySearchQuery,i=async(t,i)=>{const l=await t.search(a),o=Object.create(null),c=Object.create(null);for(let e of l){const t=Object.assign(Object.assign({},e.item),{score:e.score}),s=r.fileByKey[t.file_key];if(!s)continue;if(s.team_id&&!r.teams[s.team_id])continue;let a=s.team_id||n.NO_TEAM_ID;o[a]=o[a]||Object.create(null),o[a][s.key]=o[a][s.key]||Object.create(null),o[a][s.key][t.node_id]=t,null==c[s.key]?c[s.key]=t.score:c[s.key]=Math.min(c[s.key],t.score)}e.dispatch(s.library.setPublishedSearchResults({results:{filteredByTeamId:o,minScorePerFile:c,numAssetsByFileKey:{}},type:i}))};t.has(n.LibraryItemType.COMPONENT)&&i(-1!==a.toLowerCase().indexOf("page")?this.componentSearchWithPage:this.componentSearch,n.LibraryItemType.COMPONENT),t.has(n.LibraryItemType.STYLE)&&i(this.styleSearch,n.LibraryItemType.STYLE)}),this.queryIsPresentForTypes=(e=>e.library.librarySearchQuery?[n.LibraryItemType.COMPONENT,n.LibraryItemType.STYLE]:[])}}}),
(function(e,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=i(207                                   ),t=i(188                               ),s=i(280                             ),l=i(173                                        ),y=i(319                                              ),n=i(175                            ),c=i(111          ),o=i(209                ),d=i(176                       ),m=i(85                   ),p=i(799                           ),u=i(86            ),b=i(108     ),h=i(317                       );let f=Date.now();const _=u.debounce(async(e,a)=>{var i;let r=e.getState();const t=Date.now();if(!a)return e.dispatch(l.library.setPublishedSearchResults({results:{filteredByTeamId:{},minScorePerFile:{},numAssetsByFileKey:{}},type:d.LibraryItemType.STYLE})),e.dispatch(l.library.setPublishedSearchResults({results:{filteredByTeamId:{},minScorePerFile:{},numAssetsByFileKey:{}},type:d.LibraryItemType.COMPONENT})),void(f=t);try{let o={query:a,fv:`${r.fileVersion||0}`};r.currentOrgId&&(o.org_id=r.currentOrgId),"team"===r.selectedView.view&&(null===(i=r.modalShown)||void 0===i?void 0:i.type)==n.LIBRARY_PREFERENCES_MODAL&&(o.team_id=r.selectedView.teamId);const m=await b.default.get("/api/search/library_assets",o);if(t<=f)return;function s(a,i,s){const y={},n={};for(const e of a){if(!(e.file_key in r.fileByKey))continue;if(i==d.LibraryItemType.COMPONENT&&!(e.team_id in r.teams))continue;if(i==d.LibraryItemType.STYLE&&!(e.team_id in r.teams)&&e.team_id)continue;e.file_key in n&&!(e.score<n[e.file_key])||(n[e.file_key]=e.score);const a=e.team_id||d.NO_TEAM_ID;y[a]=y[a]||{},y[a][e.file_key]=y[a][e.file_key]||{},y[a][e.file_key][e.node_id]=e,f=t}e.dispatch(l.library.setPublishedSearchResults({results:{filteredByTeamId:y,minScorePerFile:n,numAssetsByFileKey:s},type:i}))}await h.userStatePromise,r=e.getState(),s(m.data.meta.styles,d.LibraryItemType.STYLE,m.data.meta.num_styles_by_file),s(m.data.meta.components,d.LibraryItemType.COMPONENT,m.data.meta.num_components_by_file),f=t}catch(y){c.segmentTrackEvent("ServerSideSearch-Error: An uncaught error returned during team library retrieval",{query:a}),e.dispatch(l.library.setPublishedSearchResults({results:{filteredByTeamId:{},minScorePerFile:{},numAssetsByFileKey:{}},type:d.LibraryItemType.STYLE})),e.dispatch(l.library.setPublishedSearchResults({results:{filteredByTeamId:{},minScorePerFile:{},numAssetsByFileKey:{}},type:d.LibraryItemType.COMPONENT})),f=t}},100,!1);a.librarySearchMiddleware=(e=>a=>(function(i){if(l.library.initialize.matches(i)||l.library.put.matches(i)||l.library.del.matches(i))return a(i),o.getEditingFile(e.getState())&&p.localLibrarySearch.sourcesDidChange(e,[i.payload.type]),void p.publishedLibrarySearch.sourcesDidChange(e,[i.payload.type]);if(l.library.deleteComponentsForFile.matches(i)||s.file.put.matches(i)||t.folder.put.matches(i))return a(i),void(o.getEditingFile(e.getState())&&(p.publishedLibrarySearch.sourcesDidChange(e,[d.LibraryItemType.COMPONENT,d.LibraryItemType.STYLE]),p.localLibrarySearch.sourcesDidChange(e,[d.LibraryItemType.COMPONENT,d.LibraryItemType.STYLE])));if(l.library.clearLocal.matches(i)||y.initializeFileSubscriptionsForFile.matches(i)||y.initializeTeamSubscriptions.matches(i)||y.postFileSubscription.matches(i)||y.postTeamSubscription.matches(i))return a(i),void(o.getEditingFile(e.getState())&&p.localLibrarySearch.sourcesDidChange(e,[d.LibraryItemType.COMPONENT,d.LibraryItemType.STYLE]));if(l.library.replaceLocalItems.matches(i))return a(i),void(o.getEditingFile(e.getState())&&p.localLibrarySearch.sourcesDidChange(e,[i.payload.type]));if(r.fullscreen.updateMirror.matches(i)&&i.payload.appModelChanges)return a(i),void(i.payload.appModelChanges.subscribedComponents&&p.localLibrarySearch.sourcesDidChange(e,[d.LibraryItemType.COMPONENT]));if(l.library.setLibraryQuery.matches(i)){a(i);const r=Date.now();let t=m.getFeatureFlags(),s=t&&t.sss_team_library_live_launch;return s&&_(e,i.payload.query),s||p.publishedLibrarySearch.queryDidChange(e,[d.LibraryItemType.COMPONENT,d.LibraryItemType.STYLE]),void c.segmentTrackEvent("library-preferences-modal-search-time",{useSSS:null!=s,elapsedTime:Date.now()-r})}return l.library.setLocalQuery.matches(i)?(a(i),void p.localLibrarySearch.queryDidChange(e,[i.payload.type])):a(i)}))}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=t(108     ),l=t(207                                   ),s=t(113                                     ),r=t(319                                              ),n=t(175                            );let o={};i.default=(e=>i=>(function(t){if(s.fileBrowser.selectView.matches(t)){const a=e.getState();return"fullscreen"===a.selectedView.view&&"fullscreen"===t.payload.view&&a.selectedView.fileKey===t.payload.fileKey||!a.modalShown||a.modalShown.type!==n.LIBRARY_PREFERENCES_MODAL&&a.modalShown.type!==n.SHARED_FONTS_MODAL||e.dispatch(s.fileBrowser.hideModal()),i(t)}if(l.fullscreen.open.matches(t)){i(t);const l=t.payload.file;if(!l)return;const s=l.key;if(o[s])return;if(!e.getState().user)return;return o[s]=!0,void a.default.get(`/api/library_file_subscriptions/${s}`).then(({data:i})=>{e.dispatch(r.initializeFileSubscriptionsForFile({fileKey:s,fileSubscriptionsByFileKey:i.meta})),e.dispatch(r.prefetchSubscribedStyles())})}return i(t)}))}),
(function(n,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=o(126                    ),i=o(133        ),s=o(179        );function r(n){return n.saml_sso_only?t.SignInMethod.SAML:n.google_sso_only?t.SignInMethod.GOOGLE:t.SignInMethod.ANY}e.isEmailInOrgsDomain=function(n,e){const o=n.map(n=>n.domain.toLowerCase()),t=i.getEmailDomain(e);return!(0===o.length||!t)&&o.indexOf(t)>-1},e.getSignInMethod=r,e.getSignInMethodLabel=function(n){const e=r(n);switch(e){case t.SignInMethod.SAML:return"SAML only";case t.SignInMethod.GOOGLE:return"Google only";case t.SignInMethod.ANY:return"Any method";default:s.assertNever(e)}}}),
(function(r,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(2,1    ),t=e(43,1         ),o=e(133        ),n=e(802                 );class a extends i.PureComponent{render(){const r=!!this.props.org&&this.props.org.domain_capture&&this.props.email&&o.isEmail(this.props.email)&&this.props.orgDomains.domains.length>0&&!n.isEmailInOrgsDomain(this.props.orgDomains.domains,this.props.email);return i.createElement("div",{className:this.props.className},this.props.displayString,r&&" (Guest)")}}s.OrgGuestIdentifierInner=a,a.displayName="OrgGuestIdentifier";s.OrgGuestIdentifier=t.connect(r=>({orgDomains:r.orgDomains,org:r.currentOrgId?r.orgById[r.currentOrgId]:null}))(a)}),
(function(t,e,o){t.exports={autocompleteResults:"autocomplete_results--autocompleteResults--3t0Y2 overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",contactRow:"autocomplete_results--contactRow--3TArs",avatar:"autocomplete_results--avatar--3yfsQ",name:"autocomplete_results--name--3AiV5",email:"autocomplete_results--email--1fgNK",contactRowSelected:"autocomplete_results--contactRowSelected--2ZYjZ autocomplete_results--contactRow--3TArs"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),c=s(803                                                        ),r=s(475                            ),o=s(804                         );class n extends a.Component{render(){return a.createElement("div",{className:this.props.isSelected?o.contactRowSelected:o.contactRow,onMouseEnter:this.props.onMouseOverSearchResult.bind(this,this.props.index),onClick:this.props.onSelectSearchResult.bind(this,this.props.index)},a.createElement(r.Avatar,{className:o.avatar,entity:this.props.contact}),a.createElement("div",null,a.createElement("div",{className:o.name},this.props.contact.handle),a.createElement(c.OrgGuestIdentifier,{className:o.email,email:this.props.contact.email,displayString:this.props.contact.email})))}}n.displayName="ContactRow";class i extends a.Component{render(){return 0===this.props.searchResults.length?null:a.createElement("div",{className:o.autocompleteResults},this.props.searchResults.map((e,t)=>a.createElement(n,{key:`contact-${e.id}`,index:t,contact:e,isSelected:this.props.selectedIndex===t,onSelectSearchResult:this.props.onSelectSearchResult,onMouseOverSearchResult:this.props.onMouseOverSearchResult})))}}t.AutocompleteResults=i,i.displayName="AutocompleteResults"}),
(function(t,e,o){t.exports={inputWrapper:"autocomplete_input--inputWrapper--1naDE",inputWrapperNotSearching:"autocomplete_input--inputWrapperNotSearching--2X7w9 autocomplete_input--inputWrapper--1naDE",inputWrapperError:"autocomplete_input--inputWrapperError--1rQU- autocomplete_input--inputWrapper--1naDE",container:"autocomplete_input--container--3VOsw",tokenPadding:"autocomplete_input--tokenPadding--1odgI",input:"autocomplete_input--input--GaHQC autocomplete_input--tokenPadding--1odgI",token:"autocomplete_input--token--1NuH1 autocomplete_input--tokenPadding--1odgI",tokenSelected:"autocomplete_input--tokenSelected--cvEz2 autocomplete_input--token--1NuH1 autocomplete_input--tokenPadding--1odgI",x:"autocomplete_input--x--2YOuz",tokenError:"autocomplete_input--tokenError--1PZVt autocomplete_input--token--1NuH1 autocomplete_input--tokenPadding--1odgI",tokenErrorSelected:"autocomplete_input--tokenErrorSelected--3Ci5G autocomplete_input--tokenSelected--cvEz2 autocomplete_input--token--1NuH1 autocomplete_input--tokenPadding--1odgI",ellipsis:"autocomplete_input--ellipsis--3oC0S ellipsis--ellipsis--1RWY6"}}),
(function(l,t,e){l.exports={src:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M5 4.293L8.646.646l.708.708L5.707 5l3.647 3.646-.708.708L5 5.707 1.354 9.354l-.708-.708L4.293 5 .646 1.354l.708-.707L5 4.293z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),n=s(202                            ),l=s(803                                                        ),a=s(143                                      ),i=s(146                        ),c=s(805                                                                     ),p=s(133        ),r=s(138      ),h=s(806                       ),u=s(807                         ),d=[r.Key.TAB,r.Key.ENTER,r.Key.COMMA];class k extends o.Component{constructor(){super(...arguments),this.stopPropagation=(e=>{e.stopPropagation()}),this.onSelect=(e=>{e.stopPropagation(),this.props.onSelect(this.props.index)}),this.onDelete=(e=>{e.stopPropagation(),this.props.onDelete(this.props.index)})}render(){const e=this.props.token.state===n.AutocompleteTokenState.ERROR,t=this.props.token.user?this.props.token.user.handle:this.props.token.email,s=e?this.props.isSelected?h.tokenErrorSelected:h.tokenError:this.props.isSelected?h.tokenSelected:h.token;return o.createElement("div",{className:[s,this.props.tokenClassName].filter(Boolean).join(" "),onMouseDown:this.onSelect,onClick:this.stopPropagation,title:t.length>35?t:void 0},o.createElement(l.OrgGuestIdentifier,{className:h.ellipsis,email:this.props.token.email,displayString:t}),o.createElement(i.Svg,{className:h.x,svg:u,onMouseDown:this.stopPropagation,onClick:this.onDelete}))}}k.displayName="Token";class m extends o.PureComponent{constructor(){super(...arguments),this.state={selectedTokenIndex:null,selectedSearchResultIndex:0},this.containerRef=o.createRef(),this.inputRef=o.createRef(),this.focusInput=(()=>{this.inputRef.current&&this.inputRef.current.focus()}),this.onSelectToken=(e=>{this.setState({selectedTokenIndex:e})}),this.onDeleteToken=(e=>{let t=this.props.autocomplete.tokens.slice(0,e).concat(this.props.autocomplete.tokens.slice(e+1)),s=this.state.selectedTokenIndex;0===t.length?s=null:s===e&&(s=Math.max(0,s-1)),this.setState({selectedTokenIndex:s}),this.deleteTokenAt(e)}),this.onContainerKeyDown=(e=>{var t,s;let o=this.props.autocomplete;const n=this.inputRef.current;switch(e.keyCode){case r.Key.BACKSPACE:null!==this.state.selectedTokenIndex?(e.preventDefault(),this.onDeleteToken(this.state.selectedTokenIndex)):o.tokens.length&&n&&n===document.activeElement&&0===n.selectionStart&&0===n.selectionEnd&&(e.preventDefault(),null===(t=this.containerRef.current)||void 0===t||t.focus(),this.selectPrevToken());break;case r.Key.DELETE:null!==this.state.selectedTokenIndex&&(e.preventDefault(),this.onDeleteToken(this.state.selectedTokenIndex));break;case r.Key.LEFT_ARROW:n&&(n!==document.activeElement||0===n.selectionStart&&0===n.selectionEnd)&&(null===(s=this.containerRef.current)||void 0===s||s.focus(),this.selectPrevToken());break;case r.Key.RIGHT_ARROW:n&&o.tokens.length&&this.state.selectedTokenIndex===o.tokens.length-1&&(n.focus(),e.preventDefault()),this.selectNextToken();break;case r.Key.DOWN_ARROW:e.preventDefault(),this.selectNextSearchResult();break;case r.Key.UP_ARROW:e.preventDefault(),this.selectPrevSearchResult()}}),this.onKeyDown=(e=>{var t,s;if(e.keyCode!==r.Key.ENTER||this.props.autocomplete.inputValue){if(e.keyCode!==r.Key.TAB||this.props.autocomplete.inputValue)if(-1!==(this.props.newTokenKeyCodes||d).indexOf(e.keyCode)){e.preventDefault();const o=null===(s=(t=this.props).searchResults)||void 0===s?void 0:s.call(t,this.props.autocomplete);if(o&&o[this.state.selectedSearchResultIndex]){const e=o[this.state.selectedSearchResultIndex];this.addTokens([{email:e.email,state:n.AutocompleteTokenState.OK,user:e}])}else{const e=this.props.autocomplete.inputValue.trim();e&&this.addTokens([this.props.validateToken(e)])}}else e.keyCode===r.Key.ESCAPE&&this.props.autocomplete.inputValue&&(this.setState({selectedSearchResultIndex:0}),this.inputChange(""),e.stopPropagation())}else this.props.onSubmit&&(e.preventDefault(),this.props.onSubmit())}),this.onInputChange=(e=>{const t=e.currentTarget.value;if(/[,\n]/.test(t)){const e=p.parseEmails(t).map(e=>this.props.validateToken(e));this.addTokens(e)}else this.inputChange(t)}),this.onInputFocus=(()=>{this.setState({selectedTokenIndex:null})}),this.onMouseOverSearchResult=(e=>{this.setState({selectedSearchResultIndex:e})}),this.onSelectSearchResult=(e=>{var t,s;const o=null===(s=(t=this.props).searchResults)||void 0===s?void 0:s.call(t,this.props.autocomplete)[e];o&&this.addTokens([{email:o.email,state:n.AutocompleteTokenState.OK,user:o}])})}componentDidMount(){this.props.autoFocus&&this.focusInput()}componentDidUpdate(e){null===this.state.selectedTokenIndex&&this.focusInput()}selectNextToken(){const e=null!==this.state.selectedTokenIndex&&this.state.selectedTokenIndex<this.props.autocomplete.tokens.length-1?this.state.selectedTokenIndex+1:null;this.setState({selectedTokenIndex:e})}selectPrevToken(){if(null===this.state.selectedTokenIndex)this.props.autocomplete.tokens.length&&this.setState({selectedTokenIndex:this.props.autocomplete.tokens.length-1});else{let e=Math.max(0,this.state.selectedTokenIndex-1);e!==this.state.selectedTokenIndex&&this.setState({selectedTokenIndex:e})}}selectNextSearchResult(){var e,t;const s=null===(t=(e=this.props).searchResults)||void 0===t?void 0:t.call(e,this.props.autocomplete);if(!s||0===s.length)return;const o=Math.min(s.length-1,this.state.selectedSearchResultIndex+1);o!==this.state.selectedSearchResultIndex&&this.setState({selectedSearchResultIndex:o})}selectPrevSearchResult(){const e=Math.max(0,this.state.selectedSearchResultIndex-1);e!==this.state.selectedSearchResultIndex&&this.setState({selectedSearchResultIndex:e})}addTokens(e){this.props.onChange(Object.assign(Object.assign({},this.props.autocomplete),{tokens:this.props.autocomplete.tokens.concat(e),inputValue:""}))}deleteTokenAt(e){let t=this.props.autocomplete.tokens.slice(0,e).concat(this.props.autocomplete.tokens.slice(e+1));this.props.onChange(Object.assign(Object.assign({},this.props.autocomplete),{tokens:t}))}inputChange(e){this.props.onChange(Object.assign(Object.assign({},this.props.autocomplete),{inputValue:e})),this.setState({selectedTokenIndex:null,selectedSearchResultIndex:0})}render(){var e,t,s,n;let l=this.props.autocomplete.tokens||[];const i=(null===(t=(e=this.props).searchResults)||void 0===t?void 0:t.call(e,this.props.autocomplete))||[],p=i.length>0;let r;return r=this.props.autocomplete.errorMessage&&!p?h.inputWrapperError:p?h.inputWrapper:h.inputWrapperNotSearching,o.createElement(o.Fragment,null,o.createElement("div",{className:r,onClick:this.focusInput,ref:this.containerRef,onKeyDown:this.onContainerKeyDown,tabIndex:0},o.createElement("div",{className:`${this.props.className} ${h.container}`},l.map((e,t)=>o.createElement(k,{key:`token-${t}`,index:t,token:e,isSelected:this.state.selectedTokenIndex===t,onSelect:this.onSelectToken,onDelete:this.onDeleteToken,tokenClassName:this.props.tokenClassName})),o.createElement(a.LazyInput,{ref:this.inputRef,key:`autocomplete-input-${l.length}`,className:h.input,placeholder:l.length?void 0:this.props.placeholder,value:this.props.autocomplete.inputValue,onKeyDown:this.onKeyDown,onFocus:this.onInputFocus,onChange:this.onInputChange})),null===(n=(s=this.props).renderOptions)||void 0===n?void 0:n.call(s)),i.length>0&&!this.state.selectedTokenIndex&&o.createElement(c.AutocompleteResults,{searchResults:i,selectedIndex:this.state.selectedSearchResultIndex,onSelectSearchResult:this.onSelectSearchResult,onMouseOverSearchResult:this.onMouseOverSearchResult}))}}t.AutocompleteInput=m,m.displayName="AutocompleteInput"}),
(function(e,o,r){e.exports={row:"token_form--row--3Vkiu",autocompleteWrapper:"token_form--autocompleteWrapper--3bTu2",select:"token_form--select--2KcjE undefined role_row--select--15DNx role_row--selectOnly--2Eytr",selectSpan:"token_form--selectSpan--20Xo0",selectDropdown:"token_form--selectDropdown--3lgdm",button:"token_form--button--3fGsN",errorMessage:"token_form--errorMessage--3fknq"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(2,1    ),p=o(113                                     ),r=o(204                                     ),n=o(320                              ),i=o(808                                                                 ),a=o(409                                  ),l=o(147                                            ),c=o(809               );t.TokenForm=class extends s.PureComponent{constructor(){super(...arguments),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.props.dropdownKey),this.toggleDropdown=(e=>{this.props.dropdownKey&&(e.stopPropagation(),this.isDropdownShown()?this.props.dispatch(p.fileBrowser.hideDropdown()):this.props.dispatch(p.fileBrowser.showDropdown({type:this.props.dropdownKey})))}),this.renderOptions=(()=>{if(!this.props.options)return null;let e=0;this.isDropdownShown()&&(e=-24*Math.max(0,this.props.options.indexOf(this.props.inviteLevel)));const t=this.props.onInviteLevelChange,o=this.props.getSelectText;return s.createElement("div",null,s.createElement("div",{className:c.select,onClick:this.toggleDropdown},s.createElement("span",{className:c.selectSpan},o(this.props.inviteLevel))),this.isDropdownShown()&&s.createElement("div",{style:{position:"relative",top:e}},s.createElement(a.dropdown.Dropdown,{className:c.selectDropdown},this.props.options.map((e,p)=>s.createElement(a.dropdown.CheckableOption,{key:p,checked:e===this.props.inviteLevel,onClick:()=>t(e)},o(e))))))}),this.onAutocompleteChange=(e=>{this.props.dispatch(r.autocomplete.set(e))}),this.onSubmit=(e=>{null==e||e.preventDefault(),n.isInputValid(this.props.autocomplete)&&this.props.onSubmit(this.props.autocomplete)})}render(){return s.createElement("form",{onSubmit:this.onSubmit},s.createElement("div",{className:c.row},s.createElement("div",{className:c.autocompleteWrapper},s.createElement(i.AutocompleteInput,{autocomplete:this.props.autocomplete,placeholder:"Invite someone...",autoFocus:!0,onChange:this.onAutocompleteChange,onSubmit:this.onSubmit,searchResults:this.props.searchResults,validateToken:this.props.validateToken,renderOptions:this.renderOptions,key:this.props.dropdownShown?"dropdown":"",tokenClassName:this.props.tokenClassName})),this.props.isSubmitting?s.createElement(l.ButtonWhite,{className:c.button,disabled:!0},"Importing..."):s.createElement(l.ButtonPrimaryTracked,{className:c.button,trackingProperties:{numInvites:this.props.autocomplete.tokens.length},disabled:!n.isInputValid(this.props.autocomplete),type:"submit"},this.props.buttonText)),this.props.autocomplete.errorMessage&&s.createElement("div",{className:c.errorMessage},this.props.autocomplete.errorMessage))}}}),
(function(l,c,z){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.963 12.942l-.997-.077c.023-.285.034-.574.034-.865 0-.291-.011-.58-.034-.865l.997-.077c.025.31.037.625.037.942 0 .317-.012.632-.037.942zm-.292-3.745l-.973.233c-.135-.565-.314-1.113-.532-1.64l.923-.383c.24.575.434 1.174.582 1.79zM22.233 5.73l-.852.524c-.302-.493-.642-.96-1.016-1.397l.76-.65c.408.477.779.986 1.108 1.523zm-2.44-2.854l-.65.76c-.437-.374-.903-.714-1.396-1.016l.524-.852c.537.33 1.046.7 1.523 1.108zM16.594.91l-.383.923c-.527-.218-1.075-.397-1.64-.532l.233-.973c.616.148 1.215.343 1.79.582zm-3.65-.875l-.078.997C12.58 1.011 12.291 1 12 1c-.291 0-.58.011-.865.033l-.077-.997C11.368.012 11.683 0 12 0c.317 0 .632.012.942.036zM9.196.33l.233.973c-.565.135-1.113.314-1.64.532L7.407.911C7.982.67 8.58.477 9.197.329zM5.73 1.767c-.537.33-1.046.7-1.522 1.108l.65.76c.437-.374.903-.714 1.396-1.016l-.524-.852zm-2.854 2.44l.76.65c-.374.437-.714.903-1.016 1.396l-.852-.524c.33-.537.7-1.046 1.108-1.522zM.91 7.407l.923.383c-.218.527-.397 1.075-.532 1.64l-.973-.233c.148-.616.343-1.215.582-1.79zm-.875 3.65C.012 11.369 0 11.684 0 12c0 .317.012.632.036.942l.997-.077C1.011 12.58 1 12.291 1 12c0-.291.011-.58.033-.865l-.997-.077zm.293 3.746l.973-.233c.135.565.314 1.113.532 1.64l-.923.383c-.24-.575-.434-1.174-.582-1.79zm1.438 3.468l.852-.524c.302.493.642.96 1.016 1.397l-.76.65c-.408-.477-.778-.986-1.108-1.523zm2.44 2.854l.65-.76c.437.374.903.714 1.396 1.016l-.524.852c-.537-.33-1.046-.7-1.522-1.108zm3.2 1.964l.383-.923c.527.218 1.075.397 1.64.532l-.233.973c-.616-.148-1.215-.343-1.79-.582zm3.65.875l.078-.997c.285.022.574.033.865.033.291 0 .58-.011.865-.034l.077.997c-.31.025-.625.037-.942.037-.317 0-.632-.012-.942-.037zm3.746-.293l-.233-.973c.565-.135 1.113-.314 1.64-.532l.383.923c-.575.24-1.174.434-1.79.582zm3.468-1.438l-.524-.852c.493-.302.96-.642 1.397-1.016l.65.76c-.477.408-.986.779-1.523 1.108zm2.854-2.44l-.76-.65c.374-.437.714-.903 1.016-1.396l.852.524c-.33.537-.7 1.046-1.108 1.523zm1.964-3.2l-.923-.383c.218-.527.397-1.075.532-1.64l.973.233c-.148.616-.343 1.215-.582 1.79z" fill-rule="evenodd" fill-opacity=".3" fill="#000" stroke="none"/></svg>'}}),
(function(e,r,o){e.exports={roleRow:"role_row--roleRow--1utt9",nameAndSelect:"role_row--nameAndSelect--uiDVd",descriptionRow:"role_row--descriptionRow--8s8q8",contextMenu:"role_row--contextMenu--gjLPX",fixedContextMenu:"role_row--fixedContextMenu--O8LzT",selectOnly:"role_row--selectOnly--2Eytr",select:"role_row--select--15DNx role_row--selectOnly--2Eytr",selectLeft:"role_row--selectLeft--3G8Yk",avatar:"role_row--avatar--1wPrK",avatarEmpty:"role_row--avatarEmpty--1CTLj role_row--avatar--1wPrK",avatarPending:"role_row--avatarPending--2GKEg role_row--avatar--1wPrK",name:"role_row--name--2Pl36",namePending:"role_row--namePending--3uXEV role_row--name--2Pl36",warningIcon:"role_row--warningIcon--1UB3K",sharingDisclaimer:"role_row--sharingDisclaimer--1saHu",folderDisclaimer:"role_row--folderDisclaimer--1IppB role_row--sharingDisclaimer--1saHu",grey:"role_row--grey--3G5ET",linkAccessText:"role_row--linkAccessText--1soI4",linkAccessIcon:"role_row--linkAccessIcon--2AfeY role_row--avatar--1wPrK",linkAccessDisabledIcon:"role_row--linkAccessDisabledIcon--2hdBB role_row--linkAccessIcon--2AfeY role_row--avatar--1wPrK",linkAccessWarningIcon:"role_row--linkAccessWarningIcon--3OBsy role_row--linkAccessIcon--2AfeY role_row--avatar--1wPrK",enableAccessLink:"role_row--enableAccessLink--167VA blue_link--blueLink--22X56"}}),
(function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=o(2,1    ),n=o(43,1         ),t=o(115                     ),a=o(154                                 ),i=o(191                              ),l=o(136                    );class p extends s.Component{constructor(){super(...arguments),this.onConfirm=(()=>{this.props.onConfirmTransfer(!0)})}render(){let e;return this.props.resourceType===t.ResourceType.FOLDER&&(e="This will also transfer ownership of all files in this project."),s.createElement(a.ConfirmationModal,Object.assign({destructive:!0,confirmationTitle:"Transfer ownership",size:400,confirmText:"Transfer ownership",onConfirm:this.onConfirm},this.props),s.createElement("div",{className:i.modalContent},s.createElement("span",{className:i.important},"Are you sure you want to make ",this.props.newOwnerName," the owner of ",this.props.resourceName,"? "),e,e&&s.createElement("div",null,s.createElement("br",null)),"You can't undo this action."))}}p.displayName="ConfirmTransferOwnershipModal",r.CONFIRM_TRANSFER_OWNERSHIP_MODAL=l.registerModal(n.connect()(p),"ConfirmTransferOwnershipModal")}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(2,1    ),i=o(2,1    ),l=o(812             ),r=o(113                                     ),a=o(409                                  );t.PermissionSelector=function({dispatch:e,dropdownShown:t,value:o,options:d,onChange:s,id:c,placeholder:p,disabled:u=!1,dropdownData:f={},isOpen:v}){var w;const m=n.useRef(null),y=d.findIndex(e=>"option"===e.type&&e.key===o),b=d[y],g="option"===(null==b?void 0:b.type)?b.selectedLabel||b.text:p;let h=null;if(v=null!=v?v:(null==t?void 0:t.type)===c){const e=Object.assign({},(null===(w=null==t?void 0:t.data)||void 0===w?void 0:w.position)||{top:0,left:0});let n=0,r=!1;const c=d.map((e,t)=>{if("separator"===e.type)return r||(n+=18),i.createElement(a.dropdown.Separator,{key:t});const l=e.key===o;return(r=r||l)||(n+=24),i.createElement(a.dropdown.CheckableOption,{key:String(e.key),checked:l,onClick:()=>!l&&s(e.key),disabled:e.disabled},e.text)});e.top-=n,h=i.createElement(a.dropdown.Dropdown,{className:l.fixedContextMenu,style:e},c)}return i.createElement("div",{ref:m},i.createElement("div",{className:u?void 0:l.select,onClick:u?void 0:o=>{o.stopPropagation(),o.preventDefault(),t&&t.type===c?e(r.fileBrowser.hideDropdown()):d.length&&!u&&e(r.fileBrowser.showDropdown({type:c,data:Object.assign(Object.assign({},f),function(e){var t;const o=null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect();return o?{position:{top:o.top,bottom:"auto",left:o.left,right:"auto"}}:{}}(m))}))}},i.createElement("div",{className:l.linkAccessText},g)),h)}}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=r(2,1    ),t=r(205                             ),i=r(113                                     ),p=r(114                              ),l=r(125                        ),a=r(232                       ),n=r(146                        );let h=r(181                                       ),d=r(811                                );const c=r(812             ),m=r(115                     ),u=r(803                                                        ),_=r(813                                 ),g=r(814                    ),E=r(135                     ),v=r(85                   );class y extends o.Component{constructor(){super(...arguments),this.LEVEL_CHANGE_DROPDOWN="level-change-dropdown",this.resendInvite=(()=>{this.props.dispatch(t.role.resendInvite({role:this.props.role}))}),this.onChangeLevel=(e=>{if("resend"===e)return void this.resendInvite();let s=s=>{this.props.role.resource_type===m.ResourceType.FILE?this.props.dispatch(t.role.setUserFilePermission({role:this.props.role,level:e})):this.props.role.resource_type===m.ResourceType.FILE_REPO?this.props.dispatch(t.role.setUserRepoPermission({role:this.props.role,level:e})):this.props.role.resource_type===m.ResourceType.FOLDER?this.props.dispatch(t.role.setUserFolderPermission({role:this.props.role,level:e,cascade:s})):this.props.role.resource_type===m.ResourceType.TEAM&&this.props.dispatch(t.role.setUserTeamPermission({role:this.props.role,level:e}))};if(e===m.PermissionLevel.OWNER){let e=this.props.modalShown;this.props.dispatch(p.showModal({type:_.CONFIRM_TRANSFER_OWNERSHIP_MODAL,data:{resourceType:this.props.role.resource_type,resourceName:l.getResourceName(this.props.role,this.props),newOwnerName:this.props.role.user.handle,onConfirmTransfer:r=>{s(r),e&&this.props.dispatch(i.fileBrowser.showModal(e))},onCancel:()=>{e&&this.props.dispatch(i.fileBrowser.showModal(e))}}}))}else s()}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.LEVEL_CHANGE_DROPDOWN&&this.props.dropdownShown.data.roleId===this.props.role.id)}userName(){const{role:e,user:s,contacts:r}=this.props;if(s&&e.user_id===s.id)return o.createElement(o.Fragment,null,s.name," (You)");let t=e.user.email||"";if(this.props.currentOrgId&&!t&&!1===e.pending)for(let o in r.usersByEmail)if(r.usersByEmail[o].id===e.user.id){t=o;break}const i=!1===e.pending?e.user.handle:e.user.email in r?r.usersByEmail[e.user.email].handle:e.user.email;return o.createElement(u.OrgGuestIdentifier,{email:t,displayString:i})}getTeam(){const{teamId:e,teams:s}=this.props;return e?s[e]:null}render(){const e=this.props.user;let s=l.canEditRole(this.props.role,this.props),r=l.isOwnerOfResource(e.id,this.props.role,this.props);const t=v.getFeatureFlags().branching_and_merging;let i=l.getReadOnlyOverrideMessage(this.props.role,this.props,t),p=void 0;return l.isOrgUserRestricted(this.props.role.org_user)&&(this.props.role.level!==m.PermissionLevel.VIEWER||i)&&(this.props.role.org_user&&this.props.role.org_user.user_id===e.id?(i=null,p=a.TooltipSpecialKey.PERMISSIONS_MODAL_RESTRICTED_USER_SELF):(i=null,p=a.TooltipSpecialKey.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER)),o.createElement("div",{className:c.roleRow},(()=>{const{role:e}=this.props;let s=!1===e.pending?e.user.img_url:e.user.email in this.props.contacts&&this.props.contacts.usersByEmail[e.user.email].img_url;return s?o.createElement("img",{key:`avatar-${this.props.role.id}`,src:s,className:this.props.role.pending?c.avatarPending:c.avatar}):o.createElement(n.Svg,{key:`avatar-${this.props.role.id}`,svg:d,className:c.avatarEmpty})})(),o.createElement("div",{className:c.nameAndSelect},o.createElement("div",{key:`name-${this.props.role.id}`,className:this.props.role.pending?c.namePending:c.name},this.userName()),i&&o.createElement(n.Svg,{className:c.warningIcon,svg:h,"data-tooltip-timeout-delay":50,"data-tooltip-type":a.TooltipType.TEXT,"data-tooltip":i}),p&&o.createElement(n.Svg,{className:c.warningIcon,svg:h,"data-tooltip-type":a.TooltipType.SPECIAL,"data-tooltip":p,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0}),(()=>{const t=[];let i=!1;if(this.props.role.user_id!==e.id||r){if(!s)return o.createElement("span",null,l.levelName(this.props.role.level));r&&!this.props.role.pending&&t.push(R(m.PermissionLevel.OWNER)),l.canMakeAdmin(this.props.role.resource_type,this.props.role.resource_id_or_key,this.props)&&t.push(R(m.PermissionLevel.ADMIN)),t.push(R(m.PermissionLevel.EDITOR)),t.push(R(m.PermissionLevel.VIEWER)),this.props.role.resource_type===m.ResourceType.FILE&&E.canAccessProFeature(this.getTeam())&&t.push(R(m.PermissionLevel.VIEW_PROTOTYPES)),i=this.props.role.pending}else t.push(R(this.props.role.level));const p=this.props.role.user_id!==e.id||r?"Remove":"Leave";return t.push({type:"separator"}),i&&t.push({type:"option",key:"resend",text:"Resend invite"}),t.push({type:"option",key:m.PermissionLevel.NONE,text:p}),o.createElement(g.PermissionSelector,{dispatch:this.props.dispatch,onChange:this.onChangeLevel,options:t,id:this.LEVEL_CHANGE_DROPDOWN,value:this.props.role.level,dropdownShown:this.props.dropdownShown,dropdownData:{roleId:this.props.role.id},isOpen:Boolean(this.isDropdownShown())})})()))}}function R(e){return{type:"option",key:e,text:l.levelName(e)}}s.UserRoleRow=y,y.displayName="UserRoleRow"}),
(function(t,e,h){t.exports={src:'<svg width="13" height="17" viewBox="0 0 13 17" xmlns="http://www.w3.org/2000/svg"><path d="M10 4.5V7H3V4.5C3 2.567 4.566 1 6.5 1c1.031 0 1.959.446 2.6 1.156.56.62.9 1.443.9 2.344zM2 7V4.5C2 2.015 4.016 0 6.5 0 8.984 0 11 2.015 11 4.5V7h2v10H0V7h2zM1 8v8h11V8H1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(c,o,t){c.exports={src:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M7.107 3.714c0 1.282-1.04 2.322-2.321 2.322-1.282 0-2.322-1.04-2.322-2.322 0-1.282 1.04-2.321 2.322-2.321 1.282 0 2.321 1.04 2.321 2.321zm7.429 0c0 1.282-1.04 2.322-2.322 2.322-1.282 0-2.321-1.04-2.321-2.322 0-1.282 1.04-2.321 2.321-2.321 1.282 0 2.322 1.04 2.322 2.321zm-5.572 6.964c0-1.794 1.455-3.25 3.25-3.25 1.795 0 3.25 1.456 3.25 3.25v.465h-6.5v-.465zM8.5 8.762c-.502-.971-1.375-1.72-2.43-2.061 1.156-.498 1.966-1.648 1.966-2.987 0-1.795-1.455-3.25-3.25-3.25-1.795 0-3.25 1.455-3.25 3.25 0 1.34.81 2.49 1.966 2.987-1.68.542-2.895 2.118-2.895 3.978V12.07H16.393V10.68c0-1.86-1.215-3.436-2.895-3.978 1.157-.498 1.966-1.648 1.966-2.987 0-1.795-1.455-3.25-3.25-3.25-1.795 0-3.25 1.455-3.25 3.25 0 1.34.81 2.49 1.966 2.987-1.055.34-1.928 1.09-2.43 2.061zm-.464 2.38h-6.5v-.463c0-1.795 1.455-3.25 3.25-3.25 1.795 0 3.25 1.455 3.25 3.25v.464z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(2,1    ),r=i(123         ),a=i(118                    ),n=i(146                        ),o=i(125                        ),l=i(357                  ),c=i(816                        ),p=i(817                             ),m=i(812             ),g=i(124                      ),f=i(85                   );class d extends t.PureComponent{constructor(){super(...arguments),this.sharingDisclaimer=(e=>{const s=this.props.file,i=e&&Object.keys(this.props.roles.byFolderId[e.id]||{}).length>1,t=s.team_id&&this.props.teams[s.team_id],n=f.getFeatureFlags().branching_and_merging?g.getFileNoun(s):"file";if(!(t&&e&&o.canViewTeam(t.id,this.props)))return e&&i?`Members of '${r.truncateText(a.getFolderName(e),50)}' can access this ${n}.`:s.team_id?`Members of this project or team can access this ${n}.`:`Members of this project can access this ${n}.`;{const s=r.truncateText(t.name,25);if(e.is_invite_only)return`Invite-only – Members of ${s} cannot view this ${n}.`;if(!e.is_invite_only)return`Everyone at ${s} can access this ${n}.`}})}render(){const e=this.props.file,s=l.getRepoAwareFolderId(e,this.props.repos),i=s?this.props.folders[s]:null;if(!i)return null;if(a.isADraftsFolder(this.props.folders,i.id))return null;const r=i.is_invite_only?c:p;return t.createElement("div",{className:m.roleRow},t.createElement(n.Svg,{className:m.linkAccessDisabledIcon,svg:r}),t.createElement("div",{className:m.sharingDisclaimer},this.sharingDisclaimer(i)))}}s.FileInfoRow=d,d.displayName="FileInfoRow"}),
(function(e,l,n){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const s=n(2,1    );class t extends s.PureComponent{render(){const e=this.props.delimiter||s.createElement("span",null,", "),l=this.props.oxfordDelimiter||s.createElement("span",null,","),n=this.props.finalDelimiter||s.createElement("span",null," and ");let t=[];const r=s.Children.count(this.props.children);return s.Children.forEach(this.props.children,(i,o)=>{0===o?t.push(i):o===r-1?(r>2&&this.props.includeOxfordDelimiter&&t.push(s.cloneElement(l,{key:o+"_oxford"})),t.push(s.cloneElement(n,{key:o+"_delim"})),t.push(i)):(t.push(s.cloneElement(e,{key:o+"_delim"})),t.push(i))}),s.createElement("span",{className:this.props.className||""},t)}}l.JoinNaturally=t,t.displayName="JoinNaturally"}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(2,1    ),i=t(154                                 ),o=t(191                              ),n=t(136                    );s.CONFIRM_REDUCE_LINK_ACCESS_AND_LOSE_EDIT_RIGHTS_MODAL="confirm-reduce-link-access-and-lose-edit-rights-modal",n.registerUnsafeModal(s.CONFIRM_REDUCE_LINK_ACCESS_AND_LOSE_EDIT_RIGHTS_MODAL,e=>a.createElement(l,Object.assign({},e.modalShown.data,e)));class l extends a.Component{render(){return a.createElement(i.ConfirmationModal,Object.assign({size:400,confirmText:"Continue"},this.props),a.createElement("div",{className:o.modalContent},"Are you sure you want to change the public link access of this file? You'll no longer be able to edit this file or change this back."))}}l.displayName="ConfirmReduceLinkAccessAndLoseEditRights"}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.525 13.657l2.652-2.652.707.707-2.652 2.652c-1.269 1.27-3.327 1.27-4.596 0-1.27-1.27-1.27-3.327 0-4.596l2.652-2.652.707.707-2.652 2.652c-.879.879-.879 2.303 0 3.182.879.879 2.303.879 3.182 0zm6.187-4.773l-.707-.707 2.652-2.652c.879-.879.879-2.303 0-3.182-.879-.879-2.303-.879-3.182 0L7.823 4.995l-.707-.707 2.652-2.652c1.269-1.27 3.327-1.27 4.596 0 1.27 1.27 1.27 3.327 0 4.596l-2.652 2.652zm-5.45 1.62l4.242-4.242-.766-.766-4.242 4.242.766.766z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="14" height="12" viewBox="0 0 14 12" xmlns="http://www.w3.org/2000/svg"><path d="M4 .098l.765.478 8 5 .678.424-.678.424-8 5-.765.478V.098zm1 1.804v8.196L11.557 6 5 1.902z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=i(2,1    ),o=i(113                                     ),t=i(280                             ),r=i(125                        ),a=i(119                    ),c=i(115                     ),l=i(146                        ),p=i(812             ),d=i(147                                                     ),h=i(819                                                       ),u=i(121                    ),_=i(820                                 ),g=i(135                     ),m=i(814                    ),k=i(124                      ),w=i(232                       ),E=i(85                   ),f=i(821                             ),b=i(816                        ),y=i(822                                                   ),L=i(181                                       );function v(e){const s={audience:"inherit",level:"edit",publicProto:null};return!function(e){return e.proto_link_access===a.ProtoLinkAccess.ORG_VIEW||e.link_access===a.LinkAccess.ORG_VIEW||e.link_access===a.LinkAccess.ORG_EDIT||Boolean(e.org_audience)}(e)?function(e){return e.link_access===a.LinkAccess.VIEW||e.link_access===a.LinkAccess.EDIT||e.proto_link_access===a.LinkAccess.VIEW}(e)&&(s.audience="public"):(e.org_browsable?s.audience="org-browsable":s.audience="org",s.publicProto=e.proto_link_access===a.ProtoLinkAccess.VIEW?"on":"off"),!function(e){return e.link_access===a.LinkAccess.EDIT||e.link_access===a.LinkAccess.ORG_EDIT}(e)?!function(e){return e.link_access===a.LinkAccess.ORG_VIEW||e.link_access===a.LinkAccess.VIEW}(e)?function(e){return e.link_access===a.LinkAccess.INHERIT&&e.proto_link_access!==a.ProtoLinkAccess.INHERIT&&e.proto_link_access!==a.ProtoLinkAccess.NULL}(e)&&(s.level="proto-view-only"):s.level="view":s.level="edit",s}function I(e){return"org"===e.audience||"org-browsable"===e.audience}function O(e,s){const i=Object.assign({},s);return s.audience!==e.audience&&("public"===s.audience&&"edit"===e.level&&(i.level="view"),"inherit"!==e.audience||"org"!==s.audience&&"org-browsable"!==s.audience||(i.level="view")),{fileDiff:function(e){const s={org_browsable:!1,org_audience:!1};if("inherit"===e.audience)return s.link_access=a.LinkAccess.INHERIT,s.proto_link_access=a.ProtoLinkAccess.NULL,s;switch(e.level){case"edit":s.link_access=a.LinkAccess.EDIT,s.proto_link_access=a.ProtoLinkAccess.NULL;break;case"view":s.link_access=a.LinkAccess.VIEW,s.proto_link_access=a.ProtoLinkAccess.NULL;break;case"proto-view-only":s.link_access=a.LinkAccess.INHERIT,s.proto_link_access=a.ProtoLinkAccess.VIEW}if(!I(e))return s;switch(s.org_audience=!0,e.level){case"edit":s.link_access=a.LinkAccess.ORG_EDIT,s.proto_link_access=a.ProtoLinkAccess.NULL;break;case"view":s.link_access=a.LinkAccess.ORG_VIEW,s.proto_link_access=a.ProtoLinkAccess.NULL;break;case"proto-view-only":s.link_access=a.LinkAccess.INHERIT,s.proto_link_access=a.ProtoLinkAccess.ORG_VIEW}return"org-browsable"===e.audience&&(s.org_browsable=!0),"on"===e.publicProto&&(s.proto_link_access=a.ProtoLinkAccess.VIEW),s}(i),transformedValues:i}}function D(e,s){const i=e.team_id?s[e.team_id]:null;return g.canAccessProFeature(null!=i?i:null)}s.fileToDropdownValues=v,s.handleDropdownChange=O;s.FileAccessRow=class extends n.PureComponent{constructor(){super(...arguments),this.state={descriptionModeExpanded:!1},this.onCollapseDescription=(()=>{this.setState({descriptionModeExpanded:!1})}),this.onExpandDescription=(()=>{this.setState({descriptionModeExpanded:!0})}),this.onDropdownValuesChange=(e=>{const{file:s}=this.props,i=v(this.props.file),{fileDiff:n,transformedValues:a}=O(i,e);if("edit"!==i.level||"edit"===a.level||r.hasImplicitOrExplicitRoleForFile(s.key,c.PermissionLevel.EDITOR,this.props))this.props.dispatch(t.file.put({file:Object.assign(Object.assign({},n),{key:this.props.file.key}),userInitiated:!0}));else{let e=this.props.modalShown;this.props.dispatch(o.fileBrowser.showModal({type:_.CONFIRM_REDUCE_LINK_ACCESS_AND_LOSE_EDIT_RIGHTS_MODAL,data:{onConfirm:()=>{e&&this.props.dispatch(o.fileBrowser.showModal(e)),this.props.dispatch(t.file.put({file:Object.assign(Object.assign({},n),{key:this.props.file.key}),userInitiated:!0}))},onCancel:()=>{e&&this.props.dispatch(o.fileBrowser.showModal(e))}}}))}})}shouldShowDescription(){const e=this.props.file.parent_org_id;return e&&this.props.orgById[e]&&!this.props.orgById[e].domain_capture&&I(v(this.props.file))&&this.props.user&&this.props.orgUsersByOrgId.orgUsers[e][this.props.user.id].permission!==u.OrgPermissionType.GUEST}renderDescription(){if(!this.props.file||!this.props.file.parent_org_id||!this.props.orgDomains||this.props.orgDomains.domains.length<=0)return n.createElement("div",null);const e=this.props.orgDomains.domains.map(e=>e.domain),s=this.props.orgById[this.props.file.parent_org_id].name;if(this.state.descriptionModeExpanded)return n.createElement("div",null,n.createElement("p",{className:p.descriptionRow},s," members have emails at ",n.createElement(h.JoinNaturally,{includeOxfordDelimiter:!0,finalDelimiter:n.createElement("span",null," and ")},e.map(e=>n.createElement("span",{key:e},e))),". ",n.createElement(d.LinkInline,{onClick:this.onCollapseDescription},"Show less")));{const i=e[0],o=e.length-1;return n.createElement("p",{className:p.descriptionRow},s," members have emails at ",i," ",o>0&&n.createElement("span",null,"... ",n.createElement(d.LinkInline,{onClick:this.onExpandDescription},"+",o," more")))}}render(){const e=v(this.props.file),s="inherit"===e.audience,i=s?b:f,o=Boolean(e.publicProto)||!this.shouldShowDescription();let t=null;return E.getFeatureFlags().branching_and_merging&&s&&k.isBranchFile(this.props.file)&&(t="Anyone with access to the main file can still access this branch"),n.createElement("div",null,n.createElement("div",{className:p.roleRow},t?n.createElement(l.Svg,{className:p.linkAccessWarningIcon,svg:L,"data-tooltip-timeout-delay":50,"data-tooltip-type":w.TooltipType.TEXT,"data-tooltip":t}):n.createElement(l.Svg,{className:p.linkAccessIcon,svg:i}),n.createElement("div",{className:p.nameAndSelect},!this.props.hideLinkAccessInfo&&n.createElement(n.Fragment,null,n.createElement(A,Object.assign({},this.props,{dropdownValues:e,onDropdownValuesChange:this.onDropdownValuesChange})),n.createElement(N,Object.assign({},this.props,{dropdownValues:e,onDropdownValuesChange:this.onDropdownValuesChange}))),this.props.hideLinkAccessInfo&&n.createElement(n.Fragment,null,"Only editors can invite people to this file"))),this.shouldShowDescription()&&this.renderDescription(),n.createElement(P,Object.assign({},this.props,{dropdownValues:e,onDropdownValuesChange:this.onDropdownValuesChange})),o&&n.createElement("div",null))}};class A extends n.PureComponent{constructor(){super(...arguments),this.FILE_LINK_AUDIENCE_DROPDOWN="file-link-audience-dropdown",this.onAudienceChange=(e=>{this.props.onDropdownValuesChange(Object.assign(Object.assign({},this.props.dropdownValues),{audience:e}))}),this.orgOptions=(()=>{const e=this.arePublicLinksBanned();let s="Anyone with the link";e&&(s+=" (disabled by admin)");const i=this.props.file.parent_org_id;let n=null;return i&&this.props.orgById[i]&&(n=this.props.orgById[i].name),[{type:"option",key:"public",text:s,disabled:e},{type:"option",key:"org",text:`Anyone at ${n} with the link`},{type:"option",key:"org-browsable",text:`Anyone at ${n}`},{type:"separator"},{type:"option",key:"inherit",text:`Only people invited to this ${this.getNoun()}`}]}),this.nonOrgOptions=(()=>{return[{type:"option",key:"public",text:"Anyone with the link"},{type:"option",key:"inherit",text:`Only people invited to this ${this.getNoun()}`}]})}arePublicLinksBanned(){const{file:e}=this.props;return Boolean(e.parent_org_id&&this.props.orgById[e.parent_org_id].public_links_banned)}getNoun(){return E.getFeatureFlags().branching_and_merging?k.getFileNoun(this.props.file):"file"}render(){const e=this.props.file,s=r.canEditFile(e.key,this.props,!0);return n.createElement(m.PermissionSelector,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,value:this.props.dropdownValues.audience,options:e.parent_org_id&&this.props.orgById[e.parent_org_id]?this.orgOptions():this.nonOrgOptions(),onChange:this.onAudienceChange,id:this.FILE_LINK_AUDIENCE_DROPDOWN,placeholder:"can access",disabled:!s})}}s.FileLinkAudience=A,A.displayName="FileLinkAudience";class P extends n.PureComponent{constructor(){super(...arguments),this.PROTO_PUBLIC_PERM_DROPDOWN="proto-public-perm-dropdown",this.onChange=(e=>{this.props.onDropdownValuesChange(Object.assign(Object.assign({},this.props.dropdownValues),{publicProto:e}))})}arePublicLinksBanned(){const{orgById:e,file:s}=this.props;return Boolean(s.parent_org_id&&e[s.parent_org_id].public_links_banned)}render(){if(null==this.props.dropdownValues.publicProto||this.arePublicLinksBanned()||!D(this.props.file,this.props.teams))return null;const e=r.canEditFile(this.props.file.key,this.props,!0);return n.createElement("div",{className:p.roleRow},n.createElement(l.Svg,{className:p.linkAccessIcon,svg:y}),n.createElement("div",{className:p.nameAndSelect},n.createElement("div",null,n.createElement("div",{className:p.linkAccessText},"Anyone else with a prototype link")),n.createElement(m.PermissionSelector,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,value:this.props.dropdownValues.publicProto,options:[{type:"option",key:"on",text:"can view prototypes only"},{type:"option",key:"off",text:"cannot access"}],onChange:this.onChange,id:this.PROTO_PUBLIC_PERM_DROPDOWN,disabled:!e})))}}s.PublicProtoPermRow=P,P.displayName="PublicProtoPermRow";class N extends n.PureComponent{constructor(){super(...arguments),this.LINK_LEVEL_DROPDOWN="link-level-dropdown",this.onLevelChange=(e=>{this.props.onDropdownValuesChange(Object.assign(Object.assign({},this.props.dropdownValues),{level:e}))})}showEditOption(){const{file:e,dropdownValues:s}=this.props,i=I(s);return"inherit"!==s.audience&&(null==e.team_id||i)}render(){const e=E.getFeatureFlags().branching_and_merging,{dropdownValues:s,file:i,repos:o,teams:t}=this.props,a="inherit"===s.audience&&"proto-view-only"!==s.level,c=r.canEditFile(i.key,this.props,!0,e);let l=[];return a||(this.showEditOption()&&l.push({type:"option",key:"edit",text:"can edit"}),e&&c&&i.team_id&&i.file_repo_id&&k.isMainBranch(i,o[i.file_repo_id])?l.push({type:"option",key:"view",text:"can view and branch"}):l.push({type:"option",key:"view",text:"can view"}),D(i,t)&&l.push({type:"option",key:"proto-view-only",text:"can view prototypes only"})),a?n.createElement(m.PermissionSelector,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,value:"access",options:[{type:"option",key:"access",text:"can access"}],onChange:()=>{},id:this.LINK_LEVEL_DROPDOWN,disabled:!c}):n.createElement(m.PermissionSelector,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,value:s.level,options:l,onChange:this.onLevelChange,id:this.LINK_LEVEL_DROPDOWN,disabled:!c})}}s.FileLinkLevel=N,N.displayName="FileLinkLevel"}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(2,1    ),a=t(113                                     ),o=t(620                                 ),i=t(154                                 ),c=t(147                                            ),n=t(191          );class l extends r.PureComponent{constructor(){super(...arguments),this.requestUpgrade=(e=>{this.props.dispatch(o.orgUser.requestAccountType({orgUserId:this.props.orgUser.id})),this.props.dispatch(a.fileBrowser.hideModal())}),this.cancel=(e=>{this.props.dispatch(a.fileBrowser.hideModal())})}render(){return r.createElement(i.Modal,{title:"Request Upgrade",size:"small",dispatch:this.props.dispatch},"Your account is ",r.createElement("span",{className:n.important},"Restricted"),". You will be able to share files from your ",r.createElement("span",{className:n.important},"Drafts")," when your account is upgraded by an admin.",r.createElement("div",{className:n.buttonRow},r.createElement(c.ButtonSecondary,{onClick:this.cancel},"Cancel"),r.createElement(c.ButtonLink,{className:n.confirmButton,onClick:this.requestUpgrade},"Request Upgrade")))}}s.ShareFromRestrictedDraftsModal=l,l.displayName="ShareFromRestrictedDraftsModal"}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(2,1    ),r=t(113                                     ),i=t(154                                 ),c=t(147                                            ),n=t(475                            ),o=t(191          ),l=t(136                    );a.VIEW_RESTRICTED_FILE_MODAL="VIEW_RESTRICTED_FILE_MODAL",l.registerUnsafeModal(a.VIEW_RESTRICTED_FILE_MODAL,e=>s.createElement(d,{user:e.modalShown.data.user,dispatch:e.dispatch}));class d extends s.PureComponent{constructor(){super(...arguments),this.cancel=(e=>{this.props.dispatch(r.fileBrowser.hideModal())})}render(){const e=this.props.share?"shared":"opened";return s.createElement(i.Modal,{title:`File cannot be ${e}`,dispatch:this.props.dispatch},s.createElement(n.AvatarWithHandle,{className:o.avatarWithHandle,entity:this.props.user,includeUserEmailAddress:!0}),"This file cannot be ",e," because it's in the ",s.createElement("span",{className:o.important},"Drafts")," of a ",s.createElement("span",{className:o.important},"Restricted")," user. Please contact your Org admin for further assistance.",s.createElement("div",{className:o.buttonRow},s.createElement(c.ButtonPrimary,{onClick:this.cancel},"OK")))}}a.ViewRestrictedFileModal=d,d.displayName="ViewRestrictedFileModal"}),
(function(e,i,s){e.exports={permissionsModal:"permissions_modal--permissionsModal--1Y_zo unselectable--unselectable--3i8U7",header:"permissions_modal--header--gL5XD",headerTitle:"permissions_modal--headerTitle--1lVlV text--fontPos24--2l6xY text--_fontBase--YWDo0",contentContainer:"permissions_modal--contentContainer--2gc3M",contentContainer__OLD:"permissions_modal--contentContainer__OLD--2MUHp",teamContentContainer:"permissions_modal--teamContentContainer--3im9t",inviteBar:"permissions_modal--inviteBar--dvsSo",roleRows:"permissions_modal--roleRows--3IhV0 overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",inputSection:"permissions_modal--inputSection--310o_",dividedInputSection:"permissions_modal--dividedInputSection--32etK permissions_modal--inputSection--310o_",prototypeDividedInputSection:"permissions_modal--prototypeDividedInputSection--9CS_D permissions_modal--dividedInputSection--32etK permissions_modal--inputSection--310o_",inviteFromSlackFooter:"permissions_modal--inviteFromSlackFooter--1P2PV",inviteFromSlackText:"permissions_modal--inviteFromSlackText--2gabi",footerLinks:"permissions_modal--footerLinks--1dvpq",footerLink:"permissions_modal--footerLink--tBFNA blue_link--blueLink--22X56",remixAuthorLink:"permissions_modal--remixAuthorLink--39SPV blue_link--blueLink--22X56",footerLinkDisabled:"permissions_modal--footerLinkDisabled--3tjd8 permissions_modal--footerLink--tBFNA blue_link--blueLink--22X56",linkToNode:"permissions_modal--linkToNode--2kOyC",linkToNodeDisabled:"permissions_modal--linkToNodeDisabled--1hJC3 permissions_modal--linkToNode--2kOyC",slackLink:"permissions_modal--slackLink--nS3Of",fileTitle:"permissions_modal--fileTitle--1GMA_",truncateText:"permissions_modal--truncateText--3BWPl ellipsis--ellipsis--1RWY6",resourceName:"permissions_modal--resourceName--3NW-R permissions_modal--truncateText--3BWPl ellipsis--ellipsis--1RWY6",spinner:"permissions_modal--spinner--Aa9Li",inviteLevelDropdown:"permissions_modal--inviteLevelDropdown--y2jJa",copyIcon:"permissions_modal--copyIcon--zdrgs",embedCode:"permissions_modal--embedCode--3I8ev",embedCodeButtons:"permissions_modal--embedCodeButtons--2s-2X",embedMessageContainer:"permissions_modal--embedMessageContainer--1sDGi",embedMessage:"permissions_modal--embedMessage--dyJf7",embedMessagePageName:"permissions_modal--embedMessagePageName--1r-ZN",orgGuestEmails:"permissions_modal--orgGuestEmails--caK4d",orgGuestLink:"permissions_modal--orgGuestLink--2p7WD blue_link--blueLink--22X56",settingsButton:"permissions_modal--settingsButton--3ATT5 raw_components--iconButtonEnabled--1oUUU raw_components--_iconButton--353Le",viewRestrictionDropdown:"permissions_modal--viewRestrictionDropdown--TZLF0",longToken:"permissions_modal--longToken--2adOt",tabs:"permissions_modal--tabs--3jDGE",worldIconContainer:"permissions_modal--worldIconContainer--1UTmX",worldIcon:"permissions_modal--worldIcon--L1nkn",publishInfo:"permissions_modal--publishInfo--1xuAw text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",publishFooter:"permissions_modal--publishFooter--3c8OB",link:"permissions_modal--link--74m1x",rowContent:"permissions_modal--rowContent--2xDcA",previewContainer:"permissions_modal--previewContainer--rV2kn",tileContainer:"permissions_modal--tileContainer--2Z0JE",remixTileContainer:"permissions_modal--remixTileContainer--3bH35",headerContainer:"permissions_modal--headerContainer--2vg3K",remixMetaDataContainer:"permissions_modal--remixMetaDataContainer--Q02Yb",remixTileMetaDataContainer:"permissions_modal--remixTileMetaDataContainer--115ff ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ",remixTileAuthor:"permissions_modal--remixTileAuthor--S81Vb ellipsis--ellipsis--1RWY6 text--fontPos12--3tEpz text--_fontBase--YWDo0",remixTileTitle:"permissions_modal--remixTileTitle--2C_gI ellipsis--ellipsisAfter3Lines--30mso ellipsis--_ellipsisAfterNLines--26JkZ text--fontPos18--3M8-H text--_fontBase--YWDo0",remixTitle:"permissions_modal--remixTitle--2vu8A ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ text--fontPos12--3tEpz text--_fontBase--YWDo0",textBold:"permissions_modal--textBold--2oQDY",remixAuthor:"permissions_modal--remixAuthor--3nIgQ text--fontPos12--3tEpz text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",authorName:"permissions_modal--authorName--1JSMY ellipsis--ellipsis--1RWY6",unpublishButton:"permissions_modal--unpublishButton--17b4h",bell:"permissions_modal--bell--2aqS8",baseTab:"permissions_modal--baseTab--1Relg text--fontPos11--RSei3 text--_fontBase--YWDo0",selectedTab:"permissions_modal--selectedTab--baDBc permissions_modal--baseTab--1Relg text--fontPos11--RSei3 text--_fontBase--YWDo0"}}),
(function(n,e,i){n.exports={blueLink:"blue_link--blueLink--22X56"}}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=a(2,1    ),o=a(826                                                ),t=a(147                                            ),r=a(827                                 ),n=a(280                             ),l=a(280                             ),m=a(154                                 ),c=a(85                   );s.EmbedModal=class extends i.PureComponent{constructor(){super(...arguments),this.onFocus=(e=>{e.target.select()}),this.copyEmbedCode=(()=>{const e=this.props.file;this.props.dispatch(l.file.copyLink({file:e,url:this.embedCode(),copyType:n.CopyType.EMBED_CODE})),this.props.hideEmbed()}),this.embedCode=(()=>{const e=encodeURIComponent(this.props.fileLink);return c.getFeatureFlags().auth_embeds_author?`<iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="${`${location.origin}/embed?embed_host=share&url=${e}&chrome=DOCUMENTATION`}" allowfullscreen></iframe>`:`<iframe style="border: none;" width="800" height="450" src="${location.origin}/embed?embed_host=share&url=${e}" allowfullscreen></iframe>`})}render(){return i.createElement(m.Modal,Object.assign({size:600,fixedTop:!0,title:"Copy public embed code",className:o.permissionsModal},this.props),i.createElement("textarea",{readOnly:!0,onFocus:this.onFocus,className:o.embedCode,value:this.embedCode()}),this.props.pageName&&i.createElement("div",{className:o.embedMessageContainer},i.createElement("span",{className:o.embedMessage},"Embed "),i.createElement("span",{className:o.embedMessagePageName},this.props.pageName),i.createElement("span",{className:o.embedMessage}," in your webpage")),i.createElement("div",{className:o.embedCodeButtons},i.createElement("div",{className:r.blueLink,onClick:this.props.hideEmbed},"Cancel"),i.createElement(t.ButtonPrimary,{onClick:this.copyEmbedCode},"Copy")))}}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(2,1    ),r=t(154                                 ),i=t(819                                              ),o=t(123         ),n=t(191                              ),l=t(826                                                ),m=t(136                    );a.CONFIRM_ORG_GUEST_INVITE_MODAL="confirm-org-guest-invite-modal",m.registerUnsafeModal(a.CONFIRM_ORG_GUEST_INVITE_MODAL,e=>s.createElement(p,Object.assign({},e.modalShown.data,{dispatch:e.dispatch})));class p extends s.PureComponent{render(){return s.createElement(r.ConfirmationModal,{confirmationTitle:"Are you sure?",confirmText:"Share",disableClickOutsideToHide:!0,dispatch:this.props.dispatch,onCancel:this.props.onCancel,onConfirm:this.props.onConfirm,popStack:this.props.popStack,size:400},s.createElement("div",{className:n.modalContent},s.createElement(s.Fragment,null,"You are sharing to"," ",s.createElement(i.JoinNaturally,{className:l.orgGuestEmails},this.props.emails)," ","who ",o.getPluralOrSingular(this.props.emails.length,"is","are")," external to your Organization. ",s.createElement("a",{className:l.orgGuestLink,target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/en-us/articles/360039960434"},"Learn more"))))}}a.ConfirmOrgGuestInviteModal=p,p.displayName="ConfirmOrgGuestInviteModal"}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.PROTOTYPE="Prototype",e.FILE_BROWSER="File Browser",e.COMMUNITY_HUB="Community Hub",e.COMMUNITY_HUB_LANDING="Community Hub Landing",e.COMMUNITY_HUB_LANDING_PLUGINS="Community Hub Landing Plugins",e.COMMUNITY_HUB_FILE="Community Hub File",e.COMMUNITY_HUB_PLUGIN="Community Hub Plugin",e.COMMUNITY_HUB_PROFILE="Community Hub Profile",e.COMMUNITY_HUB_TAG="Community Hub Tag",e.TEAM_PAGE="Team Page",e.ORG_PAGE="Org Page",e.ORG_ADMIN_SETTINGS_PAGE="Org Admin Settings Page",e.ORG_SETTINGS="Org Settings",e.EDITOR="Editor",e.MOBILE_VIEWER="Mobile Viewer",e.PROTOTYPE_PANEL="Prototype Panel",e.USER_DETAILS="User Details",e.UNIFIED_SEARCH="Unified Search",e.LIBRARY_SUBSCRIPTIONS="LibrarySubscriptions",e.ORG_CART="Org Self Serve Page",e.PRO_CART="Upgrade Team",e.UNKNOWN="Unknown",e.USER_PLUGINS_PAGE="My Plugins",e.USER_VIEW_BAR="User View Bar"}(n.TrackedContext||(n.TrackedContext={})),function(e){e.PLUGINS="plugins"}(n.TrackedContextView||(n.TrackedContextView={})),function(e){e.PERSONAL="Personal",e.ORG="Org"}(n.UserSpace||(n.UserSpace={}))}),
(function(t,s,i){t.exports={tagsList:"tags_list--tagsList--2XowZ",tag:"tags_list--tag--1KhOL text--fontPos13--1DoEt text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(2,1    ),i=s(43,1         ),r=s(113                                     ),n=s(302                                ),o=s(468                                        ),p=s(831              ),c=s(111          ),l=s(138      );class g extends a.Component{render(){return this.props.tags?a.createElement("div",{className:`${this.props.className||""} ${p.tagsList}`},this.props.tags.map(t=>a.createElement(e.Tag,{key:t,text:t,tab:this.props.tab}))):null}}e.TagsList=g,g.displayName="TagsList";class m extends a.Component{constructor(){super(...arguments),this.onClick=l.withDefaultOpenBehavior(t=>{t.preventDefault(),this.props.visitTagPage(this.props.text),c.segment.track("Tag clicked",{text:this.props.text,tab:this.props.tab||n.CommunityHubLandingTab.FILES})})}render(){return a.createElement("a",{href:this.props.href,className:p.tag,onClick:this.onClick},this.props.text)}}m.displayName="TagsList";e.Tag=i.connect((t,e)=>({href:o.selectedViewToPath(t,{view:"communityHub",subView:"landing",tab:e.tab,tag:e.text})}),(t,e)=>({visitTagPage:s=>{t(r.fileBrowser.selectView({view:"communityHub",subView:"landing",tab:e.tab,tag:s}))}}))(m)}),
(function(t,r,e){"use strict";r.__esModule=!0,r.inherits=function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.create(t.prototype);for(var n in e)o[n]=e[n];return o.constructor=r,r.prototype=o,r}}),
(function(t,e,r){"use strict";e.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={defaultProtocol:"http",events:null,format:i,formatHref:i,nl2br:!1,tagName:"a",target:function(t,e){return"url"===e?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};function n(t){t=t||{},this.defaultProtocol=t.defaultProtocol||o.defaultProtocol,this.events=t.events||o.events,this.format=t.format||o.format,this.formatHref=t.formatHref||o.formatHref,this.nl2br=t.nl2br||o.nl2br,this.tagName=t.tagName||o.tagName,this.target=t.target||o.target,this.validate=t.validate||o.validate,this.ignoreTags=[],this.attributes=t.attributes||t.linkAttributes||o.attributes,this.className=t.className||t.linkClass||o.className;for(var e=t.ignoreTags||o.ignoreTags,r=0;r<e.length;r++)this.ignoreTags.push(e[r].toUpperCase())}function i(t){return t}e.defaults=o,e.Options=n,e.contains=function(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1},n.prototype={resolve:function(t){var e=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",e,t),tagName:this.get("tagName",e,t),className:this.get("className",e,t),target:this.get("target",e,t),events:this.getObject("events",e,t),attributes:this.getObject("attributes",e,t)}},check:function(t){return this.get("validate",t.toString(),t)},get:function(t,e,r){var n=this[t];if(!n)return n;switch(void 0===n?"undefined":a(n)){case"function":return n(e,r.type);case"object":var i=n[r.type]||o[t];return"function"==typeof i?i(e,r.type):i}return n},getObject:function(t,e,r){var a=this[t];return"function"==typeof a?a(e,r.type):a}}}),
(function(t,n,i){"use strict";n.__esModule=!0,n.stateify=n.TokenState=n.CharacterState=void 0;var e=i(833);var r=function(t){this.j=[],this.T=t||null};r.prototype={defaultTransition:!1,on:function(t,n){if(t instanceof Array){for(var i=0;i<t.length;i++)this.j.push([t[i],n]);return this}return this.j.push([t,n]),this},next:function(t){for(var n=0;n<this.j.length;n++){var i=this.j[n],e=i[0],r=i[1];if(this.test(t,e))return r}return this.defaultTransition},accepts:function(){return!!this.T},test:function(t,n){return t===n},emit:function(){return this.T}};var s=(0,e.inherits)(r,function(t){this.j=[],this.T=t||null},{test:function(t,n){return t===n||n instanceof RegExp&&n.test(t)}}),u=(0,e.inherits)(r,function(t){this.j=[],this.T=t||null},{jump:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.next(new t(""));return i===this.defaultTransition?(i=new this.constructor(n),this.on(t,i)):n&&(i.T=n),i},test:function(t,n){return t instanceof n}});n.CharacterState=s,n.TokenState=u,n.stateify=function(t,n,i,e){for(var r=0,u=t.length,o=n,h=[],a=void 0;r<u&&(a=o.next(t[r]));)o=a,r++;if(r>=u)return[];for(;r<u-1;)a=new s(e),h.push(a),o.on(t[r],a),o=a,r++;return a=new s(i),h.push(a),o.on(t[u-1],a),h}}),
(function(n,t,e){"use strict";t.__esModule=!0,t.createTokenClass=function(){return function(n){n&&(this.v=n)}}}),
(function(E,O,A){"use strict";O.__esModule=!0,O.AMPERSAND=O.CLOSEPAREN=O.CLOSEANGLEBRACKET=O.CLOSEBRACKET=O.CLOSEBRACE=O.OPENPAREN=O.OPENANGLEBRACKET=O.OPENBRACKET=O.OPENBRACE=O.WS=O.TLD=O.SYM=O.UNDERSCORE=O.SLASH=O.MAILTO=O.PROTOCOL=O.QUERY=O.POUND=O.PLUS=O.NUM=O.NL=O.LOCALHOST=O.PUNCTUATION=O.DOT=O.COLON=O.AT=O.DOMAIN=O.Base=void 0;var N=A(836),C=A(833),L=(0,N.createTokenClass)();function R(E){var O=E?{v:E}:{};return(0,C.inherits)(L,(0,N.createTokenClass)(),O)}L.prototype={toString:function(){return this.v+""}};var T=R(),S=R("@"),P=R(":"),t=R("."),e=R(),s=R(),n=R("\n"),r=R(),B=R("+"),U=R("#"),a=R(),o=R("mailto:"),D=R("?"),i=R("/"),M=R("_"),c=R(),u=R(),K=R(),l=R("{"),v=R("["),I=R("<"),G=R("("),H=R("}"),Y=R("]"),f=R(">"),k=R(")"),_=R("&");O.Base=L,O.DOMAIN=T,O.AT=S,O.COLON=P,O.DOT=t,O.PUNCTUATION=e,O.LOCALHOST=s,O.NL=n,O.NUM=r,O.PLUS=B,O.POUND=U,O.QUERY=D,O.PROTOCOL=a,O.MAILTO=o,O.SLASH=i,O.UNDERSCORE=M,O.SYM=c,O.TLD=u,O.WS=K,O.OPENBRACE=l,O.OPENBRACKET=v,O.OPENANGLEBRACKET=I,O.OPENPAREN=G,O.CLOSEBRACE=H,O.CLOSEBRACKET=Y,O.CLOSEANGLEBRACKET=f,O.CLOSEPAREN=k,O.AMPERSAND=_}),
(function(e,a,o){"use strict";a.__esModule=!0,a.start=a.run=a.TOKENS=a.State=void 0;var t=o(835),i=o(837),n=function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a.default=e,a}(i);var r="aaa|aarp|abb|abbott|abogado|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afl|ag|agency|ai|aig|airforce|airtel|al|alibaba|alipay|allfinanz|alsace|am|amica|amsterdam|an|analytics|android|ao|apartments|app|apple|aq|aquarelle|ar|aramco|archi|army|arpa|arte|as|asia|associates|at|attorney|au|auction|audi|audio|author|auto|autos|avianca|aw|ax|axa|az|azure|ba|baidu|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bb|bbc|bbva|bcg|bcn|bd|be|beats|beer|bentley|berlin|best|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bom|bond|boo|book|boots|bosch|bostik|bot|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|camera|camp|cancerresearch|canon|capetown|capital|car|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chloe|christmas|chrome|church|ci|cipriani|circle|cisco|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|de|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|docs|dog|doha|domains|download|drive|dubai|durban|dvag|dz|earth|eat|ec|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|er|erni|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fast|feedback|ferrero|fi|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|florist|flowers|flsmidth|fly|fm|fo|foo|football|ford|forex|forsale|forum|foundation|fox|fr|fresenius|frl|frogans|frontier|fund|furniture|futbol|fyi|ga|gal|gallery|gallup|game|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|gold|goldpoint|golf|goo|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|group|gs|gt|gu|gucci|guge|guide|guitars|guru|gw|gy|hamburg|hangout|haus|hdfcbank|health|healthcare|help|helsinki|here|hermes|hiphop|hitachi|hiv|hk|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hr|hsbc|ht|hu|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|il|im|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|iselect|ist|istanbul|it|itau|iwc|jaguar|java|jcb|je|jetzt|jewelry|jlc|jll|jm|jmp|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kitchen|kiwi|km|kn|koeln|komatsu|kp|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|lamborghini|lamer|lancaster|land|landrover|lanxess|lasalle|lat|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|legal|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|limited|limo|lincoln|linde|link|live|living|lixil|lk|loan|loans|local|locus|lol|london|lotte|lotto|love|lr|ls|lt|ltd|ltda|lu|lupin|luxe|luxury|lv|ly|ma|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|mba|mc|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|mg|mh|miami|microsoft|mil|mini|mk|ml|mm|mma|mn|mo|mobi|mobily|moda|moe|moi|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mp|mq|mr|ms|mt|mtn|mtpc|mtr|mu|museum|mutuelle|mv|mw|mx|my|mz|na|nadex|nagoya|name|natura|navy|nc|ne|nec|net|netbank|network|neustar|new|news|nexus|nf|ng|ngo|nhk|ni|nico|nikon|ninja|nissan|nl|no|nokia|norton|nowruz|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|office|okinawa|om|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|origins|osaka|otsuka|ovh|pa|page|pamperedchef|panerai|paris|pars|partners|parts|party|passagens|pe|pet|pf|pg|ph|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|promo|properties|property|protection|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|racing|re|read|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|ricoh|rio|rip|ro|rocher|rocks|rodeo|room|rs|rsvp|ru|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|saxo|sb|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scor|scot|sd|se|seat|security|seek|select|sener|services|seven|sew|sex|sexy|sfr|sg|sh|sharp|shell|shia|shiksha|shoes|show|shriram|si|singles|site|sj|sk|ski|skin|sky|skype|sl|sm|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|st|stada|star|starhub|statefarm|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|taobao|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|team|tech|technology|tel|telecity|telefonica|temasek|tennis|tf|tg|th|thd|theater|theatre|tickets|tienda|tiffany|tips|tires|tirol|tj|tk|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tp|tr|trade|trading|training|travel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubs|ug|uk|unicom|university|uno|uol|us|uy|uz|va|vacations|vana|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|viking|villas|vin|vip|virgin|vision|vista|vistaprint|viva|vlaanderen|vn|vodka|volkswagen|vote|voting|voto|voyage|vu|vuelos|wales|walter|wang|wanggou|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|wme|wolterskluwer|work|works|world|ws|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|youtube|yt|za|zara|zero|zip|zm|zone|zuerich|zw".split("|"),s="0123456789".split(""),c="0123456789abcdefghijklmnopqrstuvwxyz".split(""),l=[" ","\f","\r","\t","\v"," "," ","᠎"],u=[],m=function(e){return new t.CharacterState(e)},p=m(),g=m(i.NUM),d=m(i.DOMAIN),b=m(),h=m(i.WS);p.on("@",m(i.AT)).on(".",m(i.DOT)).on("+",m(i.PLUS)).on("#",m(i.POUND)).on("?",m(i.QUERY)).on("/",m(i.SLASH)).on("_",m(i.UNDERSCORE)).on(":",m(i.COLON)).on("{",m(i.OPENBRACE)).on("[",m(i.OPENBRACKET)).on("<",m(i.OPENANGLEBRACKET)).on("(",m(i.OPENPAREN)).on("}",m(i.CLOSEBRACE)).on("]",m(i.CLOSEBRACKET)).on(">",m(i.CLOSEANGLEBRACKET)).on(")",m(i.CLOSEPAREN)).on("&",m(i.AMPERSAND)).on([",",";","!",'"',"'"],m(i.PUNCTUATION)),p.on("\n",m(i.NL)).on(l,h),h.on(l,h);for(var f=0;f<r.length;f++){var y=(0,t.stateify)(r[f],p,i.TLD,i.DOMAIN);u.push.apply(u,y)}var k=(0,t.stateify)("file",p,i.DOMAIN,i.DOMAIN),v=(0,t.stateify)("ftp",p,i.DOMAIN,i.DOMAIN),w=(0,t.stateify)("http",p,i.DOMAIN,i.DOMAIN),x=(0,t.stateify)("mailto",p,i.DOMAIN,i.DOMAIN);u.push.apply(u,k),u.push.apply(u,v),u.push.apply(u,w);var O=k.pop(),z=v.pop(),A=w.pop(),N=x.pop(),j=m(i.DOMAIN),E=m(i.PROTOCOL),C=m(i.MAILTO);z.on("s",j).on(":",E),A.on("s",j).on(":",E),u.push(j),O.on(":",E),j.on(":",E),N.on(":",C);var M=(0,t.stateify)("localhost",p,i.LOCALHOST,i.DOMAIN);u.push.apply(u,M),p.on(s,g),g.on("-",b).on(s,g).on(c,d),d.on("-",b).on(c,d);for(var S=0;S<u.length;S++)u[S].on("-",b).on(c,d);b.on("-",b).on(s,d).on(c,d),p.defaultTransition=m(i.SYM);var D=p;a.State=t.CharacterState,a.TOKENS=n,a.run=function(e){for(var a=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),o=e.length,t=[],i=0;i<o;){for(var n=p,r=null,s=0,c=null,l=-1;i<o&&(r=n.next(a[i]));)(n=r).accepts()?(l=0,c=n):l>=0&&l++,s++,i++;if(!(l<0)){i-=l,s-=l;var u=c.emit();t.push(new u(e.substr(i-s,s)))}}return t},a.start=D}),
(function(t,e,n){"use strict";e.__esModule=!0,e.URL=e.TEXT=e.NL=e.EMAIL=e.MAILTOEMAIL=e.Base=void 0;var i=n(836),o=n(833),r=n(837);var s=(0,i.createTokenClass)();s.prototype={type:"token",isLink:!1,toString:function(){for(var t=[],e=0;e<this.v.length;e++)t.push(this.v[e].toString());return t.join("")},toHref:function(){return this.toString()},toObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(t)}}};var a=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"email",isLink:!0}),h=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){this.v;return"mailto:"+this.toString()}}),c=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"text"}),u=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"nl"}),f=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",n=!1,i=!1,o=this.v,s=[],a=0;o[a]instanceof r.PROTOCOL;)n=!0,s.push(o[a].toString().toLowerCase()),a++;for(;o[a]instanceof r.SLASH;)i=!0,s.push(o[a].toString()),a++;for(;(t=o[a])instanceof r.DOMAIN||t instanceof r.TLD;)s.push(o[a].toString().toLowerCase()),a++;for(;a<o.length;a++)s.push(o[a].toString());return s=s.join(""),n||i||(s=e+"://"+s),s},hasProtocol:function(){return this.v[0]instanceof r.PROTOCOL}});e.Base=s,e.MAILTOEMAIL=a,e.EMAIL=h,e.NL=u,e.TEXT=c,e.URL=f}),
(function(n,o,O){"use strict";o.__esModule=!0,o.start=o.run=o.TOKENS=o.State=void 0;var E=O(835),L=O(837),A=(T(L),O(839)),N=T(A);function T(n){if(n&&n.__esModule)return n;var o={};if(null!=n)for(var O in n)Object.prototype.hasOwnProperty.call(n,O)&&(o[O]=n[O]);return o.default=n,o}var C=function(n){return new E.TokenState(n)},S=C(),R=C(),t=C(),e=C(),r=C(),P=C(),D=C(),M=C(A.URL),U=C(),u=C(A.URL),a=C(A.URL),l=C(),B=C(),s=C(),K=C(),I=C(),f=C(A.URL),i=C(A.URL),H=C(A.URL),v=C(A.URL),c=C(),h=C(),p=C(),G=C(),w=C(),d=C(),k=C(A.EMAIL),Y=C(),_=C(A.EMAIL),g=C(A.MAILTOEMAIL),x=C(),m=C(),y=C(),Q=C(),X=C(A.NL);S.on(L.NL,X).on(L.PROTOCOL,R).on(L.MAILTO,t).on(L.SLASH,e),R.on(L.SLASH,e),e.on(L.SLASH,r),S.on(L.TLD,P).on(L.DOMAIN,P).on(L.LOCALHOST,M).on(L.NUM,P),r.on(L.TLD,a).on(L.DOMAIN,a).on(L.NUM,a).on(L.LOCALHOST,a),P.on(L.DOT,D),w.on(L.DOT,d),D.on(L.TLD,M).on(L.DOMAIN,P).on(L.NUM,P).on(L.LOCALHOST,P),d.on(L.TLD,k).on(L.DOMAIN,w).on(L.NUM,w).on(L.LOCALHOST,w),M.on(L.DOT,D),k.on(L.DOT,d),M.on(L.COLON,U).on(L.SLASH,a),U.on(L.NUM,u),u.on(L.SLASH,a),k.on(L.COLON,Y),Y.on(L.NUM,_);var b=[L.DOMAIN,L.AT,L.LOCALHOST,L.NUM,L.PLUS,L.POUND,L.PROTOCOL,L.SLASH,L.TLD,L.UNDERSCORE,L.SYM,L.AMPERSAND],j=[L.COLON,L.DOT,L.QUERY,L.PUNCTUATION,L.CLOSEBRACE,L.CLOSEBRACKET,L.CLOSEANGLEBRACKET,L.CLOSEPAREN,L.OPENBRACE,L.OPENBRACKET,L.OPENANGLEBRACKET,L.OPENPAREN];a.on(L.OPENBRACE,B).on(L.OPENBRACKET,s).on(L.OPENANGLEBRACKET,K).on(L.OPENPAREN,I),l.on(L.OPENBRACE,B).on(L.OPENBRACKET,s).on(L.OPENANGLEBRACKET,K).on(L.OPENPAREN,I),B.on(L.CLOSEBRACE,a),s.on(L.CLOSEBRACKET,a),K.on(L.CLOSEANGLEBRACKET,a),I.on(L.CLOSEPAREN,a),f.on(L.CLOSEBRACE,a),i.on(L.CLOSEBRACKET,a),H.on(L.CLOSEANGLEBRACKET,a),v.on(L.CLOSEPAREN,a),c.on(L.CLOSEBRACE,a),h.on(L.CLOSEBRACKET,a),p.on(L.CLOSEANGLEBRACKET,a),G.on(L.CLOSEPAREN,a),B.on(b,f),s.on(b,i),K.on(b,H),I.on(b,v),B.on(j,c),s.on(j,h),K.on(j,p),I.on(j,G),f.on(b,f),i.on(b,i),H.on(b,H),v.on(b,v),f.on(j,f),i.on(j,i),H.on(j,H),v.on(j,v),c.on(b,f),h.on(b,i),p.on(b,H),G.on(b,v),c.on(j,c),h.on(j,h),p.on(j,p),G.on(j,G),a.on(b,a),l.on(b,a),a.on(j,l),l.on(j,l),t.on(L.TLD,g).on(L.DOMAIN,g).on(L.NUM,g).on(L.LOCALHOST,g),g.on(b,g).on(j,x),x.on(b,g).on(j,x);var q=[L.DOMAIN,L.NUM,L.PLUS,L.POUND,L.QUERY,L.UNDERSCORE,L.SYM,L.AMPERSAND,L.TLD];P.on(q,m).on(L.AT,y),M.on(q,m).on(L.AT,y),D.on(q,m),m.on(q,m).on(L.AT,y).on(L.DOT,Q),Q.on(q,m),y.on(L.TLD,w).on(L.DOMAIN,w).on(L.LOCALHOST,k);o.State=E.TokenState,o.TOKENS=N,o.run=function(n){for(var o=n.length,O=0,E=[],L=[];O<o;){for(var N=S,T=null,C=null,R=0,t=null,e=-1;O<o&&!(T=N.next(n[O]));)L.push(n[O++]);for(;O<o&&(C=T||N.next(n[O]));)T=null,(N=C).accepts()?(e=0,t=N):e>=0&&e++,O++,R++;if(e<0)for(var r=O-R;r<O;r++)L.push(n[r]);else{L.length>0&&(E.push(new A.TEXT(L)),L=[]),O-=e,R-=e;var P=t.emit();E.push(new P(n.slice(O-R,O)))}}return L.length>0&&E.push(new A.TEXT(L)),E},o.start=S}),
(function(r,n,t){"use strict";n.__esModule=!0,n.tokenize=n.test=n.scanner=n.parser=n.options=n.inherits=n.find=void 0;var i=t(833),e=l(t(834)),o=l(t(838)),s=l(t(840));function l(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t]);return n.default=r,n}Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)});var u=function(r){return s.run(o.run(r))};n.find=function(r){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=u(r),i=[],e=0;e<t.length;e++){var o=t[e];!o.isLink||n&&o.type!==n||i.push(o.toObject())}return i},n.inherits=i.inherits,n.options=e,n.parser=s,n.scanner=o,n.test=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=u(r);return 1===t.length&&t[0].isLink&&(!n||t[0].type===n)},n.tokenize=u}),
(function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(2,1),i=(n=o)&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(841));var s=a.options,f=s.Options;function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===i.default.Children.count(e.props.children))return e;var n=[];i.default.Children.forEach(e.props.children,function(e){"string"==typeof e?n.push.apply(n,function(e,t){for(var r=a.tokenize(e),n=[],o=0,s=0;s<r.length;s++){var f=r[s];if("nl"===f.type&&t.nl2br)n.push(i.default.createElement("br",{key:"linkified-"+ ++o}));else if(f.isLink&&t.check(f)){var l=t.resolve(f),p=(l.href,l.formatted),u=l.formattedHref,c=l.tagName,h=l.className,d=l.target,y=l.attributes,v=(l.events,{key:"linkified-"+ ++o,href:u});if(h&&(v.className=h),d&&(v.target=d),y)for(var m in y)v[m]=y[m];n.push(i.default.createElement(c,v,p))}else n.push(f.toString())}return n}(e,t)):i.default.isValidElement(e)?"string"==typeof e.type&&s.contains(t.ignoreTags,e.type.toUpperCase())?n.push(e):n.push(l(e,t,++r)):n.push(e)});var o={key:"linkified-element-"+r};for(var f in e.props)o[f]=e.props[f];return i.default.cloneElement(e,o,n)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e={key:"linkified-element-0"};for(var t in this.props)"options"!==t&&"tagName"!==t&&(e[t]=this.props[t]);var r=new f(this.props.options),n=this.props.tagName||"span";return l(i.default.createElement(n,e),r,0)},t}(i.default.Component);t.default=p}),
(function(i,t,e){i.exports=e(842).default}),
(function(e,t,i){e.exports={backLink:"detail_view--backLink--ISxrI text--fontPos11--RSei3 text--_fontBase--YWDo0",_container:"detail_view--_container--174wj",_name:"detail_view--_name--qwdCO",container:"detail_view--container--1xl1I detail_view--_container--174wj text--fontPos14--3UJ36 text--_fontBase--YWDo0",header:"detail_view--header--2iBsz",headerLeft:"detail_view--headerLeft--28_8o",icon:"detail_view--icon--pPDzt plugin--pluginIconBase--1x_Mv",name:"detail_view--name--1XWJN detail_view--_name--qwdCO text--fontPos24--2l6xY text--_fontBase--YWDo0",headerRight:"detail_view--headerRight--2ITwd",installButton:"detail_view--installButton--tmhQw",publisherName:"detail_view--publisherName--1JbKL ellipsis--ellipsis--1RWY6",installs:"detail_view--installs--DYvQc",coverImageContainer:"detail_view--coverImageContainer--2bH15",metadataContainer:"detail_view--metadataContainer--3lEhI",mobileActions__OLD:"detail_view--mobileActions__OLD--2M18A",mobileActions:"detail_view--mobileActions--2hPe6",metadataContainerMobile:"detail_view--metadataContainerMobile--1U0ev",installButtonContainer:"detail_view--installButtonContainer--FTo1x",heartContainer:"detail_view--heartContainer--1iAjr",resourceActionButton:"detail_view--resourceActionButton--1rP-H",duplicateButton:"detail_view--duplicateButton--2OZci",rowReverse:"detail_view--rowReverse--16-cQ",metadataLeft:"detail_view--metadataLeft--34y4_",description:"detail_view--description--37uhL",metadataRight:"detail_view--metadataRight--1u8Jj",metadataSection:"detail_view--metadataSection--2wOZr ellipsis--ellipsis--1RWY6",metadataSectionText:"detail_view--metadataSectionText--Ua2et text--fontPos13--1DoEt text--_fontBase--YWDo0",shareLink:"detail_view--shareLink--2nteG",shareLinkIcon:"detail_view--shareLinkIcon--EnAWm",shareLinkText:"detail_view--shareLinkText--B_ZVh",reportSection:"detail_view--reportSection--1yojn detail_view--metadataSectionText--Ua2et text--fontPos13--1DoEt text--_fontBase--YWDo0",communityHubPromoSection:"detail_view--communityHubPromoSection--1jSJM",subheader:"detail_view--subheader--1b4Ca",loadingContainer:"detail_view--loadingContainer--3AQT3 detail_view--_container--174wj",loadingIcon:"detail_view--loadingIcon--2t189 detail_view--icon--pPDzt plugin--pluginIconBase--1x_Mv",loadingName:"detail_view--loadingName--3puOL",loadingPublisherName:"detail_view--loadingPublisherName--37dJd",loadingCoverImageContainer:"detail_view--loadingCoverImageContainer--3Vrzk detail_view--coverImageContainer--2bH15",loadingDescriptionRow:"detail_view--loadingDescriptionRow--1sb2j",notFoundContainer:"detail_view--notFoundContainer--2GdXi text--fontPos14--3UJ36 text--_fontBase--YWDo0",supportInfo:"detail_view--supportInfo--135oZ ellipsis--ellipsis--1RWY6",likesContainer:"detail_view--likesContainer--2oRll",likes:"detail_view--likes--QWh-r",heart:"detail_view--heart--1Et5z",caretButton:"detail_view--caretButton--EN2Eh button_split--caretButton--mvcr9",authorAvatar:"detail_view--authorAvatar--2IV5g"}}),
(function(t,u,e){t.exports={fullHeart:"like_button--fullHeart--1W_PB",caretButton:"like_button--caretButton--2bRu0 button_split--caretButton--mvcr9"}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=t(2,1    ),l=t(43,1         ),o=t(129           ),r=t(123         ),u=t(401                                               ),s=t(582                                                  ),a=t(113                                     ),c=t(398               ),d=t(563                                          ),p=t(577                                                   ),_=t(567                                   ),g=t(114                              ),h=t(586                                             ),k=t(845                );i.LikeButtonView=(e=>n.createElement(d.ButtonSplitNoDropdownTracked,{onClick:e.onClick,isSelected:e.isSelected,caretButtonText:e.caretButtonText,caretButtonClassName:e.caretButtonClassName,trackingProperties:e.trackingProperties,innerText:e.innerText},e.isSelected?m:b));const b=n.createElement("span",null,"♡"),m=n.createElement("span",{className:k.fullHeart},"♥");i.LikeButtonTracked=l.connect((e,i)=>{const t="hub_file"===i.resourceType?e.hubFiles[i.hubFileId]:e.publishedPlugins[i.pluginId];return{currentUser:e.user||null,isResourceLiked:t.current_user_liked,likeCount:t.like_count}},null,(e,i,t)=>{const{dispatch:n}=i;return Object.assign(Object.assign(Object.assign({},e),t),{onLikeClick:()=>{if(!e.currentUser){let e,i;return"hub_file"===t.resourceType?(e="Like this file to show your appreciation (and save it)",i="hub_file_like_signed_out"):(e="Like this plugin to show your appreciation (and save it)",i="plugin_like_signed_out"),void((e,i)=>{o.isMobileBrowser?window.location.href="/login":(n(c.authActions.init({origin:i})),n(g.showModal({type:_.LOGGED_OUT_COMMUNITY_ACTION_MODAL,data:{headerText:e,icon:h,dispatch:n}})))})(e,i)}e.currentUser.community_profile_id?"hub_file"===t.resourceType?n(u.likeHubFile({hubFileId:t.hubFileId})):n(s.likePlugin({pluginId:t.pluginId})):n(a.fileBrowser.showModal({type:p.CHANGE_PROFILE_HANDLE,data:{userId:e.currentUser.id,onFinish:()=>"hub_file"===t.resourceType?n(u.likeHubFile({hubFileId:t.hubFileId})):n(s.likePlugin({pluginId:t.pluginId}))}}))},onUnlikeClick:()=>{if(!e.currentUser)throw new Error(`Tried to unlike a ${"hub_file"===t.resourceType?"hub file":"plugin"} as a signed out user`);"hub_file"===t.resourceType?n(u.unlikeHubFile({hubFileId:t.hubFileId})):n(s.unlikePlugin({pluginId:t.pluginId}))}})})(e=>n.createElement(i.LikeButtonView,{onClick:e.isResourceLiked?e.onUnlikeClick:e.onLikeClick,isSelected:e.isResourceLiked,caretButtonText:r.prettyRound(e.likeCount),caretButtonClassName:k.caretButton,trackingProperties:e.trackingProperties,innerText:e.innerText}))}),
(function(n,e,t){n.exports={bannerContainer:"community_hub_banner--bannerContainer--1Fhii text--fontPos13--1DoEt text--_fontBase--YWDo0",link:"community_hub_banner--link--1kNmL",ctaTextEndAndArrow:"community_hub_banner--ctaTextEndAndArrow--PG1bW",bannerIcon:"community_hub_banner--bannerIcon--1dGNA",iconContainer:"community_hub_banner--iconContainer--2fCac",bannerText:"community_hub_banner--bannerText--1HLAb ellipsis--ellipsis--1RWY6"}}),
(function(c,l,v){c.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M19.569 9.064c-1.684 1.235-3.677 1.967-5.749 2.12-.315-.69-1.012-1.17-1.82-1.17H8c-1.105 0-2 .896-2 2v4c0 1.105.895 2 2 2h.333l1.211 3.633c.272.816 1.037 1.367 1.897 1.367h1.172c.682 0 1.164-.668.948-1.316l-1.236-3.71c.667-.109 1.223-.548 1.495-1.143 2.072.153 4.065.885 5.749 2.12l.635.466c.33.242.796.006.796-.404V9.002c0-.41-.465-.646-.796-.403l-.635.466zm-8.29 8.95H9.387l1.106 3.316c.136.409.518.684.948.684h1.172l-1.334-4zm.721-1c.552 0 1-.447 1-1v-4c0-.552-.448-1-1-1H8c-.552 0-1 .448-1 1v4c0 .553.448 1 1 1h4zm2-1.159v-3.682c2.155-.179 4.228-.932 6-2.187v8.057c-1.772-1.256-3.845-2.009-6-2.188zM24.5 14c0-.828-.672-1.5-1.5-1.5v-1c1.38 0 2.5 1.12 2.5 2.5 0 1.38-1.12 2.5-2.5 2.5v-1c.828 0 1.5-.672 1.5-1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2,1    ),a=n(43,1         ),i=n(146                        ),r=n(147                                            ),o=n(303                             ),c=n(847                         ),m=n(848                             );class l extends s.Component{constructor(){super(...arguments),this.getBannerText=(()=>this.props.profile?{strongText:"This is a Figma Community profile.",ctaPreText:" To create your own profile and publish files, ",ctaText:"join the beta"}:this.props.selectedView&&"communityHub"===this.props.selectedView.view&&"hubFile"===this.props.selectedView.subView?{strongText:"This is a Figma Community resource file.",ctaPreText:" To publish your own files, ",ctaText:"join the beta"}:o.communityLandingPageRefreshEnabled()?{strongText:"This is the Figma Community,",ctaPreText:" a space where designers and developers publish files and plugins for anyone on Figma to use. ",ctaText:"Add to Community by joining the publishing beta"}:{strongText:"This is the Figma Community.",ctaPreText:" Create your own plugin, or publish files that anyone can duplicate and remix by ",ctaText:"joining the beta"})}render(){const{strongText:e,ctaPreText:t,ctaText:n}=this.getBannerText();return s.createElement("div",{className:this.props.className||""},s.createElement("div",{className:c.bannerContainer},s.createElement("div",{className:c.iconContainer},s.createElement(i.Svg,{svg:m,className:c.bannerIcon})),s.createElement("span",null,s.createElement("strong",null,e),t,s.createElement(r.Link,{href:"https://forms.gle/5zC8iaAHrH2Erf5q9",target:"_blank",className:c.link},n," → "))))}}l.displayName="CommunityBetaPromoBannerInner";t.CommunityBetaPromoBanner=a.connect((e,t)=>({selectedView:e.selectedView}))(l)}),
(function(h,l,t){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M.883 0h14.234c.488 0 .883.395.883.883v14.234c0 .488-.395.883-.883.883H.883C.395 16 0 15.605 0 15.117V.883C0 .395.395 0 .883 0zM11.04 9.804V16H8.546V9.806H6.461V7.39h2.085v-1.78c0-2.067 1.262-3.192 3.107-3.192.622-.003 1.244.03 1.863.095v2.158h-1.277c-1.005 0-1.2.476-1.2 1.176v1.54h2.392l-.31 2.416H11.04z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(o,t,i){o.exports={src:'<svg width="18" height="16" viewBox="0 0 18 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.66 15.616c6.793 0 10.508-5.624 10.508-10.5 0-.16 0-.32-.01-.478.722-.522 1.346-1.169 1.842-1.91-.674.299-1.389.494-2.121.58.77-.46 1.348-1.186 1.624-2.04-.725.43-1.518.732-2.346.895-.556-.591-1.293-.983-2.095-1.114-.802-.132-1.625.005-2.341.388-.717.383-1.287.992-1.623 1.732-.336.74-.418 1.569-.234 2.36-1.468-.073-2.905-.455-4.216-1.119-1.311-.664-2.468-1.597-3.395-2.737-.472.813-.617 1.775-.405 2.69.213.915.766 1.715 1.548 2.237-.588-.018-1.162-.176-1.676-.462v.047c0 .852.295 1.677.835 2.337.54.66 1.292 1.112 2.128 1.28-.544.149-1.114.17-1.668.064.236.733.696 1.374 1.314 1.834.619.46 1.366.714 2.137.729-1.308 1.027-2.924 1.584-4.587 1.582-.294 0-.587-.018-.879-.053 1.689 1.083 3.654 1.658 5.66 1.655" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(c,l,t){c.exports={src:'<svg width="20" height="18" viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg"><path d="M11.995.445C12.682.15 13.418 0 14.162 0c.745 0 1.481.151 2.167.445.686.293 1.307.722 1.83 1.26.521.54.934 1.177 1.216 1.878.28.7.425 1.45.425 2.206 0 .756-.144 1.506-.425 2.206-.282.7-.695 1.338-1.217 1.876l-7.612 7.855c-.17.175-.403.274-.646.274-.244 0-.477-.099-.647-.274L1.641 9.872C.587 8.784 0 7.314 0 5.788c0-1.526.587-2.996 1.641-4.083C2.696.617 4.133 0 5.637 0c1.505 0 2.941.617 3.996 1.706l.267.275.266-.275c.522-.539 1.144-.968 1.83-1.261zM14.162 1.8c-.5 0-.995.102-1.459.3-.463.198-.886.49-1.244.858l-.913.942c-.17.175-.403.274-.646.274-.244 0-.477-.099-.647-.274l-.912-.941C7.619 2.214 6.646 1.8 5.637 1.8c-1.008 0-1.981.414-2.703 1.159C2.21 3.704 1.8 4.722 1.8 5.789c0 1.066.41 2.084 1.134 2.83L9.9 15.807l6.966-7.188c.358-.37.643-.809.838-1.295.195-.486.296-1.008.296-1.535 0-.528-.1-1.05-.296-1.536-.195-.486-.48-.925-.838-1.294-.358-.37-.781-.661-1.245-.86-.463-.197-.959-.299-1.459-.299z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2,1    ),s=a(420              ),r=a(43,1         ),i=a(466                                                        ),l=a(129           ),c=a(415                          ),o=a(565                                               ),m=a(146                        ),d=a(492                                  ),p=a(832                                    ),u=a(843              ),g=a(147                                            ),h=a(572                                            ),E=a(844                ),v=a(422                                        ),N=a(303                             ),b=a(563                                          ),_=a(846                                        ),k=a(849                                                        );t.desktopBreakpoint=s.pxToInt(v.communityHubResourcePageDesktopBreakpoint);const w=a(821                             ),f=a(850                            ),B=a(851                           ),C=a(852                         );t.MetadataSection=(e=>n.createElement("div",{className:E.metadataSection},n.createElement("div",{className:E.subheader},e.title),n.createElement("div",{className:E.metadataSectionText},e.children))),t.PublisherMetadataSection=(e=>n.createElement(t.MetadataSection,{title:"Publisher"},n.createElement(h.AuthorLink,{publisher:e.publisher,showAvatar:!0}))),t.SharingMetadataSection=(e=>n.createElement(t.MetadataSection,{title:"Share"},!l.isMobileBrowser&&n.createElement("div",{className:E.shareLink,onClick:e.onShareLinkClick},n.createElement("span",{className:E.shareLinkIcon},n.createElement(m.Svg,{svg:w})),n.createElement("span",{className:E.shareLinkText},"Copy link")),n.createElement("a",{className:E.shareLink,target:"_blank",href:e.twitterUrl,onClick:e.twitterOnClick},n.createElement("span",{className:E.shareLinkIcon},n.createElement(m.Svg,{svg:B})),n.createElement("span",{className:E.shareLinkText},"Twitter")),n.createElement("a",{className:E.shareLink,target:"_blank",href:e.facebookUrl,onClick:e.facebookOnClick},n.createElement("span",{className:E.shareLinkIcon},n.createElement(m.Svg,{svg:f})),n.createElement("span",{className:E.shareLinkText},"Facebook")))),t.DetailsMetadataSection=(e=>n.createElement(t.MetadataSection,{title:"Details"},n.createElement("div",null,"Last updated ",n.createElement(d.FromNow,{date:e.updatedAt})),e.license&&n.createElement("div",null,"Licensed under ",n.createElement("a",{href:e.license.url,className:E.shareLinkText},e.license.name)),e.supportContact&&n.createElement("div",{className:E.supportInfo},"Support:"," ",n.createElement(u.default,{options:{target:{url:"_blank"},attributes:{rel:"noopener"},className:E.shareLinkText}},e.supportContact)))),t.TagsMetadataSection=(e=>e.tags&&0!==e.tags.length?n.createElement(t.MetadataSection,{title:"Tags"},n.createElement(p.TagsList,{tags:e.tags,tab:e.tab})):null);t.ReportResourceLink=r.connect(e=>({hasOrgs:Object.keys(e.orgById).length>0,teams:Object.keys(e.teams).map(t=>e.teams[t]),user:e.user}))(class extends n.PureComponent{constructor(){super(...arguments),this.getResource=(()=>this.props.plugin?{resourceType:"plugin",resourceUrl:i.pluginShareURL(this.props.plugin.id)}:this.props.hubFile?{resourceType:"file",resourceUrl:i.hubFileShareURL(this.props.hubFile.id)}:{})}render(){const{resourceType:e,resourceUrl:t}=this.getResource();let a=`Reporting an inappropriate ${e}`,s=`I want to report this ${e} for violating the ${"plugin"==e?"Plugin":"Community"} Guidelines: ${t}`;return this.props.user&&(s+=`\nMy Figma user id is ${this.props.user.id}\n`),s+="\n\n(Add your description here)\n\n",n.createElement(g.Link,{href:`mailto:content-reviews@figma.com?subject=${encodeURIComponent(a)}&body=${encodeURIComponent(s)}`,rel:"noopener",className:E.reportSection},"Flag as inappropriate...")}});t.CommunityBetaPromoBannerSection=r.connect(e=>({currentUserHasProfile:!(!e.user||!e.user.community_profile_id)}))(class extends n.PureComponent{render(){return this.props.currentUserHasProfile?null:n.createElement("div",{className:E.communityHubPromoSection},n.createElement(k.CommunityBetaPromoBanner,null))}});t.HubLoadingView=class extends n.PureComponent{render(){const{hasIcon:e,name:a}=this.props,s=this.props.hasIcon?this.props.iconUrl:"";return n.createElement("div",{className:E.loadingContainer},n.createElement(c.MediaQuery,{query:`(min-width: ${t.desktopBreakpoint}px)`},n.createElement("div",{className:E.header},n.createElement("div",{className:E.headerLeft},e&&s&&n.createElement("div",{className:E.icon},n.createElement("img",{src:s})),e&&!s&&n.createElement("div",{className:E.loadingIcon}),a?n.createElement("h1",{className:E.name},a):n.createElement("div",{className:E.loadingName})),n.createElement("div",{className:E.headerRight},n.createElement("div",{className:E.rowReverse},N.communityHubBrowsingEnabled()?n.createElement(n.Fragment,null,n.createElement(b.ButtonSplitNoDropdown,{caretButtonText:"-",isSelected:!1,caretButtonClassName:E.caretButton},this.props.ctaPlaceholderText),n.createElement("div",{className:E.likesContainer},n.createElement(_.LikeButtonView,{isSelected:!1,caretButtonText:"-",caretButtonClassName:E.caretButton}))):n.createElement(n.Fragment,null,n.createElement("div",{className:E.installs}),n.createElement("div",{className:E.installButton},n.createElement(o.ButtonSplitNoDropdown__OLD,{buttonClassName:E.duplicateButton},this.props.ctaPlaceholderText)))))),n.createElement("div",{className:E.loadingCoverImageContainer}),n.createElement("div",{className:E.metadataContainer},n.createElement("div",{className:E.metadataLeft},n.createElement("div",{className:E.loadingDescriptionRow}),n.createElement("div",{className:E.loadingDescriptionRow}),n.createElement("div",{className:E.loadingDescriptionRow})))),n.createElement(c.MediaQuery,{query:`(max-width: ${t.desktopBreakpoint-1}px)`,defaultClass:E.metadataContainerMobile},n.createElement("div",{className:E.loadingCoverImageContainer}),n.createElement("div",{className:E.header},e&&s&&n.createElement("div",{className:E.icon},n.createElement("img",{src:s})),e&&!s&&n.createElement("div",{className:E.loadingIcon}),a?n.createElement("h1",{className:E.name},a):n.createElement("div",{className:E.loadingName})),n.createElement("div",{className:E.description},n.createElement("div",{className:E.loadingDescriptionRow}),n.createElement("div",{className:E.loadingDescriptionRow}),n.createElement("div",{className:E.loadingDescriptionRow})),n.createElement("div",{className:N.communityHubBrowsingEnabled()?E.mobileActions:E.mobileActions__OLD},N.communityHubBrowsingEnabled()?n.createElement(n.Fragment,null,n.createElement("div",{className:E.likesContainer},n.createElement(_.LikeButtonView,{isSelected:!1,caretButtonText:"-",caretButtonClassName:E.caretButton})),n.createElement(b.ButtonSplitNoDropdown,{caretButtonText:"-",isSelected:!1,caretButtonClassName:E.caretButton},this.props.ctaPlaceholderText)):n.createElement(n.Fragment,null,n.createElement("div",{className:E.likesContainer},n.createElement("div",{className:E.heartContainer},n.createElement(m.Svg,{svg:C,useOriginalSrcFills:!0,className:E.heart})),n.createElement("div",{className:E.installs})),n.createElement("div",{className:E.rowReverse},n.createElement("div",{className:E.installs}),n.createElement("div",{className:E.installButton},n.createElement(o.ButtonSplitNoDropdown__OLD,{buttonClassName:E.resourceActionButton},this.props.ctaPlaceholderText)))))))}}}),
(function(l,o,t){l.exports={src:'<svg width="20" height="18" viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg"><path d="M11.995.445C12.682.15 13.418 0 14.162 0c.745 0 1.481.151 2.167.445.686.293 1.307.722 1.83 1.26.521.54.934 1.177 1.216 1.878.28.7.425 1.45.425 2.206 0 .756-.144 1.506-.425 2.206-.282.7-.695 1.338-1.217 1.877l-7.612 7.854c-.17.175-.403.274-.646.274-.244 0-.477-.099-.647-.274L1.641 9.872C.587 8.784 0 7.314 0 5.788c0-1.526.587-2.996 1.641-4.083C2.696.617 4.133 0 5.637 0c1.505 0 2.941.617 3.996 1.706l.267.275.266-.275c.522-.539 1.143-.968 1.83-1.261z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(2,1    ),i=s(146                        ),r=s(137                                    ),n=s(844                              ),c=s(852                         ),l=s(854                                );a.LikeButtonTracked__OLD=r.asTrackedClickable(class extends t.PureComponent{render(){return t.createElement("div",{className:n.heartContainer},t.createElement(i.Svg,{svg:this.props.hasLiked?l:c,useOriginalSrcFills:!0,onClick:this.props.onClick,className:n.heart}))}})}),
(function(r,e,s){r.exports={progressBarBackground:"progress_bar--progressBarBackground--18Dzc",progressBar:"progress_bar--progressBar--1uSHu",prideBackground:"progress_bar--prideBackground--1iV2y",prideInclusiveBackground:"progress_bar--prideInclusiveBackground--38jqk",keepUI:"progress_bar--keepUI--3e-S0",progressBarPageCover:"progress_bar--progressBarPageCover--5OQvS",progressBarPageFade:"progress_bar--progressBarPageFade--3NV2m progress_bar--progressBarPageCover--5OQvS",fadein:"progress_bar--fadein--xk7sz"}}),
(function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=a(2,1    ),t=a(856                 ),n=a(284                          ),i=a(85                   );let l=!1;class o extends s.PureComponent{constructor(){super(...arguments),this.renderKeepUI=(()=>s.createElement("div",null,s.createElement("div",{className:t.progressBarBackground}),s.createElement("div",{className:t.progressBarPageFade}),s.createElement(r.ProgressBarRelative,{className:t.keepUI,style:{left:`${this.props.left||0}`}}))),this.renderHideUI=(()=>s.createElement("div",null,s.createElement("div",{className:t.progressBarBackground}),s.createElement("div",{className:t.progressBarPageCover}),s.createElement(r.ProgressBarRelative,null)))}render(){return this.props.progressBarMode===n.ProgressBarMode.KEEP_UI?this.renderKeepUI():this.renderHideUI()}}r.ProgressBar=o,o.displayName="ProgressBar";r.ProgressBarRelative=(e=>{let r=i.getFeatureFlags(),a="";return r&&r.pride_inclusive_loading_bar?a=t.prideInclusiveBackground:r&&r.pride_loading_bar&&(a=t.prideBackground),(()=>{if(l)return;l=!0;let e="";const r=e=>Math.atan(e);for(let t=0;t<200;t++){let a=t/200,s=r(20*a)/r(20);e+=(100*a).toFixed(3)+"%{transform:scaleX("+s.toFixed(3)+");}"}const a="@-moz-keyframes progress-bar-animation {"+e+"}@-webkit-keyframes progress-bar-animation {"+e+"}",s=document.createElement("style");s.textContent=a,document.head.appendChild(s)})(),s.createElement("div",{className:`${t.progressBar} ${e.className||""} ${a}`,style:Object.assign({MozAnimation:"progress-bar-animation 120s linear",WebkitAnimation:"progress-bar-animation 120s linear"},e.style)})}),r.ProgressBarRelative.displayName="ProgressBarRelative"}),
(function(e,i,t){e.exports={fileTileBorder:"hub_file_detail_view--fileTileBorder--11I0L resource_tiles--fileTileBorder--34mMP",fileTileBorderSafari:"hub_file_detail_view--fileTileBorderSafari--1vhyY resource_tiles--fileTileBorderSafari--2tP9T resource_tiles--fileTileBorder--34mMP",coverImageContainer:"hub_file_detail_view--coverImageContainer--2IroN detail_view--coverImageContainer--2bH15",coverImage:"hub_file_detail_view--coverImage--2Gz2J undefined",coverImageFull:"hub_file_detail_view--coverImageFull--3_00N hub_file_detail_view--coverImage--2Gz2J undefined",coverImageThumbnail:"hub_file_detail_view--coverImageThumbnail--1xEyi hub_file_detail_view--coverImage--2Gz2J undefined",iframeContainer:"hub_file_detail_view--iframeContainer--236wI",iframeSpinner:"hub_file_detail_view--iframeSpinner--3r7mD undefined",iframeProgressBar:"hub_file_detail_view--iframeProgressBar--3KR6F",thumbnailCanvasSelectionContainer:"hub_file_detail_view--thumbnailCanvasSelectionContainer--GISKi",thumbnailSelection:"hub_file_detail_view--thumbnailSelection--3m46M",canvasSelection:"hub_file_detail_view--canvasSelection--2MHB1 hub_file_detail_view--thumbnailSelection--3m46M",thumbnailSelectionActive:"hub_file_detail_view--thumbnailSelectionActive--3pM02 hub_file_detail_view--thumbnailSelection--3m46M",canvasSelectionActive:"hub_file_detail_view--canvasSelectionActive--3FLFu hub_file_detail_view--canvasSelection--2MHB1 hub_file_detail_view--thumbnailSelection--3m46M",prototypeIcon:"hub_file_detail_view--prototypeIcon--1qR2g",remixesSectionContainer:"hub_file_detail_view--remixesSectionContainer--1N-Ff",remixesSubheaderContainer:"hub_file_detail_view--remixesSubheaderContainer--3BVA2",remixesSeeAllLink:"hub_file_detail_view--remixesSeeAllLink--2Pzva",toggleViewRemixesLink:"hub_file_detail_view--toggleViewRemixesLink--2gd2W text--fontPos13--1DoEt text--_fontBase--YWDo0",remixesGrid:"hub_file_detail_view--remixesGrid--15pTG profile_resources_grid--profileResourcesGridContainer--3LYWT profile_resources_grid--_resourcesGridTemplateColumns--1Xb_O",remixesTilePaddingForMobile:"hub_file_detail_view--remixesTilePaddingForMobile--25xC9",remixesHubFileTileContainer:"hub_file_detail_view--remixesHubFileTileContainer--117IV resource_tiles--profileHubFileTileContainer--313U5 resource_tiles--_tileContainer--1ELkB resource_tiles--_tileBorder--1pPBT",remixOfHubFileName:"hub_file_detail_view--remixOfHubFileName--3sbXG ellipsis--ellipsis--1RWY6 text--fontPos13--1DoEt text--_fontBase--YWDo0",remixOfHubFileCreator:"hub_file_detail_view--remixOfHubFileCreator--2gVbg ellipsis--ellipsis--1RWY6 text--fontPos13--1DoEt text--_fontBase--YWDo0",remixOfHubFileThumbnail:"hub_file_detail_view--remixOfHubFileThumbnail--1pIoN resource_tiles--_tileBorder--1pPBT",remixOfHubFileFullThumbnail:"hub_file_detail_view--remixOfHubFileFullThumbnail--1Dd4P hub_file_detail_view--remixOfHubFileThumbnail--1pIoN resource_tiles--_tileBorder--1pPBT",remixesHubFileTileCoverImage:"hub_file_detail_view--remixesHubFileTileCoverImage--2hXW6 resource_tiles--profileHubFileTileCoverImage--1wnzJ resource_tiles--_tileContent--W3jyI",remixesHubFileTileFullCoverImage:"hub_file_detail_view--remixesHubFileTileFullCoverImage--1k4y- resource_tiles--profileHubFileTileFullCoverImage--O2huJ resource_tiles--profileHubFileTileCoverImage--1wnzJ resource_tiles--_tileContent--W3jyI",remixesHubFileTileNameContainer:"hub_file_detail_view--remixesHubFileTileNameContainer--120_W text--fontPos11--RSei3 text--_fontBase--YWDo0",remixesHubFileTileName:"hub_file_detail_view--remixesHubFileTileName--3HvUA ellipsis--ellipsis--1RWY6",additionalActionsSection:"hub_file_detail_view--additionalActionsSection--6RdQC",additionalActionLink:"hub_file_detail_view--additionalActionLink--2Akoe text--fontPos13--1DoEt text--_fontBase--YWDo0",notFoundContainer:"hub_file_detail_view--notFoundContainer--coBgu detail_view--notFoundContainer--2GdXi text--fontPos14--3UJ36 text--_fontBase--YWDo0",container:"hub_file_detail_view--container--1A0EU detail_view--container--1xl1I detail_view--_container--174wj text--fontPos14--3UJ36 text--_fontBase--YWDo0",containerMobile:"hub_file_detail_view--containerMobile--zmOy5 detail_view--container--1xl1I detail_view--_container--174wj text--fontPos14--3UJ36 text--_fontBase--YWDo0",backLink:"hub_file_detail_view--backLink--HPE-h detail_view--backLink--ISxrI text--fontPos11--RSei3 text--_fontBase--YWDo0",header:"hub_file_detail_view--header--1iX8S detail_view--header--2iBsz",headerLeft:"hub_file_detail_view--headerLeft--3G6dr detail_view--headerLeft--28_8o",headerRight:"hub_file_detail_view--headerRight--1SYsl detail_view--headerRight--2ITwd",name:"hub_file_detail_view--name--24FDb detail_view--name--1XWJN detail_view--_name--qwdCO text--fontPos24--2l6xY text--_fontBase--YWDo0",publisherName:"hub_file_detail_view--publisherName--XhP8I detail_view--publisherName--1JbKL ellipsis--ellipsis--1RWY6",installs:"hub_file_detail_view--installs--3NE5L detail_view--installs--DYvQc",installButton:"hub_file_detail_view--installButton--1yFk3 detail_view--installButton--tmhQw",installButtonContainer:"hub_file_detail_view--installButtonContainer--6Z_Bz detail_view--installButtonContainer--FTo1x",duplicateButton:"hub_file_detail_view--duplicateButton--1ygWL detail_view--resourceActionButton--1rP-H",metadataContainer:"hub_file_detail_view--metadataContainer--2Guyq detail_view--metadataContainer--3lEhI",metadataLeft:"hub_file_detail_view--metadataLeft--hV7CA detail_view--metadataLeft--34y4_",description:"hub_file_detail_view--description--qIQE- detail_view--description--37uhL",metadataRight:"hub_file_detail_view--metadataRight--31edk detail_view--metadataRight--1u8Jj",metadataContainerMobile:"hub_file_detail_view--metadataContainerMobile--36GDZ detail_view--metadataContainerMobile--1U0ev",likesContainer:"hub_file_detail_view--likesContainer--Ow13m detail_view--likesContainer--2oRll",likes:"hub_file_detail_view--likes--1nYNa detail_view--installs--DYvQc",remixGrid:"hub_file_detail_view--remixGrid--3cprC profile_resources_grid--profileResourcesGridContainer--3LYWT profile_resources_grid--_resourcesGridTemplateColumns--1Xb_O",rowReverse:"hub_file_detail_view--rowReverse--3MtR2 detail_view--rowReverse--16-cQ",duplicateRow:"hub_file_detail_view--duplicateRow--2cHVQ undefined",mobileActions:"hub_file_detail_view--mobileActions--1emqD detail_view--mobileActions--2hPe6",subheader:"hub_file_detail_view--subheader--3YLjL detail_view--subheader--1b4Ca",rowContent:"hub_file_detail_view--rowContent--1pIuf",unverifiedView:"hub_file_detail_view--unverifiedView--12m9h",unverifiedText:"hub_file_detail_view--unverifiedText--1tQ2r text--fontPos13--1DoEt text--_fontBase--YWDo0",blockedActionsButton:"hub_file_detail_view--blockedActionsButton--T22z5",blockedActions:"hub_file_detail_view--blockedActions--3yVEf",blockedHelperText:"hub_file_detail_view--blockedHelperText--2QiFT text--fontPos11--RSei3 text--_fontBase--YWDo0"}}),
(function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=s(2,1    ),a=s(43,1         ),r=s(357                  ),o=s(303                             ),l=s(857                                        ),n=s(466                                                        ),m=s(858                         );i.HubFileEmbed=a.connect()(class extends t.Component{constructor(){super(...arguments),this.state={iframeLoaded:!1},this.receiveMessage=(e=>{"INITIAL_LOAD"===e.data.type&&this.setState({iframeLoaded:!0})})}componentDidMount(){window.addEventListener("message",this.receiveMessage)}componentDidUpdate(e){e.hubFile.viewer_mode==this.props.hubFile.viewer_mode&&e.hubFile.scaling_mode==this.props.hubFile.scaling_mode||this.setState({iframeLoaded:!1})}componentWillUnmount(){window.removeEventListener("message",this.receiveMessage)}render(){const e=this.props.hubFile.thumbnail_is_set;return t.createElement("div",{className:`${m.coverImageContainer} ${this.props.className}`},t.createElement("div",{className:m.iframeContainer},!this.state.iframeLoaded&&t.createElement(t.Fragment,null,t.createElement("div",{id:"HubFileEmbedCoverImage",className:e?m.coverImageFull:m.coverImage,style:{backgroundImage:`url(${e&&o.communityHubCanvasToggleEnabled()?this.props.hubFile.redirect_canvas_thumbnail_url:this.props.hubFile.redirect_thumbnail_url})`,backgroundColor:r.fileBackgroundColor(this.props.hubFile.client_meta)}})),t.createElement(l.ProgressBarRelative,{key:`${this.props.hubFile.viewer_mode}_${this.props.hubFile.scaling_mode}_progressBar`,className:m.iframeProgressBar,style:this.state.iframeLoaded?{visibility:"hidden"}:{}}),t.createElement("iframe",{key:`${this.props.hubFile.viewer_mode}_${this.props.hubFile.scaling_mode}`,style:this.state.iframeLoaded?{}:{visibility:"hidden"},src:n.hubFileEmbedPath(this.props.hubFile.id),allowFullScreen:!0})))}})}),
(function(i,n,u){i.exports={unpublishLink:"hub_file_unpublish_link--unpublishLink--1aU9D"}}),
(function(i,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=e(2,1    ),t=e(401                                               ),o=e(43,1         ),l=e(113                                     ),r=e(147                                            ),p=e(860                            ),u=e(154                    );class h extends n.Component{constructor(){super(...arguments),this.unpublish=(()=>{this.props.dispatch(t.unpublishHubFile({hubFileId:this.props.hubFileId,redirectLink:this.props.redirectToAfterUnpublish}))}),this.showUnpublishModal=(()=>{this.props.dispatch(l.fileBrowser.showModal({type:u.CONFIRMATION_MODAL,data:{confirmationTitle:"Remove file from Community Hub",content:"Unpublishing this file will remove it from the Community Hub and prevent people from finding and using this file",confirmText:"Unpublish",cancelText:"Cancel",onConfirm:this.unpublish,destructive:!0,dispatch:this.props.dispatch}}))})}render(){return n.createElement(r.Link,{className:this.props.className?this.props.className:p.unpublishLink,onClick:this.showUnpublishModal},"Unpublish")}}h.displayName="HubFileUnpublishLink",s.HubFileUnpublishLink=o.connect()(h)}),
(function(t,o,n){t.exports={caretButton:"button_split--caretButton--mvcr9",loadingSpacer:"button_split--loadingSpacer--2NMoR"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(2,1    ),l=n(43,1         ),i=n(123         ),u=n(533                                 ),o=n(401                                               ),c=n(563                                          ),s=n(271                                        ),d=n(862                 );t.DuplicateButton=l.connect((e,t)=>({duplicateCount:e.hubFiles[t.hubFileId].duplicate_count,loadingState:e.loadingState,currentUser:e.user||null}))(e=>{const t=l.useDispatch(),[n,r]=a.useState(!1);a.useEffect(()=>{n&&u.hasResolved(e.loadingState,(()=>o.duplicateHubFile.loadingKeyForPayload({hubFileId:e.hubFileId}))())&&r(!1)},[e.loadingState,e.hubFileId,n]);return a.createElement(c.ButtonSplitNoDropdown,{onClick:()=>{e.currentUser?(r(!0),t(o.duplicateHubFile({hubFileId:e.hubFileId}))):e.loggedOutAction()},isSelected:!1,caretButtonText:i.prettyRound(e.duplicateCount),caretButtonClassName:d.caretButton,disabled:n},n?a.createElement(s.LoadingSpinner,{className:d.loadingSpacer}):a.createElement(a.Fragment,null,"↓ Duplicate"))})}),
(function(l,o,e){l.exports={src:'<svg width="288" height="200" viewBox="0 0 288 200" xmlns="http://www.w3.org/2000/svg"><path d="M92 34h63.636L192 71.143V164H92V34z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M90.5 32.5h65.767L193.5 70.53v94.97h-103v-133zm3 3v127h97V72.643h-36.364V35.5H93.5zm63.636 2.176l31.296 31.967h-31.296V37.676z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/><path d="M127 95.18c0-1.757 1.424-3.18 3.18-3.18 1.756 0 3.18 1.423 3.18 3.18 0 1.756-1.424 3.179-3.18 3.179-1.756 0-3.18-1.423-3.18-3.18zm22.501 0c0-1.757 1.424-3.18 3.18-3.18 1.756 0 3.18 1.423 3.18 3.18 0 1.756-1.424 3.179-3.18 3.179-1.756 0-3.18-1.423-3.18-3.18z" fill-rule="nonzero" fill-opacity="1" fill="#bbb" stroke="none"/><path d="M129.092 104.912v1.5c0 6.903 5.596 12.5 12.5 12.5 6.904 0 12.5-5.597 12.5-12.5v-1.5h3v1.5c0 8.56-6.94 15.5-15.5 15.5-8.56 0-15.5-6.94-15.5-15.5v-1.5h3z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="288" height="200" viewBox="0 0 288 200" xmlns="http://www.w3.org/2000/svg"><path d="M92 34h63.636L192 71.143V164H92V34z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M90.5 32.5h65.767L193.5 70.53v94.97h-103v-133zm3 3v127h97V72.643h-36.364V35.5H93.5zm63.636 2.176l31.296 31.967h-31.296V37.676z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/><path d="M127 95.18c0-1.757 1.424-3.18 3.18-3.18 1.756 0 3.18 1.423 3.18 3.18 0 1.756-1.424 3.179-3.18 3.179-1.756 0-3.18-1.423-3.18-3.18zm22.501 0c0-1.757 1.424-3.18 3.18-3.18 1.756 0 3.18 1.423 3.18 3.18 0 1.756-1.424 3.179-3.18 3.179-1.756 0-3.18-1.423-3.18-3.18z" fill-rule="nonzero" fill-opacity="1" fill="#bbb" stroke="none"/><path d="M129.092 121.912v-1.5c0-6.904 5.596-12.5 12.5-12.5 6.904 0 12.5 5.596 12.5 12.5v1.5h3v-1.5c0-8.561-6.94-15.5-15.5-15.5-8.56 0-15.5 6.939-15.5 15.5v1.5h3z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/></svg>'}}),
(function(v,h,l){v.exports={src:'<svg width="288" height="200" viewBox="0 0 288 200" xmlns="http://www.w3.org/2000/svg"><path d="M25 118.034h44.84v18.455h13.622v-18.455h12.514v-12.088H83.462V42H65.868L25 106.5v11.534zm44.931-12.088h-29.97v-.738l29.232-46.23h.739v46.968zM144.995 158c21.843 0 34.634-17.809 34.634-48.767 0-30.727-12.976-48.583-34.634-48.583-21.704 0-34.633 17.81-34.68 48.583 0 30.912 12.792 48.721 34.68 48.767zm0-12.319c-4.571 0-8.497-1.614-11.637-4.798l27.984-56.057c2.679 6.044 4.11 14.257 4.11 24.407 0 23.622-7.712 36.448-20.457 36.448zm11.36-68.329l-27.845 56.057c-2.633-5.998-4.018-14.118-4.018-24.176.046-23.53 7.758-36.495 20.503-36.495 4.433 0 8.266 1.57 11.36 4.614zm35.67 40.682h44.839v18.455h13.623v-18.455H263v-12.088h-12.514V42h-17.594l-40.868 64.5v11.534zm44.931-12.088h-29.969v-.738l29.231-46.23h.738v46.968z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M22 121.034v-15.405L64.217 39h22.245v63.946h12.514v18.088H86.462v18.455H66.839v-18.455H22zM65.868 42h17.594v63.946h12.514v12.088H83.462v18.455H69.839v-18.455H25V106.5L65.868 42zm79.126 119h-.006c-11.87-.025-21.465-4.924-27.985-14.067-6.426-9.014-9.689-21.89-9.689-37.7v-.005c.024-15.748 3.337-28.588 9.781-37.575 6.534-9.11 16.114-14.003 27.899-14.003 11.767 0 21.346 4.907 27.877 14.021 6.444 8.992 9.757 21.833 9.757 37.562 0 15.832-3.262 28.72-9.683 37.733-6.514 9.145-16.1 14.034-27.951 14.034zm44.03-39.966v-15.405L231.241 39h22.245v63.946H266v18.088h-12.514v18.455h-19.623v-18.455h-44.839zM232.892 42h17.594v63.946H263v12.088h-12.514v18.455h-13.623v-18.455h-44.839V106.5L232.892 42zm-187.95 60.946h21.99V68.168l-21.99 34.778zm-4.98 3v-.738l29.23-46.23h.74v46.968h-29.97zm70.352 3.287c0 30.912 12.792 48.721 34.68 48.767 21.843 0 34.634-17.809 34.634-48.767 0-30.727-12.976-48.583-34.634-48.583-21.704 0-34.633 17.81-34.68 48.583zm26.758 30.925c2.245 1.678 4.876 2.523 7.922 2.523 5.149 0 9.34-2.494 12.404-7.854 3.155-5.519 5.053-14.036 5.053-25.594 0-6.434-.591-11.959-1.676-16.555l-23.703 47.48zm-3.715.725c3.14 3.184 7.066 4.798 11.637 4.798 12.745 0 20.457-12.826 20.457-36.448 0-8.146-.922-15.043-2.67-20.574-.43-1.36-.911-2.639-1.44-3.833l-27.984 56.057zm22.997-63.53c-3.094-3.046-6.927-4.615-11.36-4.615-12.745 0-20.457 12.965-20.503 36.495 0 8.042.886 14.844 2.586 20.314.426 1.372.904 2.659 1.432 3.862l27.845-56.057zm-27.262 48.138l23.534-47.376c-2.188-1.577-4.726-2.377-7.632-2.377-5.136 0-9.331 2.517-12.408 7.91-3.163 5.546-5.072 14.078-5.095 25.587 0 6.313.562 11.734 1.601 16.256zm82.873-22.545h21.99V68.168l-21.99 34.778zm-4.979 3v-.738l29.231-46.23h.738v46.968h-29.969z" fill-rule="evenodd" fill-opacity="1" fill="#bbb" stroke="none"/></svg>'}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const l=t(2,1    ),s=t(43,1         ),a=t(112          ),n=t(279                             ),r=t(111          ),o=t(102              ),u=t(211              ),c=t(129           ),h=t(357                  ),m=t(303                             ),p=t(466                            ),d=t(466                            ),b=t(360                     ),F=t(748           ),g=t(533                                 ),k=t(123         ),f=t(468                                        ),_=t(138      ),v=t(87      ),C=t(401                                               ),E=t(113                                     ),w=t(114                              ),T=t(398               ),y=t(685                                 ),x=t(146                        ),I=t(301                        ),N=t(262                                     ),S=t(137                                    ),H=t(830                                                  ),L=t(853                          ),R=t(415                          ),B=t(574                                            ),O=t(565                                               ),V=t(588                                     ),A=t(302                                ),P=t(855                ),M=t(846                                        ),U=t(859                                           ),D=t(147                                            ),K=t(861                                                    ),$=t(147                                            ),z=t(863                                             ),Y=t(154                    ),q=t(304                          ),G=t(567                                   ),W=t(858                         ),j={name:"CC BY 4.0",url:"https://creativecommons.org/licenses/by/4.0/"},Q=t(584                                     ),J=t(864                                              ),X=t(865                                          ),Z=t(866                                       ),ee=t(587                                                  ),ie=t(586                                             );class te extends l.PureComponent{constructor(){super(...arguments),this.state={iframeLoaded:!1,viewingThumbnail:null},this.loggedOutAction=((e,i,t)=>{c.isMobileBrowser?window.location.href="/login":(this.props.dispatch(T.authActions.init({origin:i})),this.props.dispatch(w.showModal({type:G.LOGGED_OUT_COMMUNITY_ACTION_MODAL,data:{headerText:e,icon:t,dispatch:this.props.dispatch}})))}),this.duplicateLoggedOut=(()=>{this.loggedOutAction("Duplicate this file to see how it was made (and use it)","hub_file_duplicate_signed_out",ee)}),this.duplicate=(()=>{this.props.currentUser?this.props.dispatch(C.duplicateHubFile({hubFileId:this.props.hubFileId})):this.duplicateLoggedOut()}),this.unlike=(()=>{var e;this.props.currentUser&&(this.props.dispatch(C.unlikeHubFile({hubFileId:this.props.hubFile.id})),r.segment.track("Hub File Like Action",{likeStatus:!1,hubFileId:this.props.hubFile.id,userId:(null===(e=this.props.currentUser)||void 0===e?void 0:e.id)||"",profileId:this.props.hubFile.publisher.id}))}),this.like=(()=>{var e;if(this.props.currentUser)this.props.dispatch(C.likeHubFile({hubFileId:this.props.hubFile.id})),r.segment.track("Hub File Like Action",{likeStatus:!0,hubFileId:this.props.hubFile.id,userId:(null===(e=this.props.currentUser)||void 0===e?void 0:e.id)||"",profileId:this.props.hubFile.publisher.id});else{const e="Like this file to show your appreciation (and save it)";this.loggedOutAction(e,"hub_file_like_signed_out",ie)}}),this.viewThumbnail=(()=>{this.setState({viewingThumbnail:!0})}),this.viewCanvas=(()=>{this.setState({viewingThumbnail:!1})}),this.isLoadingVersions=(()=>g.isLoading(this.props.loadingState,C.getHubFileVersions.loadingKeyForPayload({hubFileId:this.props.hubFileId}))),this.onShareLinkClick=(()=>{const e=b.getHubFileVersion(this.props.hubFile);o.copyText(d.hubFileShareURL(this.props.hubFile.id,e.name)).then(()=>{this.props.dispatch(n.visualBellActions.enqueue({message:N.defaultStringsRaw["link-copied"]}))}),r.segment.track("Hub Share Link Click",{link:"url",hubFileId:this.props.hubFile.id})}),this.onFacebookShareClick=(()=>{r.segment.track("Hub Share Link Click",{link:"facebook",hubFileId:this.props.hubFile.id})}),this.onTwitterShareClick=(()=>{r.segment.track("Hub Share Link Click",{link:"twitter",hubFileId:this.props.hubFile.id})})}componentDidMount(){this.fetchHubFile(),this.props.hubFile.realtime_token&&this.props.dispatch(y.realtime.subscribe(F.parseRealtimeToken(this.props.hubFile.realtime_token))),this.props.dispatch(C.viewHubFile({hubFileId:this.props.hubFileId}))}componentWillUnmount(){this.props.hubFile.realtime_token&&this.props.dispatch(y.realtime.unsubscribe(F.parseRealtimeToken(this.props.hubFile.realtime_token).channel))}fetchHubFile(){this.props.dispatch(C.getHubFileVersions({hubFileId:this.props.hubFileId}))}backLinkClick(){history.go(-1)}render(){if(m.communityHubImageVerificationEnabled()){if(this.props.hubFile.verification_status===I.VerificationStatus.unverified)return l.createElement(S.TrackingContext,{name:"Hub File",properties:{hubFileId:this.props.hubFileId}},l.createElement("div",{className:W.unverifiedView},l.createElement(x.Svg,{svg:J,useOriginalSrcFills:!0}),l.createElement("div",{className:W.unverifiedText},"This community file will be available shortly.")));if(this.props.hubFile.verification_status===I.VerificationStatus.blocked){if(this.props.currentUser&&this.props.currentUser.community_profile_id===this.props.hubFile.publisher.id)return l.createElement(S.TrackingContext,{name:"Hub File",properties:{hubFileId:this.props.hubFileId}},l.createElement("div",{className:W.unverifiedView},l.createElement(x.Svg,{svg:X,useOriginalSrcFills:!0}),l.createElement("div",{className:W.unverifiedText},"Uh-oh, we ran into an issue with your file."),l.createElement("div",{className:W.blockedActions},l.createElement(D.ButtonPrimary,{className:W.blockedActionsButton,onClick:()=>a.unsafeRedirect("https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines")},"Learn More...")),l.createElement("div",{className:W.blockedHelperText},"We can help. Please send us your file so we can troubleshoot the issue.")));const e=()=>{this.props.dispatch(E.fileBrowser.selectView({view:"communityHub",subView:"landing"}))};return l.createElement(S.TrackingContext,{name:H.TrackedContext.COMMUNITY_HUB_FILE,properties:{hubFileId:this.props.hubFileId}},l.createElement("div",{className:W.unverifiedView},l.createElement(x.Svg,{svg:Z,useOriginalSrcFills:!0}),l.createElement("div",{className:W.unverifiedText},"Uh oh, the page you’re looking for isn’t here."),l.createElement("div",{className:W.blockedHelperText},"Check out what else is happening in Figma Community."),l.createElement(D.ButtonWhite,{onClick:e},"Show me")))}}const e=b.getHubFileVersion(this.props.hubFile);if(this.isLoadingVersions())return l.createElement(S.TrackingContext,{name:H.TrackedContext.COMMUNITY_HUB_FILE,properties:{hubFileId:this.props.hubFileId}},l.createElement(L.HubLoadingView,{hasIcon:!1,ctaPlaceholderText:"Duplicate",name:e.name}));if(!e.id)return l.createElement("div",{className:W.notFoundContainer},"File not found");const t=this.props.hubFile.current_user_liked,s=null===this.state.viewingThumbnail?!(!m.communityHubCanvasToggleEnabled()||!this.props.hubFile.thumbnail_is_set):this.state.viewingThumbnail;return l.createElement(S.TrackingContext,{name:H.TrackedContext.COMMUNITY_HUB_FILE,properties:{hubFileId:this.props.hubFileId}},l.createElement("div",{className:W.container},u.desktopApp&&!m.communityHubBrowsingEnabled()&&l.createElement("a",{onClick:this.backLinkClick,className:W.backLink},"<- Back"),l.createElement(R.MediaQuery,{query:`(min-width: ${L.desktopBreakpoint}px)`},l.createElement("div",{className:W.header},l.createElement("div",{className:W.headerLeft},l.createElement("h1",{className:W.name},e.name)),l.createElement("div",{className:W.headerRight},l.createElement("div",{className:W.likesContainer},m.communityHubBrowsingEnabled()?l.createElement(M.LikeButtonTracked,{resourceType:"hub_file",hubFileId:this.props.hubFileId,innerText:"Hub File Like",trackingProperties:{action:t?"unlike":"like",hubFileId:this.props.hubFile.id,profileId:this.props.hubFile.publisher.id}}):l.createElement(l.Fragment,null,l.createElement(P.LikeButtonTracked__OLD,{innerText:"Hub File Like",hasLiked:t,onClick:t?this.unlike:this.like,trackingProperties:{action:t?"unlike":"like",hubFileId:this.props.hubFile.id,profileId:this.props.hubFile.publisher.id}}),l.createElement(B.RoundedCount,{className:W.likes,count:this.props.hubFile.like_count}))),l.createElement("div",{className:W.rowReverse},m.communityHubBrowsingEnabled()?l.createElement(z.DuplicateButton,{hubFileId:this.props.hubFileId,loggedOutAction:this.duplicateLoggedOut}):l.createElement(l.Fragment,null,l.createElement(B.RoundedCount,{className:W.installs,count:this.props.hubFile.duplicate_count}),l.createElement("div",{className:W.installButton},l.createElement(O.ButtonSplitNoDropdown__OLD,{onClick:this.duplicate,className:W.installButton,buttonClassName:W.duplicateButton},"Duplicate")))))),s?l.createElement("div",{className:`${W.coverImageContainer} ${W.coverImageThumbnail}`,style:{backgroundImage:`url(${this.props.hubFile.redirect_thumbnail_url})`,backgroundColor:h.fileBackgroundColor(this.props.hubFile.client_meta)}}):l.createElement(U.HubFileEmbed,{hubFile:this.props.hubFile}),l.createElement("div",{className:W.metadataContainer},l.createElement("div",{className:W.metadataLeft},this.props.hubFile.thumbnail_is_set&&m.communityHubCanvasToggleEnabled()&&l.createElement(i.ThumbnailCanvasSelection,{hubFile:this.props.hubFile,onCanvasSelection:this.viewCanvas,onThumbnailSelection:this.viewThumbnail,viewingThumbnail:s,isPrototype:this.props.hubFile.viewer_mode===I.ViewerModeToPublishAs.PROTOTYPE}),l.createElement("div",{className:W.description},e.description),l.createElement(ce,{hubFile:this.props.hubFile})),l.createElement("div",{className:W.metadataRight},l.createElement(L.CommunityBetaPromoBannerSection,null),l.createElement(L.PublisherMetadataSection,{publisher:this.props.hubFile}),l.createElement(L.TagsMetadataSection,{tags:this.props.hubFile.tags,tab:A.CommunityHubLandingTab.FILES}),l.createElement(se,{hubFileId:this.props.hubFileId}),l.createElement(L.SharingMetadataSection,{twitterUrl:p.hubFileTwitterShareURL(this.props.hubFile),twitterOnClick:this.onTwitterShareClick,facebookUrl:p.hubFileFacebookShareURL(this.props.hubFile.id),facebookOnClick:this.onFacebookShareClick,onShareLinkClick:this.onShareLinkClick}),l.createElement(L.DetailsMetadataSection,{license:j,updatedAt:e.created_at}),l.createElement(oe,{hubFile:this.props.hubFile,fileKey:this.props.fileKey})))),l.createElement(R.MediaQuery,{query:`(max-width: ${L.desktopBreakpoint-1}px)`,defaultClass:W.metadataContainerMobile},l.createElement("div",{className:W.coverImageContainer,style:{backgroundColor:h.fileBackgroundColor(this.props.hubFile.client_meta)}},l.createElement("img",{className:this.props.hubFile.thumbnail_is_set?W.coverImageThumbnail:W.coverImage,src:this.props.hubFile.redirect_thumbnail_url,alt:e.name})),l.createElement("div",{className:W.containerMobile},l.createElement("div",{className:W.header},l.createElement("h1",{className:W.name},e.name)),e.description&&l.createElement("div",{className:W.description},e.description),l.createElement("div",{className:W.mobileActions},m.communityHubBrowsingEnabled()?l.createElement(l.Fragment,null,l.createElement("div",{className:W.likesContainer},l.createElement(M.LikeButtonTracked,{resourceType:"hub_file",hubFileId:this.props.hubFileId,innerText:"Hub File Like",trackingProperties:{action:t?"unlike":"like",hubFileId:this.props.hubFile.id,profileId:this.props.hubFile.publisher.id}})),l.createElement(z.DuplicateButton,{hubFileId:this.props.hubFileId,loggedOutAction:this.duplicateLoggedOut})):l.createElement(l.Fragment,null,l.createElement("div",{className:W.likesContainer},l.createElement(P.LikeButtonTracked__OLD,{innerText:"Hub File Like",hasLiked:t,onClick:t?this.unlike:this.like,trackingProperties:{action:t?"unlike":"like",hubFileId:this.props.hubFile.id,profileId:this.props.hubFile.publisher.id}}),l.createElement(B.RoundedCount,{className:W.likes,count:this.props.hubFile.like_count})),l.createElement("div",{className:W.rowReverse},l.createElement(B.RoundedCount,{className:W.installs,count:this.props.hubFile.duplicate_count}),l.createElement("div",{className:W.installButton},l.createElement(O.ButtonSplitNoDropdown__OLD,{onClick:this.duplicate,buttonClassName:W.duplicateButton},"Duplicate"))))),l.createElement(L.CommunityBetaPromoBannerSection,null),l.createElement(L.PublisherMetadataSection,{publisher:this.props.hubFile}),l.createElement(L.TagsMetadataSection,{tags:this.props.hubFile.tags,tab:A.CommunityHubLandingTab.FILES}),l.createElement(se,{hubFileId:this.props.hubFileId}),l.createElement(ce,{hubFile:this.props.hubFile}),l.createElement(L.SharingMetadataSection,{twitterUrl:p.hubFileTwitterShareURL(this.props.hubFile),twitterOnClick:this.onTwitterShareClick,facebookUrl:p.hubFileFacebookShareURL(this.props.hubFile.id),facebookOnClick:this.onFacebookShareClick,onShareLinkClick:this.onShareLinkClick}),l.createElement(L.DetailsMetadataSection,{license:j,updatedAt:e.created_at}),l.createElement(oe,{hubFile:this.props.hubFile,fileKey:this.props.fileKey})))))}}te.displayName="HubFileDetailView";var le;i.HubFileDetailView=s.connect((e,i)=>{const t=b.getHubFileById(i.hubFileId,e.hubFiles),l=Object.keys(e.figFilePublishedAsHubFile).find(i=>e.figFilePublishedAsHubFile[i]===t.id)||null;return{hubFile:t,loadingState:e.loadingState,currentUser:e.user||null,fileKey:l}})(te),i.ThumbnailCanvasSelection=(e=>l.createElement("div",{className:W.thumbnailCanvasSelectionContainer},l.createElement(S.DivTrackable,{className:e.viewingThumbnail?W.thumbnailSelectionActive:W.thumbnailSelection,style:{backgroundImage:`url(${e.hubFile.redirect_thumbnail_url})`},onClick:e.onThumbnailSelection,innerText:"Hub File View Thumbnail"}),l.createElement(S.DivTrackable,{className:e.viewingThumbnail?W.canvasSelection:W.canvasSelectionActive,style:{backgroundImage:`url(${e.hubFile.redirect_canvas_thumbnail_url})`},onClick:e.onCanvasSelection,innerText:"Hub File View Canvas"},e.isPrototype&&l.createElement(x.Svg,{className:W.prototypeIcon,svg:Q,autosize:!0,useOriginalSrcFills:!0})))),function(e){e.ConnectedRemixOfView=s.connect(e=>({hubFiles:e.hubFiles,hubFileRemixes:e.hubFileRemixes}),e=>({onClick:i=>{e(E.fileBrowser.selectView({view:"communityHub",subView:"hubFile",hubFileId:i}))}}))(class extends l.PureComponent{constructor(){super(...arguments),this.onClick=(()=>{const e=this.props.hubFileRemixes[this.props.hubFileId];(null==e?void 0:e.from)&&this.props.onClick(e.from)})}render(){const e=this.props.hubFileRemixes[this.props.hubFileId];if(!(null==e?void 0:e.from))return null;const i=this.props.hubFiles[e.from];if(!i||i.hide_remixes)return null;const t=b.getHubFileVersion(i);return l.createElement(L.MetadataSection,{title:"Remix of..."},l.createElement(S.TrackingContext,{name:"Remix of",properties:{remixedFromId:i.id}},l.createElement(S.DivTrackable,{className:W.remixOfHubFileName,onClick:this.onClick},t.name),l.createElement(S.DivTrackable,{className:W.remixOfHubFileCreator,onClick:this.onClick},"by ",q.getPublisherDisplayString(i)),l.createElement(S.DivTrackable,{className:i.thumbnail_is_set?W.remixOfHubFileFullThumbnail:W.remixOfHubFileThumbnail,onClick:this.onClick,style:{backgroundImage:`url(${i.redirect_thumbnail_url})`,backgroundColor:h.fileBackgroundColor(i.client_meta)}},l.createElement("div",{className:v.safari||v.mobile?W.fileTileBorderSafari:W.fileTileBorder,onClick:()=>!0}))))}})}(le||(le={}));const se=le.ConnectedRemixOfView;var ae;!function(e){e.ConnectedRemixesViewHubFileTile=s.connect()(class extends l.PureComponent{constructor(){super(...arguments),this.onClick=_.withDefaultOpenBehavior(e=>{e.preventDefault(),this.props.dispatch(E.fileBrowser.selectView({view:"communityHub",subView:"hubFile",hubFileId:this.props.hubFile.id}))})}render(){return l.createElement(S.ATrackable,{className:W.remixesHubFileTileContainer,style:{backgroundColor:h.fileBackgroundColor(this.props.hubFile.client_meta)},onClick:this.onClick,href:p.hubFilePath(this.props.hubFile.id),trackingProperties:{remixedToId:this.props.hubFile.id}},l.createElement("div",{className:v.safari||v.mobile?W.fileTileBorderSafari:W.fileTileBorder,onClick:()=>!0}),l.createElement("div",{className:this.props.hubFile.thumbnail_is_set?W.remixesHubFileTileFullCoverImage:W.remixesHubFileTileCoverImage,style:{backgroundImage:`url(${this.props.hubFile.redirect_thumbnail_url})`}}),!c.isMobileBrowser&&l.createElement("div",{className:W.remixesHubFileTileNameContainer},l.createElement("span",{className:W.remixesHubFileTileName},b.getHubFileVersion(this.props.hubFile).name)))}})}(ae||(ae={}));const ne=ae.ConnectedRemixesViewHubFileTile;var re;!function(e){e.ConnectedHubFileAdditionalActions=s.connect((e,i)=>({user:e.user,profileRedirectLink:p.profilePath(i.hubFile.publisher.profile_handle),hubFileId:i.fileKey?e.figFilePublishedAsHubFile[i.fileKey]:null,figFile:i.fileKey?e.fileByKey[i.fileKey]:null}))(class extends l.PureComponent{constructor(){super(...arguments),this.editInfo=(()=>{this.props.fileKey&&this.props.dispatch(C.showPublishHubFileModal({fileKey:this.props.fileKey,isEditHubFilePageMode:!0}))})}render(){return this.props.user&&this.props.hubFile.creator.id===this.props.user.id?l.createElement("div",{className:W.additionalActionsSection},this.props.fileKey&&m.communityHubPublishingEnabled()&&l.createElement(l.Fragment,null,!c.isMobileBrowser&&this.props.figFile&&l.createElement($.Link,{className:W.additionalActionLink,onClick:this.editInfo},"Edit this page"),l.createElement($.LinkTracked,{className:W.additionalActionLink,target:"_blank",href:`/file/${this.props.fileKey}`},"Open original file")),this.props.hubFileId&&l.createElement(K.HubFileUnpublishLink,{className:W.additionalActionLink,hubFileId:this.props.hubFileId,redirectToAfterUnpublish:this.props.profileRedirectLink})):l.createElement(L.ReportResourceLink,{hubFile:this.props.hubFile})}})}(re||(re={}));const oe=re.ConnectedHubFileAdditionalActions;var ue;!function(e){const i=S.asTrackedClickable(e=>l.createElement("a",{onClick:e.onClick,href:e.href,className:W.remixesSeeAllLink},"See All"));e.ConnectedRemixesView=s.connect((e,i)=>{var t;return{hubFiles:e.hubFiles,hubFileRemixes:e.hubFileRemixes,currentUserIsAuthor:i.hubFile.publisher.id===(null===(t=e.user)||void 0===t?void 0:t.community_profile_id),href:f.selectedViewToPath(e,{view:"communityHub",subView:"remixes",hubFileId:i.hubFile.id})}},(e,i)=>({onSeeAllClick:_.withDefaultOpenBehavior(t=>{t.preventDefault(),e(E.fileBrowser.selectView({view:"communityHub",subView:"remixes",hubFileId:i.hubFile.id}))})}))(e=>{const t=e.hubFileRemixes[e.hubFile.id],s=!t||t.to.size<1,a=!e.currentUserIsAuthor&&e.hubFile.hide_remixes;if(s||a)return null;const n=Array.from(t.to).map(i=>e.hubFiles[i]).filter(Boolean).slice(0,12);return l.createElement(l.Fragment,null,l.createElement("div",{className:W.remixesSectionContainer},!e.hubFile.hide_remixes&&l.createElement(l.Fragment,null,l.createElement("div",{className:W.remixesSubheaderContainer},l.createElement("div",{className:W.subheader},k.pluralize(t.to.size,"Remix","Remixes")),l.createElement(i,{onClick:e.onSeeAllClick,href:e.href})),l.createElement("div",{className:W.remixesGrid},l.createElement("div",{className:W.remixesTilePaddingForMobile}),n.map(e=>l.createElement(ne,{hubFile:e,key:e.id})),l.createElement(V.EmptyResourceTilesForPadding,{numResources:n.length}),l.createElement("div",{className:W.remixesTilePaddingForMobile}))),e.currentUserIsAuthor&&l.createElement(me,{hubFile:e.hubFile})))})}(ue||(ue={}));const ce=ue.ConnectedRemixesView;var he;!function(e){e.ConnectedToggleViewRemixesLink=s.connect()(class extends l.PureComponent{constructor(){super(...arguments),this.setViewRemixes=(e=>{this.props.dispatch(C.updateHubFile({payload:{hubFileId:this.props.hubFile.id,hideRemixes:e}}))}),this.handleToggleClick=(()=>{this.props.hubFile.hide_remixes?this.setViewRemixes(!1):this.props.dispatch(E.fileBrowser.showModal({type:Y.CONFIRMATION_MODAL,data:{confirmationTitle:"Hide remixes for this file",content:"This will hide the remixes section on your file page and remove automatic attribution from any remix of your file. You can undo this at any time.",confirmText:"Hide",cancelText:"Cancel",onConfirm:()=>this.setViewRemixes(!0),dispatch:this.props.dispatch}}))})}render(){const e=this.props.hubFile.hide_remixes?"Show remixes":"Hide remixes";return l.createElement($.Link,{className:W.toggleViewRemixesLink,onClick:this.handleToggleClick},e)}})}(he||(he={}));const me=he.ConnectedToggleViewRemixesLink;var pe;!function(e){e.ConnectedRemixesLink=s.connect((e,i)=>{var t;return{hubFiles:e.hubFiles,hubFileRemixes:e.hubFileRemixes,currentUserIsAuthor:i.hubFile.publisher.id===(null===(t=e.user)||void 0===t?void 0:t.community_profile_id),href:f.selectedViewToPath(e,{view:"communityHub",subView:"remixes",hubFileId:i.hubFile.id})}},(e,i)=>({onSeeAllClick:_.withDefaultOpenBehavior(t=>{t.preventDefault(),e(E.fileBrowser.selectView({view:"communityHub",subView:"remixes",hubFileId:i.hubFile.id}))})}))(e=>{const i=e.hubFileRemixes[e.hubFile.id];return!i||i.to.size-1<1||e.hubFile.hide_remixes?null:l.createElement($.Link,{className:W.rowContent,onClick:e.onSeeAllClick},"View ",k.pluralize(i.to.size-1,"other Remix","other Remixes"))})}(pe||(pe={})),i.RemixesLink=pe.ConnectedRemixesLink}),
(function(c,l,t){c.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.79 11.934C12.532 13.784 10.408 15 8 15c-3.866 0-7-3.134-7-7 0-.618.08-1.218.23-1.789l1.805.677c.172.065.272.244.236.425l-.376 1.881c-.036.177.06.355.228.422l2.022.809c.117.047.203.15.228.274l.438 2.19c.015.072.05.139.103.191l.537.537c.185.185.498.129.606-.11l2.09-4.597c.097-.213-.023-.462-.25-.52l-1.463-.365c-.066-.016-.126-.05-.174-.098L5.943 6.61c-.07-.07-.166-.11-.265-.11H4.565c-.142 0-.272-.08-.335-.207l-.71-1.42c-.1-.2-.005-.441.203-.52L7.01 3.122c.183-.068.283-.266.23-.454l-.444-1.552-.004-.011C7.184 1.036 7.588 1 8 1c.21 0 .418.01.624.027-.003.013-.006.027-.007.04l-.084.67c-.02.157.062.31.204.382l.6.3c.103.051.223.053.327.004l1.3-.606c.053-.025.097-.059.13-.098 1.043.515 1.94 1.282 2.61 2.222l-2.062-.413c-.091-.018-.186-.001-.266.047L9.298 4.82c-.168.101-.23.314-.143.49l1.241 2.482c.064.127.194.207.336.207h1.652c.167 0 .314.111.36.272l1.047 3.662zM16 8c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(c,t,e){c.exports={src:'<svg width="18" height="15" viewBox="0 0 18 15" xmlns="http://www.w3.org/2000/svg"><path d="M16.29 14L9 1.04 1.71 14h14.58zM9.872.55c-.383-.68-1.361-.68-1.743 0L.839 13.51C.462 14.176.944 15 1.71 15h14.58c.765 0 1.247-.824.872-1.49L9.872.55zM9 4.972c.414 0 .75.336.75.75v2.53c0 .414-.336.75-.75.75-.414 0-.75-.336-.75-.75v-2.53c0-.414.336-.75.75-.75zm1 6.527c0-.552-.448-1-1-1-.552 0-1 .448-1 1v.069c0 .552.448 1 1 1 .552 0 1-.448 1-1V11.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=t(2,1    ),l=t(43,1         ),r=t(357                  ),a=t(209                ),n=t(359                                             ),o=t(125                        ),u=t(138      ),h=t(360                     ),m=t(304                          ),p=t(466                            ),c=t(401                                               ),d=t(113                                     ),b=t(468                                        ),g=t(147                                            ),F=t(301                        ),f=t(492                                  ),v=t(146                        ),_=t(588                        ),y=t(154                    ),H=t(867                     ),P=t(572                ),w=t(583                            ),E=t(826                                                ),x=t(160                                  ),C=t(868                                       ),k=t(869                                   );class N extends s.Component{constructor(e){super(e),this.publish=(()=>{this.props.editingFile&&(this.setState({publishing:!0}),this.props.dispatch(c.showPublishHubFileModal({fileKey:this.props.editingFile.key,thumbnailBuffer:this.state.thumbnail.buffer,thumbnailUrl:this.state.thumbnail.url})))}),this.unpublish=(()=>{this.props.editingHubFile&&this.props.dispatch(c.unpublishHubFile({hubFileId:this.props.editingHubFile.id}))}),this.onHubFileClick=u.withDefaultOpenBehavior(e=>{e.preventDefault(),e.stopPropagation(),this.props.editingHubFile&&this.props.dispatch(d.fileBrowser.selectView({view:"communityHub",subView:"hubFile",hubFileId:this.props.editingHubFile.id}))}),this.showUnpublishModal=(()=>{this.props.dispatch(d.fileBrowser.showModal({type:y.CONFIRMATION_MODAL,data:{confirmationTitle:"Remove file from Community Hub",content:"Unpublishing this file will remove it from the Community Hub and prevent people from finding and using this file",confirmText:"Unpublish",cancelText:"Cancel",onConfirm:this.unpublish,destructive:!0,dispatch:this.props.dispatch}}))}),this.state={thumbnail:{url:"",buffer:null},publishing:!1}}componentWillUnmount(){this.state.thumbnail&&!this.state.publishing&&URL.revokeObjectURL(this.state.thumbnail.url)}fetchRemixedFromHubFile(){this.props.remixedFrom&&this.props.dispatch(c.getHubFileVersions({hubFileId:this.props.remixedFrom.id}))}componentDidMount(){this.fetchThumbnailUrl(),this.fetchRemixedFromHubFile()}fetchThumbnailUrl(){let e=null;this.props.editingFile.thumbnail_guid&&(e=h.getThumbnailBufferForHubFile(this.props.editingFile.thumbnail_guid)),e&&0!==e.length||(e=h.getThumbnailBufferForHubFile(this.props.firstPageId));const i=URL.createObjectURL(new Blob([e||""]));this.setState({thumbnail:{url:i,buffer:e}})}renderFooterLink(){if(this.props.remixedFrom){const e=this.props.remixedFrom,i=e&&this.props.hubFileRemixes[null==e?void 0:e.id];if(i&&i.to.size-1>1)return s.createElement(H.RemixesLink,{hubFile:e})}return s.createElement(g.Link,{href:this.props.hubFileHref,onClick:this.onHubFileClick,className:E.rowContent},"View Community page")}renderPublishInfoFooter(){const e=this.props.editingHubFile&&!this.props.editingHubFile.unpublished_at,i=this.props.editingHubFile&&this.props.editingHubFile.verification_status===F.VerificationStatus.blocked,t=e&&this.props.editingHubFile?h.getHubFileVersion(this.props.editingHubFile).created_at:null,l=e&&t?s.createElement(f.FromNow,{date:t}):"–";return i?s.createElement("div",{className:E.publishFooter},s.createElement("div",{className:E.worldIconContainer},s.createElement(v.Svg,{svg:k,useOriginalSrcFills:!0,className:E.worldIcon})),s.createElement("span",{className:E.publishInfo},"Your file could not be published",this.renderFooterLink()),s.createElement(g.ButtonSecondary,{className:E.unpublishButton,onClick:this.showUnpublishModal},"Remove"),s.createElement("a",{target:"_blank",href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines"},s.createElement(g.ButtonPrimary,null,"Learn More..."))):s.createElement(s.Fragment,null,e?s.createElement("div",{className:E.publishFooter},s.createElement("div",{className:E.worldIconContainer},s.createElement(v.Svg,{svg:C,useOriginalSrcFills:!0,className:E.worldIcon})),s.createElement("span",{className:E.publishInfo},"Last published ",l,this.renderFooterLink()),s.createElement(g.ButtonSecondary,{className:E.unpublishButton,onClick:this.showUnpublishModal},"Unpublish"),s.createElement(g.ButtonPrimary,{onClick:this.publish},"Publish update...")):s.createElement("div",{className:E.publishFooter},s.createElement("div",{className:E.worldIconContainer},s.createElement(v.Svg,{svg:C,useOriginalSrcFills:!0,className:E.worldIcon})),s.createElement("span",{className:E.publishInfo},this.props.canPublish?this.props.remixedFrom?"Publish your remix to the Community and share your unique take.":"Publish a version of this file to the Community for the public to duplicate and remix.":"Only admins can publish this file publicly.",s.createElement(g.Link,{target:"_blank",href:this.props.canPublish?this.props.remixedFrom?"https://help.figma.com/hc/en-us/articles/360042786453--Duplicate-and-remix-Community-Files":"https://help.figma.com/hc/en-us/articles/360040035974--Publish-a-File-to-the-Community":"https://help.figma.com/hc/en-us/articles/360041423614--Who-can-publish-Files-and-Plugins-to-the-Community-",className:E.link}," Learn more...")),s.createElement("div",null,s.createElement(g.ButtonPrimary,{disabled:!(this.props.canPublish&&this.state.thumbnail.buffer),onClick:this.publish},"Publish..."))))}renderRemixedFrom(e){const i=h.getHubFileVersion(e);return s.createElement(s.Fragment,null,s.createElement("div",{className:E.remixMetaDataContainer},s.createElement("a",{className:E.remixTileTitle,href:p.hubFilePath(e.id)},i.name),s.createElement("div",{className:E.remixTileAuthor}," by ",s.createElement("strong",null,m.getPublisherDisplayString(e)))))}renderRemixedFromTileSubheader(e){const i=h.getHubFileVersion(e);return s.createElement(s.Fragment,null,s.createElement("div",{className:E.remixTileMetaDataContainer},"Your remix of ",s.createElement("span",{className:E.textBold},i.name)," by ",s.createElement(P.AuthorLink,{publisher:e,showAvatar:!1,className:E.remixAuthorLink})))}isAlreadyPublishedByAnotherUser(){var e;const i=this.props.editingHubFile&&!this.props.editingHubFile.unpublished_at;return this.props.canPublish&&i&&(null===(e=this.props.editingHubFile)||void 0===e?void 0:e.creator.id)!==this.props.user.id}render(){var e,i;const{metadata:t}=this.props.publishingState,l=this.props.editingHubFile&&!this.props.editingHubFile.unpublished_at;if(!this.props.canPublish||this.isAlreadyPublishedByAnotherUser())return s.createElement(s.Fragment,null,s.createElement("div",{className:E.headerContainer,style:{backgroundColor:x.figmaBGPreviewGrey,backgroundImage:'url("https://static.figma.com/uploads/7ea25d6de5c2e0edfc6541112b3dce058477349f")'}}),this.renderPublishInfoFooter());if(l&&this.props.editingHubFile){const l=s.createElement(P.AuthorLink,{publisher:this.props.editingHubFile,className:w.hubFileAuthorName,showAvatar:!0,avatarClassName:w.avatar,avatarSize:24}),a=s.createElement("div",{className:w.hubFileTileViewAuthor},s.createElement("div",{className:w.hubFileTileAuthorContainer},l));return s.createElement("div",null,s.createElement("div",{className:E.previewContainer},s.createElement("div",{className:this.props.remixedFrom?E.remixTileContainer:E.tileContainer},s.createElement(_.HubFileTileView,{backgroundColor:r.fileBackgroundColor(this.props.editingFile.client_meta),backgroundImage:`url(${this.state.thumbnail.url})`,name:t.name,showDuplicateCount:!0,duplicateCount:(null===(e=this.props.editingHubFile)||void 0===e?void 0:e.duplicate_count)||0,entity:this.props.user,description:t.description,author:a,hasLiked:!1,likeCount:(null===(i=this.props.editingHubFile)||void 0===i?void 0:i.like_count)||0,isPrototype:this.props.publishingState.metadata.viewerModeToPublishAs===F.ViewerModeToPublishAs.PROTOTYPE,thumbnailIsSet:!!this.props.editingFile.thumbnail_guid})),this.props.remixedFrom&&this.renderRemixedFromTileSubheader(this.props.remixedFrom)),this.renderPublishInfoFooter())}return s.createElement("div",null,s.createElement("div",{className:E.headerContainer,style:{backgroundColor:this.props.remixedFrom?x.figmaBrandSecondaryLightBlue:x.figmaBrandCoral,backgroundImage:`url(${this.props.remixedFrom?"https://static.figma.com/uploads/a9c08fe412aa55a5988e1a59ce9252a721f4f89b":"https://static.figma.com/uploads/7ea25d6de5c2e0edfc6541112b3dce058477349f"})`}},this.props.remixedFrom?this.renderRemixedFrom(this.props.remixedFrom):""),this.renderPublishInfoFooter())}}N.displayName="FilePermissionsFilePublishTag";i.PublishModalPublishPanel=l.connect(e=>{var i,t;const s=a.getEditingFile(e),l=s&&e.figFilePublishedAsHubFile[s.key],r=(null===(t=null===(i=e.mirror)||void 0===i?void 0:i.appModel)||void 0===t?void 0:t.pagesList)||[],u=r.length>0?r[0].nodeId:"";let p=!1;s&&(p=n.getAllowedAuthorsForHubFile(s,Object.assign(Object.assign({},o.getPermissionsState(e)),{currentOrgId:e.currentOrgId})).length>0);let c=e.publishingHubFiles[s.key];c&&c.metadata||(c={status:m.getPublishingStatus(c),metadata:p?h.getDefaultHubFileVersionMetadata(Object.assign(Object.assign({},o.getPermissionsState(e)),{currentOrgId:e.currentOrgId,figFilePublishedAsHubFile:e.figFilePublishedAsHubFile,hubFiles:e.hubFiles}),s.key,!1):m.emptyHubFilePublishingMetadata});const d=l?h.getHubFileById(l,e.hubFiles):null;let g="";if(d){const i={view:"communityHub",subView:"hubFile",hubFileId:null==d?void 0:d.id};g=b.selectedViewToPath(e,i)}return{publishingState:c,canPublish:p,editingFile:s,editingHubFile:d,remixedFrom:e.figFileRemixedFromHubFile[s.key]?h.getHubFileById(e.figFileRemixedFromHubFile[s.key],e.hubFiles):null,user:e.user,hubFileRemixes:e.hubFileRemixes,hubFileHref:g,firstPageId:u}})(N)}),
(function(l,c,t){l.exports={src:'<svg width="13" height="13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><path d="M11.555.878c-1.172-1.17-3.07-1.17-4.242 0l-.708.707c-.785.786-1.046 1.896-.777 2.898l.902-.901c.028-.47.223-.93.582-1.29l.708-.707c.78-.78 2.046-.781 2.828 0 .78.782.78 2.048 0 2.829l-.707.707c-.36.359-.82.554-1.29.582l-.902.902c1.004.268 2.114.008 2.899-.777l.707-.707c1.172-1.172 1.172-3.071 0-4.243zM.879 11.555c1.172 1.17 3.07 1.17 4.242 0l.707-.708c.785-.785 1.047-1.896.777-2.898l-.902.902c-.027.47-.223.93-.582 1.29l-.707.706c-.781.781-2.047.782-2.828 0-.781-.781-.781-2.047 0-2.828l.707-.707c.36-.359.82-.554 1.289-.582l.902-.902c-1.004-.268-2.113-.008-2.898.777l-.707.707c-1.172 1.171-1.172 3.071 0 4.243zm7.848-7.141l-.707-.707-4.243 4.242.707.708 4.243-4.243z" fill-rule="evenodd" fill-opacity="1" fill="#18a0fb" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="14" height="11" viewBox="0 0 14 11" xmlns="http://www.w3.org/2000/svg"><path d="M4.953.65l-4.5 4.5-.351.354.351.353 4.5 4.5.711-.707-4.148-4.146 4.148-4.147-.71-.707zm4.211 0l4.5 4.5.352.354-.352.353-4.5 4.5-.71-.707 4.148-4.146-4.149-4.147.711-.707z" fill-rule="evenodd" fill-opacity="1" fill="#18a0fb" stroke="none"/></svg>'}}),
(function(c,t,e){c.exports={src:'<svg width="12" height="14" viewBox="0 0 12 14" xmlns="http://www.w3.org/2000/svg"><path d="M2 7.05V0h1v7.05c1.141.232 2 1.24 2 2.45 0 1.21-.859 2.218-2 2.45V14H2v-2.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45zM4 9.5c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5C1 8.672 1.672 8 2.5 8 3.328 8 4 8.672 4 9.5zM9 14h1V6.95c1.141-.232 2-1.24 2-2.45 0-1.21-.859-2.218-2-2.45V0H9v2.05c-1.141.232-2 1.24-2 2.45 0 1.21.859 2.218 2 2.45V14zm2-9.5c0-.828-.672-1.5-1.5-1.5C8.672 3 8 3.672 8 4.5 8 5.328 8.672 6 9.5 6c.828 0 1.5-.672 1.5-1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(2,1    ),o=i(280                             ),r=i(113                                     ),a=i(207                                   ),n=i(205                             ),l=i(802                 ),p=i(125                        ),d=i(443                      ),c=i(320                              ),h=i(119                    ),m=i(115                     ),g=i(208                               ),u=i(810                                                 ),_=i(815                                        ),w=i(818                                        ),f=i(823                                          ),b=i(824                                                       ),v=i(825                                               ),E=i(828                                      ),I=i(133        ),T=i(409                                  ),k=i(147                                            ),y=i(146                        ),S=i(279                             ),P=i(758                                              ),N=i(271                                        ),R=i(261                               ),F=i(826                                                ),L=i(231       ),O=i(137                                    ),M=i(135                     ),V=i(202                            ),D=i(195                                           ),C=i(228         ),x=i(136                    ),A=i(264                                  ),B=i(138      ),W=i(829                               ),H=i(324                  ),U=i(303                             ),K=i(753                             ),j=i(755         ),G=i(179        ),Y=i(870                                             ),$=i(360                     ),q=i(301                        ),Q=i(111          ),z=i(85                   ),J=i(357                  ),X=i(124                      ),Z=i(871                               ),ee=i(872                              ),se=i(873                                                          );class ie extends j.Tab{constructor(){super(...arguments),this.styleOverrides=(()=>({base:F.baseTab,selected:F.selectedTab})),this.applyDefaultStyles=(()=>!1)}}s.FILE_PERMISSIONS_MODAL="file-permissions-modal",x.registerUnsafeModal(s.FILE_PERMISSIONS_MODAL,e=>{let s=e.fileByKey[e.modalShown.data.fileKey],i=void 0;if(e.mirror&&e.mirror.appModel.pagesList&&e.mirror.appModel.pagesList.length>1){const s=e.mirror.sceneGraph.get(A.currentCanvasNodeId(e.mirror.appModel));s&&(i=s.name)}const o=s&&e.figFilePublishedAsHubFile[s.key],r=o?$.getHubFileById(o,e.hubFiles):null;return t.createElement(te,Object.assign({file:s,pageName:i,editingHubFile:r},e))});class te extends t.Component{constructor(e){super(e),this.PERMISSIONS_INVITE_DROPDOWN="permissions-invite-dropdown",this.PERMISSIONS_VIEW_RESTRICTIONS_DROPDOWN="permissions-view-restrictions-dropdown",this.isMainFile=(()=>{const{file:e,repos:s}=this.props;return!!z.getFeatureFlags().branching_and_merging&&!!e.file_repo_id&&X.isMainBranch(e,X.getRepo(e,s))}),this.onInviteLevelChange=(e=>{this.setState({inviteLevel:e})}),this.onValidateToken=(e=>({email:e,state:I.isEmail(e)?V.AutocompleteTokenState.OK:V.AutocompleteTokenState.ERROR,user:this.props.contacts.usersByEmail[e]})),this.canViewCommunityPublishingTab=(()=>U.communityHubPublishingEnabled()&&p.canEditFile(this.props.file.key,this.props,!1,z.getFeatureFlags().branching_and_merging)),this.getCurrentPageNodeId=(()=>{if(this.state.linkToPrototype){if(this.props.prototype&&this.props.prototype.currentPageId)return this.props.prototype.currentPageId}else if(this.props.mirror)return A.currentCanvasNodeId(this.props.mirror.appModel)}),this.sendInvites=(e=>{const{file:s,repos:i}=this.props,t=this.state.inviteLevel,o=this.isMainFile()&&X.getRepo(s,i),a=o?m.ResourceType.FILE_REPO:m.ResourceType.FILE,l=o?o.id:s.key,d=this.state.linkToPrototype||t===m.PermissionLevel.VIEW_PROTOTYPES;this.props.dispatch(n.role.sendInvites({emails:c.toEmailList(e),resourceType:a,resourceIdOrKey:l,level:t,nodeId:d?this.getCurrentPageNodeId():void 0,emailsToExclude:H.emailsToExclude(this.props.contacts.usersByEmail,this.props.user,this.getRoles()),onSuccess:({invites:e,over_editor_limit:s})=>{if(t>=m.PermissionLevel.EDITOR&&s){const s=p.getResourceTeamId(e[0],this.props);this.props.dispatch(r.fileBrowser.showModal({type:D.UPSELL_ADD_EDITOR_MODAL,data:{teamId:s,invitesSent:e.length}}))}}}))}),this.onSubmit=(e=>{const s=this.props.currentOrgId&&this.props.orgById[this.props.currentOrgId];if(s&&s.domain_capture&&this.props.orgDomains.domains.length>0){const s=c.toEmailList(e).filter(e=>I.isEmail(e)&&!l.isEmailInOrgsDomain(this.props.orgDomains.domains,e));if(s.length>0)return void this.props.dispatch(r.fileBrowser.showModal({type:W.CONFIRM_ORG_GUEST_INVITE_MODAL,data:{emails:s,onConfirm:()=>{this.sendInvites(e)},popStack:!0}}))}this.sendInvites(e)}),this.onlinkToNodeChange=(e=>{this.setState({linkToNodeCheckbox:e.currentTarget.checked})}),this.hideEmbed=(()=>{this.setState({showEmbed:!1})}),this.showEmbedCode=(()=>{this.setState({showEmbed:!0})}),this.copyFileLink=(()=>{const e=this.props.file;this.props.dispatch(o.file.copyLink({file:e,url:this.fileLinkUrl(e)}))}),this.renderTitle=(()=>{const e=this.props.file,s=J.getRepoAwareFolderId(e,this.props.repos),i=s?this.props.folders[s]:null,o=!!e.file_repo_id&&X.getBranchName(e,X.getRepo(e,this.props.repos)),r=z.getFeatureFlags().branching_and_merging?o:e.name;return i?t.createElement("div",{className:F.fileTitle},t.createElement("p",null,"Share ",t.createElement("span",{className:F.resourceName},r))):(e=>t.createElement("div",{className:F.fileTitle},e))(t.createElement("p",null,"Share ",t.createElement("span",{className:F.resourceName},r)))}),this.hideModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this._toggleAdvancedOptionForFile=((e,s,i)=>{e.preventDefault(),e.stopPropagation(),this.props.dispatch(o.file.put({file:s,userInitiated:!0})),this.props.dispatch(r.fileBrowser.hideDropdown()),i&&this.props.dispatch(S.visualBellActions.enqueue(i))}),this.onViewerExportRestrictedChange=((e,s)=>{const i=this.props.file;this._toggleAdvancedOptionForFile(e,{key:i.key,viewer_export_restricted:s},{type:"viewer-restriction-changed",message:"Viewer permission changed"})}),this.onTabClick=(e=>{this.props.dispatch(a.fullscreen.selectShareModalTab({view:e.view})),Q.segment.track("File Permissions Modal Tab Clicked",{tabName:e.name})}),this.renderImageInspectionFailedBell=(e=>{if(e===K.FilePermissionsModalTabView.PUBLISH&&this.props.editingHubFile&&this.props.editingHubFile.verification_status===q.VerificationStatus.blocked)return t.createElement("div",{className:F.bell})}),this.renderTabs=(()=>{let e=this.getFilePermissionsModalTabView();const s=[{name:"Invite",view:K.FilePermissionsModalTabView.INVITE}];return this.canViewCommunityPublishingTab()&&s.push({name:"Publish to Community",view:K.FilePermissionsModalTabView.PUBLISH}),t.createElement("div",{className:F.tabs},s.map(s=>t.createElement(ie,{key:s.view,onClick:()=>this.onTabClick(s),tab:s.view,selectedTab:e},s.name,this.renderImageInspectionFailedBell(s.view))))}),this.getFilePermissionsModalTabView=(()=>"fullscreen"===this.props.selectedView.view&&this.props.selectedView.filePermissionsModalTab||K.FilePermissionsModalTabView.INVITE),this.renderView=(()=>{const e=this.getFilePermissionsModalTabView();switch(e){case K.FilePermissionsModalTabView.INVITE:return this.renderShareTab();case K.FilePermissionsModalTabView.PUBLISH:return this.canViewCommunityPublishingTab()&&this.renderPublishTab();default:G.assertNever(e)}});const{file:s}=e,i=this.isPrototypeView()&&M.canAccessProFeature(s.team_id?this.props.teams[s.team_id]:null)?m.PermissionLevel.VIEW_PROTOTYPES:m.PermissionLevel.VIEWER,d=g.nodeId(this.props.selectedView);d&&d!==L.invalidGUIDStr?this.state={inviteLevel:i,linkToPrototype:"prototype"===this.props.selectedView.view,linkToNodeCheckbox:!0,selectedNodeId:d,selectedPage:R.SceneGraphHelpers.nodeIsPage(d)}:this.state={inviteLevel:i,linkToPrototype:"prototype"===this.props.selectedView.view}}componentDidMount(){this.props.dispatch(a.fullscreen.selectShareModalTab({view:K.FilePermissionsModalTabView.INVITE}))}isPrototypeView(){return"prototype"===this.props.selectedView.view}getRoles(){const{roles:e,file:s}=this.props,i=(this.isMainFile()?e.byRepoId[s.file_repo_id]:e.byFileKey[this.props.file.key])||{};return Object.keys(i).map(e=>i[e]).sort((e,s)=>new Date(e.created_at)<new Date(s.created_at)?-1:1)}fileLinkUrl(e){let s="";return this.state.linkToNodeCheckbox&&this.state.selectedNodeId?s+=`?node-id=${encodeURIComponent(this.state.selectedNodeId)}`:this.state.linkToPrototype&&"prototype"===this.props.selectedView.view&&(s+=d.urlQueryForPrototype({scalingMode:this.props.selectedView.scalingMode,nodeId:void 0,showHotspots:this.props.selectedView.showHotspots})),`${this.state.linkToPrototype?e.prototype_url:e.url}${s}`}toggleViewRestrictionsDropdown(){this.props.dropdownShown&&this.props.dropdownShown.type===this.PERMISSIONS_VIEW_RESTRICTIONS_DROPDOWN?this.props.dispatch(r.fileBrowser.hideDropdown()):this.props.dispatch(r.fileBrowser.showDropdown({type:this.PERMISSIONS_VIEW_RESTRICTIONS_DROPDOWN}))}renderFileLinks(){const e=this.props.file,s=p.canEditFile(e.key,this.props),i=M.canAccessProFeature(e.team_id?this.props.teams[e.team_id]:null),o=s&&i,r=!this.state.selectedNodeId||this.state.selectedPage;let a=!0;if(this.props.currentOrgId&&!z.getFeatureFlags().auth_embeds_author){const e=this.props.orgById[this.props.currentOrgId];e&&!e.public_links_banned||(a=!1)}const n=!!z.getFeatureFlags().auth_embeds_author||(e.link_access===h.LinkAccess.EDIT||e.link_access===h.LinkAccess.VIEW),l=n?F.footerLink:F.footerLinkDisabled;return t.createElement("div",null,t.createElement("div",{className:F.footerLinks},t.createElement("div",{className:F.footerLink,onClick:this.copyFileLink},t.createElement(y.Svg,{className:F.copyIcon,svg:Z})," Copy link"),a&&t.createElement("div",{className:l,onClick:n?this.showEmbedCode:void 0},t.createElement(y.Svg,{className:F.copyIcon,svg:ee})," Get embed code"),!this.isPrototypeView()&&t.createElement("div",{className:r?F.linkToNodeDisabled:F.linkToNode},t.createElement(k.Checkbox,{id:"link-to-node",checked:!r&&this.state.linkToNodeCheckbox,onChange:this.onlinkToNodeChange,disabled:r}),t.createElement(k.Label,{htmlFor:"link-to-node"},"Link to selected frame")),o&&t.createElement(y.Svg,{svg:se,onClick:()=>this.toggleViewRestrictionsDropdown(),className:F.settingsButton}),this.props.dropdownShown&&this.props.dropdownShown.type===this.PERMISSIONS_VIEW_RESTRICTIONS_DROPDOWN&&t.createElement(T.dropdown.Dropdown,{className:F.viewRestrictionDropdown},t.createElement(T.dropdown.CheckableOption,{checked:!1,disabled:!0},"Advanced options"),i&&t.createElement(T.dropdown.CheckableOptionTrackable,{checked:!e.viewer_export_restricted||e.link_access===h.LinkAccess.EDIT,disabled:e.link_access===h.LinkAccess.EDIT,onClick:s=>this.onViewerExportRestrictedChange(s,!e.viewer_export_restricted),trackingProperties:{fileKey:e.key,teamId:e.team_id,viewerRestrictedAfterToggle:!e.viewer_export_restricted}},"Allow viewers to copy, share, and export from this file"))))}onKeyDown(e){e.keyCode!==B.Key.ESCAPE&&e.stopPropagation()}renderRestrictedModal(e,s){return e.user_id===this.props.user.id?t.createElement(b.ShareFromRestrictedDraftsModal,{orgUser:this.props.orgUsersByOrgId.orgUsers[s][this.props.user.id],dispatch:this.props.dispatch}):t.createElement(v.ViewRestrictedFileModal,{share:!0,user:e.user,dispatch:this.props.dispatch})}renderEmbedModal(){return t.createElement(E.EmbedModal,{file:this.props.file,hideEmbed:this.hideEmbed,fileLink:this.fileLinkUrl(this.props.file),pageName:this.props.pageName,dispatch:this.props.dispatch})}renderShareTab(){const e=this.state.linkToPrototype,s=this.props.file,i=z.getFeatureFlags().branching_and_merging,o=p.canEditFile(s.key,this.props,!1,i),r=p.canViewFile(s.key,this.props,!1,i),a=p.canViewPrototypes(s.key,this.props,!1,i),n=!r&&a,l=e&&a&&!p.canViewPrototypes(s.key,this.props,!0,i);n&&C.assertDev(!!e,"How did a prototype viewer sneak into non-prototype mode?!");const d=!(!p.isCopyExportRestricted(s.key,this.props)||s.link_access!==h.LinkAccess.INHERIT);let c;c=e?!(n||l||d):!d;let g=F.dividedInputSection;l&&(g=F.prototypeDividedInputSection);const b=[];return o&&b.push(m.PermissionLevel.EDITOR),r&&b.push(m.PermissionLevel.VIEWER),M.canAccessProFeature(s.team_id?this.props.teams[s.team_id]:null)&&b.push(m.PermissionLevel.VIEW_PROTOTYPES),C.assertDev(b.length>0,"there should be at least one role (the user's own)"),t.createElement(t.Fragment,null,!this.props.userStateLoaded&&t.createElement("div",{className:F.spinner},t.createElement(N.LoadingSpinner,null)),this.props.userStateLoaded&&[t.createElement("div",{key:"container",className:F.contentContainer__OLD,onKeyDown:this.onKeyDown},c&&t.createElement("div",{className:F.inviteBar},t.createElement(u.TokenForm,{autocomplete:this.props.autocomplete,buttonText:"Send Invite",dispatch:this.props.dispatch,dropdownKey:this.PERMISSIONS_INVITE_DROPDOWN,dropdownShown:this.props.dropdownShown,inviteLevel:this.state.inviteLevel,getSelectText:p.levelName,onInviteLevelChange:this.onInviteLevelChange,options:b,onSubmit:this.onSubmit,searchResults:e=>H.inviteSearch(e,this.props.contacts.usersByEmail,this.props.user,this.getRoles()),validateToken:this.onValidateToken,tokenClassName:this.state.inviteLevel===m.PermissionLevel.VIEW_PROTOTYPES?F.longToken:void 0})),t.createElement("div",{className:F.roleRows},t.createElement(w.FileInfoRow,Object.assign({},this.props)),t.createElement(f.FileAccessRow,Object.assign({hideLinkAccessInfo:d},this.props)),!l&&this.getRoles().map(e=>t.createElement(_.UserRoleRow,Object.assign({key:`role-row-${e.id}`,role:e,teamId:s.team_id},this.props))))),t.createElement("div",{key:"file-links",className:g},this.renderFileLinks())])}renderPublishTab(){return t.createElement(t.Fragment,null,!this.props.userStateLoaded&&t.createElement("div",{className:F.spinner},t.createElement(N.LoadingSpinner,null)),this.props.userStateLoaded&&t.createElement("div",{onKeyDown:this.onKeyDown},t.createElement(Y.PublishModalPublishPanel,null)))}render(){const e=this.props.file,s=e.folder_id?this.props.orgDraftsOwners[e.folder_id]:null;return s&&this.props.currentOrgId&&p.isOrgUserRestricted(s)?this.renderRestrictedModal(s,this.props.currentOrgId):this.state.showEmbed?this.renderEmbedModal():this.canViewCommunityPublishingTab()&&"fullscreen"===this.props.selectedView.view?t.createElement(O.TrackingContext,{name:"Share Modal",properties:{resourceType:m.ResourceType.FILE,resourceId:null,userStateLoaded:this.props.userStateLoaded}},t.createElement(P.HeaderModal,{title:this.renderTabs(),maxWidth:459,fixedTop:!0,onClose:this.hideModal,headerClassName:F.header},this.renderView())):t.createElement(O.TrackingContext,{name:"Share Modal [OLD]",properties:{resourceType:m.ResourceType.FILE,resourceId:null,userStateLoaded:this.props.userStateLoaded}},t.createElement(P.HeaderModal,{title:this.renderTitle(),maxWidth:459,fixedTop:!0,onClose:this.hideModal},this.renderShareTab()))}}s.FilePermissionsModal=te,te.displayName="FilePermissionsModal"}),
(function(e,o,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.EDIT=0]="EDIT",e[e.VIEW=1]="VIEW",e[e.DISABLE=2]="DISABLE"}(o.FolderLevel||(o.FolderLevel={})),function(e){e.FolderListView="folder-list-view",e.FileBrowserNav="file-browser-nav",e.FileMoveModal="file-move-modal"}(o.NewFolderSource||(o.NewFolderSource={}))}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=o(2,1    ),i=o(188                               ),a=o(113                                     ),n=o(125                        ),r=o(135                     ),l=o(475                            ),c=o(123         ),d=o(146                        ),p=o(409                                  ),h=o(812             ),m=o(875                       ),w=o(179        ),_=o(195                              ),E=o(816                        );s.FolderAccessRow=class extends t.PureComponent{constructor(){super(...arguments),this.FOLDER_ACCESS_CHANGE_DROPDOWN="FOLDER_ACCESS_CHANGE_DROPDOWN",this.folderAccessEl=null,this.folderAccessRef=(e=>{e&&(this.folderAccessEl=e)}),this.isFolderAccessDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.FOLDER_ACCESS_CHANGE_DROPDOWN&&this.props.dropdownShown.data.folderId===this.props.folder.id),this.renderSharingDisclaimer=(()=>{const e=this.props.folder,s=this.props.team,o=n.canEditFolder(e.id,this.props);return e.is_invite_only?t.createElement("span",{className:h.sharingDisclaimer},"Invite-only – Members of ",s.name?c.truncateText(s.name,10):"this team"," cannot access."):!e.is_invite_only&&o?t.createElement("span",null,"Members of ",s.name?c.truncateText(s.name,25):"this team"):e.is_invite_only||o?void 0:t.createElement("span",{className:h.sharingDisclaimer},"Everyone at ",s.name?c.truncateText(s.name,50):"this team"," can access this project.")}),this.onEnableFolderTeamAccess=(()=>{this.onFolderAccessChange(m.FolderLevel.EDIT)}),this.onFolderAccessChange=(e=>{let s,o;switch(e){case m.FolderLevel.EDIT:s=!1,o=!1;break;case m.FolderLevel.VIEW:s=!1,o=!0;break;case m.FolderLevel.DISABLE:s=!0,o=!1;break;default:w.assertNever(e)}const t=this.props.folder;!s&&!o||r.canAccessProFeature(this.props.team)?this.props.dispatch(i.folder.updateFolderAccess({folderId:t.id,isInviteOnly:s,isViewOnly:o})):o?this.props.dispatch(a.fileBrowser.showModal({type:_.UPSELL_VIEW_ONLY_MODAL,data:{teamId:t.team_id}})):this.props.dispatch(a.fileBrowser.showModal({type:_.UPSELL_INVITE_ONLY_MODAL,data:{teamId:t.team_id}}))}),this.toggleFolderAccessDropdown=(()=>{if(this.isFolderAccessDropdownShown())this.props.dispatch(a.fileBrowser.hideDropdown());else if(this.folderAccessEl){const e=this.props.folder,s=this.folderAccessEl.getBoundingClientRect();this.props.dispatch(a.fileBrowser.showDropdown({type:this.FOLDER_ACCESS_CHANGE_DROPDOWN,data:{folderId:e.id,position:{top:s.top+-24*(e.is_view_only?1:0),bottom:"auto",left:s.left,right:"auto"}}}))}}),this.handleFolderAccessChangeView=(()=>this.onFolderAccessChange(m.FolderLevel.VIEW)),this.handleFolderAccessChangeEdit=(()=>this.onFolderAccessChange(m.FolderLevel.EDIT)),this.handleFolderAccessChangeDisabled=(()=>this.onFolderAccessChange(m.FolderLevel.DISABLE))}render(){const e=this.props.folder,s=this.props.team,o=s&&n.canEditTeam(s.id,this.props)&&n.canEditFolder(e.id,this.props),i=e.is_invite_only?t.createElement(d.Svg,{className:h.linkAccessDisabledIcon,svg:E}):t.createElement(l.Avatar,{size:24,className:h.avatar,entity:s});let a={};return this.isFolderAccessDropdownShown()&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position&&(a=Object.assign({},this.props.dropdownShown.data.position)),t.createElement("div",{className:h.roleRow},i,t.createElement("div",{className:h.nameAndSelect},t.createElement("div",{className:h.folderDisclaimer},this.renderSharingDisclaimer(),e.is_invite_only&&o&&t.createElement("a",{className:h.enableAccessLink,onClick:this.onEnableFolderTeamAccess},"Enable team access"),!e.is_invite_only&&o&&t.createElement("div",{ref:this.folderAccessRef,onClick:this.toggleFolderAccessDropdown,className:h.select},t.createElement("span",null,e.is_view_only?"can view":"can edit")),this.isFolderAccessDropdownShown()&&t.createElement(p.dropdown.Dropdown,{className:h.fixedContextMenu,style:Object.assign({position:"fixed"},a)},t.createElement(p.dropdown.CheckableOption,{checked:!e.is_view_only,onClick:this.handleFolderAccessChangeEdit},"can edit"),t.createElement(p.dropdown.CheckableOption,{checked:e.is_view_only,onClick:this.handleFolderAccessChangeView},"can view"),t.createElement(p.dropdown.Separator,null),t.createElement(p.dropdown.CheckableOption,{onClick:this.handleFolderAccessChangeDisabled,checked:!1},"remove team access")))))}}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(2,1    ),o=t(113                                     ),a=t(205                             ),r=t(469                                          ),n=t(802                 ),l=t(125                        ),p=t(118                    ),d=t(320                              ),m=t(115                     ),c=t(810                                                 ),h=t(815                                        ),_=t(876                                            ),v=t(133        ),g=t(758                                              ),u=t(146                        ),f=t(826                                                ),E=t(137                                    ),I=t(202                            ),w=t(195                                           ),S=t(228         ),y=t(136                    ),O=t(138      ),R=t(829                               ),L=t(324                  ),T=t(871                               );s.FOLDER_PERMISSIONS_MODAL="folder-permissions-modal",y.registerUnsafeModal(s.FOLDER_PERMISSIONS_MODAL,e=>{let s=e.folders[e.modalShown.data.folderId];return i.createElement(D,Object.assign({folder:s},e))});class D extends i.Component{constructor(){super(...arguments),this.PERMISSIONS_INVITE_DROPDOWN="permissions-invite-dropdown",this.state={inviteLevel:m.PermissionLevel.VIEWER},this.onInviteLevelChange=(e=>{this.setState({inviteLevel:e})}),this.onValidateToken=(e=>({email:e,state:v.isEmail(e)?I.AutocompleteTokenState.OK:I.AutocompleteTokenState.ERROR,user:this.props.contacts.usersByEmail[e]})),this.sendInvites=(e=>{const s=this.state.inviteLevel;this.props.dispatch(a.role.sendInvites({emails:d.toEmailList(e),resourceType:m.ResourceType.FOLDER,resourceIdOrKey:this.props.folder.id,level:s,emailsToExclude:L.emailsToExclude(this.props.contacts.usersByEmail,this.props.user,this.getRoles()),onSuccess:({invites:e,over_editor_limit:t})=>{if(s>=m.PermissionLevel.EDITOR&&t){const s=l.getResourceTeamId(e[0],this.props);this.props.dispatch(o.fileBrowser.showModal({type:w.UPSELL_ADD_EDITOR_MODAL,data:{teamId:s,invitesSent:e.length}}))}}}))}),this.onSubmit=(e=>{const s=this.props.currentOrgId&&this.props.orgById[this.props.currentOrgId];if(s&&s.domain_capture&&this.props.orgDomains.domains.length>0){const s=d.toEmailList(e).filter(e=>v.isEmail(e)&&!n.isEmailInOrgsDomain(this.props.orgDomains.domains,e));if(s.length>0)return void this.props.dispatch(o.fileBrowser.showModal({type:R.CONFIRM_ORG_GUEST_INVITE_MODAL,data:{emails:s,onConfirm:()=>{this.sendInvites(e)},popStack:!0}}))}this.sendInvites(e)}),this.copyLink=(()=>{this.props.dispatch(r.copyToClipboard.copyViewLink({view:"folder",folderId:this.props.folder.id}))}),this.renderTitle=(()=>i.createElement("div",{className:f.fileTitle},i.createElement("p",null,"Share ",i.createElement("span",{className:f.resourceName},p.getFolderName(this.props.folder))))),this.hideModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}getRoles(){let e=this.props.roles.byFolderId[this.props.folder.id]||{};return Object.keys(e).map(s=>e[s]).sort((e,s)=>new Date(e.created_at)<new Date(s.created_at)?-1:1)}onKeyDown(e){e.keyCode!==O.Key.ESCAPE&&e.stopPropagation()}render(){const e=this.props.folder,s=l.canEditFolder(e.id,this.props),t=l.canViewFolder(e.id,this.props),o=[];return s&&o.push(m.PermissionLevel.EDITOR),t&&o.push(m.PermissionLevel.VIEWER),S.assertDev(o.length>0,"there should be at least one role (the user's own)"),i.createElement(E.TrackingContext,{name:"Share Modal",properties:{resourceType:m.ResourceType.FOLDER,resourceId:null}},i.createElement(g.HeaderModal,{title:this.renderTitle(),isCloseHidden:!1,maxWidth:459,fixedTop:!0,onClose:this.hideModal},i.createElement("div",{key:"container",className:f.contentContainer__OLD,onKeyDown:this.onKeyDown},i.createElement("div",{className:f.inviteBar},i.createElement(c.TokenForm,{autocomplete:this.props.autocomplete,buttonText:"Send Invite",dispatch:this.props.dispatch,dropdownKey:this.PERMISSIONS_INVITE_DROPDOWN,dropdownShown:this.props.dropdownShown,inviteLevel:this.state.inviteLevel,getSelectText:l.levelName,onInviteLevelChange:this.onInviteLevelChange,options:o,onSubmit:this.onSubmit,searchResults:e=>L.inviteSearch(e,this.props.contacts.usersByEmail,this.props.user,this.getRoles()),validateToken:this.onValidateToken})),i.createElement("div",{className:f.roleRows},e.team_id&&i.createElement(_.FolderAccessRow,Object.assign({folder:e,team:this.props.teams[e.team_id]},this.props)),this.getRoles().map(e=>i.createElement(h.UserRoleRow,Object.assign({key:`role-row-${e.id}`,role:e},this.props))))),i.createElement("div",{className:f.dividedInputSection},i.createElement("div",{className:f.footerLinks},i.createElement("div",{className:f.footerLink,onClick:this.copyLink},i.createElement(u.Svg,{className:f.copyIcon,svg:T})," Copy link")))))}}s.FolderPermissionsModal=D,D.displayName="FolderPermissionsModal"}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(2,1    ),o=t(113                                     ),a=t(205                             ),n=t(172                                              ),r=t(802                 ),l=t(125                        ),p=t(320                              ),m=t(115                     ),d=t(810                                                 ),h=t(133        ),c=t(758                                              ),u=t(826                                                ),v=t(137                                    ),_=t(202                            ),g=t(195                                           ),I=t(228         ),E=t(136                    ),S=t(138      ),T=t(123         ),f=t(829                               ),O=t(324                  );s.TEAM_PERMISSIONS_MODAL="team-permissions-modal",E.registerUnsafeModal(s.TEAM_PERMISSIONS_MODAL,e=>{let s=e.teams[e.modalShown.data.teamId];return i.createElement(y,Object.assign({team:s,notifyOnSuccess:e.modalShown.data.notifyOnSuccess,initialInviteLevel:e.modalShown.data.initialInviteLevel},e))});class y extends i.Component{constructor(e){super(e),this.PERMISSIONS_INVITE_DROPDOWN="permissions-invite-dropdown",this.onInviteLevelChange=(e=>{this.setState({inviteLevel:e})}),this.onValidateToken=(e=>({email:e,state:h.isEmail(e)?_.AutocompleteTokenState.OK:_.AutocompleteTokenState.ERROR,user:this.props.contacts.usersByEmail[e]})),this.sendInvites=(e=>{const s=this.state.inviteLevel;this.props.dispatch(a.role.sendInvites({emails:p.toEmailList(e),resourceType:m.ResourceType.TEAM,resourceIdOrKey:this.props.team.id,level:s,emailsToExclude:O.emailsToExclude(this.props.contacts.usersByEmail,this.props.user,this.getRoles()),onSuccess:({invites:e,over_editor_limit:t})=>{if(s>=m.PermissionLevel.EDITOR&&t){const s=l.getResourceTeamId(e[0],this.props);this.props.dispatch(o.fileBrowser.showModal({type:g.UPSELL_ADD_EDITOR_MODAL,data:{teamId:s,invitesSent:e.length}}))}else this.props.notifyOnSuccess&&this.props.dispatch(n.visualBell.enqueue({message:`${T.getPluralOrSingular(e.length,"Invite")} sent.`}))}})),this.props.dispatch(o.fileBrowser.hideModal())}),this.onSubmit=(e=>{const s=this.props.currentOrgId&&this.props.orgById[this.props.currentOrgId];if(s&&s.domain_capture&&this.props.orgDomains.domains.length>0){const s=p.toEmailList(e).filter(e=>h.isEmail(e)&&!r.isEmailInOrgsDomain(this.props.orgDomains.domains,e));if(s.length>0)return void this.props.dispatch(o.fileBrowser.showModal({type:f.CONFIRM_ORG_GUEST_INVITE_MODAL,data:{emails:s,onConfirm:()=>{this.sendInvites(e)},popStack:!0}}))}this.sendInvites(e)}),this.renderTitle=(()=>i.createElement("div",{className:u.fileTitle},i.createElement("p",null,"Invite team members"))),this.hideModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.state={inviteLevel:e.initialInviteLevel||m.PermissionLevel.VIEWER}}getRoles(){let e=this.props.roles.byTeamId[this.props.team.id]||{};return Object.keys(e).map(s=>e[s]).sort((e,s)=>new Date(e.created_at)<new Date(s.created_at)?-1:1)}onKeyDown(e){e.keyCode!==S.Key.ESCAPE&&e.stopPropagation()}render(){const e=l.canEditTeam(this.props.team.id,this.props),s=l.canViewTeam(this.props.team.id,this.props),t=[];return l.canAdminTeam(this.props.team.id,this.props)&&t.push(m.PermissionLevel.ADMIN),e&&t.push(m.PermissionLevel.EDITOR),s&&t.push(m.PermissionLevel.VIEWER),I.assertDev(t.length>0,"there should be at least one role (the user's own)"),i.createElement(v.TrackingContext,{name:"Share Modal",properties:{resourceType:m.ResourceType.TEAM,resourceId:this.props.team.id}},i.createElement(c.HeaderModal,{title:this.renderTitle(),isCloseHidden:!1,maxWidth:459,fixedTop:!0,onClose:this.hideModal},i.createElement("div",{key:"container",className:u.teamContentContainer,onKeyDown:this.onKeyDown},i.createElement("div",{className:u.inviteBar},i.createElement(d.TokenForm,{autocomplete:this.props.autocomplete,buttonText:"Send Invite",dispatch:this.props.dispatch,dropdownKey:this.PERMISSIONS_INVITE_DROPDOWN,dropdownShown:this.props.dropdownShown,inviteLevel:this.state.inviteLevel,getSelectText:l.levelName,onInviteLevelChange:this.onInviteLevelChange,options:t,onSubmit:this.onSubmit,searchResults:e=>O.inviteSearch(e,this.props.contacts.usersByEmail,this.props.user,this.getRoles()),validateToken:this.onValidateToken})))))}}s.TeamPermissionsModal=y,y.displayName="TeamPermissionsModal"}),
(function(s,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=e(325                                 ),t=e(189                             ),o=e(113                                     ),c=e(467                         ),p=e(874                                                 ),_=e(877                                                   ),m=e(878                                                 );a.default=(s=>a=>(function(e){if(o.fileBrowser.showModal.matches(e))switch(e.payload.type){case p.FILE_PERMISSIONS_MODAL:case _.FOLDER_PERMISSIONS_MODAL:case m.TEAM_PERMISSIONS_MODAL:s.dispatch(i.loadContacts())}return t.orgs.switchActiveOrgAndSetCurrentOrgId.matches(e)&&s.dispatch(i.reset()),o.fileBrowser.selectView.matches(e)&&"team"===e.payload.view&&e.payload.teamViewTab===c.TeamViewTab.MEMBERS&&s.dispatch(i.loadContacts()),a(e)}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(615                       ),s=i(98                  ),n=i(99                      ),a=i(108     );function l(e){let t="/api/user/email_lists";return e.token&&(t+=`?t=${encodeURIComponent(e.token)}`),t}t.emailSettingsMiddleware=(e=>t=>(function(i){switch(i.type){case r.emailSettings.GET:{const n=e.getState().emailSettings;return n.listsFetched||a.default.get(l(n)).then(({data:t})=>{const i=t.meta.lists;e.dispatch(r.emailSettings.put(i))}).catch(()=>{e.dispatch(s.flashActions.error("An error occurred while fetching your email preferences."))}),t(i)}case r.emailSettings.PUT:if(i.payload.userInitiated){const r=e.getState().emailSettings;return n.optimisticRequestWithErrorHandling({requestPromise:a.default.put(l(r),i.payload.emailLists),fallbackError:"An error occurred while changing your email preferences.",store:e,next:t,action:i})}return t(i);default:return t(i)}}))}),
(function(e,i,o){e.exports={row:"email_settings_view--row--3rDGL"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2,1    ),l=i(616                              ),a=i(615                        ),n=i(147                                            ),c=i(881                        );t.EmailSettingsView=(e=>s.createElement("div",null,s.createElement(m,Object.assign({emailListKey:l.EmailListKey.ACTIVITY,label:"Activity from other users"},e))));const m=e=>{const t=e.emailSettings.lists,i=e.emailListKey,c=()=>i===l.EmailListKey.ACTIVITY?!!t[l.ActivityLevel.EVERY_FOLLOWER]:t[i];return s.createElement(r,null,s.createElement(n.Checkbox,{id:i,checked:c(),onChange:()=>{e.dispatch(a.emailSettings.put({[i]:(()=>i===l.EmailListKey.ACTIVITY?c()?"never":"every":!t[i])()},!0))}}),s.createElement(n.Label,{htmlFor:i},e.label))},r=e=>s.createElement("div",{className:c.row},e.children)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t(880                                   );i.emailSettingsMiddleware=a.emailSettingsMiddleware;var n=t(882                                                 );i.EmailSettingsView=n.EmailSettingsView;var s=t(615                                );i.emailSettingsActions=s.emailSettings}),
(function(e,o,E){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.FOLDER_ROW=0]="FOLDER_ROW",e[e.NEW_FOLDER_TEAM=1]="NEW_FOLDER_TEAM"}(o.FolderRowType||(o.FolderRowType={}))}),
(function(e,o,n){e.exports={newFolder:"new_folder--newFolder--2AF2h sidebar--sidebarSection--3XvYF text--fontPos11--RSei3 text--_fontBase--YWDo0",folder:"new_folder--folder--1zgej sidebar--folder--OE9-f sidebar--sidebarSection--3XvYF text--fontPos11--RSei3 text--_fontBase--YWDo0",newFolderInput:"new_folder--newFolderInput--3n4Tf sidebar--sectionInput--31Gwt sidebar--sectionText--31Nhy sidebar--sectionContent--2dhhM ellipsis--ellipsis--1RWY6",newFolderName:"new_folder--newFolderName--1Fxvk sidebar--sectionName--eII3k sidebar--sectionText--31Nhy sidebar--sectionContent--2dhhM ellipsis--ellipsis--1RWY6",newProjectIcon:"new_folder--newProjectIcon--1MniD sidebar--icon--1Z2rN",newProjectIconFileBrowser:"new_folder--newProjectIconFileBrowser--3b4zQ new_folder--newProjectIcon--1MniD sidebar--icon--1Z2rN",newProjectIconFileMove:"new_folder--newProjectIconFileMove--32_UA sidebar--icon--1Z2rN",newProjectIconFolderList:"new_folder--newProjectIconFolderList--2v5oJ sidebar--icon--1Z2rN",newFolderHover:"new_folder--newFolderHover--3jE9Z new_folder--newFolder--2AF2h sidebar--sidebarSection--3XvYF text--fontPos11--RSei3 text--_fontBase--YWDo0",spacingFileBrowser:"new_folder--spacingFileBrowser--2B3HD sidebar--iconEmpty--3KvV3 sidebar--icon--1Z2rN",spacingFolderList:"new_folder--spacingFolderList--3aAhb",spacingMoveFile:"new_folder--spacingMoveFile--3pj25"}}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=o(2,1    ),t=o(113                                     ),i=o(146                        ),n=o(885               ),a=o(543                            );class c extends r.Component{constructor(e){let s,o;switch(super(e),this.onClick=(e=>{e.stopPropagation(),this.props.dispatch(t.fileBrowser.openNewFolderModal({where:this.props.where,teamId:this.props.teamId}))}),this.props.where){case"file-browser-nav":s=n.newProjectIconFileBrowser,o=n.spacingFileBrowser;break;case"folder-list-view":s=n.newProjectIconFolderList,o=n.spacingFolderList;break;case"file-move-modal":s=n.newProjectIconFileMove,o=n.spacingMoveFile}this.state={spacingStyle:o,iconStyle:s}}render(){return r.createElement("div",{className:this.props.isFocused?n.newFolderHover:n.newFolder,onMouseMove:this.props.onMouseMove,onMouseDown:this.onClick},r.createElement(i.Svg,{className:this.state.iconStyle,svg:a}),r.createElement("span",{className:n.newFolderName},"New Project"))}}s.NewFolder=c,c.displayName="NewFolder"}),
(function(e,o,l){e.exports={fileMoveModal:"file_move--fileMoveModal--3al3w",main:"file_move--main--2-VCv",iconContainer:"file_move--iconContainer--yOhz1",truncateText:"file_move--truncateText--2IE65 ellipsis--ellipsis--1RWY6",footer:"file_move--footer--3cSei",fileLocation:"file_move--fileLocation--122jH",teamSectionBody:"file_move--teamSectionBody--1QBwN",teamSection:"file_move--teamSection--3TSgk",teamTitle:"file_move--teamTitle--2HfYT text--fontPos12--3tEpz text--_fontBase--YWDo0",teamTitleText:"file_move--teamTitleText--2NvQ_",folderRowWrapper:"file_move--folderRowWrapper--2WS-E",folderRowWrapperFocused:"file_move--folderRowWrapperFocused--TMAqv file_move--folderRowWrapper--2WS-E",folderRow:"file_move--folderRow--JLCps",folderInfo:"file_move--folderInfo--3NO4P",folderName:"file_move--folderName--1gyBi ellipsis--ellipsis--1RWY6",inlineBlock:"file_move--inlineBlock--33Ehz",renameInput:"file_move--renameInput--1S2sF",searchForMoreRow:"file_move--searchForMoreRow--1SwpW file_move--folderRow--JLCps",title:"file_move--title--bli6j header_modal--headerModalTitle--8hnpX",searchIcon:"file_move--searchIcon--1CQWz",searchInput:"file_move--searchInput--3OikB",searchInputEmpty:"file_move--searchInputEmpty--rAs8s file_move--searchInput--3OikB",emptyModal:"file_move--emptyModal--2WHDo",fileMoveContextMenu:"file_move--fileMoveContextMenu--bv9_l"}}),
(function(o,t,d){o.exports={modalWidth:"288px",modalHeight:"436px",folderRowHeight:"30px"}}),
(function(l,o,t){l.exports={src:'<svg width="11" height="10" viewBox="0 0 11 10" xmlns="http://www.w3.org/2000/svg"><path d="M5.231 0l1.666 3.207 3.565.594-2.535 2.575.537 3.574-3.233-1.615L1.998 9.95l.537-3.574L0 3.801l3.565-.594L5.23 0z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=s(2,1    ),i=s(6,1        ),r=s(188                               ),n=s(280                             ),l=s(113                                     ),a=s(187                                  ),d=s(420              ),p=s(138      ),c=s(214         ),h=s(125                        ),m=s(118                    ),f=s(884                         ),u=s(644                           ),v=s(409                                  ),F=s(143                                      ),M=s(411                                                  ),w=s(146                        ),g=s(147                                            ),E=s(475                            ),y=s(505                                 ),_=s(886                                                         ),R=s(773                                                    ),S=s(887              ),C=s(888                                    ),D=s(136                                 ),N=s(889                              ),x=s(169                                    ),b=s(817                             ),O=d.pxToInt(C.modalWidth),I=d.pxToInt(C.modalHeight),T=d.pxToInt(C.folderRowHeight);function P(e){return!("folder"!==e.view&&"recentFiles"!==e.view&&"searchDeprecated"!==e.view)?"_self":"_blank"}function k(e,o){return o.is_subscribed||m.isADraftsFolder(e,o.id)}o.getTargetAttribute=P,o.isSubscribed=k,o.FILE_MOVE_MODAL="file-move-modal",D.registerUnsafeModal(o.FILE_MOVE_MODAL,e=>t.createElement(B,Object.assign({fileMove:e.fileMove,modalShown:e.modalShown,creatingNewFolder:e.creatingNewFolder,dropdownShown:e.dropdownShown,selectedView:e.selectedView,dispatch:e.dispatch},h.getPermissionsState(e))));class B extends t.PureComponent{constructor(){super(...arguments),this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.scrollContainerRef=(e=>{this.scrollContainer=e,this.scrollContainerElm=i.findDOMNode(e)}),this.modalData=(()=>this.props.modalShown.data),this.onScroll=(()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(a.fileMove.canMouseFocus({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(a.fileMove.canMouseFocus({canFocus:!0}))},200)}),this.onkeydown=(e=>{if(!(this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused))switch(e.keyCode){case p.Key.ESCAPE:return void this.onClose();case p.Key.UP_ARROW:return void this.props.dispatch(a.fileMove.decrementFocusedIndex());case p.Key.DOWN_ARROW:return void(this.props.fileMove.indexCount&&this.props.dispatch(a.fileMove.incrementFocusedIndex({upperBound:this.props.fileMove.indexCount})));case p.Key.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;const e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===f.FolderRowType.NEW_FOLDER_TEAM)this.props.dispatch(l.fileBrowser.openNewFolderModal({where:o.FILE_MOVE_MODAL,teamId:e.id}));else if(e.type===f.FolderRowType.FOLDER_ROW){const o=this.props.folders[e.id];if(!o)break;this.moveFile(o)}return}}}),this.onClose=(()=>{this.props.dispatch(l.fileBrowser.hideModal())}),this.moveFileToSelectedFolder=(()=>{const e=this.getFocusedFolder();e&&this.moveFile(e)}),this.moveFile=(e=>{const o=this.props.fileByKey[this.modalData().fileKey];e&&e.id!==o.folder_id?this.props.dispatch(n.file.tryMove({files:[o],folder:e,fromFileModal:!0})):this.onClose()}),this.getFocusedFolder=(()=>{const e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return e&&e.type===f.FolderRowType.FOLDER_ROW?this.props.folders[e.id]:null}),this.onFileMoveContextMenu=((e,o)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(l.fileBrowser.showDropdown({type:this.FILE_MOVE_DROPDOWN,data:{folderId:o.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))})}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.props.dispatch(a.fileMove.isSearchFocused({isSearchFocused:!0}))}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,o){const s=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==s){if(!this.scrollContainerElm)return;if(-1===s)return;const e=this.props.fileMove.folderRows[s].positionTop,o=this.scrollContainer.getScrollTop(),t=this.scrollContainerElm.clientHeight;e<o?0===s?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+T>o+t&&(null!=this.props.fileMove.indexCount&&s===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-t+T))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(a.fileMove.setKeyPressedToFalse())}renderDropdown(){const e=this.props.dropdownShown;if(!(e&&e.type===this.FILE_MOVE_DROPDOWN&&e.data&&e.data.folderId))return null;const o=this.props.folders[e.data.folderId];return o?t.createElement(A,Object.assign({folder:o,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch},h.getPermissionsState(this.props))):null}render(){const e=this.props.fileByKey[this.modalData().fileKey],o=null==e.folder_id?null:this.props.folders[e.folder_id],s=this.getFocusedFolder(),i=s&&o&&s.id!==o.id,r=Math.min(.8*window.innerHeight+36,I),n=new c.Vector(window.innerWidth/2-O/2,window.innerHeight/2-r/2);let l=0===this.props.fileMove.teamOrder.length;return t.createElement(R.DraggableModalBgDisabled,{title:t.createElement(K,{folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.moveFile,dispatch:this.props.dispatch}),headerSize:"small",initialPosition:n,dragHeaderOnly:!0,onClose:this.onClose},t.createElement("div",{className:S.main},this.props.fileMove.folderSearchQuery&&l?t.createElement("div",{className:S.emptyModal},`No results found for '${this.props.fileMove.folderSearchQuery}'`):t.createElement(M.ScrollContainer,{width:O,className:S.teamSectionBody,showScrollbar:!0,ref:this.scrollContainerRef,onScroll:this.onScroll},t.createElement(L,Object.assign({fileToMove:e,fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,indexOffsets:this.props.fileMove.indexOffsets,dispatch:this.props.dispatch},h.getPermissionsState(this.props)))),t.createElement("div",{className:S.footer},t.createElement(g.ButtonSecondary,{onClick:this.onClose},"Cancel"),t.createElement(g.ButtonPrimary,{disabled:!i,onClick:this.moveFileToSelectedFolder},"Move"))),this.renderDropdown(),t.createElement(V,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder}))}}o.FileMoveModal=B,B.displayName="FileMoveModal";class K extends t.PureComponent{constructor(e){super(e),this.onFocus=(()=>{this.props.dispatch(a.fileMove.resetFocusedIndex()),this.props.dispatch(a.fileMove.isSearchFocused({isSearchFocused:!0}))}),this.onBlur=(()=>{this.props.dispatch(a.fileMove.isSearchFocused({isSearchFocused:!1}))}),this.onChange=(e=>{e.stopPropagation(),this.props.dispatch(a.fileMove.setFolderSearchQuery({query:e.currentTarget.value}))}),this.onSearchKeyDown=(e=>{e.stopPropagation();const o=this.searchInputRef.current;switch(e.keyCode){case p.Key.DOWN_ARROW:o&&o.blur(),null!=this.props.folderCount&&this.props.dispatch(a.fileMove.incrementFocusedIndex({upperBound:this.props.folderCount}));break;case p.Key.UP_ARROW:o&&o.blur(),this.props.dispatch(a.fileMove.decrementFocusedIndex());break;case p.Key.ESCAPE:if(!o)break;o.value?(o.value="",this.props.dispatch(a.fileMove.setFolderSearchQuery({query:""}))):o.blur(),this.props.dispatch(a.fileMove.resetFocusedIndex());break;case p.Key.TAB:o&&o.blur(),this.props.dispatch(a.fileMove.resetFocusedIndex());break;case p.Key.ENTER:{o&&o.blur();const e=this.props.getFocusedFolder();e&&this.props.moveFolder(e);break}}}),this.searchInputRef=t.createRef()}componentDidMount(){const e=this.searchInputRef.current;e&&e.focus()}render(){return t.createElement("div",{className:S.title},t.createElement("p",null,"Move to Project"),t.createElement("div",null,t.createElement(F.LazyInput,{ref:this.searchInputRef,placeholder:"Search",onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?S.searchInput:S.searchInputEmpty,value:this.props.searchQuery,onChange:this.onChange})))}}o.FileMoveSearch=K,K.displayName="FileMoveSearch";class L extends t.PureComponent{render(){const{fileMove:e}=this.props;return t.createElement("div",null,null!=e.teamOrder&&e.teamOrder.map(o=>{if(o===u.USER_FOLDERS&&null!=e.foldersByTeamId&&0===e.foldersByTeamId[o].length)return;let s=!0;const i=this.props.teams[o];return o===u.USER_DRAFTS&&(s=!1),t.createElement("div",{className:S.teamSection,key:`Team Section ${o}`},s&&t.createElement("div",{className:S.teamTitle},o===u.USER_FOLDERS&&t.createElement(w.Svg,{svg:b}),o!==u.USER_FOLDERS&&t.createElement("div",{className:S.iconContainer},t.createElement(E.Avatar,{entity:this.props.teams[o],size:24})),t.createElement("div",{className:S.teamTitleText},o===u.USER_FOLDERS?"Shared Projects":this.props.teams[o].name)),i&&t.createElement(_.NewFolder,Object.assign({teamId:o,shouldRedirect:!1,where:"file-move-modal",dispatch:this.props.dispatch,isFocused:e.focusedIndex===this.props.indexOffsets[o],creatingNewFolder:this.props.creatingNewFolder},h.getPermissionsState(this.props))),null!=e.foldersByTeamId&&(e.foldersByTeamId[o]||[]).map((s,r)=>{let n=r+this.props.indexOffsets[o];return i&&(n+=1),t.createElement(W,{key:`${s.team_id} ${s.id}`,folderBeingRenamed:e.folderRenaming,folders:this.props.folders,index:n,isFocused:e.focusedIndex===n,folder:s,isSearchingFolders:!!e.isSearchResult,fileToMove:this.props.fileToMove,onFileMoveContextMenu:this.props.onFileMoveContextMenu,dispatch:this.props.dispatch})}))}),t.createElement("div",{className:S.searchForMoreRow},t.createElement("div",{className:S.iconContainer}),t.createElement("div",{className:S.folderName},"Don't see a project? Try searching for it.")))}}o.TeamDisplay=L,L.displayName="TeamDisplay";class W extends t.PureComponent{constructor(){super(...arguments),this.submitFolderRename=((e,o)=>{this.props.dispatch(r.folder.rename({folderId:e.id,folderName:o})),this.props.dispatch(a.fileMove.endFolderRename())}),this.cancelFolderRename=(()=>{this.props.dispatch(a.fileMove.endFolderRename())}),this.focusFolder=((e,o)=>{o.preventDefault(),this.props.dispatch(a.fileMove.setFocusedIndexAt({indexAt:this.props.index}))}),this.onContextMenu=((e,o)=>{this.props.onFileMoveContextMenu(o,e)}),this.renderFolderRename=(e=>t.createElement("div",{className:S.folderRow},t.createElement(y.Input,{key:`input ${e.id}`,className:S.renameInput,placeholderValue:m.getFolderName(e),submit:this.submitFolderRename.bind(this,e),cancel:this.cancelFolderRename}))),this.renderFolderRow=(e=>{const o=this.props.fileToMove.folder_id===e.id,s=k(this.props.folders,e)&&this.props.isSearchingFolders;return t.createElement("div",{className:S.folderRow},t.createElement("div",{className:S.iconContainer},o&&t.createElement(w.Svg,{svg:x})),t.createElement("span",{className:S.folderName},m.getFolderName(e)),t.createElement("div",{className:S.iconContainer},s&&t.createElement(w.Svg,{svg:N})))})}render(){const e=this.props.folderBeingRenamed?S.folderRowWrapper:this.props.isFocused?S.folderRowWrapperFocused:S.folderRowWrapper,o=this.props.folder;return t.createElement("div",{className:e,onMouseDown:this.focusFolder.bind(this,o),key:`${o.team_id} ${o.id}`,onContextMenu:this.onContextMenu.bind(this,o)},this.props.folderBeingRenamed===o.id?this.renderFolderRename(o):this.renderFolderRow(o))}}o.FolderSection=W,W.displayName="FolderSection";class A extends t.PureComponent{constructor(){super(...arguments),this.renameFolder=(()=>{this.props.dispatch(a.fileMove.startFolderRename({folderId:this.props.folder.id}))})}render(){const e=this.props.folder,o=h.canEditFolder(this.props.folder.id,this.props)&&!!e.name,s=`/files/project/${e.id}`,i=P(this.props.selectedView);return t.createElement(v.dropdown.Dropdown,{className:S.fileMoveContextMenu,style:this.props.dropdownShown.data.position},t.createElement(v.dropdown.Option,{disabled:!o,onClick:this.renameFolder},"Rename"),t.createElement(v.dropdown.Separator,null),t.createElement(v.dropdown.Option,{href:s,target:i},"Show in Files..."))}}o.FileMoveDropdown=A,A.displayName="FileMoveDropdown";class V extends t.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=(e=>{this.hiddenDiv=e})}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return t.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}o.FileMoveHiddenDiv=V,V.displayName="FileMoveHiddenDiv"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),l=s(280                             ),o=s(348                                    ),n=s(154                                 ),r=s(136                                 );t.FILE_DELETE_COMPONENT_UNPUBLISH_WARNING="file-delete-component-unpublish-warning",r.registerUnsafeModal(t.FILE_DELETE_COMPONENT_UNPUBLISH_WARNING,e=>{let t=e.modalShown.data.filesToDeleteByKey;return i.createElement(a,Object.assign({filesToDeleteByKey:t},e))});class a extends i.Component{constructor(){super(...arguments),this.deleteFiles=(()=>{this.props.dispatch(l.file.deleteFiles({fileKeys:this.props.filesToDeleteByKey,userInitiated:!0})),this.props.dispatch(o.tileSelect.resetTileSelection())})}render(){const e=Object.keys(this.props.filesToDeleteByKey),t=e.length;if(0===t)return null;let s,l,o;if(1===t){l=`Are you sure you want to delete ${s=this.props.filesToDeleteByKey[e[0]].name}? Its published components will disappear from the Team Library.`,o=`Delete ${s}`}else l=`Are you sure you want to delete these ${s=`${t} files`}? Their published components will disappear from the Team Library.`,o="Delete";return i.createElement(n.ConfirmationModal,Object.assign({content:l,confirmText:o,onConfirm:this.deleteFiles},this.props))}}a.displayName="DeleteFilesUnpublishWarning"}),
(function(e,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=a(2,1    ),t=a(154                                 ),r=a(136                    );o.FILE_MOVE_CONFIRM_MODAL="file-move-confirm-modal",r.registerUnsafeModal(o.FILE_MOVE_CONFIRM_MODAL,e=>n.createElement(i,Object.assign({modal:e.modalShown},e)));class i extends n.Component{render(){let e=this.props.modal;return n.createElement(t.ConfirmationModal,Object.assign({content:e.data.message,confirmText:"Move",onConfirm:e.data.onConfirm,onCancel:e.data.onCancel},this.props))}}o.FileMoveConfirmModal=i,i.displayName="FileMoveConfirmModal"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=i(93                                   ),s=i(206                             ),a=i(189                             ),r=i(113                                     ),o=i(172                                              ),d=i(280                             ),c=i(118                    ),n=i(348                                    ),f=i(347                           ),p=i(186                      ),u=i(135                     ),y=i(125                        ),h=i(357                  ),m=i(108     ),g=i(86            ),_=i(104              ),v=i(288               ),F=i(99                      ),b=i(45,1            ),w=i(85                   ),k=i(280                             ),S=i(102              ),E=i(195                                           ),I=i(890                                        ),O=i(262                                     ),B=i(112          ),M=i(891                                                                ),A=i(427                                   ),D=i(892                                      ),R=i(825                                               );var K=!1;t.dispatchSetActiveUsers=((e,t,i=!1)=>{const l=t.getState();for(let s in e){if(i&&l.activeFileUsers&&s in l.activeFileUsers)continue;const a=e[s],r=[];if(a)for(let e in a){let t=JSON.parse(a[e]);r.push(t)}t.dispatch(d.file.setActiveUsers({fileKey:s,users:r}))}});const T=g.debounce((e,i)=>{let l=i.getState();l.activeFileUsers&&(e=e.filter(e=>!(e in l.activeFileUsers))),e.length&&m.default.post("/api/active_file_users",{keys:e}).then(e=>{const l=e.data.meta.active_file_users;t.dispatchSetActiveUsers(l,i,!0)}).catch(e=>{})},1e3);t.selectedViewReducerWasSkipped=!1,t.default=(e=>i=>(function(g){const q=()=>{e.dispatch(d.file.restoreTrashedFiles({fileKeys:g.payload.fileKeys,userInitiated:!0})),e.dispatch(o.visualBell.dequeue({}))};if(d.file.getActiveUsers.matches(g))return T(g.payload.fileKeys,e),i(g);if(d.file.tryDeleteFiles.matches(g)){for(let t in g.payload.filesByKey){const l=g.payload.filesByKey[t];if(!l.team_id)continue;const s=e.getState().library.published.components[l.team_id],a=s&&s[l.key];if(a)for(let t in a)if(null==a[t].unpublished_at)return e.dispatch(r.fileBrowser.showModal({type:M.FILE_DELETE_COMPONENT_UNPUBLISH_WARNING,data:{filesToDeleteByKey:g.payload.filesByKey}})),i(g)}return e.dispatch(d.file.deleteFiles({fileKeys:g.payload.filesByKey,userInitiated:!0})),e.dispatch(n.tileSelect.resetTileSelection()),i(g)}if(a.orgs.switchActiveOrgAndSetCurrentOrgId.matches(g))K=!1,e.dispatch(r.fileBrowser.setDeletedFiles({deletedFiles:[]}));else{if(s.team.del.matches(g))return K=!1,e.dispatch(r.fileBrowser.setDeletedFiles({deletedFiles:[]})),i(g);if(r.fileBrowser.selectView.matches(g)){let s=g;if("deletedFiles"===g.payload.view){if(K)return i(g);K=!0;let t={org_id:e.getState().currentOrgId||""};m.default.get("/api/trashed_files",t).then(t=>{let i=JSON.parse(t.response);e.dispatch(r.fileBrowser.setDeletedFiles({deletedFiles:i.meta}))})}else if("fullscreen"===g.payload.view&&g.payload.fileKey){if(!e.getState().userStateLoaded)return i(g);const a=y.getPermissionsState(e.getState()),o=a.fileByKey[g.payload.fileKey];if(!o)return i(g);const d=w.getFeatureFlags().branching_and_merging;if(!y.canViewFile(o.key,a,void 0,d)){const i=null!=o.folder_id?a.orgDraftsOwners[o.folder_id]:null;i&&y.isOrgUserRestricted(i)?e.dispatch(r.fileBrowser.showModal({type:R.VIEW_RESTRICTED_FILE_MODAL,data:{user:i.user}})):e.dispatch(l.flash.error("You don't have permission to open this file.")),t.selectedViewReducerWasSkipped=!0,s=Object.assign(Object.assign({},g),{payload:e.getState().selectedView})}}return i(s)}if(d.file.copySelectedToDrafts.matches(g)||d.file.copySelected.matches(g)){let t=e.getState();const s=c.getUserDraftsFolderOrNull(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers);let a=Object.keys(t.tileSelect&&t.tileSelect[f.TileSelectionType.FILES]||{}).concat(Object.keys(t.tileSelect&&t.tileSelect[f.TileSelectionType.PINNED_FILES]||{})).map(e=>{let i=t.fileByKey[e];const l=s?s.id:i.folder_id;return{key:e,folderId:d.file.copySelected.matches(g)&&null!=i.folder_id&&y.canEditFolder(i.folder_id,t)?i.folder_id:l}});return v.parallel(a.map(({key:t,folderId:i})=>{const s=m.default.post(`/api/multiplayer/${t}/copy?${_.encode({folder_id:i})}`);return s.catch(({data:t})=>{t&&t.message?e.dispatch(l.flash.error(t.message)):e.dispatch(l.flash.error("An error occurred while duplicating this file."))}),s})).then(i=>{if(!i.some(e=>"reject"===e.type)){let l=a.filter(e=>s&&e.folderId===s.id).length;if(l>0&&s&&("folder"!==t.selectedView.view||t.selectedView.folderId!==s.id)){const t=(1===a.length?"File":l===a.length?l+" files":"Some files")+" duplicated to your Drafts",i={text:"Show",action:()=>{s&&e.dispatch(r.fileBrowser.selectView({view:"folder",folderId:s.id})),e.dispatch(o.visualBell.dequeue({}))}};e.dispatch(o.visualBell.enqueue({type:"file_duplicated",message:t,button:i}))}"searchDeprecated"===t.selectedView.view&&t.fileSearch&&null!=t.fileSearch.query&&e.dispatch(r.fileBrowser.setFileSearchQuery({query:t.fileSearch.query}));const d=i.map(e=>null!=e.resolve?e.resolve.data.meta:null).filter(e=>null!=e);p.trackEventForFileCopy(a,d,e.getState())}}),i(g)}if(d.file.deleteFiles.matches(g)||d.file.deleteFilesForever.matches(g)){let t=d.file.deleteFiles.matches(g);if(g.payload.userInitiated){let s=F.getOptimisticTransactionID(),a=Object.keys(g.payload.fileKeys);m.default.del("/api/files_batch",{files:a.map(e=>({key:e})),trashed:t}).then(r=>{if(207===r.status){i({type:null,optimist:{type:b.REVERT,id:s}});try{let t=JSON.parse(r.response),i={};Object.keys(t.meta.success).forEach(e=>{i[e]=!0});let s=h.getDeleteFilesPayload(i,e.getState(),!1);e.dispatch(d.file.deleteFiles({fileKeys:s,userInitiated:!1})),e.dispatch(l.flash.error(t.message))}catch(c){e.dispatch(l.flash.error("An error occurred while deleting these files."))}}else{const l=1===a.length?"File deleted":`${a.length} files deleted`;t?e.dispatch(o.visualBell.enqueue({type:"file_deleted",message:l,button:{text:"Undo",action:q}})):e.dispatch(o.visualBell.enqueue({type:"file_deleted",message:`${l} forever`})),i({type:null,optimist:{type:b.COMMIT,id:s}})}}).catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(l.flash.error(t.message))}catch(a){e.dispatch(l.flash.error("An error occurred while deleting these files."))}i({type:null,optimist:{type:b.REVERT,id:s}})}),(g=Object.assign({},g)).optimist={type:b.BEGIN,id:s};const r=t?"File Trashed":"File Deleted";return p.trackBatchEventForFiles(r,a,e.getState()),i(g)}return i(g)}if(d.file.restoreTrashedFiles.matches(g)){if(g.payload.userInitiated){let t=e.getState(),s=F.getOptimisticTransactionID(),a=Object.keys(g.payload.fileKeys);m.default.post("/api/files_batch/restore",{files:a.map(e=>({key:e}))}).then(n=>{if(207===n.status){i({type:null,optimist:{type:b.REVERT,id:s}});try{let t=JSON.parse(n.response),i={};Object.keys(t.meta.success).forEach(e=>{i[e]=!0});let s=h.getRestoreFilesPayload(i,e.getState(),!1);e.dispatch(d.file.restoreTrashedFiles({fileKeys:s,userInitiated:!1})),e.dispatch(l.flash.error(t.message))}catch(f){e.dispatch(l.flash.error("An error occurred while restoring these files."))}}else{let l,d=1===a.length?"File restored":`${a.length} files restored`,n=null,f=!0;for(let e of a)if(null===n)n=t.fileByKey[e].folder_id;else if(n!==t.fileByKey[e].folder_id){f=!1;break}if(f){const i=e.getState().selectedView;if(!i||"folder"!==i.view||i.folderId!==n){const i=c.getUserDraftsFolderOrNull(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers);l={text:`Show in ${i&&n===i.id?"Drafts":"project"}`,action:()=>{null!=n&&e.dispatch(r.fileBrowser.selectView({view:"folder",folderId:n})),e.dispatch(o.visualBell.dequeue({}))}}}}e.dispatch(o.visualBell.enqueue({type:"file_restored",message:d,button:l})),i({type:null,optimist:{type:b.COMMIT,id:s}})}}).catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(l.flash.error(t.message))}catch(a){e.dispatch(l.flash.error("An error occurred while restoring these files."))}i({type:null,optimist:{type:b.REVERT,id:s}})}),(g=Object.assign({},g)).optimist={type:b.BEGIN,id:s};const n=Object.keys(g.payload.fileKeys);return p.trackBatchEventForFiles("File Restored",n,e.getState()),i(g)}return i(g)}if(d.file.updateSavepoint.matches(g)){const t=m.default.put(`/api/versions/${g.payload.file.key}/${g.payload.savepointID}`,{label:g.payload.label,description:g.payload.description});return F.optimisticRequestWithErrorHandling({requestPromise:t,fallbackError:"An error occurred while updating this version.",store:e,next:i,action:g}),i(g)}if(d.file.duplicate.matches(g)||d.file.duplicateCheckpoint.matches(g)){let t=e.getState(),l=!!t.editingFileKey,s={},a=t.fileByKey[g.payload.file.key],n=null!=a.folder_id&&y.canEditFolder(a.folder_id,t);const f=c.getUserDraftsFolderOrNull(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers);s.folder_id=n||!f?a.folder_id:f.id,d.file.duplicateCheckpoint.matches(g)&&(s.checkpoint_key=g.payload.checkpointKey);let u=m.default.post(`/api/multiplayer/${a.key}/copy?${_.encode(s)}`).then(({data:t})=>{if(!t.error&&t.meta&&l){const i=t.meta;p.trackEventForFile("File Duplicated",a.key,e.getState(),{duplicatedFileKey:i.key,duplicatedContainingFolderId:i.folder_id,duplicatedFileTeamId:i.team_id}),e.dispatch(o.visualBell.enqueue({type:"file_duplicated",message:`File duplicated${n?"":" to your Drafts"}`,button:{text:"Open",action:t=>{e.dispatch(o.visualBell.dequeue({})),t.shiftKey||t.ctrlKey||t.metaKey?B.redirect(i.url,"_blank"):(e.dispatch(d.file.put({file:i})),e.dispatch(r.fileBrowser.selectView({view:"fullscreen",fileKey:i.key})))}}}))}});return F.optimisticRequestWithErrorHandling({requestPromise:u,fallbackError:"An error occurred while copying this file.",store:e,next:i,action:g})}if(d.file.tryMove.matches(g)){const t=i(g);if(g.payload.files.length>0){const i=e.getState(),s=g.payload.folder;if(!y.canEditFolder(s.id,i))return e.dispatch(l.flash.error(`You don't have permission to move files into '${s.name}.'`)),t;let a=null,o=!1,c=null;for(let r of g.payload.files){const s=r.folder_id?i.folders[r.folder_id]:null;if(!y.canManageFile(r.key,i,!0))return e.dispatch(l.flash.error(`You don't have permission to remove files from ${s?s.name:"this project"}.`)),t;const d=i.figFilePublishedAsHubFile[r.key]||null,c=d&&i.hubFiles[d]||null;if(null==c?void 0:c.publisher.team_id)return e.dispatch(l.flash.error(`You can't move a file that's been published to the Community Hub by a team. File ${r.name} has been published by team ${c.publisher.name}.`)),t;a?s&&a.id===s.id||(o=!0):a=s}if(s.team_id&&(!a||a.team_id!==s.team_id)&&u.isFolderEditingLockedForUser(s,i))return e.dispatch(r.fileBrowser.showModal({type:E.UPSELL_MOVE_FILE_MODAL,data:{teamId:s.team_id}})),t;if(a)if(a.team_id){let e=i.teams[a.team_id];o?c=`Are you sure you want to move these files? Members of ${e?e.name:"this team"} may lose access to some of them.`:a.team_id!==s.team_id&&(c=1===g.payload.files.length?`Are you sure you want to move this file? Members of ${e?e.name:"this team"} may lose access to it.`:`Are you sure you want to move these files? Members of ${e?e.name:"this team"} may lose access to them.`)}else y.isFolderShared(a.id,i)&&(c=o?`Are you sure you want to move these files? Members of '${a.name}' may lose access to some of them.`:1===g.payload.files.length?`Are you sure you want to move this file? Members of '${a.name}' may lose access to it.`:`Are you sure you want to move these files? Members of '${a.name}' may lose access to them.`);else c=o?"Are you sure you want to move these files? Members of the previous projects may lose access to them.":1===g.payload.files.length?"Are you sure you want to move this file? Members of the previous project may lose access to it.":"Are you sure you want to move these files? Members of the previous project may lose access to them.";c&&!g.payload.fromFileModal?e.dispatch(r.fileBrowser.showModal({type:D.FILE_MOVE_CONFIRM_MODAL,data:{message:c,onConfirm:()=>{e.dispatch(d.file.move({files:g.payload.files,folderId:g.payload.folder.id}))}}})):e.dispatch(d.file.move({files:g.payload.files,folderId:g.payload.folder.id,fromFileModal:g.payload.fromFileModal}))}return t}if(d.file.move.matches(g)){const t=g.payload.files;if(t.length>0){const l=t.map(e=>e.key);p.trackBatchEventForFiles("File Moved",l,e.getState());const s=m.default.put("/api/files_batch",{files:t.map(e=>({key:e.key,folder_id:g.payload.folderId}))});return s.then(({data:t})=>{const i=t&&t.meta&&t.meta.success||{};for(let l in i)e.dispatch(d.file.put({file:i[l]}));if(g.payload.fromFileModal){const t=e.getState(),i=t.folders[g.payload.folderId];e.dispatch(o.visualBell.enqueue({type:"file-moved",message:`Moved '${g.payload.files[0].name}' to ${c.getFolderName(i)}`}));const l=t.modalShown;if(l&&l.type===I.FILE_MOVE_MODAL){const t=l.data;e.dispatch(r.fileBrowser.hideModal()),t.isPublishing&&t.afterFileMove&&t.afterFileMove()}}}),F.optimisticRequestWithErrorHandling({requestPromise:s,fallbackError:"An error occurred while processing this file.",store:e,next:i,action:g})}return i(g)}if(d.file.put.matches(g))return g.payload.userInitiated?(g.payload.file.created_at&&console.error("It looks like you are PUT-ting to the API with the entire file object; please only pass the key and changed attributes"),F.optimisticRequestWithErrorHandling({requestPromise:m.default.put(`/api/files/${g.payload.file.key}`,g.payload.file),fallbackError:"An error occurred while processing this file.",store:e,next:i,action:g})):i(g);if(d.file.stopRenaming.matches(g)){if(g.payload.name){const t={key:g.payload.file.key,name:g.payload.name,folder_id:g.payload.file.folder_id,link_access:g.payload.file.link_access,updated_at:(new Date).toISOString()};e.dispatch(d.file.put({file:t,userInitiated:!0})),p.trackEventForFile("File Renamed",t.key,e.getState(),{fileName:t.name})}return i(g)}if(d.file.createSavepoint.matches(g)){const t=h.createSavepoint(g.payload.file.key,g.payload.label,g.payload.description,e);return F.optimisticRequestWithErrorHandling({requestPromise:t,fallbackError:"You must be online to save this version.",store:e,next:i,action:g}),i(g)}if(d.file.restore.matches(g)){let t=m.default.post(`/api/multiplayer/${g.payload.file.key}/restore?checkpoint_key=${encodeURIComponent(g.payload.checkpointKey)}`).then(()=>{B.locationReload("File restored",{key:g.payload.file.key})});return F.optimisticRequestWithErrorHandling({requestPromise:t,fallbackError:"An error occurred while restoring this version.",store:e,next:i,action:g}),i(g)}if(d.file.markViewed.matches(g))return m.default.post(`/api/files/${g.payload.file.key}/view`).catch(()=>{}),i(g);if(d.file.copyLink.matches(g)){const t=g.payload.url,l=g.payload.copyType||k.CopyType.FILE_URL;return S.copyText(t).then(()=>{p.trackEventForFile(l===k.CopyType.EMBED_CODE?"Embed Code Copied":"File Share Link Copied",g.payload.file.key,e.getState()),g.payload.skipVisualBell||e.dispatch(o.visualBell.enqueue({type:"link_copied_to_clipboard",message:l===k.CopyType.EMBED_CODE?"Embed code copied to clipboard":O.defaultStringsRaw["link-copied"]}))}).catch(()=>{e.dispatch(r.fileBrowser.showModal({type:A.TILE_COPY_LINK_MODAL,data:{link:t}}))}),i(g)}if(d.file.recentFilesDelete.matches(g)){if(g.payload.userInitiated){const t=g.payload.files.map(e=>e.key);let l=m.default.del("/api/files_batch/view",{file_keys:t}),s=g.payload.files.length>1?"these files":"this file";return p.trackBatchEventForFiles("File RecentFiles Removed",t,e.getState()),F.optimisticRequestWithErrorHandling({requestPromise:l,fallbackError:`An error occurred while removing ${s} from Recently Viewed.`,store:e,next:i,action:g})}return i(g)}}return i(g)}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(2,1    ),n=a(154                                 ),s=a(191          ),r=a(136                    );t.TEAM_FOLDER_MOVE_CONFIRM_MODAL="team-folder-move-confirm-modal",r.registerUnsafeModal(t.TEAM_FOLDER_MOVE_CONFIRM_MODAL,e=>o.createElement(m,Object.assign({modal:e.modalShown},e)));class m extends o.Component{render(){let e=this.props.modal,t=e.data.folder,a=this.props.teams[t.team_id];const r=e.data.destinationTeam;return o.createElement(n.ConfirmationModal,Object.assign({content:o.createElement("span",null,"Are you sure you want to move ",o.createElement("span",{className:s.important},t.name)," to ",o.createElement("span",{className:s.important},r.name),"? Members of ",o.createElement("span",{className:s.important},a.name)," will no longer be able to access this project, unless you explicitly invite them."),confirmText:"Move Project",confirmationTitle:"Are you sure you want to move this project?",onConfirm:e.data.onConfirm},this.props))}}m.displayName="TeamFolderMoveConfirmModal"}),
(function(o,e,n){o.exports={projectName:"new_folder_modal--projectName--2MPSu basic_form--textInput--3ZlM2 basic_form--input--3cO2P",row:"new_folder_modal--row--2qQRC",inviteSelect:"new_folder_modal--inviteSelect--kSLFs",access:"new_folder_modal--access--1vfWk",avatar:"new_folder_modal--avatar--2MQGN",icon:"new_folder_modal--icon--iYU1L",lockIcon:"new_folder_modal--lockIcon--30PBG new_folder_modal--icon--iYU1L",buttons:"new_folder_modal--buttons--Z9CT0",contextMenu:"new_folder_modal--contextMenu--1xq7Z"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),o=s(138      ),r=s(123         ),i=s(179        ),l=s(135                     ),n=s(125                        ),d=s(113                                     ),c=s(188                               ),p=s(875                       ),h=s(409                                  ),m=s(147                                            ),v=s(146                        ),w=s(475                            ),E=s(758                                              ),f=s(895                     ),L=s(137                                    ),g=s(195                                           ),_=s(136                                 ),N=s(417                         ),D=s(816                        );t.NEW_FOLDER_MODAL="new-project-modal",_.registerUnsafeModal(t.NEW_FOLDER_MODAL,e=>a.createElement(F,Object.assign({dropdownShown:e.dropdownShown,dispatch:e.dispatch,creatingNewFolder:e.creatingNewFolder,modalShown:e.modalShown},n.getPermissionsState(e))));class F extends a.PureComponent{constructor(e){super(e),this.NEW_FOLDER_DROPDOWN="new-folder-dropdown",this.textAreaRef=a.createRef(),this.createFolder=(()=>{let e=!1,t=!1;switch(this.state.folderLevel){case p.FolderLevel.EDIT:e=!1,t=!1;break;case p.FolderLevel.VIEW:e=!1,t=!0;break;case p.FolderLevel.DISABLE:e=!0,t=!1;break;default:i.assertNever(this.state.folderLevel)}this.props.dispatch(c.folder.create({shouldRedirect:!this.props.modalShown.prevModal,name:this.state.name.trim(),teamId:this.props.creatingNewFolder.teamId,isInviteOnly:e,isViewOnly:t}))}),this.onKeyDown=(e=>{e.keyCode===o.Key.ENTER&&(e.preventDefault(),this.createFolder())}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.NEW_FOLDER_DROPDOWN),this.togglePermissionDropdown=(()=>{this.isDropdownShown()?this.props.dispatch(d.fileBrowser.hideDropdown()):this.props.dispatch(d.fileBrowser.showDropdown({type:this.NEW_FOLDER_DROPDOWN}))}),this.onClose=(()=>{this.props.dispatch(d.fileBrowser.popModalStack()),this.props.dispatch(d.fileBrowser.stopCreateNewFolder())}),this.onNameChange=(e=>{const t=e.target;this.setState({folderLevel:this.state.folderLevel,name:t.value})}),this.setEdit=(()=>{this.setState({folderLevel:p.FolderLevel.EDIT,name:this.state.name})}),this.setPaidLevel=(e=>{l.canAccessProFeature(this.props.teams[this.props.creatingNewFolder.teamId])?this.setState({folderLevel:e,name:this.state.name}):(this.setState({folderLevel:p.FolderLevel.EDIT,name:this.state.name}),e===p.FolderLevel.VIEW?this.props.dispatch(d.fileBrowser.showModal({type:g.UPSELL_VIEW_ONLY_MODAL,data:{teamId:this.props.creatingNewFolder.teamId}})):this.props.dispatch(d.fileBrowser.showModal({type:g.UPSELL_INVITE_ONLY_MODAL,data:{teamId:this.props.creatingNewFolder.teamId}})))}),this.setViewOnly=(()=>{this.setPaidLevel(p.FolderLevel.VIEW)}),this.setInviteOnly=(()=>{this.setPaidLevel(p.FolderLevel.DISABLE)}),this.renderCurrentAccess=(()=>{switch(this.state.folderLevel){case p.FolderLevel.EDIT:case p.FolderLevel.VIEW:const e=this.state.folderLevel===p.FolderLevel.EDIT?"edit":"view",t=this.props.teams[this.props.creatingNewFolder.teamId];return a.createElement("div",{className:f.access},a.createElement("div",{className:f.avatar},a.createElement(w.TeamAvatar,{size:24,entity:t})),"Everyone at ",r.truncateText(t.name,13)||"this team"," can ",e,a.createElement(v.Svg,{className:f.icon,svg:N}));case p.FolderLevel.DISABLE:return a.createElement("div",{className:f.access},a.createElement(v.Svg,{className:f.lockIcon,svg:D}),"Invite Only",a.createElement(v.Svg,{className:f.icon,svg:N}))}}),this.state={folderLevel:p.FolderLevel.EDIT,name:""}}componentDidMount(){this.textAreaRef.current&&this.textAreaRef.current.select()}render(){const e=this.props.teams[this.props.creatingNewFolder.teamId],t=e.name||"this team";return a.createElement(L.TrackingContext,{name:"Create New Project Modal",properties:{teamId:e.id,editors:e.editors,projects:e.projects}},a.createElement(E.HeaderModal,{title:"Create New Project",onClose:this.onClose,maxWidth:468},a.createElement("div",{className:f.row},a.createElement("input",{className:f.projectName,ref:this.textAreaRef,onChange:this.onNameChange,onKeyDown:this.onKeyDown,placeholder:"Project name"})),a.createElement("div",{className:f.row},a.createElement("div",{className:f.inviteSelect,onClick:this.togglePermissionDropdown},this.renderCurrentAccess(),this.isDropdownShown()&&a.createElement(h.dropdown.Dropdown,{className:f.contextMenu},a.createElement(h.dropdown.CheckableOption,{onClick:this.setEdit,checked:this.state.folderLevel===p.FolderLevel.EDIT},"Everyone at ",r.truncateText(t,22)," can edit"),a.createElement(h.dropdown.CheckableOption,{onClick:this.setViewOnly,checked:this.state.folderLevel===p.FolderLevel.VIEW},"Everyone at ",r.truncateText(t,22)," can view"),a.createElement(h.dropdown.CheckableOption,{onClick:this.setInviteOnly,checked:this.state.folderLevel===p.FolderLevel.DISABLE},"Invite-only — let me choose who has access"))),a.createElement("div",{className:f.buttons},a.createElement(m.ButtonSecondary,{onClick:this.onClose},"Cancel"),a.createElement(m.ButtonPrimary,{disabled:!this.state.name.trim(),onClick:this.createFolder},"Create Project")))))}}t.NewFolderModal=F,F.displayName="NewFolderModal"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(2,1    ),a=o(191          ),r=o(113                                     ),l=o(154                                 ),n=o(147                                            ),c=o(136                    ),i=o(152                                          );t.BLOCK_MOVING_PRIVATE_PROJECT="BLOCK_MOVING_PRIVATE_PROJECT",c.registerUnsafeModal(t.BLOCK_MOVING_PRIVATE_PROJECT,e=>s.createElement(m,Object.assign({folder:e.modalShown.data.folder},e)));class m extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())})}render(){const e=this.props.folder.is_view_only;return s.createElement(l.Modal,{size:"small",className:a.modal,dispatch:this.props.dispatch},s.createElement(i.ModalCloseButton,Object.assign({},this.props)),s.createElement("div",{className:a.title},"Unable to move project"),s.createElement("div",null,"Projects set as ",e?"view only":"invite only"," cannot be moved between teams. To complete this operation, enable team ",e?"edit ":"","access for ",s.createElement("span",{className:a.important},this.props.folder.name)," and retry."),s.createElement("div",{className:a.buttonRow},s.createElement(n.ButtonPrimary,{onClick:this.closeModal},"Cancel")))}}m.displayName="BlockMovingPrivateProjectModal"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(100                               ),a=i(280                             ),r=i(93                                   ),s=i(113                                     ),d=i(188                               ),l=i(45,1            ),n=i(99                      ),c=i(123         ),f=i(108     ),p=i(186                      ),m=i(112          ),h=i(135                     ),_=i(125                        ),u=i(118                    ),w=i(195                                           ),y=i(894                                             ),g=i(896                                                               ),v=i(897                                                       );t.default=(e=>t=>(function(i){if(s.fileBrowser.selectView.matches(i)){if(e.getState().creatingNewFolder&&(e.dispatch(s.fileBrowser.hideModal()),e.dispatch(s.fileBrowser.stopCreateNewFolder())),"folder"===i.payload.view){const t=e.getState().folders[i.payload.folderId];if(!t)return m.locationReload("missing folder data, doing full reload to fix"),void e.dispatch(s.fileBrowser.selectView({view:"recentFiles"}));_.canViewFolder(t.id,e.getState())&&e.dispatch(d.folder.getPinnedFiles({folderId:i.payload.folderId}))}return t(i)}if(d.folder.put.matches(i)){t(i);let o=e.getState();_.canViewFolder(i.payload.folder.id,o)||e.dispatch(d.folder.del({folderIds:[i.payload.folder.id]}))}else{if(d.folder.rename.matches(i)){const{folderId:o,folderName:a}=i.payload;return p.trackEventForFolder("Folder Renamed",o,e.getState(),{folderName:a}),n.optimisticRequestWithErrorHandling({requestPromise:f.default.put("/api/folders/rename",{folder_id:i.payload.folderId,name:i.payload.folderName}),fallbackError:"An error occurred while renaming this project.",store:e,next:t,action:i})}if(d.folder.turnOffSlackNotifications.matches(i)){let o=i.payload,a=o.settings&&o.settings.webhooks&&Object.keys(o.settings.webhooks)[0];return a?n.optimisticRequestWithErrorHandling({requestPromise:f.default.put(`/api/folders/${o.id}`,{remove_slack_webhook_key:a}).then(()=>{e.dispatch(r.flash.flash("Slack notifications have been turned off for this project."))}),fallbackError:"An error occurred while turning off slack notifications.",store:e,next:t,action:i}):t(i)}if(d.folder.updateFolderAccess.matches(i))return n.optimisticRequestWithErrorHandling({requestPromise:f.default.put(`/api/folders/${i.payload.folderId}`,{is_invite_only:i.payload.isInviteOnly,is_view_only:i.payload.isViewOnly}),fallbackError:"An error while updating the folder's access.",store:e,next:t,action:i});if(d.folder.tryMove.matches(i)){t(i);let o=e.getState(),a=i.payload.folder,l=i.payload.teamId;if(a.team_id){if(!_.canEditTeam(a.team_id,o)){let t=o.teams[a.team_id];return void e.dispatch(r.flash.error(`You don't have permission to remove projects from ${t?t.name:"this team"}.`))}}else if(!_.canEditFolder(a.id,o))return void e.dispatch(r.flash.error("You don't have permission to move this project"));if(a.is_invite_only||a.is_view_only)return void e.dispatch(s.fileBrowser.showModal({type:v.BLOCK_MOVING_PRIVATE_PROJECT,data:{folder:a}}));if(l&&!_.canEditTeam(l,o)){let t=o.teams[l];return void e.dispatch(r.flash.error(`You don't have permission to move projects into ${t?t.name:"this team"}.`))}if(l&&(h.isTeamLockedForUser(l,o)||h.isTeamAtFolderLimit(l,o))){const t={teamId:l};return void e.dispatch(s.fileBrowser.showModal({type:w.UPSELL_NEW_FOLDER_MODAL,data:t}))}if(a.team_id){let t=o.teams[l];e.dispatch(s.fileBrowser.showModal({type:y.TEAM_FOLDER_MOVE_CONFIRM_MODAL,data:{folder:a,destinationTeam:t,onConfirm:()=>{e.dispatch(d.folder.move({folder:a,teamId:l}))}}}))}else e.dispatch(d.folder.move({folder:a,teamId:l}))}else{if(d.folder.move.matches(i))return p.trackEventForFolder("Folder Moved",i.payload.folder.id,e.getState(),{destTeamId:i.payload.teamId}),n.optimisticRequestWithErrorHandling({requestPromise:f.default.put("/api/folders/move",{folder_id:i.payload.folder.id,team_id:i.payload.teamId}),fallbackError:"An error occurred while moving this project.",store:e,next:t,action:i});if(!d.folder.del.matches(i)){if(s.fileBrowser.openNewFolderModal.matches(i)){const o=e.getState(),a=i.payload.where,d=i.payload.teamId;if(!o.creatingNewFolder||o.creatingNewFolder.where!==a||o.creatingNewFolder.teamId!=d)if(_.canEditTeam(d,o))if(h.isTeamAtFolderLimit(d,o)||h.isTeamLockedForUser(d,o)){const t={teamId:d};e.dispatch(s.fileBrowser.showModal({type:w.UPSELL_NEW_FOLDER_MODAL,data:t}))}else e.dispatch(s.fileBrowser.beginCreateNewFolder({where:a,teamId:d})),e.dispatch(s.fileBrowser.showModal({type:g.NEW_FOLDER_MODAL}));else{const t=o.teams[d];e.dispatch(r.flash.flash(`You don't have permission to create projects in ${t?t.name:"this team"}.`))}return t(i)}return t(i)}{let d=e.getState(),m=[],h=[];if(i.payload.folderIds.forEach(e=>{d.folders[e]&&m.push(d.folders[e]),d.fileKeysByFolderId[e]&&h.push(...d.fileKeysByFolderId[e])}),0===m.length&&0===h.length)return t(i);let w=void 0;const y="folder"===d.selectedView.view&&d.selectedView.folderId,g=y?i.payload.folderIds.indexOf(y):-1;g>-1&&(w=i.payload.folderIds[g]);const v={},F={},I=(new Date).getTime();m.forEach(e=>{h.forEach(t=>{const i=d.roles.byFileKey[t]&&d.roles.byFileKey[t][d.user.id];e.is_invite_only&&!i?F[t]=!0:v[t]=Object.assign(Object.assign({},d.fileByKey[t]),{folder_id:null,trashed_at:I})})});const E=a.file.deleteFiles({fileKeys:v,userInitiated:!1}),b=a.file.deleteFilesForever({fileKeys:F,userInitiated:!1}),O=n.getOptimisticTransactionID(),B=n.getOptimisticTransactionID(),A=n.getOptimisticTransactionID();if(i.payload.userInitiated&&(E.optimist={type:l.BEGIN,id:O},b.optimist={type:l.BEGIN,id:B}),e.dispatch(E),e.dispatch(b),i.payload.userInitiated){const a=[];m.forEach(e=>{p.trackEventForFolder("Folder Deleted",e.id,d),a.push(f.default.del(`/api/folders/${e.id}`))}),Promise.all(a).then(()=>{e.dispatch(o.optimistActions.commit(A)),e.dispatch(o.optimistActions.commit(O)),e.dispatch(o.optimistActions.commit(B))}).catch(()=>{e.dispatch(r.flash.error(`An error occurred while deleting ${c.getPluralOrSingular(a.length,"this project","these projects")}.`)),e.dispatch(o.optimistActions.revert(A)),e.dispatch(o.optimistActions.revert(O)),e.dispatch(o.optimistActions.revert(B)),w&&setTimeout(()=>{e.dispatch(s.fileBrowser.selectView({view:"folder",folderId:w}))},0)}),t(Object.assign(Object.assign({},i),{optimist:{type:l.BEGIN,id:A}}))}else t(i);if(w){const t=m.find(e=>e.id===w),i=t&&u.getFolderTeamId(t);t&&i&&u.isTeamFolder(t)&&_.canViewTeam(i,d)?e.dispatch(s.fileBrowser.selectView({view:"team",teamId:i})):e.dispatch(s.fileBrowser.selectView({view:"recentFiles"}))}}}}}))}),
(function(a,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const e=r(108     ),i=r(93                                   ),o=r(189                             ),s=r(335                               ),n=r(336                             );t.apiOrg=(a=>t=>(function(r){if(s.avatar.editorUploaded.matches(r)){if(r.payload.entityType!==n.EntityType.ORG)return t(r);const l=r.payload.entity.id;return e.default.put(`/api/orgs/${l}`,{img_url:r.payload.smallUrl,img_url_500_500:r.payload.largeUrl}).then(function(t){let r=JSON.parse(t.response).meta;a.dispatch(o.orgs.put({org:r})),a.dispatch(s.avatar.editorReset())},t=>{a.dispatch(i.flash.error("An error occurred: "+t.data.message)),console.error("An error occurred while setting the organization icon.",t),a.dispatch(s.avatar.editorReset())}),t(r)}return t(r)})),t.default=t.apiOrg}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(99                      ),r=a(123         ),s=a(108     ),o=a(45,1            ),n=a(100                               ),c=a(335                               ),d=a(113                                     ),l=a(685                                 ),m=a(93                                   ),p=a(205                             ),h=a(206                             ),u=a(186                      ),g=a(336                             ),f=a(317                       ),y=a(111          ),_=a(535                     ),b=a(352                                      ),v=a(188                               ),w=a(279                             );t.apiTeam=(e=>t=>(function(a){if(h.team.del.matches(a)){const r=e.getState(),c=a.payload.team.id,d=r.teams[c],p=Object.keys(r.folders).filter(e=>r.folders[e].team_id===c);if(!d&&0===p.length)return t(a);const h=v.folder.del({folderIds:p}),g=i.getOptimisticTransactionID();if(a.payload.userInitiated&&(h.optimist={type:o.BEGIN,id:g}),e.dispatch(h),a.payload.userInitiated&&a.payload.teamDelete)return u.trackEventForTeam("Org Team Deleted",c,r),i.optimisticRequestWithErrorHandling({requestPromise:s.default.del(`/api/teams/${c}`).then(()=>{e.dispatch(m.flash.flash(`You have deleted the team "${a.payload.team.name}"`)),e.dispatch(n.optimistActions.commit(g))}).then(()=>{e.dispatch(l.realtime.unsubscribe(`/team-${a.payload.team.id}`))}).catch(t=>{throw e.dispatch(n.optimistActions.revert(g)),t}),fallbackError:"An error occurred while deleting this team.",store:e,next:t,action:a});if(a.payload.userInitiated){if(!r.user)return t(a);const o=r.roles.byTeamId[a.payload.team.id],c=o[r.user.id],d=Object.keys(o).length>1;return u.trackEventForRole("Role Deleted",c),d||u.trackEventForTeam("Team Deleted",c.resource_id_or_key,e.getState(),{lastUserId:c.user_id}),i.optimisticRequestWithErrorHandling({requestPromise:s.default.del(`/api/roles/${c.id}`).then(()=>{e.dispatch(m.flash.flash(`You have left the ${a.payload.team.name} team`)),e.dispatch(n.optimistActions.commit(g))}).then(()=>{e.dispatch(l.realtime.unsubscribe(`/team-${a.payload.team.id}`))}).catch(t=>{throw e.dispatch(n.optimistActions.revert(g)),t}),fallbackError:"An error occurred while leaving this team.",store:e,next:t,action:a})}return t(a)}if(h.team.submitNewTeam.matches(a)){const i=e.getState().currentOrgId,r={team_name:a.payload.teamName};let o;return i&&(r.org_id=i,r.org_access=a.payload.orgAccess),s.default.post("/api/teams/create",r).then(({data:t})=>(o=t.meta,e.dispatch(h.team.post({team:o})),u.trackEventForTeam("Team Created",o.id,e.getState()),s.default.get(`/api/roles/team/${o.id}`))).then(({data:t})=>{let a=t.meta;for(let i of a)e.dispatch(p.role.post({role:i}));e.getState().currentOrgId?(e.dispatch(h.team.setLoading({loading:!1})),e.dispatch(d.fileBrowser.selectView({view:"team",teamId:o.id})),e.dispatch(m.flash.flash("You have created a new team."))):(e.dispatch(h.team.setLoading({loading:!1})),e.dispatch(d.fileBrowser.selectView({view:"addCollaborators",teamId:o.id})))}).catch(t=>{console.log("ERR",t);let a="An error occurred while creating this team.";try{a=JSON.parse(t.response).message}catch(i){}e.dispatch(m.flash.error(a)),e.dispatch(h.team.setLoading({loading:!1}))}),t(a)}if(h.team.rename.matches(a)){const r=a.payload.team,o=r.id,n=r.name,c=a.payload.name;return u.trackEventForTeam("Team Renamed",o,e.getState()),i.optimisticRequestWithErrorHandling({requestPromise:s.default.put(`/api/teams/${o}`,{name:a.payload.name}).then(({data:t})=>{e.dispatch(w.visualBellActions.enqueue({message:`${n} has been renamed to ${c}`,button:{text:"Undo",action:()=>e.dispatch(h.team.rename({team:t.meta,name:n}))}}))}),fallbackError:"An error occurred while renaming this team.",store:e,next:t,action:a})}if(h.team.changeOrgAccess.matches(a)){const r=a.payload.team.id;return u.trackEventForTeam("Team Org Access Changed",r,e.getState()),i.optimisticRequestWithErrorHandling({requestPromise:s.default.put(`/api/teams/${r}`,{org_access:a.payload.orgAccess}),fallbackError:"An error occurred while changing the org access of this team.",store:e,next:t,action:a})}if(c.avatar.editorUploaded.matches(a)){if(a.payload.entityType!==g.EntityType.TEAM)return t(a);const i=a.payload.entity.id;return s.default.put(`/api/teams/${i}`,{img_url:a.payload.smallUrl,img_url_500_500:a.payload.largeUrl}).then(function(t){let a=JSON.parse(t.response).meta;e.dispatch(h.team.put({team:a,userInitiated:!1})),e.dispatch(c.avatar.editorReset())},t=>{e.dispatch(m.flash.error("An error occurred while setting the team icon.")),console.error("An error occurred while setting the team icon.",t),e.dispatch(c.avatar.editorReset())}),t(a)}if(h.team.onJoin.matches(a)){y.segmentTrackEvent("file-browser-hydrate",{location:"team.onJoin"});const t=_.getJoiningOrgTeamLoadingKey(a.payload.teamId);f.getUserStateRequest().then(i=>{const r=a.payload.teamId;e.dispatch(d.fileBrowser.hydrate(i.data.meta)),e.dispatch(m.flash.flash(`You are now a member of '${e.getState().teams[r].name}'`)),e.dispatch(b.loadingStateActions.putSuccess({key:t}))}).catch(()=>{e.dispatch(b.loadingStateActions.putFailure({key:t}))})}else if(h.team.onBatchJoin.matches(a)){y.segmentTrackEvent("file-browser-hydrate",{location:"team.onBatchJoin"});const t=_.getBatchJoiningOrgTeamLoadingKey(a.payload.teamIds);f.getUserStateRequest().then(i=>{const s=a.payload.teamIds;e.dispatch(d.fileBrowser.hydrate(i.data.meta)),e.dispatch(m.flash.flash(`You are now a new member of ${s.length} ${r.getPluralOrSingular(s.length,"team")}`)),e.dispatch(b.loadingStateActions.putSuccess({key:t}))}).catch(()=>{e.dispatch(b.loadingStateActions.putFailure({key:t}))})}else h.team.get.matches(a)&&s.default.get(`/api/teams/${a.payload.teamId}`).then(({data:t})=>{e.dispatch(h.team.put({team:t.meta,userInitiated:!1}))});return t(a)})),t.default=t.apiTeam}),
(function(o,a,l){o.exports={modal:"autosave_modal--modal--y-KgB",title:"autosave_modal--title--2rsSD",body:"autosave_modal--body--31cpY",fileRows:"autosave_modal--fileRows--3uKOL",fileRow:"autosave_modal--fileRow--8vlJW",fileTitle:"autosave_modal--fileTitle--2HCJk ellipsis--ellipsis--1RWY6",logOutButtons:"autosave_modal--logOutButtons--6q7o6",logOutDiscard:"autosave_modal--logOutDiscard--17WdZ",logOutDone:"autosave_modal--logOutDone--3yTiJ",done:"autosave_modal--done--Q234N",openToSync:"autosave_modal--openToSync--2-x5o"}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(2,1    ),o=t(43,1         ),l=t(113                                     ),n=t(203                             ),c=t(136                                 ),i=t(154                                 ),r=t(731                     ),d=t(147                                            ),u=t(152                                          ),m=t(112          ),f=t(86            ),y=t(528                                               ),h=t(901                   );function g(e){return s.createElement("div",{className:h.fileRows},e.files.map(e=>s.createElement("div",{className:h.fileRow,key:e.key},s.createElement(y.FileTileThumbnail,{file:e,listView:!0}),s.createElement("div",{className:h.fileTitle},e.name),s.createElement(d.ButtonSecondary,{className:h.openToSync,onClick:(e=>f.debounce(()=>{m.redirect(e.url,"_blank")}))(e)},"Open to Sync"))))}function p(){const e=o.useDispatch(),a=o.useSelector(e=>e.modalShown?r.activeFiles(e.autosave.unsyncedFileKeys,e.fileByKey):[]);return s.createElement(i.Modal,{className:h.modal,dispatch:e,size:384,tintedModalBackground:!0},s.createElement(u.ModalCloseButton,{dispatch:e}),s.createElement("div",{className:h.title},"Sync your offline changes"),s.createElement("div",{className:h.body},"There are unsynced changes from when you were offline. Please open your file(s) to sync your changes. These changes will expire in X days."),s.createElement(g,{files:a}),s.createElement("div",{className:h.done},s.createElement(d.ButtonSecondary,{onClick:()=>{e(l.fileBrowser.hideModal())}},"Done")))}function v(){const e=o.useDispatch(),a=o.useSelector(e=>e.modalShown?r.activeFiles(e.autosave.unsyncedFileKeys,e.fileByKey):[]),[t]=s.useState(a),l=o.useSelector(e=>{var a;return null===(a=e.user)||void 0===a?void 0:a.id}),[c,m]=s.useState(!1),f=async()=>{try{l&&r.deleteAutosaveDataForSessions(r.rangeForUser(l))}finally{e(n.user.logOut({unsafe:!0}))}},y=()=>{e(n.user.logOut({unsafe:!0}))},p=()=>{m(!0)},v=()=>{m(!1)};if(c){const a=t.length>1?"files":"file";return s.createElement(i.Modal,{className:h.modal,dispatch:e,size:384,tintedModalBackground:!0},s.createElement(u.ModalCloseButton,{dispatch:e}),s.createElement("div",{className:h.title},"Sync your offline changes"),s.createElement("div",{className:h.body},"There are unsynced changes from when you were offline. Please open your ",a," to sync your changes. These changes will expire in X days."),s.createElement(g,{files:t}),s.createElement("div",{className:h.done},s.createElement(d.ButtonSecondary,{onClick:v},"Done")))}return s.createElement(i.Modal,{className:h.modal,dispatch:e,size:424,tintedModalBackground:!0},s.createElement(u.ModalCloseButton,{dispatch:e}),s.createElement("div",{className:h.title},"You have unsynced offline changes"),s.createElement("div",{className:h.body},'You can sync the changes next time you sign in. If you are using a public computer or share a computer with others, select "Discard & Log out" to make sure your locally-stored changes are deleted from this computer.'),s.createElement("div",{className:h.logOutButtons},s.createElement("div",{className:h.logOutDiscard},s.createElement(d.ButtonSecondaryNegative,{onClick:f},"Discard & Log out")),s.createElement("div",{className:h.logOutDone},s.createElement(d.ButtonSecondary,{onClick:p},"Show changes"),s.createElement(d.ButtonSecondary,{onClick:y},"Log out"))))}p.displayName="HasAutosaveChangesModal",a.HAS_AUTOSAVE_CHANGES_MODAL=c.registerModal(p,"HasAutosaveChangesModal"),v.displayName="AutosaveLogOutModal",a.AUTOSAVE_LOG_OUT_MODAL=c.registerModal(v,"AutosaveLogOutModal")}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(212                ),i=t(85                   ),s=t(732                                 ),r=t(113                                     ),n=t(902                                                   ),l=t(731                     ),u="/logout";a.logOutUser=async function(e,a){var t;if(a||!l.autosaveSupported())return void(window.location.href=u);const c=null===(t=e.getState().user)||void 0===t?void 0:t.id;if(!c)return console.warn("Logout called on invalid user"),void(window.location.href=u);const d=i.getFeatureFlags();try{if(d.autosave_livelaunch){const a=l.activeFiles(await l.fileKeysWithAutosavedChanges(c),e.getState().fileByKey);if(a.length>0)return e.dispatch(s.autosave.setAutosaveFileKeys(a.map(e=>e.key))),void e.dispatch(r.fileBrowser.showModal({type:n.AUTOSAVE_LOG_OUT_MODAL.type}))}else d.autosave_darklaunch&&await l.deleteAutosaveDataForSessions(l.rangeForUser(c))}catch(v){o.reportErrorWithoutCrashing(v)}window.location.href=u}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),o=a(203                             ),i=a(154                                 ),r=a(147                                            ),l=a(152                                          ),n=a(191          ),m=a(136                    );t.CHANGE_EMAIL_MODAL="CHANGE_EMAIL_MODAL",m.registerUnsafeModal(t.CHANGE_EMAIL_MODAL,e=>s.createElement(c,{dispatch:e.dispatch}));class c extends s.Component{constructor(){super(...arguments),this.changeEmail=(e=>{e.preventDefault(),this.props.dispatch(o.user.changeEmail({formId:c.id}))}),this.forgotPassword=(()=>{this.props.dispatch(o.user.forgotPassword())})}render(){return s.createElement(i.Modal,{size:"small",title:"Change Email",className:n.modal,dispatch:this.props.dispatch},s.createElement(l.ModalCloseButton,Object.assign({},this.props)),s.createElement("form",{id:c.id,onSubmit:this.changeEmail},s.createElement("p",null,'We will send a validation message to your new email address. Please click the "Confirm Email" button inside to complete the change.'),s.createElement(r.TextInput,{name:"email",type:"text",className:n.textInput,autoFocus:!0,placeholder:"New email"}),s.createElement(r.TextInput,{name:"password",type:"password",className:n.textInput,placeholder:"Confirm Figma password"}),s.createElement("div",{className:n.buttonRow},s.createElement(r.Link,{onClick:this.forgotPassword,className:n.left},"Forgot password?"),s.createElement(r.ButtonPrimary,{type:"submit",className:n.confirmButton},"Submit"))))}}t.ChangeEmailModal=c,c.displayName="ChangeEmailModal",c.id="user-change-email"}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(99                      ),s=r(108     ),o=r(335                               ),i=r(93                                   ),n=r(449                                  ),d=r(113                                     ),c=r(328                                        ),u=r(903                 ),p=r(203                             ),l=r(175                            ),h=r(329                                 ),f=r(364               ),m=r(365                       ),g=r(883                                   ),w=r(336                             ),_=r(459                          ),y=r(904                                 );t.default=(e=>t=>(function(r){function k(t,r){try{let s=JSON.parse(t);"bad_token"===s.reason?(e.dispatch(p.user.eraseSecrets()),e.dispatch(c.twoFactorAuth.error("It's been too long since you typed your password, please re-enter."))):e.dispatch(c.twoFactorAuth.error(s.message))}catch(a){e.dispatch(c.twoFactorAuth.error(r))}}if(d.fileBrowser.selectView.matches(r))return _.isUserAccountSettingsView(r.payload)&&e.dispatch(g.emailSettingsActions.get()),t(r);if(p.user.put.matches(r))return r.payload.userInitiated?a.optimisticRequestWithErrorHandling({requestPromise:s.default.put("/api/user",r.payload.user),fallbackError:"An error occurred while updating your information",store:e,next:t,action:r}):t(r);if(n.userFlags.put.matches(r)){if(e.getState().userFlags[r.payload.name])return t(r);{const o=s.default.post(`/api/user/flag/${r.payload.name}`);return a.optimisticRequestWithErrorHandling({requestPromise:o,fallbackError:"An unknown error occurred",store:e,next:t,action:r})}}if(n.userFlags.post.matches(r)){const o=s.default.post("/api/user/flags",r.payload);return a.optimisticRequestWithErrorHandling({requestPromise:o,fallbackError:"An unknown error occurred",store:e,next:t,action:r})}if(n.userFlags.resetOnboarding.matches(r)){const o=s.default.post("/api/user/reset_onboarding");return a.optimisticRequestWithErrorHandling({requestPromise:o,fallbackError:"An unknown error occurred",store:e,next:t,action:r})}if(p.user.changePassword.matches(r))return r.payload.passwordNew!==r.payload.passwordRetype?e.dispatch(i.flash.error("Please retype your new password. They don't match.")):s.default.post("/api/password/change",{password_old:r.payload.passwordOld,password_new:r.payload.passwordNew}).then(()=>{e.dispatch(d.fileBrowser.hideModal()),e.dispatch(i.flash.flash("Password changed!"))}).catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(i.flash.error(t.message))}catch(r){e.dispatch(i.flash.error(r))}}),t(r);if(p.user.changeEmail.matches(r)){const o=document.getElementById(r.payload.formId),n=f.getFormData(o),c=m.authHelpers.validateSignInForm(n);if(c.message)return e.dispatch(i.flash.error(c.message));const u=s.default.put("/api/user",n);return u.then(({data:t})=>{const r=e.getState();r.modalShown&&r.modalShown.type===y.CHANGE_EMAIL_MODAL&&e.dispatch(d.fileBrowser.hideModal()),e.dispatch(i.flash.flash(`We sent a verification email to ${n.email}. Please check it to verify your new email.`))}),a.optimisticRequestWithErrorHandling({requestPromise:u,fallbackError:"An error occurred while updating your information",store:e,next:t,action:r})}if(d.fileBrowser.hideModal.matches(r))return e.dispatch(p.user.eraseSecrets()),t(r);if(p.user.verifyPassword.matches(r)){const a=document.getElementById(r.payload.passwordForm);let o="";for(let e=0;e<a.elements.length;e++){const t=a.elements.item(e);if("password"===t.name){o=t.value;break}}return s.default.post("/api/session/verify_password",{password:o}).then(({data:t})=>{e.dispatch(p.user.put({user:t.meta,userInitiated:!1}));let r=e.getState();if(r.modalShown)switch(r.modalShown.type){case l.TWO_FACTOR_RECOVERY_MODAL:e.dispatch(p.user.getBackupCodes({token:t.meta.password_token}))}}).catch(({response:e})=>{k(e,"An error occurred while verifying your password.")}),t(r)}if(p.user.changePhone.matches(r)){let t=e.getState().user.password_token;s.default.post("/api/user/phone_number",{password_verify_token:t,phone_number:r.payload.phone}).then(({data:t})=>{e.dispatch(p.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{k(e,"An error occurred while verifying your phone number")})}else if(p.user.deletePhone.matches(r)){let t=e.getState().user.password_token;s.default.del("/api/user/phone_number",{password_verify_token:t}).then(({data:t})=>{e.dispatch(p.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:t})=>{e.dispatch(d.fileBrowser.showModal({type:l.SETUP_PHONE_MODAL})),k(t,"An error occurred while deleting your phone number")})}else if(p.user.confirmPhone.matches(r)){let t=e.getState().user;s.default.post("/api/user/phone_number/confirm",{phone_token:t.phone_token,code:r.payload.code}).then(({data:t})=>{e.dispatch(p.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{k(e,"An error occurred while verifying your phone number")})}else{if(p.user.getBackupCodes.matches(r))return s.default.get("/api/user/backup_codes",{password_verify_token:r.payload.token}).then(({data:t})=>{e.dispatch(p.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{k(e,"An error occurred while trying to retrieve two-factor recovery codes.")}),t(r);if(p.user.resetBackupCodes.matches(r)){let a=e.getState().user.password_token;return s.default.post("/api/user/backup_codes",{password_verify_token:a}).then(({data:t})=>{e.dispatch(p.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{k(e,"An error occurred while trying to reset two-factor recovery codes.")}),t(r)}if(p.user.disableTwoFactor.matches(r))return s.default.del("/api/user/totp",{password_verify_token:r.payload.token}).then(()=>{e.dispatch(d.fileBrowser.hideModal()),e.dispatch(p.user.toggleTwoFactor({enabled:!1}))}).catch(({response:t})=>{e.dispatch(d.fileBrowser.showModal({type:l.DISABLE_TWO_FACTOR_MODAL})),k(t,"An error occurred while trying to disable two-factor auth.")}),t(r);if(p.user.setupTwoFactor.matches(r))return s.default.post("/api/user/totp",{password_verify_token:r.payload.token}).then(({data:t})=>{h.storeSecret(t.meta.two_factor_secret),e.dispatch(p.user.put({user:{id:t.meta.id,two_factor_secret_loaded:!!t.meta.two_factor_secret},userInitiated:!1}))}).catch(({response:e})=>{k(e,"An error occurred while trying to set up two-factor auth.")}),t(r);if(p.user.verifyOTP.matches(r)){let a=h.getSecret().token;return s.default.post("/api/user/totp/confirm",{totp_code:r.payload.otp,two_factor_token:a}).then(({data:t})=>{e.dispatch(p.user.put({user:t.meta,userInitiated:!1})),e.dispatch(p.user.toggleTwoFactor({enabled:!0}))}).catch(({response:e})=>{k(e,"An error occurred while trying to verify the authentication code, please try again.")}),t(r)}if(p.user.forgotPassword.matches(r)){let a=i.flash.flash("One moment...");return e.dispatch(a),s.default.post("/api/password/forgot",{username:e.getState().user.email}).then(()=>{e.dispatch(i.flash.remove(a.payload.id)),e.dispatch(i.flash.flash(`We sent an email to ${e.getState().user.email} with instructions to reset your password!`))}).catch(()=>{e.dispatch(i.flash.remove(a.payload.id)),e.dispatch(i.flash.error("An error occurred while resetting your password."))}),t(r)}if(p.user.sendValidationEmail.matches(r))return s.default.post("/api/validation/email/send").then(()=>{let t=`We sent a confirmation email to ${e.getState().user.email}!`;e.dispatch(i.flash.flash(t))}).catch(()=>{e.dispatch(i.flash.error("An error occurred while sending the confirmation email."))}),t(r);if(o.avatar.editorUploaded.matches(r))return r.payload.entityType!==w.EntityType.CURRENT_USER?t(r):(s.default.put("/api/user",{img_url:r.payload.smallUrl,img_url_500_500:r.payload.largeUrl}).then(function(t){let r=JSON.parse(t.response).meta;e.dispatch(p.user.put({user:r,userInitiated:!1})),e.dispatch(o.avatar.editorReset())},t=>{e.dispatch(i.flash.error("An error occurred while setting your profile photo.")),console.error("An error occurred while setting your profile photo.",t),e.dispatch(o.avatar.editorReset())}),t(r));if(p.user.deleteUserAccount.matches(r))return e.dispatch(p.user.deleteUserLoading({loading:!0})),s.default.del("/api/user",{password_verify_token:r.payload.token}).then(()=>{e.dispatch(d.fileBrowser.hideModal()),e.dispatch(i.flash.flash("Account deleted! Redirecting...")),setTimeout(()=>{e.dispatch(p.user.logOut({}))},3e3)}).catch(({response:t})=>{e.dispatch(d.fileBrowser.hideModal()),e.dispatch(p.user.deleteUserLoading({loading:!1})),"User does not have verified email"===(t=JSON.parse(t)).message?e.dispatch(i.flash.error("You must verify your email first.")):"User is part of an organization"===t.message?e.dispatch(i.flash.error("You cannot delete your account because you are part of an organization. Please contact support.")):e.dispatch(i.flash.error("An error occurred while attempting to delete your account."))}),t(r);p.user.logOut.matches(r)&&u.logOutUser(e,r.payload.unsafe)}return t(r)}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(280                             ),s=a(732                                 ),i=a(731                     ),n=a(105        );t.default=(e=>t=>(function(a){var l;if(o.file.deleteFilesForever.matches(a)){const o=null===(l=e.getState().user)||void 0===l?void 0:l.id;if(!o)return t(a);const r=e.getState().autosave.unsyncedFileKeys,u=a.payload.fileKeys,c=n.filterNull(r.map(e=>u[e]?e:null));for(const e of c)i.deleteAutosaveDataForSessions(i.rangeForFile(o,e));return c.length>0&&e.dispatch(s.autosave.checkForAutosavedChanges()),t(a)}return t(a)}))}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=a(215                                          ),t=a(207                                   ),u=a(449                                  ),o=a(113                                     );s.userFlagsMiddleware=(e=>s=>(function(a){if(t.fullscreen.open.matches(a)||o.fileBrowser.hydrate.matches(a))return r.fullscreen.onReady().then(()=>{r.fullscreen.triggerAction("toggle-use-numbers-for-opacity",{value:!!e.getState().userFlags.use_numbers_for_opacity})}),s(a);if(t.fullscreen.updateMirror.matches(a)){if(a.payload.appModelChanges&&null!=a.payload.appModelChanges.useNumbersForOpacity&&r.fullscreen.isReady()){!!e.getState().userFlags.use_numbers_for_opacity!==a.payload.appModelChanges.useNumbersForOpacity&&e.dispatch(u.userFlags.post({flags:{use_numbers_for_opacity:a.payload.appModelChanges.useNumbersForOpacity}}))}return s(a)}if(!u.userFlags.receiveDelete.matches(a)&&!u.userFlags.receiveUpdate.matches(a))return s(a);{const t=e.getState().userFlags;s(a);const u=e.getState().userFlags;!!u.use_numbers_for_opacity!=!!t.use_numbers_for_opacity&&r.fullscreen.onReady().then(()=>{r.fullscreen.triggerAction("toggle-use-numbers-for-opacity",{value:!!u.use_numbers_for_opacity})})}}))}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const l=t(2,1    ),s=t(191          ),n=t(154                                 ),i=t(271                                        ),o=t(261                               ),r=t(147                                            ),d=t(111          ),c=t(136                    );a.UPGRADING_MODAL="upgrading-modal",c.registerUnsafeModal(a.UPGRADING_MODAL,e=>l.createElement(m,{upgradingState:e.modalShown.data.upgradingState,dispatch:e.dispatch}));class m extends l.Component{render(){const e=this.props.upgradingState===o.MultiplayerSessionState.UPGRADING?"Saving your changes...":"Reloading the page...";return l.createElement(n.Modal,{size:"small",className:s.modal,disableClickOutsideToHide:!0,dispatch:this.props.dispatch},l.createElement("div",{className:s.title},"Figma needs to reload"),l.createElement("div",{className:s.modalContent},e),l.createElement("div",{className:s.buttonRow},l.createElement(i.LoadingSpinner,null)))}}m.displayName="UpgradingModal";class p extends l.Component{constructor(){super(...arguments),this.noOp=(e=>e),this.onUpdateClicked=(()=>{d.segment.track("Upgrade Modal Clicked"),o.Multiplayer.startUpgrade()})}render(){const{multiplayerSessionState:e,isReadOnly:a}=this.props,t=e!==o.MultiplayerSessionState.UNJOINED,i=!a;return e===o.MultiplayerSessionState.UPGRADING||e===o.MultiplayerSessionState.WAITING_FOR_RELOAD?null:l.createElement(n.Modal,{size:"small",className:s.modal,disableClickOutsideToHide:!0,dispatch:this.noOp},l.createElement("div",{className:s.title},"Figma needs to reload"),l.createElement("div",{className:s.modalContent},"This page is out of date and can no longer connect to the server properly. Your data is still safe, but Figma needs to reload to continue.",!t&&l.createElement("span",null,l.createElement("br",null)," ",l.createElement("br",null),"We can't reach our servers right now. Please make sure you are connected to the internet.")),t&&l.createElement("div",{className:s.buttonRow},l.createElement(r.ButtonPrimary,{onClick:this.onUpdateClicked},i?"Save and Reload":"Reload")))}}a.OutOfDateWall=p,p.displayName="OutOfDateWall"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(111          ),o=a(207                                   ),l=a(692                                 ),r=a(113                                     ),s=a(261                               ),n=a(261                               ),p=a(285                            ),d=a(689                        ),c=a(908                                   );function u(e,t){return void 0!==e.urlNodeId?null!=e.urlNodeId&&""!==e.urlNodeId?e.urlNodeId:null:null!=t.urlNodeId?t.urlNodeId:null}function m(e,t,a){let m=e.getState();if(void 0!==t.urlNodeId){let i=m.selectedView;const o=u(t,a.mirror.appModel);if(o!==i.nodeId){let t=Object.assign({},i);o&&(t.nodeId=o),e.dispatch(r.fileBrowser.selectView(t))}}if(void 0!==t.currentPage&&e.dispatch(l.comments.deactivateActiveComment()),void 0!==t.multiplayerSessionState){!function(e,t,a){a===s.MultiplayerSessionState.SHOULD_UPGRADE?(i.segment.track("Upgrade Banner Shown"),e.dispatch(o.fullscreen.showUpgradeBanner())):a===s.MultiplayerSessionState.JOINED&&e.dispatch(o.fullscreen.hideUpgradeBanner());a===s.MultiplayerSessionState.WAITING_FOR_RELOAD||a===s.MultiplayerSessionState.UPGRADING?e.dispatch(r.fileBrowser.showModal({type:c.UPGRADING_MODAL,data:{upgradingState:a}})):t!==s.MultiplayerSessionState.WAITING_FOR_RELOAD&&t!==s.MultiplayerSessionState.UPGRADING||e.dispatch(r.fileBrowser.hideSpecificModal({type:c.UPGRADING_MODAL}))}(e,a.mirror.appModel.multiplayerSessionState,t.multiplayerSessionState)}if(void 0===t.publishableComponents&&void 0===t.styles||p.computeLocal(e),void 0!==t.subscribedComponents&&(m=e.getState(),p.fetchOtherUsedStandaloneComponentsAndStateGroups(m.mirror.sceneGraph,m.mirror.appModel.subscribedComponents,m.mirror.appModel.subscribedStateGroups,m.library,m.fileVersion,m.fileByKey,e.dispatch)),t.currentTool!==n.Tool.COMMENTS&&void 0!==t.currentTool){e.dispatch(l.comments.deactivateActiveComment());const t=e.getState().pickerShown;t&&t.id===d.COMMENT_PREFERENCE_ID&&e.dispatch(o.fullscreen.hidePicker())}}t.getNodeIdForSelectedView=u,t.handleAppModelUpdate=m;t.default=(e=>t=>(function(a){if(o.fullscreen.updateMirror.matches(a)&&a.payload.appModelChanges){const i=e.getState();let o=t(a);return m(e,a.payload.appModelChanges,i),o}return t(a)}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(748           ),a=i(85                   ),l=i(111          ),r=i(685                                 ),o=i(661                             ),n=i(612                                          ),c=i(599                                          ),d=i(658                                      ),p=i(692                                 ),_=i(604                                                 ),f=i(604                                                 ),u=i(449                                  ),m=i(203                             ),h=i(189                             ),g=i(620                                 ),b=i(173                                        ),y=i(206                             ),k=i(280                             ),w=i(188                               ),F=i(205                             ),I=i(113                                     ),S=i(319                                              ),T=i(441                                                     ),v=i(560                                                     ),O=i(737                                                       ),K=i(401                                               ),R=i(108     ),C=i(883                                   ),U=i(208                               ),B=i(125                        ),P=i(115                     ),A=i(176                       ),E=i(893                            ),L=i(317                       ),j=i(315       ),M=i(215                                          ),V=i(90             ),q=i(304                          ),D=i(319                                              );function H(e,t){let i;return i=t.parent_org_id&&B.canGuestOrg(t.parent_org_id,e.getState())?t.parent_org_id:null,!(t.email_lists||t.user||t.user_flag||t.user_notification||t.bell||t.org_user||t.active_file_users||q.isCommunityHubRealtimeMessage(t))&&function(e,t){return e.getState().currentOrgId!==t}(e,i)}function W(e,t){var i,s;const{editingFileKey:r,fileByKey:R}=e.getState(),U=R&&r&&R[r];if("client_reload"===t.type)a.default().user_data&&t.target_user_id&&t.target_user_id===a.default().user_data.id?t.client_id&&l.segment&&l.segment.anonymousId&&t.client_id===l.segment.anonymousId||e.dispatch(I.fileBrowser.reloadWhenConvenient({now:!0})):t.target_version&&t.target_version!==a.default().release_manifest_hash&&e.dispatch(I.fileBrowser.reloadWhenConvenient({}));else if("token_expired"===t.type)L.getUserStateRequest().then(t=>{e.dispatch(I.fileBrowser.hydrate(t.data.meta))});else if("verify_user_state"===t.type){const i=e.getState();if(!i.user)return;let s,a=0;for(const e in i.orgUsersByOrgId.orgUsers)i.orgUsersByOrgId.orgUsers[e][i.user.id]&&a++;const r=t.org_user_count&&t.org_user_count!=a;if(null==t.org_user_updated)s=!1;else{s=!0;const e=new Date(t.org_user_updated);for(const t in i.orgUsersByOrgId.orgUsers){const a=i.orgUsersByOrgId.orgUsers[t][i.user.id];if(a&&new Date(a.user_state_changed_at||0)>=e){s=!1;break}}}(r||s)&&(console.warn("Local state out of date. Rehydrating"),l.segmentTrackEvent("file-browser-hydrate",{location:"orgUserOutOfDate"}),L.getUserStateRequest().then(t=>{e.dispatch(I.fileBrowser.hydrate(t.data.meta))}))}if(!H(e,t))if(t.role)switch(t.method){case"put":{const i=t.role,s=e.getState(),a=s.user&&s.user.id,r=!!a&&i.user_id===a,o=B.canViewResource(i.resource_type,i.resource_id_or_key,s);if(a&&!o&&r)l.segmentTrackEvent("file-browser-hydrate",{location:"role-put"}),L.getUserStateRequest().then(t=>{e.dispatch(I.fileBrowser.hydrate(t.data.meta))});else if(e.dispatch(F.role.put({role:i})),t.role_data){let i=e.getState();t.role_data.folder&&!i.folders[t.role_data.folder.id]&&e.dispatch(w.folder.post(t.role_data.folder)),t.role_data.file&&!i.fileByKey[t.role_data.file.key]&&e.dispatch(k.file.post({file:t.role_data.file}))}break}case"post":{const i=t.role;e.dispatch(F.role.post({role:t.role}));const s=e.getState().user;if(t.role_data&&s&&s.id===i.user_id){let i=e.getState();if(t.role_data.team&&!i.teams[t.role_data.team.id]&&(e.dispatch(y.team.post({team:t.role_data.team})),e.dispatch(b.library.getLibraryState({}))),t.role_data.folder&&!i.folders[t.role_data.folder.id]){const i=t.role_data.folder;i.org_id&&!i.team_id&&""!==i.path||e.dispatch(w.folder.post(t.role_data.folder))}t.role_data.file&&e.dispatch(k.file.post({file:t.role_data.file}))}break}case"delete":e.dispatch(F.role.del({role:t.role}))}else if(t.folder)switch(t.method){case"put":const i=t.folder,s=e.getState(),a=s.folders[i.id];if(a&&(e.dispatch(w.folder.put({folder:i})),a.team_id!==i.team_id)){const t=s.fileKeysByFolderId[a.id]||[];for(let i of t)e.dispatch(b.library.deleteComponentsForFile({fileKey:i})),e.dispatch(k.file.deleteActiveUsers({fileKey:i}))}break;case"post":t.folder.id in e.getState().folders?e.dispatch(w.folder.put({folder:t.folder})):e.dispatch(w.folder.post(t.folder));break;case"delete":e.dispatch(w.folder.del({folderIds:[t.folder.id]}))}else if(t.file){const i=t.file;switch(t.method){case"put":const s=e.getState().fileByKey[i.key];if(i.trashed_at){e.dispatch(k.file.deleteFiles({fileKeys:{[i.key]:i}}));break}if(e.dispatch(k.file.put({file:i})),s)if(s.team_id!==i.team_id)e.dispatch(b.library.deleteComponentsForFile({fileKey:i.key})),e.dispatch(k.file.deleteActiveUsers({fileKey:i.key}));else if(s.folder_id!==i.folder_id){e.dispatch(k.file.deleteActiveUsers({fileKey:i.key}));const t=e.getState();B.canViewFile(i.key,t)||e.dispatch(b.library.deleteComponentsForFile({fileKey:i.key}))}break;case"post":e.dispatch(k.file.post({file:t.file}));break;case"delete":e.dispatch(k.file.deleteFilesForever({fileKeys:{[t.file.key]:!0}}))}}else if(t.org_user){const a=e.getState(),l=a.currentOrgId,r=t.org_user,o=a.currentOrgId?a.orgUsersByOrgId.orgUsers[a.currentOrgId][r.user_id]:null;if("delete"===t.method&&r.org_id===l&&r.user_id===(null===(i=a.user)||void 0===i?void 0:i.id)){let t=null;if(a.hasPersonalSpace)t=null;else{const e=Object.keys(a.orgById);for(let i of e)if(i!==l){t=i;break}}e.dispatch(h.orgs.switchActiveOrgAndSetCurrentOrgId({orgId:t}))}else"delete"===t.method?e.dispatch(g.orgUser.batchDel({params:{org_user_ids:[r.id]},orgId:r.org_id,userInitiated:!1})):("put"!==t.method||r.org_id!==l||r.user_id!==(null===(s=a.user)||void 0===s?void 0:s.id)||o&&o.permission===r.permission&&o.account_type===r.account_type)&&("put"===t.method||"post"===t.method)?e.dispatch(g.orgUser.put({orgUser:r,userInitiated:!1})):e.dispatch(h.orgs.switchActiveOrgAndSetCurrentOrgId({orgId:l}))}else if(t.recent_file)switch(t.method){case"post":e.dispatch(k.file.recentFilePost({file:t.recent_file}));break;case"put":e.dispatch(k.file.recentFilePut({file:t.recent_file}));break;case"delete":e.dispatch(k.file.recentFilesDelete({files:[t.recent_file]}))}else if(t.user)switch(t.method){case"put":e.dispatch(m.user.put({user:t.user,userInitiated:!1}))}else if(t.team)switch(t.method){case"post":e.dispatch(y.team.post({team:t.team}));break;case"put":t.team.deleted_at?e.dispatch(y.team.del({team:t.team,userInitiated:!1})):e.dispatch(y.team.put({team:t.team,userInitiated:!1}));break;case"delete":e.dispatch(y.team.del({team:t.team,userInitiated:!1}))}else if(t.org)switch(t.method){case"put":{const{currentOrgId:i,orgById:s}=e.getState();i&&s[i]&&e.dispatch(h.orgs.put({org:Object.assign(Object.assign({},s[i]),{plugins_whitelist_enforced:t.org.plugins_whitelist_enforced,public_plugins_allowed:t.org.public_plugins_allowed})}));break}}else if(t.user_flag)switch(t.method){case"post":case"put":e.dispatch(u.userFlags.receiveUpdate({name:t.user_flag.name,created_at:t.user_flag.created_at,updated_at:t.user_flag.updated_at}));break;case"delete":e.dispatch(u.userFlags.receiveDelete({name:t.user_flag.name}))}else if(t.email_lists)switch(t.method){case"put":let i=Object.assign({announcements:!1,important:!1,every_follower:!1,daily_follower:!1,weekly_follower:!1},t.email_lists);e.dispatch(C.emailSettingsActions.put(i))}else if(t.file_browser_preferences)e.dispatch(f.fileBrowserPreferences.put({prefs:t.file_browser_preferences,userInitiated:!1}));else if(t.file_browser_section_preferences)e.dispatch(_.fileBrowserSectionPreferences.put({prefs:t.file_browser_section_preferences,userInitiated:!1}));else if(t.file_comment&&!V.livegraphCommentsLaunchState.livelaunch){if(e.getState().editingFileKey===t.file_comment.key)switch(t.method){case"post":e.dispatch(p.comments.post({comment:t.file_comment,userInitiated:!1}));break;case"put":t.file_comment.deleted_at?e.dispatch(p.comments.del({comment:t.file_comment})):e.dispatch(p.comments.put({comment:t.file_comment}));break;case"delete":e.dispatch(p.comments.del({comment:t.file_comment}))}}else if(t.file_comment_reaction&&!V.livegraphCommentsLaunchState.livelaunch){if(e.getState().editingFileKey)switch(t.method){case"post":e.dispatch(p.comments.postReaction({reaction:t.file_comment_reaction}));break;case"delete":e.dispatch(p.comments.delReactions({file_comment_id:t.file_comment_reaction.file_comment_id,file_comment_reaction_ids:[t.file_comment_reaction.id]}))}}else if(t.unread_file_comment&&!V.livegraphCommentsLaunchState.livelaunch){if(e.getState().editingFileKey){let i=t.unread_file_comment;switch(t.method){case"post":e.dispatch(p.comments.postUnread({fileKey:i.file_key,commentId:i.comment_id}));break;case"delete":e.dispatch(p.comments.deleteUnread({fileKey:i.file_key,commentId:i.comment_id}))}}}else if(t.file_follower){if(e.getState().editingFileKey===t.file_follower.key)switch(t.method){case"post":e.dispatch(d.fileFollower.post({fileFollower:t.file_follower,userInitiated:!1}));break;case"delete":e.dispatch(d.fileFollower.del({fileFollower:t.file_follower,userInitiated:!1}))}}else if(t.component||t.style||t.state_group){const i=t.component||t.style||t.state_group,s=t.component?A.LibraryItemType.COMPONENT:t.style?A.LibraryItemType.STYLE:A.LibraryItemType.STATE_GROUP,a=e.getState();if(0===i.length)return;const l=a.fileByKey[i[0].file_key];if(l)switch(t.method){case"delete":e.dispatch(b.library.del({nodeIds:i.map(e=>e.node_id),file:l,type:s}));break;case"post":case"put":{const t={};for(const e of i)t[e.node_id]=e;e.dispatch(b.library.put({itemsById:t,file:l,type:s}));break}}}else if(t.library_user_subscription)switch(t.method){case"post":case"put":{const{library_user_subscription:i}=t;U&&i.is_subscribed&&D.getPublishedComponentsForFile(e,i.file_key),e.dispatch(S.postUserSubscription({libraryUserSubscription:i,userInitiated:!1}));break}}else if(t.library_file_subscription)switch(t.method){case"post":case"put":{const{library_file_subscription:i}=t;r===i.file_key&&i.is_subscribed&&D.getPublishedComponentsForFile(e,i.library_file_key),e.dispatch(S.postFileSubscription({libraryFileSubscription:i,userInitiated:!1}));break}}else if(t.library_team_subscription)switch(t.method){case"post":case"put":{const{library_team_subscription:i}=t;U&&U.team_id===i.team_id&&i.is_subscribed&&D.getPublishedComponentsForFile(e,i.file_key),e.dispatch(S.postTeamSubscription({libraryTeamSubscription:i,userInitiated:!1}));break}}else if(t.library_org_subscription)switch(t.method){case"post":case"put":if(t.library_org_subscription.org_id===e.getState().currentOrgId){const{library_org_subscription:i}=t;D.getPublishedComponentsForFile(e,i.file_key),e.dispatch(S.postOrgSubscription({fileKey:t.library_org_subscription.file_key,userInitiated:!1}))}break;case"delete":t.library_org_subscription.org_id===e.getState().currentOrgId&&e.dispatch(S.deleteOrgSubscription({fileKey:t.library_org_subscription.file_key,userInitiated:!1}))}else if(t.active_file_users)switch(t.method){case"put":{const i=t.active_file_users;E.dispatchSetActiveUsers(i,e);break}}else if(t.bell)switch(t.method){case"put":if(void 0!==t.bell.notification_space_id){let i={isBellStateHigh:t.bell.bell,userInitiated:!1,notificationSpaceId:t.bell.notification_space_id};e.dispatch(c.userNotifications.setBell(i))}}else if(t.team_role_request)switch(t.method){case"post":case"put":case"delete":e.dispatch(n.teamRoleRequests.updateTeamRoleRequests({teamRoleRequests:[t.team_role_request]}))}else if(t.font_file)switch(t.method){case"post":case"put":M.fullscreen.isWebContextReady()&&M.fullscreen.DEPRECATED_sendMessage("addToFontList",{list:[j.sharedFontMetadataToFontInfo(t.font_file)],version:null,localizedToUnlocalized:[]}),e.dispatch(o.sharedFonts.put({font:j.sharedFontMetadataToFontInfo(t.font_file)}));break;case"delete":e.dispatch(o.sharedFonts.del({font:j.sharedFontMetadataToFontInfo(t.font_file)}))}else if(t.plugin)switch(t.method){case"post":case"put":case"delete":const i=t.plugin;i&&i.id&&e.dispatch(T.mergePublishedAndValidate({publishedPlugins:[i],src:"realtime"}))}else if(t.plugin_install)switch(t.method){case"post":case"put":const i=t.plugin_install.plugin;i&&i.id&&e.dispatch(v.mergeInstalled({org:t.plugin_install.org_id?[i]:[],user:t.plugin_install.org_id?[]:[i]}));break;case"delete":e.dispatch(v.del({orgOrUser:t.plugin_install.org_id?"org":"user",pluginId:t.plugin_install.plugin.id}))}else if(t.whitelisted_plugin)switch(t.method){case"post":case"put":e.dispatch(O.putWhitelistedPlugin({pluginId:t.whitelisted_plugin.plugin_id}));break;case"delete":e.dispatch(O.delWhitelistedPlugin({pluginId:t.whitelisted_plugin.plugin_id}))}else if(t.hub_file){const i=t.hub_file;switch(t.method){case"post":case"put":if(i&&i.id){const t=Object.assign({},i);if(delete t.file_key,e.dispatch(K.mergeAndValidate({hubFiles:[t],src:"realtime"})),i.file_key){const s=i.unpublished_at?K.delFigFilePublishedAsHubFile({fileKey:i.file_key}):K.putFigFilePublishedAsHubFile({hubFileId:t.id,fileKey:i.file_key});e.dispatch(s)}}break;case"delete":i.file_key&&e.dispatch(K.delFigFilePublishedAsHubFile({fileKey:i.file_key}))}}else if(t.pinned_file)switch(t.method){case"post":e.dispatch(w.folder.postPinnedFile({folderId:t.pinned_file.folder_id,fileKey:t.pinned_file.key}));break;case"delete":e.dispatch(w.folder.delPinnedFile({folderId:t.pinned_file.folder_id,fileKey:t.pinned_file.key}))}}function N(e){let t=e.getState(),i=t.user,a=[],l=e=>{const t=s.parseRealtimeToken(e);a.push(t)},o=t.roles;for(const s of t.recentFiles)B.canViewFile(s.key,t)&&s.realtime_token&&l(s.realtime_token);const n=i&&i.id;for(let s in o.byFileKey)if(n&&n in o.byFileKey[s]){let e=t.fileByKey[s];if(e&&e.team_id&&!B.canViewTeam(e.team_id,t)){const i=t.teams[e.team_id];i&&i.realtime_token&&l(i.realtime_token)}}for(let s in o.byFolderId){const e=n&&o.byFolderId[s][n];e&&e.realtime_token&&l(e.realtime_token);const i=t.folders[s];if(i&&i.team_id&&!B.canViewTeam(i.team_id,t)){const e=t.teams[i.team_id];e&&e.realtime_token&&l(e.realtime_token)}}for(let s in o.byTeamId){const e=n&&o.byTeamId[s][n];e&&e.realtime_token&&l(e.realtime_token)}const c=t.currentOrgId&&t.orgById[t.currentOrgId];c&&c.realtime_token&&l(c.realtime_token),e.dispatch(r.realtime.batchSubscribe(a))}t.shouldSuppressFayeMessage=H,t.handleFayeMessage=W,t.subscribeToChannel=((e,t)=>{e.dispatch(r.realtime.subscribe(t))});const $=(e,i)=>{const a=e.getState(),l=i.realtime_token;if(null==l)return;const r=s.parseRealtimeToken(l);if(!a.realtime.subscriptions[r.channel])switch(i.resource_type){case P.ResourceType.FILE:{const s=a.fileByKey[i.resource_id_or_key];if(s&&s.folder_id){const e=s.folder_id;if(a.realtime.subscriptions[`/folder-${e}`])return}s&&s.team_id&&!B.canViewTeam(s.team_id,a)&&t.subscribeToChannel(e,r);break}case P.ResourceType.FOLDER:{t.subscribeToChannel(e,r);const l=a.folders[i.resource_id_or_key];if(l&&l.team_id&&!B.canViewTeam(l.team_id,a)){const i=a.teams[l.team_id];i&&i.realtime_token&&t.subscribeToChannel(e,s.parseRealtimeToken(i.realtime_token))}break}case P.ResourceType.TEAM:t.subscribeToChannel(e,r)}};t.realtime=a.default().disable_realtime?e=>e=>e:e=>i=>(function(a){let l=i(a),o=t=>{W(e,t)};if(I.fileBrowser.hydrate.matches(a))return s.realtimeClient.setCallback(o),a.payload.user_realtime_token&&t.subscribeToChannel(e,s.parseRealtimeToken(a.payload.user_realtime_token)),void N(e);if(v.initializeInstalledPlugins.matches(a))Object.keys(e.getState().realtime.subscriptions).filter(e=>/^\/plugins-/.test(e)).forEach(t=>{e.dispatch(r.realtime.unsubscribe(t))});else if(v.replaceInstalled.matches(a)){const t=Object.values(a.payload.user).concat(Object.values(a.payload.org)).map(e=>s.parseRealtimeToken(e.realtime_token));e.dispatch(r.realtime.batchSubscribe(t))}else if(v.put.matches(a)){const t=Object.values(a.payload.user).concat(Object.values(a.payload.org)).map(e=>s.parseRealtimeToken(e.realtime_token));e.dispatch(r.realtime.batchSubscribe(t))}else if(v.del.matches(a))e.dispatch(r.realtime.unsubscribe(`/plugins-${a.payload.pluginId}`));else if(T.delAll.matches(a))for(const t of a.payload)t&&t.realtime_token&&e.dispatch(r.realtime.unsubscribe(s.parseRealtimeToken(t.realtime_token).channel));else if(K.delAll.matches(a))for(const t of a.payload)t&&t.realtime_token&&e.dispatch(r.realtime.unsubscribe(s.parseRealtimeToken(t.realtime_token).channel));else{if(I.fileBrowser.selectView.matches(a)){if("fullscreen"===a.payload.view||"prototype"===a.payload.view){const i=U.editingFileKey(a.payload);i&&!e.getState().realtime.subscriptions[`/file-${i}`]&&R.default.get(`/api/files/${i}/realtime_token`).then(i=>{const a=JSON.parse(i.response);a&&a.meta&&a.meta.realtime_token&&t.subscribeToChannel(e,s.parseRealtimeToken(a.meta.realtime_token))})}return}if(F.role.batchPut.matches(a)){const t=e.getState().user;for(let i of a.payload.roles)null!=t&&i.user_id===t.id&&$(e,i)}else if(F.role.put.matches(a)||F.role.post.matches(a)){const t=e.getState().user,i=a.payload.role;null!=t&&i.user_id===t.id&&$(e,i)}else if(F.role.del.matches(a)){let t=e.getState().user,i=a.payload.role;if(t&&i.user_id===t.id){if(i.resource_type===P.ResourceType.FILE&&e.getState().editingFileKey===i.resource_id_or_key)return l;const t=i.realtime_token;t&&e.dispatch(r.realtime.unsubscribe(s.parseRealtimeToken(t).channel)),N(e)}}else if(r.realtime.batchSubscribe.matches(a)){const e=a.payload;for(const t of e)s.realtimeClient.subscribe(t)}else if(r.realtime.unsubscribe.matches(a)){const e=a.payload;s.realtimeClient.unsubscribe(e)}else r.realtime.reset.matches(a)&&s.resetRealtimeConnection()}return l})}),
(function(e,t,r){
/*
 Copyright (c) 2013 Gildas Lormeau. All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright
 notice, this list of conditions and the following disclaimer in
 the documentation and/or other materials provided with the distribution.

 3. The names of the authors may not be used to endorse or promote products
 derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
 INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
 INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(e){"use strict";var t,r="File format is not recognized.",n="CRC failed.",i="File contains encrypted entry.",o="File is using Zip64 (4gb+ file size).",a="Error while reading zip file.",c="Error while writing zip file.",s="Error while writing file data.",f="Error while reading file data.",u="File already exists.",l=524288,p="text/plain";try{t=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(P){}function w(){this.crc=-1}function h(){}function v(e,t){var r,n;return r=new ArrayBuffer(e),n=new Uint8Array(r),t&&n.set(t,0),{buffer:r,array:n,view:new DataView(r)}}function d(){}function g(e){var t,r=this;r.size=0,r.init=function(n,i){var o=new Blob([e],{type:p});(t=new m(o)).init(function(){r.size=t.size,n()},i)},r.readUint8Array=function(e,r,n,i){t.readUint8Array(e,r,n,i)}}function y(t){var r,n=this;n.size=0,n.init=function(e){for(var i=t.length;"="==t.charAt(i-1);)i--;r=t.indexOf(",")+1,n.size=Math.floor(.75*(i-r)),e()},n.readUint8Array=function(n,i,o){var a,c=v(i),s=4*Math.floor(n/3),f=4*Math.ceil((n+i)/3),u=e.atob(t.substring(s+r,f+r)),l=n-3*Math.floor(s/4);for(a=l;a<l+i;a++)c.array[a-l]=u.charCodeAt(a);o(c.array)}}function m(e){var t=this;t.size=0,t.init=function(r){t.size=e.size,r()},t.readUint8Array=function(t,r,n,i){var o=new FileReader;o.onload=function(e){n(new Uint8Array(e.target.result))},o.onerror=i;try{o.readAsArrayBuffer(function(e,t,r){if(t<0||r<0||t+r>e.size)throw new RangeError("offset:"+t+", length:"+r+", size:"+e.size);return e.slice?e.slice(t,t+r):e.webkitSlice?e.webkitSlice(t,t+r):e.mozSlice?e.mozSlice(t,t+r):e.msSlice?e.msSlice(t,t+r):void 0}(e,t,r))}catch(P){i(P)}}}function U(){}function z(e){var r;this.init=function(e){r=new Blob([],{type:p}),e()},this.writeUint8Array=function(e,n){r=new Blob([r,t?e:e.buffer],{type:p}),n()},this.getData=function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=n,i.readAsText(r,e)}}function b(t){var r="",n="";this.init=function(e){r+="data:"+(t||"")+";base64,",e()},this.writeUint8Array=function(t,i){var o,a=n.length,c=n;for(n="",o=0;o<3*Math.floor((a+t.length)/3)-a;o++)c+=String.fromCharCode(t[o]);for(;o<t.length;o++)n+=String.fromCharCode(t[o]);c.length>2?r+=e.btoa(c):n=c,i()},this.getData=function(t){t(r+e.btoa(n))}}function k(e){var r;this.init=function(t){r=new Blob([],{type:e}),t()},this.writeUint8Array=function(n,i){r=new Blob([r,t?n:n.buffer],{type:e}),i()},this.getData=function(e){e(r)}}function A(e,t,r,n,i,o,a,c,s,f){var u,p,w,h=0,v=t.sn;function d(){e.removeEventListener("message",g,!1),c(p,w)}function g(t){var r=t.data,i=r.data,c=r.error;if(c)return c.toString=function(){return"Error: "+this.message},void s(c);if(r.sn===v)switch("number"==typeof r.codecTime&&(e.codecTime+=r.codecTime),"number"==typeof r.crcTime&&(e.crcTime+=r.crcTime),r.type){case"append":i?(p+=i.length,n.writeUint8Array(i,function(){y()},f)):y();break;case"flush":w=r.crc,i?(p+=i.length,n.writeUint8Array(i,function(){d()},f)):d();break;case"progress":a&&a(u+r.loaded,o);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",r)}}function y(){(u=h*l)<=o?r.readUint8Array(i+u,Math.min(l,o-u),function(r){a&&a(u,o);var n=0===u?t:{sn:v};n.type="append",n.data=r;try{e.postMessage(n,[r.buffer])}catch(i){e.postMessage(n)}h++},s):e.postMessage({sn:v,type:"flush"})}p=0,e.addEventListener("message",g,!1),y()}function S(e,t,r,n,i,o,a,c,s,f){var u,p=0,h=0,v="input"===o,d="output"===o,g=new w;!function o(){var w;if((u=p*l)<i)t.readUint8Array(n+u,Math.min(l,i-u),function(t){var n;try{n=e.append(t,function(e){a&&a(u+e,i)})}catch(P){return void s(P)}n?(h+=n.length,r.writeUint8Array(n,function(){p++,setTimeout(o,1)},f),d&&g.append(n)):(p++,setTimeout(o,1)),v&&g.append(t),a&&a(u,i)},s);else{try{w=e.flush()}catch(P){return void s(P)}w?(d&&g.append(w),h+=w.length,r.writeUint8Array(w,function(){c(h,g.get())},f)):c(h,g.get())}}()}function _(t,r,n,i,o,a,c,s,f,u,l){e.zip.useWebWorkers&&c?A(t,{sn:r,codecClass:"NOOP",crcType:"input"},n,i,o,a,f,s,u,l):S(new h,n,i,o,a,"input",f,s,u,l)}function D(e){var t,r,n="",i=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(t=0;t<e.length;t++)n+=(r=255&e.charCodeAt(t))>127?i[r-128]:String.fromCharCode(r);return n}function L(e){return decodeURIComponent(escape(e))}function M(e){var t,r="";for(t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return r}function W(e,t,r,n,a){e.version=t.view.getUint16(r,!0),e.bitFlag=t.view.getUint16(r+2,!0),e.compressionMethod=t.view.getUint16(r+4,!0),e.lastModDateRaw=t.view.getUint32(r+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,r=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&r)>>11,(2016&r)>>5,2*(31&r),0)}catch(P){}}(e.lastModDateRaw),1!=(1&e.bitFlag)?((n||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(r+10,!0),e.compressedSize=t.view.getUint32(r+14,!0),e.uncompressedSize=t.view.getUint32(r+18,!0)),4294967295!==e.compressedSize&&4294967295!==e.uncompressedSize?(e.filenameLength=t.view.getUint16(r+22,!0),e.extraFieldLength=t.view.getUint16(r+24,!0)):a(o)):a(i)}function C(t,i,o){var c=0;function u(){}u.prototype.getData=function(i,a,u,l){var p=this;function w(e,t){l&&!function(e){var t=v(4);return t.view.setUint32(0,e),p.crc32==t.view.getUint32(0)}(t)?o(n):i.getData(function(e){a(e)})}function h(e){o(e||f)}function d(e){o(e||s)}t.readUint8Array(p.offset,30,function(n){var a,s=v(n.length,n);1347093252==s.view.getUint32(0)?(W(p,s,4,!1,o),a=p.offset+30+p.filenameLength+p.extraFieldLength,i.init(function(){0===p.compressionMethod?_(p._worker,c++,t,i,a,p.compressedSize,l,w,u,h,d):function(t,r,n,i,o,a,c,s,f,u,l){var p=c?"output":"none";e.zip.useWebWorkers?A(t,{sn:r,codecClass:"Inflater",crcType:p},n,i,o,a,f,s,u,l):S(new e.zip.Inflater,n,i,o,a,p,f,s,u,l)}(p._worker,c++,t,i,a,p.compressedSize,l,w,u,h,d)},d)):o(r)},h)};var l={getEntries:function(e){var n=this._worker;!function(e){var n=22;if(t.size<n)o(r);else{var i=n+65536;c(n,function(){c(Math.min(i,t.size),function(){o(r)})})}function c(r,i){t.readUint8Array(t.size-r,r,function(t){for(var r=t.length-n;r>=0;r--)if(80===t[r]&&75===t[r+1]&&5===t[r+2]&&6===t[r+3])return void e(new DataView(t.buffer,r,n));i()},function(){o(a)})}}(function(i){var c,s;c=i.getUint32(16,!0),s=i.getUint16(8,!0),c<0||c>=t.size?o(r):t.readUint8Array(c,t.size-c,function(t){var i,a,c,f,l=0,p=[],w=v(t.length,t);for(i=0;i<s;i++){if((a=new u)._worker=n,1347092738!=w.view.getUint32(l))return void o(r);W(a,w,l+6,!0,o),a.commentLength=w.view.getUint16(l+32,!0),a.directory=16==(16&w.view.getUint8(l+38)),a.offset=w.view.getUint32(l+42,!0),c=M(w.array.subarray(l+46,l+46+a.filenameLength)),a.filename=2048==(2048&a.bitFlag)?L(c):D(c),a.directory||"/"!=a.filename.charAt(a.filename.length-1)||(a.directory=!0),f=M(w.array.subarray(l+46+a.filenameLength+a.extraFieldLength,l+46+a.filenameLength+a.extraFieldLength+a.commentLength)),a.comment=2048==(2048&a.bitFlag)?L(f):D(f),p.push(a),l+=46+a.filenameLength+a.extraFieldLength+a.commentLength}e(p)},function(){o(a)})})},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};e.zip.useWebWorkers?x("inflater",function(e){l._worker=e,i(l)},function(e){o(e)}):i(l)}function E(e){return unescape(encodeURIComponent(e))}function F(e){var t,r=[];for(t=0;t<e.length;t++)r.push(e.charCodeAt(t));return r}function T(t,r,n,i){var o={},a=[],s=0,l=0;function p(e){n(e||c)}function w(e){n(e||f)}var h={add:function(r,c,f,h,d){var g,y,m,U=this._worker;function z(e,r){var n=v(16);s+=e||0,n.view.setUint32(0,1347094280),void 0!==r&&(g.view.setUint32(10,r,!0),n.view.setUint32(4,r,!0)),c&&(n.view.setUint32(8,e,!0),g.view.setUint32(14,e,!0),n.view.setUint32(12,c.size,!0),g.view.setUint32(18,c.size,!0)),t.writeUint8Array(n.array,function(){s+=16,f()},p)}function b(){var f,b;(d=d||{},r=r.trim(),d.directory&&"/"!=r.charAt(r.length-1)&&(r+="/"),o.hasOwnProperty(r))?n(u):(y=F(E(r)),a.push(r),f=function(){c?i||0===d.level?_(U,l++,c,t,0,c.size,!0,z,h,w,p):function(t,r,n,i,o,a,c,s,f){e.zip.useWebWorkers?A(t,{sn:r,options:{level:o},codecClass:"Deflater",crcType:"input"},n,i,0,n.size,c,a,s,f):S(new e.zip.Deflater,n,i,0,n.size,"input",c,a,s,f)}(U,l++,c,t,d.level,z,h,w,p):z()},m=d.lastModDate||new Date,g=v(26),o[r]={headerArray:g.array,directory:d.directory,filename:y,offset:s,comment:F(E(d.comment||""))},g.view.setUint32(0,335546376),d.version&&g.view.setUint8(0,d.version),i||0===d.level||d.directory||g.view.setUint16(4,2048),g.view.setUint16(6,(m.getHours()<<6|m.getMinutes())<<5|m.getSeconds()/2,!0),g.view.setUint16(8,(m.getFullYear()-1980<<4|m.getMonth()+1)<<5|m.getDate(),!0),g.view.setUint16(22,y.length,!0),(b=v(30+y.length)).view.setUint32(0,1347093252),b.array.set(g.array,4),b.array.set(y,30),s+=b.array.length,t.writeUint8Array(b.array,f,p))}c?c.init(b,w):b()},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null);var r,n,i,c=0,f=0;for(n=0;n<a.length;n++)c+=46+(i=o[a[n]]).filename.length+i.comment.length;for(r=v(c+22),n=0;n<a.length;n++)i=o[a[n]],r.view.setUint32(f,1347092738),r.view.setUint16(f+4,5120),r.array.set(i.headerArray,f+6),r.view.setUint16(f+32,i.comment.length,!0),i.directory&&r.view.setUint8(f+38,16),r.view.setUint32(f+42,i.offset,!0),r.array.set(i.filename,f+46),r.array.set(i.comment,f+46+i.filename.length),f+=46+i.filename.length+i.comment.length;r.view.setUint32(f,1347093766),r.view.setUint16(f+8,a.length,!0),r.view.setUint16(f+10,a.length,!0),r.view.setUint32(f+12,c,!0),r.view.setUint32(f+16,s,!0),t.writeUint8Array(r.array,function(){t.getData(e)},p)},_worker:null};e.zip.useWebWorkers?x("deflater",function(e){h._worker=e,r(h)},function(e){n(e)}):r(h)}w.prototype.append=function(e){for(var t=0|this.crc,r=this.table,n=0,i=0|e.length;n<i;n++)t=t>>>8^r[255&(t^e[n])];this.crc=t},w.prototype.get=function(){return~this.crc},w.prototype.table=function(){var e,t,r,n=[];for(e=0;e<256;e++){for(r=e,t=0;t<8;t++)1&r?r=r>>>1^3988292384:r>>>=1;n[e]=r}return n}(),h.prototype.append=function(e,t){return e},h.prototype.flush=function(){},g.prototype=new d,g.prototype.constructor=g,y.prototype=new d,y.prototype.constructor=y,m.prototype=new d,m.prototype.constructor=m,U.prototype.getData=function(e){e(this.data)},z.prototype=new U,z.prototype.constructor=z,b.prototype=new U,b.prototype.constructor=b,k.prototype=new U,k.prototype.constructor=k;var R={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};function x(t,r,n){if(null===e.zip.workerScripts||null===e.zip.workerScriptsPath){var i,o,a;if(e.zip.workerScripts){if(i=e.zip.workerScripts[t],!Array.isArray(i))return void n(new Error("zip.workerScripts."+t+" is not an array!"));o=i,a=document.createElement("a"),i=o.map(function(e){return a.href=e,a.href})}else(i=R[t].slice(0))[0]=(e.zip.workerScriptsPath||"")+i[0];var c=new Worker(i[0]);c.codecTime=c.crcTime=0,c.postMessage({type:"importScripts",scripts:i.slice(1)}),c.addEventListener("message",function e(t){var i=t.data;if(i.error)return c.terminate(),void n(i.error);"importScripts"===i.type&&(c.removeEventListener("message",e),c.removeEventListener("error",s),r(c))}),c.addEventListener("error",s)}else n(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));function s(e){c.terminate(),n(e)}}function B(e){console.error(e)}e.zip={Reader:d,Writer:U,BlobReader:m,Data64URIReader:y,TextReader:g,BlobWriter:k,Data64URIWriter:b,TextWriter:z,createReader:function(e,t,r){r=r||B,e.init(function(){C(e,t,r)},r)},createWriter:function(e,t,r,n){r=r||B,n=!!n,e.init(function(){T(e,t,r,n)},r)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null}}(this)}),
(function(e,i,o){e.exports={dragTargetNormal:"file_import_view--dragTargetNormal--_qR9v",dragTargetDragging:"file_import_view--dragTargetDragging--MdzFb file_import_view--dragTargetNormal--_qR9v",fileRows:"file_import_view--fileRows--2xHuP overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",fileStatusIcon:"file_import_view--fileStatusIcon--35LoN",fileSpinnerIcon:"file_import_view--fileSpinnerIcon--A6ilk file_import_view--fileStatusIcon--35LoN",fileCheckIcon:"file_import_view--fileCheckIcon--13yb4 file_import_view--fileStatusIcon--35LoN",fileXIcon:"file_import_view--fileXIcon--AGLCK file_import_view--fileStatusIcon--35LoN",fileName:"file_import_view--fileName--3CDfj",fileWaitingName:"file_import_view--fileWaitingName--3idit file_import_view--fileName--3CDfj",fileResolvedName:"file_import_view--fileResolvedName--pYoiw file_import_view--fileName--3CDfj",fileImportRow:"file_import_view--fileImportRow--2EnV_",fileImportMessage:"file_import_view--fileImportMessage--1I9_K",footer:"file_import_view--footer--2QPcX",footerRed:"file_import_view--footerRed--2pCUe file_import_view--footer--2QPcX",footerGreen:"file_import_view--footerGreen--3RMzq file_import_view--footer--2QPcX",footerBlue:"file_import_view--footerBlue--1G7j1 file_import_view--footer--2QPcX",footerButton:"file_import_view--footerButton--3et84",footerButtonRed:"file_import_view--footerButtonRed--18g4F file_import_view--footerButton--3et84",footerButtonGreen:"file_import_view--footerButtonGreen--3MxpX file_import_view--footerButton--3et84",footerButtonBlue:"file_import_view--footerButtonBlue--1uYet file_import_view--footerButton--3et84",closeButton:"file_import_view--closeButton--3k3o8 close_button--modalUpperRightCorner--DC2Iw"}}),
(function(l,t,e){l.exports={src:'<svg width="11" height="8" viewBox="0 0 11 8" xmlns="http://www.w3.org/2000/svg"><path d="M10.194 1.444L4.252 7.386.31 3.444l.884-.884 3.058 3.058L9.31.56l.884.884z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),i=s(43,1         ),l=s(339                                    ),r=s(113                                     ),a=s(340                           ),n=s(146                        ),p=s(154                                 ),m=s(271                                        ),c=s(152                                          ),d=s(912                     ),f=s(913                         ),u=s(151                           );class I extends o.Component{constructor(){super(...arguments),this.onDone=(()=>{this.props.dispatch(r.fileBrowser.hideModal()),this.props.dispatch(l.fileImport.resetImports())}),this.onCancel=(()=>{this.props.dispatch(l.fileImport.cancelImport())})}renderImportModal(){if(this.props.showingImportModal){let e=this.props.fileImport.files,t=Object.keys(e).map(e=>parseInt(e)).sort((e,t)=>e-t),s=Object.keys(this.props.fileImport.files).length,i=this.props.fileImport.queue.length,l=s-i,r=0,I="";if(0===i){for(let t in this.props.fileImport.files){let s=e[t];s.status!==a.FileImportStatus.SUCCESS&&s.status!==a.FileImportStatus.WARNING||r++}I=s>1?`${r}/${s} files imported successfully`:1===r?"File imported successfully":"File import failed"}else I=s>1?`Importing ${l+1}/${s} files...`:"Importing file...";let g=d.footerBlue,h=d.footerButtonBlue;return 0===i&&(0===r?(g=d.footerRed,h=d.footerButtonRed):(g=d.footerGreen,h=d.footerButtonGreen)),o.createElement(p.Modal,{title:"Import Files",disableClickOutsideToHide:i>0,tintedModalBackground:!0,dispatch:this.props.dispatch},o.createElement(c.CloseButton,{onClick:this.props.fileImport.queue.length?this.onCancel:this.onDone,className:d.closeButton}),o.createElement("div",{className:d.fileRows},t.map(t=>{let s=e[t],i=d.fileSpinnerIcon,l=null;s.status!==a.FileImportStatus.SUCCESS&&s.status!==a.FileImportStatus.WARNING||(i=d.fileCheckIcon,l=f),s.status!==a.FileImportStatus.FAILURE&&s.status!==a.FileImportStatus.CANCELED||(i=d.fileXIcon,l=u);let r=d.fileWaitingName;return s.status===a.FileImportStatus.WAITING&&(r=d.fileResolvedName),o.createElement("div",{className:d.fileImportRow,key:`file-import-${t}`},l?o.createElement(n.Svg,{className:i,svg:l}):o.createElement(m.LoadingSpinner,{className:i}),o.createElement("div",{className:r},e[t].name),(()=>{if(s.message)return o.createElement("div",{className:d.fileImportMessage},s.message)})())})),o.createElement("div",{className:g},o.createElement("div",null,I),(()=>0===i?o.createElement("div",{onClick:this.onDone,className:h},"Done"):o.createElement("div",{onClick:this.onCancel,className:h},"Cancel"))()))}}render(){const e=this.props.fileImport.isDraggingImport?d.dragTargetDragging:d.dragTargetNormal;return o.createElement("div",null,o.createElement("div",{className:e}),this.renderImportModal())}}I.displayName="FileImportView";t.FileImportView=i.connect(e=>{var s;return{fileImport:e.fileImport,showingImportModal:(null===(s=e.modalShown)||void 0===s?void 0:s.type)===t.FILE_IMPORT_MODAL}})(I),t.FILE_IMPORT_MODAL="file-import-modal"}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}(r(261        ))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(911                );const a=i(108     ),s=i(333       ),o=i(113                                     ),n=i(339                                    ),l=i(280                             ),r=i(348                                    ),c=i(340                           ),p=i(111          ),f=i(85                   ),m=i(316                                   ),d=i(346                         ),u=i(347                           ),g=i(102              ),h=i(914                                            ),I=i(118                    ),w=i(915                             ),y=i(107           ),F={bytes:new Uint8Array([137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,0,1,0,0,0,1,8,6,0,0,0,31,21,196,137,0,0,0,10,73,68,65,84,120,156,99,0,1,0,0,5,0,1,13,10,45,180,0,0,0,0,73,69,78,68,174,66,96,130]),clientMeta:{background_color:{r:0,g:0,b:0,a:0},thumbnail_size:{width:1,height:1}}};let b=null,_=[];zip.workerScriptsPath="/js/zip/";class S extends Error{constructor(e){super(e),this.message=e,this.imageUploadError=!1}}class C extends S{}class v extends S{}function E(e){const t=e.getState(),i=t.fileImport.queue.filter(e=>{const i=t.fileImport.files[e];return i.status===c.FileImportStatus.WAITING||i.status===c.FileImportStatus.BUSY});for(let a of i)e.dispatch(n.fileImport.updateItem({id:a,status:c.FileImportStatus.CANCELED}))}function P(e,t){const i=e.getState();if(i.fileImport.isProcessingFile)return void(t.hasCanceled()&&e.dispatch(n.fileImport.doneProcessingFile()));let o=i.fileImport.queue[0];if(void 0===o)return;let g=i.fileImport.files[o];if(t.hasCanceled())return e.dispatch(n.fileImport.updateItem({id:o,status:c.FileImportStatus.CANCELED})),e.dispatch(n.fileImport.doneProcessingFile()),void E(e);e.dispatch(n.fileImport.updateItem({id:o,status:c.FileImportStatus.BUSY}));let h,b=Date.now(),S=g.name.replace(/\.[^\.]+$/,""),P=g.name.slice(S.length);if("folder"===i.selectedView.view){const e=i.folders[i.selectedView.folderId];h=e&&e.team_id}(async function(e,t,i,o,n,c){function p(e,t,i,a){if(c.hasCanceled())return Promise.reject("canceled");const s="Oops. This service is temporarily unavailable";return new Promise((o,n)=>{let l=new XMLHttpRequest;l.open("POST","/api/upnode/checkpoint?st=import"),l.onload=(()=>{try{let t=JSON.parse(l.responseText);t.error?n(t.message):o(t)}catch(e){n(s)}}),l.onerror=(()=>n(s)),l.send(function(e,t,i,a){let s=e.getState(),o=I.getUserDraftsFolderOrNull(s.folders,s.currentOrgId,s.roles,s.user,s.orgUsersByOrgId.orgUsers);"folder"===s.selectedView.view&&(o=s.folders[s.selectedView.folderId]);const n=new FormData;return n.append("manifest",JSON.stringify({canvas_count:1,parts:[{name:"canvas",mime:"application/x-figma",length:t.length},{name:"thumbnail",mime:"image/png",length:i.bytes.length}],folder_id:o?o.id:null,client_meta:i.clientMeta,max_session_id:a})),n.append("canvas",new Blob([t],{type:"application/x-figma"})),n.append("thumbnail",new Blob([i.bytes],{type:"image/png"})),n}(e,t,i,a))})}if(".svg"===o.toLowerCase())throw new C("To import an SVG, drag it directly into an open Figma file.");const g=f.initialOptions().user_data,h=!(!g||!g.email)&&g.email.endsWith("@figma.com"),b=await c.convertFile({bytes:i,featureFlags:n,fontLoader:function(){let e=m.fetchFontList([w.FontSource.LOCAL,w.FontSource.GOOGLE,w.FontSource.SHARED]);return{getFont:async function(t){const i=await e;for(let e of i.list){const i=O(e.postscript,t);if(i){!0!==i&&console.warn(`Fuzzy font name match: ${e.postscript} = ${t} (${i})`);const a=await m.fetchFontFile(e.source,e.id,e.postscript);if(a)return{name:e.postscript,font:a}}}return new Promise((e,t)=>t(null))}}}(),isUserFigmaEmployee:h}),S=b.file;if(!S)throw new v("Could not convert file.");if(c.hasCanceled())return{warnings:["Canceled"],file:null};const{fileKey:E}=await async function(t,i,s,o){var n=null;try{const m=await p(e,i,s||F,o);if(n=m.meta.file.key,c.hasCanceled())throw new Error("Import canceled.");if(null!=n){await a.default.put(`/api/files/${n}`,{name:t});const i={file:Object.assign(Object.assign({},m.meta.file),{name:t,accessed_at:new Date})};return e.dispatch(l.file.post(i)),e.dispatch(l.file.recentFilePost(i)),e.dispatch(r.tileSelect.selectTiles({type:u.TileSelectionType.FILES,tiles:[{type:d.TileType.FILE,file:i.file}]})),{fileKey:n}}throw new Error("Null fileKey.")}catch(f){throw null!==n&&a.default.del("/api/files_batch",{files:[{key:n}]}),f}}(t,S.bytes,S.thumbnail,S.maxSessionID||0),P={fileKey:E,sketchMeta:S.sketchMeta},k=await async function(e,t){const i=e.length;let o=0;try{for(let a=0;a<e.length;a+=5){const n=[];for(let l=a;l<a+5&&l<e.length;l++){const a=e[l];if(c.hasCanceled())throw new Error("Import canceled.");let r="application/octet-stream";if(c.isProbablyPNGFile(a.bytes))r="image/png";else if(c.isProbablyJPEGFile(a.bytes))r="image/jpeg";else{if(!c.isProbablyGIFFile(a.bytes)){console.log("warning: ignoring image with unknown type ("+Array.prototype.slice.call(a.bytes,0,10).map(e=>(256|e).toString(16).slice(-2))+"...)");continue}r="image/gif"}console.log("uploading image "+s.toHex(a.sha1Bytes)+" of type "+r),c.callUpdateProgressCallback(20+(0===i?0:80*l/i)),n.push(new Promise((e,i)=>{const n=l=>{let c=new XMLHttpRequest,p=!1;c.onloadend=(()=>{let t=_.indexOf(c);if(t>-1&&_.slice(t,1),4===c.readyState&&200===c.status)e();else if(p)i(new Error("Import canceled."));else if(413===c.status)o++,e();else if(400!==c.status&&401!==c.status&&--l>0)return console.log("Image upload failed, retrying..."),void setTimeout(()=>{n(l)},1e3);let a=new v("Image import failed");a.imageUploadError=!0,i(a)}),c.onabort=(()=>{p=!0}),c.open("POST",`/api/upnode/image?purpose=canvas&sha1=${s.toHex(a.sha1Bytes)}&fileKey=${t.fileKey}`),c.setRequestHeader("Content-Type",r),_.push(c),c.send(a.bytes||null)};n(3)})),await y.waitFor(0)}await Promise.all(n)}}catch(l){throw a.default.del("/api/files_batch",{files:[{key:t.fileKey}]}),l}const n=[];o>0&&n.push(`${o} image(s) were too large (>64MB) and did not successfully import`);return n}(b.images,P);return{warnings:b.warnings.concat(k),file:P}})(e,S,g.bytes,P,f.getFeatureFlags(),t).then(t=>{t.warnings.length?e.dispatch(n.fileImport.updateItem({id:o,status:c.FileImportStatus.WARNING,message:t.warnings.join("\n")})):e.dispatch(n.fileImport.updateItem({id:o,status:c.FileImportStatus.SUCCESS}));let i=(Date.now()-b)/1e3;if(console.log(`conversion took ${i} seconds`),e.dispatch(n.fileImport.doneProcessingFile()),p.segment&&t.file){const e=t.file.fileKey;p.segment.track("File Imported",Object.assign(Object.assign({},t.file.sketchMeta),{extension:P,worked:!0,teamId:h,fileKey:e}))}}).catch(i=>{try{if(e.dispatch(n.fileImport.updateItem({id:o,status:t.hasCanceled()?c.FileImportStatus.CANCELED:c.FileImportStatus.FAILURE,message:i&&i.message?i.message+"":"Internal error. Please try again later."})),p.segment){p.segment.track("File Imported",{extension:P,worked:!1,teamId:h}),i.imageUploadError&&p.segment.track("File Import Image Upload Error",{extension:P,teamId:h})}i instanceof C||(t.hasCanceled()?(e.dispatch(n.fileImport.doneProcessingFile()),E(e)):console.error("file import failure:",i&&i.stack||i&&i.message||i))}catch(a){setTimeout(()=>{throw a})}finally{e.dispatch(n.fileImport.doneProcessingFile())}})}function k(e,t=!0,i){const a=document.createElement("input");a.type="file",a.multiple=t,i&&(a.accept=i),a.style.display="none",a.onchange=(t=>{const i=e.getState().selectedView;if("folder"!==i.view&&"recentFiles"!==i.view){const t=e.getState(),i=I.getUserDraftsFolderOrNull(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers);i&&e.dispatch(o.fileBrowser.selectView({view:"folder",folderId:i.id}))}e.dispatch(n.fileImport.inputChange(t)),a.remove()}),document.body.appendChild(a),a.click()}function O(e,t){if(e===t)return!0;const i=e.toLowerCase().trim(),a=t.toLowerCase().trim();if(i===a)return"lower";const s=i.split("-"),o=a.split("-");return 0!==s.length&&0!==o.length&&o[0]===s[0]&&((1===s.length&&2===o.length&&"regular"===o[1]||2===s.length&&1===o.length&&"regular"===s[1])&&"assume-regular")}t.default=(e=>t=>(function(i){return o.fileBrowser.init.matches(i)?(g.loadScript(Fig.importShimURL).then(()=>{b=window.createFileImporter(Fig.importWorkerURL)}),t(i)):b?n.fileImport.openFileInput.matches(i)?(k(e),t(i)):n.fileImport.openSketchFileInput.matches(i)?(k(e,!1,".sketch"),t(i)):n.fileImport.drop.matches(i)?(function(e,t,i){_=[],i.extractFilesFromDropEvent(t,(t,i)=>e.dispatch(n.fileImport.addToQueue({name:t,bytes:i})))}(e,i.payload,b),t(i)):n.fileImport.inputChange.matches(i)?(function(e,t,i){let a=t.target,s=(t,a)=>{let s=new FileReader;i.resetCancel(),s.onload=(()=>e.dispatch(n.fileImport.addToQueue({name:t,bytes:new Uint8Array(s.result)}))),s.readAsArrayBuffer(a)};if(a.files)for(let o=0;o<a.files.length;o++){let e=a.files[o];e&&e.name.endsWith(".sketch.zip")?zip.createReader(new zip.BlobReader(e),t=>{t.getEntries(t=>{if(t.length){for(let i of t)if(i.filename.endsWith("Data"))return void i.getData(new zip.BlobWriter,t=>{var i=e.name.slice(0,-4);s(i,t)});s(e.name,e)}})},()=>{s(e.name,e)}):s(e.name,e)}}(e,i.payload,b),t(i)):n.fileImport.addToQueue.matches(i)?(t(i),e.dispatch(o.fileBrowser.showModal({type:h.FILE_IMPORT_MODAL})),b.hasCanceled()||e.dispatch(n.fileImport.processNextInQueue()),i):n.fileImport.processNextInQueue.matches(i)?(P(e,b),t(i)):n.fileImport.cancelImport.matches(i)?(_.forEach(e=>{e.onload=(()=>{}),e.abort()}),b.cancelConversion(),e.dispatch(n.fileImport.doneProcessingFile()),E(e),_=[],t(i)):n.fileImport.doneProcessingFile.matches(i)?(t(i),e.getState().fileImport.queue.length>0&&e.dispatch(n.fileImport.processNextInQueue()),i):t(i):t(i)}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=i(108     ),r=i(99                      ),o=i(113                                     ),a=i(658                                      ),s=i(208                               ),f=i(186                      );t.fileFollowerMiddleware=(e=>t=>(function(i){if(!o.fileBrowser.selectView.matches(i)){if(a.fileFollower.post.matches(i)){if(i.payload.userInitiated){let o=i.payload.fileFollower;return f.trackEventForFile("File Follower Added",o.key,e.getState()),r.optimisticRequestWithErrorHandling({requestPromise:l.default.post(`/api/file/${o.key}/file_followers`).then(({data:t})=>{e.dispatch(a.fileFollower.post({fileFollower:t.meta,userInitiated:!1}))}),fallbackError:"An error occurred while subscribing to this file",store:e,next:t,action:i})}return t(i)}if(a.fileFollower.del.matches(i)){if(i.payload.userInitiated){let o=i.payload.fileFollower;return f.trackEventForFile("File Follower Deleted",o.key,e.getState()),r.optimisticRequestWithErrorHandling({requestPromise:l.default.del(`/api/file/${o.key}/file_followers`),fallbackError:"An error occurred while unsubscribing from this file",store:e,next:t,action:i})}return t(i)}return t(i)}{const r=e.getState(),o=r.selectedView&&s.editingFileKey(r.selectedView);t(i);const f=e.getState(),n=s.editingFileKey(f.selectedView);f.user&&n&&n!==o&&(e.dispatch(a.fileFollower.reset()),((e,t)=>{l.default.get(`/api/file/${e}/file_followers`).then(({data:i})=>{let l=t.getState();if(s.editingFileKey(l.selectedView)===e)for(let e of i.meta)t.dispatch(a.fileFollower.post({fileFollower:e,userInitiated:!1}))})})(n,e))}}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(188                               ),r=s(113                                     ),a=s(187                                  ),i=s(420              ),l=s(86            ),d=s(322                           ),n=s(135                     ),c=s(125                        ),f=s(644                           ),p=s(118                    ),u=s(890                                        ),m=s(888                                    ),h=s(884                         ),_=i.pxToInt(m.folderRowHeight),S=new d.ScoredSearchLibrary([],{keys:["folder.name","team.name"],threshold:.3,tokenize:!0}),g=(e,t,s)=>!!p.isADraftsFolder(t.folders,e.id)||!!c.canEditFolder(e.id,t)&&(!n.isFolderEditingLockedForUser(e,t)&&!(s&&!n.canAccessProFeature(e.team_id?t.teams[e.team_id]:null))),F=(e,t,s)=>!n.isTeamLockedForUser(e,t)&&!(s&&!n.canAccessProFeature(t.teams[e])),R=(e,t=!1)=>{const s=[];let o;Object.keys(e.folders).forEach(r=>{o=e.folders[r],p.isADraftsFolder(e.folders,r)&&(o=Object.assign(Object.assign({},o),{name:"Drafts"})),g(o,e,t)&&s.push(o)}),S.set(s.map(t=>{const s=t.team_id&&e.teams[t.team_id];return s?{folder:t,team:s}:{folder:t}}))},O=async(e,t,s=!1,o=!1)=>{let r=e.getState();var i,l;if(t){let s=((e,t)=>{const s=t.getState();let o=Object.create(null);const r=Object.create(null);let i=0,l=0;const d=p.getUserDraftsFolderOrNull(s.folders,s.currentOrgId,s.roles,s.user,s.orgUsersByOrgId.orgUsers);for(let a of e){const e=a.item.folder,t=d&&e.id===d.id?0:a.score,n=d&&e.id===d.id?f.USER_DRAFTS:y(e.team_id,s);n in o||(o[n]=[],n!==f.USER_FOLDERS&&n!==f.USER_DRAFTS&&l++),o[n].push(e),null==r[n]?r[n]=t:r[n]=Math.min(r[n],t),i++}const n=i+l;return t.dispatch(a.fileMove.setIndexCount({indexCount:n})),[r,o]})(await S.search(t),e);l=s[0],i=s[1]}else i=((e,t,s)=>{const o=Object.create(null);let r=0,i=0,l=t.getState();const d=p.getUserDraftsFolderOrNull(l.folders,l.currentOrgId,l.roles,l.user,l.orgUsersByOrgId.orgUsers);o[f.USER_DRAFTS]=[],o[f.USER_FOLDERS]=[];for(let a in l.roles.byTeamId)F(a,l,s)&&(i++,o[a]=[]);Object.keys(e).forEach(t=>{const a=Object.assign({},e[t]);if(g(a,l,s)&&u.isSubscribed(e,a)){const e=d&&a.id===d.id?f.USER_DRAFTS:y(a.team_id,l);o[e].push(a),r++}});const n=r+i;return t.dispatch(a.fileMove.setIndexCount({indexCount:n})),t.dispatch(a.fileMove.resetFocusedIndex()),o})(r.folders,e,s);const d=Object.keys(i),n=0===d.length;!n&&t?d.sort((e=>(t,s)=>e[t]-e[s])(l)):n||d.sort((e=>(t,s)=>{const o=e[t],r=e[s];return o?r&&o.name.toLowerCase()<r.name.toLowerCase()?-1:1:-1})(r.teams));const[c,m,R]=((e,t,s)=>{const o=Object.create(null),r=Object.create(null),a=[];let i=0,l=0;return e.forEach(e=>{let s=48;if(e===f.USER_DRAFTS&&(s=12),l+=s,r[e]=i,e!==f.USER_FOLDERS&&e!==f.USER_DRAFTS){const t={type:h.FolderRowType.NEW_FOLDER_TEAM,id:e,positionTop:l};a.push(t),l+=_,i+=1}const d=t[e];i+=d.length,d.sort((e,t)=>""===e.path?-1:""===t.path?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:1),d.forEach(e=>{const t={type:h.FolderRowType.FOLDER_ROW,id:e.id,positionTop:l};l+=_,a.push(t)}),o[e]=d,l+=13}),[o,r,a]})(d,i);e.dispatch(a.fileMove.setFolderRows({rows:R})),e.dispatch(a.fileMove.setIndexOffsets({indexOffsets:m})),e.dispatch(a.fileMove.setfoldersByTeamId({foldersByTeamId:c})),e.dispatch(a.fileMove.setTeamOrder({teamIds:d})),r.fileMove.isSearchResult!==o&&e.dispatch(a.fileMove.isSearchResult({isSearchResult:o}));const O=f.USER_DRAFTS in m&&R[0].type===h.FolderRowType.FOLDER_ROW;t&&O?e.dispatch(a.fileMove.setFocusedIndexAt({indexAt:0})):t&&!O&&e.dispatch(a.fileMove.setFocusedIndexAt({indexAt:1}))},y=(e,t)=>{let s;return s=e&&c.canViewTeam(e,t)?e:f.USER_FOLDERS},b=l.debounce((e,t,s=!1)=>{O(e,t,s,!!t)},200);t.default=(e=>t=>(function(s){if(a.fileMove.setFolderSearchQuery.matches(s))return b(e,s.payload.query),t(s);if(a.fileMove.focusFolderId.matches(s)){const o=e.getState().fileMove.folderRows;for(let t=0;t<o.length;t++)if(o[t].id===s.payload.folderId){e.dispatch(a.fileMove.setFocusedIndexAt({indexAt:t}));break}return t(s)}if(r.fileBrowser.showModal.matches(s)){if(t(s),s.payload&&s.payload.type===u.FILE_MOVE_MODAL){const t=s.payload.data;R(e.getState(),t.isPublishing),((e,t=!1)=>{O(e,"",t,!1)})(e,t.isPublishing)}}else{if(!(o.folder.put.matches(s)||o.folder.post.matches(s)||o.folder.del.matches(s)))return t(s);{t(s);const o=e.getState();if(o.modalShown&&o.modalShown.type===u.FILE_MOVE_MODAL){const t=o.modalShown.data;R(o,t.isPublishing);const s=o.fileMove.folderSearchQuery;O(e,o.fileMove.folderSearchQuery,t.isPublishing,!!s)}}}}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=i(113                                     ),a=i(348                                    ),c=i(349                             ),s=i(111          ),o=i(346                         ),r=i(347                           );t.default=(e=>t=>(function(i){if(l.fileBrowser.selectView.matches(i)){const t=e.getState().selectedView;!("folder"===t.view&&"folder"===i.payload.view&&t.folderId===i.payload.folderId||"recentFiles"===t.view&&"recentFiles"===i.payload.view||"searchDeprecated"===t.view&&"searchDeprecated"===i.payload.view)&&c.numTilesSelected(e.getState().tileSelect)&&e.dispatch(a.tileSelect.resetTileSelection())}else if(a.tileSelect.selectTiles.matches(i)){if(i.payload.type===r.TileSelectionType.PINNED_FILES)for(let e of i.payload.tiles)e.type===o.TileType.FILE&&s.segmentTrackEvent("pinned-file-selected",{fileKey:e.file.key});return t(i)}return t(i)}))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(113                                     ),a=n(186                      );t.default=(e=>t=>(function(n){if(o.fileBrowser.downloadFontInstaller.matches(n)||o.fileBrowser.downloadFontUninstaller.matches(n)){const l=o.fileBrowser.downloadFontInstaller.matches(n)?"Font Installer Downloaded":"Font Uninstaller Downloaded";let r=e.getState();return a.trackEventForUser(l,r),t(n)}return t(n)}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(113                                     ),s=o(314              ),n=o(211              ),l=o(459                          );t.default=(e=>t=>(function(o){return t(o),i.fileBrowser.selectView.matches(o)&&function e(t){(function(){if(n.desktopApp)return!1;const{user:e,selectedView:o}=t.getState();return e&&l.isUserAccountSettingsView(o)})()&&s.requestFontDaemonFontFiles().then(({data:o})=>{let s=0;for(let e in o.fontFiles)s+=o.fontFiles[e].length;t.getState().localFonts!==s&&t.dispatch(i.fileBrowser.setLocalFonts({value:s})),setTimeout(e.bind(void 0,t),2e3)}).catch(()=>{!1!==t.getState().localFonts&&t.dispatch(i.fileBrowser.setLocalFonts({value:!1})),setTimeout(e.bind(void 0,t),1e3)})}(e),o}))}),
(function(e,n,o){e.exports={modal:"license_agreement--modal--16g_-",scrollContainer:"license_agreement--scrollContainer--2gHHz",content:"license_agreement--content--281DO",footer:"license_agreement--footer--1Fau4"}}),
(function(e,t,n){"use strict";
// A license agreement modal to show on certain files.
Object.defineProperty(t,"__esModule",{value:!0});const o=n(2,1    ),s=n(113                                     ),r=n(209                ),i=n(154                                 ),a=n(411                                                  ),l=n(147                                            ),E=n(101                             ),c=n(112          ),p=n(922                      ),A=n(136                    ),I=560;t.needsLicenseAgreement=(e=>{return"apple"===(e.license||"").toLowerCase()}),t.LICENSE_AGREEMENT_MODAL="LICENSE_AGREEMENT_MODAL",A.registerUnsafeModal(t.LICENSE_AGREEMENT_MODAL,e=>o.createElement(u,Object.assign({},e,{selectedView:e.selectedView})));class u extends o.PureComponent{constructor(){super(...arguments),this.state={checked:!1},this.onChange=(e=>{this.setState({checked:e.target.checked})}),this.accept=(()=>{this.props.dispatch(s.fileBrowser.hideModal());const e=r.getEditingFile(this.props),{selectedView:t}=this.props;"DUPLICATE"===t.landingState&&this.props.user&&null!=e&&c.redirect(`${e.url}/duplicate`)}),this.decline=(()=>{c.redirect("/")})}render(){var e;const t=r.getEditingFile(this.props);return"apple"===(null===(e=null==t?void 0:t.license)||void 0===e?void 0:e.toLowerCase())?o.createElement(i.Modal,Object.assign({size:I,className:`${E.PREVENT_EVENT_CAPTURE} ${p.modal}`,disableClickOutsideToHide:!0},this.props),o.createElement(a.ScrollContainer,{width:I,className:p.scrollContainer,showScrollbar:!0},o.createElement("div",{className:p.content},o.createElement(T,null))),o.createElement("div",{className:p.footer},o.createElement(l.Checkbox,{id:"check-license-agreement",checked:this.state.checked,onChange:this.onChange}),o.createElement(l.Label,{htmlFor:"check-license-agreement"},"I have read, understood, and agree to the License Agreement."),o.createElement(l.ButtonSecondary,{onClick:this.decline},"Disagree and Cancel"),o.createElement(l.ButtonPrimary,{disabled:!this.state.checked,onClick:this.accept},"Agree and Open"))):o.createElement("div",null)}}u.displayName="LicenseAgreementModal";class T extends o.PureComponent{render(){return o.createElement("div",null,o.createElement("p",null,"APPLE INC."),o.createElement("p",null,"LICENSE AGREEMENT FOR APPLE UI DESIGN RESOURCES"),o.createElement("p",null,"For iOS Application Uses Only"),o.createElement("p",null,"PLEASE READ THIS LICENSE AGREEMENT (“LICENSE”) CAREFULLY BEFORE USING THE APPLE UI DESIGN RESOURCES (DEFINED BELOW). BY USING THE APPLE UI DESIGN RESOURCES, YOU ARE AGREEING TO BE BOUND BY THE TERMS OF THIS LICENSE. IF YOU ARE ACCESSING THE APPLE UI DESIGN RESOURCES ELECTRONICALLY, SIGNIFY YOUR AGREEMENT TO BE BOUND BY THE TERMS OF THIS LICENSE BY CLICKING THE “AGREE” BUTTON. IF YOU DO NOT AGREE TO THE TERMS OF THIS LICENSE, DO NOT USE THE APPLE UI DESIGN RESOURCES AND CLICK “DISAGREE”. IMPORTANT NOTES:"),o.createElement("p",null,"THE APPLE UI DESIGN RESOURCES LICENSED HEREUNDER ARE TO BE USED SOLELY FOR CREATING MOCK-UPS OF USER INTERFACES DESIGNED FOR USE IN SOFTWARE PRODUCTS THAT RUN SOLELY ON APPLE’S iOS OPERATING SYSTEM."),o.createElement("p",null,"If you are entering into this License on behalf of your company or organization, “you” or “your” refers to such entity as well, and you represent that you have legal authority to bind your company or organization to the terms of this License."),o.createElement("p",null,"1. General."),o.createElement("p",null,"A. The Apple software, interfaces, content, templates, data, and other materials accompanying this License, whether on disk, print or electronic documentation, in read only memory, or any other media or in any other form (collectively the “Apple UI Design Resources”) are licensed, not sold, to you by Apple Inc. (“Apple”) for use only under the terms of this License. Apple and/or Apple’s licensors retain ownership of the Apple UI Design Resources and reserve all rights not expressly granted to you. The terms of this License will govern any software upgrades provided to you by Apple that replace and/or supplement the original Apple UI Design Resources, unless such upgrade is accompanied by a separate license in which case the terms of that license will govern."),o.createElement("p",null,"B. To the extent that the Apple San Francisco font is included with the Apple UI Design Resources, it is subject to a separate license agreement. If you want to install and use the Apple San Francisco font, you must first accept the separate license agreement that accompanies the font."),o.createElement("p",null,"C. Title and intellectual property rights in and to any content displayed by or accessed through the Apple UI Design Resources belongs to the respective content owner. Such content may be protected by copyright or other intellectual property laws and treaties, and may be subject to terms of use of the third party providing such content. This License does not grant you any rights to use such content nor does it guarantee that such content will continue to be available to you."),o.createElement("p",null,"2. Permitted License Uses and Restrictions."),o.createElement("p",null,"A. Limited License. Subject to the terms of this License, you are granted a limited, non-transferable, non-exclusive license to use the Apple UI Design Resources solely for creating mock-ups of user interfaces designed for use in software products that run solely on Apple’s iOS operating system (“Mock-Ups”). The foregoing right includes the right to show the Apple UI Design Resources in screen shots, images or other depictions of such Mock-Ups. You may use the Apple UI Design Resources only for the purposes described in this License and only if you are a registered Apple Developer, or as otherwise expressly permitted by Apple in writing."),o.createElement("p",null,"B. Other Use Restrictions. The grants set forth in this License do not permit you to, and you agree not to, install, use or run the Apple UI Design Resources for the purpose of creating mock-ups of user interfaces to be used in software products running on any non-Apple iOS operating system. You may not embed the Apple UI Design Resources in any software programs or other products. Except as expressly provided for herein, you may not use the Apple UI Design Resources to, create, develop, display or otherwise distribute any documentation, artwork, website content or any other work product. Except as otherwise expressly permitted by the terms of this License or as otherwise licensed by Apple, you may not make the Apple UI Design Resources available over a network where they could be run or used by multiple computers at the same time. You may not rent, lease, lend, trade, transfer, sell, sublicense or otherwise redistribute the Apple UI Design Resources in any unauthorized way, or enable others to do so."),o.createElement("p",null,"C. Template Content. The Apple UI Design Resources licensed hereunder contain content such as interfaces, graphics, artwork, images, and similar content (individually and collectively, the “Template Content”), for use in creating your Mock-Ups in accordance with this License. To the extent that you provide Mock-Ups you create using the Template Content to any other party, you agree to ensure that each such recipient is aware of the restrictions set forth in this License including, without limitation, the restriction on extraction of Template Content and the requirement that the Template Content be used only for Mock-Ups of user interfaces for software products that would run solely on Apple’s iOS operating system. The Template Content may not otherwise be used, extracted, copied, modified, distributed, or repackaged as content, clip art, stock animation, or similar assets, or in any other manner."),o.createElement("p",null,"D. No Reverse Engineering; Limitations. You may not, and you agree not to or to enable others to, copy (except as expressly permitted by this License), decompile, reverse engineer, disassemble, attempt to derive the source code of, decrypt, modify, create derivative works of the Apple UI Design Resources or any part thereof (except as and only to the extent any foregoing restriction is prohibited by applicable law)."),o.createElement("p",null,"E. Compliance with Laws. You agree to use the Apple UI Design Resources in compliance with all applicable laws, including local laws of the country or region in which you reside or in which you download or use the Apple UI Design Resources."),o.createElement("p",null,"3. No Transfer or Assignment."),o.createElement("p",null,"Except as otherwise set forth herein, you may not transfer the Apple UI Design Resources without Apple’s express prior written approval. All components of the Apple UI Design Resources are provided as part of a bundle and may not be separated from the bundle and distributed on a standalone basis. This License may not be assigned by you, nor may the rights granted hereunder be transferred by you, in whole or in part, through acquisition, merger or otherwise, without the prior written consent of a duly authorized representative of Apple. Any attempted assignment in contravention of this section shall be void."),o.createElement("p",null,"4. Termination."),o.createElement("p",null,"This License shall commence upon your installation or use of the Apple UI Design Resources. Your rights under this License will terminate automatically or cease to be effective without notice from Apple (a) if you fail to comply with any term(s) of this License, (b) if you are no longer a registered Apple Developer, or (c) if Apple releases a version of the Apple UI Design Resources which is incompatible with this version of the Apple UI Design Resources. Upon the termination of this License, you shall cease all use of the Apple UI Design Resources and destroy all copies, full or partial, of the Apple UI Design Resources. Section 2B, 2D, and 5 through 10 of this License shall survive any termination."),o.createElement("p",null,"5. Disclaimer of Warranties."),o.createElement("p",null,"A. YOU EXPRESSLY ACKNOWLEDGE AND AGREE THAT, TO THE EXTENT PERMITTED BY APPLICABLE LAW, USE OF THE APPLE UI DESIGN RESOURCES IS AT YOUR SOLE RISK AND THAT THE ENTIRE RISK AS TO SATISFACTORY QUALITY, PERFORMANCE, ACCURACY AND EFFORT IS WITH YOU."),o.createElement("p",null,"B. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, THE APPLE UI DESIGN RESOURCES IS PROVIDED “AS IS” AND “AS AVAILABLE”, WITH ALL FAULTS AND WITHOUT WARRANTY OF ANY KIND, AND APPLE AND APPLE’S LICENSORS (COLLECTIVELY REFERRED TO AS “APPLE” FOR THE PURPOSES OF SECTIONS 5 AND 6) HEREBY DISCLAIM ALL WARRANTIES AND CONDITIONS WITH RESPECT TO THE APPLE UI DESIGN RESOURCES, EITHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES AND/OR CONDITIONS OF MERCHANTABILITY, SATISFACTORY QUALITY, FITNESS FOR A PARTICULAR PURPOSE, ACCURACY, QUIET ENJOYMENT, AND NON-INFRINGEMENT OF THIRD PARTY RIGHTS."),o.createElement("p",null,"C. APPLE DOES NOT WARRANT AGAINST INTERFERENCE WITH YOUR ENJOYMENT OF THE APPLE UI DESIGN RESOURCES, THAT THE FUNCTIONS CONTAINED IN THE APPLE UI DESIGN RESOURCES WILL MEET YOUR REQUIREMENTS, THAT THE OPERATION OF THE APPLE UI DESIGN RESOURCES WILL BE UNINTERRUPTED OR ERROR-FREE, THAT THE APPLE UI DESIGN RESOURCES WILL BE COMPATIBLE OR WORK WITH ANY THIRD PARTY SOFTWARE, APPLICATIONS OR THIRD PARTY SERVICES, OR THAT DEFECTS IN THE APPLE UI DESIGN RESOURCES WILL BE CORRECTED. INSTALLATION OF THIS APPLE UI DESIGN RESOURCES MAY AFFECT THE AVAILABILITY AND USABILITY OF THIRD PARTY SOFTWARE, APPLICATIONS OR THIRD PARTY SERVICES, AS WELL AS APPLE PRODUCTS AND SERVICES."),o.createElement("p",null,"D. YOU FURTHER ACKNOWLEDGE THAT THE APPLE UI DESIGN RESOURCES IS NOT INTENDED OR SUITABLE FOR USE IN SITUATIONS OR ENVIRONMENTS WHERE THE FAILURE OR TIME DELAYS OF, OR ERRORS OR INACCURACIES IN THE CONTENT, DATA OR INFORMATION PROVIDED BY, THE APPLE UI DESIGN RESOURCES COULD LEAD TO DEATH, PERSONAL INJURY, OR SEVERE PHYSICAL OR ENVIRONMENTAL DAMAGE, INCLUDING WITHOUT LIMITATION THE OPERATION OF NUCLEAR FACILITIES, AIRCRAFT NAVIGATION OR COMMUNICATION SYSTEMS, AIR TRAFFIC CONTROL, LIFE SUPPORT OR WEAPONS SYSTEMS."),o.createElement("p",null,"E. NO ORAL OR WRITTEN INFORMATION OR ADVICE GIVEN BY APPLE OR AN APPLE AUTHORIZED REPRESENTATIVE SHALL CREATE A WARRANTY. SHOULD THE APPLE UI DESIGN RESOURCES PROVE DEFECTIVE, YOU ASSUME THE ENTIRE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION."),o.createElement("p",null,"6. Limitation of Liability."),o.createElement("p",null,"TO THE EXTENT NOT PROHIBITED BY APPLICABLE LAW, IN NO EVENT SHALL APPLE BE LIABLE FOR PERSONAL INJURY, OR ANY INCIDENTAL, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES WHATSOEVER, INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOSS OF PROFITS, CORRUPTION OR LOSS OF DATA, FAILURE TO TRANSMIT OR RECEIVE ANY DATA OR INFORMATION, BUSINESS INTERRUPTION OR ANY OTHER COMMERCIAL DAMAGES OR LOSSES, ARISING OUT OF OR RELATED TO YOUR USE OR INABILITY TO USE THE APPLE UI DESIGN RESOURCES OR ANY THIRD PARTY SOFTWARE, APPLICATIONS, OR SERVICES IN CONJUNCTION WITH THE APPLE UI DESIGN RESOURCES, HOWEVER CAUSED, REGARDLESS OF THE THEORY OF LIABILITY (CONTRACT, TORT OR OTHERWISE) AND EVEN IF APPLE HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OR LIMITATION OF LIABILITY FOR PERSONAL INJURY, OR OF INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THIS LIMITATION MAY NOT APPLY TO YOU. In no event shall Apple’s total liability to you for all damages (other than as may be required by applicable law in cases involving personal injury) exceed the amount of fifty dollars ($50.00). The foregoing limitations will apply even if the above stated remedy fails of its essential purpose."),o.createElement("p",null,"7. Export Control."),o.createElement("p",null,"You may not use or otherwise export or re-export the Apple UI Design Resources except as authorized by United States law and the laws of the jurisdiction(s) in which the Apple UI Design Resources was obtained. In particular, but without limitation, the Apple UI Design Resources may not be exported or re-exported (a) into any U.S. embargoed countries or (b) to anyone on the U.S. Treasury Department’s list of Specially Designated Nationals or the U.S. Department of Commerce Denied Person’s List or Entity List or any other restricted party lists. By using the Apple UI Design Resources, you represent and warrant that you are not located in any such country or on any such list. You also agree that you will not use the Apple UI Design Resources for any purposes prohibited by United States law, including, without limitation, the development, design, manufacture or production of missiles, nuclear, chemical or biological weapons."),o.createElement("p",null,"8. Government End Users."),o.createElement("p",null,"The Apple UI Design Resources and related documentation are “Commercial Items”, as that term is defined at 48 C.F.R. §2.101, consisting of “Commercial Computer Software” and “Commercial Computer Software Documentation”, as such terms are used in 48 C.F.R. §12.212 or 48 C.F.R. §227.7202, as applicable. Consistent with 48 C.F.R. §12.212 or 48 C.F.R. §227.7202-1 through 227.7202-4, as applicable, the Commercial Computer Software and Commercial Computer Software Documentation are being licensed to U.S. Government end users (a) only as Commercial Items and (b) with only those rights as are granted to all other end users pursuant to the terms and conditions herein. Unpublished-rights reserved under the copyright laws of the United States."),o.createElement("p",null,"9. Controlling Law and Severability."),o.createElement("p",null,"This License will be governed by and construed in accordance with the laws of the State of California, excluding its conflict of law principles. This License shall not be governed by the United Nations Convention on Contracts for the International Sale of Goods, the application of which is expressly excluded. If for any reason a court of competent jurisdiction finds any provision, or portion thereof, to be unenforceable, the remainder of this License shall continue in full force and effect."),o.createElement("p",null,"10. Complete Agreement; Governing Language."),o.createElement("p",null,"This License constitutes the entire agreement between you and Apple relating to the use of the Apple UI Design Resources licensed hereunder and supersedes all prior or contemporaneous understandings regarding such subject matter. No amendment to or modification of this License will be binding unless in writing and signed by Apple. The parties hereto confirm that they have requested that this Agreement and all related documents be drafted in English. Les parties ont exigé que le présent contrat et tous les documents connexes soient rédigés en anglais."),o.createElement("p",null,"EA1441"),o.createElement("p",null,"12/02/2016"))}}T.displayName="AppleLicenseAgreement"}),
(function(m,t,n){"use strict";function e(m,t,n,e,r,u){return{m00:m,m01:t,m02:n,m10:e,m11:r,m12:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.identity=function(){return e(1,0,0,0,1,0)},t.create=e,t.translated=function(m,t,n){const{m00:r,m01:u,m02:c,m10:o,m11:i,m12:s}=m;return e(r,u,t*r+n*u+c,o,i,t*o+n*i+s)},t.rotated=function(m,t){const{m00:n,m01:r,m02:u,m10:c,m11:o,m12:i}=m,s=Math.sin(t),a=Math.cos(t);return e(a*n+s*r,a*r-s*n,u,a*c+s*o,a*o-s*c,i)},t.scaled=function(m,t,n){const{m00:r,m01:u,m02:c,m10:o,m11:i,m12:s}=m;return e(r*t,u*n,c,o*t,i*n,s)},t.product=function(m,t){return e(m.m00*t.m00+m.m01*t.m10,m.m00*t.m01+m.m01*t.m11,m.m00*t.m02+m.m01*t.m12+m.m02,m.m10*t.m00+m.m11*t.m10,m.m10*t.m01+m.m11*t.m11,m.m10*t.m02+m.m11*t.m12+m.m12)}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(215                                          ),s=a(221       ),n=a(924                   );e.defaultFill={r:196/255,g:196/255,b:196/255,a:1},e.defaultStroke={r:0,g:0,b:0,a:1};let r=[{position:0,color:{r:1,g:1,b:1,a:1}},{position:1,color:{r:1,g:1,b:1,a:0}}];const o=(()=>{let t=n.identity();return t=n.translated(t,.5,.5),t=n.rotated(t,-Math.PI/2),t=n.translated(t,-.5,-.5)})();let l=null;function c(t){return null!=t&&-1!==["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"].indexOf(t)}function h(t){return null!=t&&"SOLID"===t}e.asGradientPaint=function(t){return c(t.type)?t:null},e.asSolidPaint=function(t){return h(t.type)?t:null},e.isGradient=c,e.isSolidPaint=h,e.asImagePaint=function(t){return"IMAGE"!==t.type?null:t};e.paintCache=new class{constructor(){this.clearCache=(t=>{null!=t?delete this.cache[t]:this.cache={}}),this.getId=((t,e)=>`${e}-${t}`),this.initPaint=((t,e,a,i)=>{let s={type:t,opacity:1,visible:!0,blendMode:"NORMAL"};if("SOLID"===t?s.color=e:c(t)?(s.stops=r,s.transform=o):"IMAGE"===t&&l&&this.transferImageAttributes(l,s),!a)return s;const n=this.cachePaint(a,i);return this.transferGeneralAttributes(n,s),"SOLID"===t?n.color?this.transferColorAttributes(n,s):n.stops&&n.stops.length&&this.transferColorAttributes(n.stops[0],s):c(t)?n.stops?this.transferGradientAttributes(n,s):n.color&&(s.stops=[{position:0,color:Object.assign(Object.assign({},n.color),{a:1})},{position:1,color:Object.assign(Object.assign({},n.color),{a:0})}]):"IMAGE"===t&&n.image&&n.imageThumbnail&&(this.transferImageAttributes(n,s),s.transform=n.imageTransform),s}),this.cachePaint=((t,e)=>(this.cache[e]=this.cache[e]||t,c(t.type)?this.transferGradientAttributes(t,this.cache[e]):"SOLID"===t.type?this.transferColorAttributes(t,this.cache[e]):"IMAGE"===t.type&&(this.transferImageAttributes(t,this.cache[e]),this.cache[e].imageTransform=t.transform),this.cache[e])),this.transferGeneralAttributes=((t,e)=>{e.opacity=t.opacity,e.blendMode=t.blendMode,e.visible=t.visible}),this.transferColorAttributes=((t,e)=>{e.color=t.color}),this.transferGradientAttributes=((t,e)=>{e.stops=t.stops,e.transform=t.transform}),this.transferImageAttributes=((t,e)=>{e.image=t.image,e.imageThumbnail=t.imageThumbnail,e.animatedImage=t.animatedImage,e.animationFrame=t.animationFrame,e.imageScaleMode=t.imageScaleMode,e.rotation=t.rotation,e.scale=t.scale,e.paintFilter=t.paintFilter}),this.clearCache()}};let u=!1;e.initialize=function(){u||(u=!0,i.fullscreen.fromFullscreen.on("handleDefaultImageStyle",t=>{const e=s.schema.decodeMessage(t.buffer);e.nodeChanges&&e.nodeChanges.length>0&&e.nodeChanges[0].fillPaints&&(l=e.nodeChanges[0].fillPaints[0])}),i.fullscreen.onReady().then(()=>{i.fullscreen.DEPRECATED_sendMessage("requestDefaultImageStyle")}))}}),
(function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=n(113                                     ),l=n(468                                        ),o=n(112          ),r=n(231       ),s=n(215                                          ),c=n(211              ),a=n(111          );let d;function p(e,i){let n="",t=null;if(e){let s=null;try{s=new URL(e,location.href)}catch(o){}if(s&&s.origin===location.origin){const e=i.selectedView;"fullscreen"===e.view&&e.fileKey&&"fullscreen"===(t=l.pathToSelectedView(i,s.pathname,s.search,s.hash)).view&&e.fileKey===t.fileKey&&r.isValid(r.fromString(t.nodeId))&&(n=t.nodeId)}}return{url:e,nodeIdInThisFile:n,nextView:t}}i.setHyperlinkClickHandlerForTests=function(e){d=e},i.parseHyperlinkToNodeIdInThisFile=p,i.handleUserClickOnHyperlink=function(e,i,n){const{url:l,nodeIdInThisFile:r,nextView:f}=p(e,i),u={desktopApp:!!c.desktopApp,nodeInThisFile:!!r,linkType:f?f.view:l.startsWith("mailto:")?"mailto":"remote"};return r?(s.fullscreen.triggerAction("goto-layer",{args:{nodeId:r}}),void a.segmentTrackEvent("Hyperlink Click",u)):d?void d(l):f&&"fullscreen"===f.view&&c.desktopApp?(n(t.fileBrowser.selectView(f)),void a.segmentTrackEvent("Hyperlink Click",u)):void(f&&"prototype"===f.view&&c.desktopApp?n(t.fileBrowser.openInNewTab({url:l})):l.startsWith("mailto:")?o.unsafeRedirect(l,"_blank"):(o.redirect("/exit?url="+encodeURIComponent(l),"_blank"),a.segmentTrackEvent("Hyperlink Click",u)))},i.generateLinkToNodeInFile=function(e,i){return`${location.protocol}//${location.host}/file/${e}/?node-id=${encodeURIComponent(i)}`}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(203                             ),a=i(113                                     ),l=i(112          ),n=i(363      ),r=i(209                ),s=i(141              ),g=!l.isInIframe();t.globalIPC=null;t.default=(e=>i=>(function(u){if(i(u),s.isRunningInteractionTests())return null;if(a.fileBrowser.init.matches(u)){let i=new n.IPC;const{user:a}=e.getState();a&&i.sendToOtherTabs("logged-in",a.id);let s=()=>{i.unregister("logged-out",s);let t=e.getState();r.fullscreenHasUnsavedChanges(t)?e.dispatch(o.user.logOutIPC()):t.user&&g&&l.locationReload("iframe automagic reload on logOut")};i.register("logged-out",s);let u=t=>{const{user:i}=e.getState();i&&t===i.id||g&&l.locationReload("iframe automatic reload on logIn")};i.register("logged-in",u),t.globalIPC=i}return null}))}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(927                       );r.createUrlCache=function(){function e(e){try{var r=e.transaction("urlCache")}catch(n){return void console.error(n)}r.objectStore("urlCache").openCursor().onsuccess=function(e){var r=e.target.result;r&&(r.key&&r.value&&(t[r.key]=r.value.presence),r.continue())}}var r=null,t={},c="url-cache-update";return setTimeout(function(){var t;try{t=window.indexedDB&&indexedDB.open("urlCache",1)}catch(o){return void console.error(o)}t&&(t.onsuccess=function(){e(r=t.result),n.globalIPC&&n.globalIPC.register(c,()=>e(r))},t.onupgradeneeded=function(e){e.target.result.createObjectStore("urlCache",{keyPath:"hash"})})}),{get:function(e){return t[e]||""},set:function(e,o){t[e]=o,null!==r&&(r.transaction(["urlCache"],"readwrite").objectStore("urlCache").put({hash:e,presence:o}).onsuccess=function(){n.globalIPC&&n.globalIPC.sendToOtherTabs(c,e)})}}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(108     ),n=a(305         ),i=a(215                   ),r=a(107           ),o=64;t.ImagePasteManager=class{constructor(){this.pendingPasteRequests={}}async recordImages(e,t){if(0===t.length)return;const a=(async()=>{const a=await i.fullscreen.editingFileKeyPromise();if(a===e)return;let r=1;for(;;){try{await s.default.put(`/api/files/${a}`,{image_sha1s:t,image_origin_file_key:e});for(const e of t)delete this.pendingPasteRequests[e];return}catch(l){const e=l;e.status>=400&&e.status<500&&n.reportImagePasteError()}const i=1e3*r*Math.random();await new Promise(e=>setTimeout(e,i)),r=Math.min(2*r,o)}})();for(const s of t)this.pendingPasteRequests[s]=a;return a}actuallyDownloadImage(e){const t=i.fullscreen.editingFileKey();return null==t?new Promise((e,t)=>t("Can't load images outside of a file")):s.default.get(`/file/${t}/image/${e}`,null,{responseType:"arraybuffer"}).then(e=>e.data).catch(t=>{throw console.warn(`Couldn't download image with hash ${e}`),403===t.status||404===t.status?"IMAGE_MISSING":t})}async downloadImage(e){const t=this.pendingPasteRequests[e]||Promise.resolve();return await Promise.race([t,r.failAfter(6e4)]),this.actuallyDownloadImage(e)}}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s="klknnmieloodilaajghnmplidhoihdpd",n="fs";t.wantEvents=!1;let r=!1,i=0;function c(e,t,o){if(++i<50){let s=`figmascope: ${e}: dropped event '${t}'`;o&&(s+=` bytes=${o.byteLength}`),console.log(s)}}class a{constructor(){this._port=null,this._nextSeq=0}connect(){this._port?console.error("figmascope: session already has a port!"):(this._port=chrome.runtime.connect(s,{name:n}),this._port.onDisconnect.addListener(this.handleDisconnect),this._port.onMessage.addListener(e=>{this.handleMessage(e)}),this._port.postMessage({type:"hello"}))}close(){if(this._port){try{this._port.disconnect()}catch(e){console.error("figmascope error disconnecting port:",e)}this._port=null}}sendFileMeta(e,t){this._port?this._port.postMessage({type:"filemeta",fileURL:e,fileName:t}):c("Session.sendFileMeta","filemeta")}sendEvent(e,t){if(!this._port)return void c("Session.sendEvent",e,t);const o=this._nextSeq++;if(t){const s=new Blob([t],{type:"application/octet-stream"}),n=new FileReader;n.onload=(s=>{const n=s.target.result;this._port?this._port.postMessage({type:"event",event:{seq:o,type:e,data:n}}):c("Session.sendEvent/FileReader.onload",e,t)}),n.readAsDataURL(s)}else this._port.postMessage({type:"event",event:{seq:o,type:e,data:""}})}handleMessage(e){switch(e.type){case"helloreply":{const o=e;if(o.protocol<1){console.error("figmascope bad protocol:",o),r=!1,t.wantEvents=!1,this.close();break}console.log("figmascope capture protocol",o.protocol),t.wantEvents=!0;break}}}handleDisconnect(){console.log("figmascope port disconnected by remote"),this._port=null,r=!1,t.wantEvents=!1}}let l=null;t.init=function(){"object"==typeof chrome&&"object"==typeof chrome.runtime?(r=!0,l||(l=new a).connect()):console.log("figmascope disabled by lack of chrome runtime")},t.sendEvent=function(e,t){try{if(!r||!l)return;l.sendEvent(e,t)}catch(o){console.error("figmascope capture event error:",o)}},t.setFileMeta=function(e,t){try{if(!r||!l)return;l.sendFileMeta(e,t)}catch(o){console.error("figmascope setFileMeta error:",o)}},t.resetSession=function(){try{if(!r)return;l&&l.close(),(l=new a).connect()}catch(e){console.error("figmascope resetSession error:",e)}}}),
(function(e,n,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=l(215                                          ),s=l(310                                               ),c=l(930                       ),r="fullscreen_websocket_api";let t=0,a=null,u=!1;function i(){o.fullscreen.DEPRECATED_sendMessage(r+":connect"),c.sendEvent("connect")}function f(e){o.fullscreen.DEPRECATED_sendMessage(r+":receive",{},e),c.wantEvents&&c.sendEvent("recv",e)}function p(e){var n;if(!g){if(m(),(null===(n=mpGlobal.sock)||void 0===n?void 0:n.url)!==e||mpGlobal.sock.readyState!==WebSocket.CONNECTING&&mpGlobal.sock.readyState!==WebSocket.OPEN){if(null!==mpGlobal.sock){console.warn(`Preconnect URL ${mpGlobal.sock.url} doesn't match URL ${e}, skipping preconnect optimization`);try{mpGlobal.sock.close()}catch(l){}}(a=new WebSocket(e)).binaryType="arraybuffer",a.onopen=(()=>{i(),s.fullscreenLoadTimer.logWsMsg("mp-ws-onopen")})}else{a=mpGlobal.sock,i();for(let e of mpGlobal.msgs)f(e);for(const{key:e,ts:n,nBytes:l}of mpGlobal.perfMetrics)s.fullscreenLoadTimer.logWsMsg(e,l,n);a.readyState===WebSocket.CONNECTING&&(a.onopen=(()=>{s.fullscreenLoadTimer.logWsMsg("mp-ws-onopen")})),mpGlobal.sock=null,mpGlobal.msgs=[],mpGlobal.perfMetrics=[]}a.onmessage=(e=>{const n=new Uint8Array(e.data);f(n),s.fullscreenLoadTimer.logWsMsg("mp-ws-onmessage",n.length*n.BYTES_PER_ELEMENT)}),a.onclose=(()=>{m()}),a.onerror=(()=>{m()})}}function m(){if(null!==a){a.onopen=null,a.onmessage=null,a.onclose=null,a.onerror=null;try{a.close()}catch(e){}a=null,o.fullscreen.DEPRECATED_sendMessage(r+":disconnect"),c.sendEvent("disconnect")}}function b(e){try{a.send(e.buffer)}catch(n){}d()}function d(){var e=null!==a?a.bufferedAmount:0;e!==t&&(t=e,o.fullscreen.DEPRECATED_sendMessage(r+":bufferedAmount",{bufferedAmount:e}))}n.initialize=function(){u||(u=!0,o.fullscreen.fromFullscreen.on(r+":connect",p),o.fullscreen.fromFullscreen.on(r+":disconnect",m),o.fullscreen.fromFullscreen.on(r+":send",b),function e(){d(),requestAnimationFrame(e)}())};let g=!1,E=null;n.breakMultiplayerWebsocketForTesting=function(){a&&(g=!0,E=a.url,m())},n.unbreakMultiplayerWebsocketForTesting=function(){a||null==E||(g=!1,p(E),E=null)}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(215                                          );let r="fullscreen_xhr_api",s=!1;function l(e){let n=new XMLHttpRequest;n.onloadend=(()=>{let t={promiseID:e.promiseID,status:n.status,contentType:n.getResponseHeader("Content-Type")};a.fullscreen.DEPRECATED_sendMessage(r+":receive",t,n.response?new Uint8Array(n.response):null)}),n.open(e.method,e.url),n.responseType="arraybuffer";for(let t in e.headers)n.setRequestHeader(t,e.headers[t]);if(e.formData){let t=new FormData;for(let n of e.formData)null!=n.data?t.append(n.name,n.data):t.append(n.name,new Blob([e.buffer.subarray(n.dataStart,n.dataEnd)],{type:n.mimeType}));n.send(t)}else n.send(e.buffer)}n.initialize=function(){s||(s=!0,a.fullscreen.fromFullscreen.on(r+":send",l))}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(91                  ),n=t(100               ),i=t(279                             );!function(e){e.pushOverrides=n.asyncActionCreator("PUSH_OVERRIDES",e=>{e.dispatch(i.visualBellActions.enqueue({type:"push_overrides",message:"Overrides pushed to main component"}))}),e.returnToInstance=o.actionCreator("RETURN_TO_INSTANCE")}(s.symbolToast||(s.symbolToast={}))}),
(function(n,u,e){n.exports={input:"nudge_amount_picker--input--3nyYf",rightInput:"nudge_amount_picker--rightInput--IKW4q nudge_amount_picker--input--3nyYf",label:"nudge_amount_picker--label--3uj9S",spacer:"nudge_amount_picker--spacer--2NPJs"}}),
(function(e,E,r){"use strict";var N,t;Object.defineProperty(E,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.SYNTAX_EMPTY=1]="SYNTAX_EMPTY",e[e.SYNTAX_UNRECOGNIZED=2]="SYNTAX_UNRECOGNIZED",e[e.SYNTAX_MISMATCHED_PARENS=3]="SYNTAX_MISMATCHED_PARENS",e[e.EVAL_UNEXPECTED_TYPE=4]="EVAL_UNEXPECTED_TYPE",e[e.EVAL_EXPECTED_MORE_ARGUMENTS=5]="EVAL_EXPECTED_MORE_ARGUMENTS",e[e.EVAL_EXPECTED_NUMBER=6]="EVAL_EXPECTED_NUMBER",e[e.EVAL_IMAGINARY=7]="EVAL_IMAGINARY",e[e.EVAL_DIVIDE_BY_ZERO=8]="EVAL_DIVIDE_BY_ZERO",e[e.EVAL_UNKNOWN=9]="EVAL_UNKNOWN",e[e.EVAL_NO_CURRENT_VALUE=10]="EVAL_NO_CURRENT_VALUE"}(N=E.ErrorType||(E.ErrorType={})),E.evaluateExpression=function(e,E){const r=[],_=s(e,r);if(null!==_)return{value:null,error:_};const p=[],i=[];for(let s of r)switch(s.type){case T.NUMBER:p.push(s.value);break;case T.OPERATOR:{const e=A[s.operator];let r;switch(s.operator){case n.UNARY_PLUS:break;case n.PAREN_L:i.push(s);break;case n.PAREN_R:if(!i.length)return{value:null,error:{type:N.SYNTAX_MISMATCHED_PARENS,position:s.position}};for(;i.length;){const e=i[i.length-1];let r;if(e.operator===n.PAREN_L){i.pop();break}if((r=R(e.operator,p,E))!==t.SUCCESS)return{value:null,error:{type:a[r]}};if(i.pop(),!i.length)return{value:null,error:{type:N.SYNTAX_MISMATCHED_PARENS,position:s.position}}}break;default:for(;r=i[i.length-1];)if(e.associativity===o.LEFT){if(!(e.precedence<=A[r.operator].precedence))break;{let e;if((e=R(r.operator,p,E))!==t.SUCCESS)return{value:null,error:{type:a[e]}};i.pop()}}else{if(e.associativity!==o.RIGHT)return{value:null,error:{type:N.EVAL_UNKNOWN}};if(!(e.precedence<A[r.operator].precedence))break;{let e;if((e=R(r.operator,p,E))!==t.SUCCESS)return{value:null,error:{type:a[e]}};i.pop()}}i.push(s)}break}default:return{value:null,error:{type:N.SYNTAX_UNRECOGNIZED}}}for(;i.length;){const r=i.pop();let o;if(r.operator===n.PAREN_L||r.operator===n.PAREN_R)return{value:null,error:{type:N.SYNTAX_MISMATCHED_PARENS,position:e.length}};if((o=R(r.operator,p,E))!==t.SUCCESS)return{value:null,error:{type:a[o]}}}return 1!==p.length?{value:null,error:{type:N.SYNTAX_UNRECOGNIZED}}:{value:p[0],error:null}},function(e){e[e.SUCCESS=0]="SUCCESS",e[e.UNEXPECTED_TYPE=1]="UNEXPECTED_TYPE",e[e.EXPECTED_MORE_ARGUMENTS=2]="EXPECTED_MORE_ARGUMENTS",e[e.EXPECTED_NUMBER=3]="EXPECTED_NUMBER",e[e.IMAGINARY=4]="IMAGINARY",e[e.DIVIDE_BY_ZERO=5]="DIVIDE_BY_ZERO",e[e.NO_CURRENT_VALUE=6]="NO_CURRENT_VALUE"}(t||(t={}));const a=[N.NONE,N.EVAL_UNEXPECTED_TYPE,N.EVAL_EXPECTED_MORE_ARGUMENTS,N.EVAL_EXPECTED_NUMBER,N.EVAL_IMAGINARY,N.EVAL_DIVIDE_BY_ZERO,N.EVAL_NO_CURRENT_VALUE];var n,o;!function(e){e[e.NONE=0]="NONE",e[e.PAREN_L=1]="PAREN_L",e[e.PAREN_R=2]="PAREN_R",e[e.ADD=3]="ADD",e[e.SUBTRACT=4]="SUBTRACT",e[e.MULTIPLY=5]="MULTIPLY",e[e.DIVIDE=6]="DIVIDE",e[e.UNARY_PLUS=7]="UNARY_PLUS",e[e.UNARY_MINUS=8]="UNARY_MINUS",e[e.EXPONENT=9]="EXPONENT",e[e.PERCENT=10]="PERCENT",e[e.X=11]="X",e[e.PIXELS=12]="PIXELS"}(n=E.OperatorType||(E.OperatorType={})),function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT"}(o||(o={}));const A=[{associativity:o.NONE,precedence:-1,degree:0,name:""},{associativity:o.NONE,precedence:-1,degree:0,name:"("},{associativity:o.NONE,precedence:-1,degree:0,name:")"},{associativity:o.LEFT,precedence:1,degree:2,name:"add"},{associativity:o.LEFT,precedence:1,degree:2,name:"sub"},{associativity:o.LEFT,precedence:2,degree:2,name:"mul"},{associativity:o.LEFT,precedence:2,degree:2,name:"div"},{associativity:o.LEFT,precedence:4,degree:1,name:"pos"},{associativity:o.LEFT,precedence:4,degree:1,name:"neg"},{associativity:o.RIGHT,precedence:5,degree:2,name:"exp"},{associativity:o.RIGHT,precedence:6,degree:1,name:"%"},{associativity:o.RIGHT,precedence:6,degree:1,name:"x"},{associativity:o.RIGHT,precedence:6,degree:1,name:"px"}];function R(e,E,r){if(E.length<A[e].degree)return t.EXPECTED_MORE_ARGUMENTS;switch(e){case n.NONE:case n.PAREN_L:case n.PAREN_R:return t.UNEXPECTED_TYPE;case n.ADD:case n.SUBTRACT:case n.MULTIPLY:case n.DIVIDE:case n.EXPONENT:{const r=E.pop(),N=E.pop();switch(e){case n.ADD:E.push(N+r);break;case n.SUBTRACT:E.push(N-r);break;case n.MULTIPLY:E.push(N*r);break;case n.DIVIDE:E.push(N/r);break;case n.EXPONENT:{const e=Math.pow(N,r);if(isNaN(e))return t.IMAGINARY;E.push(e);break}}break}case n.UNARY_PLUS:case n.PIXELS:break;case n.UNARY_MINUS:E.push(-E.pop());break;case n.PERCENT:if(!r&&0!==r)return t.NO_CURRENT_VALUE;E.push(r*E.pop()/100);break;case n.X:if(!r&&0!==r)return t.NO_CURRENT_VALUE;E.push(r*E.pop())}return t.SUCCESS}var T,_;!function(e){e[e.NONE=0]="NONE",e[e.OPERATOR=1]="OPERATOR",e[e.NUMBER=2]="NUMBER"}(T=E.TokenType||(E.TokenType={})),function(e){e[e.NONE=0]="NONE",e[e.OPEN_PAREN=1]="OPEN_PAREN",e[e.CLOSE_PAREN=2]="CLOSE_PAREN",e[e.PLUS=3]="PLUS",e[e.MINUS=4]="MINUS",e[e.ASTERISK=5]="ASTERISK",e[e.SLASH=6]="SLASH",e[e.CARET=7]="CARET",e[e.PERCENT=8]="PERCENT",e[e.X=9]="X",e[e.PIXELS=10]="PIXELS"}(_=E.TokenId||(E.TokenId={}));const p={"(":_.OPEN_PAREN,")":_.CLOSE_PAREN,"+":_.PLUS,"-":_.MINUS,"*":_.ASTERISK,"/":_.SLASH,"^":_.CARET,"%":_.PERCENT,x:_.X,X:_.X,px:_.PIXELS},i={[_.OPEN_PAREN]:n.PAREN_L,[_.CLOSE_PAREN]:n.PAREN_R,[_.PLUS]:n.ADD,[_.MINUS]:n.SUBTRACT,[_.ASTERISK]:n.MULTIPLY,[_.SLASH]:n.DIVIDE,[_.CARET]:n.EXPONENT,[_.PERCENT]:n.PERCENT,[_.X]:n.X,[_.PIXELS]:n.PIXELS};function s(e,E){const r=(e=e.toLowerCase()).split(/(px|[+*()^\/%x\-]|(?:\d+[.,]?\d*|[.,]?\d+)(?:[e][+\-]?\d+)?|(?:\s+))/g),t=r.length;if(0===t)return{type:N.SYNTAX_EMPTY};let a=0;for(let o=0;o<t;o++){const e=r[o],t=e.length;if(o%2){let r=p.hasOwnProperty(e)?p[e]:_.NONE,N={id:r,text:e,type:r!==_.NONE?T.OPERATOR:T.NONE,operator:r in i?i[r]:n.NONE,position:a,value:NaN};N.type===T.NONE&&/^(?:\d+[.,]?\d*|[.,]?\d+)(?:[eE][+\-]?\d+)?$/.test(e)&&(N.type=T.NUMBER,N.value=+e.replace(",",".")),N.type!==T.NONE&&E.push(N)}else if(t>0)return{type:N.SYNTAX_UNRECOGNIZED,position:a,length:t};a+=t}if(0===E.length)return{type:N.SYNTAX_EMPTY};for(let N=0,o=null;N<E.length;N++){let e=E[N];e.operator!==n.ADD&&e.operator!==n.SUBTRACT||null!==o&&!c(o.operator)||(e.operator=e.operator===n.ADD?n.UNARY_PLUS:n.UNARY_MINUS),o=e}return null}function c(e){const E=A[e];return E&&(e===n.PAREN_L||2===E.degree||1===E.degree&&E.associativity===o.LEFT)}E.tokenize=s}),
(function(e,_,U){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.DEFAULT_SMALL_NUDGE_AMOUNT=1,_.DEFAULT_BIG_NUDGE_AMOUNT=10}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(935              ),s=r(936          );class u{constructor(t){this.units="",this.min=(()=>{var t;return null!==(t=this.options.min)&&void 0!==t?t:this.defaultMin}),this.max=(()=>{var t;return null!==(t=this.options.max)&&void 0!==t?t:this.defaultMax}),this.smallNudgeAmount=(()=>{var t;return null!==(t=this.options.smallNudgeAmount)&&void 0!==t?t:s.DEFAULT_SMALL_NUDGE_AMOUNT}),this.bigNudgeAmount=(()=>{var t;return null!==(t=this.options.bigNudgeAmount)&&void 0!==t?t:s.DEFAULT_BIG_NUDGE_AMOUNT}),this.options=t||{}}parse(t,e){t=t.replace(new RegExp(this.units,"g"),"");const r=n.evaluateExpression(t,e);if(null!==r.value&&isFinite(r.value))return r.value;throw new Error("Could not parse input")}format(t){return`${t}`}increment(t,e,r){return r?e?t-this.bigNudgeAmount():t+this.bigNudgeAmount():e?t-this.smallNudgeAmount():t+this.smallNudgeAmount()}clamp(t){return"number"==typeof this.min()&&(t=Math.max(t,this.min())),"number"==typeof this.max()&&(t=Math.min(t,this.max())),t}}e.NumberFormatter=u;e.PixelFormatter=class extends u{constructor(t){super(t)}format(t){return null==t?"":String(parseFloat(t.toFixed(2)))}};var a;e.ScaleFormatter=class extends u{constructor(){super(...arguments),this.units="x"}format(t){return null==t?"":`${parseFloat(t.toFixed(2))}x`}},function(t){t[t.SECONDS=0]="SECONDS",t[t.MILLISECONDS=1]="MILLISECONDS"}(a=e.OutputUnit||(e.OutputUnit={}));e.SecondsFormatter=class extends u{constructor(t,e){super({min:.001,max:e,smallNudgeAmount:.01,bigNudgeAmount:.1}),this.outputUnit=t,this.units="ms",this.units=t===a.MILLISECONDS?"ms":"s"}parse(t,e){const r=this.outputUnit===a.SECONDS?1:.001;return super.parse(t,e)*r}format(t){if(null==t)return"";switch(this.outputUnit){case a.SECONDS:return`${parseFloat(t.toFixed(2))}s`;case a.MILLISECONDS:return`${Math.round(1e3*t)}ms`}}};e.PercentageFormatter=class extends u{constructor(){super(...arguments),this.units="%|px",this.defaultMin=0,this.defaultMax=1}format(t){return null==t?"":`${parseFloat((100*t).toFixed(2))}%`}parse(t,e){return super.parse(t,e)/100}increment(t,e,r){return r?e?t-.1:t+.1:e?t-.01:t+.01}};e.AngleFormatter=class extends u{constructor(){super(...arguments),this.units="°|px"}format(t){return null==t?"":(-180==(t=(t+180+360)%360-180)&&(t=180),`${parseFloat(t.toFixed(2))}°`)}};e.IntegerFormatter=class extends u{constructor(){super(...arguments),this.units="px"}parse(t,e){let r=super.parse(t,e);return Math.round(r)}};e.NormalizedIntegerFormatter=class extends u{constructor(t){super(t),this.normalizeFactor=(t||{}).normalizeFactor||1}parse(t,e){return super.parse(t,e)/this.normalizeFactor}format(t){const e=t*this.normalizeFactor;return`${Math.round(e)}`}increment(t,e,r){let n=1/this.normalizeFactor;return r&&(n=10/this.normalizeFactor),e?t-n:t+n}};class i{constructor(t){this.min=t.min,this.max=t.max,this.bigPixelNudgeAmount=t.bigPixelNudgeAmount||s.DEFAULT_BIG_NUDGE_AMOUNT,this.smallPixelNudgeAmount=t.smallPixelNudgeAmount||s.DEFAULT_SMALL_NUDGE_AMOUNT,this.bigPercentageNudgeAmount=t.bigPercentageNudgeAmount||10,this.smallPercentageNudgeAmount=t.smallPercentageNudgeAmount||1}static parse(t){const e=-1!==t.indexOf("%")?"PERCENT":-1!==t.indexOf("px")?"PIXELS":void 0;t=(t=t.toLowerCase()).replace(new RegExp("%|px","g"),"");const r=n.evaluateExpression(t,NaN);if(null!==r.value&&isFinite(r.value))return[r.value,e]}parse(t,e){const r=i.parse(t);if(void 0===r)throw new Error("Could not parse input");let[n,s]=r;return void 0===s&&(s=null==e?"PERCENT":e.units),{value:n,units:s}}format(t){if(null==t||t.value!=t.value)return"";const e=parseFloat(t.value.toFixed(2));return"PERCENT"===t.units?`${e}%`:`${e} px`}increment(t,e,r){let n,s;return s=r?"PIXELS"===t.units?this.bigPixelNudgeAmount:this.bigPercentageNudgeAmount:"PIXELS"===t.units?this.smallPixelNudgeAmount:this.smallPercentageNudgeAmount,{value:n=e?t.value-s:t.value+s,units:t.units}}clamp(t){let e=t.value;return"number"==typeof this.min&&(e=Math.max(e,this.min)),"number"==typeof this.max&&(e=Math.min(e,this.max)),{value:e,units:t.units}}}e.PixelPercentageFormatter=i;e.ExportConstraintFormatter=class{constructor(){this.MAX_SCALE=1024,this.MAX_SIZE=32768}parse(t,e){const r=-1!==(t=t.toLowerCase()).indexOf("w")?"CONTENT_WIDTH":-1!==t.indexOf("h")?"CONTENT_HEIGHT":"CONTENT_SCALE";t=t.replace(new RegExp("x|w|h","g"),"");const s=n.evaluateExpression(t,NaN);if(null!==s.value&&isFinite(s.value))return{value:s.value,type:r};throw new Error("Could not parse input")}format(t){if(null==t)return"";const e=parseFloat(t.value.toFixed(2));switch(t.type){case"CONTENT_SCALE":return`${e}x`;case"CONTENT_WIDTH":return`${e}w`;case"CONTENT_HEIGHT":return`${e}h`}}increment(t,e,r){let n;return r?(n=e?t.value-1:t.value+1,n=Math.round(n)):(n=e?t.value-.5:t.value+.5,n=+(Math.round(2*n)/2).toFixed(1)),{value:n,type:t.type}}clamp(t){let e=t.value,r="CONTENT_SCALE"===t.type?this.MAX_SCALE:this.MAX_SIZE;return(e=Math.min(e,r))<=0&&(e=1),{value:e,type:t.type}}isEqual(t,e){return t.type===e.type&&t.value===e.value}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),r=s(442                             ),n=s(138      ),i=s(794                               ),l=s(138      ),p=s(792                                        ),a=s(141              );class u extends a.PureComponent{constructor(e){super(e),this.inputRef=o.createRef(),this.getInputRef=(()=>this.props.forwardedRef||this.inputRef),this.didIncrement=!1,this.looksEqual=((e,t)=>{const s=!r.notMixed(e);return s===!r.notMixed(t)&&(!!s||this.props.formatter.format(r.getValueOrNull(e))===this.props.formatter.format(r.getValueOrNull(t)))}),this.selectAll=(()=>{const e=this.getInputRef().current;if(r.notMixed(this.props.property)&&this.props.formatter.defaultSelection){const t=this.props.formatter.defaultSelection(e.value);e.setSelectionRange(t.start,t.end)}else e.select();this.needToSelectAll=!1}),this.needToSelectAll=!1,this.onFocus=a.focusEvent(this,"focus",e=>{this.needToSelectAll=!0,this.props.shouldClearOnFocus&&this.setState({editingValue:""}),this.props.onFocus&&this.props.onFocus(e)}),this.onBlur=a.focusEvent(this,"blur",e=>{var t;const s=this.props.property,o=this.getInputRef().current.value;if("Mixed"!==o)try{let n=s;n=this.props.formatter.parse(o,null!==(t=r.getValueOrNull(s))&&void 0!==t?t:void 0),this.props.formatter.clamp&&(n=this.props.formatter.clamp(n)),null!==s&&this.looksEqual(n,s)||this.props.onChange(n)}catch(e){}this.setState({editingValue:null}),this.props.onBlur&&this.props.onBlur(e)}),this.onChange=a.changeEvent(this,"change",e=>{this.setState({editingValue:e.target.value})}),this.onKeyDown=a.keyboardEvent(this,"keydown",e=>{var t;if(p.forwardInputKeyToFullscreenIfNecessary(e,this.shouldForwardUndo()))return a.SKIP_RECORDING;this.props.onKeyDown&&this.props.onKeyDown(e),this.didIncrement=!1;const s=this.getInputRef().current;if(e.keyCode===n.Key.ESCAPE)this.setState({editingValue:null}),setTimeout(()=>s.blur(),0),e.preventDefault();else{if(e.keyCode===n.Key.ENTER)return s.blur(),e.preventDefault(),a.SKIP_RECORDING;if(e.keyCode!==n.Key.UP_ARROW&&e.keyCode!==n.Key.DOWN_ARROW)return a.SKIP_RECORDING;if(e.preventDefault(),this.props.formatter.increment){let o=this.props.property;try{o=this.props.formatter.parse(s.value,null!==(t=r.getValueOrNull(this.props.property))&&void 0!==t?t:void 0)}catch(e){}if(null!==o&&r.notMixed(o)){let t=null;if(this.props.formatter.getIncrementTargets){const e=s.selectionStart||0,o=s.selectionEnd||0;t=this.props.formatter.getIncrementTargets(s.value,{start:e,end:o})}let r=this.props.formatter.increment(o,40===e.keyCode,e.shiftKey,null!=t?t:void 0);this.props.formatter.clamp&&(r=this.props.formatter.clamp(r)),this.setState({editingValue:null,incrementTargets:t}),this.looksEqual(o,r)||(this.props.onChange(r),this.didIncrement=!0)}}}}),this.onKeyUp=a.keyboardEvent(this,"keyup",e=>{if(p.forwardInputKeyToFullscreenIfNecessary(e,this.shouldForwardUndo()))return a.SKIP_RECORDING;const t=this.getInputRef().current;if(!this.props.formatter.autocomplete)return a.SKIP_RECORDING;{const s=t.value,o=s.length>0&&t.selectionStart===s.length&&t.selectionEnd===s.length,r=e.key&&1===e.key.length,n=32===e.keyCode||e.keyCode>=65&&e.keyCode<=90;if(o&&(r||n)&&l.isNoneOrAllowedModifiersPressed(e,l.ModifierKey.SHIFT)){const e=this.props.formatter.autocomplete(s);null!==e&&(t.value=e,t.setSelectionRange(s.length,e.length))}}}),this.onMouseDown=a.mouseEvent(this,"mousedown",e=>{if(!this.props.onMouseDown)return a.SKIP_RECORDING;this.props.onMouseDown(e)}),this.onMouseUp=a.mouseEvent(this,"mouseup",e=>{const t=this.getInputRef().current;if(!this.needToSelectAll)return a.SKIP_RECORDING;t.selectionStart===t.selectionEnd&&this.selectAll(),this.needToSelectAll=!1}),this.onMouseLeave=(e=>{this.needToSelectAll&&(this.needToSelectAll=!1)}),this.state={editingValue:null,incrementTargets:null}}componentDidMount(){const e=this.getInputRef().current;this.props.autoFocus&&e.select()}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),e.source!==this.props.source&&this.setState({editingValue:null}),this.didIncrement&&e.property!==this.props.property)if(this.didIncrement=!1,this.state.incrementTargets&&this.props.formatter.getSelection){const{start:e,end:t}=this.props.formatter.getSelection(this.inputRef.current.value,this.state.incrementTargets);this.inputRef.current.setSelectionRange(e,t)}else this.selectAll();else this.lastSelection&&this.inputRef.current.setSelectionRange(this.lastSelection[0],this.lastSelection[1])}shouldForwardUndo(){if(null===this.state.editingValue)return p.ForwardUndo.YES;if(r.notMixed(this.props.property)){const e=null==this.props.property?"":this.props.formatter.format(this.props.property);return this.state.editingValue===e?p.ForwardUndo.YES:p.ForwardUndo.NO}return p.ForwardUndo.YES}valueForRender(){return null!==this.state.editingValue?this.state.editingValue:r.notMixed(this.props.property)?null==this.props.property?"":this.props.formatter.format(this.props.property):"Mixed"}render(){return o.createElement(i.SimpleInput,{ref:this.getInputRef(),className:this.props.className,dataTestId:this.props.dataTestId,placeholder:this.props.placeholder,disabled:this.props.disabled,noLeftBorder:this.props.noLeftBorder,squareRightBorder:this.props.squareRightBorder,style:this.props.style,value:this.valueForRender(),onFocus:this.onFocus,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,autoFocus:this.props.autoFocus,noBorderOnFocus:this.props.noBorderOnFocus})}}t.FormattedInput=u,u.displayName="FormattedInput";t.NumberInput=class extends u{};t.NumberArrayInput=class extends u{};t.FigNumberInput=class extends u{};t.ColorInput=class extends u{}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(2,1    ),o=n(207                                   ),r=n(214         ),s=n(420              ),i=n(138      ),l=n(773                                                    ),m=n(794                                                                        ),u=n(747                              ),p=n(141              ),c=n(422                                        ),g=n(934                        ),d=n(937                                     ),_=n(936                             ),h=n(938                                                                          );t.NUDGE_AMOUNT_PICKER_ID="nudge-amount";const N=s.pxToInt(c.nudgeAmountPickerWidth);class f extends a.PureComponent{constructor(){super(...arguments),this.smallFormatter=new d.PixelFormatter({min:.1,smallNudgeAmount:_.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:_.DEFAULT_BIG_NUDGE_AMOUNT}),this.bigFormatter=new d.PixelFormatter({min:1,smallNudgeAmount:_.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:_.DEFAULT_BIG_NUDGE_AMOUNT}),this.onClose=(()=>{this.props.dispatch(o.fullscreen.hidePicker())}),this.onKeyDown=(e=>{e.keyCode===i.Key.ENTER&&this.onClose()}),this.onSmallChange=(e=>{u.setSmallNudgeAmount(e)}),this.onBigChange=(e=>{u.setBigNudgeAmount(e)})}render(){const e=new r.Vector(window.innerWidth/2-N/2,window.innerHeight/3);return a.createElement(l.DraggableModal,{title:"Nudge Amount",headerSize:"small",initialPosition:e,onClose:this.onClose,dragHeaderOnly:!0,recordingKey:p.joinKeys(this.props,"modal")},a.createElement("div",{className:g.spacer}),a.createElement(m.Row,null,a.createElement("label",{className:g.label},"Small nudge"),a.createElement("label",{className:g.label},"Big nudge")),a.createElement(m.Row,null,a.createElement(h.NumberInput,{className:g.input,formatter:this.smallFormatter,property:this.props.smallNudgeAmount,onChange:this.onSmallChange,onKeyDown:this.onKeyDown,recordingKey:p.joinKeys(this.props,"smallNudgeInput")}),a.createElement(h.NumberInput,{className:g.rightInput,formatter:this.bigFormatter,property:this.props.bigNudgeAmount,onChange:this.onBigChange,onKeyDown:this.onKeyDown,recordingKey:p.joinKeys(this.props,"bigNudgeInput"),autoFocus:!0})),a.createElement("div",{className:g.spacer}))}}t.NudgeAmountPicker=f,f.displayName="NudgeAmountPicker"}),
(function(n,o,p){n.exports={container:"open_desktop_app_modal--container--2FYIu",inputContainer:"open_desktop_app_modal--inputContainer--1rsj4"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2,1    ),o=n(420              ),a=n(211              ),i=n(287                ),p=n(111          ),l=n(214         ),c=n(207                                   ),r=n(773                                                    ),d=n(147                                            ),k=n(422                                        ),h=n(940                           ),u=o.pxToInt(k.openDesktopModal);class _ extends s.PureComponent{constructor(e){super(e),this.initialPosition=new l.Vector(window.innerWidth/2-u/2,window.innerHeight-150),this.onClose=(()=>{this.props.dispatch(c.fullscreen.hideOpenDesktopAppModal()),a.setAutoOpenPref("never"),p.segment.track("desktop_links",{action:"notification_dismissed"})}),this.onClickOpenInApp=(()=>{this.props.dispatch(c.fullscreen.hideOpenDesktopAppModal()),a.setAutoOpenPref(this.state.alwaysChecked?"always":"never"),i.openUrlInDesktopApp(location.href).then(e=>{e?p.segment.track("desktop_links",{action:"opened_in_app",source:"notification"}):p.segment.track("desktop_links",{action:"open_in_app_rejected",source:"notification"})}).catch(()=>{p.segment.track("desktop_links",{action:"open_in_app_failed",source:"notification"})}),p.segment.track("desktop_links",{action:this.state.alwaysChecked?"notification_set_and_open_in_app":"notification_open_once_in_app"})}),this.onClickAlwaysOpenDesktopApp=(()=>{this.setState({alwaysChecked:!this.state.alwaysChecked})}),this.state={alwaysChecked:"never"!==a.getAutoOpenPref()}}static shouldShowOnce(){return a.canAutoOpenInDesktopApp()&&void 0===a.getAutoOpenPref()}static shouldAutoOpen(){return a.canAutoOpenInDesktopApp()&&"always"===a.getAutoOpenPref()}static toggleAutoOpen(){const e="always"===a.getAutoOpenPref();a.setAutoOpenPref(e?"never":"always"),p.segment.track("desktop_links",{action:e?"preference_disabled":"preference_enabled"})}static isAutoOpenEnabled(){return"always"===a.getAutoOpenPref()}static enableAutoOpen(){a.setAutoOpenPref("always")}static disableAutoOpenIfUnset(){void 0===a.getAutoOpenPref()&&a.setAutoOpenPref("never")}render(){return s.createElement(r.DraggableModal,{initialPosition:this.initialPosition,title:"Do you want to open this file in the Desktop App?",headerSize:"small",dragHeaderOnly:!0,onClose:this.onClose},s.createElement("div",{className:h.container},s.createElement("div",{className:h.inputContainer},s.createElement(d.Checkbox,{id:"always-open-desktop-app",checked:this.state.alwaysChecked,onClick:this.onClickAlwaysOpenDesktopApp}),s.createElement(d.Label,{htmlFor:"always-open-desktop-app"},"Always open in the app")),s.createElement("div",{className:h.inputContainer},s.createElement(d.ButtonSecondary,{onClick:this.onClose},"Dismiss"),s.createElement(d.ButtonPrimary,{onClick:this.onClickOpenInApp},"Open in app"))))}}t.OpenDesktopAppModal=_,_.displayName="OpenDesktopAppModal"}),
(function(o,_,n){o.exports={container:"open_desktop_app_from_now_on_modal--container--22I1_",text:"open_desktop_app_from_now_on_modal--text--3rgp7",buttonRow:"open_desktop_app_from_now_on_modal--buttonRow--2vyup"}}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=n(2,1    ),t=n(420              ),i=n(211              ),a=n(111          ),l=n(214         ),p=n(207                                   ),r=n(215                                          ),d=n(773                                                    ),c=n(147                                            ),m=n(422                                        ),_=n(942                                       ),u=n(941                                               ),h=t.pxToInt(m.openDesktopModal);class f extends s.PureComponent{constructor(e){super(e),this.initialPosition=new l.Vector(window.innerWidth/2-h/2,window.innerHeight/2-60),this.onClose=(()=>{i.setMenuModalPref("shown"),this.props.dispatch(p.fullscreen.hideOpenDesktopAppModal()),a.segment.track("desktop_links",{action:"menu_notification_dismissed"})}),this.onAlwaysClick=(()=>{i.setMenuModalPref("shown"),this.props.dispatch(p.fullscreen.hideOpenDesktopAppModal()),a.segment.track("desktop_links",{action:"menu_notification_accepted"}),u.OpenDesktopAppModal.enableAutoOpen(),r.fullscreen.showVisualBell("plugins-added-from-file","Links will open in the Desktop App from now on",!1)})}static shouldShowOnce(){return void 0===i.getMenuModalPref()&&!u.OpenDesktopAppModal.isAutoOpenEnabled()}render(){return s.createElement(d.DraggableModalBgDisabled,{initialPosition:this.initialPosition,title:"Open files in the Desktop App from now on?",headerSize:"small",dragHeaderOnly:!0,onClose:this.onClose},s.createElement("div",{className:_.container},s.createElement("div",{className:_.text},"You can always change this in Preferences."),s.createElement("div",{className:_.buttonRow},s.createElement(c.ButtonSecondary,{onClick:this.onClose},"Dismiss"),s.createElement(c.ButtonPrimary,{onClick:this.onAlwaysClick},"Always open in Desktop App"))))}}o.OpenDesktopAppFromNowOnModal=f,f.displayName="OpenDesktopAppFromNowOnModal"}),
(function(e,p,r){e.exports={perfHUD:"perf_hud--perfHUD--jnVX6",perfHUDRow:"perf_hud--perfHUDRow--3j9eP",perfHUDChildBlock:"perf_hud--perfHUDChildBlock--WATpJ",sparklineCanvas:"perf_hud--sparklineCanvas--3k-EO"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(2,1    ),s=a(6,1        ),l=a(294            ),r=a(944             ),n=a(422                                        ),o=a(261                               ),h=[{label:"Time between frames (ms)",id:"inter-frame-time",max:100,barWidth:1},{label:"Frame handler (ms)",id:"frame",max:100,barWidth:1,children:[{label:"Scene render (ms)",id:"scene-render",max:100,barWidth:1,children:[{label:"Render tree creation (ms)",id:"render-tree-generation",max:100,barWidth:1}]},{label:"React + redux (ms)",id:"react-render",max:100,barWidth:1},{label:"Symbol updater (ms)",id:"symbol-updater",max:100,barWidth:1},{label:"Style updater (ms)",id:"style-updater",max:100,barWidth:1}]},{label:"C++ event handling (ms)",id:"fullscreen-handle-event",max:100,barWidth:1},{label:"malloc call count (#)",id:"cpp-malloc-call-count",autoResize:!0,max:100,barWidth:1},{label:"malloc size totals (KB)",id:"cpp-malloc-size-totals",autoResize:!0,max:1,barWidth:1},{label:"Total used memory (MB)",id:"total-memory",max:10,autoResize:!0,barWidth:1},{label:"Used c++ heap memory (MB)",id:"cpp-heap-memory",max:10,autoResize:!0,barWidth:1}],m=10;class d extends i.PureComponent{constructor(e){super(e),this.ctx=null,this.buffer=[],this.canvasRef=i.createRef(),this.lastRenderedHitCount=0,this.updateFromTimer=(e=>{let t=e.hitCount-this.lastRenderedHitCount,a=0;for(let i=Math.max(0,e.elapsedTimes.length-t);i<e.elapsedTimes.length;i++)a+=e.elapsedTimes[i];this.append(a),this.lastRenderedHitCount=e.hitCount}),this.yAxisMaxValue=e.max,this.bufferCapacity=Math.ceil(e.width/e.barWidth)}componentDidMount(){this.canvasRef.current&&(this.ctx=this.canvasRef.current.getContext("2d"),this.ctx&&(this.ctx.imageSmoothingEnabled=!1))}append(e){if(!this.ctx)return;const t=this.ctx.canvas,a=this.ctx;for(this.buffer.push(e);this.buffer.length>=this.bufferCapacity;)this.buffer.shift();let i=1/0,s=-1/0;for(let m of this.buffer)i=Math.min(i,m),s=Math.max(s,m);const l=t.width,r=t.height,n=this.props.barWidth,o=r-m;if(a.font="9px monospace",a.fillStyle=this.props.bg,a.textBaseline="top",a.fillRect(0,0,l,m),a.fillStyle=this.props.fg,a.fillText(`${i.toFixed(1)} - ${s.toFixed(1)}`,0,0),a.fillStyle=this.props.bg,this.props.autoResize)if(e>this.yAxisMaxValue){const i=Math.pow(2,Math.ceil(Math.log2(e/this.yAxisMaxValue)));this.yAxisMaxValue*=i,a.fillRect(0,r-o,l,(i-1)*o/i),a.drawImage(t,0,r-o,l,o,0,r-o/i,l,o/i)}else if(this.yAxisMaxValue>2*Math.max(this.props.max,s)){const e=Math.pow(2,Math.ceil(Math.log2(this.yAxisMaxValue/Math.max(this.props.max,s))));this.yAxisMaxValue/=e,a.drawImage(t,0,r-o/e,l,o/e,0,r-o,l,o)}a.drawImage(t,n,r-o,l-n,o,0,r-o,l-n,o);const h=Math.floor(o*Math.min(1,e/this.yAxisMaxValue));a.fillRect(l-n,r-o,n,o),a.fillStyle=this.props.fg,a.fillRect(l-n,r-h,n,h)}render(){return i.createElement("canvas",{className:r.sparklineCanvas,ref:this.canvasRef,width:this.props.width,height:this.props.height})}}function c(e){return e/1048576}d.displayName="Sparkline";class p extends i.PureComponent{constructor(){super(...arguments),this.sparklines=new Map,this.lastFrameTime=null,this.updateTimers=(()=>{if(null==this.lastFrameTime)this.lastFrameTime=performance.now();else{const e=performance.now(),t=this.sparklines.get("inter-frame-time");t&&(t.append(e-this.lastFrameTime),this.lastFrameTime=e)}const e=this.sparklines.get("total-memory");e&&e.append(c(o.PerfInfo.getTotalUsedProcessMemory()));const t=this.sparklines.get("cpp-heap-memory");t&&t.append(c(o.PerfInfo.getTotalUsedHeapMemory()));const a=this.sparklines.get("cpp-malloc-call-count");a&&a.append(o.PerfInfo.getAllocCallCount());const i=this.sparklines.get("cpp-malloc-size-totals");i&&i.append(function(e){return e/1024}(o.PerfInfo.getAllocTotal())),o.PerfInfo.resetAllocCountsAndTotal();const s=l.appTimer.report(),r=[],n=e=>{r.push(e.name);const t=this.sparklines.get(r.join(","));t&&t.updateFromTimer(e);for(let a of e.children)n(a);r.pop()};for(let l of s)n(l);requestAnimationFrame(this.updateTimers)}),this.sparklineRef=(e=>t=>{t&&this.sparklines.set(e.join(","),t)}),this.frameRequest=null,this.renderHUDNode=((e,t=[])=>{const a=t.concat([e.id]),s=150-10*t.length;return i.createElement("div",{key:e.id},i.createElement("div",{className:r.perfHUDRow},i.createElement("div",null,i.createElement("div",null,e.label),i.createElement(d,{ref:this.sparklineRef(a),fg:"black",bg:"white",barWidth:e.barWidth,max:e.max,height:30,autoResize:!!e.autoResize,width:s}))),e.children&&i.createElement("div",{className:r.perfHUDChildBlock},e.children.map(e=>this.renderHUDNode(e,a))))})}componentDidMount(){this.frameRequest=requestAnimationFrame(this.updateTimers)}componentWillUnmount(){this.frameRequest&&cancelAnimationFrame(this.frameRequest)}render(){const e=parseInt(n.rightNavWidth,10)+5,t=parseInt(n.toolbarHeight,10)+5;return i.createElement("div",{className:r.perfHUD,style:{right:e,top:t}},h.map(e=>this.renderHUDNode(e)))}}p.displayName="PerfHUD";let u=null;t.togglePerfHUD=function(){u?(s.unmountComponentAtNode(u),document.body.removeChild(u),u=null):(u=document.createElement("div"),document.body.appendChild(u),s.render(i.createElement(p,null),u))}}),
(function(a,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class C{}t.TypeSettingsData=C,C.OpenTypeFeatureGroups=[{group_name:"Letter case",tags:["PCAP","C2PC","CASE","CPSP","TITL","UNIC"]},{group_name:"Numbers",tags:["AFRC","ZERO"]},{group_name:"Letterforms",tags:["LIGA","CLIG","DLIG","HLIG","CALT","RCLT","ORDN","RVRN","VERT","SWSH","CSWH","NALT","STCH","HIST","ORNM","ITAL","RAND"]},{group_name:"Stylistic sets",tags:["SALT","SS01","SS02","SS03","SS04","SS05","SS06","SS07","SS08","SS09","SS10","SS11","SS12","SS13","SS14","SS15","SS16","SS17","SS18","SS19","SS20"]},{group_name:"Character variants",tags:["CV01","CV02","CV03","CV04","CV05","CV06","CV07","CV08","CV09","CV10","CV11","CV12","CV13","CV14","CV15","CV16","CV17","CV18","CV19","CV20","CV21","CV22","CV23","CV24","CV25","CV26","CV27","CV28","CV29","CV30","CV31","CV32","CV33","CV34","CV35","CV36","CV37","CV38","CV39","CV40","CV41","CV42","CV43","CV44","CV45","CV46","CV47","CV48","CV49","CV50","CV51","CV52","CV53","CV54","CV55","CV56","CV57","CV58","CV59","CV60","CV61","CV62","CV63","CV64","CV65","CV66","CV67","CV68","CV69","CV70","CV71","CV72","CV73","CV74","CV75","CV76","CV77","CV78","CV79","CV80","CV81","CV82","CV83","CV84","CV85","CV86","CV87","CV88","CV89","CV90","CV91","CV92","CV93","CV94","CV95","CV96","CV97","CV98","CV99"]},{group_name:"Math",tags:["DTLS","FLAC","MGRK","SSTY"]},{group_name:"Horizontal spacing",tags:["KERN","FWID","HWID","HALT","TWID","QWID","PWID","JUST","LFBD","OPBD","RTBD","PALT","PKNA"]},{group_name:"Writing direction",tags:["LTRA","LTRM","RTLA","RTLM"]},{group_name:"More features",tags:["DNOM","NUMR","SINF","ABRV","VALT","VHAL","CFAR","CPCT","CURS","EXPT","FALT","FINA","FIN2","FIN3","HALN","HKNA","HNGL","HOJO","INIT","ISOL","JP78","JP83","JP90","JP04","LJMO","MEDI","MED2","NLCK","PREF","VPAL","PSTF","RUBY","SMPL","TJMO","TNAM","TRAD","VJMO","VKNA","VKRN","VRTR","VRT2"]}],C.OpenTypeFeatureDefaultOn=["CALT","CLIG","CURS","KERN","LIGA","RCLT","CCMP","LOCL","MARK","MKMK","RLIG"],C.OpenTypeFeatureNames={PCAP:"Petite Capitals",C2PC:"Petite Capitals from Capitals",CASE:"Case-Sensitive Forms",CPSP:"Capital Spacing",TITL:"Titling",UNIC:"Unicase",AFRC:"Alternative Fractions",DNOM:"Fraction Denominators",NUMR:"Fraction Numerators",SINF:"Scientific Inferiors",ORDN:"Ordinals",ZERO:"Slashed Zero",LIGA:"Ligatures",CLIG:"Contextual Ligatures",DLIG:"Rare Ligatures",HLIG:"Historical Ligatures",RLIG:"Required Ligatures",AALT:"Access All Alternates",CALT:"Contextual Alternates",RCLT:"Required Contextual Alternates",SALT:"Stylistic Alternates",RVRN:"Required Variation Alternates",VERT:"Vertical Alternates",SWSH:"Swash",CSWH:"Contextual Swash",NALT:"Alternate Annotation Forms",CCMP:"Glyph Composition/Decomposition",STCH:"Stretching Glyph Decomposition",HIST:"Historical Forms",SIZE:"Optical Size",ORNM:"Ornaments",ITAL:"Italics",RAND:"Randomize",DTLS:"Dotless Forms",FLAC:"Flattened Ascent Forms",MGRK:"Mathematical Greek",SSTY:"Math script style alternates",KERN:"Kerning Pairs",FWID:"Full Widths",HWID:"Half Widths",HALT:"Alternate Half Widths",TWID:"Third Widths",QWID:"Quarter Widths",PWID:"Proportional Widths",JUST:"Justification Alternates",LFBD:"Left Bounds",OPBD:"Optical Bounds",RTBD:"Right Bounds",PALT:"Proportional Alternate Widths",PKNA:"Proportional Kana",LTRA:"Left-to-right Alternates",LTRM:"Left-to-right Mirrored Forms",RTLA:"Right-to-left Alternates",RTLM:"Right-to-left Mirrored Forms",ABRV:"Above-base Forms",ABVM:"Above-base Mark Positioning",ABVS:"Above-base Substitutions",VALT:"Alternate Vertical Metrics",VHAL:"Alternate Vertical Half Metrics",BLWF:"Below-base Forms",BLWM:"Below-base Mark Positioning",BLWS:"Below-base Substitutions",AKHN:"Akhand (Ligature Devanagari)",CJCT:"Conjuct Forms",CFAR:"Conjunct Form After Ro",CPCT:"Centered CJK Punctuation",CURS:"Cursive Positioning",DIST:"Distances",EXPT:"Expert Forms",FALT:"Final Glyph on Line Alternates",FINA:"Terminal Forms",FIN2:"Terminal Form #2",FIN3:"Terminal Form #3",HALF:"Half Forms",HALN:"Halant Forms",HKNA:"Horizontal Kana Alternates",HNGL:"Hangul",HOJO:"Hojo Kanji Forms",INIT:"Initial Forms",ISOL:"Isolated Forms",JP78:"JIS78 Forms",JP83:"JIS83 Forms",JP90:"JIS90 Forms",JP04:"JIS2004 Forms",LJMO:"Leading Jamo Forms (Hangul)",LOCL:"Localized Forms",MARK:"Mark Positioning (Arabic)",MEDI:"Medial Forms",MED2:"Medial Forms #2",MKMK:"Mark-to-Mark Positioning",NLCK:"NLC Kanji Forms",NUKT:"Nukta Forms",PREF:"Pre-base Forms",PRES:"Pre-base Substitutions",VPAL:"Proportional Alternate Vertical Metrics",PSTF:"Post-base Forms",PSTS:"Post-base Substitutions",RKRF:"Rakar Forms",RPHF:"Reph Form",RUBY:"Ruby Notation Forms",SMPL:"Simplified Forms",TJMO:"Trailing Jamo Forms",TNAM:"Traditional Name Forms",TRAD:"Traditional Forms",VATU:"Vattu Variants",VJMO:"Vovel Jamo Forms",VKNA:"Vertical Kana Alternates",VKRN:"Vertical Kerning",VRTR:"Vertical Alternates for Rotation",VRT2:"Vertical Alternates and Rotation",SS01:"Stylistic Set 1",SS02:"Stylistic Set 2",SS03:"Stylistic Set 3",SS04:"Stylistic Set 4",SS05:"Stylistic Set 5",SS06:"Stylistic Set 6",SS07:"Stylistic Set 7",SS08:"Stylistic Set 8",SS09:"Stylistic Set 9",SS10:"Stylistic Set 10",SS11:"Stylistic Set 11",SS12:"Stylistic Set 12",SS13:"Stylistic Set 13",SS14:"Stylistic Set 14",SS15:"Stylistic Set 15",SS16:"Stylistic Set 16",SS17:"Stylistic Set 17",SS18:"Stylistic Set 18",SS19:"Stylistic Set 19",SS20:"Stylistic Set 20",CV01:"Character Variant 1",CV02:"Character Variant 2",CV03:"Character Variant 3",CV04:"Character Variant 4",CV05:"Character Variant 5",CV06:"Character Variant 6",CV07:"Character Variant 7",CV08:"Character Variant 8",CV09:"Character Variant 9",CV10:"Character Variant 10",CV11:"Character Variant 11",CV12:"Character Variant 12",CV13:"Character Variant 13",CV14:"Character Variant 14",CV15:"Character Variant 15",CV16:"Character Variant 16",CV17:"Character Variant 17",CV18:"Character Variant 18",CV19:"Character Variant 19",CV20:"Character Variant 20",CV21:"Character Variant 21",CV22:"Character Variant 22",CV23:"Character Variant 23",CV24:"Character Variant 24",CV25:"Character Variant 25",CV26:"Character Variant 26",CV27:"Character Variant 27",CV28:"Character Variant 28",CV29:"Character Variant 29",CV30:"Character Variant 30",CV31:"Character Variant 31",CV32:"Character Variant 32",CV33:"Character Variant 33",CV34:"Character Variant 34",CV35:"Character Variant 35",CV36:"Character Variant 36",CV37:"Character Variant 37",CV38:"Character Variant 38",CV39:"Character Variant 39",CV40:"Character Variant 40",CV41:"Character Variant 41",CV42:"Character Variant 42",CV43:"Character Variant 43",CV44:"Character Variant 44",CV45:"Character Variant 45",CV46:"Character Variant 46",CV47:"Character Variant 47",CV48:"Character Variant 48",CV49:"Character Variant 49",CV50:"Character Variant 50",CV51:"Character Variant 51",CV52:"Character Variant 52",CV53:"Character Variant 53",CV54:"Character Variant 54",CV55:"Character Variant 55",CV56:"Character Variant 56",CV57:"Character Variant 57",CV58:"Character Variant 58",CV59:"Character Variant 59",CV60:"Character Variant 60",CV61:"Character Variant 61",CV62:"Character Variant 62",CV63:"Character Variant 63",CV64:"Character Variant 64",CV65:"Character Variant 65",CV66:"Character Variant 66",CV67:"Character Variant 67",CV68:"Character Variant 68",CV69:"Character Variant 69",CV70:"Character Variant 70",CV71:"Character Variant 71",CV72:"Character Variant 72",CV73:"Character Variant 73",CV74:"Character Variant 74",CV75:"Character Variant 75",CV76:"Character Variant 76",CV77:"Character Variant 77",CV78:"Character Variant 78",CV79:"Character Variant 79",CV80:"Character Variant 80",CV81:"Character Variant 81",CV82:"Character Variant 82",CV83:"Character Variant 83",CV84:"Character Variant 84",CV85:"Character Variant 85",CV86:"Character Variant 86",CV87:"Character Variant 87",CV88:"Character Variant 88",CV89:"Character Variant 89",CV90:"Character Variant 90",CV91:"Character Variant 91",CV92:"Character Variant 92",CV93:"Character Variant 93",CV94:"Character Variant 94",CV95:"Character Variant 95",CV96:"Character Variant 96",CV97:"Character Variant 97",CV98:"Character Variant 98",CV99:"Character Variant 99"}}),
(function(e,s,n){e.exports={cppTestsMessage:"bindings--cppTestsMessage--30TcW",fadeInFromNone:"bindings--fadeInFromNone--NHRa4"}}),
(function(e,l,n){"use strict";var u,t;Object.defineProperty(l,"__esModule",{value:!0}),function(e){e[e.ROTATE_0=0]="ROTATE_0",e[e.ROTATE_90=1]="ROTATE_90",e[e.ROTATE_180=2]="ROTATE_180",e[e.ROTATE_270=3]="ROTATE_270",e[e.FLIP_ROTATE_0=4]="FLIP_ROTATE_0",e[e.FLIP_ROTATE_90=5]="FLIP_ROTATE_90",e[e.FLIP_ROTATE_180=6]="FLIP_ROTATE_180",e[e.FLIP_ROTATE_270=7]="FLIP_ROTATE_270"}(u=l.ImageOrientation||(l.ImageOrientation={})),function(e){e[e.BIG=0]="BIG",e[e.LITTLE=1]="LITTLE"}(t||(t={}));const r=274,T=1,a=3,_=4,c=9;function i(e,l){if(l.value+1>e.length)return null;const n={value:e[l.value]};return l.value+=1,n}function v(e,l,n){if(l.value+2>e.length)return null;const u=e[l.value],r=e[l.value+1];return l.value+=2,{value:n==t.LITTLE?u|r<<8:r|u<<8}}function s(e,l,n){if(l.value+2>e.length)return null;const u=e[l.value],r=e[l.value+1],T=e[l.value+2],a=e[l.value+3];return l.value+=4,{value:n==t.LITTLE?u|r<<8|T<<16|a<<24:a|T<<8|r<<16|u<<24}}function o(e,l){const n={value:l},o=v(e,n,t.BIG);if(null==o||o.value<6)return null;const E=s(e,n,t.BIG);if(null==E||1165519206!=E.value)return null;const O=v(e,n,t.BIG);if(null==O||0!=O.value)return null;const I=s(e,n,t.BIG);if(null==I||1229531648!=I.value&&1296891946!=I.value)return null;const f=1229531648==I.value?t.LITTLE:t.BIG,A=s(e,n,f);if(null==A)return null;n.value=n.value+A.value-8;const R=v(e,n,f);if(null==R)return null;const L=R.value;let F=-1;for(let t=0;t<L;t++){const l=v(e,n,f);if(null==l)break;const t=l.value,o=v(e,n,f);if(null==o)break;const E=o.value,O=s(e,n,f);if(null==O)break;const I=O.value,A={value:n.value};if(n.value+=4,t==r&&1==I){if(E==T){const l=i(e,A);if(null==l)return null;F=l.value}else if(E==a){const l=v(e,A,f);if(null==l)return null;F=l.value}else{if(E!=_&&E!=c)continue;{const l=s(e,A,f);if(null==l)return null;F=l.value}}switch(F){case 1:return u.ROTATE_0;case 6:return u.ROTATE_90;case 3:return u.ROTATE_180;case 8:return u.ROTATE_270;case 2:return u.FLIP_ROTATE_0;case 5:return u.FLIP_ROTATE_90;case 4:return u.FLIP_ROTATE_180;case 7:return u.FLIP_ROTATE_270}}}return null}l.EXIF={getOrientation:e=>(function(e){const l=[255,216,255];if(e.length<l.length)return null;for(let u=0;u<l.length;u++)if(l[u]!=e[u])return null;const n={value:2};for(;n.value+4<=e.length;){const l=v(e,n,t.BIG);if(null==l||l.value>>8!=255)return null;const u=v(e,n,t.BIG);if(null==u||u.value<2)return null;if(n.value-=2,65505==l.value)return o(e,n.value);n.value+=u.value}return null})(e),angleFromOrientation(e){switch(e){case u.ROTATE_0:case u.FLIP_ROTATE_0:return 0;case u.ROTATE_90:case u.FLIP_ROTATE_90:return 90;case u.ROTATE_180:case u.FLIP_ROTATE_180:return 180;case u.ROTATE_270:case u.FLIP_ROTATE_270:return 270;default:return 0}},orientationIsFlipped:e=>e==u.FLIP_ROTATE_0||e==u.FLIP_ROTATE_90||e==u.FLIP_ROTATE_180||e==u.FLIP_ROTATE_270}}),
(function(e,t,a){"use strict";function r(e){let t=0,a=10;const r=e[a++];for(a+=2,r>>7&&(a+=3*(1<<1+(7&r)));a<e.length;)switch(e[a++]){case 33:switch(e[a++]){case 255:if(11!==e[a]||78==e[a+1]&&69==e[a+2]&&84==e[a+3]&&83==e[a+4]&&67==e[a+5]&&65==e[a+6]&&80==e[a+7]&&69==e[a+8]&&50==e[a+9]&&46==e[a+10]&&48==e[a+11]&&3==e[a+12]&&1==e[a+13]&&0==e[a+16])a+=17;else for(a+=12;;){const t=e[a++];if(!(t>=0))return!1;if(0===t)break;a+=t}break;case 249:a+=6;break;case 254:case 1:for(;;){const t=e[a++];if(0===t)break;a+=t}}break;case 44:if(++t>1)return!0;a+=8;const r=e[a++];for(r>>7&&(a+=3*(1<<1+(7&r))),a++;;){const t=e[a++];if(!(t>=0))return!1;if(0===t)break;a+=t}break;case 59:return!1}return!1}function n(e){let t=8,a=0,r=null;const n=new DataView(e.buffer);let s=!1;for(;t+12<e.length;){const c=n.getInt32(t);if(c<0){r&&(r=null);break}const i=n.getInt32(t+4);switch(i){case 1229209940:s=!0,r&&(r.copyWithin(a,t,e.length),a+=e.length-t,r=r.subarray(0,a));break;case 1934772034:case 1732332865:case 1665684045:case 1766015824:0,r||(r=new Uint8Array(e),a=t);break;default:r&&(r.copyWithin(a,t,t+c+12),a+=c+12)}if(s)break;t+=c+12}return r||e}Object.defineProperty(t,"__esModule",{value:!0}),t.testWorkersAvailable=function(){if("undefined"==typeof Worker)return{works:!1,canTransfer:!1};let e=!1,t=null,a=null;try{t=URL.createObjectURL(new Blob([""],{type:"application/javascript"})),a=new Worker(t);const n=new ArrayBuffer(1);a.postMessage(n,[n]),n.byteLength||(e=!0)}catch(r){}return t&&URL.revokeObjectURL(t),a&&a.terminate(),{works:!0,canTransfer:e}},t.checkIsMultiFrameGIF=r,t.removeColorspaceFromPNG=n;t.ImageWorker=class{constructor(){this.nextID=0,this.callbacks=new Map;let e="";e+="(",e+=function(e,t){const a=self.postMessage;onerror=(e=>{console.warn("[imageDecodeWorker] webworker error: "+e),a({bitmap:null,id:0,isMultiFrameGIF:!1})}),onmessage=(r=>{let{array:n,id:s,type:c,workerCanTransfer:i,supportsCreateBitmapOptions:o}=r.data,l=!1;"image/png"===c&&(n=e(n)),"image/gif"===c&&(l=t(n));const b=new Blob([n],{type:c}),p={bitmap:null,id:s,isMultiFrameGIF:l};try{o?createImageBitmap(b,{premultiplyAlpha:"none"}).then(e=>{p.bitmap=e,i?a(p,[e]):a(p)}).catch(()=>{p.bitmap=null,a(p)}):createImageBitmap(b).then(e=>{p.bitmap=e,i?a(p,[e]):a(p)}).catch(()=>{p.bitmap=null,a(p)})}catch(u){console.warn("[imageDecodeWorker] createImageBitmap PROMISE failed: "+u),p.bitmap=null,a(p)}})},e+=")(",e+=n,e+=",",e+=r,e+=")";const t=new Blob([e],{type:"application/javascript"});this.worker=new Worker(URL.createObjectURL(t)),this.worker.onmessage=(e=>{const t=e.data,a=this.callbacks.get(t.id);this.callbacks.delete(t.id),void 0!==a&&a(t)})}forgetCallbacks(){this.callbacks.clear()}sendMessage(e){return new Promise(t=>{const a=this.nextID++;this.callbacks.set(a,t),this.worker.postMessage(Object.assign(Object.assign({},e),{id:a}))})}terminate(){this.worker.terminate()}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(140         ),n=a(948       ),i=a(949                ),o=document.createElement("canvas"),l=o.getContext("2d");async function s(e,t,a,r){"image/png"===t&&(e=i.removeColorspaceFromPNG(e));let o=null;"image/jpeg"===t&&(o=n.EXIF.getOrientation(e));let l=!1;"image/gif"===t&&(l=i.checkIsMultiFrameGIF(e));const s=URL.createObjectURL(new Blob([e],{type:t}));try{return c(await function(e){return new Promise((t,a)=>{const r=new Image;r.crossOrigin="",r.onerror=a,r.onload=(()=>t(r)),r.src=e})}(s),a,r,o,l)}finally{URL.revokeObjectURL(s)}}function c(e,t,a,r,i){const{width:s,height:c,originalWidth:g,originalHeight:u}=function(e,t,a,r,i){const s=n.EXIF.angleFromOrientation(i),c=n.EXIF.orientationIsFlipped(i),g=e,u=t;let A=e,E=t;if(90===s||270===s){let a=t;t=e,e=a,a=E,E=A,A=a}return a>0&&r>0&&(e>a&&(t=Math.round(t*a/e),e=a),t>r&&(e=Math.round(e*r/t),t=r),e=Math.max(1,e),t=Math.max(1,t)),o.width=e,o.height=t,l.translate(e/2,t/2),l.scale(e/A,t/E),c&&l.scale(-1,1),l.rotate(s*(Math.PI/180)),l.translate(-g/2,-u/2),{originalHeight:E,originalWidth:A,width:e,height:t}}(e.width,e.height,t,a,r);return l.drawImage(e,0,0),{width:s,height:c,originalWidth:g,originalHeight:u,isMultiFrameGIF:i,bitmap:null,rgba:new Uint8Array(l.getImageData(0,0,s,c).data.buffer)}}async function g(e){if(!(window.createImageBitmap&&"function"==typeof window.createImageBitmap))return{works:!1,allowsOptions:!1};const t=r.decode("iVBORw0KGgoAAAANSUhEUgAAAAEAAAAQBAMAAAAlsQiEAAAALVBMVEX///////////////////////////////////////////////////////8AAACgbBYXAAAAD3RSTlPx5NXDsJ2Ic19LOCgYDQAksqQSAAAAJklEQVQI12MAAQEGBQYDBgeGAIYEhgKGBoYJDAsYNjAcYHjAcAEAP7AGkQT7krEAAAAASUVORK5CYII="),a=new Blob([t],{type:"image/png"});try{try{return await createImageBitmap(a,{premultiplyAlpha:"none"}),{works:!0,allowsOptions:!0}}catch(n){return{works:await async function(e,t){if(!e)return!1;try{const i=await createImageBitmap(t),o=i.width,l=i.height;let s=!1;const c=e.getParameter(e.ACTIVE_TEXTURE);e.activeTexture(e.TEXTURE0);const g=e.getParameter(e.FRAMEBUFFER_BINDING),u=e.getParameter(e.TEXTURE_BINDING_2D);let A=null,E=null;try{if(E=e.createTexture(),e.bindTexture(e.TEXTURE_2D,E),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i),e.bindTexture(e.TEXTURE_2D,null),A=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,A),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,E,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,null),e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE){var a=new Uint8Array(4*o*l);e.readPixels(0,0,o,l,e.RGBA,e.UNSIGNED_BYTE,a),255===a[0]&&(s=!0)}}catch(r){}return e.bindFramebuffer(e.FRAMEBUFFER,g),e.bindTexture(e.TEXTURE_2D,u),e.deleteTexture(E),e.deleteFramebuffer(A),e.activeTexture(c),s}catch(n){return!1}}(e,a),allowsOptions:!1}}}catch(i){return{works:!1,allowsOptions:!1}}}let u={works:!1,canTransfer:!1},A={works:!1,allowsOptions:!1},E=null;t.ImageIO={init(e){u=i.testWorkersAvailable(),g(e).then(e=>A=e)},reset(){null!==E&&E.forgetCallbacks()},terminateWorker(){null!==E&&(E.terminate(),E=null)},encode(e,t,a,n,i,s){const c=e*t*4,g=l.createImageData(e,t);let u;s&&(a=function(e,t){const a=new Uint8Array(t);for(let r=0,n=t;r<n;r+=4){const t=e[r+3|0],n=255.999/t;a[r]=e[r]*n,a[r+1|0]=e[r+1|0]*n,a[r+2|0]=e[r+2|0]*n,a[r+3|0]=t}return a}(a,c)),new Uint8Array(g.data.buffer).set(a),o.width=e,o.height=t,l.putImageData(g,0,0),u=n?o.toDataURL("image/jpeg",i):o.toDataURL();return r.decode(u.slice(u.indexOf(";base64,")+";base64,".length))},async decodeAsync(e,t,a,r,o){if(!A.works||!u.works)return await s(e,t,a,r);null===E&&(E=new i.ImageWorker);const{bitmap:l,isMultiFrameGIF:g}=await E.sendMessage({type:t,array:e,workerCanTransfer:u.canTransfer,supportsCreateBitmapOptions:A.allowsOptions});if(!l)return console.warn("Something wrong in createImageBitmap thread.  Bitmap is null ... falling back to decode using image"),await s(e,t,a,r);let m=null;"image/jpeg"===t&&(m=n.EXIF.getOrientation(e));const h=l.width,f=l.height;return o&&(null===m||m===n.ImageOrientation.ROTATE_0)&&(0===a||h<=a)&&(0===r||f<=r)?{width:h,height:f,originalWidth:h,originalHeight:f,isMultiFrameGIF:g,bitmap:l,rgba:null}:c(l,a,r,m,g)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(111          );t.checkFor3rdPartyApps=function(){setTimeout(()=>{const e={};!function(e){"figmaPlus"in window&&(e.figmaPlusWindow=!0),document.getElementById("pluginManagerApp")&&(e.figmaPlusPluginManagerApp=!0)}(e),function(e){getComputedStyle(document.body).fontFamily.indexOf("apple-system")>=0&&(e.figgyFontFamilyAppleSystem=!0);for(const t of document.querySelectorAll("style"))if(t.textContent&&t.textContent.indexOf("canvas editing page")>=0){e.figgyCanvasEditingPage=!0;break}}(e),function(e){const t=window.webkit;t&&(e.figmacWebkit=!0);const n=t&&t.messageHandlers;n&&(e.figmacMessageHandlers=!0),n&&n.readBlob&&(e.figmacReadBlob=!0)}(e),i.segment.track("Third Party Apps",e)})}}),
(function(I,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(I){I[I.GENERIC=0]="GENERIC",I[I.FIGMA_FILE=1]="FIGMA_FILE",I[I.FIGMA_PROTOTYPE=2]="FIGMA_PROTOTYPE",I[I.PAGE=3]="PAGE",I[I.FRAME=4]="FRAME",I[I.MAILTO=5]="MAILTO",I[I.INVALID=6]="INVALID",I[I.MISSING=7]="MISSING"}(e.HyperlinkType||(e.HyperlinkType={}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(442                             ),r=i(122          );var u;!function(e){e[e.OLD=0]="OLD",e[e.FEB19=1]="FEB19"}(u||(u={}));class s{constructor(e,t,i,n){this.textUserLayoutVersion=e,this.intrinsicLineHeight=t,this.fontSize=i,this.lineHeight=n}withLineHeight(e){return new s(this.textUserLayoutVersion,this.intrinsicLineHeight,this.fontSize,e)}}function o(e){const{intrinsicLineHeight:t,fontSize:i,lineHeight:r}=e;if(n.notMixed(r))switch(r.units){case"RAW":return r.value;case"PIXELS":if(!n.notMixed(i))return;return r.value/i;case"PERCENT":const e=n.getValueOrNull(t);if(null==e)return;return r.value/100*e}}function l(e,t){return t===n.MIXED||t===u.OLD?e:Math.round(e)}function a(e){return!(null==e||!n.notMixed(e))&&("PERCENT"===e.units&&Math.abs(e.value-100)<.1)}t.LineHeightInContext=s,t.getLineHeightInContext=r.memoizeLast(e=>{if(null==e.intrinsicLineHeight)return null;const t=null!=e.textUserLayoutVersion&&n.notMixed(e.textUserLayoutVersion)?function(e){switch(e){case 0:return u.OLD;case 1:case 2:default:return u.FEB19}}(e.textUserLayoutVersion):n.MIXED;return new s(t,e.intrinsicLineHeight,e.fontSize,e.lineHeight)}),t.fontSizeMultipleOfLineHeight=o,t.pixelsOfLineHeight=function(e){const{textUserLayoutVersion:t,intrinsicLineHeight:i,fontSize:r}=e,u=n.getValueOrNull(e.lineHeight);if(u)switch(u.units){case"RAW":if(!n.notMixed(r))return;return l(u.value*r,t);case"PIXELS":return u.value;case"PERCENT":const e=n.getValueOrNull(i);if(null==e||!n.notMixed(r))return;return l(u.value/100*e*r,t)}},t.percentOfLineHeight=function(e){const{textUserLayoutVersion:t,intrinsicLineHeight:i,fontSize:r,lineHeight:u}=e;if(n.notMixed(u))switch(u.units){case"RAW":if(!n.notMixed(r))return;return l(100*u.value,t);case"PIXELS":const e=n.getValueOrNull(i);if(null==e||!n.notMixed(r))return;return l(100*u.value/(r*e),t);case"PERCENT":return u.value}},t.stringOfLineHeight=function(e){const{lineHeight:t}=e;if(!n.notMixed(t))return"Mixed";if(a(t))return"Auto";switch(t.units){case"PERCENT":const i=o(e);return null==i?"Mixed":`${parseFloat((100*i).toFixed(1))}%`;case"PIXELS":return`${parseFloat(t.value.toFixed(1))}`;case"RAW":return`${parseFloat((100*t.value).toFixed(1))}%`}},t.isAutoLineHeight=a}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.KeyRecycler=class{constructor(){this.freeKeyStack=[],this.usedKeysById={},this.nextKey=1}getKeyForId(e){if(e in this.usedKeysById)return this.usedKeysById[e];let s;return s=this.freeKeyStack.length?this.freeKeyStack.pop():this.nextKey++,this.usedKeysById[e]=s,s}freeKeyForId(e){if(e in this.usedKeysById){let s=this.usedKeysById[e];this.freeKeyStack.push(s),delete this.usedKeysById[e]}}}}),
(function(t,e,n){t.exports={container:"truncated_text--container--1pk3Q",first:"truncated_text--first--2W9Cw",last:"truncated_text--last--1ddrl"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),n=s(955                   );class r extends a.PureComponent{render(){const e=this.props.text||"";let t;const s=e.lastIndexOf("/"),r=e.lastIndexOf(" ");t=s>0?s:r>0?r:Math.round(.75*e.length);const c=e.substr(0,t),l=e.substr(t);return a.createElement("div",{className:`${n.container} ${this.props.className||""}`},a.createElement("div",{className:n.first},c),a.createElement("div",{className:n.last},l))}}t.TruncatedText=r,r.displayName="TruncatedText"}),
(function(e,t,o){e.exports={singleRowHeight:"select--singleRowHeight--2UMKM",doubleRowHeight:"select--doubleRowHeight--o-SCd",input:"select--input--1r-K_ select--singleRowHeight--2UMKM raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",border:"select--border--3fvIc",borderFocusWithin:"select--borderFocusWithin--2dIfX",iconInsideBorderFocusWithin:"select--iconInsideBorderFocusWithin--2hL-k",rowSelectedSecondary:"select--rowSelectedSecondary--2KZfh select--rowSelected--3lP2e",selectHiddenInput:"select--selectHiddenInput--1zrBl",iconButton:"select--iconButton---Z5bD",borderFocus:"select--borderFocus--1PQIW",multiValueInput:"select--multiValueInput--3H8aH select--borderFocusWithin--2dIfX",base:"select--base--1SMnI",label:"select--label--3vJ80 select--base--1SMnI",labelInactive:"select--labelInactive--3Rqxg select--label--3vJ80 select--base--1SMnI",textInput:"select--textInput--1HEo8 select--base--1SMnI select--input--1r-K_ select--singleRowHeight--2UMKM",textAreaInput:"select--textAreaInput--3eA9E select--base--1SMnI select--input--1r-K_ select--singleRowHeight--2UMKM",noLeftBorder:"select--noLeftBorder--XChN_",squareRightBorder:"select--squareRightBorder--YlMI1",_iconButton:"select--_iconButton--qQtAt",iconButtonEnabled:"select--iconButtonEnabled--3gbuN select--_iconButton--qQtAt",iconButtonDisabled:"select--iconButtonDisabled--2U8BG select--_iconButton--qQtAt",iconButtonSelected:"select--iconButtonSelected--1Ndpj select--_iconButton--qQtAt",chitCenter:"select--chitCenter--rxk8b",outlineButton:"select--outlineButton--16Agi",modalPanel:"select--modalPanel--1IuiU",panel:"select--panel--sOj2Q",_row:"select--_row--IiIf3",singleRow:"select--singleRow--2U8v3 select--singleRowHeight--2UMKM select--_row--IiIf3",doubleRow:"select--doubleRow--3UvQK select--doubleRowHeight--o-SCd select--_row--IiIf3",labelRow:"select--labelRow--1g9D- select--singleRow--2U8v3 select--singleRowHeight--2UMKM select--_row--IiIf3",rowSelected:"select--rowSelected--3lP2e",panelTitle:"select--panelTitle--23-Pw",panelTitleExtended:"select--panelTitleExtended--3hSn9 select--panelTitle--23-Pw",panelTitleWithTip:"select--panelTitleWithTip--2JVTs select--panelTitle--23-Pw",panelTitleWithTipText:"select--panelTitleWithTipText--1zOOz",panelTitleWithTipIcon:"select--panelTitleWithTipIcon--2K0VG",panelTitleFaded:"select--panelTitleFaded--3BE5r select--panelTitle--23-Pw",flushLeft:"select--flushLeft--22YC8",container:"select--container--1nk7y raw_components--singleRowHeight--3PF2a",hiddenInput:"select--hiddenInput--3hA_8 raw_components--selectHiddenInput--1Ss5k",selectInputExpanded:"select--selectInputExpanded--RyOud",inputDisabled:"select--inputDisabled--3rTyl select--input--1r-K_ select--singleRowHeight--2UMKM raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",inputTextWrapper:"select--inputTextWrapper--2jICb",chevron:"select--chevron--AAmeH",inputWithSvg:"select--inputWithSvg--23Swk",inputSvg:"select--inputSvg--w7GoW",inputText:"select--inputText--6fenW select--inputTextWrapper--2jICb ellipsis--ellipsis--1RWY6",dropdownContainer:"select--dropdownContainer--1zXjt _overlayBase--_overlayBase--1sCqN",dropdownScrollClip:"select--dropdownScrollClip--3r8xt",dropdown:"select--dropdown--3fRT9",dropdownContentWrapper:"select--dropdownContentWrapper--OEC2c",option:"select--option--1FpEe dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",divider:"select--divider--2u63O",optionFocused:"select--optionFocused--3n-7f select--option--1FpEe dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionDisabled:"select--optionDisabled--3la4M select--option--1FpEe dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionHeader:"select--optionHeader--1Iq-9 select--option--1FpEe dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionTruncatedText:"select--optionTruncatedText--QlY5l",optionFullWidth:"select--optionFullWidth--3OvFc",optionText:"select--optionText--2C5M1 select--optionTruncatedText--QlY5l ellipsis--ellipsis--1RWY6",check:"select--check--2_6C_",comboBoxShowChevronOnHover:"select--comboBoxShowChevronOnHover--1eA_s",_comboBoxSelect:"select--_comboBoxSelect--34Ccj",comboBoxSelectDisabled:"select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",comboBoxSelect:"select--comboBoxSelect--3gK7x select--_comboBoxSelect--34Ccj"}}),
(function(l,t,e){l.exports={src:'<svg width="8" height="7" viewBox="0 0 8 7" xmlns="http://www.w3.org/2000/svg"><path d="M3.646 5.354l-3-3 .708-.708L4 4.293l2.646-2.647.708.708-3 3L4 5.707l-.354-.353z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(2,1    ),i=o(6,1        ),n=o(141              ),r=o(113                                     ),p=o(87      ),l=o(409                                  ),h=l.dropdown.ModalEditorDropdown,d=l.dropdown.Separator,a=o(503               ),c=o(138      ),u=o(954               ),w=o(442                             ),m=o(792                                        ),f=o(146                        ),y=o(956                                              ),S=o(957           ),v=o(422                                        ),I=o(420              ),g=o(234                                                    ),_=o(958                                            ),E=o(514                                                ),C=I.pxToInt(v.toolbarHeight),M="Mixed",T=8,O=24,V=17,D=8,b=D+C;class x extends n.PureComponent{constructor(t){super(t),this.keyRecycler=new u.KeyRecycler,this.containerRect=null,this.containerRef=(t=>{this.container=t,this.container&&(this.containerRect=this.container.getBoundingClientRect())}),this.hiddenInputRef=(t=>{this.hiddenInput=t,t&&this.props.autoFocus&&t.focus()}),this.stopPropagation=(t=>t.stopPropagation()),this.dropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.props.id),this.formattedSelectedValue=(()=>w.notMixed(this.props.property)?this.props.formatter.format(this.props.property):M),this.allowSelectionTask=new a.DelayedTask,this.cacheOptionPositions=(t=>{let e=T;this.childPositionByIndex=Object.create(null),this.optionIndexByFormattedValue=Object.create(null),this.optionValueByIndex=Object.create(null),t.property===w.MIXED&&(e+=O,0!==s.Children.count(this.props.children)&&(e+=V));let o=0;s.Children.forEach(t.children,s=>{if(null==s)return null;if("Option"===s.type.__CLASS_NAME__){const i=s.props.value||null,n=null==i?"":t.formatter.format(i);this.optionIndexByFormattedValue[n]=o,this.optionValueByIndex[o]=i,this.childPositionByIndex[o]=e,e+=O,o++}else this.childPositionByIndex[o]=e,e+=V,o++}),e+=T,this.dropdownContentHeight=e}),this.onMouseDown=n.mouseEvent(this,"mousedown",t=>{this.props.onMouseDown||t.stopPropagation(),this.dropdownShown()?this.props.dispatch(r.fileBrowser.hideDropdown()):(n.isRunningInteractionTests()?this.setState({allowSelection:!0}):(this.setState({allowSelection:!1}),this.allowSelectionTask.reset(),this.allowSelectionTask.scheduleOnce(()=>{this.setState({allowSelection:!0})},250)),this.showDropdown())}),this.showDropdown=(()=>{this.props.willShowDropdown?this.props.willShowDropdown().then(this.showDropdownHelper):Promise.resolve().then(this.showDropdownHelper)}),this.resizeDropdown=(()=>{if(this.hiddenInput&&this.hiddenInput.focus(),this.container&&(this.containerRect=this.container.getBoundingClientRect()),!this.containerRect)return;const t=this.positionForFormattedValue(this.formattedSelectedValue());let e=-t,o=this.dropdownContentHeight;const i=w.getValueOrNull(this.props.property),n=null!==i?this.props.formatter.format(i):M;let r,l=()=>this.containerRect.top+e,h=()=>this.containerRect.top+(()=>e+o)();const d=null!=this.props.minTop?this.props.minTop:b,a=window.innerHeight-D;if(this.props.neverConstrain||p.windows){if(h()>a){let t=h()-a;e-=t}if(l()<d){let t=d-l();e+=t}if(h()>a){let t=h()-a;o-=t}this.shouldConstrainTop=!1,this.shouldConstrainBottom=!1}else{if(this.shouldConstrainTop=l()<d,this.shouldConstrainTop){let i=this.containerRect.top-d;const p=t-i;e=-i,o=this.dropdownContentHeight-p,r=this.scrollTopForValueOverInput(e,n);const l=s.Children.toArray(this.props.children);for(let t=l.length-2;t>=0;t--){let s=this.childPositionByIndex[t]-r;if(Math.abs(s)<=O/3){if("SelectDivider"===l[t].type.__CLASS_NAME__||t===this.optionIndexByFormattedValue[n])break;let i=s;i+=(this.childPositionByIndex[t+1]-this.childPositionByIndex[t])/2,e+=i,o-=i;break}}}if(this.shouldConstrainBottom=h()>a,this.shouldConstrainBottom){o=window.innerHeight-l()-D,r=this.scrollTopForValueOverInput(e,n);const t=s.Children.toArray(this.props.children);for(let e=1;e<t.length;e++){let s=this.childPositionByIndex[e]-r;if(Math.abs(s-o)<=O/3){if("SelectDivider"===t[e-1].type.__CLASS_NAME__||e===this.optionIndexByFormattedValue[n])break;o+=s-o,o-=(this.childPositionByIndex[e]-this.childPositionByIndex[e-1])/2;break}}}}r=this.scrollTopForValueOverInput(e,n),this.setState({focusedOptionValue:w.getValueOrNull(this.props.property),dropdownScreenTop:l(),dropdownScreenLeft:this.containerRect.left,dropdownWidth:this.containerRect.width,dropdownHeight:o,dropdownScrollTop:r})}),this.showDropdownHelper=(()=>{this.resizeDropdown(),this.props.dispatch(r.fileBrowser.showDropdown({type:this.props.id}))}),this.ignoreMouseMove=!1,this.onOptionMouseMove=((t,e)=>{t===this.state.focusedOptionValue||this.ignoreMouseMove||(this.setState({focusedOptionValue:t}),this.props.onOptionFocus&&this.props.onOptionFocus(t)),this.ignoreMouseMove=!1}),this.onOptionMouseUp=((t,e)=>{this.state.allowSelection&&(this.submitValue(t),this.hiddenInput&&this.hiddenInput.blur())}),this.onDividerMouseEnter=(t=>{this.setState({focusedOptionValue:null})}),this.looksEqual=((t,e)=>{const o=!w.notMixed(t),s=!w.notMixed(e);return!(!o||!s)||o===s&&w.getValueOrNull(t)===w.getValueOrNull(e)}),this.submitValue=(t=>{this.looksEqual(t,this.props.property)||this.props.onChange(t),this.props.dispatch(r.fileBrowser.hideDropdown())}),this.dropdownRef=(t=>{t&&(this.dropdownEl=i.findDOMNode(t),this.scrollValueOverInput(this.formattedSelectedValue()))}),this.onScroll=(t=>{const{dropdownScrollTop:e,dropdownHeight:o}=this.state;if(void 0===e||void 0===o)return;let s=this.dropdownEl.scrollTop;const i=s-e;if(this.setState({dropdownScrollTop:s}),this.dropdownContentHeight>o&&(this.shouldConstrainTop&&i<0||this.shouldConstrainBottom&&i>0)){const t=null!=this.props.minTop?this.props.minTop:b;let e=Math.min(o+Math.abs(i),this.dropdownContentHeight,window.innerHeight-t-D);if(e-o>0){let o=this.state.dropdownScreenTop;i>0&&void 0!==o&&(o=Math.max(o-i,t),s-=i,this.dropdownEl.scrollTop=s,this.setState({dropdownScrollTop:s})),this.setState({dropdownScreenTop:o,dropdownHeight:e})}}this.ignoreMouseMove=!0}),this.onKeyDown=n.keyboardEvent(this,"keydown",t=>{if(m.forwardInputKeyToFullscreenIfNecessary(t))return n.SKIP_RECORDING;if(this.dropdownShown()){const e=null==this.state.focusedOptionValue?"":this.props.formatter.format(this.state.focusedOptionValue),o=this.optionIndexByFormattedValue[e];switch(t.keyCode){case c.Key.UP_ARROW:case c.Key.DOWN_ARROW:if(void 0!==o){const e=s.Children.toArray(this.props.children),i=t.keyCode===c.Key.UP_ARROW?-1:1;let n,r=o;do{n=e[r+=i]}while(n&&"SelectDivider"===n.type.__CLASS_NAME__);const p=this.optionValueByIndex[r];p&&(this.setState({focusedOptionValue:p}),this.scrollValueIntoView(this.props.formatter.format(p)),this.ignoreMouseMove=!0)}break;case c.Key.ENTER:null!=this.state.focusedOptionValue&&this.submitValue(this.state.focusedOptionValue);break;case c.Key.ESCAPE:this.hiddenInput&&this.hiddenInput.blur();break;default:this.addInputChar(t.keyCode)}}else t.keyCode===c.Key.ESCAPE?this.hiddenInput&&this.hiddenInput.blur():t.keyCode===c.Key.UP_ARROW||t.keyCode===c.Key.DOWN_ARROW?this.showDropdown():this.addInputChar(t.keyCode)}),this.userInput="",this.lastInputAt=0,this.addInputChar=(t=>{const e=String.fromCharCode(t).toLowerCase(),o=(new Date).getTime();this.userInput=o-this.lastInputAt<1500?this.userInput+e:e,this.lastInputAt=o;let i=null;if(s.Children.forEach(this.props.children,t=>{if(null!=t&&null===i&&null!=t.props.value){this.props.formatter.format(t.props.value).toLowerCase().startsWith(this.userInput)&&(i=t.props.value)}}),null!==i)if(this.dropdownShown()){this.setState({focusedOptionValue:i});const t=this.props.formatter.format(i);this.scrollValueOverInput(t)}else this.submitValue(i)}),this.isDisabled=(()=>this.props.disabled||0===s.Children.count(this.props.children)),this.cloneChildForRender=((t,e)=>{const o=(t,e)=>null!=t&&null!=e&&this.props.formatter.isEqual?this.props.formatter.isEqual(t,e):t==e;if(null==t)return null;if(null==t.props.value){const o=this.childPositionByIndex[e];return s.cloneElement(t,{style:{top:o},onMouseEnter:this.onDividerMouseEnter})}if(void 0===this.state.dropdownHeight||void 0===this.state.dropdownScrollTop)return this.keyRecycler.freeKeyForId(t.key),null;const i=Math.max(this.state.dropdownHeight,3*O),r=this.state.dropdownScrollTop-i,p=this.state.dropdownScrollTop+this.state.dropdownHeight+i,l=this.childPositionByIndex[e],h=l+O;if(!n.isRunningInteractionTests()&&(h<r||l>p))return this.keyRecycler.freeKeyForId(t.key),null;const d=this.keyRecycler.getKeyForId(t.key);let a=o(w.getValueOrNull(this.props.property),t.props.value);return this.props.multipleSelections&&this.props.multipleSelections.forEach(e=>{!a&&o(w.getValueOrNull(e),t.props.value||null)&&(a=!0)}),s.cloneElement(t,{key:d,selected:a,focused:o(this.state.focusedOptionValue,t.props.value),formattedValue:this.props.formatter.format(t.props.value),onMouseUp:t.props.disabled||!this.state.allowSelection?null:this.onOptionMouseUp.bind(this,t.props.value),onMouseMove:this.onOptionMouseMove.bind(this,t.props.value),style:{top:l}})}),this.state={focusedOptionValue:w.getValueOrNull(this.props.property)},this.cacheOptionPositions(t)}componentWillUnmount(){super.componentWillUnmount(),this.allowSelectionTask.reset()}UNSAFE_componentWillUpdate(t){this.cacheOptionPositions(t)}componentDidUpdate(t){super.componentDidUpdate(this.props,this.state),this.hiddenInput&&(this.dropdownShown()?this.hiddenInput.focus():this.props.blurOnChange&&this.hiddenInput.blur()),this.dropdownShown()&&s.Children.count(this.props.children)!==s.Children.count(t.children)&&this.resizeDropdown()}positionForFormattedValue(t){let e=0;return this.containerRect&&(e=(this.containerRect.height-O)/2),t!==M&&t in this.optionIndexByFormattedValue?this.childPositionByIndex[this.optionIndexByFormattedValue[t]]-e:T-e}scrollTopForValueOverInput(t,e){const o=this.positionForFormattedValue(e);return Math.max(o+t,0)}scrollValueOverInput(t){if(!this.dropdownEl||!this.containerRect||void 0===this.state.dropdownScreenTop)return;const e=this.scrollTopForValueOverInput(this.state.dropdownScreenTop-this.containerRect.top,t);this.dropdownEl.scrollTop=e,this.setState({dropdownScrollTop:e})}scrollValueIntoView(t){if(!this.dropdownEl)return;const e=this.dropdownEl.scrollTop,o=this.dropdownEl.scrollTop+this.dropdownEl.offsetHeight,s=this.positionForFormattedValue(t),i=s+O;if(s<e){const t=s;this.dropdownEl.scrollTop=t,this.setState({dropdownScrollTop:t})}else if(i>o){const t=s-this.dropdownEl.offsetHeight+O;this.dropdownEl.scrollTop=t,this.setState({dropdownScrollTop:t})}}renderInput(){let t;t=this.props.dropdownOverride?this.props.dropdownOverride:w.notMixed(this.props.property)?this.props.formatter.format(this.props.property):M;let e=S.input;return this.isDisabled()&&(e=S.inputDisabled),this.props.svg&&(e+=` ${S.inputWithSvg}`),s.createElement("div",{className:`${e} ${this.props.inputClassName||""}`,onMouseDown:this.isDisabled()?void 0:this.onMouseDown},this.props.svg&&s.createElement(g.SvgWithFallback,{svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,className:`${S.inputSvg} ${this.props.svgClassName||""}`}),this.props.truncateInMiddle?s.createElement("span",{className:S.inputTextWrapper},s.createElement(y.TruncatedText,{text:t})):s.createElement("span",{className:S.inputText},t),s.createElement(f.Svg,{svg:_,className:S.chevron}))}render(){const t=`${S.container} ${this.props.className||""}`;if(this.isDisabled())return s.createElement("div",{className:t,"data-test-id":this.props.dataTestId},this.renderInput());let e=[];if(this.dropdownShown()){let t=0;e=s.Children.map(this.props.children,e=>{const o=this.cloneChildForRender(e,t);return e&&t++,o}),this.props.property===w.MIXED&&(0!==s.Children.count(this.props.children)&&e.unshift(s.createElement(N,{key:"mixed-divider",style:{top:O+T},onMouseEnter:this.onDividerMouseEnter})),e.unshift(s.createElement(k,{key:"select-option-mixed",selected:!0,formattedValue:"Mixed",disabled:!0,style:{top:T}})))}return s.createElement("div",{className:t,ref:this.containerRef,onClick:this.stopPropagation,onMouseDown:this.props.onMouseDown,"data-test-id":this.props.dataTestId},s.createElement("div",{ref:this.hiddenInputRef,tabIndex:0,className:S.hiddenInput,onKeyDown:this.onKeyDown}),this.renderInput(),this.dropdownShown()&&s.createElement("div",{className:`${S.dropdownContainer} ${this.props.dropdownClassName||""}`,style:{top:this.state.dropdownScreenTop,height:this.state.dropdownHeight,left:this.state.dropdownScreenLeft,width:this.state.dropdownWidth},onScroll:this.onScroll},s.createElement("div",{className:S.dropdownScrollClip},s.createElement(h,{className:S.dropdown,ref:this.dropdownRef,dispatch:this.props.dispatch},s.createElement("div",{className:S.dropdownContentWrapper,style:{height:this.dropdownContentHeight,minHeight:this.dropdownContentHeight}},e)))))}}e.Select=x,x.displayName="Select",x.propTypes={children:(t,e,o)=>{const i=t[e];let n=null;return s.Children.forEach(i,t=>{null==t||t.type&&t.type.__IS_VALID_SELECT_CHILD__||(n=new Error(`${o} children should be of type 'Option' or 'SelectDivider'`))}),n}};class k extends n.PureComponent{constructor(){super(...arguments),this.onMouseUp=n.mouseEvent(this,"mouseup",t=>{if(!this.props.onMouseUp)return n.SKIP_RECORDING;this.props.onMouseUp(t)})}render(){let t;return t=this.props.disabled?S.optionDisabled:this.props.focused?S.optionFocused:this.props.isHeader?S.optionHeader:S.option,this.props.fullWidth&&(t+=" "+S.optionFullWidth),s.createElement("div",{className:t,onMouseUp:this.onMouseUp,onMouseMove:this.props.onMouseMove,style:this.props.style},!this.props.ignoreCheck&&(this.props.selected?s.createElement(f.Svg,{className:S.check,svg:E}):s.createElement("span",{className:S.check})),this.props.children||!this.props.truncateInMiddle?s.createElement("span",{className:S.optionText},this.props.children||this.props.formattedValue):s.createElement(y.TruncatedText,{className:S.optionTruncatedText,text:this.props.formattedValue||""}))}}e.Option=k,k.displayName="Option",k.__IS_VALID_SELECT_CHILD__=!0,k.__CLASS_NAME__="Option";e.NumberOption=class extends k{};class N extends s.PureComponent{render(){return s.createElement(d,Object.assign({},this.props,{className:S.divider}))}}e.SelectDivider=N,N.displayName="SelectDivider",N.__IS_VALID_SELECT_CHILD__=!0,N.__CLASS_NAME__="SelectDivider"}),
(function(o,e,t){o.exports={singleRowHeight:"combo_box--singleRowHeight--VIcbB",doubleRowHeight:"combo_box--doubleRowHeight--3giS_",input:"combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",border:"combo_box--border--1_z5p",borderFocusWithin:"combo_box--borderFocusWithin--1lo_z",iconInsideBorderFocusWithin:"combo_box--iconInsideBorderFocusWithin--26Jgp",rowSelectedSecondary:"combo_box--rowSelectedSecondary--1LkJC combo_box--rowSelected--2y1zv",selectHiddenInput:"combo_box--selectHiddenInput--2Hxbc",iconButton:"combo_box--iconButton--mMrnc",borderFocus:"combo_box--borderFocus--1Belk",multiValueInput:"combo_box--multiValueInput--3PORd combo_box--borderFocusWithin--1lo_z",base:"combo_box--base--n8ZTg",label:"combo_box--label--3jZvz combo_box--base--n8ZTg",labelInactive:"combo_box--labelInactive--1JJgp combo_box--label--3jZvz combo_box--base--n8ZTg",textInput:"combo_box--textInput--3aQ7W combo_box--base--n8ZTg combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB",textAreaInput:"combo_box--textAreaInput--tezGr combo_box--base--n8ZTg combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB",noLeftBorder:"combo_box--noLeftBorder--tD-RV",squareRightBorder:"combo_box--squareRightBorder--y5pkA",_iconButton:"combo_box--_iconButton--z4WXh",iconButtonEnabled:"combo_box--iconButtonEnabled--3KUEX combo_box--_iconButton--z4WXh",iconButtonDisabled:"combo_box--iconButtonDisabled--2_eyx combo_box--_iconButton--z4WXh",iconButtonSelected:"combo_box--iconButtonSelected--4WiEl combo_box--_iconButton--z4WXh",chitCenter:"combo_box--chitCenter--XhHTM",outlineButton:"combo_box--outlineButton--1iJrS",modalPanel:"combo_box--modalPanel--a2ZiD",panel:"combo_box--panel--2Qa9w",_row:"combo_box--_row--2lHrL",singleRow:"combo_box--singleRow--1_VuS combo_box--singleRowHeight--VIcbB combo_box--_row--2lHrL",doubleRow:"combo_box--doubleRow--jvwGu combo_box--doubleRowHeight--3giS_ combo_box--_row--2lHrL",labelRow:"combo_box--labelRow--2c_nX combo_box--singleRow--1_VuS combo_box--singleRowHeight--VIcbB combo_box--_row--2lHrL",rowSelected:"combo_box--rowSelected--2y1zv",panelTitle:"combo_box--panelTitle--ggrbM",panelTitleExtended:"combo_box--panelTitleExtended--1LKXL combo_box--panelTitle--ggrbM",panelTitleWithTip:"combo_box--panelTitleWithTip--21NP9 combo_box--panelTitle--ggrbM",panelTitleWithTipText:"combo_box--panelTitleWithTipText--2rmBA",panelTitleWithTipIcon:"combo_box--panelTitleWithTipIcon--2i8HS",panelTitleFaded:"combo_box--panelTitleFaded--xOjUo combo_box--panelTitle--ggrbM",flushLeft:"combo_box--flushLeft--1KpKs",container:"combo_box--container--3eByq raw_components--singleRowHeight--3PF2a combo_box--_container--2qBYM raw_components--singleRowHeight--3PF2a select--comboBoxShowChevronOnHover--1eA_s",hiddenInput:"combo_box--hiddenInput--3CM2H raw_components--selectHiddenInput--1Ss5k",selectInputExpanded:"combo_box--selectInputExpanded--1cocj select--selectInputExpanded--RyOud",inputDisabled:"combo_box--inputDisabled--3UlJn combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",inputTextWrapper:"combo_box--inputTextWrapper--1CL91",chevron:"combo_box--chevron--2B2iL",inputWithSvg:"combo_box--inputWithSvg--2PLKK",inputSvg:"combo_box--inputSvg--U1Msu",inputText:"combo_box--inputText--yQW8H combo_box--inputTextWrapper--1CL91 ellipsis--ellipsis--1RWY6",dropdownContainer:"combo_box--dropdownContainer--Wu4sW _overlayBase--_overlayBase--1sCqN",dropdownScrollClip:"combo_box--dropdownScrollClip--1Tt15",dropdown:"combo_box--dropdown--2R69T",dropdownContentWrapper:"combo_box--dropdownContentWrapper--20-0t",option:"combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",divider:"combo_box--divider--2w-5b",optionFocused:"combo_box--optionFocused--yBzDx combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionDisabled:"combo_box--optionDisabled--1ffPA combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionHeader:"combo_box--optionHeader--LLuwf combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionTruncatedText:"combo_box--optionTruncatedText--1wU1V",optionFullWidth:"combo_box--optionFullWidth--3Li0w",optionText:"combo_box--optionText--1m3jZ combo_box--optionTruncatedText--1wU1V ellipsis--ellipsis--1RWY6",check:"combo_box--check--2BWbZ",comboBoxShowChevronOnHover:"combo_box--comboBoxShowChevronOnHover--3AaSL",_comboBoxSelect:"combo_box--_comboBoxSelect--31NEt",comboBoxSelectDisabled:"combo_box--comboBoxSelectDisabled--2l8KD combo_box--_comboBoxSelect--31NEt",comboBoxSelect:"combo_box--comboBoxSelect--3Y65U combo_box--_comboBoxSelect--31NEt",_container:"combo_box--_container--2qBYM raw_components--singleRowHeight--3PF2a",containerDisabled:"combo_box--containerDisabled--2-NDb combo_box--_container--2qBYM raw_components--singleRowHeight--3PF2a",_select:"combo_box--_select--1iNCZ select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",selectDisabled:"combo_box--selectDisabled--1fh37 combo_box--_select--1iNCZ select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",select:"combo_box--select--29RZ8 select--comboBoxSelect--3gK7x select--_comboBoxSelect--34Ccj combo_box--_select--1iNCZ select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",selectInput:"combo_box--selectInput--ouHqX raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",scrubbableControl:"combo_box--scrubbableControl--1OKXg raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",withSvg:"combo_box--withSvg--1WW_R"}}),
(function(r,o,a){r.exports={foreground:"resizable_arrow--foreground--IcChG",background:"resizable_arrow--background--1a0gc"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(2,1    ),o=r(308         ),i=r(961                    );var n;!function(e){e[e.Horizontal=0]="Horizontal"}(t.ResizableArrowDirection||(t.ResizableArrowDirection={})),function(e){e[e.LeftToRight=0]="LeftToRight",e[e.Center=1]="Center"}(n=t.ResizableArrowGrow||(t.ResizableArrowGrow={}));const a=new Set(["arrowWidth","direction"]),h=3,p=3.5,l=7,c=2,d=l+4;class m extends s.PureComponent{constructor(e){super(e),this.elementProps=this.makeElementProps(e)}UNSAFE_componentWillUpdate(e,t){this.elementProps=this.makeElementProps(e)}makeElementProps(e){return o.copyExcluding(e,a)}makePath(e,t){const r=this.props.arrowWidth,s=(r,s)=>r+e+" "+(s+t);return"M "+s(p,(l-c)/2)+"L "+s(p,0)+"L "+s(0,l/2)+"L "+s(p,l)+"L "+s(p,(l+c)/2)+"L "+s(r-p,(l+c)/2)+"L "+s(r-p,l)+"L "+s(r,l/2)+"L "+s(r-p,0)+"L "+s(r-p,(l-c)/2)+"Z"}render(){const e=this.props.width?"string"==typeof this.props.width?parseInt(this.props.width):this.props.width:12,t=this.props.height?"string"==typeof this.props.height?parseInt(this.props.height):this.props.height:l+2*h,r=this.props.grow==n.LeftToRight?0:(e-this.props.arrowWidth)/2,o=this.makePath(r,(t-d)/2);return s.createElement("svg",Object.assign({version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:e,height:t,className:this.props.className},this.elementProps),s.createElement("g",{transform:`translate(2 ${h})`},s.createElement("path",{className:i.background,style:{strokeWidth:2},fillRule:"evenodd",d:o}),s.createElement("path",{className:i.foreground,fillRule:"evenodd",d:o})))}}t.ResizableArrow=m,m.displayName="ResizableArrow"}),
(function(r,u,o){r.exports={cursor:"PointerScrubManager--cursor--1KIUB",defaultCursor:"PointerScrubManager--defaultCursor--3Zvq7 PointerScrubManager--cursor--1KIUB"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ScrubEvent=class{constructor(t,e,s=!1,i={x:0,y:0},c={x:0,y:0},n=!1,r=!1){this.target=t,this.sourceEvent=e,this.canceled=s,this.distance=i,this.delta=c,this.isBigIncrement=n,this.isUnbounded=r}}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=i(964           );e.WheelCaptureContext=class{constructor(t,e){switch(this.ended=!1,this.onBatchTimeout=(()=>{this.batchTimer=null,this.end(null)}),this.trackedEl=t,this.ctx=e,this.multiplier={x:1,y:1},e.wheelMultiplier&&("number"==typeof e.wheelMultiplier?this.multiplier.x=this.multiplier.y=e.wheelMultiplier:(void 0!==e.wheelMultiplier.x&&(this.multiplier.x=e.wheelMultiplier.x),void 0!==e.wheelMultiplier.y&&(this.multiplier.y=e.wheelMultiplier.y))),this.batchDuration=void 0!==e.wheelInputBatchDuration?e.wheelInputBatchDuration:200,this.batchTimer=null,this.distance={x:0,y:0},e.wheelSingleAxis||e.lockAxis||!1){case"x":this.deltaMutator=(t=>{Math.abs(t.y)>Math.abs(t.x)&&(t.x=t.y),t.x*=this.multiplier.x,t.y=0});break;case"y":this.deltaMutator=(t=>{Math.abs(t.x)>Math.abs(t.y)&&(t.y=t.x),t.x=0,t.y*=this.multiplier.y})}this.batchDuration<=0&&(this.onWheelDelta=this.onWheelDeltaUnbatched)}deltaMutator(t){t.x*=this.multiplier.x,t.y*=this.multiplier.y}onWheelDeltaUnbatched(t,e,i){this.deltaMutator(e);const n=this.ctx,l=this.trackedEl;if(n.onBegin){const e=new h.ScrubEvent(t.target||l,t);if(!1===n.onBegin(e))return!1}return n.onChange(new h.ScrubEvent(l,t,!1,e,e,i,!0)),n.onEnd&&n.onEnd(new h.ScrubEvent(l,t,!1,void 0,e,!1,!0)),!0}end(t){this.ended||(this.ended=!0,null!==this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.ctx.onEnd&&this.ctx.onEnd(new h.ScrubEvent(this.trackedEl,t,!1,this.distance,void 0,!1,!0)))}onWheelDelta(t,e,i){this.deltaMutator(e);const n=this.ctx,l=this.trackedEl;if(null===this.batchTimer){if(n.onBegin){const e=new h.ScrubEvent(t.target||l,t,!1,void 0,void 0,i,!0);if(!1===n.onBegin(e))return!1}this.distance.x=e.x,this.distance.y=e.y,this.ended=!1}else clearTimeout(this.batchTimer),this.distance.x+=e.x,this.distance.y+=e.y;return this.batchTimer=setTimeout(this.onBatchTimeout,this.batchDuration),n.onChange(new h.ScrubEvent(l,t,!1,this.distance,e,i,!0)),!0}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(965                    ),s=i(964           );var r;!function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Middle=4]="Middle",e[e.Other1=8]="Other1",e[e.Other2=16]="Other2"}(r||(r={}));t.BaseScrubManager=class{constructor(e){this.trackedElements=new Map,this.styleOverrideElements=new Set,this.startPosition={x:0,y:0},this.activeDistance={x:0,y:0},this.activeElement=null,this.activeContext=null,this.activeBigIncrementMultiplier=10,this.pointerInTrackedElement=null,this.isTracking=!1,this.isTrackingMovementWithEventName=!1,this.isAltKeyPressed=!1,this.isShiftKeyPressed=!1,this.wheelCaptureContext=null,this._onPointerDown=(e=>{const t=e.target,i=this.trackedElements.get(t);if(i)this.onPointerDown(t,t,e,i),e.preventDefault(),e.stopPropagation();else if(e.buttons&&e.buttons&r.Middle){const[i,n]=this.findTrackedElement(e.target);i&&!(null==n?void 0:n.ignoreMiddleMouseButton)&&(this.onPointerDown(t,i,e,n),e.preventDefault(),e.stopPropagation())}}),this._onPointerUp=(e=>{this.activeContext&&this.onPointerUp(e,this.activeContext)}),this.onClick=(e=>{this.trackedElements.has(e.target)&&(e.stopPropagation(),e.preventDefault())}),this.onWheelForTracked=(e=>{const t={x:-e.deltaX,y:e.deltaY};switch(e.deltaMode){case WheelEvent.DOM_DELTA_LINE:t.x*=10,t.y*=10;break;case WheelEvent.DOM_DELTA_PAGE:t.x*=100,t.y*=100;break;case WheelEvent.DOM_DELTA_PIXEL:}e.shiftKey&&(t.x*=this.activeBigIncrementMultiplier,t.y*=this.activeBigIncrementMultiplier),this.wheelCaptureContext.onWheelDelta(e,t,e.shiftKey)&&(e.preventDefault(),e.stopPropagation())}),this.onPointerEnterTracked=(e=>{const t=this.findTrackedElement(e.target)[0];this.pointerInTrackedElement=t,this.updateCaptureWheelEvents(e),this.isAltKeyPressed&&t&&this.enableStyleOverridesForTracked(t)}),this.onPointerLeaveTracked=(e=>{this.pointerInTrackedElement=null,this.updateCaptureWheelEvents(e)}),this.onKeyDown=(e=>{this.isAltKeyPressed!=e.altKey&&(this.isAltKeyPressed=e.altKey,this.onAltKeyChange(e)),this.isShiftKeyPressed!=e.shiftKey&&(this.isShiftKeyPressed=e.shiftKey,this.onShiftKeyChange(e)),27==e.keyCode&&this.activeContext&&(e.preventDefault(),e.stopPropagation())}),this.onKeyUp=(e=>{this.isAltKeyPressed!=e.altKey&&(this.isAltKeyPressed=e.altKey,this.onAltKeyChange(e)),this.isShiftKeyPressed!=e.shiftKey&&(this.isShiftKeyPressed=e.shiftKey,this.onShiftKeyChange(e)),27==e.keyCode&&this.activeContext&&(this.stopTracking(e,!0),e.preventDefault(),e.stopPropagation())}),this.onPointerMove=(e=>{}),this.onWindowBlur=(e=>{this.isAltKeyPressed=!1,this.onAltKeyChange(null),this.isShiftKeyPressed=!1,this.onShiftKeyChange(null),this.stopTracking(e,!1)}),this.eventNames=e}addTracking(e,t){this.trackedElements.set(e,t),this.isTracking||(this.isTracking=!0,this.enable(document)),e.addEventListener(this.eventNames.pointerEnter,this.onPointerEnterTracked,!1),e.addEventListener(this.eventNames.pointerLeave,this.onPointerLeaveTracked,!1)}removeTracking(e){this.trackedElements.delete(e)&&(e.removeEventListener(this.eventNames.pointerEnter,this.onPointerEnterTracked,!1),e.removeEventListener(this.eventNames.pointerLeave,this.onPointerLeaveTracked,!1),e===this.pointerInTrackedElement&&(this.disableStyleOverridesForTracked(this.pointerInTrackedElement),this.pointerInTrackedElement&&(this.pointerInTrackedElement=null,this.updateCaptureWheelEvents(null))),e===this.activeElement&&(this.activeElement=null),this.isTracking&&0==this.trackedElements.size&&(this.disable(document),this.isTracking=!1))}enable(e){e.addEventListener("click",this.onClick,!1),e.addEventListener("keydown",this.onKeyDown,!1),e.addEventListener("keyup",this.onKeyUp,!1),e.addEventListener(this.eventNames.pointerDown,this._onPointerDown,!1),e.addEventListener(this.eventNames.pointerUp,this._onPointerUp,!1),window.addEventListener("blur",this.onWindowBlur)}disable(e){e.removeEventListener("click",this.onClick,!1),e.removeEventListener("keydown",this.onKeyDown,!1),e.removeEventListener("keyup",this.onKeyUp,!1),e.removeEventListener(this.eventNames.pointerDown,this._onPointerDown,!1),e.removeEventListener(this.eventNames.pointerUp,this._onPointerUp,!1),window.removeEventListener("blur",this.onWindowBlur)}findTrackedElement(e){let t=e;for(;t;){const e=this.trackedElements.get(t);if(e)return[t,e];t=t.parentElement}return[null,null]}cssCursorForContext(e){if(e){if(void 0!==e.cursorStyle)return e.cursorStyle;switch(e.lockAxis||!1){case"x":return"ew-resize";case"y":return"ns-resize"}}return"all-scroll"}updateCaptureWheelEvents(e){if(this.wheelCaptureContext){const t=this.wheelCaptureContext.trackedEl;this.isAltKeyPressed&&t===this.pointerInTrackedElement||(t.removeEventListener("wheel",this.onWheelForTracked,!0),0===this.activeDistance.x&&0===this.activeDistance.y||this.wheelCaptureContext.end(e),this.wheelCaptureContext=null)}if(this.isAltKeyPressed){const e=this.pointerInTrackedElement;if(e&&!this.wheelCaptureContext){const t=this.trackedElements.get(e);this.wheelCaptureContext=new n.WheelCaptureContext(e,t),e.addEventListener("wheel",this.onWheelForTracked,!0)}}}_setStyleOverridesForTracked(e,t){const i=this.trackedElements.get(e),n=t?"none":null,s=t&&i?this.cssCursorForContext(i):null;e.style.cursor=s||"";for(let r=0,o=e.children.length;r<o;++r){const t=e.children[r].style;t.pointerEvents=n,t.cursor=s||""}}enableStyleOverridesForTracked(e){this.styleOverrideElements.has(e)||(this._setStyleOverridesForTracked(e,!0),this.styleOverrideElements.add(e))}disableStyleOverridesForTracked(e){this.styleOverrideElements.delete(e)&&this._setStyleOverridesForTracked(e,!1)}disableAllStyleOverrides(){this.styleOverrideElements.forEach(e=>{this._setStyleOverridesForTracked(e,!1)}),this.styleOverrideElements.clear()}onAltKeyChange(e){const t=this.pointerInTrackedElement;t&&(this.isAltKeyPressed&&this.enableStyleOverridesForTracked(t),this.updateCaptureWheelEvents(e)),this.isAltKeyPressed||this.disableAllStyleOverrides()}onShiftKeyChange(e){if(this.activeContext&&!this.wheelCaptureContext){let t=this.activeDistance;if(this.isShiftKeyPressed){const e=this.activeBigIncrementMultiplier;t={x:t.x*e,y:t.y*e}}this.activeContext.onChange(new s.ScrubEvent(this.activeElement,e,!1,t,void 0,this.isShiftKeyPressed))}}startTracking(e){if(this.isTrackingMovementWithEventName)return;this.isTrackingMovementWithEventName=e||this.eventNames.pointerMove,document.addEventListener(this.isTrackingMovementWithEventName,this.onPointerMove,!1),document.body.style.pointerEvents="none",document.documentElement.style.userSelect="none";const t=this.cssCursorForContext(this.activeContext);t&&(document.documentElement.style.cursor=t)}stopTracking(e,t){this.isTrackingMovementWithEventName&&(document.removeEventListener(this.isTrackingMovementWithEventName,this.onPointerMove,!1),document.body.style.pointerEvents=null,document.documentElement.style.userSelect="",document.documentElement.style.cursor="",this.isTrackingMovementWithEventName=!1),this.activeContext&&(this.activeContext.onEnd&&this.activeContext.onEnd(new s.ScrubEvent(this.activeElement,e,t,this.activeDistance)),this.activeContext=null),this.activeElement=null}onPointerDown(e,t,i,n){return this.startPosition.x=i.clientX,this.startPosition.y=i.clientY,(!n.onBegin||!1!==n.onBegin(new s.ScrubEvent(e,i)))&&(this.activeDistance.x=0,this.activeDistance.y=0,this.activeContext=n,this.activeElement=t,this.activeBigIncrementMultiplier=n.bigIncrementMultiplier||10,!0)}onPointerUp(e,t){this.stopTracking(e,!1)}}}),
(function(e,o,i){"use strict";function n(e,o){return Math.floor(e*o+.5)/o}Object.defineProperty(o,"__esModule",{value:!0}),o.imod=function(e,o){return(e%o+o)%o},o.roundTo=n,o.roundPx="devicePixelRatio"in window?e=>n(e,window.devicePixelRatio):e=>Math.round(e)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(6,1        ),s=i(963                        ),o=i(964           ),n=i(966             ),a=i(967       ),c=i(112          ),u=i(228         ),h=i(87      );t.PointerScrubManager=class extends n.BaseScrubManager{constructor(){super({pointerDown:"pointerdown",pointerMove:"pointermove",pointerUp:"pointerup",pointerEnter:"pointerenter",pointerLeave:"pointerleave"}),this.activeCursorElement=null,this.activeCursorOffset={x:0,y:0},this.activeCursorSize={x:0,y:0},this.activeCapturedPointerId=null,this.activeCustomCursorRender=null,this.onPointerCancel=(e=>{this.stopTracking(e,!0)}),this.onPointerMove=(e=>{const t={x:e.movementX,y:e.movementY};if(Math.abs(t.x)>200||Math.abs(t.y)>200)return;this.activeDistance.x+=t.x,this.activeDistance.y+=t.y;let i=this.activeDistance;if(e.shiftKey){const e=this.activeBigIncrementMultiplier;i={x:i.x*e,y:i.y*e},t.x*=e,t.y*=e}this.activeContext&&(this.activeContext.onChange(new o.ScrubEvent(this.activeElement,e,!1,i,t,this.isShiftKeyPressed)),this.activeCursorElement&&this.updateCursorPosition())}),this.onPointerLockFailure=(e=>{this.activeCursorElement&&this.removeCustomCursor(),this.startTracking()}),this.onPointerLockChange=(e=>{this.activeContext&&((document.pointerLockElement||document.webkitPointerLockElement||document.mozPointerLockElement||document.msPointerLockElement)===this.activeElement?h.firefox&&+h.version>=59?this.startTracking():this.startTracking("mousemove"):this.stopTracking(e,!1))}),u.assertDev(c.capabilities.pointerEvents,"missing PointerEvent API")}enable(e){super.enable(e),e.addEventListener("pointercancel",this.onPointerCancel,!1),c.capabilities.pointerLock&&(e.addEventListener(c.capabilities.pointerLockChangeEventName,this.onPointerLockChange,!1),e.addEventListener(c.capabilities.pointerLockErrorEventName,this.onPointerLockFailure,!1))}disable(e){super.disable(e),e.removeEventListener("pointercancel",this.onPointerCancel,!1),c.capabilities.pointerLock&&(e.removeEventListener(c.capabilities.pointerLockChangeEventName,this.onPointerLockChange,!1),e.removeEventListener(c.capabilities.pointerLockErrorEventName,this.onPointerLockFailure,!1))}addTracking(e,t){super.addTracking(e,t),e.addEventListener("pointercancel",this.onPointerLeaveTracked,!1)}removeTracking(e){super.removeTracking(e),e.removeEventListener("pointercancel",this.onPointerLeaveTracked,!1)}onPointerDown(e,t,i,r){if(!super.onPointerDown(e,t,i,r))return!1;if(c.capabilities.pointerCapture){this.activeCapturedPointerId=i.pointerId;try{this.activeElement.setPointerCapture(i.pointerId)}catch(s){}}return this.createCustomCursor(),c.capabilities.pointerLock?c.capabilities.requestPointerLockFunc.call(this.activeElement):this.onPointerLockFailure(),!0}stopTracking(e,t){c.capabilities.pointerLock&&c.capabilities.exitPointerLockFunc.call(document),null!==this.activeCapturedPointerId&&this.activeElement&&this.activeElement.releasePointerCapture(this.activeCapturedPointerId),this.activeCursorElement&&this.removeCustomCursor(),super.stopTracking(e,t)}updateCursorPosition(){let e=this.startPosition.x+this.activeDistance.x-this.activeCursorOffset.x,t=this.startPosition.y+this.activeDistance.y-this.activeCursorOffset.y;switch(this.activeContext.lockAxis||!1){case"x":t=this.startPosition.y-this.activeCursorOffset.y;break;case"y":e=this.startPosition.x-this.activeCursorOffset.x}const i=a.roundPx(this.activeCursorSize.x/2),r=a.roundPx(this.activeCursorSize.y/2);e=a.imod(e+i,window.innerWidth)-i,t=a.imod(t+r,window.innerHeight)-r,this.activeCursorElement.style.transform=`translate3d(${e}px, ${t}px, 0)`,this.activeCustomCursorRender&&this.activeCustomCursorRender()}removeCustomCursor(){this.activeCursorElement.parentElement&&this.activeCursorElement.parentElement.removeChild(this.activeCursorElement),this.activeCursorElement.style.display="none",this.activeCustomCursorRender=null}createCustomCursor(){const e=this.activeContext;if(!e)return;if(!e.renderCursor&&null===e.cursorStyle)return;this.activeCursorElement||(this.activeCursorElement=document.createElement("div"),this.activeCursorElement.className=s.cursor,this.activeCursorElement.style.display="none"),this.activeCursorSize=e.cursorSize?{x:a.roundPx(e.cursorSize.x),y:a.roundPx(e.cursorSize.y)}:{x:24,y:24},this.activeCursorElement.style.width=this.activeCursorSize.x+"px",this.activeCursorElement.style.height=this.activeCursorSize.y+"px",e.cursorOffset?this.activeCursorOffset=e.cursorOffset:(this.activeCursorOffset.x=a.roundPx(this.activeCursorSize.x/2),this.activeCursorOffset.y=a.roundPx(this.activeCursorSize.y/2));const t=e.getCursorStartPosition?e.getCursorStartPosition():{};void 0!==t.x&&(this.startPosition.x=t.x),void 0!==t.y&&(this.startPosition.y=t.y),this.activeCursorElement.className=e.renderCursor?s.cursor:s.defaultCursor,this.updateCursorPosition(),document.body.appendChild(this.activeCursorElement),e.renderCursor&&(this.activeCustomCursorRender=(()=>{const t=e.renderCursor({distance:this.activeDistance});r.render(t,this.activeCursorElement)}),this.activeCustomCursorRender()),this.activeCursorElement.style.display=""}}}),
(function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(966             ),n=e(964           );i.MouseScrubManager=class extends s.BaseScrubManager{constructor(){super({pointerDown:"mousedown",pointerMove:"mousemove",pointerUp:"mouseup",pointerEnter:"mouseover",pointerLeave:"mouseout"}),this.lastPosition={x:0,y:0},this.onPointerMove=(t=>{const i={x:t.clientX-this.lastPosition.x,y:t.clientY-this.lastPosition.y};this.activeDistance.x=t.clientX-this.startPosition.x,this.activeDistance.y=t.clientY-this.startPosition.y;let e=this.activeDistance;if(t.shiftKey){const t=this.activeBigIncrementMultiplier;e={x:e.x*t,y:e.y*t},i.x*=t,i.y*=t}this.activeContext.onChange(new n.ScrubEvent(this.activeElement,t,!1,e,i,this.isShiftKeyPressed)),this.lastPosition.x=t.clientX,this.lastPosition.y=t.clientY})}onPointerDown(t,i,e,s){return!!super.onPointerDown(t,i,e,s)&&(this.lastPosition.x=e.clientX,this.lastPosition.y=e.clientY,this.startTracking(),!0)}}}),
(function(r,b,c){r.exports={scrubCursorSvg:"scrubbable_control--scrubCursorSvg--6K-5c",containerInLiveScrub:"scrubbable_control--containerInLiveScrub--3GKRp",scrubbingDisabled:"scrubbable_control--scrubbingDisabled--3X8g-",disabled:"scrubbable_control--disabled--fHD9R",container:"scrubbable_control--container--3kSfp",containerBordered:"scrubbable_control--containerBordered--3L-lt raw_components--borderFocusWithin--3IG2Z scrubbable_control--container--3kSfp"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2,1    ),s=r(2,1    ),n=r(263                      ),o=r(172                                              ),u=r(442                             ),l=r(962                               ),p=r(482                              ),c=r(112          ),a=r(968                                       ),h=r(969                                     ),b=r(970                       ),d=r(215                                          ),S=r(87      );t.scrubManager=c.capabilities.pointerEvents&&!S.safari?new a.PointerScrubManager:new h.MouseScrubManager;const g=8,m=15,f=10,M=5*g,v=M+6;t.postInputScrubMultiplier=.5,t.postInputScrubWheelMultiplier=.2;const x={left:`-${(v-m)/2}px`};class w extends s.PureComponent{constructor(e){super(e),this.preScrubValue=0,this.currentScrubScale=0,this.currentArrowWidth=0,this.onScrubBegin=(e=>{if(this.props.scrubbingDisabled||!u.notMixed(this.props.value))return!1;this.currentScrubScale=0,this.preScrubValue=u.getValue(this.props.value,0),d.fullscreen.commit(),this.props.onScrubBegin&&this.props.onScrubBegin(e),this.setState({inLiveScrub:!0})}),this.onScrubChange=(e=>{let t=1;if(!e.isUnbounded){const r=_(C(e.distance.y));t=r>0?r:1/-r}let r=this.valueFilter(e,y(this.props,this.preScrubValue+e.distance.x*t*this.effectiveScrubMultiplier()));this.props.valueFilter&&(r=this.props.valueFilter(e,r,this.effectiveBigIncrementMultiplier())),r=y(this.props,r),this.props.onValueChange&&this.props.onValueChange(r,n.ShouldCommit.NO),this.props.onScrubChange&&this.props.onScrubChange(r,e)}),this.onScrubEnd=(e=>{d.fullscreen.commit(),this.props.onScrubEnd&&this.props.onScrubEnd(e),this.setState({inLiveScrub:!1})}),this.renderScrubCursor=(e=>{const t=_(C(e.distance.y));if(this.currentScrubScale!=t){const e=this.currentScrubScale;this.currentScrubScale=t;const r=(g+t)/(2*g);this.currentArrowWidth=Math.round(Math.max(f,M*r)),0!==e&&this.props.dispatch(o.visualBell.enqueue({message:`Scrubbing at ${function(e){return e<=-8?"1/8":e<=-4?"1/4":e<=-2?"1/2":e>=8?"8x":e>=4?"4x":e>=2?"2x":"1x"}(t)}`,type:"scrub-scale"}))}return i.createElement(l.ResizableArrow,{className:b.scrubCursorSvg,width:v,height:m,style:x,arrowWidth:this.currentArrowWidth})}),this.ref=(e=>{if(this.element!==e){this.element&&t.scrubManager.removeTracking(this.element);const r={x:9,y:9};this.element=e,this.element&&t.scrubManager.addTracking(e,Object.assign(Object.assign({},r),this.scrubContext))}}),this.scrubContext={cursorStyle:"ew-resize",wheelSingleAxis:"x",cursorSize:{x:m,y:m},onBegin:this.onScrubBegin,onChange:this.onScrubChange,onEnd:this.onScrubEnd,renderCursor:this.renderScrubCursor},this.state={inLiveScrub:!1},this.updateScrubContext()}effectiveScrubMultiplier(){return(null==this.props.scrubMultiplier?1:this.props.scrubMultiplier)*(null==this.props.postScrubMultiplier?t.postInputScrubMultiplier:this.props.postScrubMultiplier)}effectiveBigIncrementMultiplier(){return this.props.bigNudgeAmount*(null==this.props.postBigNudgeAmount?t.postInputScrubMultiplier:this.props.postBigNudgeAmount)}effectiveWheelMultiplier(){if(this.props.wheelMultiplier)return this.props.wheelMultiplier*(null==this.props.postWheelMultiplier?t.postInputScrubWheelMultiplier:this.props.postWheelMultiplier)}UNSAFE_componentWillUpdate(e,t){this.updateScrubContext()}updateScrubContext(){const e=this.scrubContext;e.wheelMultiplier=this.effectiveWheelMultiplier(),e.bigIncrementMultiplier=this.effectiveBigIncrementMultiplier()}valueFilter(e,t){const r=this.props.resolution;return r?1===r?Math.round(t):Math.round(t/r)*r:t}render(){let e=this.state.inLiveScrub?`${b.containerInLiveScrub} ${this.props.className||""}`:this.props.className;return this.props.scrubbingDisabled&&(e+=" "+b.scrubbingDisabled),this.props.disabled&&(e+=` ${b.disabled}`),e+=` ${this.props.noBorderOnFocus?b.container:b.containerBordered}`,i.createElement("label",{ref:this.ref,id:this.props.id,className:e,"data-tooltip-type":this.props.tooltipForScreenReadersOnly?null:this.props["data-tooltip-type"],"data-tooltip":this.props.tooltipForScreenReadersOnly?null:this.props["data-tooltip"],"aria-label":p.getAriaLabel(this.props)},this.props.children)}}function C(e){let t=e/(window.screen?window.screen.height:768);return t<-1?-1:t>1?1:t}function _(e){return e<-.5?8:e<-.25?4:e<-.125?2:e>.5?-8:e>.25?-4:e>.125?-2:1}function y(e,t){return void 0!==e.min&&(t=Math.max(e.min,t)),void 0!==e.max&&(t=Math.min(e.max,t)),t}t.ScrubbableControl=w,w.displayName="ScrubbableControl"}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=t(2,1    ),r=t(141              ),p=t(442                             ),i=t(938                                 ),a=t(959               ),n=t(960              ),l=t(971                                          );class h extends o.PureComponent{constructor(){super(...arguments),this.state={isMouseOver:!1,isFocused:!1},this.onMouseOver=(()=>{this.setState({isMouseOver:!0})}),this.onMouseLeave=(()=>{this.setState({isMouseOver:!1})}),this.onFocus=(()=>{this.setState({isFocused:!0})}),this.onBlur=(()=>{this.setState({isFocused:!1})})}areValuesEqual(s,e){return null==s||null==e?null==s==(null==e):this.props.formatter.isEqual?this.props.formatter.isEqual(s,e):s===e}render(){const s=a.Select,e=p.getValueOrNull(this.props.property),t=[];let h=!0;o.Children.forEach(this.props.children,s=>{this.areValuesEqual(s.props.value,e)&&(h=!1)}),h&&e&&(t.push(o.createElement(a.Option,{value:e,key:"custom-option"},this.props.formatter.format(e))),0!==o.Children.count(this.props.children)&&t.push(o.createElement(a.SelectDivider,{key:"custom-option-divider"})));let u=n.selectInput;this.props.disabled||!this.state.isMouseOver&&!this.state.isFocused||(u=n.selectInputExpanded);let c=n.container;return this.props.disabled&&(c=n.containerDisabled),o.createElement("div",{className:`${c} ${this.props.className||""}`,onMouseDown:this.props.onMouseDown,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave},o.createElement(s,{id:this.props.id,formatter:this.props.formatter,property:this.props.property,className:this.props.disabled?n.selectDisabled:n.select,inputClassName:`${u} ${this.props.inputClassName||""}`,dropdownClassName:this.props.dropdownClassName,onChange:this.props.onChange,dispatch:this.props.dispatch,disabled:this.props.disabled,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"select"),svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,svgClassName:this.props.svgClassName},t,this.props.children),this.props.scrubbableControlProps?o.createElement(l.ScrubbableControl,Object.assign({},this.props.scrubbableControlProps,{className:`${n.scrubbableControl} ${this.props.svg?n.withSvg:""}`}),o.createElement(i.FormattedInput,{className:this.props.inputClassName,formatter:this.props.formatter,property:this.props.property,onChange:this.props.onChange,disabled:this.props.disabled,autoFocus:this.props.autoFocus,recordingKey:r.joinKeys(this.props,"input"),onFocus:this.onFocus,onBlur:this.onBlur,noBorderOnFocus:!0,forwardedRef:this.props.forwardedRef})):o.createElement(i.FormattedInput,{className:`${n.input} ${this.props.svg?n.withSvg:""} ${this.props.inputClassName||""}`,formatter:this.props.formatter,property:this.props.property,onChange:this.props.onChange,disabled:this.props.disabled,autoFocus:this.props.autoFocus,recordingKey:r.joinKeys(this.props,"input"),onFocus:this.onFocus,onBlur:this.onBlur,forwardedRef:this.props.forwardedRef}))}}e.ComboBox=h,h.displayName="ComboBox",h.propTypes={children:(s,e,t)=>{const r=s[e];let p=null;return o.Children.forEach(r,s=>{s.type&&s.type.__IS_VALID_SELECT_CHILD__||(p=new Error(`${t} children should be of type 'Option' or 'SelectDivider'`))}),p}};e.NumberComboBox=class extends h{}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=s(2,1    ),o=s(87      ),i=s(263                      ),n=s(232                       ),p=s(938                                                                          ),u=s(972                                                              ),a=s(971                   ),l=s(442                             ),m=s(122          ),h=s(936                             ),c=s(937                                     );class d extends r.Component{constructor(){super(...arguments),this.onChange=(t=>{this.props.onValueChange&&this.props.onValueChange(t,i.ShouldCommit.YES)})}render(){return r.createElement(a.ScrubbableControl,Object.assign({},b,this.props,{scrubbingDisabled:this.props.disabled||this.props.value===l.MIXED||null==this.props.value}),this.props.children,r.createElement(p.NumberInput,{recordingKey:this.props.recordingKey,className:this.props.inputClassName,dataTestId:this.props.dataTestId,noLeftBorder:this.props.noLeftBorder,squareRightBorder:this.props.squareRightBorder,formatter:this.props.formatter,property:this.props.value,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,disabled:void 0===this.props.disabled?null===this.props.value:this.props.disabled,placeholder:this.props.placeholder,autoFocus:this.props.autoFocus,noBorderOnFocus:!0}))}}const b={scrubMultiplier:1,wheelMultiplier:1,smallNudgeAmount:h.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:h.DEFAULT_BIG_NUDGE_AMOUNT};class g extends r.PureComponent{constructor(){super(...arguments),this.onChange=(t=>{this.props.onValueChange&&this.props.onValueChange(t,i.ShouldCommit.YES)})}render(){let t=void 0;return o.safari||(t=Object.assign(Object.assign(Object.assign({},b),this.props),{resolution:null==this.props.resolution?1:this.props.resolution})),r.createElement("div",{className:this.props.className},r.createElement(u.NumberComboBox,{id:this.props.id,inputClassName:this.props.inputClassName,dropdownClassName:this.props.dropdownClassName,formatter:this.props.formatter,property:this.props.value,onChange:this.onChange,dispatch:this.props.dispatch,disabled:this.props.disabled,dropdownShown:this.props.dropdownShown,autoFocus:this.props.autoFocus,recordingKey:this.props.recordingKey,scrubbableControlProps:t},this.props.children))}}e.ScrubbableNumberComboBox=g,g.displayName="ScrubbableNumberComboBox";class N extends r.PureComponent{constructor(){super(...arguments),this.formatter=m.memoizeLast((t,e,s,r)=>new c.PixelFormatter({min:t,max:e,smallNudgeAmount:s,bigNudgeAmount:r}))}render(){const t=this.formatter(this.props.min,this.props.max,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(g,Object.assign({},this.props,{formatter:t,valueFilter:N.valueFilter}))}}e.ScrubbablePixelComboBox=N,N.displayName="ScrubbablePixelComboBox",N.valueFilter=((t,e,s)=>{if(t.isBigIncrement){const t=s/a.postInputScrubMultiplier;return Math.round(e/t)*t}return e});class C extends r.Component{constructor(){super(...arguments),this.formatter=m.memoizeLast((t,e,s,r)=>new c.IntegerFormatter({min:t,max:e,smallNudgeAmount:s,bigNudgeAmount:r}))}render(){const t=this.formatter(this.props.min,this.props.max,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(d,Object.assign({},this.props,{resolution:null==this.props.resolution?1:this.props.resolution,formatter:t,valueFilter:C.valueFilter}))}}e.ScrubbableIntInput=C,C.valueFilter=((t,e,s)=>{if(t.isBigIncrement){const t=s/a.postInputScrubMultiplier;return Math.round(e/t)*t}return Math.round(e)});e.ScrubbablePixelInput=class extends r.Component{constructor(){super(...arguments),this.formatter=m.memoizeLast((t,e,s,r)=>new c.PixelFormatter({min:t,max:e,smallNudgeAmount:s,bigNudgeAmount:r}))}render(){const t=this.formatter(this.props.min,this.props.max,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(d,Object.assign({},this.props,{resolution:null==this.props.resolution?1:this.props.resolution,formatter:t,valueFilter:C.valueFilter}))}};e.ScrubbablePositivePixelInput=class extends r.Component{constructor(){super(...arguments),this.formatter=m.memoizeLast((t,e,s,r)=>new c.PixelFormatter({min:t,max:e,smallNudgeAmount:s,bigNudgeAmount:r}))}render(){const t=null==this.props.min?0:Math.max(this.props.min,0),e=this.formatter(t,this.props.max,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(d,Object.assign({},this.props,{resolution:null==this.props.resolution?1:this.props.resolution,min:t,formatter:e,valueFilter:C.valueFilter,onFocus:this.props.onFocus,onBlur:this.props.onBlur}))}};e.ScrubbableMillisecondsInput=class extends r.Component{constructor(t){super(t),this.formatter=new c.SecondsFormatter(c.OutputUnit.MILLISECONDS,this.getMax(t))}getMax(t){return null==t.max?10:t.max}componentDidUpdate(t){this.props.max!==t.max&&(this.formatter=new c.SecondsFormatter(c.OutputUnit.MILLISECONDS,this.getMax(t)))}render(){return r.createElement(d,Object.assign({},this.props,{resolution:null==this.props.resolution?.001:this.props.resolution,min:null==this.props.min?.001:this.props.min,max:this.getMax(this.props),formatter:this.formatter}))}};const F=Object.assign(Object.assign({},b),{scrubMultiplier:4,wheelMultiplier:2});class f extends r.Component{constructor(){super(...arguments),this.formatter=m.memoizeLast((t,e,s,r)=>new c.PercentageFormatter({min:t,max:e,smallNudgeAmount:s,bigNudgeAmount:r}))}render(){const t=null==this.props.min?0:this.props.min,e=null==this.props.max?1:this.props.max,s=this.formatter(t,e,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(d,Object.assign({},F,this.props,{min:t,max:e,formatter:s,valueFilter:f.valueFilter,postScrubMultiplier:.001,postBigNudgeAmount:.1,resolution:this.props.resolution||.01}))}}e.ScrubbablePercentageInput=f,f.valueFilter=((t,e)=>t.isBigIncrement?.1*Math.round(e/.1):e),e.ScrubbableOpacityInput=function(t){return r.createElement(f,Object.assign({},t,{"data-tooltip-type":n.TooltipType.TEXT,"data-tooltip":"Opacity",tooltipForScreenReadersOnly:!0}))};const x=new c.AngleFormatter;class S extends r.Component{render(){return r.createElement(d,Object.assign({},this.props,{formatter:x,valueFilter:S.valueFilter,postScrubMultiplier:-.5,postBigNudgeAmount:-.1,postWheelMultiplier:-.2}))}}e.ScrubbableAngleInput=S,S.valueFilter=((t,e)=>t.isBigIncrement?15*Math.round(e/15):e);class A extends r.Component{constructor(){super(...arguments),this.inLiveScrub=!1,this.onNumberScrubBegin=(t=>{this.inLiveScrub=!0}),this.onNumberScrubEnd=(t=>{this.inLiveScrub=!1})}render(){return r.createElement(a.ScrubbableControl,Object.assign({},b,this.props,{scrubbingDisabled:this.props.disabled&&!this.props.scrubbingDisabled,onScrubBegin:this.onNumberScrubBegin,onScrubEnd:this.onNumberScrubEnd}),this.props.children,r.createElement(p.FormattedInput,{disabled:this.props.disabled,className:this.props.inputClassName,formatter:this.props.numberFormatter,property:this.props.toNumber(this.props.value),source:this.inLiveScrub?"scrub":"document",onChange:this.props.onNumberChange,recordingKey:this.props.recordingKey,noBorderOnFocus:!0,shouldClearOnFocus:this.props.shouldClearOnFocus,placeholder:this.props.placeholder}))}}class v extends r.Component{constructor(){super(...arguments),this.onChange=((t,e=i.ShouldCommit.YES)=>{this.props.onValueChange&&this.props.onValueChange(t,e)}),this.getUnits=(()=>l.notMixed(this.props.value)&&this.props.value?this.props.value.units:null),this.toNumber=(t=>{if(l.notMixed(t)){if(null==t)return l.MIXED;let e=t.value,s=this.getUnits();if(this.props.multipliers&&null!=s){let t=this.props.multipliers[s];null!=t&&(e*=t)}return e}return l.MIXED}),this.toFigNumber=(t=>{const e=this.getUnits();if(l.notMixed(t)){if(null==t||null==e)return l.MIXED;const s=this.props.multipliers&&this.props.multipliers[e];return null!=s&&(t/=s),{value:t,units:e}}return l.MIXED}),this.onNumberChange=((t,e)=>{const s=this.toFigNumber(t);l.notMixed(s)&&this.onChange(s,e)}),this.onValueChange=(t=>this.onNumberChange(t,i.ShouldCommit.YES)),this.onScrubChange=(t=>this.onNumberChange(t,i.ShouldCommit.NO)),this.getFormatter=m.memoizeLast((t,e,s,r)=>void 0===t?new c.PixelPercentageFormatter({min:e,smallPixelNudgeAmount:s||h.DEFAULT_SMALL_NUDGE_AMOUNT,bigPixelNudgeAmount:r||h.DEFAULT_BIG_NUDGE_AMOUNT}):t)}render(){const t=this.getFormatter(this.props.formatter,this.props.min,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(A,{"data-tooltip-type":this.props["data-tooltip-type"],"data-tooltip":this.props["data-tooltip"],tooltipForScreenReadersOnly:this.props.tooltipForScreenReadersOnly,className:this.props.className,inputClassName:this.props.inputClassName,value:this.toNumber(this.props.value),onValueChange:this.onValueChange,onScrubChange:this.onScrubChange,toNumber:this.toFigNumber,onNumberChange:this.onChange,numberFormatter:t,disabled:this.props.disabled,min:this.props.min,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,scrubbingDisabled:this.props.disabled,shouldClearOnFocus:this.props.shouldClearOnFocus,placeholder:this.props.placeholder,recordingKey:this.props.recordingKey,dispatch:this.props.dispatch},this.props.children)}}e.ScrubbableFigNumberInput=v,v.displayName="ScrubbableFigNumberInput"}),
(function(n,o,t){n.exports={anchor:"font_picker--anchor--2FMpY raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",chevron:"font_picker--chevron--wWoD1",_panel:"font_picker--_panel--1Vek3",dropdown:"font_picker--dropdown--5_Gsc font_picker--_panel--1Vek3 _overlayBase--_overlayBase--1sCqN text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",closeButton:"font_picker--closeButton--2owS9",icon:"font_picker--icon--13kcE",picker:"font_picker--picker--iSPgq",iconLight:"font_picker--iconLight--3bhHq font_picker--icon--13kcE",iconMissingFont:"font_picker--iconMissingFont--35_pK font_picker--iconLight--3bhHq font_picker--icon--13kcE",name:"font_picker--name--1Xeod",nameMissingFont:"font_picker--nameMissingFont--oSMwa font_picker--name--1Xeod",_bar:"font_picker--_bar--1BI5L",topBar:"font_picker--topBar--3QizJ font_picker--_bar--1BI5L",topTitle:"font_picker--topTitle--2_aJF",topIcon:"font_picker--topIcon--2yW5k",topIconPlain:"font_picker--topIconPlain--3I-lX font_picker--icon--13kcE font_picker--topIcon--2yW5k",topIconHover:"font_picker--topIconHover--1xmzQ font_picker--topIconPlain--3I-lX font_picker--icon--13kcE font_picker--topIcon--2yW5k",topButton:"font_picker--topButton--2Pziz font_picker--icon--13kcE",searchBar:"font_picker--searchBar--2erdl font_picker--_bar--1BI5L",iconClearInput:"font_picker--iconClearInput--3buxy font_picker--iconLight--3bhHq font_picker--icon--13kcE font_picker--topIcon--2yW5k",moreBar:"font_picker--moreBar--2jEKX font_picker--_bar--1BI5L",moreTitle:"font_picker--moreTitle--3WUWk",selected:"font_picker--selected--2vcLs",scrollFrame:"font_picker--scrollFrame--VbVZc",_scrollFramed:"font_picker--_scrollFramed--yh2Ps",scrollContainer:"font_picker--scrollContainer--1TUS1 font_picker--_scrollFramed--yh2Ps",scrollTitle:"font_picker--scrollTitle--bhFf4 font_picker--_scrollFramed--yh2Ps",scrollBar:"font_picker--scrollBar--1Z0VA",active:"font_picker--active--2fhRs",scrollThumb:"font_picker--scrollThumb--2-toA",hinted:"font_picker--hinted--kIBSb",_contentSection:"font_picker--_contentSection--1FHee",contentMatchedSection:"font_picker--contentMatchedSection--2gO-D font_picker--_contentSection--1FHee",contentIndexedSection:"font_picker--contentIndexedSection--dkLqd font_picker--_contentSection--1FHee",contentRow:"font_picker--contentRow--whsKd",contentTitle:"font_picker--contentTitle--1BhUO font_picker--contentRow--whsKd",contentTitleEmpty:"font_picker--contentTitleEmpty--UhiD_ font_picker--contentTitle--1BhUO font_picker--contentRow--whsKd",contentMessage:"font_picker--contentMessage--1qNjp font_picker--contentRow--whsKd text--fontPos11--RSei3 text--_fontBase--YWDo0",contentItem:"font_picker--contentItem--LCK2_ font_picker--contentRow--whsKd",contentOnboardingItem:"font_picker--contentOnboardingItem--1t5nO font_picker--contentRow--whsKd",contentOnboardingText:"font_picker--contentOnboardingText--1dLwS",contentOnboardingDismiss:"font_picker--contentOnboardingDismiss--3nFgj font_picker--iconLight--3bhHq font_picker--icon--13kcE"}}),
(function(l,o,t){l.exports={src:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M5 5.71l3.646 3.647.707-.707-3.646-3.647 3.646-3.646L8.646.65 5 4.296 1.353.65l-.707.707 3.646 3.646L.646 8.65l.707.707L5 5.71z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="11" height="11" viewBox="0 0 11 11" xmlns="http://www.w3.org/2000/svg"><path d="M6.453 7.16C5.776 7.687 4.924 8 4 8 1.79 8 0 6.21 0 4c0-2.21 1.79-4 4-4 2.21 0 4 1.79 4 4 0 .924-.314 1.776-.84 2.453l3.194 3.193-.708.707L6.453 7.16zM7 4c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3 0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12.063 9.7H11c0-1.526.268-2.021 1.15-2.49.493-.263.905-.624.905-1.202 0-.692-.414-1.133-1.204-1.133-.789 0-1.216.305-1.262 1.133H9.497c.05-1.406.852-2.117 2.354-2.117 1.503 0 2.275.847 2.275 2.117 0 .855-.517 1.55-1.218 1.992-.73.46-.845.56-.845 1.7zm.224 1.558c0 .434-.355.781-.781.781-.43 0-.781-.348-.781-.781 0-.426.351-.777.78-.777.427 0 .782.351.782.777z" fill-rule="nonzero" fill-opacity="1" fill="#332f00" stroke="none"/><path d="M1.027 12l3.11-8H5.17l3.111 8H7.261l-.787-2.025h-3.64L2.046 12h-1.02zm3.627-6.705l1.45 3.73H3.203l1.45-3.73z" fill-rule="evenodd" fill-opacity="1" fill="#332f00" stroke="none"/></svg>'}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2,1    ),o=s(420              ),n=s(214         ),r=s(215                                          ),h=s(261                               ),a=s(442                             ),c=s(85                   ),d=s(232                       ),l=s(101                             ),m=s(773                                                    ),p=s(113                                     ),u=s(207                                   ),g=s(717                               ),f=s(88           ),v=s(316                                   ),w=s(314              ),M=s(146                        ),b=s(147                                            ),S=s(520                                           ),y=s(409                                  ),F=s(974                ),D=s(422                                        ),O=s(141              ),E=s(150                         ),k=s(958                                            ),I=s(151                           ),x=s(975                           ),T=s(976                                 ),_=s(514                                                ),B=s(551                                 ),N=s(550                               ),P=s(977                                                  ),C="fontPickerOnboardingState",K=o.pxToInt(D.gridBasis),L=o.pxToInt(D.toolbarHeight),q=o.pxToInt(D.objectRowHeight),A="__FONT_DROPDOWN",j=28*K,R=54.25*K,U=20*K,H=l.FONT_PICKER_ID,W=o.pxToInt(D.rightNavWidth),$=K,V=55.5*K,Q=25*K,Y=1,X=11*K,G=K,J=3*K,z=3*K,Z=K,tt=G+z+Z,et=2,st=K,it=["Anonymous Pro","Helvetica Neue","Lato","Roboto","Segoe","Source Sans Pro","Source Serif Pro","SF Pro Text"],ot=(t,e)=>(t.sort((t,s)=>{const[i,o]=[t.startsWith("."),e&&-1===e.indexOf(t)],[n,r]=[s.startsWith("."),e&&-1===e.indexOf(s)];return o===r?i===n?t.localeCompare(s):i?1:-1:o?1:-1}),t=(t=t.filter((t,e,s)=>e===s.indexOf(t))).filter(t=>"?????"!==t));class nt{constructor(t){this.items=Object.keys(t),this.items.sort((e,s)=>t[e]>t[s]?-1:t[e]<t[s]?1:0),this.height=G+this.items.length*z+Z,this.begin=new rt(this),this.end=new rt(this)}}class rt{constructor(t){this.content=t,this.tail=0,this.header=0,this.item=0,this.footer=0,this.head=0}set offset(t){if(t<=0)this.tail=0,this.header=0,this.item=0,this.footer=0,this.head=0;else if(t>=this.content.height)this.tail=this.content.height,this.header=1,this.item=this.content.items.length,this.footer=1,this.head=0;else if(this.tail=0,this.header=0,this.item=0,this.footer=0,this.head=t,this.header=this.head>=G?1:0,this.header&&(this.tail+=G,this.head-=G,this.item=Math.min(Math.floor(this.head/z),this.content.items.length),this.item)){const t=this.item*z;this.tail+=t,this.head-=t,this.item===this.content.items.length&&(this.footer=this.head>=Z?1:0,this.footer&&(this.tail+=Z,this.head-=Z))}}get offset(){return this.tail+this.head}}class ht{constructor(t){this.sections=t,this.height=t.reduce((t,e)=>t+e.height,0),this.begin=new mt(this),this.end=new mt(this)}}var at,ct,dt;!function(t){t[t.LocalFonts=1]="LocalFonts",t[t.FavoriteFonts=2]="FavoriteFonts"}(at||(at={}));class lt{constructor(t,e,s,i){this.title=t,this.items=ot(e,s),this.height=G+J+this.items.length*z+Z,this.onboardingType=i,this.onboardingType&&(this.height+=X)}}class mt{constructor(t){this.content=t,this.tail=0,this.section=0,this.middle=0,this.header=0,this.title=0,this.item=0,this.footer=0,this.head=0}reset(t){this.content=t,this.tail=0,this.section=0,this.middle=0,this.header=0,this.title=0,this.item=0,this.footer=0,this.head=0}set offset(t){if(t<=0)this.tail=0,this.section=0,this.middle=0,this.header=0,this.title=0,this.item=0,this.footer=0,this.head=0;else if(t>=this.content.height)this.tail=this.content.height-this.content.sections[this.content.sections.length-1].height,this.section=this.content.sections.length-1,this.middle=this.content.sections[this.content.sections.length-1].height,this.header=1,this.title=1,this.item=this.content.sections[this.content.sections.length-1].items.length,this.footer=1,this.head=0;else{for(;this.section>0&&this.tail>t;)--this.section,this.tail-=this.content.sections[this.section].height;for(;this.section<this.content.sections.length-1&&this.tail+this.content.sections[this.section].height<=t;)this.tail+=this.content.sections[this.section].height,++this.section;if(this.middle=0,this.header=0,this.title=0,this.item=0,this.footer=0,this.head=t-this.tail,this.header=this.head>=G?1:0,this.header&&(this.middle+=G,this.head-=G,this.title=this.head>=J?1:0,this.title&&(this.middle+=J,this.head-=J,this.item=Math.min(Math.floor(this.head/z),this.content.sections[this.section].items.length),this.item))){const t=this.item*z;this.middle+=t,this.head-=t,this.item===this.content.sections[this.section].items.length&&(this.footer=this.head>=Z?1:0,this.footer&&(this.middle+=Z,this.head-=Z))}}}get offset(){return this.tail+this.middle+this.head}}class pt extends O.PureComponent{constructor(){super(...arguments),this.onChange=O.changeEvent(this,"change",t=>{this.props.onChange&&this.props.onChange(t)})}render(){return i.createElement("input",{placeholder:"Search",value:this.props.searchQuery,onChange:this.onChange,ref:this.props.setSearchInputElement})}}function ut(t){return t.dropdownShown&&t.dropdownShown.type===A}function gt(t){return t.pickerShown&&t.pickerShown.id===H}e.dropdownShown=ut,e.pickerShown=gt,function(t){t[t.anchor=0]="anchor",t[t.dropdown=1]="dropdown",t[t.picker=2]="picker",t[t.favorite=3]="favorite"}(ct||(ct={})),function(t){t[t.hidden=0]="hidden",t[t.hinted=1]="hinted",t[t.active=2]="active"}(dt||(dt={}));e.FontBrowser=class extends O.PureComponent{constructor(t){super(t),this.mouse=null,this.clampDimensions=((t,e,s,i)=>{const o=window.innerHeight;let[n,r]=[t,e],h=0;return n+r>o-s&&(n=o-s-r),n<L+s&&(n=L+s,h=Math.max(0,n-t)),n+r>o-s&&(r=o-s-n,h+=Math.max(0,r-e)),r<i&&(r=i),[n,r,h]}),this.updateMatched=(t=>{const e=h.FontHelpers.searchForFonts(t);this.matched=new nt(e)}),this.updateEmployed=(()=>{const t=Object.keys(h.FontHelpers.collectDocumentFonts());this.employed=new lt("In this document",t,Object.keys(this.props.fonts))}),this.readFavorites=(()=>{this.favorites=this.props.userFavoriteFonts}),this.toggleFavorite=(t=>{const e=this.favorites.indexOf(t);-1===e?(this.favorites.push(t),this.state.onboardingState.favoriteFontsOnboardingDismissed||this.setOnboardingState({favoriteFontsOnboardingDismissed:!0})):this.favorites.splice(e,1),this.refreshIndexed()}),this.writeFavorites=(()=>{this.props.dispatch(g.favoriteFonts.setFavoriteFonts(this.favorites))}),this.updateFavorited=(t=>{let e=this.favorites;t!==ct.favorite||e.length?t===ct.picker&&this.shouldShowOnboardingMessageForType(at.FavoriteFonts,t)?this.favorited=new lt("Favorites",e,void 0,at.FavoriteFonts):this.favorited=new lt("Favorites",e,Object.keys(this.props.fonts)):(e=["Click stars to select favorites"],this.favorited=new lt("Favorites",e,Object.keys(this.props.fonts)))}),this.updateAvailable=(t=>{const e=[],s=[],i=[],o=[];for(let r of Object.keys(this.props.fonts))for(let t of Object.keys(this.props.versionsForStyles[r])){-1!==it.indexOf(r)&&e.push(r);const n=this.props.versionsForStyles[r][t];switch(this.props.fonts[r][n].source){case h.FontSource.SHARED:s.push(r);break;case h.FontSource.LOCAL:i.push(r);break;case h.FontSource.GOOGLE:o.push(r)}}const n=r.fullscreen.currentOrgId(),a=r.fullscreen.currentTeamId(),c=n&&this.props.orgById[n]?this.props.orgById[n].name:a&&this.props.teams[a]?this.props.teams[a].name:"Shared",d=this.shouldShowOnboardingMessageForType(at.LocalFonts,t);this.popular=new lt("Popular fonts",e),this.shared=new lt(`${c} fonts`,s),this.local=new lt("On this computer",i,void 0,d?at.LocalFonts:void 0),this.google=new lt("Google Fonts",o)}),this.readOnboardingState=(()=>{const t=f.getLocalStorageOrNull();if(t)try{if(t[C])return JSON.parse(t[C])}catch(e){console.error("Failed to read onboarding state",e)}return{favoriteFontsOnboardingDismissed:!1,localFontsOnboardingDismissed:!1}}),this.setOnboardingState=(t=>{const e=Object.assign(this.state.onboardingState,t);this.setState({onboardingState:e});const s=f.getLocalStorageOrNull();if(s){try{return void s.setItem(C,JSON.stringify(e))}catch(i){console.error("Failed to write onboarding state",i)}s.removeItem(C)}}),this.shouldShowOnboardingMessageForType=((t,e)=>{if(e!==ct.picker)return!1;if(t===at.LocalFonts){if(!this.state.onboardingState.localFontsOnboardingDismissed)return w.supportsFontDaemon()&&!v.hasLocalFonts()}else if(t===at.FavoriteFonts&&!this.state.onboardingState.favoriteFontsOnboardingDismissed)return 0===this.favorites.length;return!1}),this.updateIndexed=(t=>{let e=[];switch(this.updateEmployed(),this.updateFavorited(t),this.updateAvailable(t),t){case ct.dropdown:e=[this.employed],e=this.favorited.items.length||this.shared.items.length?e.concat([this.favorited,this.shared]):e.concat([this.popular]);break;case ct.picker:e=[this.employed,this.favorited,this.shared,this.local],this.favorited.items.length||this.shared.items.length||(e=e.concat([this.popular])),e=e.concat([this.google]);break;case ct.favorite:e=[this.favorited,this.employed],e=(e=this.favorited.items.length||this.shared.items.length?e.concat([this.shared]):e.concat([this.popular])).concat([this.local,this.google])}const s=e.filter(t=>t&&(t.items.length||t.onboardingType));this.indexed=new ht(s)}),this.refreshIndexed=(()=>{this.updateIndexed(this.state.mode),this.indexed.begin.offset=this.state.scroll,this.indexed.end.offset=this.state.scroll+this.state.height,this.forceUpdate()}),this.font=null,this.updateFont=(t=>{this.font=a.getValueOrNull(t),this.state.mode!==ct.anchor&&(this.updateIndexed(this.state.mode),this.indexed.begin.offset=this.state.scroll,this.indexed.end.offset=this.state.scroll+this.state.height)}),this.writeFont=(t=>{r.fullscreen.updateSelectionProperties({fontFamily:t})}),this.updateMode=(t=>{const e=this.row.getBoundingClientRect();let s=this.state.query,i=this.state.position,o=this.state.height,r=0;switch(t){case ct.anchor:s="",i=null,o=0;break;case ct.dropdown:{this.readFavorites(),this.updateIndexed(t);const s=this.font?this.employed.items.indexOf(this.font):0,h=e.top-2*tt-s*z+K,a=Math.min(R,this.indexed.height+2*tt),[c,d,l]=this.clampDimensions(h,a,K,U);i=new n.Vector(e.left,c),o=d-2*tt,r=l;break}case ct.picker:if(this.state.mode===ct.favorite)this.writeFavorites(),s="";else{this.shouldFocusOnInput=!0,this.readFavorites();const t=e.top-(tt-q)/2,s=V+2*tt,[r,h]=this.clampDimensions(t,s,K,Q);i=new n.Vector(e.left-W-$,r),o=h-2*tt}this.updateIndexed(t);break;case ct.favorite:this.updateIndexed(t)}this.indexed.begin.offset=r,this.indexed.end.offset=o+r,this.setState({mode:t,query:s,position:i,section:-1,item:-1,scroll:r,height:o})}),this.updateQuery=(t=>{this.updateMatched(t);let e=this.state.position,s=this.state.height,i=0,o=0;if(!this.state.query&&t&&this.state.mode===ct.dropdown){const t=e.y,i=R,[o,r]=this.clampDimensions(t,i,K,U);e=new n.Vector(e.x,o),s=r-tt}if(this.state.query&&!t){if(this.state.mode===ct.dropdown){const t=e.y,i=Math.min(R,this.indexed.height+2*tt),[o,r]=this.clampDimensions(t,i,K,U);e=new n.Vector(e.x,o),s=r-2*tt}i=-1,o=-1}this.matched.begin.offset=0,this.matched.end.offset=s,this.setState({query:t,position:e,section:i,item:o,scroll:0,height:s,pickerTriggerButtonActive:!1})}),this.incrementScroll=(t=>{const e=this.state.height;t>0&&(this.state.query?(this.matched.end.offset=this.matched.begin.offset+t+e,this.matched.begin.offset=this.matched.end.offset-e):(this.indexed.end.offset=this.indexed.begin.offset+t+e,this.indexed.begin.offset=this.indexed.end.offset-e)),t<0&&(this.state.query?(this.matched.begin.offset=this.matched.end.offset+t-e,this.matched.end.offset=this.matched.begin.offset+e):(this.indexed.begin.offset=this.indexed.end.offset+t-e,this.indexed.end.offset=this.indexed.begin.offset+e));const s=this.state.query?this.matched.begin.offset:this.indexed.begin.offset;this.setState({scroll:s})}),this.getIncrementMargin=(()=>this.state.mode===ct.dropdown?0:4.5*K),this.incrementOverflowed=!1,this.incrementItem=(()=>{if(-1===this.state.section&&-1===this.state.item&&this.state.mode===ct.dropdown&&this.state.pickerTriggerButtonActive)return;let t=Math.max(0,this.state.section),e=Math.max(0,this.state.item+1),s=0,i=z;if(this.state.query){if(e===this.matched.items.length)return;s+=G+z*(e+1)}else{if(e===this.indexed.sections[t].items.length){if(++t===this.indexed.sections.length)return void(this.state.mode===ct.dropdown&&this.setState({section:-1,item:-1,pickerTriggerButtonActive:!0}));e=0,i+=J+Z}for(let e=0;e<t;e++)s+=this.indexed.sections[e].height;s+=J+z*(e+1)}if(this.incrementOverflowed)this.incrementScroll(i);else{const t=this.getIncrementMargin();s>this.state.scroll+this.state.height-t&&(i=s-this.state.scroll-this.state.height,i+=Math.min(Math.max(.1*this.state.height-z/2,t),16*K),this.incrementOverflowed=!0,this.incrementScroll(i))}this.decrementOverflowed=!1,this.setState({section:t,item:e,pickerTriggerButtonActive:!1})}),this.decrementOverflowed=!1,this.decrementItem=(()=>{if(-1===this.state.section&&-1===this.state.item&&this.state.mode===ct.dropdown&&this.state.pickerTriggerButtonActive)return void this.setState({section:this.indexed.sections.length-1,item:this.indexed.sections[this.indexed.sections.length-1].items.length-1,pickerTriggerButtonActive:!1});let t=this.state.section,e=this.state.item-1,s=0,i=-z;if(this.state.query){if(-1===e)return;s+=G+z*e}else{if(-1===e){if(-1==--t)return;e=this.indexed.sections[t].items.length-1,i-=J+Z}for(let e=0;e<t;e++)s+=this.indexed.sections[e].height;s+=J+z*e}if(this.decrementOverflowed)this.incrementScroll(i);else{const t=this.getIncrementMargin();s<this.state.scroll+J+t&&(i=s-this.state.scroll-J,i-=Math.min(Math.max(.1*this.state.height-z/2,t),16*K),this.decrementOverflowed=!0,this.incrementScroll(i))}this.incrementOverflowed=!1,this.setState({section:t,item:e,pickerTriggerButtonActive:!1})}),this.scrollInBar=!1,this.scrollInFrame=!1,this.scrollIsDragging=!1,this.setScrollFrame=(t=>{t&&t.addEventListener("wheel",this.onScrollWheel,{passive:!1})}),this.onScrollFrameMouseOver=(t=>{this.scrollInFrame=!0,!this.scrollInBar&&this.setState({scrollBarMode:this.scrollIsDragging?dt.active:dt.hinted})}),this.onScrollFrameMouseOut=(t=>{this.scrollInFrame=!1,!this.scrollInBar&&this.setState({scrollBarMode:this.scrollIsDragging?dt.active:dt.hidden})}),this.onScrollWheel=(t=>{if(t.ctrlKey)return;t.stopPropagation();const e=t.deltaY;this.incrementOverflowed=!1,this.decrementOverflowed=!1,this.incrementScroll(e)}),this.onScrollBarMouseEnter=(t=>{t.stopPropagation(),this.mouse||this.setState({scrollBarMode:dt.active}),this.scrollInBar=!0}),this.onScrollBarMouseDown=(t=>{if(2!==t.button){this.scrollIsDragging=!0,t.stopPropagation(),this.mouse=new n.Vector(t.pageX,t.pageY);const e=this.state.height,s=this.state.query?this.matched.height:this.indexed.height,i=e-st-2*et,o=i*e/s;let r=this.mouse.y-this.state.position.y;if(r-=2*tt+3*Y,(r-=et+st/2+o/2)<0)this.incrementScroll(-s);else if(r>i-o)this.incrementScroll(s);else{const t=s/i*(r-this.state.scroll*(i/s));this.incrementScroll(t)}document.addEventListener("mousemove",this.onScrollThumbMouseMove),document.addEventListener("mouseup",this.onScrollMouseUp)}}),this.onScrollBarMouseLeave=(t=>{t.stopPropagation(),this.scrollInBar=!1,!this.scrollIsDragging&&this.setState({scrollBarMode:this.scrollInFrame?dt.hinted:dt.hidden})}),this.onScrollThumbMouseDown=(t=>{2!==t.button&&(this.scrollIsDragging=!0,t.stopPropagation(),this.mouse=new n.Vector(t.pageX,t.pageY),document.addEventListener("mousemove",this.onScrollThumbMouseMove),document.addEventListener("mouseup",this.onScrollMouseUp))}),this.onScrollThumbMouseMove=(t=>{t.stopPropagation();const e=new n.Vector(t.pageX,t.pageY),s=this.state.height,i=this.state.query?this.matched.height:this.indexed.height,o=s-st-2*et,r=o*s/i;let h=this.mouse.y-this.state.position.y;if(h-=2*tt+3*Y,(h-=et+st/2+r/2)<0)this.incrementScroll(-i);else if(h>o-r)this.incrementScroll(i);else{const t=e.subtract(this.mouse).y*(i/o);this.incrementScroll(t)}this.mouse=e}),this.onScrollMouseUp=(t=>{if(2!==t.button){this.scrollIsDragging=!1,t.stopPropagation(),this.incrementOverflowed=!1,this.decrementOverflowed=!1,this.mouse=null;let e=dt.hidden;this.scrollInBar?e=dt.active:this.scrollInFrame&&(e=dt.hinted),this.setState({scrollBarMode:e}),document.removeEventListener("mousemove",this.onScrollThumbMouseMove),document.removeEventListener("mouseup",this.onScrollMouseUp)}}),this.onItemMouseDown=((t,e,s)=>{s.stopPropagation()}),this.onItemMouseUp=((t,e,s)=>{if(!this.anchorMouseDownState)if(s.stopPropagation(),this.state.mode===ct.favorite)this.toggleFavorite(t);else{if(e)return void s.preventDefault();this.state.mode===ct.dropdown&&this.hideDropdown(),this.writeFont(t)}}),this.onItemMouseEnter=((t,e,s,i)=>{i.stopPropagation(),this.mouse||this.incrementOverflowed||this.decrementOverflowed||(s?this.setState({section:-1,item:-1}):this.setState({section:t,item:e}))}),this.onItemMouseMove=((t,e,s)=>{s.stopPropagation(),this.mouse||this.state.section===t&&this.state.item===e||(this.incrementOverflowed=!1,this.decrementOverflowed=!1,this.setState({section:t,item:e,pickerTriggerButtonActive:!1}))}),this.onItemMouseLeave=(t=>{t.stopPropagation(),this.mouse||this.incrementOverflowed||this.decrementOverflowed||this.setState({section:-1,item:-1})}),this.input=null,this.shouldFocusOnInput=!1,this.setSearchInputElement=(t=>{t&&(this.shouldFocusOnInput?(t.focus(),this.shouldFocusOnInput=!1):(this.state.mode===ct.dropdown&&(t.focus(),t.value=this.state.query),this.state.mode===ct.picker&&(t.blur(),t.value=""),this.state.mode===ct.favorite&&(t.blur(),t.value=this.state.query)),this.input=t)}),this.onInputKeyDown=(t=>{this.onKeyDown(t.keyCode)&&(t.stopPropagation(),t.preventDefault())}),this.onKeyboardKeyDown=(t=>{this.onKeyDown(t.event.keyCode)&&t.accept()}),this.onInputFocus=(t=>{t.stopPropagation(),this.input&&this.input.focus()}),this.onInputUpdate=(t=>{this.updateQuery(t.currentTarget.value)}),this.onContainerClick=(t=>{t.stopPropagation(),"SHIFT_KEY_HELD_ON_MOUSE_DOWN"===this.anchorMouseDownState&&this.showPicker(),this.anchorMouseDownState=void 0}),this.row=null,this.setRow=(t=>{t&&(this.row=t)}),this.onAnchorMouseDown=(t=>{this.anchorMouseDownState=t.shiftKey?"SHIFT_KEY_HELD_ON_MOUSE_DOWN":"MOUSE_DOWN",t.shiftKey||this.showDropdown()}),this.showDropdown=(()=>{gt(this.props)&&this.props.dispatch(u.fullscreen.hidePicker()),this.setState({pickerTriggerButtonActive:!1}),this.props.dispatch(p.fileBrowser.showDropdown({type:A}))}),this.onDropdownMouseDown=(t=>{t.stopPropagation(),this.anchorMouseDownState=void 0}),this.onDropdownMouseMove=(t=>{this.anchorMouseDownState=void 0}),this.onDropdownMoreButtonMouseUp=(t=>{this.anchorMouseDownState||this.showPicker()}),this.onDropdownMoreButtonMouseMove=(t=>{this.setState({section:-1,item:-1,pickerTriggerButtonActive:!0})}),this.onDropdownMoreButtonMouseLeave=(t=>{this.setState({pickerTriggerButtonActive:!1})}),this.hideDropdown=(()=>{this.setState({pickerTriggerButtonActive:!1}),this.props.dispatch(p.fileBrowser.hideDropdown())}),this.showPicker=(t=>{t&&t.stopPropagation(),ut(this.props)&&this.props.dispatch(p.fileBrowser.hideDropdown()),this.props.dispatch(u.fullscreen.showPicker({id:H}))}),this.onPickerModalDragEnd=(t=>{this.setState({position:t})}),this.hidePicker=(()=>{this.props.dispatch(u.fullscreen.hidePicker()),this.state.mode===ct.favorite&&this.writeFavorites()}),this.showFavorite=(t=>{t.stopPropagation(),this.state.mode===ct.picker&&this.updateMode(ct.favorite)}),this.hideFavorite=(t=>{t.stopPropagation(),this.state.mode===ct.favorite&&this.updateMode(ct.picker)}),this.renderItem=((t,e,s)=>{let o=-1===Object.keys(this.props.fonts).indexOf(s);const n=`${F.contentItem}  ${!o&&t===this.state.section&&e===this.state.item&&F.selected}`;let r,h;this.state.mode===ct.favorite?-1===this.favorites.indexOf(s)?(h=B,r=F.iconLight):(h=N,r=F.icon):this.font===s?(h=_,r=F.icon):(h=null,r=F.icon);let a=null,c=null;return o&&(c=P,a=F.iconMissingFont),i.createElement(E.RecordableDiv,{recordingKey:O.joinKeys(this.props,`section.${t}.item.${e}`),className:n,key:e,onMouseDown:this.onItemMouseDown.bind(this,s,o),onMouseUp:this.onItemMouseUp.bind(this,s,o),onMouseEnter:this.onItemMouseEnter.bind(this,t,e,o),onMouseMove:this.onItemMouseMove.bind(this,t,e),onMouseLeave:this.onItemMouseLeave},i.createElement("div",{className:r},h&&i.createElement(M.Svg,{svg:h})),i.createElement("div",{className:o?F.nameMissingFont:F.name},s),a&&i.createElement("div",{className:a},c&&i.createElement(M.Svg,{svg:c,"data-tooltip-show-above":!0,"data-tooltip-max-width":300,"data-tooltip-type":d.TooltipType.TEXT,"data-tooltip":"Font not available on this computer"})))}),this.renderMessage=((t,e)=>i.createElement("div",{className:F.contentMessage,key:t},e)),this.onOnboardingFavoriteFontsClick=(()=>{this.updateMode(ct.favorite)}),this.onOnboardingFavoriteFontsDismiss=(()=>{this.setOnboardingState({favoriteFontsOnboardingDismissed:!0}),this.refreshIndexed()}),this.onOnboardingLocalFontsClick=(()=>{w.openFontSettings(),this.hidePicker()}),this.onOnboardingLocalFontsDismiss=(()=>{this.setOnboardingState({localFontsOnboardingDismissed:!0}),this.refreshIndexed()}),this.renderOnboarding=(t=>i.createElement("div",{key:0,style:{height:X}},t===at.FavoriteFonts&&i.createElement("div",{className:F.contentOnboardingItem},i.createElement("div",{className:F.contentOnboardingText},"Choose your favorite fonts and get faster access to them."),i.createElement(b.ButtonSecondary,{onClick:this.onOnboardingFavoriteFontsClick},"Pick Favorite Fonts")),t===at.LocalFonts&&i.createElement("div",{className:F.contentOnboardingItem},i.createElement("div",{className:F.contentOnboardingText},"Use your computer’s local fonts in Figma by installing Font Helper."),i.createElement(b.ButtonSecondary,{onClick:this.onOnboardingLocalFontsClick},"Install Font Helper")))),this.renderSection=((t,e,s,o,n)=>{const r=this.state.mode===ct.favorite&&0===t&&!this.favorites.length&&!this.state.query,h=this.state.query?F.contentMatchedSection:F.contentIndexedSection;return i.createElement("div",{className:h,key:t},o&&this.renderContentTitle(o,n),r&&s.map((t,s)=>this.renderMessage(e+s,t)),!r&&s.map((s,i)=>this.renderItem(t,e+i,s)),n&&this.renderOnboarding(n))}),this.renderContentTitle=((t,e)=>i.createElement("div",{className:F.contentTitle},t,e===at.FavoriteFonts&&i.createElement("div",{className:F.contentOnboardingDismiss,onClick:this.onOnboardingFavoriteFontsDismiss},i.createElement(M.Svg,{svg:I})),e===at.LocalFonts&&i.createElement("div",{className:F.contentOnboardingDismiss,onClick:this.onOnboardingLocalFontsDismiss},i.createElement(M.Svg,{svg:I})))),this.renderTitle=(()=>{const t=this.indexed.sections[this.indexed.begin.section],e=t.title,s=t.height,o=this.indexed.begin.middle+this.indexed.begin.head+G+J+Z,n=Math.min(0,s-o);return i.createElement("div",{className:F.scrollTitle,style:{top:n}},this.renderContentTitle(e,t.onboardingType))}),this.renderScrollbar=(()=>{const t=this.state.query?this.matched.height:this.indexed.height;if(t<=this.state.height)return null;const e=this.state.scroll,s=this.state.height,o=s-st-2*et,n=Math.round(et+o*e/t),r=Math.round(st+o*s/t);let h="";this.state.scrollBarMode===dt.hinted&&(h=F.hinted),this.state.scrollBarMode===dt.active&&(h=F.active);const a=`${F.scrollBar} ${h}`,c=`${F.scrollThumb}  ${h}`;return i.createElement("div",{className:a,onMouseEnter:this.onScrollBarMouseEnter,onMouseDown:this.onScrollBarMouseDown,onMouseLeave:this.onScrollBarMouseLeave},i.createElement("div",{className:c,onMouseDown:this.onScrollThumbMouseDown,style:{top:n,height:r}}))}),this.renderMatchedNone=(()=>i.createElement(E.RecordableDiv,{className:F.contentTitleEmpty,recordingKey:O.joinKeys(this.props,"noMatch"),onClick:t=>{}},"No fonts match this search.")),this.renderMatched=(()=>{const t=this.matched.begin.item,e=this.matched.end.item,s=this.matched.items.slice(t,e+1),o=this.renderSection(0,t,s),n=this.state.height,r=-this.matched.begin.head-(this.matched.begin.header?G:0),h=0!==s.length;return i.createElement("div",{className:F.scrollFrame,onMouseOver:this.onScrollFrameMouseOver,onMouseOut:this.onScrollFrameMouseOut,ref:this.setScrollFrame,style:{height:n}},i.createElement("div",{className:F.scrollContainer,style:{top:r}},h?o:this.renderMatchedNone()),(this.state.mode===ct.picker||this.state.mode===ct.favorite)&&this.renderScrollbar())}),this.renderIndexed=(()=>{const t=this.indexed.begin.section,e=this.indexed.end.section,s=this.indexed.sections.slice(t,e+1),o=s.map((e,i)=>{let o=e.title,n=0,r=e.items.length-1;0===i&&(n=this.indexed.begin.item,this.indexed.begin.title&&(o="")),i===s.length-1&&(r=this.indexed.end.item,this.indexed.end.title||(r=0));const h=e.items.slice(n,r+1);return this.renderSection(t+i,n,h,o,e.onboardingType)}),n=this.state.height,r=-this.indexed.begin.head-(this.indexed.begin.header?G:0);return i.createElement("div",{className:F.scrollFrame,onMouseOver:this.onScrollFrameMouseOver,onMouseOut:this.onScrollFrameMouseOut,ref:this.setScrollFrame,style:{height:n}},i.createElement("div",{className:F.scrollContainer,onMouseLeave:this.onScrollFrameMouseOut,style:{top:r}},o),this.renderTitle(),(this.state.mode===ct.picker||this.state.mode===ct.favorite)&&this.renderScrollbar())}),this.renderPickerTop=(()=>i.createElement("div",{className:F.topBar},i.createElement("div",{className:F.topTitle},"Fonts"),i.createElement("div",{className:F.topIconHover,onMouseDown:this.showFavorite},i.createElement(M.Svg,{svg:B})),i.createElement(E.RecordableDiv,{className:F.topIconPlain,recordingKey:O.joinKeys(this.props,"hidePickerButton"),onMouseDown:this.hidePicker},i.createElement(M.Svg,{svg:I})))),this.renderFavoriteTop=(()=>i.createElement("div",{className:F.topBar},i.createElement("div",{className:F.topTitle},"Editing Favorites"),i.createElement("div",{className:F.topButton,onMouseDown:this.hideFavorite},"Done"))),this.renderSearch=(()=>i.createElement(E.RecordableDiv,{recordingKey:O.joinKeys(this.props,"searchBar"),className:F.searchBar,onClick:this.onInputFocus,onKeyDown:this.onInputKeyDown},i.createElement("div",{className:F.icon},i.createElement(M.Svg,{svg:T})),i.createElement(pt,{recordingKey:O.joinKeys(this.props,"searchInput"),searchQuery:this.state.query,onChange:this.onInputUpdate,setSearchInputElement:this.setSearchInputElement}),this.state.query?i.createElement(E.RecordableDiv,{className:F.iconClearInput,recordingKey:O.joinKeys(this.props,"searchBarClearInput"),onMouseDown:t=>this.clearInput(t)},i.createElement(M.Svg,{svg:this.state.mode===ct.dropdown?x:I})):i.createElement(i.Fragment,null))),this.renderMore=(()=>i.createElement("div",{className:F.moreBar},i.createElement(E.RecordableDiv,{className:`${F.moreTitle} ${this.state.pickerTriggerButtonActive&&F.selected}`,recordingKey:O.joinKeys(this.props,"moreFonts"),onMouseUp:this.onDropdownMoreButtonMouseUp,onMouseEnter:this.onDropdownMoreButtonMouseMove,onMouseLeave:this.onDropdownMoreButtonMouseLeave},i.createElement("div",null,"More fonts…")))),this.renderDropdown=(()=>i.createElement(S.KeyboardReceiver,{name:"font-dropdown",handleKeyDown:this.onKeyboardKeyDown,focusOnMount:!0,propagateKeyboardFocus:!0},i.createElement(E.RecordableDiv,{className:F.dropdown,recordingKey:O.joinKeys(this.props,"dropdown"),style:{left:this.state.position.x,top:this.state.position.y,width:j},onMouseDown:this.onDropdownMouseDown,onMouseMove:this.onDropdownMouseMove},this.renderSearch(),this.state.query&&this.renderMatched(),!this.state.query&&this.renderIndexed(),!this.state.query&&this.renderMore()),c.getFeatureFlags().modal_dropdown_menus&&i.createElement(y.dropdown.DropdownModalScrim,{dispatch:this.props.dispatch,recordingKey:"dropdownModalScrim"}))),this.ignoreCloseShortcut=(()=>this.props.editModeType===h.EditModeType.TEXT),this.renderIndependent=(()=>{let t="Fonts";return this.state.mode===ct.picker&&(t=this.renderPickerTop()),this.state.mode===ct.favorite&&(t=this.renderFavoriteTop()),i.createElement(m.DraggableModal,{title:t,headerSize:"small",initialPosition:this.state.position,initialWidth:W,initialHeight:V,ignoreCloseShortcut:this.ignoreCloseShortcut(),contentContainerClassName:F.picker,closeButtonClassName:F.closeButton,onDragEnd:this.onPickerModalDragEnd},i.createElement(S.KeyboardReceiver,{name:"font-picker",handleKeyDown:this.onKeyboardKeyDown,focusOnMount:!0,propagateKeyboardFocus:!0},this.renderSearch(),this.state.query&&this.renderMatched(),!this.state.query&&this.renderIndexed()))}),this.state={position:null,mode:ct.anchor,query:"",scroll:0,height:0,section:0,item:0,scrollBarMode:dt.hidden,pickerTriggerButtonActive:!1,onboardingState:this.readOnboardingState()}}clearInput(t){t.preventDefault(),t.stopPropagation(),this.input.value="",this.state.query&&this.updateQuery("")}onKeyDown(t){switch(t){case 27:if(this.input&&(this.input.value=""),this.state.query)this.updateQuery("");else if(this.state.mode===ct.dropdown&&this.hideDropdown(),this.state.mode===ct.picker){if(this.ignoreCloseShortcut())return!1;this.hidePicker()}return!0;case 13:if(this.state.mode===ct.dropdown&&this.state.pickerTriggerButtonActive)return this.showPicker(),void this.setState({pickerTriggerButtonActive:!1});let e="";switch(e=this.state.query?this.matched.items[this.state.item]:this.indexed.sections[this.state.section].items[this.state.item],this.state.mode){case ct.dropdown:this.writeFont(e),this.hideDropdown();break;case ct.picker:this.writeFont(e);break;case ct.favorite:this.toggleFavorite(e)}return!0;case 40:return this.incrementItem(),!0;case 38:return this.decrementItem(),!0}return!1}UNSAFE_componentWillMount(){this.updateFont(this.props.fontFamily)}UNSAFE_componentWillReceiveProps(t,e){this.props.fontFamily!==t.fontFamily&&this.updateFont(t.fontFamily),!ut(this.props)&&ut(t)?this.updateMode(ct.dropdown):ut(this.props)&&!ut(t)&&this.updateMode(ct.anchor),!gt(this.props)&&gt(t)?this.updateMode(ct.picker):gt(this.props)&&!gt(t)&&(ut(t)||this.updateMode(ct.anchor))}render(){return i.createElement(E.RecordableDiv,{className:this.props.className||"",recordingKey:O.joinKeys(this.props,"container"),onClick:this.onContainerClick},i.createElement("div",{ref:this.setRow},i.createElement(E.RecordableDiv,{className:`${F.anchor}`,recordingKey:O.joinKeys(this.props,"anchor"),onMouseDown:this.onAnchorMouseDown},i.createElement("div",null,this.font||"Mixed"),i.createElement("div",{className:F.chevron},i.createElement(M.Svg,{svg:k})))),this.state.mode===ct.dropdown&&this.renderDropdown(),this.state.mode===ct.picker&&this.renderIndependent(),this.state.mode===ct.favorite&&this.renderIndependent())}}}),
(function(e,t,n){e.exports={singleRowHeight:"segmented_control--singleRowHeight--3qRyf",doubleRowHeight:"segmented_control--doubleRowHeight--1XyJB",input:"segmented_control--input--1TZS3 segmented_control--singleRowHeight--3qRyf",border:"segmented_control--border--11-g_",borderFocusWithin:"segmented_control--borderFocusWithin--gVEjA",iconInsideBorderFocusWithin:"segmented_control--iconInsideBorderFocusWithin--23GXT",rowSelectedSecondary:"segmented_control--rowSelectedSecondary--1lot4 segmented_control--rowSelected--3FF1r",selectHiddenInput:"segmented_control--selectHiddenInput--3-185",iconButton:"segmented_control--iconButton--3X99O",borderFocus:"segmented_control--borderFocus--30e4o",multiValueInput:"segmented_control--multiValueInput--2LP43 segmented_control--borderFocusWithin--gVEjA",base:"segmented_control--base--3nkUY",label:"segmented_control--label--kuoia segmented_control--base--3nkUY",labelInactive:"segmented_control--labelInactive--33n4h segmented_control--label--kuoia segmented_control--base--3nkUY",textInput:"segmented_control--textInput--3GJEh segmented_control--base--3nkUY segmented_control--input--1TZS3 segmented_control--singleRowHeight--3qRyf",textAreaInput:"segmented_control--textAreaInput--23Ub- segmented_control--base--3nkUY segmented_control--input--1TZS3 segmented_control--singleRowHeight--3qRyf",noLeftBorder:"segmented_control--noLeftBorder--3IOHc",squareRightBorder:"segmented_control--squareRightBorder--1EwBh",_iconButton:"segmented_control--_iconButton--1YZ_F",iconButtonEnabled:"segmented_control--iconButtonEnabled--29TkH segmented_control--_iconButton--1YZ_F",iconButtonDisabled:"segmented_control--iconButtonDisabled--kXQfG segmented_control--_iconButton--1YZ_F",iconButtonSelected:"segmented_control--iconButtonSelected--2T-df segmented_control--_iconButton--1YZ_F",chitCenter:"segmented_control--chitCenter--1-pij",outlineButton:"segmented_control--outlineButton--2BOlw",modalPanel:"segmented_control--modalPanel--3bPjy",panel:"segmented_control--panel--2ESne",_row:"segmented_control--_row--15Eua",singleRow:"segmented_control--singleRow--r4O-9 segmented_control--singleRowHeight--3qRyf segmented_control--_row--15Eua",doubleRow:"segmented_control--doubleRow--2VdAS segmented_control--doubleRowHeight--1XyJB segmented_control--_row--15Eua",labelRow:"segmented_control--labelRow--1QPrJ segmented_control--singleRow--r4O-9 segmented_control--singleRowHeight--3qRyf segmented_control--_row--15Eua",rowSelected:"segmented_control--rowSelected--3FF1r",panelTitle:"segmented_control--panelTitle--3Dqx2",panelTitleExtended:"segmented_control--panelTitleExtended--1EOsm segmented_control--panelTitle--3Dqx2",panelTitleWithTip:"segmented_control--panelTitleWithTip--NGdFx segmented_control--panelTitle--3Dqx2",panelTitleWithTipText:"segmented_control--panelTitleWithTipText--3Sd08",panelTitleWithTipIcon:"segmented_control--panelTitleWithTipIcon--3JpVc",panelTitleFaded:"segmented_control--panelTitleFaded--2CA5Y segmented_control--panelTitle--3Dqx2",flushLeft:"segmented_control--flushLeft--1sQYh",container:"segmented_control--container--3D2GJ",containerDisabled:"segmented_control--containerDisabled--362Ij segmented_control--container--3D2GJ",_segment:"segmented_control--_segment--2oaUJ",hiddenInput:"segmented_control--hiddenInput--3T_OF raw_components--selectHiddenInput--1Ss5k",segmentSelected:"segmented_control--segmentSelected--3vDJm segmented_control--_segment--2oaUJ",segmentInactive:"segmented_control--segmentInactive--3O1Gk segmented_control--_segment--2oaUJ",segmentUnselected:"segmented_control--segmentUnselected--3XJuJ segmented_control--_segment--2oaUJ"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),n=s(141              ),i=s(138      ),p=s(442                             ),r=s(232                       ),l=s(150                         ),a=s(482                              ),h=s(979                      ),c=s(234                                                    );class d extends n.PureComponent{constructor(){super(...arguments),this.hiddenInputRef=o.createRef(),this.onChange=(e=>{this.props.onChange(e)}),this.onSelect=((e,t)=>{t.stopPropagation(),this.onChange(e)}),this.onUnselect=(e=>{e.stopPropagation(),null!=this.props.unselectValue&&this.onChange(this.props.unselectValue)}),this.selectValueWithOffset=(e=>{const t=o.Children.map(this.props.children,e=>e.props.value);let s;const n=t.indexOf(p.getValueOrNull(this.props.property));s=-1!==n?((s=n+e)+t.length)%t.length:e>0?0:t.length-1,this.onChange(t[s])}),this.onFocus=n.focusEvent(this,"focus",e=>{}),this.onKeyDown=n.keyboardEvent(this,"keydown",e=>{if(!this.props.disabled)switch(e.keyCode){case i.Key.ENTER:case i.Key.RIGHT_ARROW:case i.Key.DOWN_ARROW:case i.Key.SPACE:this.selectValueWithOffset(1),e.stopPropagation(),e.preventDefault();break;case i.Key.UP_ARROW:case i.Key.LEFT_ARROW:this.selectValueWithOffset(-1),e.stopPropagation(),e.preventDefault();break;case i.Key.ESCAPE:this.hiddenInputRef.current&&this.hiddenInputRef.current.blur()}})}render(){const e=o.Children.map(this.props.children,e=>{const t=!this.props.disabled&&this.props.property===e.props.value,s=this.props.disabled?null:null!=this.props.unselectValue&&t?this.onUnselect:this.onSelect.bind(this,e.props.value);return o.cloneElement(e,{selected:t,onMouseDown:s,recordingKey:e.props.recordingKey||n.joinKeys(this.props,`${e.props.value}`)})});let t=h.container;return this.props.disabled&&(t=h.containerDisabled),o.createElement(o.Fragment,null,o.createElement("input",{ref:this.hiddenInputRef,className:h.hiddenInput,onKeyDown:this.onKeyDown,onFocus:this.onFocus}),o.createElement("div",{className:`${t} ${this.props.className||""}`},e))}}t.SegmentedControl=d,d.displayName="SegmentedControl",d.propTypes={children:(e,t,s)=>{const n=e[t];let i=null;return o.Children.forEach(n,e=>{e.type&&e.type.__IS_VALID_SEGMENTED_CONTROL_CHILD__||(i=new Error(`${s} children should be of type 'Segment'`))}),i}};class u extends o.PureComponent{constructor(){super(...arguments),this.onMouseEnter=(()=>{this.props.mouseHoverHandler&&this.props.mouseHoverHandler(this.props.value,"ENTER")}),this.onMouseLeave=(()=>{this.props.mouseHoverHandler&&this.props.mouseHoverHandler(this.props.value,"LEAVE")})}render(){let e="";e=this.props.inactive?h.segmentInactive:this.props.selected?h.segmentSelected:h.segmentUnselected;let t=r.TooltipType.TEXT,s="";return this.props.tooltip?s=this.props.tooltip:this.props.tooltipAction&&(t=r.TooltipType.LOOKUP,s=this.props.tooltipAction),o.createElement(l.RecordableDiv,{className:`${e} ${this.props.className||""}`,onMouseDown:this.props.inactive?void 0:this.props.onMouseDown,onMouseEnter:this.props.inactive||!this.props.mouseHoverHandler?void 0:this.onMouseEnter,onMouseLeave:this.props.inactive||!this.props.mouseHoverHandler?void 0:this.onMouseLeave,"data-tooltip-type":t,"data-tooltip":s,"aria-label":a.getAriaLabel({"data-tooltip-type":t,"data-tooltip":s}),"data-tooltip-show-above":this.props.tooltipShowAbove,recordingKey:this.props.recordingKey},this.props.svg&&o.createElement(c.SvgWithFallback,{svg:this.props.svg,fallbackSvg:this.props.fallbackSvg}),!this.props.svg&&this.props.children)}}t.Segment=u,u.displayName="Segment",u.__IS_VALID_SEGMENTED_CONTROL_CHILD__=!0}),
(function(t,e,n){t.exports={_centered:"type_settings--_centered--3Yqp7",_container:"type_settings--_container--3IxXn",_isolated:"type_settings--_isolated--2CRD2",labelLeftCol:"type_settings--labelLeftCol--25Ihj type_settings--_centered--3Yqp7 checkbox--_checkboxLabel--1418z",contentContainer:"type_settings--contentContainer--FMSZv",previewContainer:"type_settings--previewContainer--Id9H7",previewBox:"type_settings--previewBox--1TeF3",previewBoxWithBounds:"type_settings--previewBoxWithBounds--3HhpV type_settings--previewBox--1TeF3",previewPlaceholder:"type_settings--previewPlaceholder--mjwRc",panelTitle:"type_settings--panelTitle--SGA9n",numbersFeatureLabel:"type_settings--numbersFeatureLabel--3H2OZ type_settings--_centered--3Yqp7",typeDetailsFeatureLabel:"type_settings--typeDetailsFeatureLabel--zhtDk type_settings--_centered--3Yqp7",typeDetailsFeatureLabelLong:"type_settings--typeDetailsFeatureLabelLong--3p2fX",openTypeFeatureLabel:"type_settings--openTypeFeatureLabel--205Ah type_settings--_centered--3Yqp7 ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ",labelRightCol:"type_settings--labelRightCol--3Uj_4 type_settings--_centered--3Yqp7 checkbox--_checkboxLabel--1418z",resizeControl:"type_settings--resizeControl--nfVY4 type_settings--_centered--3Yqp7",textAlignHorizontalControl:"type_settings--textAlignHorizontalControl--1L87F type_settings--_centered--3Yqp7",transformControl:"type_settings--transformControl--3HfQ_ type_settings--_centered--3Yqp7",decorationControl:"type_settings--decorationControl--guQAX type_settings--_centered--3Yqp7",typeDetailsControlTwoSegments:"type_settings--typeDetailsControlTwoSegments--2C1f7",typeDetailsControlThreeSegments:"type_settings--typeDetailsControlThreeSegments--2CoUw",typeDetailsControlFourSegments:"type_settings--typeDetailsControlFourSegments--1dGqH",typeDetailsControlFiveSegments:"type_settings--typeDetailsControlFiveSegments--3gvd7",typeDetailsControlSixSegments:"type_settings--typeDetailsControlSixSegments--3Lazb",fontLigatureControl:"type_settings--fontLigatureControl--3oDAF type_settings--_centered--3Yqp7 type_settings--_isolated--2CRD2",fontFractionControl:"type_settings--fontFractionControl--1-0Wm type_settings--_centered--3Yqp7 type_settings--_isolated--2CRD2",fontVariantCapsControl:"type_settings--fontVariantCapsControl--1RxUC type_settings--_centered--3Yqp7 type_settings--_isolated--2CRD2",fontVariantPositionControl:"type_settings--fontVariantPositionControl--e7DrS type_settings--_centered--3Yqp7",fontSpacingAndFigureControl:"type_settings--fontSpacingAndFigureControl--SkYNN type_settings--_centered--3Yqp7",fontSpacingAndFigureControlDropdown:"type_settings--fontSpacingAndFigureControlDropdown--2izBB",spacingAndFigureIconContainer:"type_settings--spacingAndFigureIconContainer--1XDIY type_settings--_centered--3Yqp7 type_settings--_container--3IxXn",spacer:"type_settings--spacer--3YVlG",optionButton:"type_settings--optionButton--1Inxq",paragraphIndentContainer:"type_settings--paragraphIndentContainer--xdbdC raw_components--borderFocusWithin--3IG2Z",paragraphIndent:"type_settings--paragraphIndent--3haNL raw_components--flushLeft--2dWma",lineHeightUpdateLine:"type_settings--lineHeightUpdateLine--2Rjxz",lineHeightUpdateRow:"type_settings--lineHeightUpdateRow--1bm7j",lineHeightUpdateInfo:"type_settings--lineHeightUpdateInfo--2ayl6",lineHeightUpdateIcon:"type_settings--lineHeightUpdateIcon--1nGic",_lineHeightButton:"type_settings--_lineHeightButton--37MVt",lineHeightUpgradeButton:"type_settings--lineHeightUpgradeButton--1NBym type_settings--_lineHeightButton--37MVt",lineHeightDowngradeButton:"type_settings--lineHeightDowngradeButton--gfJCg type_settings--_lineHeightButton--37MVt"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2,1    ),s=r(141              ),a=r(981                  ),l=r(261                               ),n=r(150                         ),p=r(6,1        ),o=r(111          ),c=new Map;class h extends s.PureComponent{constructor(e){super(e),this.previewBoxRef=i.createRef(),this.state={preview:null}}componentDidMount(){if(this.previewBoxRef.current){const e=p.findDOMNode(this.previewBoxRef.current);this.setState({preview:{width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height,viewportHeight:e.parentElement.getBoundingClientRect().height}})}}generatePreview(e){if(this.props.previewStyleOverride===l.FontPreviewStyleOverride.EMPTY)return{placeholder:"Preview"};const t=l.FontHelpers.getOpenTypeFeaturePreview(this.props.previewStyleOverride,this.props.previewFeature||"",e.width,e.viewportHeight);if("placeholder"in t&&"No preview available"===t.placeholder){const e=`${t.family}\0${t.style}\0${this.props.previewFeature}`,r=c.get(e)||0,i=Date.now();i-r>3e4&&(c.set(e,i),o.segment.track("Type Details Preview Unavailable",{family:t.family,style:t.style,feature:this.props.previewFeature}))}return t}render(){if(null===this.state.preview)return i.createElement(i.Fragment,null,i.createElement(n.RecordableDiv,{className:a.previewContainer},i.createElement(n.RecordableDiv,{ref:this.previewBoxRef,className:a.previewBox})));const e=this.generatePreview(this.state.preview);let t=null;if("svg"in e){let r=e.height,s=e.width,l=Math.max((this.state.preview.height-r)/2,0);"TextAutoResize.NONE"==this.props.previewContentPropType&&(l=0,r=this.state.preview.height),t=i.createElement(n.RecordableDiv,{style:{top:`${l}px`,width:`${s}px`,height:`${r}px`},className:this.props.shouldDrawBoundingBox?a.previewBoxWithBounds:a.previewBox,dangerouslySetInnerHTML:{__html:e.svg}})}else t=i.createElement(n.RecordableDiv,{className:a.previewPlaceholder},e.placeholder);return i.createElement(i.Fragment,null,i.createElement(n.RecordableDiv,{className:a.previewContainer},i.createElement(n.RecordableDiv,{ref:this.previewBoxRef,className:a.previewBox},t)))}}t.TypeDetailsPreview=h,h.displayName="Preview"}),
(function(t,v,e){t.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 5.5V0h-1v5.5C2.5 7.433 4.067 9 6 9c1.933 0 3.5-1.567 3.5-3.5V0h-1v5.5C8.5 6.88 7.38 8 6 8 4.62 8 3.5 6.88 3.5 5.5zM0 11v1h12v-1H0z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,v,e){t.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5V0H2v5.5C2 7.433 3.567 9 5.5 9 7.433 9 9 7.433 9 5.5V0H8v5.5C8 6.88 6.88 8 5.5 8 4.12 8 3 6.88 3 5.5zM0 12h12v-1H0v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,t){l.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M3.904 1.297C4.556.77 5.428.5 6.349.5c.907 0 1.756.228 2.407.742.661.523 1.069 1.301 1.149 2.295l-.997.08c-.06-.75-.353-1.26-.772-1.59C7.707 1.69 7.097 1.5 6.349 1.5c-.735 0-1.373.215-1.816.574-.434.352-.703.855-.703 1.503 0 .615.285 1.013.639 1.292.06.048.122.091.184.131h-1.41c-.246-.373-.413-.842-.413-1.423 0-.96.412-1.745 1.074-2.28zM8.824 8h1.069c.069.24.107.507.107.801 0 .972-.373 1.793-1.065 2.361-.68.56-1.622.838-2.707.838-1.1 0-1.986-.31-2.628-.879-.64-.567-.99-1.347-1.096-2.2l.992-.124c.083.66.343 1.2.767 1.575.422.374 1.055.628 1.965.628.925 0 1.619-.237 2.072-.61.442-.363.7-.891.7-1.589 0-.324-.066-.586-.177-.801zM0 7h12V6H0v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,h){t.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 4h8v1H0V4zm10 4H0v1h10V8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,h){t.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm3 4h8v1H3V4zm9 4H2v1h10V8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,h){t.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm6 4h8v1H6V4zm8 4H4v1h10V8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,h){t.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 4h14v1H0V4zm14 4H0v1h14V8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M11 1H1v10h10V1zM1 0H0v12h12V0H1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(v,t,e){v.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 .5h14v1H0v-1zm0 4h14v1H0v-1zm9 4H0v1h9v-1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5 12l3.354-3.354.707.708L6.914 11.5h9.879l-2.147-2.146.708-.708L18.707 12l-3.353 3.354-.708-.707 2.147-2.147H6.914l2.147 2.146-.707.708L5 12z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,h){t.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 4h14v1H0V4zm9 4H0v1h9V8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5 11.5l3.354-3.354.707.708L6.914 11h9.879l-2.146-2.146.707-.708 3.353 3.354-3.353 3.354-.707-.707L16.793 12H6.914l2.147 2.146-.707.708L5 11.5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.476 7.525H14.6c-.245-1.417-1.456-2.397-3.025-2.397-1.882 0-3.256 1.417-3.256 3.74 0 2.3 1.335 3.731 3.306 3.731 1.764 0 3.025-1.157 3.025-2.993v-.828h-2.858v.906h1.796c-.024 1.172-.799 1.914-1.963 1.914-1.282 0-2.216-.97-2.216-2.738 0-1.761.94-2.73 2.173-2.73.966 0 1.62.532 1.893 1.395zM2.412 12.5l.668-1.925h2.84l.665 1.925H7.75L5.133 5.227H3.865L1.248 12.5h1.164zM3.4 9.652l1.072-3.104h.057L5.6 9.652H3.4z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(c,l,h){c.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M3.81 12.653c1.142 0 1.738-.613 1.943-1.04h.05v.887H6.81V8.187c0-2.079-1.585-2.318-2.42-2.318-.989 0-2.114.341-2.625 1.534l.955.341c.221-.477.745-.988 1.704-.988.925 0 1.38.49 1.38 1.33v.033c0 .486-.494.444-1.687.597-1.214.158-2.54.426-2.54 1.926 0 1.279.99 2.011 2.233 2.011zm.153-.903c-.801 0-1.38-.358-1.38-1.057 0-.767.698-1.005 1.482-1.108.426-.05 1.568-.17 1.739-.375v.92c0 .819-.648 1.62-1.841 1.62zm7.324 3.34c1.568 0 2.83-.715 2.83-2.402V5.955h-.972v1.04h-.102c-.222-.342-.63-1.126-1.91-1.126-1.653 0-2.795 1.313-2.795 3.324 0 2.046 1.193 3.205 2.779 3.205 1.278 0 1.687-.75 1.909-1.108h.085v1.33c0 1.09-.767 1.585-1.824 1.585-1.189 0-1.606-.627-1.875-.99l-.801.563c.41.686 1.214 1.313 2.676 1.313zm-.034-3.596c-1.261 0-1.91-.954-1.91-2.318 0-1.33.632-2.403 1.91-2.403 1.227 0 1.875.988 1.875 2.403 0 1.449-.665 2.318-1.875 2.318z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.954 12.5l.878-2.472H6.36l.878 2.472h1.108L5.14 3.773h-1.09L.845 12.5h1.108zm1.21-3.41l1.398-3.937h.068l1.398 3.938H3.164zm9.047 6c1.568 0 2.83-.715 2.83-2.402V5.955h-.972v1.04h-.102c-.222-.342-.631-1.126-1.91-1.126-1.653 0-2.795 1.313-2.795 3.324 0 2.046 1.193 3.205 2.778 3.205 1.279 0 1.688-.75 1.91-1.108h.085v1.33c0 1.09-.767 1.585-1.824 1.585-1.189 0-1.607-.627-1.875-.99l-.801.563c.409.686 1.214 1.313 2.676 1.313zm-.034-3.596c-1.261 0-1.91-.954-1.91-2.318 0-1.33.631-2.403 1.91-2.403 1.227 0 1.875.988 1.875 2.403 0 1.449-.665 2.318-1.875 2.318z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.86 12.5l.878-2.472h3.528l.878 2.472h1.108L5.048 3.773H3.957L.752 12.5H1.86zm1.21-3.41l1.398-3.937h.068l1.398 3.938H3.07zm10.656-1.565h1.125c-.245-1.417-1.456-2.397-3.025-2.397-1.882 0-3.256 1.417-3.256 3.74 0 2.3 1.335 3.731 3.306 3.731 1.764 0 3.025-1.157 3.025-2.993v-.828h-2.858v.906h1.796c-.024 1.172-.799 1.914-1.963 1.914-1.282 0-2.216-.97-2.216-2.738 0-1.761.94-2.73 2.173-2.73.966 0 1.62.532 1.893 1.395z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(h,l,o){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.356 12.5l.878-2.472h3.528L6.64 12.5h1.108L4.544 3.773H3.453L.248 12.5h1.108zm1.21-3.41l1.398-3.937h.068L5.43 9.091H2.566zM14.663 6.5h1.091c-.324-1.688-1.738-2.847-3.58-2.847-2.236 0-3.817 1.722-3.817 4.483 0 2.762 1.568 4.483 3.886 4.483 2.08 0 3.562-1.385 3.562-3.545v-.938h-3.323v.938h2.3c-.03 1.568-1.06 2.557-2.54 2.557-1.618 0-2.863-1.228-2.863-3.495 0-2.267 1.245-3.494 2.796-3.494 1.261 0 2.118.712 2.488 1.858z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(h,v,l){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.063 6.2h-.936c-.056.09-.682 1.294-2.027 1.294v.886c1 0 1.716-.409 1.84-.647h.068V12.74h1.055V6.2zm4.442 8.72h1.107l3.884-7.732V6.2H8.909v.937h4.497v.068l-3.9 7.715zm-4.442-3.117v.937h1.935v-.937H5.063zm-2.86.937h1.805v-.937H2.202v.937z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(h,l,o){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.163 6.2h-.936c-.056.09-.682 1.294-2.027 1.294v.886c1 0 1.716-.409 1.84-.647h.068v5.007h1.055V6.2zm1.748 8.72h1.107L12.9 7.188V6.2H7.315v.937h4.496v.068l-3.9 7.715z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(h,v,l){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.17 4h-.937c-.056.09-.681 1.294-2.027 1.294v.886c1 0 1.716-.409 1.84-.647h.068v7.187h1.055V4zm4.441 8.72h1.107l3.884-7.732V4H9.015v.937h4.497v.068l-3.9 7.715zm-4.442-.937v.937h1.935v-.937H5.17zm-2.86.937h1.805v-.937H2.308v.937z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(h,l,o){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.843 4.273h-.938c-.055.09-.682 1.295-2.028 1.295v.887c1.001 0 1.717-.41 1.84-.648h.069V13h1.057V4.273zM7.897 13h1.108l3.886-7.739v-.988h-5.59v.937h4.5v.068L7.896 13z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2.585 12.5l.878-2.472H6.99l.878 2.472h1.108L5.772 3.773h-1.09L1.476 12.5h1.108zm1.21-3.41l1.398-3.937h.068l1.398 3.938H3.795zM9.875 14h3.938v-.75h-2.608v-.034l1.108-.972c.938-.818 1.347-1.295 1.347-1.994 0-.886-.767-1.551-1.892-1.551-1.125 0-1.926.648-1.926 1.62h.886c0-.53.41-.887 1.023-.887.58 0 1.023.324 1.023.835 0 .443-.307.767-.904 1.296l-1.994 1.772V14z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.727 12.5l.878-2.472h3.529L7.01 12.5H8.12L4.915 3.773H3.824L.619 12.5h1.108zm1.21-3.41l1.398-3.937h.068l1.398 3.938H2.937zm6.388 3.41h5.506v-.938h-4.057v-.068l1.96-2.096c1.5-1.607 1.944-2.357 1.944-3.324 0-1.347-1.091-2.42-2.625-2.42-1.53 0-2.694 1.04-2.694 2.573h1.006c0-.993.643-1.653 1.653-1.653.946 0 1.67.58 1.67 1.5 0 .805-.472 1.402-1.482 2.506l-2.88 3.153v.767z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2.935 12.5l.878-2.472H7.34l.878 2.472h1.108L6.122 3.773h-1.09L1.826 12.5h1.108zm1.21-3.41l1.398-3.937h.068l1.398 3.938H4.145zm5.48-.954h3.938v-.75h-2.608v-.034l1.108-.971c.938-.819 1.347-1.296 1.347-1.995 0-.886-.767-1.55-1.892-1.55-1.125 0-1.926.647-1.926 1.619h.886c0-.529.41-.887 1.023-.887.58 0 1.023.324 1.023.835 0 .444-.307.767-.904 1.296L9.626 7.472v.664z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12.654 5.407L7 11.061 3.646 7.707 4.354 7 7 9.646 11.947 4.7l.707.707z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M10 9H6V8h4v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2,1    ),i=r(179        ),a=r(207                                   ),n=r(141              ),s=r(215                                          ),l=r(214         ),p=r(146                        ),u=r(263                      ),c=r(232                       ),d=r(773                                                    ),g=r(794                               ),m=r(980                                     ),h=r(1065                      ),v=r(147                                            ),S=r(973                                  ),O=r(442                             ),E=r(981                  ),P=r(946                   ),N=r(982                      ),T=r(411                                                  ),y=r(261                                 ),F=r(111          ),R=r(983                                                   ),A=r(984                                                     ),f=r(985                                                       ),L=r(793                                              ),w=r(986                                                         ),_=r(987                                                            ),C=r(988                                                          ),I=r(989                                                              ),H=r(990                                                           ),b=r(991                                                            ),x=r(992                                                               ),U=r(993                                                              ),D=r(994                                                                 ),M=r(995                                                               ),V=r(996                                                        ),k=r(997                                                            ),G=r(998                                                         ),z=r(999                                                        ),B=r(1000                                                                   ),K=r(1001                                                                      ),W=r(1002                                                                   ),Y=r(1003                                                                      ),X=r(1004                                                       ),j=r(1005                                                        ),J=r(1006                                                       ),Z=r(1007                                                   ),q=r(1008                                                    ),Q=[],$=new Map;let ee=null;function te(){ee=null;let e=0;for(const[t,r]of $)setTimeout(()=>F.segment.track("OpenType Feature Shown",{feature:t,shownCount:r}),5e3*++e/$.size);$.clear()}class re extends m.SegmentedControl{}class oe extends m.Segment{}class ie extends m.SegmentedControl{}class ae extends m.Segment{}class ne extends m.SegmentedControl{}class se extends m.Segment{}class le extends m.SegmentedControl{}class pe extends m.Segment{}class ue extends m.SegmentedControl{}class ce extends m.Segment{}class de extends m.SegmentedControl{}class ge extends m.Segment{}const me=300;class he extends o.PureComponent{constructor(){super(...arguments),this.state={previewStyleOverride:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:null,shouldDrawBoundingBox:!1,availableOTFeaturesForSelection:null},this.onClose=(()=>{this.props.dispatch(a.fullscreen.hidePicker())}),this.ignoreCloseShortcut=(()=>this.props.editModeType===y.EditModeType.TEXT),this.supportsFeatureForFonts=(e=>e in this.props.openTypeFeatures.supported),this.supportsFeatureForSelection=(e=>e in this.props.openTypeFeatures.applicable),this.previewTimeOut=null,this.previewHoverHandler=((e,t)=>{switch(t){case"ENTER":null!=this.previewTimeOut&&(clearTimeout(this.previewTimeOut),this.previewTimeOut=null);break;case"LEAVE":this.previewTimeOut=setTimeout(()=>{this.setState({previewStyleOverride:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:null,shouldDrawBoundingBox:!1})},me)}}),this.onAutoResizeChange=(e=>s.fullscreen.updateSelectionProperties({textAutoResize:e})),this.onParagraphIndentChange=(e=>{s.fullscreen.updateSelectionProperties({paragraphIndent:e})}),this.onTextDecorationChange=(e=>s.fullscreen.updateSelectionProperties({textDecoration:e})),this.onTextAlignHorizontalChange=(e=>{s.fullscreen.triggerAction(h.TextAlignHorizontalAction[e],{source:"settings"})}),this.onFontVariantPositionChange=(e=>s.fullscreen.updateSelectionProperties({fontVariantPosition:e})),this.setOpenTypeFeature=((e,t)=>{if(-1==P.TypeSettingsData.OpenTypeFeatureDefaultOn.indexOf(e)){let r=this.props.openTypeFeatures.on.filter(t=>t!==e);"ON"===t&&r.push(e);let o=this.props.openTypeFeatures.mixed.filter(t=>t!==e);this.props.shouldDirectlyWriteOTFeatures?s.fullscreen.updateSelectionProperties({toggledOnOTFeatures:r},u.ShouldCommit.YES):s.fullscreen.updateSelectionProperties({toggledOnOTFeaturesForSelection:r,mixedStateOTFeaturesForSelection:o},u.ShouldCommit.YES)}else{let r=this.props.openTypeFeatures.off.filter(t=>t!==e);"OFF"===t&&r.push(e);let o=this.props.openTypeFeatures.mixed.filter(t=>t!==e);this.props.shouldDirectlyWriteOTFeatures?s.fullscreen.updateSelectionProperties({toggledOffOTFeatures:r},u.ShouldCommit.YES):s.fullscreen.updateSelectionProperties({toggledOffOTFeaturesForSelection:r,mixedStateOTFeaturesForSelection:o},u.ShouldCommit.YES)}F.segment.track("OpenType Feature Change",{feature:e,state:t})}),this.fontVariantNumericStyle=(()=>{const e="NORMAL"===this.props.fontVariantNumericSpacing,t="NORMAL"===this.props.fontVariantNumericFigure;if(!O.notMixed(this.props.fontVariantNumericSpacing)||!O.notMixed(this.props.fontVariantNumericFigure))return"MIXED";if(e&&t)return"ORIGINAL";if(e||"PROPORTIONAL"===this.props.fontVariantNumericSpacing){if(t||"LINING"===this.props.fontVariantNumericFigure)return"UPPER_PROPORTIONAL";if("OLDSTYLE"===this.props.fontVariantNumericFigure)return"LOWER_PROPORTIONAL"}else if("TABULAR"===this.props.fontVariantNumericSpacing){if(t||"LINING"===this.props.fontVariantNumericFigure)return"UPPER_MONOSPACE";if("OLDSTYLE"===this.props.fontVariantNumericFigure)return"LOWER_MONOSPACE"}return"MIXED"}),this.getOpenTypeFeatureForFraction=(()=>{return"MIXED"===O.getValue(this.props.fontVariantNumericFraction,"MIXED")?"MIXED":"STACKED"===this.props.fontVariantNumericFraction?"ON":"OFF"}),this.getOpenTypeFeatureForTag=(e=>"DLIG"===e?this.props.fontVariantDiscretionaryLigatures===O.MIXED?"MIXED":O.getValue(this.props.fontVariantDiscretionaryLigatures,!1)?"ON":"OFF":"HLIG"===e?this.props.fontVariantHistoricalLigatures===O.MIXED?"MIXED":O.getValue(this.props.fontVariantHistoricalLigatures,!1)?"ON":"OFF":-1!=this.props.openTypeFeatures.mixed.indexOf(e)?"MIXED":-1==P.TypeSettingsData.OpenTypeFeatureDefaultOn.indexOf(e)?-1!=this.props.openTypeFeatures.on.indexOf(e)?"ON":"OFF":-1!=this.props.openTypeFeatures.off.indexOf(e)?"OFF":"ON"),this.upgradeTextUserLayoutVersion=(()=>{s.fullscreen.updateSelectionProperties({textUserLayoutVersion:1})}),this.downgradeTextUserLayoutVersion=(()=>{s.fullscreen.updateSelectionProperties({textUserLayoutVersion:0})}),this.lineHeightUpdateRowVisibility=(()=>0===this.props.textUserLayoutVersion||-1!==O.getMixedValues(this.props.textUserLayoutVersion).indexOf(0)?"upgrade":1===this.props.textUserLayoutVersion&&"downgrade"),this.renderLineHeightUpgradeSection=(()=>o.createElement(o.Fragment,null,this.lineHeightUpdateRowVisibility()&&o.createElement("div",{className:E.spacer}),"upgrade"===this.lineHeightUpdateRowVisibility()&&o.createElement(g.Row,{className:E.lineHeightUpdateRow,onMouseDown:e=>{e.stopPropagation()}},o.createElement("div",{className:E.lineHeightUpdateInfo},O.notMixed(this.props.textUserLayoutVersion)?"Older text rendering method used.":"Older text rendering method used for part of the selection.",o.createElement(p.Svg,{svg:L,"data-tooltip-type":c.TooltipType.LOOKUP,"data-tooltip":"line-height-update-info",className:E.lineHeightUpdateIcon,style:{verticalAlign:"top"}})),o.createElement(v.ButtonSecondary,{className:E.lineHeightUpgradeButton,onClick:this.upgradeTextUserLayoutVersion,recordingKey:n.joinKeys(this.props,"upgrade-text-user-layout-version")},"Update")),"downgrade"===this.lineHeightUpdateRowVisibility()&&o.createElement(g.Row,{className:E.lineHeightUpdateRow,onMouseDown:e=>{e.stopPropagation()}},o.createElement("div",{className:E.lineHeightUpdateInfo},"New text rendering method used.",o.createElement(p.Svg,{svg:L,"data-tooltip-type":c.TooltipType.LOOKUP,"data-tooltip":"line-height-update-info",className:E.lineHeightUpdateIcon,style:{verticalAlign:"top"}})),o.createElement("a",{className:E.lineHeightDowngradeButton,onClick:this.downgradeTextUserLayoutVersion},"Revert")),this.lineHeightUpdateRowVisibility()&&o.createElement("div",{className:E.spacer}))),this.editTarget=(()=>void 0!==this.props.selectedStyleProperties.guid?"Style":this.props.isStyleConsumer?"NodeStyleConsumer":"NodeNotStyleConsumer"),this.canEditTextStyle=(()=>{const e=this.editTarget();switch(e){case"NodeNotStyleConsumer":case"Style":return!0;case"NodeStyleConsumer":return!1;default:return i.assertNever(e)}}),this.canEditNodeFields=(()=>{const e=this.editTarget();switch(e){case"NodeNotStyleConsumer":case"NodeStyleConsumer":return!0;case"Style":return!1;default:return i.assertNever(e)}}),this.renderResizingAlignmentAndDecoration=(()=>{let e=(e,t)=>{this.previewHoverHandler(e,t),"ENTER"==t&&this.setState({previewStyleOverride:"WIDTH_AND_HEIGHT"==e?y.FontPreviewStyleOverride.RESIZING_WIDTH_AND_HEIGHT:"HEIGHT"==e?y.FontPreviewStyleOverride.RESIZING_HEIGHT:"NONE"==e?y.FontPreviewStyleOverride.RESIZING_NONE:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:"NONE"==e?"TextAutoResize.NONE":null,shouldDrawBoundingBox:!0})},t=(e,t)=>{this.previewHoverHandler(e,t),"ENTER"==t&&this.setState({previewStyleOverride:"LEFT"==e?y.FontPreviewStyleOverride.ALIGNMENT_LEFT:"CENTER"==e?y.FontPreviewStyleOverride.ALIGNMENT_CENTER:"RIGHT"==e?y.FontPreviewStyleOverride.ALIGNMENT_RIGHT:"JUSTIFIED"==e?y.FontPreviewStyleOverride.ALIGNMENT_JUSTIFIED:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:"TextAlignHorizontal",shouldDrawBoundingBox:!1})},r=(e,t)=>{this.previewHoverHandler(e,t),"ENTER"==t&&this.setState({previewStyleOverride:"NONE"==e?y.FontPreviewStyleOverride.DECORATION_NONE:"STRIKETHROUGH"==e?y.FontPreviewStyleOverride.DECORATION_STRIKETHROUGH:"UNDERLINE"==e?y.FontPreviewStyleOverride.DECORATION_UNDERLINE:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:"TextDecoration",shouldDrawBoundingBox:!1})};const i=!this.canEditTextStyle();let a,s;a=!this.props.disabled&&this.canEditNodeFields(),s=!1;const l=this.canEditTextStyle();return o.createElement(o.Fragment,null,o.createElement(g.Panel,null,o.createElement("div",{className:E.spacer}),i&&o.createElement(g.Row,null,o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Resizing"),o.createElement(re,{className:E.typeDetailsControlThreeSegments,property:this.props.textAutoResize,onChange:this.onAutoResizeChange,disabled:this.props.disabled||!this.canEditNodeFields(),recordingKey:n.joinKeys(this.props,"autoResize")},o.createElement(oe,{svg:x,fallbackSvg:D,value:"WIDTH_AND_HEIGHT",tooltip:"Auto Width",tooltipShowAbove:!0,mouseHoverHandler:e}),o.createElement(oe,{svg:b,fallbackSvg:U,value:"HEIGHT",tooltip:"Auto Height",tooltipShowAbove:!0,mouseHoverHandler:e}),o.createElement(oe,{svg:H,value:"NONE",tooltip:"Fixed Size",tooltipShowAbove:!0,mouseHoverHandler:e}))),a&&o.createElement(g.Row,null,o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Alignment"),o.createElement(h.TextAlignHorizontalControl,{property:this.props.textAlignHorizontal,onChange:this.onTextAlignHorizontalChange,recordingKey:this.props.recordingKey,disabled:!1,className:E.typeDetailsControlFourSegments},o.createElement(h.TextAlignHorizontalSegment,{svg:w,value:"LEFT",tooltipAction:h.TextAlignHorizontalAction.LEFT,key:"text-align-horizontal-segment-left",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(h.TextAlignHorizontalSegment,{svg:_,value:"CENTER",tooltipAction:h.TextAlignHorizontalAction.CENTER,key:"text-align-horizontal-segment-center",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(h.TextAlignHorizontalSegment,{svg:C,value:"RIGHT",tooltipAction:h.TextAlignHorizontalAction.RIGHT,key:"text-align-horizontal-segment-right",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(h.TextAlignHorizontalSegment,{svg:I,value:"JUSTIFIED",tooltipAction:h.TextAlignHorizontalAction.JUSTIFIED,key:"text-align-horizontal-segment-justify",tooltipShowAbove:!0,mouseHoverHandler:t}))),this.canEditTextStyle()&&o.createElement(g.Row,null,o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Decoration"),o.createElement(ie,{className:E.typeDetailsControlThreeSegments,property:this.props.textDecoration,onChange:this.onTextDecorationChange,disabled:this.props.disabled,recordingKey:n.joinKeys(this.props,"textDecoration")},o.createElement(ae,{svg:q,value:"NONE",tooltip:"None",tooltipShowAbove:!0,mouseHoverHandler:r}),o.createElement(ae,{svg:R,fallbackSvg:A,value:"UNDERLINE",tooltip:"Underline",tooltipShowAbove:!0,mouseHoverHandler:r}),o.createElement(ae,{svg:f,value:"STRIKETHROUGH",tooltip:"Strikethrough",tooltipShowAbove:!0,mouseHoverHandler:r}))),l&&o.createElement(g.Row,null,o.createElement(g.Label,{className:E.typeDetailsFeatureLabelLong},"Paragraph Indent"),o.createElement(S.ScrubbablePositivePixelInput,{onValueChange:this.onParagraphIndentChange,value:this.props.paragraphIndent,inputClassName:E.paragraphIndent,className:E.paragraphIndentContainer,dispatch:this.props.dispatch,disabled:this.props.disabled,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Paragraph Indent",tooltipForScreenReadersOnly:!0,recordingKey:n.joinKeys(this.props,"paragraphIndent")})),o.createElement("div",{className:E.spacer})))}),this.renderLetterCase=(e=>{let t=(e,t)=>{if(this.previewHoverHandler(e,t),"ENTER"==t){let t;switch(e){case"ORIGINAL":t=y.FontPreviewStyleOverride.TEXT_CASE_ORIGINAL;break;case"UPPER":t=y.FontPreviewStyleOverride.TEXT_CASE_UPPER;break;case"LOWER":t=y.FontPreviewStyleOverride.TEXT_CASE_LOWER;break;case"TITLE":t=y.FontPreviewStyleOverride.TEXT_CASE_TITLE;break;case"SMALL_CAPS":t=y.FontPreviewStyleOverride.TEXT_CASE_SMALL_CAPS;break;case"SMALL_CAPS_FORCED":t=y.FontPreviewStyleOverride.TEXT_CASE_SMALL_CAPS_FORCED;break;default:t=y.FontPreviewStyleOverride.EMPTY}this.setState({previewStyleOverride:t,previewFeature:null,previewContentPropType:"TextCase",shouldDrawBoundingBox:!1})}},r=[];return this.supportsFeatureForFonts("SMCP")?r.push(o.createElement(se,{value:"SMALL_CAPS",svg:G,tooltip:"Small Caps",tooltipShowAbove:!0,key:"toggleOpenTypeFeatureSMCP",mouseHoverHandler:t})):r.push(o.createElement(se,{value:"SMALL_CAPS",svg:G,inactive:!0,tooltip:"Font doesn’t support small caps",key:"toggleOpenTypeFeatureSMCP",tooltipShowAbove:!0,mouseHoverHandler:t})),this.supportsFeatureForFonts("C2SC")&&r.push(o.createElement(se,{value:"SMALL_CAPS_FORCED",svg:M,tooltip:"Forced Small Caps",tooltipShowAbove:!0,key:"toggleOpenTypeFeatureC2SC",mouseHoverHandler:t})),o.createElement(o.Fragment,null,o.createElement(g.Panel,null,o.createElement(g.Row,null,o.createElement(g.PanelTitle,{extended:!0},"Letter case")),o.createElement(g.Row,null,o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Case"),o.createElement(ne,{className:this.supportsFeatureForFonts("C2SC")?E.typeDetailsControlSixSegments:E.typeDetailsControlFiveSegments,property:e,onChange:e=>{"SMALL_CAPS"===e?s.fullscreen.updateSelectionProperties({fontVariantCaps:"SMALL",textCase:"ORIGINAL"},u.ShouldCommit.YES):"SMALL_CAPS_FORCED"===e?s.fullscreen.updateSelectionProperties({fontVariantCaps:"ALL_SMALL",textCase:"ORIGINAL"},u.ShouldCommit.YES):s.fullscreen.updateSelectionProperties({textCase:e,fontVariantCaps:"NORMAL"},u.ShouldCommit.YES)},disabled:this.props.disabled,recordingKey:n.joinKeys(this.props,"textCase")},o.createElement(se,{value:"ORIGINAL",svg:q,tooltip:"As Typed",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(se,{value:"UPPER",svg:z,tooltip:"Uppercase",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(se,{value:"LOWER",svg:V,tooltip:"Lowercase",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(se,{value:"TITLE",svg:k,tooltip:"Title Case",tooltipShowAbove:!0,mouseHoverHandler:t}),r)),this.renderRow("PCAP"),this.renderRow("CASE"),this.renderRow("CPSP"),this.renderRow("TITL"),this.renderRow("UNIC"),o.createElement("div",{className:E.spacer})))}),this.renderGroup=(e=>{let t=P.TypeSettingsData.OpenTypeFeatureGroups.filter(t=>t.group_name===e)[0].tags.map(e=>this.renderRow(e)).filter(e=>e);if(0!=t.length)return o.createElement(o.Fragment,null,o.createElement(g.Panel,null,o.createElement(g.Row,null,o.createElement(g.PanelTitle,{extended:!0},e)),t,o.createElement("div",{className:E.spacer})))}),this.renderRow=(e=>{if(!this.supportsFeatureForFonts(e))return;const t=this.supportsFeatureForSelection(e);let r=(t,r)=>{this.previewHoverHandler(t,r),"ENTER"==r&&("FRAC"===e?this.setState({previewStyleOverride:"ON"==t?y.FontPreviewStyleOverride.FRACTIONS_ON:y.FontPreviewStyleOverride.FRACTIONS_OFF,previewFeature:null,previewContentPropType:"OpenTypeFRAC",shouldDrawBoundingBox:!1}):this.setState({previewStyleOverride:"ON"==t?y.FontPreviewStyleOverride.OPENTYPE_FEATURE_ON:y.FontPreviewStyleOverride.OPENTYPE_FEATURE_OFF,previewFeature:e,previewContentPropType:"OpenType"+e,shouldDrawBoundingBox:!1}))};const i=this.props.openTypeFeatures.supported,a=this.props.openTypeFeatures.applicable,l=t?a:i;Q.push("FRAC"===e?"Fractions":e);const p="FRAC"===e?"Fractions":l[e]||P.TypeSettingsData.OpenTypeFeatureNames[e],u="toggleOpenTypeFeature"+("FRAC"===e?"Fractions":e);return o.createElement(g.Row,{key:u},t?o.createElement(g.Label,{className:E.openTypeFeatureLabel},p):o.createElement(g.LabelInactive,{"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Not applicable for selected text","data-tooltip-timeout-delay":1200,"data-tooltip-show-above":!0,className:E.openTypeFeatureLabel},p),o.createElement(de,{className:E.typeDetailsControlTwoSegments,property:"FRAC"===e?this.getOpenTypeFeatureForFraction():this.getOpenTypeFeatureForTag(e),onChange:t=>{if("FRAC"!==e)switch(e){case"DLIG":s.fullscreen.updateSelectionProperties({fontVariantDiscretionaryLigatures:"ON"===t});break;case"HLIG":s.fullscreen.updateSelectionProperties({fontVariantHistoricalLigatures:"ON"===t});break;default:"ON"===t&&this.setOpenTypeFeature(e,t),"OFF"===t&&this.setOpenTypeFeature(e,t)}else s.fullscreen.updateSelectionProperties({fontVariantNumericFraction:"ON"===t?"STACKED":"NORMAL"})},disabled:this.props.disabled,recordingKey:n.joinKeys(this.props,u)},o.createElement(ge,{value:"OFF",svg:q,key:"off",mouseHoverHandler:r}),o.createElement(ge,{value:"ON",svg:Z,key:"on",mouseHoverHandler:r})))}),this.renderPreview=(()=>o.createElement(N.TypeDetailsPreview,{previewStyleOverride:this.state.previewStyleOverride,previewFeature:this.state.previewFeature,previewContentPropType:this.state.previewContentPropType,shouldDrawBoundingBox:this.state.shouldDrawBoundingBox,availableOTFeaturesForSelection:this.props.openTypeFeatures.applicable})),this.renderNumbers=(()=>{let e=[],t=this.supportsFeatureForFonts("LNUM"),r=this.supportsFeatureForFonts("ONUM"),i=this.supportsFeatureForFonts("PNUM"),a=this.supportsFeatureForFonts("TNUM"),l=this.supportsFeatureForSelection("LNUM")||this.supportsFeatureForSelection("ONUM")||this.supportsFeatureForSelection("PNUM")||this.supportsFeatureForSelection("TNUM"),p=(e,t)=>{let r;switch(this.previewHoverHandler(e,t),e){case"ORIGINAL":r=y.FontPreviewStyleOverride.NUMERIC_STYLE_ORIGINAL;break;case"UPPER_PROPORTIONAL":r=y.FontPreviewStyleOverride.NUMERIC_STYLE_UPPER_PROPORTIONAL;break;case"LOWER_PROPORTIONAL":r=y.FontPreviewStyleOverride.NUMERIC_STYLE_LOWER_PROPORTIONAL;break;case"UPPER_MONOSPACE":r=y.FontPreviewStyleOverride.NUMERIC_STYLE_UPPER_MONOSPACE;break;case"LOWER_MONOSPACE":r=y.FontPreviewStyleOverride.NUMERIC_STYLE_LOWER_MONOSPACE;break;default:r=y.FontPreviewStyleOverride.EMPTY}"ENTER"==t&&this.setState({previewStyleOverride:r,previewFeature:null,previewContentPropType:"FontVariantNumericStyle",shouldDrawBoundingBox:!1})},u=(e,t)=>{this.previewHoverHandler(e,t),"ENTER"==t&&this.setState({previewStyleOverride:"NORMAL"==e?y.FontPreviewStyleOverride.NUMERIC_POSITION_NORMAL:"SUB"==e?y.FontPreviewStyleOverride.NUMERIC_POSITION_SUB:"SUPER"==e?y.FontPreviewStyleOverride.NUMERIC_POSITION_SUPER:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:"FontVariantPosition",shouldDrawBoundingBox:!1})};(t||r||i||a)&&(i||a?t||r?(e.push(o.createElement(pe,{value:"ORIGINAL",svg:q,tooltip:"Font Default",key:"fontVariantNumericFigureAndSpacingORIGINAL",mouseHoverHandler:p})),(i||t)&&e.push(o.createElement(pe,{value:"UPPER_PROPORTIONAL",svg:Y,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),(a||t)&&e.push(o.createElement(pe,{value:"UPPER_MONOSPACE",svg:W,tooltip:"Monospace Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_MONOSPACE",mouseHoverHandler:p})),(i||r)&&e.push(o.createElement(pe,{value:"LOWER_PROPORTIONAL",svg:K,tooltip:"Proportional Lowercase/Old-style",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingLOWER_PROPORTIONAL",mouseHoverHandler:p})),(a||r)&&e.push(o.createElement(pe,{value:"LOWER_MONOSPACE",svg:B,tooltip:"Monospace Lowercase/Old-style",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingLOWER_MONOSPACE",mouseHoverHandler:p}))):i&&a?(e.push(o.createElement(pe,{value:"ORIGINAL",svg:q,tooltip:"Font Default",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingORIGINAL",mouseHoverHandler:p})),e.push(o.createElement(pe,{value:"UPPER_PROPORTIONAL",svg:Y,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(pe,{value:"UPPER_MONOSPACE",svg:W,tooltip:"Monospace Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_MONOSPACE",mouseHoverHandler:p}))):i?a||(e.push(o.createElement(pe,{value:"UPPER_PROPORTIONAL",svg:Y,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(pe,{value:"ORIGINAL",svg:W,tooltip:"Monospace Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_MONOSPACE",mouseHoverHandler:p}))):(e.push(o.createElement(pe,{value:"ORIGINAL",svg:Y,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(pe,{value:"UPPER_MONOSPACE",svg:W,tooltip:"Monospace Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_MONOSPACE",mouseHoverHandler:p}))):t&&r?(e.push(o.createElement(pe,{value:"ORIGINAL",svg:q,tooltip:"Font Default",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingORIGINAL",mouseHoverHandler:p})),e.push(o.createElement(pe,{value:"UPPER_PROPORTIONAL",svg:Y,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(pe,{value:"LOWER_PROPORTIONAL",svg:K,tooltip:"Proportional Lowercase/Old-style",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingLOWER_PROPORTIONAL",mouseHoverHandler:p}))):t?r||(e.push(o.createElement(pe,{value:"UPPER_PROPORTIONAL",svg:Y,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(pe,{value:"ORIGINAL",svg:K,tooltip:"Proportional Lowercase/Old-style",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingLOWER_PROPORTIONAL",mouseHoverHandler:p}))):(e.push(o.createElement(pe,{value:"ORIGINAL",svg:Y,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(pe,{value:"LOWER_PROPORTIONAL",svg:K,tooltip:"Proportional Lowercase/Old-style",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingLOWER_PROPORTIONAL",mouseHoverHandler:p}))));const d=this.supportsFeatureForSelection("SUBS"),m=this.supportsFeatureForSelection("SUPS"),h=d?"Subscript":this.supportsFeatureForFonts("SUBS")?"Not applicable for selected text":"Font doesn’t support subscript",v=m?"Superscript":this.supportsFeatureForFonts("SUPS")?"Not applicable for selected text":"Font doesn’t support superscript";return o.createElement(o.Fragment,null,o.createElement(g.Panel,null,o.createElement(g.Row,null,o.createElement(g.PanelTitle,{extended:!0},"Numbers")),t||r||i||a?o.createElement(g.Row,null,l?o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Style"):o.createElement(g.LabelInactive,{"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Not applicable for selected text","data-tooltip-timeout-delay":1200,"data-tooltip-show-above":!0,className:E.typeDetailsFeatureLabel},"Style"),o.createElement(le,{className:2===e.length?E.typeDetailsControlTwoSegments:3===e.length?E.typeDetailsControlThreeSegments:4===e.length?E.typeDetailsControlFourSegments:E.typeDetailsControlFiveSegments,property:this.fontVariantNumericStyle(),onChange:e=>{s.fullscreen.updateSelectionProperties((e=>"ORIGINAL"==e?{fontVariantNumericFigure:"NORMAL",fontVariantNumericSpacing:"NORMAL"}:{fontVariantNumericFigure:"UPPER_PROPORTIONAL"===e||"UPPER_MONOSPACE"===e?"LINING":"OLDSTYLE",fontVariantNumericSpacing:"UPPER_PROPORTIONAL"===e||"LOWER_PROPORTIONAL"===e?"PROPORTIONAL":"TABULAR"})(e))},disabled:this.props.disabled,recordingKey:n.joinKeys(this.props,"textCase")},e)):"",o.createElement(g.Row,null,d||m?o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Position"):o.createElement(g.LabelInactive,{"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Not applicable for selected text","data-tooltip-timeout-delay":1200,"data-tooltip-show-above":!0,className:E.typeDetailsFeatureLabel},"Position"),o.createElement(ue,{className:E.typeDetailsControlThreeSegments,property:this.props.fontVariantPosition,onChange:this.onFontVariantPositionChange,disabled:this.props.disabled,recordingKey:n.joinKeys(this.props,"textCase")},o.createElement(ce,{value:"SUB",svg:X,tooltip:h,tooltipShowAbove:!0,inactive:!d,mouseHoverHandler:u}),o.createElement(ce,{value:"NORMAL",svg:j,tooltip:"Normal",tooltipShowAbove:!0,mouseHoverHandler:u}),o.createElement(ce,{value:"SUPER",svg:J,tooltip:v,tooltipShowAbove:!0,inactive:!m,mouseHoverHandler:u}))),this.renderRow("FRAC"),this.renderRow("AFRC"),this.renderRow("ZERO"),o.createElement("div",{className:E.spacer})))}),this.renderTypeDetailsPanel=(()=>{let e=this.props.textCase;"SMALL"===this.props.fontVariantCaps&&(e="SMALL_CAPS"),"ALL_SMALL"===this.props.fontVariantCaps&&(e="SMALL_CAPS_FORCED");const t=new l.Vector(this.props.picker.initialX,this.props.picker.initialY);return o.createElement(d.DraggableModal,{title:"Type Details",headerSize:"small",initialPosition:t,onClose:this.onClose,ignoreCloseShortcut:this.ignoreCloseShortcut(),recordingKey:this.props.recordingKey},this.renderPreview(),o.createElement("div",{className:E.contentContainer},o.createElement(T.ScrollContainer,{showScrollbar:!0},o.createElement("div",null,this.renderResizingAlignmentAndDecoration(),this.canEditTextStyle()&&this.renderLetterCase(e),this.canEditTextStyle()&&this.renderNumbers(),this.canEditTextStyle()&&this.renderGroup("Letterforms"),this.canEditTextStyle()&&this.renderGroup("Stylistic sets"),this.canEditTextStyle()&&this.renderGroup("Character variants"),this.canEditTextStyle()&&this.renderGroup("Math"),this.canEditTextStyle()&&this.renderGroup("Horizontal spacing"),this.canEditTextStyle()&&this.renderGroup("Writing direction"),this.canEditTextStyle()&&this.renderGroup("More features"),this.canEditNodeFields()&&this.renderLineHeightUpgradeSection()))))})}render(){Q.length=0;const e=this.renderTypeDetailsPanel();for(const t of Q)$.set(t,($.get(t)||0)+1);return null===ee&&(ee=setTimeout(te,1e3*(15+30*Math.random()))),e}}t.TypeSettings=he,he.displayName="TypeSettings"}),
(function(e,a,r){e.exports={_base__DEPRECATED:"search--_base__DEPRECATED--1OqFW",margin12__DEPRECATED:"search--margin12__DEPRECATED--1Pxl5 search--_base__DEPRECATED--1OqFW",searchInput__DEPRECATED:"search--searchInput__DEPRECATED--3LJnm",margin24__DEPRECATED:"search--margin24__DEPRECATED--1LY0a search--_base__DEPRECATED--1OqFW",searchX__DEPRECATED:"search--searchX__DEPRECATED--2UDDM",searchInputWrapper__DEPRECATED:"search--searchInputWrapper__DEPRECATED--Qpku8",searchInputEmpty__DEPRECATED:"search--searchInputEmpty__DEPRECATED--2hn-Y search--searchInput__DEPRECATED--3LJnm",searchXSvg__DEPRECATED:"search--searchXSvg__DEPRECATED--htKvt",searchContainer:"search--searchContainer--U7vsO",searchIcon:"search--searchIcon--2srT2",xIcon:"search--xIcon--2xITP",searchInput:"search--searchInput--2JmjM text--fontPos13--1DoEt text--_fontBase--YWDo0",searchButton:"search--searchButton--3bUWS",searchIconLoggedOut:"search--searchIconLoggedOut--2Kaoh",searchInputLoggedOut:"search--searchInputLoggedOut--3aZ-6 search--searchInput--2JmjM text--fontPos13--1DoEt text--_fontBase--YWDo0",searchInputContainerLoggedOut:"search--searchInputContainerLoggedOut--fhS9o",searchContainerLoggedOut:"search--searchContainerLoggedOut--1Emi4"}}),
(function(l,t,e){l.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 13.879l4.94-4.94 2.12 2.122L18.122 16l4.94 4.938-2.122 2.122L16 18.12l-4.94 4.94-2.12-2.122L13.878 16l-4.94-4.94 2.122-2.12L16 13.879z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 14.586l4.293-4.293 1.414 1.414L17.414 16l4.293 4.293-1.414 1.414L16 17.414l-4.293 4.293-1.414-1.414L14.586 16l-4.293-4.293 1.414-1.414L16 14.586z" fill-rule="evenodd" fill-opacity="1" fill="#5551ff" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M14.146 14.854l.708-.708-4.272-4.272C11.466 8.83 12 7.477 12 6c0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6 1.477 0 2.83-.534 3.874-1.418l4.272 4.272zM11 6c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M24.926 22.158c1.895-2.728 1.627-6.504-.805-8.936-2.734-2.733-7.166-2.733-9.9 0-2.733 2.734-2.733 7.166 0 9.9 2.432 2.432 6.21 2.7 8.938.804l5.735 5.736 1.768-1.768-5.736-5.736zm-2.573-7.168c1.757 1.757 1.757 4.606 0 6.364-1.757 1.757-4.607 1.757-6.364 0-1.757-1.758-1.757-4.607 0-6.364 1.757-1.758 4.607-1.758 6.364 0z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(2,1    ),r=t(6,1        ),o=t(138      ),c=t(141              ),h=t(143                                      ),n=t(146                        ),i=t(1010          ),p=t(422                                        ),l=t(415                          ),u=t(420              ),g=t(151                           ),d=t(1011                               ),m=t(1012                                      ),E=t(1013                              ),v=t(1014                                    );class S extends c.PureComponent{constructor(){super(...arguments),this.state={loggedOutSearchBarActivated:!1},this.onFocus=(e=>{e.target.select(),this.props.onFocus&&this.props.onFocus()}),this.onBlur=(()=>{this.props.onBlur&&this.props.onBlur()}),this.onSearchChange=c.changeEvent(this,"change",e=>{const s=e.target;this.props.onChange(s.value)}),this.onSearchKeyDown=(e=>{this.props.isKeyDownHandled&&this.props.isKeyDownHandled(e)||e.keyCode===o.Key.ESCAPE&&(""!==this.searchInput.value?(this.searchInput.select(),document.execCommand("insertText",!1,"")):this.searchInput.blur())}),this.onSearchClick=(()=>{this.setState({loggedOutSearchBarActivated:!0}),this.focus()}),this.onClearSearch=(()=>{this.props.clearSearch(),this.setState({loggedOutSearchBarActivated:!1}),this.focus()}),this.searchInputRef=(e=>{this.searchInput=r.findDOMNode(e),this.props.focusOnMount&&this.searchInput&&this.searchInput.focus()}),this.focus=(()=>{this.searchInput&&this.searchInput.focus()}),this.blur=(()=>{this.searchInput&&this.searchInput.blur()})}componentDidUpdate(e,s){super.componentDidUpdate(e,s),!1===e.isFocused&&!0===this.props.isFocused?this.focus():!0===e.isFocused&&!1===this.props.isFocused&&this.blur()}render(){return this.props.useDeprecatedStyles?a.createElement("div",{className:`${this.props.className||i.searchInputWrapper__DEPRECATED} ${this.props.extraSpacing?i.margin24__DEPRECATED:i.margin12__DEPRECATED}`},a.createElement(h.LazyInput,{ref:this.searchInputRef,placeholder:this.props.placeholder||"Search",className:this.props.query?i.searchInput__DEPRECATED:i.searchInputEmpty__DEPRECATED,value:this.props.query,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown}),!!this.props.query&&!this.props.hideXIcon&&a.createElement("div",{className:i.searchX__DEPRECATED,onClick:this.onClearSearch},a.createElement(n.Svg,{className:i.searchXSvg__DEPRECATED,svg:g}))):this.props.useLoggedOutStyles?a.createElement("div",{className:`${i.searchContainerLoggedOut} ${this.props.className||""}`},!this.state.loggedOutSearchBarActivated&&!this.props.query&&a.createElement("div",{className:i.searchButton,onClick:this.onSearchClick},a.createElement(n.Svg,{className:i.searchIconLoggedOut,svg:v})),(this.state.loggedOutSearchBarActivated||!!this.props.query)&&a.createElement("div",{className:i.searchInputContainerLoggedOut},a.createElement(h.LazyInput,{ref:this.searchInputRef,placeholder:this.props.placeholder||"Search",className:i.searchInputLoggedOut,value:this.props.query,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown}),a.createElement(l.MediaQuery,{query:`(min-width: ${u.pxToInt(p.fileBrowserMobileWidth)}px)`},a.createElement(n.Svg,{className:i.xIcon,svg:d,onClick:this.onClearSearch})),a.createElement(l.MediaQuery,{query:`(max-width: ${u.pxToInt(p.fileBrowserMobileWidth)-1}px)`},a.createElement(n.Svg,{className:i.xIcon,svg:m,onClick:this.onClearSearch})))):a.createElement("div",{className:`${i.searchContainer} ${this.props.className||""}`},a.createElement(n.Svg,{className:i.searchIcon,svg:E}),a.createElement(h.LazyInput,{ref:this.searchInputRef,placeholder:this.props.placeholder||"Search",className:i.searchInput,value:this.props.query,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown}),!!this.props.query&&!this.props.hideXIcon&&a.createElement(n.Svg,{className:i.xIcon,svg:g,onClick:this.onClearSearch}))}}s.SearchBar=S,S.displayName="SearchInput"}),
(function(e,t,i){e.exports={_stylePickerRow:"style_grid--_stylePickerRow--2MPKf raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",scrollContainer:"style_grid--scrollContainer--3Tlb8",pickerTitleRow:"style_grid--pickerTitleRow--3CnZS style_grid--_stylePickerRow--2MPKf raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",pickerTitle:"style_grid--pickerTitle--3BZhR header_modal--headerModalTitle--8hnpX",emptyStateContainer:"style_grid--emptyStateContainer--15sdK",emptyStateMessage:"style_grid--emptyStateMessage--2siY_ text--fontPos11--RSei3 text--_fontBase--YWDo0",noResultsMessage:"style_grid--noResultsMessage--lrr8I text--fontPos11--RSei3 text--_fontBase--YWDo0",pickerTitleButton:"style_grid--pickerTitleButton--yXgGN",createStyleButton:"style_grid--createStyleButton--1O0oW",browseLibrariesButton:"style_grid--browseLibrariesButton--JItqj",search:"style_grid--search--3yF66",contextMenu:"style_grid--contextMenu--1DF2j",styleGrid:"style_grid--styleGrid--3TrGE",styleIcon:"style_grid--styleIcon--au-hL",styleList:"style_grid--styleList--39nhA",thumbnail:"style_grid--thumbnail--e5j8z",selectedOutline:"style_grid--selectedOutline--1PV-0",gridThumbnail:"style_grid--gridThumbnail--1MKMX",gridSelectedOutline:"style_grid--gridSelectedOutline--2bh-Z",styleRow:"style_grid--styleRow--xWAeH",hoveredStyleRow:"style_grid--hoveredStyleRow--2QWY7 style_grid--styleRow--xWAeH",selectedStyleRow:"style_grid--selectedStyleRow--3IigJ style_grid--styleRow--xWAeH",showOnTitleHover:"style_grid--showOnTitleHover--AtZf8",name:"style_grid--name--281Gh ellipsis--ellipsis--1RWY6",sectionOrganized:"style_grid--sectionOrganized--3kfwf",sectionHeader:"style_grid--sectionHeader--1Kjmv",sectionHeaderFileName:"style_grid--sectionHeaderFileName--2h4RZ style_grid--sectionHeader--1Kjmv",sectionHeaderPrefix:"style_grid--sectionHeaderPrefix--1SW9w style_grid--sectionHeader--1Kjmv",textStyle:"style_grid--textStyle--QWS4V"}}),
(function(c,t,e){c.exports={src:'<svg width="12" height="14" viewBox="0 0 12 14" xmlns="http://www.w3.org/2000/svg"><path d="M2 7.05V0h1v7.05c1.141.232 2 1.24 2 2.45 0 1.21-.859 2.218-2 2.45V14H2v-2.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45zM4 9.5c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5C1 8.672 1.672 8 2.5 8 3.328 8 4 8.672 4 9.5zM9 14h1V6.95c1.141-.232 2-1.24 2-2.45 0-1.21-.859-2.218-2-2.45V0H9v2.05c-1.141.232-2 1.24-2 2.45 0 1.21.859 2.218 2 2.45V14zm2-9.5c0-.828-.672-1.5-1.5-1.5C8.672 3 8 3.672 8 4.5 8 5.328 8.672 6 9.5 6c.828 0 1.5-.672 1.5-1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),i=s(6,1        ),l=s(141              ),n=s(111          ),r=s(228         ),a=s(285                            ),y=s(226                       ),d=s(261                               ),p=s(232                       ),c=s(409                                  ),h=s(259           ),m=s(483                                                                  ),u=s(520                                           ),S=s(1016              ),v=s(150                         ),f=s(85                   ),g=s(138      ),_=s(122          ),L=c.dropdown.Dropdown,b=c.dropdown.Option,k=s(1017                                               );class w extends o.PureComponent{render(){return this.props.style.file_key===this.props.fileKey?o.createElement(L,{className:S.contextMenu,style:this.props.position},o.createElement(b,{onClick:this.props.onEditStyle.bind(this,this.props.style)},"Edit Style"),o.createElement(b,{onClick:this.props.onDeleteStyle.bind(this,this.props.style)},"Delete Style")):null}}t.StyleChitContextMenu=w,w.displayName="StyleChitContextMenu";class E extends o.PureComponent{constructor(e){super(e),this.handleMouseLeave=(()=>{this.setState({hoveredStyleIndex:null})}),this.handleMouseMove=(e=>{this.setState({disableHover:!1})}),this.onKeyDownFromFullscreen=(e=>{const t=e.event.keyCode;t!==g.Key.ENTER&&t!==g.Key.UP_ARROW&&t!==g.Key.DOWN_ARROW||(e.accept(),this.handleKeydown(e.event))}),this.handleKeydown=(e=>{if(!f.getFeatureFlags().style_picker_improvements||!this.props.stylePickerListLayout)return;const t=this.flattenAllStyles(this.props.localStyles,this.props.sharedStylesByFile);switch(e.keyCode){case g.Key.ENTER:null!==this.state.hoveredStyleIndex&&this.props.onApplyStyle(t[this.state.hoveredStyleIndex]);break;case g.Key.UP_ARROW:null!==this.state.hoveredStyleIndex&&this.state.hoveredStyleIndex>0&&this.setState({disableHover:!0,hoveredStyleIndex:this.state.hoveredStyleIndex-1}),e.preventDefault();break;case g.Key.DOWN_ARROW:(null===this.state.hoveredStyleIndex||this.state.hoveredStyleIndex<t.length-1)&&this.setState({disableHover:!0,hoveredStyleIndex:null===this.state.hoveredStyleIndex?0:this.state.hoveredStyleIndex+1}),e.preventDefault()}e.stopPropagation()}),this.groupSortedStylesByPrefix=(e=>{const t={};e.forEach(e=>{const s=y.getNamePrefix(e.name);t[s]=t[s]||[],t[s].push(e)});for(const s in t)a.sortStylesByPosition(t[s]);return t}),this.flattenStyleList=(e=>{const t=[],s=this.groupSortedStylesByPrefix([...e]);return Object.keys(s).sort((e,t)=>""===e?-1:""===t?1:(s[e][0].sort_position||"")<(s[t][0].sort_position||"")?-1:1).forEach(e=>{t.push(...s[e])}),t}),this.flattenAllStyles=_.memoizeLast((e,t)=>{const s=[];return s.push(...this.flattenStyleList(e)),this.fileKeysSortedAlphabeticallyByTeamAndFileName().forEach(e=>{s.push(...this.flattenStyleList(t[e]))}),s}),this.fileKeysSortedAlphabeticallyByTeamAndFileName=(()=>Object.keys(this.props.sharedStylesByFile).sort((e,t)=>{if(!this.props.fileByKey)return 0;const s=this.props.fileByKey[e],o=this.props.fileByKey[t];if(!s||!o)return s?1:-1;if(f.getFeatureFlags().style_picker_improvements)return s.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase());if(s.team_id===o.team_id||!s.team_id&&!o.team_id)return s.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase());if(!s.team_id||!o.team_id)return s.team_id?1:-1;const i=this.props.teams[s.team_id],l=this.props.teams[o.team_id];return i&&l?i.name&&l.name?i.name.toLocaleLowerCase().localeCompare(l.name.toLocaleLowerCase()):i.name?1:-1:i?1:-1})),this.setHoveredStyle=(e=>{this.setState({hoveredStyleIndex:this.flattenAllStyles(this.props.localStyles,this.props.sharedStylesByFile).indexOf(e)})}),this.state={disableHover:!0,hoveredStyleIndex:e.isSearching?0:null}}componentDidMount(){f.getFeatureFlags().style_picker_improvements&&(window.addEventListener("keydown",this.handleKeydown),window.addEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){f.getFeatureFlags().style_picker_improvements&&(window.removeEventListener("keydown",this.handleKeydown),window.removeEventListener("mousemove",this.handleMouseMove))}render(){const{mainStyleKey:e,localStyles:t,sharedStylesByFile:s}=this.props;let i=0;i+=t.length?1:0;const n=(i+=Object.keys(s).length)>1,r=this.fileKeysSortedAlphabeticallyByTeamAndFileName(),a=f.getFeatureFlags().style_picker_improvements,y=a?this.flattenAllStyles(t,s):[],d=a&&this.props.stylePickerListLayout&&null!==this.state.hoveredStyleIndex?y[this.state.hoveredStyleIndex]:null;return o.createElement(u.KeyboardReceiver,{name:this.props.recordingKey||"",handleKeyDown:a?this.onKeyDownFromFullscreen:void 0,focusOnMount:!!a||void 0},o.createElement("div",{onMouseLeave:this.handleMouseLeave},t.length>0&&o.createElement(x,Object.assign({stylelist:t,selectedId:e,hoveredStyle:d,showHeader:!!a||n,recordingKey:l.joinKeys(this.props,"localStyleSection"),setHoveredStyle:a&&!this.state.disableHover?this.setHoveredStyle:void 0},this.props)),r.map(t=>{const i=this.props.fileByKey[t].name;return o.createElement(x,Object.assign({key:t,stylelist:s[t],selectedId:e,hoveredStyle:d,fileName:i,showHeader:!!a||n,recordingKey:l.joinKeys(this.props,`section.${i}`),setHoveredStyle:a&&!this.state.disableHover?this.setHoveredStyle:void 0},this.props))})))}}t.StyleGrid=E,E.displayName="StyleGrid";class x extends o.PureComponent{constructor(){super(...arguments),this.selectedStyleIconRef=o.createRef(),this.onMouseDownStyle=((e,t)=>{t.stopPropagation(),0===t.button&&this.props.onApplyStyle(e)}),this.groupSortedStylesByPrefix=(e=>{const t={};e.forEach(e=>{const s=y.getNamePrefix(e.name);t[s]=t[s]||[],t[s].push(e)});for(const s in t)a.sortStylesByPosition(t[s]);return t}),this.hoveredStyleRef=(e=>{const t=i.findDOMNode(e);t&&t.scrollIntoView({block:"nearest"})}),this.onInspectStyle=((e,t)=>{r.assertDev(null!=e.content_hash,"style does not have a hash"),d.Fullscreen.selectStyle(e.key,e.content_hash),n.segment.track("Style Inspected",{styleType:e.style_type,from:"styleListClick"})}),this.stopPropagation=(e=>e.stopPropagation()),this.renderStyleList=(e=>o.createElement("div",{className:this.props.stylePickerListLayout?S.styleList:S.styleGrid},e.map(e=>{var t,s,i;const n=e.node_id,r=this.props.selectedId&&this.props.selectedId===e.key,a=this.props.stylePickerListLayout&&e.description,d=f.getFeatureFlags().style_picker_improvements,c=this.props.sharedStylesByFile.hasOwnProperty(e.file_key),u="TEXT"==e.style_type&&(null===(t=e.meta)||void 0===t?void 0:t.style_thumbnail)?e.meta.style_thumbnail:null,g=(null===(s=this.props.hoveredStyle)||void 0===s?void 0:s.key)===e.key;let _="";return this.props.stylePickerListLayout&&(_=r?S.selectedStyleRow:g?S.hoveredStyleRow:S.styleRow),o.createElement(v.RecordableDiv,{key:n,"data-tooltip-type":p.TooltipType.SPECIAL,"data-tooltip":a?p.TooltipSpecialKey.STYLE_INFO:"","data-tooltip-style-description":e.description,recordingKey:l.joinKeys(this.props,e.name),className:_,onMouseEnter:d?null===(i=this.props.setHoveredStyle)||void 0===i?void 0:i.bind(this,e):null,onMouseDown:this.onMouseDownStyle.bind(this,e),onDoubleClick:this.props.onNavigateToStyle?this.props.onNavigateToStyle.bind(this,e):null,onContextMenu:this.props.onContextMenu?this.props.onContextMenu.bind(this,e):null,ref:d&&g?this.hoveredStyleRef:null},o.createElement(h.StyleIcon,{selectedState:r&&(this.props.stylePickerListLayout?"background":"outline")||void 0,showTooltip:!this.props.stylePickerListLayout,style:e,className:S.styleIcon,thumbnailClassName:"TEXT"!==e.style_type?this.props.stylePickerListLayout?S.thumbnail:S.gridThumbnail:void 0,selectedOutlineClassName:this.props.stylePickerListLayout?S.selectedOutline:S.gridSelectedOutline,ref:r?this.selectedStyleIconRef:null}),this.props.stylePickerListLayout&&o.createElement(o.Fragment,null,o.createElement("div",{className:S.name},y.getLastPartOfName(e.name)),f.getFeatureFlags().style_picker_improvements&&u&&o.createElement("div",{className:S.textStyle},this.getFormattedTextStyle(u))),d&&this.props.stylePickerListLayout&&!c&&o.createElement(m.IconButton,{className:S.showOnTitleHover,recordingKey:l.joinKeys(this.props,"editStyleButton"),"data-tooltip":"Edit style","data-tooltip-type":p.TooltipType.TEXT,svg:k,selected:!!r,onMouseDown:this.stopPropagation,onClick:this.onInspectStyle.bind(this,e)}))})))}componentDidMount(){this.scrollToSelectedStyle()}scrollToSelectedStyle(){if(this.selectedStyleIconRef.current){const e=i.findDOMNode(this.selectedStyleIconRef.current);e&&e.scrollIntoView({block:"center",inline:"end"})}}removeZeroDecimal(e){const t=e.toFixed(1);return"0"===t.slice(-1)?e.toFixed(0):t}getFormattedTextStyle(e){if(!e.metrics||!e.metrics.fontSize||!e.metrics.lineHeight)return"";const t=" · "+this.removeZeroDecimal(e.metrics.fontSize)+"/",s=e.metrics.lineHeight;return"PERCENT"===s.units&&100===s.value?t+"Auto":"RAW"===s.units?t+this.removeZeroDecimal(100*s.value):t+this.removeZeroDecimal(s.value)}render(){const{stylelist:e,showHeader:t,fileName:s}=this.props,i=this.groupSortedStylesByPrefix([...e]),l=Object.keys(i).sort((e,t)=>(i[e][0].sort_position||"")<(i[t][0].sort_position||"")?-1:1);return o.createElement("div",{className:S.sectionOrganized},t&&s&&o.createElement("div",{className:S.sectionHeaderFileName},s),i[""]&&this.renderStyleList(i[""]),l.map(e=>e?o.createElement(o.Fragment,{key:e},o.createElement("div",{className:S.sectionHeaderPrefix},e),this.renderStyleList(i[e])):null))}}x.displayName="StyleSection"}),
(function(e,t,n){e.exports={_stylePickerRow:"style_panel--_stylePickerRow--2jEgk raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",scrollContainer:"style_panel--scrollContainer--HIibi",pickerTitleRow:"style_panel--pickerTitleRow--1edNa style_panel--_stylePickerRow--2jEgk raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",pickerTitle:"style_panel--pickerTitle--2lTTT header_modal--headerModalTitle--8hnpX",emptyStateContainer:"style_panel--emptyStateContainer---x3j8",emptyStateMessage:"style_panel--emptyStateMessage--3eGWk text--fontPos11--RSei3 text--_fontBase--YWDo0",noResultsMessage:"style_panel--noResultsMessage--2qMzp text--fontPos11--RSei3 text--_fontBase--YWDo0",pickerTitleButton:"style_panel--pickerTitleButton--3hI6S",createStyleButton:"style_panel--createStyleButton--3DhET",browseLibrariesButton:"style_panel--browseLibrariesButton--3en3s",search:"style_panel--search--20qmi"}}),
(function(o,t,h){o.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M5 5V0h1v5h5v1H6v5H5V6H0V5h5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(h,v,o){h.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 6h2v1H6V6zm0 10h2v1H6v-1zm0-5h2v1H6v-1zm4-5h8v1h-8V6zm0 10h8v1h-8v-1zm0-5h8v1h-8v-1z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(h,v,t){h.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M4 1H1v3h3V1zM0 0v5h5V0H0zm11 1H8v3h3V1zM7 0v5h5V0H7zM4 8H1v3h3V8zM0 7v5h5V7H0zm11 1H8v3h3V8zM7 7v5h5V7H7z" fill-rule="evenodd" fill-opacity="1" fill="#454545" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2,1    ),l=i(6,1        ),r=i(228         ),o=i(113                                     ),a=i(207                                   ),n=i(421                                ),p=i(260                                                  ),y=i(141              ),h=i(111          ),c=i(215                                          ),d=i(261                               ),u=i(442                             ),S=i(285                            ),m=i(86            ),g=i(85                   ),f=i(322                           ),_=i(176                       ),b=i(232                       ),T=i(1015                             ),K=i(1018                                                                ),k=i(231       ),L=i(308         ),E=i(773                                                    ),w=i(214         ),C=i(420              ),B=i(422                                        ),P=i(411                                                  ),v=i(146                        ),F=i(483                                                                  ),N=i(147                                            ),M=i(175                            );t.STYLES_PICKER_WIDTH=C.pxToInt(B.stylesPickerWidth);const I=i(1019               ),D=i(43,1         ),R=i(122          ),q=i(450                                              ),x=i(1020                                               ),O=i(1017                                               ),z=i(180                                      ),A=i(1021                                 ),j=i(1022                                 );function Y(e){return`styles-picker-${e}`}function V(e){return e&&k.isValid(e.guid)}function G(e){const t=S.getLocalStylesOfType(e.library.local.styles,e.styleType),i=W(e)?u.getValueOrNull(e.inheritStyleKey):null;return{localStyles:t,sharedStylesByFile:e.fileKey?S.getSubscribedStylesByFileOfType(e.library,e.styleType,e.fileByKey[e.fileKey],i):{},mainStyleKey:i}}function W(e){const t=u.getValueOrNull(e.inheritStyleKey);return!!(t&&t.length>0)}t.stylesPickerId=Y,t.stylesPicker=function(e){return e.pickerShown&&e.pickerShown.id===Y(e.inheritStyleKeyField)?e.pickerShown:null},t.hasSelectedStyle=V,t.mixedOrEmpty=function(e){if(e.filter(e=>e===u.MIXED).length)return!0;for(let t of e)if(0!==u.getValue(t,[]).length)return!1;return!0},t.isStyleConsumer=W,t.getMainStyle=function(e){if(!W(e))return null;const{mainStyleKey:t,localStyles:i,sharedStylesByFile:s}=G(e),l=e=>e.key===t,o=i.filter(l);if(o.length>0)return r.assertDev(1===o.length,"styles: multiple local style matches for mainStyleKey"),o[0];for(let a in s){const e=s[a].filter(l);if(e.length>0)return r.assertDev(1===e.length,"styles: multiple shared style matches for mainStyleKey"),e[0]}return null},t.getSelectedStyle=function(e){if(W(e)||!V(e.selectedStyleProperties))return null;const{localStyles:t,sharedStylesByFile:i}=G(e),s=t=>t.key===e.selectedStyleProperties.styleKey,l=t.filter(s);if(l.length>0)return r.assertDev(1===l.length,"styles: multiple local style matches for selected styleKey"),l[0];for(let o in i){const e=i[o].filter(s);if(e.length>0)return r.assertDev(1===e.length,"styles: multiple shared style matches for selected styleKey"),e[0]}return null},t.extractStylePickerBaseProps=function(e){return{sceneGraphSelection:e.sceneGraphSelection,library:e.library,dispatch:e.dispatch,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,fileKey:e.fileKey,fileByKey:e.fileByKey,inheritStyleKeyField:e.inheritStyleKeyField,inheritStyleKey:e.inheritStyleKey,selectedStyleProperties:e.selectedStyleProperties,styleType:e.styleType,stylePickerListLayout:e.stylePickerListLayout,scrollContainer:e.scrollContainer,teams:e.teams,toggleListLayout:e.toggleListLayout,hasMixedProperties:e.hasMixedProperties||!1,hasMissingFont:e.hasMissingFont}};class X extends s.PureComponent{constructor(e){super(e),this.scrollContainerRef=(e=>{this.scrollContainer=e}),this.generateStyleThumbnails=m.debounce(()=>{this.props.dispatch(p.libraryThumbnail.generateStyleThumbnails({styleType:this.props.styleType}))},200),this.initialPosition=(e=>e.initialPosition?e.initialPosition:e.picker?new w.Vector(e.picker.initialX,e.picker.initialY):new w.Vector(0,0)),this.uiSize={width:0,height:0},this.handleApplyStyle=(e=>{this.props.onApplyStyle(e,""!==this.state.query),this.props.dispatch(n.tooltip.hide()),this.props.picker.modal&&this.props.dispatch(a.fullscreen.hidePicker())}),this.handleNavigateToStyle=(e=>{d.Fullscreen.selectStyle(e.key,e.content_hash||""),this.props.dispatch(n.tooltip.hide()),h.segment.track("Style Inspected",{styleType:e.style_type,from:"stylePickerContextMenu"})}),this.handleDeleteStyle=(e=>{e.file_key===this.props.fileKey&&(d.Fullscreen.deleteNode(e.node_id),c.fullscreen.triggerAction("commit"),h.segment.track("Style Deleted",{styleType:e.style_type,from:"stylePickerContextMenu"}))}),this.handleContextMenu=((e,t)=>{this.props.dispatch(o.fileBrowser.showDropdown({type:X.EDIT_STYLE_MENU,data:{style:e,position:{top:t.clientY,left:t.clientX}}}))}),this.toggleListLayout=(()=>{this.props.toggleListLayout&&(this.props.toggleListLayout(),this.styleSearchInput&&this.styleSearchInput.focus())}),this.styleSearchInputRef=(e=>{this.styleSearchInput=e}),this.onClose=(()=>{this.props.dispatch(a.fullscreen.hidePicker())}),this.onDragEnd=(()=>{this.props.picker.modal&&this.props.dispatch(a.fullscreen.showPicker(Object.assign(Object.assign({},this.props.picker),{modal:!1})))}),this.onBrowseLibrariesButtonClick=(()=>{this.props.dispatch(o.fileBrowser.showModal({type:M.LIBRARY_PREFERENCES_MODAL,data:{tab:_.LibraryPreferencesModalTab.LIBRARIES}}))}),this.onSearchQueryChange=m.debounce(e=>{var t;this.setState({query:e}),null===(t=this.scrollContainer)||void 0===t||t.scrollToTop()},100),this.clearSearch=(()=>{this.setState({query:""})}),this.styleSearch=new f.SearchLibrary([],{keys:["name","description"],threshold:.3,tokenize:!0,matchAllTokens:!0,shouldSort:!0}),this.updateFilteredLocalStyles=R.memoizeLast((e,t,i)=>{const s=S.getLocalStylesOfType(e,t);return this.styleSearch.set(s),this.styleSearch.search(i).map(e=>e)}),this.updateFilteredSharedStylesByFile=R.memoizeLast((e,t,i,s,l,r)=>{var o;const a=u.getValueOrNull(i)||null,n=t?S.getSubscribedStylesByFileOfType(l,e,t,a):{},p={};for(const y in n)if(null===(o=s[y])||void 0===o?void 0:o.name.toLocaleLowerCase().trim().includes(r))p[y]=n[y];else{this.styleSearch.set(n[y]);const e=this.styleSearch.search(r);e.length>0&&(p[y]=e)}return p}),this.state={query:""}}componentDidMount(){this.generateStyleThumbnails(),this.checkSizeChange()}UNSAFE_componentWillReceiveProps(e){this.generateStyleThumbnails()}componentDidUpdate(e){this.checkSizeChange()}checkSizeChange(){if(!this.props.onSizeChange)return;let e=l.findDOMNode(this),t=0,i=0;if(e){let s=e.getBoundingClientRect();t=s.width,i=s.height}t===this.uiSize.width&&i===this.uiSize.height||(this.uiSize.width=t,this.uiSize.height=i,this.props.onSizeChange(t,i,e))}dropdown(){return this.props.dropdownShown&&this.props.dropdownShown.type===X.EDIT_STYLE_MENU&&this.props.dropdownShown.data.style.style_type===this.props.styleType?this.props.dropdownShown:null}render(){const{localStyles:e,sharedStylesByFile:i}=G(this.props),l=W(this.props)?u.getValueOrNull(this.props.inheritStyleKey):null,r=g.getFeatureFlags().style_picker_improvements,o=e.length>0||!L.isEmpty(i),a=this.updateFilteredLocalStyles(this.props.library.local.styles,this.props.styleType,this.state.query),n=this.props.fileKey?this.props.fileByKey[this.props.fileKey]:null,p=this.updateFilteredSharedStylesByFile(this.props.styleType,n,this.props.inheritStyleKey,this.props.fileByKey,this.props.library,this.state.query),h=!r||(a.length>0||!L.isEmpty(p));let c=!1;this.props.fileKey&&(c=S.getSubscribedLibraryItems(this.props.library,this.props.library.published.styles,this.props.fileByKey[this.props.fileKey]).length>0);const d=this.dropdown(),m="FILL"==this.props.styleType||"STROKE"==this.props.styleType;return s.createElement(E.DraggableModal,{title:"",headerSize:"hidden",initialWidth:t.STYLES_PICKER_WIDTH,initialPosition:this.initialPosition(this.props),minBottomMargin:this.props.minBottomMargin,onDragEnd:this.onDragEnd,onClose:this.onClose},s.createElement("div",{className:I.pickerTitleRow},s.createElement("div",{className:I.pickerTitle},S.styleTypeToStylesHeader(this.props.styleType)),!r&&s.createElement(F.IconButton,{className:I.pickerTitleButton,"data-tooltip-type":b.TooltipType.TEXT,"data-tooltip":"Edit Style",recordingKey:y.joinKeys(this.props,"editStyleButton"),svg:O,disabled:!this.props.onEditStyle,onClick:this.props.onEditStyle}),r&&m&&this.props.toggleListLayout&&s.createElement(F.IconButton,{className:I.pickerTitleButton,"data-tooltip-type":b.TooltipType.TEXT,"data-tooltip":`Show as ${this.props.stylePickerListLayout||""!==this.state.query?"Grid":"List"}`,recordingKey:y.joinKeys(this.props,"toggleStylePickerListLayout"),svg:this.props.stylePickerListLayout||""!==this.state.query?j:A,onClick:this.toggleListLayout,disabled:""!==this.state.query}),s.createElement(F.IconButton,{className:I.createStyleButton,"data-tooltip-type":b.TooltipType.TEXT,"data-tooltip":"Create Style",recordingKey:y.joinKeys(this.props,"addStyleButton"),svg:q,fallbackSvg:x,disabled:!this.props.onCreateStyle,onClick:this.props.onCreateStyle})),r&&s.createElement(T.SearchBar,{ref:this.styleSearchInputRef,className:I.search,focusOnMount:!0,query:this.state.query,clearSearch:this.clearSearch,onChange:this.onSearchQueryChange,useDeprecatedStyles:!0,recordingKey:y.joinKeys(this.props,"styleSearchBar")}),o&&s.createElement(P.ScrollContainer,{className:I.scrollContainer,showScrollbar:!0,width:t.STYLES_PICKER_WIDTH,ref:this.scrollContainerRef},s.createElement(K.StyleGrid,{inheritStyleKeyField:this.props.inheritStyleKeyField,fileKey:this.props.fileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,sharedStylesByFile:r&&""!==this.state.query?p:i,mainStyleKey:l,localStyles:r&&""!==this.state.query?a:e,key:this.state.query+(this.props.stylePickerListLayout?"1":"0"),onApplyStyle:this.handleApplyStyle,onNavigateToStyle:this.handleNavigateToStyle,onContextMenu:this.handleContextMenu,stylePickerListLayout:""!==this.state.query||this.props.stylePickerListLayout,isSearching:""!==this.state.query,recordingKey:y.joinKeys(this.props,"styleGrid")})),!o&&s.createElement("div",{className:I.emptyStateContainer},s.createElement("div",{className:I.emptyStateMessage},"No ",S.styleTypeToStylesHeader(this.props.styleType),"."),!c&&s.createElement(N.ButtonSecondary,{className:I.browseLibrariesButton,onClick:this.onBrowseLibrariesButtonClick},s.createElement("div",null,s.createElement(v.Svg,{svg:z})),"Browse libraries...")),o&&!h&&s.createElement("div",{className:I.noResultsMessage},"No styles match this search."),d&&s.createElement(K.StyleChitContextMenu,{style:d.data.style,position:d.data.position,onEditStyle:this.handleNavigateToStyle,onDeleteStyle:this.handleDeleteStyle,fileKey:this.props.fileKey,fileByKey:this.props.fileByKey,teams:this.props.teams}))}}var H;t.StylePicker=X,X.displayName="StylePicker",X.EDIT_STYLE_MENU="edit-local-styles-context-menu",function(e){e.ConnectedStylePicker=D.connect((e,t)=>({library:e.library,dropdownShown:e.dropdownShown,fileKey:e.editingFileKey,fileByKey:e.fileByKey,teams:e.teams,inheritStyleKeyField:"inheritFillStyleKey",sceneGraphSelection:e.mirror.sceneGraphSelection,selectedStyleProperties:e.mirror.selectedStyleProperties}),e=>({dispatch:e}))(X)}(H||(H={})),t.ConnectedStylePicker=H.ConnectedStylePicker}),
(function(_,t,E){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}),
(function(e,r,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";var o=t(1024);function n(){}e.exports=function(){function e(e,r,t,n,p,a){if(a!==o){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function r(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r};return t.checkPropTypes=n,t.PropTypes=t,t}}),
(function(i,o,t){i.exports=t(1025)()}),
(function(s,a,e){"use strict";a.__esModule=!0,a.default=function(s,a){return s.classList?!!a&&s.classList.contains(a):-1!==(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+a+" ")},s.exports=a.default}),
(function(s,a,e){"use strict";var t=e(10,1);a.__esModule=!0,a.default=function(s,a){s.classList?s.classList.add(a):(0,l.default)(s,a)||("string"==typeof s.className?s.className=s.className+" "+a:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+a))};var l=t(e(1027));s.exports=a.default}),
(function(s,e,a){"use strict";function c(s,e){return s.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}s.exports=function(s,e){s.classList?s.classList.remove(e):"string"==typeof s.className?s.className=c(s.className,e):s.setAttribute("class",c(s.className&&s.className.baseVal||"",e))}}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function o(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function i(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!=n?n:null}.bind(this))}function p(t,e){try{var n=this.props,o=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}Object.defineProperty(e,"__esModule",{value:!0}),o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,p.__suppressDeprecationWarning=!0,e.polyfill=function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,l=null,r=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?l="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(l="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?r="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==l||null!==r){var s=t.displayName||t.name,a="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==l?"\n  "+l:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=o,e.componentWillReceiveProps=i),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=p;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,t,e,o)}}return t}}),
(function(e,s,a){"use strict";s.__esModule=!0,s.classNamesShape=s.timeoutsShape=void 0;var l;(l=a(1026))&&l.__esModule;s.timeoutsShape=null;s.classNamesShape=null}),
(function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(n(1026)),r=s(n(2,1)),o=s(n(6,1)),a=n(1030);n(1031);function s(t){return t&&t.__esModule?t:{default:t}}var u="unmounted";e.UNMOUNTED=u;var l="exited";e.EXITED=l;var p="entering";e.ENTERING=p;var c="entered";e.ENTERED=c;e.EXITING="exiting";var d=function(t){var e,n;function i(e,n){var i;i=t.call(this,e,n)||this;var r,o=n.transitionGroup,a=o&&!o.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?a?(r=l,i.appearStatus=p):r=c:r=e.unmountOnExit||e.mountOnEnter?u:l,i.state={status:r},i.nextCallback=null,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getChildContext=function(){return{transitionGroup:null}},i.getDerivedStateFromProps=function(t,e){return t.in&&e.status===u?{status:l}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==c&&(e=p):n!==p&&n!==c||(e="exiting")}this.updateStatus(!1,e)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!=typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},a.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=o.default.findDOMNode(this);e===p?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:u})},a.performEnter=function(t,e){var n=this,i=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts(),a=r?o.appear:o.enter;e||i?(this.props.onEnter(t,r),this.safeSetState({status:p},function(){n.props.onEntering(t,r),n.onTransitionEnd(t,a,function(){n.safeSetState({status:c},function(){n.props.onEntered(t,r)})})})):this.safeSetState({status:c},function(){n.props.onEntered(t)})},a.performExit=function(t){var e=this,n=this.props.exit,i=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:"exiting"},function(){e.props.onExiting(t),e.onTransitionEnd(t,i.exit,function(){e.safeSetState({status:l},function(){e.props.onExited(t)})})})):this.safeSetState({status:l},function(){e.props.onExited(t)})},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},a.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(t,e,n){this.setNextCallback(n),t?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===u)return null;var e=this.props,n=e.children,i=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(e,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"==typeof n)return n(t,i);var o=r.default.Children.only(n);return r.default.cloneElement(o,i)},i}(r.default.Component);function f(){}d.contextTypes={transitionGroup:i.object},d.childContextTypes={transitionGroup:function(){}},d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var E=(0,a.polyfill)(d);e.default=E}),
(function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(1026));var r=i(n(1028)),s=i(n(1029)),o=i(n(2,1)),a=i(n(1032));n(1031);function i(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,r.default)(e,t)})},c=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,s.default)(e,t)})},u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("enter").doneClassName;t.removeClasses(e,n?"appear":"enter"),l(e,r),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"!=typeof n?n[e]:n+"-"+e;return{className:r,activeClassName:"string"!=typeof n?n[e+"Active"]:r+"-active",doneClassName:"string"!=typeof n?n[e+"Done"]:r+"-done"}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,s=n.activeClassName,o=n.doneClassName;r&&c(e,r),s&&c(e,s),o&&c(e,o)},s.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},s.render=function(){var e=p({},this.props);return delete e.classNames,o.default.createElement(a.default,p({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);u.propTypes={};var f=u;t.default=f,e.exports=t.default}),
(function(n,e,i){"use strict";e.__esModule=!0,e.getChildMapping=r,e.mergeChildMappings=l,e.getInitialChildMapping=function(n,e){return r(n.children,function(i){return(0,t.cloneElement)(i,{onExited:e.bind(null,i),in:!0,appear:u(i,"appear",n),enter:u(i,"enter",n),exit:u(i,"exit",n)})})},e.getNextChildMapping=function(n,e,i){var a=r(n.children),o=l(e,a);return Object.keys(o).forEach(function(r){var l=o[r];if((0,t.isValidElement)(l)){var c=r in e,f=r in a,p=e[r],d=(0,t.isValidElement)(p)&&!p.props.in;!f||c&&!d?f||!c||d?f&&c&&(0,t.isValidElement)(p)&&(o[r]=(0,t.cloneElement)(l,{onExited:i.bind(null,l),in:p.props.in,exit:u(l,"exit",n),enter:u(l,"enter",n)})):o[r]=(0,t.cloneElement)(l,{in:!1}):o[r]=(0,t.cloneElement)(l,{onExited:i.bind(null,l),in:!0,exit:u(l,"exit",n),enter:u(l,"enter",n)})}}),o};var t=i(2,1);function r(n,e){var i=Object.create(null);return n&&t.Children.map(n,function(n){return n}).forEach(function(n){i[n.key]=function(n){return e&&(0,t.isValidElement)(n)?e(n):n}(n)}),i}function l(n,e){function i(i){return i in e?e[i]:n[i]}n=n||{},e=e||{};var t,r=Object.create(null),l=[];for(var u in n)u in e?l.length&&(r[u]=l,l=[]):l.push(u);var a={};for(var o in e){if(r[o])for(t=0;t<r[o].length;t++){var c=r[o][t];a[r[o][t]]=i(c)}a[o]=i(o)}for(t=0;t<l.length;t++)a[l[t]]=i(l[t]);return a}function u(n,e,i){return null!=i[e]?i[e]:n.props[e]}}),
(function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=p(n(1026)),i=p(n(2,1)),o=n(1030),a=n(1034);function p(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},c=function(t){var e,n;function r(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(d(d(r)));return r.state={handleExited:i,firstRender:!0},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,r):(0,a.getNextChildMapping)(t,n,r),firstRender:!1}},o.handleExited=function(t,e){var n=(0,a.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState(function(e){var n=u({},e.children);return delete n[t.key],{children:n}}))},o.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["component","childFactory"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o:i.default.createElement(e,r,o)},r}(i.default.Component);c.childContextTypes={transitionGroup:r.default.object.isRequired},c.propTypes={},c.defaultProps={component:"div",childFactory:function(t){return t}};var s=(0,o.polyfill)(c);e.default=s,t.exports=e.default}),
(function(e,n,t){"use strict";n.__esModule=!0,n.default=void 0;l(t(1026));var r=l(t(2,1)),o=t(6,1),i=l(t(1035));function l(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var n,t;function l(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onEnter",0,t)},n.handleEntering=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onEntering",0,t)},n.handleEntered=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onEntered",0,t)},n.handleExit=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onExit",1,t)},n.handleExiting=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onExiting",1,t)},n.handleExited=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onExited",1,t)},n}t=e,(n=l).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var a=l.prototype;return a.handleLifecycle=function(e,n,t){var i,l=this.props.children,a=r.default.Children.toArray(l)[n];a.props[e]&&(i=a.props)[e].apply(i,t),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},a.render=function(){var e=this.props,n=e.children,t=e.in,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,["children","in"]),l=r.default.Children.toArray(n),a=l[0],d=l[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,r.default.createElement(i.default,o,t?r.default.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(d,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},l}(r.default.Component);a.propTypes={};var d=a;n.default=d,e.exports=n.default}),
(function(n,i,t){"use strict";var a=s(t(1033)),r=s(t(1036)),e=s(t(1035)),o=s(t(1032));function s(n){return n&&n.__esModule?n:{default:n}}n.exports={Transition:o.default,TransitionGroup:e.default,ReplaceTransition:r.default,CSSTransition:a.default}}),
(function(a,e,t){a.exports={appear:"fade_out_transition--appear--3LOyV","appear-active":"fade_out_transition--appear-active--ewEzY",leave:"fade_out_transition--leave--nQRDq","leave-active":"fade_out_transition--leave-active--2HwHt"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2,1    ),i=n(1037                    ),r=n(1038                       );t.FadeOutTransition=class extends s.PureComponent{constructor(){super(...arguments),this.selectionStayedTheSame=!1}UNSAFE_componentWillReceiveProps(e){this.selectionStayedTheSame=this.props.sceneGraphSelection===e.sceneGraphSelection}render(){return s.createElement(i.CSSTransition,{classNames:{enter:"",appear:r.appear,exit:r.leave},timeout:{exit:this.selectionStayedTheSame?90:void 0}},s.createElement("div",null,this.props.children))}}}),
(function(e,l,p){e.exports={panelTitleRow:"collapsible_property_panel--panelTitleRow--15lkQ",titleButton:"collapsible_property_panel--titleButton--3lkDn",showOnTitleHover:"collapsible_property_panel--showOnTitleHover--1NAi-",panelEmptyTitleRow:"collapsible_property_panel--panelEmptyTitleRow--3mfdy collapsible_property_panel--panelTitleRow--15lkQ",panelTitle:"collapsible_property_panel--panelTitle--1cZql raw_components--panelTitle--7MaOu",fadeOutOnTitleUnhover:"collapsible_property_panel--fadeOutOnTitleUnhover--5BIxM",panelStyleTitle:"collapsible_property_panel--panelStyleTitle--3gOJz collapsible_property_panel--panelTitle--1cZql raw_components--panelTitle--7MaOu",panelMixedMessage:"collapsible_property_panel--panelMixedMessage--1T_xL",panelTitleText:"collapsible_property_panel--panelTitleText--3GA0U",titleButtons:"collapsible_property_panel--titleButtons--31ND1",collapsedPanelPreviewTitle:"collapsible_property_panel--collapsedPanelPreviewTitle--3zR9X",selectedCollapsedPanelPreviewTitle:"collapsible_property_panel--selectedCollapsedPanelPreviewTitle--2eC4k collapsible_property_panel--collapsedPanelPreviewTitle--3zR9X",narrowCollapsedPanelPreviewTitle:"collapsible_property_panel--narrowCollapsedPanelPreviewTitle--ZH1MQ",collapsedPanelPreviewIcon:"collapsible_property_panel--collapsedPanelPreviewIcon--t8fhY",styleTitleName:"collapsible_property_panel--styleTitleName--nHmnE ellipsis--ellipsis--1RWY6"}}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=o(766                                          );function i(e){const n=t.decodeDataWithBlobs("fillPaints",e);return n&&n.data&&1===n.data.length?{encodedPaint:e,paint:n.data[0]}:void console.error(`Failed to decode: ${e}`)}n.decodeSelectionPaintsEncodedAsFillPaints=function(e,n,o,t){var a=[];for(const c of e){const e=i(c);e?a.push(e):console.error(`Failed to decode: ${c}`)}return a=a.map((e,i)=>(e.count=n?n[i]:0,e.uniqueNodesCount=o?o[i]:0,e.conflictNodesCount=t?t[i]:0,e))},n.decodeSelectionPaintEncodedAsFillPaint=i,n.encodePaintAsFillPaints=function(e){return t.encodeDataWithBlobs("fillPaints",{data:[e],blobs:[]})}}),
(function(t,e,l){t.exports={inputRow:"style_modal--inputRow--dYdct",chitContainer:"style_modal--chitContainer--2Kfc0",errorMessage:"style_modal--errorMessage--27aVK",applyMultipleStylesMessage:"style_modal--applyMultipleStylesMessage--14lgk",chit:"style_modal--chit--3U2VU",selectButton:"style_modal--selectButton--2Z1VX",targetIcon:"style_modal--targetIcon--18Er3",textInput:"style_modal--textInput--35iME"}}),
(function(h,v,c){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 3.025V1.5h-1v1.525C5.138 3.259 3.26 5.138 3.025 7.5H1.5v1h1.525c.234 2.362 2.113 4.24 4.475 4.475V14.5h1v-1.525c2.362-.234 4.24-2.113 4.475-4.475H14.5v-1h-1.525c-.234-2.362-2.113-4.24-4.475-4.475zm-1 1.006V6.5h1V4.031c1.81.226 3.243 1.66 3.47 3.469H9.5v1h2.47c-.227 1.81-1.66 3.243-3.47 3.47V9.5h-1v2.47c-1.81-.227-3.243-1.66-3.469-3.47H6.5v-1H4.031C4.257 5.69 5.69 4.257 7.5 4.031z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),l=a(6,1        ),i=a(113                                     ),r=a(261                               ),n=a(111          ),o=a(141              ),p=a(154                                 ),c=a(1041                              ),m=a(259                                                                 ),h=a(147                                            ),y=a(147                                            ),d=a(146                        ),u=a(152                                          ),S=a(226                       ),N=a(1042               ),f=a(191           ),g=a(136                                 ),w=a(1043                                                 );t.CREATE_STYLE="CREATE_STYLE",g.registerUnsafeModal(t.CREATE_STYLE,e=>s.createElement(b,Object.assign({recordingKey:"createStyleModal",nodeId:e.modalShown.data.nodeId,type:e.modalShown.data.type,inheritStyleKeyField:e.modalShown.data.inheritStyleKeyField},e)));class b extends o.Component{constructor(e){switch(super(e),this.styleTitle="",this.previewUrl="",this.previewStyleThumbnail={type:"INVALID"},this.onCancel=(e=>{e.preventDefault(),this.props.dispatch(i.fileBrowser.hideModal())}),this.onSubmit=o.otherEvent(this,"submit",e=>{e.preventDefault(),this.state.error&&this.setState({error:!1});const t=!!this.props.mirror.selectionProperties[this.props.inheritStyleKeyField];let a=e.target.elements;r.Fullscreen.createStyleFromSelection(this.props.inheritStyleKeyField,a.styleName.value)?(this.props.dispatch(i.fileBrowser.hideModal()),n.segment.track("Style Created",{fromStyle:t,styleType:this.props.type})):this.setState({error:!0})},{record:e=>({styleName:e.target.elements.styleName.value}),playback:e=>({preventDefault(){},target:{elements:{styleName:{value:e.styleName}}}})}),this.inputRef=(e=>{if(e){l.findDOMNode(e).select()}}),this.state={error:!1},this.props.type){case"FILL":this.styleTitle="color";break;case"TEXT":this.styleTitle="text";break;case"EFFECT":this.styleTitle="effect";break;case"EXPORT":this.styleTitle="export";break;case"GRID":this.styleTitle="grid"}this.previewStyleThumbnail=S.getStyleThumbnailForCSSRendering(e.nodeId,e.type,this.props.inheritStyleKeyField),"INVALID"===this.previewStyleThumbnail.type&&(this.previewUrl=S.getThumbnailUrlForStyleConsumer(e.nodeId,e.inheritStyleKeyField))}render(){const e=this.styleTitle?`Create new ${this.styleTitle} style`:"Create new style",t={thumbnail_url:this.previewUrl,style_type:this.props.type,meta:{style_thumbnail:this.previewStyleThumbnail}};return s.createElement(p.Modal,Object.assign({title:e,size:"small",className:f.modal},this.props),s.createElement(u.ModalCloseButton,{dispatch:this.props.dispatch}),s.createElement("form",{onSubmit:this.onSubmit},s.createElement("div",{className:N.inputRow},s.createElement("div",{className:N.chitContainer},s.createElement(m.StyleIcon,{style:t})),s.createElement(y.TextInput,{className:N.textInput,name:"styleName",ref:this.inputRef,placeholder:"Untitled"})),this.state.error&&s.createElement("div",{className:N.errorMessage},"An error occurred while creating the style."),s.createElement("div",{className:f.buttonRow},s.createElement(h.ButtonSecondary,{type:"button",className:f.cancelLink,onClick:this.onCancel},"Cancel"),s.createElement(h.ButtonPrimary,{type:"submit",className:f.confirmButton},"Create style"))))}}b.displayName="CreateStyleModal",t.PAINT_DATA_STYLES="PAINT_DATA_STYLES",g.registerUnsafeModal(t.PAINT_DATA_STYLES,e=>s.createElement(v,Object.assign({recordingKey:"SelectionColorsStylesModal",originalPaint:e.modalShown.data.originalPaint,paintDataNodesInPaint:e.modalShown.data.paintDataNodesInPaint,conflictNodesCount:e.modalShown.data.conflictNodesCount,createNewStyle:e.modalShown.data.createNewStyle,styleKey:e.modalShown.data.styleKey,styleVersion:e.modalShown.data.styleVersion},e)));class v extends o.Component{constructor(e){super(e),this.previewUrl=new Array(this.props.paintDataNodesInPaint.length).fill(""),this.previewStyleThumbnail=new Array(this.props.paintDataNodesInPaint.length).fill({type:"INVALID"}),this.multiplePaintDatas=this.props.paintDataNodesInPaint.length>1,this.onSelectSamePaintClick=(()=>{let e=c.encodePaintAsFillPaints(this.props.originalPaint);r.SelectionPaintHelpers.selectConflictingWithPaint(e),this.props.dispatch(i.fileBrowser.hideModal())}),this.onCancel=(e=>{e.preventDefault(),this.props.dispatch(i.fileBrowser.hideModal())}),this.onSubmit=o.otherEvent(this,"submit",e=>{e.preventDefault(),this.state.error&&this.setState({error:!1});let t,a=c.encodePaintAsFillPaints(this.props.originalPaint),s=e.target.elements,l=!1;if(this.props.createNewStyle){if(!s.styleName)return this.setState({error:!0}),void console.log("elements.styleName does not exist");null==s.styleName.length?(l=r.SelectionPaintHelpers.createStylesFromPaintDatas(a,Array.of(s.styleName.value)),t=1):(l=r.SelectionPaintHelpers.createStylesFromPaintDatas(a,Array.from(s.styleName).map(e=>e.value)),t=s.styleName.length),l&&n.segment.track("Style Created from Selection Paint",{styleCount:t})}else(l=r.SelectionPaintHelpers.applyStyleToPaintDatas(a,this.props.styleKey,this.props.styleVersion))&&n.segment.track("Apply Style to Selection Paint ",{count:this.props.paintDataNodesInPaint.length});l?this.props.dispatch(i.fileBrowser.hideModal()):this.setState({error:!0})},{record:e=>null==e.target.styleName.length?{styleName:{value:e.target.styleName.value}}:{styleName:Array.from(e.target.styleName).map(e=>({value:e.value}))},playback:e=>({preventDefault(){},target:{elements:{styleName:e.styleName}}})}),this.inputRef=(e=>{if(e){l.findDOMNode(e).select()}}),this.state={error:!1};for(let t=0;t<e.paintDataNodesInPaint.length;t++)this.previewStyleThumbnail[t]=S.getStyleThumbnailForCSSRendering(e.paintDataNodesInPaint[t].nodeId,"FILL",e.paintDataNodesInPaint[t].inheritStyleKeyField),("INVALID"===this.previewStyleThumbnail[t].type||this.previewStyleThumbnail[t].fillPaints.length>1||"SOLID"!=this.previewStyleThumbnail[t].fillPaints[0].type)&&(this.previewUrl[t]=S.getThumbnailUrlForStyleConsumer(e.paintDataNodesInPaint[t].nodeId,e.paintDataNodesInPaint[t].inheritStyleKeyField))}render(){const e=this.props.createNewStyle?this.multiplePaintDatas?"Create new color styles":"Create new color style":this.multiplePaintDatas?"Color conflict":"",t=this.props.createNewStyle?this.multiplePaintDatas?"Create styles":"Create style":"Use style",a=this.props.createNewStyle?"An error ocurred while creating the style.":"An error ocurred while applying the style.";return s.createElement(p.Modal,Object.assign({title:e,size:"small",className:f.modal},this.props),s.createElement(u.ModalCloseButton,{dispatch:this.props.dispatch}),s.createElement("form",{onSubmit:this.onSubmit},this.props.createNewStyle&&this.props.paintDataNodesInPaint.map((e,t)=>s.createElement("div",{className:N.inputRow,key:e},s.createElement("div",{className:N.chitContainer},s.createElement(m.StyleIcon,{style:{thumbnail_url:this.previewUrl[t],style_type:"FILL",meta:{style_thumbnail:this.previewStyleThumbnail[t]}}})),s.createElement(y.TextInput,{className:N.textInput,name:"styleName",ref:0==t?this.inputRef:null,placeholder:0==t?"Untitled":`Untitled ${t+1}`}))),this.state.error&&s.createElement("div",{className:N.errorMessage},a),this.multiplePaintDatas&&!this.props.createNewStyle&&s.createElement("div",{className:N.applyMultipleStylesMessage},`There ${this.props.conflictNodesCount>1?"are":"is"} ${this.props.conflictNodesCount} ${this.props.conflictNodesCount>1?"objects":"object"} where this color is used in combination with other colors. The other colors will be removed.`),s.createElement("div",{className:f.buttonRow},this.multiplePaintDatas&&!this.props.createNewStyle&&s.createElement(h.ButtonSecondary,{type:"button",className:`${f.cancelLink} ${N.selectButton}`,onClick:this.onSelectSamePaintClick,recordingKey:o.joinKeys(this.props,"showMe")},s.createElement(d.Svg,{className:N.targetIcon,svg:w}),"Show me"),s.createElement(h.ButtonSecondary,{type:"button",className:f.cancelLink,onClick:this.onCancel},"Cancel"),s.createElement(h.ButtonPrimary,{type:"submit",className:f.confirmButton},t))))}}v.displayName="SelectionColorsStylesModal"}),
(function(o,t,i){o.exports={src:'<svg width="12" height="6" viewBox="0 0 12 6" xmlns="http://www.w3.org/2000/svg"><path d="M11.5 3.5H.5v-1h11v1z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="12" height="6" viewBox="0 0 12 6" xmlns="http://www.w3.org/2000/svg"><path d="M11 3H0V2h11v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,h,c){l.exports={src:'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v3h1V0H4zm9.103.896c-1.162-1.161-3.045-1.161-4.207 0l-2.75 2.75.707.708 2.75-2.75c.771-.772 2.022-.772 2.793 0 .771.77.771 2.021 0 2.792l-2.75 2.75.707.708 2.75-2.75c1.162-1.162 1.162-3.046 0-4.208zM.896 13.103c-1.162-1.161-1.162-3.045 0-4.207l2.75-2.75.707.708-2.75 2.75c-.771.77-.771 2.021 0 2.792.771.772 2.022.772 2.793 0l2.75-2.75.707.707-2.75 2.75c-1.162 1.162-3.045 1.162-4.207 0zM14 10h-3V9h3v1zM10 11v3H9v-3h1zM3 4H0v1h3V4z" fill-rule="nonzero" fill-opacity=".9" fill="#000" stroke="none"/></svg>'}}),
(function(o,t,c){o.exports={src:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.5 2c0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5C3.5 1.172 2.828.5 2 .5 1.172.5.5 1.172.5 2zm6 0c0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5C9.5 1.172 8.828.5 8 .5c-.828 0-1.5.672-1.5 1.5zM8 9.5c-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5zM.5 8c0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5C1.172 6.5.5 7.172.5 8z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.5C0 2.328.672 3 1.5 3 2.328 3 3 2.328 3 1.5 3 .672 2.328 0 1.5 0 .672 0 0 .672 0 1.5zm6 0C6 2.328 6.672 3 7.5 3 8.328 3 9 2.328 9 1.5 9 .672 8.328 0 7.5 0 6.672 0 6 .672 6 1.5zM7.5 9C6.672 9 6 8.328 6 7.5 6 6.672 6.672 6 7.5 6 8.328 6 9 6.672 9 7.5 9 8.328 8.328 9 7.5 9zM0 7.5C0 8.328.672 9 1.5 9 2.328 9 3 8.328 3 7.5 3 6.672 2.328 6 1.5 6 .672 6 0 6.672 0 7.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2,1    ),o=i(6,1        ),p=i(141              ),l=i(260                                                  ),r=i(319                                              ),n=i(113                                     ),a=i(421                                ),c=i(207                                   ),h=i(111          ),y=i(86            ),d=i(214         ),S=i(85                   ),m=i(442                             ),g=i(261                               ),_=i(176                       ),u=i(232                       ),E=i(1023                                                                 ),T=i(794                                                                        ),k=i(150                         ),P=i(483                                                                  ),f=i(259                                                                 ),M=i(1039                                        ),w=i(1040                              ),C=i(1044                                            ),v=i(1017                                               ),R=i(450                                              ),O=i(1020                                               ),I=i(1045                                              ),N=i(1046                                                ),b=i(1047                                              ),K=i(1048                                               ),B=i(1049                                                 );var D;function L(e){return new d.Vector(e?e.initialX:0,e?e.initialY:0)}!function(e){e[e.STYLE_CONSUMER=0]="STYLE_CONSUMER",e[e.MIXED_STYLE_CONSUMER=1]="MIXED_STYLE_CONSUMER",e[e.CUSTOM_OR_MIXED_PROPERTIES=2]="CUSTOM_OR_MIXED_PROPERTIES"}(D||(D={})),t.pickerMinBottomMargin=4,t.pickerPosition=L;class U extends p.PureComponent{constructor(e){super(e),this.panelTitleRef=(e=>{e&&(this.panelTitle=o.findDOMNode(e))}),this.hasPushedScrollStateSnapshot=!1,this.pickerHeight=0,this.onPickerSizeChange=((e,t,i)=>{this.pickerHeight=t,this.onPickerChanged()}),this.stopPropagation=(e=>e.stopPropagation()),this.toggleShowingStyles=(e=>{if(E.stylesPicker(this.props))this.props.dispatch(c.fullscreen.hidePicker());else{const e=this.panelTitle.getBoundingClientRect(),t=e.left+(e.width-E.STYLES_PICKER_WIDTH)/2,i=e.top+e.height;this.props.dispatch(c.fullscreen.showPicker({id:E.stylesPickerId(this.props.inheritStyleKeyField),initialX:t,initialY:i,modal:!0})),h.segment.track("Style Picker Opened",{styleType:this.props.styleType,viewMode:this.props.stylePickerListLayout?"LIST":"GRID"})}}),this.detachStyle=(()=>{this.props.dispatch(a.tooltip.hide()),g.Fullscreen.applyStyleToSelection(this.props.inheritStyleKeyField,"","",!0),h.segment.track("Style Detached",{styleType:this.props.styleType})}),this.createStyle=(()=>{if(!this.props.isEmpty&&!this.props.hasMixedProperties){const e=Object.keys(this.props.sceneGraphSelection)[0]||null;e&&this.props.dispatch(n.fileBrowser.showModal({type:C.CREATE_STYLE,data:{type:this.props.styleType,nodeId:e,inheritStyleKeyField:this.props.inheritStyleKeyField}}))}}),this.onApplyStyle=((e,t)=>{this.props.dispatch(r.applyStyle({style:e,inheritStyleKeyField:this.props.inheritStyleKeyField,fromSearch:t}))}),this.titleClicked=(e=>{e.currentTarget===e.target&&this.props.isEmpty&&(this.props.pickerShown||this.props.dropdownShown||!this.props.addProperty||this.props.addProperty())}),this.editMainStyle=(()=>{const e=E.getMainStyle(this.props);e&&(g.Fullscreen.selectStyle(e.key,e.content_hash||""),h.segment.track("Style Inspected",{styleType:e.style_type,from:"propertyPanelIcon"}))}),this.state={pickerInitialPosition:L(e.pickerShown)}}restoreScrollContainer(){this.hasPushedScrollStateSnapshot&&(this.props.scrollContainer&&this.props.scrollContainer.popStateSnapshot(),this.hasPushedScrollStateSnapshot=!1)}componentWillUnmount(){this.restoreScrollContainer()}UNSAFE_componentWillReceiveProps(e){if(E.stylesPicker(e)){let t;const i=this.panelTitle.getBoundingClientRect(),s=i.top+i.height;e.pickerShown&&e.pickerShown.modal&&s!==e.pickerShown.initialY&&(t=new d.Vector(e.pickerShown.initialX,s)),t||e.pickerShown===this.props.pickerShown||((t=L(e.pickerShown)).y=s),t&&!this.state.pickerInitialPosition.equals(t)&&this.setState({pickerInitialPosition:t})}}componentDidUpdate(e,t){e.pickerShown&&e.pickerShown.id===E.stylesPickerId(this.props.inheritStyleKeyField)&&(!this.props.pickerShown||this.props.pickerShown.id!==e.pickerShown.id||e.pickerShown.modal&&!this.props.pickerShown.modal)&&this.restoreScrollContainer()}onPickerChanged(){const e=this.props.scrollContainer;if(!(E.stylesPicker(this.props)&&this.props.pickerShown&&this.props.pickerShown.modal&&e))return;const i=e.getScrollHeight()-e.getBottomSpace(),s=e.getTrackHeight(),o=e.getScrollTop(),p=e.getScrollContent().getBoundingClientRect().top,l=this.panelTitle.getBoundingClientRect(),r=s+o-(l.top+l.height-p+this.pickerHeight+t.pickerMinBottomMargin);if(this.hasPushedScrollStateSnapshot||(e.pushStateSnapshot(),this.hasPushedScrollStateSnapshot=!0),r>=0)return;const n=o-r,a=Math.max(0,-(i-s-n));e.setBottomSpace(a),r<0&&e.scrollTo(n)}render(){const e=E.getMainStyle(this.props);let i,o;this.props.inheritStyleKey===m.MIXED?(i=D.MIXED_STYLE_CONSUMER,o=this.props.addProperty):e?i=D.STYLE_CONSUMER:(i=D.CUSTOM_OR_MIXED_PROPERTIES,o=this.props.addProperty);const l=S.getFeatureFlags().style_picker_improvements,r=E.stylesPicker(this.props),n=i===D.STYLE_CONSUMER&&!this.props.hasMixedProperties,a=!(this.props.isEmpty||this.props.hasMixedProperties||this.props.hasMissingFont);return s.createElement("div",null,s.createElement(T.Row,{ref:this.panelTitleRef,className:this.props.isEmpty?w.panelEmptyTitleRow:w.panelTitleRow,onMouseDown:this.titleClicked},s.createElement(T.PanelTitle,{className:n?w.panelStyleTitle:w.panelTitle},n?s.createElement(F,{recordingKey:p.joinKeys(this.props,"titleButton"),style:e,inheritStyleKeyField:this.props.inheritStyleKeyField,collapse:!0,onClick:this.toggleShowingStyles,onMouseDown:this.stopPropagation,selected:!!r,isNarrow:!!this.props.removeAllProperties,fileKey:this.props.fileKey,dispatch:this.props.dispatch}):s.createElement(k.RecordableDiv,{recordingKey:p.joinKeys(this.props,"panelTitle"),className:w.panelTitleText,onMouseDown:this.titleClicked},this.props.title)),s.createElement("span",{className:w.titleButtons},i===D.STYLE_CONSUMER&&l&&s.createElement(P.IconButton,{className:`${w.showOnTitleHover} ${w.titleButton}`,recordingKey:p.joinKeys(this.props,"editButton"),svg:v,"data-tooltip-type":u.TooltipType.TEXT,"data-tooltip":"Edit style",onMouseDown:this.editMainStyle,onClick:this.stopPropagation}),(i===D.STYLE_CONSUMER||i===D.MIXED_STYLE_CONSUMER)&&s.createElement(P.IconButton,{className:`${w.showOnTitleHover} ${w.titleButton}`,recordingKey:p.joinKeys(this.props,"detachButton"),svg:b,"data-tooltip-type":u.TooltipType.TEXT,"data-tooltip":"Detach style",onMouseDown:this.detachStyle,onClick:this.stopPropagation}),i===D.STYLE_CONSUMER&&this.props.removeAllProperties&&s.createElement(P.IconButton,{className:w.titleButton,recordingKey:p.joinKeys(this.props,"removeAllButton"),svg:I,fallbackSvg:N,onClick:this.props.removeAllProperties,onMouseDown:this.stopPropagation,"data-tooltip-type":u.TooltipType.TEXT,"data-tooltip":"Remove",tooltipForScreenReadersOnly:!0}),!(i===D.STYLE_CONSUMER||i===D.MIXED_STYLE_CONSUMER)&&s.createElement(P.IconButton,{className:`${this.props.isEmpty&&r?"":w.fadeOutOnTitleUnhover} ${w.titleButton}`,selected:!!r,svg:K,fallbackSvg:B,"data-tooltip-type":u.TooltipType.LOOKUP,"data-tooltip":"style","data-onboarding-key":this.props.stylesButtonDataTag,recordingKey:p.joinKeys(this.props,"showStylesButton"),onClick:this.toggleShowingStyles,onMouseDown:this.stopPropagation}),!(i===D.STYLE_CONSUMER)&&!!o&&s.createElement(P.IconButton,{className:w.titleButton,recordingKey:p.joinKeys(this.props,"addButton"),svg:R,fallbackSvg:O,onClick:o,onMouseDown:this.stopPropagation,"data-tooltip-type":u.TooltipType.TEXT,"data-tooltip":"Add",tooltipForScreenReadersOnly:!0}))),(i===D.MIXED_STYLE_CONSUMER||i===D.STYLE_CONSUMER&&this.props.hasMixedProperties)&&s.createElement(T.Row,{key:"label"},s.createElement(T.LabelInactive,{className:w.panelMixedMessage},"Unlink from styles to customize mixed contents.")),s.createElement(M.FadeOutTransition,{sceneGraphSelection:this.props.sceneGraphSelection},r&&s.createElement(E.StylePicker,Object.assign({picker:r,onSizeChange:this.onPickerSizeChange},E.extractStylePickerBaseProps(this.props),{initialPosition:this.state.pickerInitialPosition,minBottomMargin:t.pickerMinBottomMargin,onApplyStyle:this.onApplyStyle,onCreateStyle:a?this.createStyle:void 0,onEditStyle:i===D.STYLE_CONSUMER?this.editMainStyle:void 0,styleType:this.props.styleType,teams:this.props.teams,recordingKey:"stylePicker"}))),i===D.CUSTOM_OR_MIXED_PROPERTIES&&this.props.children)}}t.CollapsibleStyleAndPropertyPanel=U,U.displayName="CollapsibleStyleAndPropertyPanel";class F extends p.PureComponent{constructor(){super(...arguments),this.generateThumbnail=y.debounce(()=>{if(this.props.style.file_key===this.props.fileKey){const e=this.props.style;this.props.dispatch(l.libraryThumbnail.generateStyleThumbnail({styleNodeId:e.node_id,styleKind:_.StyleKind.LOCAL}))}},200),this.onClick=p.mouseEvent(this,"click",this.props.onClick)}componentDidMount(){this.generateThumbnail()}UNSAFE_componentWillReceiveProps(){this.generateThumbnail()}render(){let e=this.props.selected?w.selectedCollapsedPanelPreviewTitle:w.collapsedPanelPreviewTitle;return this.props.isNarrow&&(e=`${e} ${w.narrowCollapsedPanelPreviewTitle}`),s.createElement("div",{className:e,onClick:this.onClick,onMouseDown:this.props.onMouseDown},s.createElement("div",{className:w.collapsedPanelPreviewIcon},s.createElement(f.StyleIcon,{style:this.props.style,maskIconForStroke:"inheritFillStyleKeyForStroke"===this.props.inheritStyleKeyField})),s.createElement("div",{className:w.styleTitleName,"data-tooltip-type":u.TooltipType.SPECIAL,"data-tooltip":this.props.style.description?u.TooltipSpecialKey.STYLE_INFO:"","data-tooltip-style-description":this.props.style.description},this.props.style.name))}}F.displayName="StyleTitle"}),
(function(e,t,n){e.exports={singleRowHeight:"type_panel--singleRowHeight--5Ki0S",doubleRowHeight:"type_panel--doubleRowHeight--3FGRs",input:"type_panel--input--3B3VB type_panel--singleRowHeight--5Ki0S",border:"type_panel--border--gkRIW",borderFocusWithin:"type_panel--borderFocusWithin--7waG-",iconInsideBorderFocusWithin:"type_panel--iconInsideBorderFocusWithin--r7CJM",rowSelectedSecondary:"type_panel--rowSelectedSecondary--aU86X type_panel--rowSelected--3hRGL",selectHiddenInput:"type_panel--selectHiddenInput--3fbi6",iconButton:"type_panel--iconButton--Ho6QZ",borderFocus:"type_panel--borderFocus--1odIK",multiValueInput:"type_panel--multiValueInput--2ES1O type_panel--borderFocusWithin--7waG-",base:"type_panel--base--3ocTm",label:"type_panel--label--39JMi type_panel--base--3ocTm",labelInactive:"type_panel--labelInactive--22xs7 type_panel--label--39JMi type_panel--base--3ocTm",textInput:"type_panel--textInput--1dU-B type_panel--base--3ocTm type_panel--input--3B3VB type_panel--singleRowHeight--5Ki0S",textAreaInput:"type_panel--textAreaInput--OMOtc type_panel--base--3ocTm type_panel--input--3B3VB type_panel--singleRowHeight--5Ki0S",noLeftBorder:"type_panel--noLeftBorder--1GL-e",squareRightBorder:"type_panel--squareRightBorder--VlbL9",_iconButton:"type_panel--_iconButton--1atxX",iconButtonEnabled:"type_panel--iconButtonEnabled--37s8J type_panel--_iconButton--1atxX",iconButtonDisabled:"type_panel--iconButtonDisabled--1D6xO type_panel--_iconButton--1atxX",iconButtonSelected:"type_panel--iconButtonSelected--3vZnq type_panel--_iconButton--1atxX",chitCenter:"type_panel--chitCenter--2kEl9",outlineButton:"type_panel--outlineButton--2h4mB",modalPanel:"type_panel--modalPanel--2bSRQ",panel:"type_panel--panel--20rz-",_row:"type_panel--_row--1F4Ev",singleRow:"type_panel--singleRow--2exCr type_panel--singleRowHeight--5Ki0S type_panel--_row--1F4Ev",doubleRow:"type_panel--doubleRow--3akHu type_panel--doubleRowHeight--3FGRs type_panel--_row--1F4Ev",labelRow:"type_panel--labelRow--2TBi1 type_panel--singleRow--2exCr type_panel--singleRowHeight--5Ki0S type_panel--_row--1F4Ev",rowSelected:"type_panel--rowSelected--3hRGL",panelTitle:"type_panel--panelTitle--2cw53",panelTitleExtended:"type_panel--panelTitleExtended--1c8Nv type_panel--panelTitle--2cw53",panelTitleWithTip:"type_panel--panelTitleWithTip--3Z0p0 type_panel--panelTitle--2cw53",panelTitleWithTipText:"type_panel--panelTitleWithTipText--1ESrV",panelTitleWithTipIcon:"type_panel--panelTitleWithTipIcon--19rWi",panelTitleFaded:"type_panel--panelTitleFaded--fXnjG type_panel--panelTitle--2cw53",flushLeft:"type_panel--flushLeft--1p_Ew",name:"type_panel--name--TU-Gi",missingFontIcon:"type_panel--missingFontIcon--2KR7C",visible:"type_panel--visible--27ciK",styleDropdownClassName:"type_panel--styleDropdownClassName--1nu04",style:"type_panel--style--1gYfX",size:"type_panel--size--2fsRA",sizeDropdown:"type_panel--sizeDropdown--31lgB",smallInputContainer:"type_panel--smallInputContainer--1bY0z raw_components--borderFocusWithin--3IG2Z",smallInput:"type_panel--smallInput--3YlX3 raw_components--flushLeft--2dWma",icon:"type_panel--icon--2w5oZ raw_components--iconInsideBorderFocusWithin--Ry1th",twoCol:"type_panel--twoCol--Fj7rw",link:"type_panel--link--24c8D blue_link--blueLink--22X56",fontRow:"type_panel--fontRow--StsD3",textAlignHorizontalControl:"type_panel--textAlignHorizontalControl--1u_s4",textAlignVerticalControl:"type_panel--textAlignVerticalControl--2ExDp",textResizeControl:"type_panel--textResizeControl--WwnGk",spacer:"type_panel--spacer--20Iia",missingFontIconText:"type_panel--missingFontIconText--2SXja"}}),
(function(e,l,a){e.exports={insertDivider:"draggable_list--insertDivider--td483",disabledView:"draggable_list--disabledView--zrOXO",removeButton:"draggable_list--removeButton--3zc4c",stylesButton:"draggable_list--stylesButton--2nB0f",addButton:"draggable_list--addButton--30aI8",panelTitle:"draggable_list--panelTitle--gr5yM",panelHeaderRowFaded:"draggable_list--panelHeaderRowFaded--JlLHP",panelTitleText:"draggable_list--panelTitleText--1q89R",label:"draggable_list--label--izgTc",multiLineLabel:"draggable_list--multiLineLabel--NAE3k"}}),
(function(o,t,i){o.exports={src:'<svg width="16" height="6" viewBox="0 0 16 6" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 3c0 .828-.672 1.5-1.5 1.5C1.172 4.5.5 3.828.5 3c0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zm6 0c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zM14 4.5c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="16" height="6" viewBox="0 0 16 6" xmlns="http://www.w3.org/2000/svg"><path d="M3 2.5C3 3.328 2.328 4 1.5 4 .672 4 0 3.328 0 2.5 0 1.672.672 1 1.5 1 2.328 1 3 1.672 3 2.5zm6 0C9 3.328 8.328 4 7.5 4 6.672 4 6 3.328 6 2.5 6 1.672 6.672 1 7.5 1 8.328 1 9 1.672 9 2.5zM13.5 4c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M14 1H0V0h14v1zm0 13H0v-1h14v1z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M3.548 11l2.8-8h1.304l2.8 8h-.954l-.7-2H5.202l-.7 2h-.954zM7 3.862L8.448 8H5.552L7 3.862z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,v,o){l.exports={src:'<svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M14 1H0V0h14v1zm-7 .793l2.354 2.353-.708.708L7.5 3.707v4.586l1.146-1.147.708.708L7 10.207 4.646 7.854l.708-.708L6.5 8.293V3.707L5.354 4.854l-.708-.708L7 1.793zM14 11v1H0v-1h14zm0 4v1H0v-1h14z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,v,t){l.exports={src:'<svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 1H0V0h13v1zm-6.5.793l.354.353 2 2-.708.708L7 3.707v4.586l1.146-1.147.708.708-2 2-.354.353-.354-.353-2-2 .708-.708L6 8.293V3.707L4.854 4.854l-.708-.708 2-2 .354-.353zM13 11v1H0v-1h13zm0 4v1H0v-1h13z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="16" height="12" viewBox="0 0 16 12" xmlns="http://www.w3.org/2000/svg"><path d="M0 12V0h1v12H0zm15 0V0h1v12h-1z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M4.548 10l2.8-8h1.304l2.8 8h-.954l-.7-2H6.202l-.7 2h-.954zM8 2.862L9.448 7H6.552L8 2.862z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 1H1v1h14V1zM8.354 3.646L8 3.293l-.354.353-3 3 .708.708L7.5 5.207V13h1V5.207l2.146 2.147.708-.708-3-3z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 1H1v1h14V1zM7.854 3.646L7.5 3.293l-.354.353-3 3 .708.708L7 5.207V13h1V5.207l2.146 2.147.708-.708-3-3z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,v){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 6.207l.354-.353 2-2-.708-.708L8.5 4.293V0h-1v4.293L6.354 3.146l-.708.708 2 2L8 6.207zm0 3.586l.354.353 2 2-.708.708L8.5 11.707V16h-1v-4.293l-1.146 1.147-.708-.708 2-2L8 9.793zM1 8.5h14v-1H1v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 5.707l.354-.353 2-2-.708-.708L8 3.793V.5H7v3.293L5.854 2.646l-.708.708 2 2 .354.353zm0 3.586l.354.353 2 2-.708.708L8 11.207V14.5H7v-3.293l-1.146 1.147-.708-.708 2-2 .354-.353zM1 8h13V7H1v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8.354 12.354L8 12.707l-.354-.353-3-3 .708-.708L7.5 10.793V3h1v7.793l2.146-2.147.708.708-3 3zM15 14v1H1v-1h14z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.854 12.354l-.354.353-.354-.353-3-3 .708-.708L7 10.793V3h1v7.793l2.146-2.147.708.708-3 3zM15 14v1H1v-1h14z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),o=s(6,1        ),n=s(314              ),r=s(141              ),a=s(215                                          ),l=s(263                      ),p=s(442                             ),h=s(122          ),g=s(953                         ),c=s(232                       ),u=s(113                                     ),d=s(207                                   ),m=s(662                       ),f=s(665                        ),y=s(146                        ),S=s(973                                  ),v=s(972                                                              ),x=s(978                                                                  ),_=s(794                                                                        ),F=s(483                                                                  ),w=s(980                                                                              ),N=s(959                                                        ),b=s(1009                                                                     ),C=s(1023                                                                 ),E=s(1050                                                                                               ),A=s(175                            ),P=s(1051              ),T=s(1052                                  ),H=s(85                   ),L=s(234                                                    ),R=s(915                             ),z=s(937                                     ),I=s(101                             ),K=s(1053                                             ),V=s(1054                                               ),k=s(1055                                                    ),M=s(1056                                                          ),O=s(1057                                                            ),D=s(1058                                                 ),j=s(986                                                         ),W=s(987                                                            ),G=s(988                                                          ),X=s(1059                                                       ),B=s(1060                                                         ),U=s(1061                                                           ),Y=s(1062                                                             ),$=s(1063                                                          ),q=s(1064                                                            ),J=s(977                                                  ),Q=s(990                                                           ),Z=s(991                                                            ),ee=s(992                                                               ),te=s(993                                                              ),se=s(994                                                                 );class ie extends w.SegmentedControl{}class oe extends w.Segment{}let ne=!1;class re extends i.PureComponent{constructor(){super(...arguments),this.versionsForStyles={},this.stopPropagation=(e=>e.stopPropagation()),this.onMouseDown=(e=>{a.fullscreen.deselectProperty(),(this.shownSettings()||x.pickerShown(this.props))&&e.stopPropagation()}),this.alignmentRowRef=i.createRef(),this.paragraphRowRef=i.createRef(),this.shownSettings=(()=>this.props.pickerShown&&this.props.pickerShown.id===I.TYPE_PANEL_ID?this.props.pickerShown:null),this.toggleSettings=(e=>{if(this.shownSettings())this.props.dispatch(d.fullscreen.hidePicker());else if(e){const t=f.pickerPositionLeftOf(o.findDOMNode(e));this.props.dispatch(d.fullscreen.showPicker({id:I.TYPE_PANEL_ID,initialX:t.x,initialY:t.y}))}}),this.toggleSettingsFromAlignmentRow=(()=>this.toggleSettings(this.alignmentRowRef.current)),this.toggleSettingsFromParagraphRow=(()=>this.toggleSettings(this.paragraphRowRef.current)),this.onFontFamilyChange=(e=>{this.filterFontChangeWithMigration({fontFamily:e})}),this.onFontStyleChange=(e=>{this.filterFontChangeWithMigration({fontStyle:e})}),this.onChangeParagraphSpacing=((e,t)=>{a.fullscreen.updateSelectionProperties({paragraphSpacing:e},t)}),this.onAutoResizeChange=(e=>a.fullscreen.updateSelectionProperties({textAutoResize:e})),this.renderCustomControls=(e=>{const t=p.getValue(this.props.missingFont,!1);return i.createElement("div",null,i.createElement(_.Row,null,H.getFeatureFlags().font_picker_v1&&i.createElement(x.FontBrowser,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,fonts:this.props.fonts,userFavoriteFonts:this.props.userFavoriteFonts,versionsForStyles:this.versionsForStyles,fontFamily:this.props.fontFamily,orgById:this.props.orgById,teams:this.props.teams,fontStyle:this.props.fontStyle,editModeType:this.props.editModeType,className:P.name,recordingKey:r.joinKeys(this.props,"fontBrowser")}),!H.getFeatureFlags().font_picker_v1&&i.createElement(pe,{userFlags:this.props.userFlags,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,fonts:this.props.fonts,versionsForStyles:this.versionsForStyles,fontFamily:this.props.fontFamily,id:"font-family-combo-box",onChange:this.onFontFamilyChange,showGoogleFonts:this.props.showGoogleFonts,recordingKey:r.joinKeys(this.props,"fontFamily")})),i.createElement(_.Row,null,i.createElement(ce,{id:"font-style-select",fontFamily:this.props.fontFamily,fontStyle:this.props.fontStyle,onChange:this.onFontStyleChange,fonts:this.props.fonts,versionsForStyles:this.versionsForStyles,showGoogleFonts:this.props.showGoogleFonts,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,userFlags:this.props.userFlags,recordingKey:r.joinKeys(this.props,"fontStyle")}),i.createElement(me,{smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,fontSize:this.props.fontSize,lineHeightInContext:g.getLineHeightInContext(this.props),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disabled:t,recordingKey:r.joinKeys(this.props,"fontSize")})),i.createElement(_.Row,{className:P.twoCol},i.createElement(Se,{smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,textUserLayoutVersion:this.props.textUserLayoutVersion,intrinsicLineHeight:this.props.intrinsicLineHeight,fontSize:this.props.fontSize,lineHeight:this.props.lineHeight,disabled:t,dispatch:this.props.dispatch,recordingKey:r.joinKeys(this.props,"lineHeight")}),i.createElement(ve,{smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,letterSpacing:this.props.letterSpacing,disabled:t,dispatch:this.props.dispatch,recordingKey:r.joinKeys(this.props,"letterSpacing")})),i.createElement(_.Row,{className:P.twoCol,ref:this.paragraphRowRef},this.renderParagraphSpacing(t),!e&&this.renderTextResize(t),e&&i.createElement(F.IconButton,{svg:K,fallbackSvg:V,onClick:this.toggleSettingsFromParagraphRow,onMouseDown:this.stopPropagation,recordingKey:r.joinKeys(this.props,"settings"),className:P.iconButton,selected:!!this.shownSettings(),"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Type Details"})))}),this.renderAlignmentControls=(e=>{const t=p.getValue(this.props.missingFont,!1);return i.createElement(_.Row,{className:P.twoCol,ref:this.alignmentRowRef,"data-onboarding-key":"type-panel-alignment-row"},i.createElement(we,{textAlignHorizontal:this.props.textAlignHorizontal,disabled:t,recordingKey:r.joinKeys(this.props,"textAlignHorizontal")}),i.createElement(Ce,{textAlignVertical:this.props.textAlignVertical,disabled:t,recordingKey:r.joinKeys(this.props,"textAlignVertical")}),e&&i.createElement(F.IconButton,{svg:K,fallbackSvg:V,onClick:this.toggleSettingsFromAlignmentRow,onMouseDown:this.stopPropagation,recordingKey:r.joinKeys(this.props,"settings"),className:P.iconButton,selected:!!this.shownSettings(),"data-onboarding-key":"type-panel-settings","data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Type Details"}))}),this.renderAdvancedTypePicker=(e=>{const t=this.shownSettings();if(!t)return null;const s=!!p.getValue(this.props.missingFont,!1);return i.createElement(b.TypeSettings,{picker:t,fontVariantDiscretionaryLigatures:this.props.fontVariantDiscretionaryLigatures,fontVariantHistoricalLigatures:this.props.fontVariantHistoricalLigatures,fontVariantNumericFigure:this.props.fontVariantNumericFigure,fontVariantNumericSpacing:this.props.fontVariantNumericSpacing,fontVariantNumericFraction:this.props.fontVariantNumericFraction,fontVariantCaps:this.props.fontVariantCaps,fontVariantPosition:this.props.fontVariantPosition,openTypeFeatures:this.props.openTypeFeatures,shouldDirectlyWriteOTFeatures:this.props.shouldDirectlyWriteOTFeatures,textCase:this.props.textCase,textDecoration:this.props.textDecoration,textAutoResize:this.props.textAutoResize,textAlignHorizontal:this.props.textAlignHorizontal,paragraphIndent:this.props.paragraphIndent,showGoogleFonts:this.props.showGoogleFonts,editModeType:this.props.editModeType,textUserLayoutVersion:this.props.textUserLayoutVersion,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disabled:s,isStyleConsumer:e,selectedStyleProperties:this.props.selectedStyleProperties,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:r.joinKeys(this.props,"typeSettings")})})}updateVersionsForStyles(e){this.versionsForStyles=m.getVersionsForStyles(e.fonts)}UNSAFE_componentWillReceiveProps(e){e.fonts===this.props.fonts&&e.showGoogleFonts===this.props.showGoogleFonts||this.updateVersionsForStyles(e)}UNSAFE_componentWillMount(){this.updateVersionsForStyles(this.props)}filterFontChangeWithMigration(e){const t=g.getLineHeightInContext(this.props);if(t&&p.notMixed(t.lineHeight)){const s=ye(t,t.lineHeight);s!==t.lineHeight&&(e.lineHeight=s)}a.fullscreen.updateSelectionProperties(e)}renderParagraphSpacing(e){return i.createElement(S.ScrubbablePositivePixelInput,{"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Paragraph Spacing",onValueChange:this.onChangeParagraphSpacing,value:this.props.paragraphSpacing,inputClassName:P.smallInput,className:P.smallInputContainer,dispatch:this.props.dispatch,disabled:e,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:r.joinKeys(this.props,"paragraphSpacing")},i.createElement(L.SvgWithFallback,{svg:M,fallbackSvg:O,className:P.icon}))}renderTextResize(e){return i.createElement(ie,{className:P.textResizeControl,property:this.props.textAutoResize,onChange:this.onAutoResizeChange,disabled:e,recordingKey:r.joinKeys(this.props,"autoResize")},i.createElement(oe,{svg:ee,fallbackSvg:se,value:"WIDTH_AND_HEIGHT",tooltip:"Auto Width"}),i.createElement(oe,{svg:Z,fallbackSvg:te,value:"HEIGHT",tooltip:"Auto Height"}),i.createElement(oe,{svg:Q,value:"NONE",tooltip:"Fixed Size"}))}render(){const e=!(p.notMixed(this.props.fontFamily)&&p.notMixed(this.props.fontStyle)&&p.notMixed(this.props.lineHeight)&&p.notMixed(this.props.letterSpacing)&&p.notMixed(this.props.paragraphIndent)&&p.notMixed(this.props.paragraphSpacing)),t=p.getValue(this.props.missingFont,!0),s=C.extractStylePickerBaseProps(Object.assign(Object.assign({},this.props),{styleType:"TEXT",inheritStyleKeyField:"inheritTextStyleKey",hasMixedProperties:e,hasMissingFont:t})),o=this.props.inheritStyleKey===p.MIXED||!!C.getMainStyle(s);if(C.hasSelectedStyle(this.props.selectedStyleProperties)){const e=C.getSelectedStyle(s),t=e&&e.file_key===this.props.fileKey;return i.createElement(_.Panel,{className:t?"":T.disabledView},i.createElement(_.Row,null,i.createElement(_.PanelTitle,null,"Properties")),this.renderCustomControls(!0),this.renderAdvancedTypePicker(o))}return i.createElement(_.Panel,{onMouseDown:this.onMouseDown},i.createElement(E.CollapsibleStyleAndPropertyPanel,Object.assign({},s,{stylePickerListLayout:!0,addProperty:null,removeAllProperties:null,isEmpty:!1,recordingKey:this.props.recordingKey,stylesButtonDataTag:"text-styles",title:"Text"}),this.renderCustomControls(!1)),this.renderAlignmentControls(!0),this.renderAdvancedTypePicker(o),i.createElement("div",{className:P.spacer}))}}t.TypePanel=re,re.displayName="TypePanel";class ae extends v.ComboBox{}class le extends N.Option{}class pe extends i.PureComponent{constructor(){super(...arguments),this.sortedFamilies=[],this.formatter={format:e=>e,parse:(e,t)=>{if(e in this.props.fonts&&Object.keys(this.props.fonts[e]).length>0)return e;throw new Error("Invalid family")},increment:(e,t,s)=>{const i=this.sortedFamilies.indexOf(e);return t?this.sortedFamilies[Math.min(i+1,this.sortedFamilies.length-1)]:this.sortedFamilies[Math.max(i-1,0)]},autocomplete:e=>{e=e.toLowerCase();for(let t of this.sortedFamilies)if(t&&t.toLowerCase().startsWith(e))return t;return null},isEqual:(e,t)=>e===t},this.onMouseDown=(()=>{n.supportsFontDaemon()&&(this.props.userFlags.completed_font_installer_modal||ne||(ne=!0,n.checkForFontDaemon().catch(()=>{this.props.dispatch(u.fileBrowser.showModal({type:A.FONT_INSTALLER_MODAL}))})))})}updateSortedFamilies(e){this.sortedFamilies=[];for(const t in e.fonts){if(0===Object.keys(e.versionsForStyles[t]||{}).length)continue;const s=Object.keys(e.fonts[t]).some(s=>e.fonts[t][s].source===R.FontSource.GOOGLE);"Roboto"!==t&&s&&!e.showGoogleFonts||this.sortedFamilies.push(t)}this.sortedFamilies.sort((e,t)=>{const s=e.startsWith("."),i=t.startsWith(".");return s&&!i?1:!s&&i?-1:e.localeCompare(t)})}UNSAFE_componentWillMount(){this.updateSortedFamilies(this.props)}UNSAFE_componentWillReceiveProps(e){e.fonts===this.props.fonts&&e.versionsForStyles===this.props.versionsForStyles&&e.showGoogleFonts===this.props.showGoogleFonts&&p.getValueOrNull(e.fontFamily)===p.getValueOrNull(this.props.fontFamily)||this.updateSortedFamilies(e)}render(){const e=[],t=p.getValueOrNull(this.props.fontFamily);!t||t in this.props.versionsForStyles||(e.push(i.createElement(le,{key:"current-font",value:t,disabled:!0,recordingKey:r.joinKeys(this.props,t)})),e.push(i.createElement(N.SelectDivider,{key:"current-font-divider"})));for(const o of this.sortedFamilies)e.push(i.createElement(le,{key:`font-name-${o}`,value:o,recordingKey:r.joinKeys(this.props,o)},i.createElement("div",{className:P.fontRow},i.createElement("span",null,o))));const s=t&&(!this.props.fonts[t]||0===Object.keys(this.props.fonts[t]).length);return i.createElement(ae,{id:this.props.id,formatter:this.formatter,className:P.name,property:this.props.fontFamily,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onMouseDown:this.onMouseDown,recordingKey:this.props.recordingKey,svg:s?J:void 0,svgClassName:P.missingFontIconText},e)}}t.FontFamily=pe,pe.displayName="FontFamily";class he extends N.Select{}class ge extends N.Option{}class ce extends i.PureComponent{constructor(){super(...arguments),this.getSortedStyles=h.memoizeLast((e,t,s)=>{const i=p.getValueOrNull(e);if(!(i&&i in s))return[];const o=s[i]||{};return Object.keys(o).map(e=>{const s=t[i][o[e]].styles[e];return{name:e,stretch:s.stretch,weight:s.weight,italic:s.italic}}).sort((e,t)=>!e.italic&&t.italic?-1:e.italic&&!t.italic?1:e.stretch<t.stretch?-1:e.stretch>t.stretch?1:e.weight<t.weight?-1:e.weight>t.weight?1:e.name<t.name?-1:e.name>t.name?1:0)}),this.showWidthDividers=h.memoizeLast(e=>{const t=new Map;for(const s of e){const e=(s.italic?1:-1)*s.stretch;t.has(e)||t.set(e,0),t.set(e,t.get(e)+1)}return Math.min(...Array.from(t.values()))>=2}),this.formatter={format:e=>e},this.renderOption=((e,t)=>i.createElement(ge,{key:`font-style-${e}`,value:e,recordingKey:r.joinKeys(t,e)})),this.isStyleMissing=(()=>{if(this.props.fontStyle===p.MIXED||this.props.fontFamily===p.MIXED)return!1;const e=p.getValueOrNull(this.props.fontFamily);if(null==e)return!0;const t=this.props.versionsForStyles[e];if(null==t)return!0;const s=p.getValueOrNull(this.props.fontStyle);return!(s&&s in t)})}render(){const e=this.getSortedStyles(this.props.fontFamily,this.props.fonts,this.props.versionsForStyles),t=this.showWidthDividers(e),s=(e,s)=>null!==e&&(e.italic!=s.italic||t&&e.stretch!=s.stretch);let o=[],n=null;for(const[r,l]of e.entries())s(n,l)&&o.push(i.createElement(N.SelectDivider,{key:r})),o.push(this.renderOption(l.name,this.props)),n=l;let a=0===o.length||1===o.length&&!this.isStyleMissing();return i.createElement(he,{id:this.props.id,formatter:this.formatter,className:P.style,dropdownClassName:P.styleDropdownClassName,property:this.props.fontStyle,onChange:this.props.onChange,dispatch:this.props.dispatch,disabled:a,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"select"),svg:this.isStyleMissing()?J:void 0,svgClassName:P.missingFontIconText},o)}}t.FontStyle=ce,ce.displayName="FontStyle";class ue extends N.Option{}const de=[9,10,11,12,13,14,18,24,36,48,64,72,96,144,288];class me extends i.PureComponent{constructor(){super(...arguments),this.onChangeFontSize=((e,t)=>{const s={fontSize:e};if(this.props.lineHeightInContext&&p.notMixed(this.props.lineHeightInContext.lineHeight)){const e=ye(this.props.lineHeightInContext,this.props.lineHeightInContext.lineHeight);e!==this.props.lineHeightInContext.lineHeight&&(s.lineHeight=e)}a.fullscreen.updateSelectionProperties(s,t)}),this.renderFontSizeOptions=h.memoizeLast(()=>de.map(e=>i.createElement(ue,{key:`font-size-${e}`,value:e,recordingKey:r.joinKeys(this.props,`${e}`)},e)))}render(){return i.createElement(S.ScrubbablePixelComboBox,{id:"font-size-combo-box",className:P.size,dropdownClassName:P.sizeDropdown,onValueChange:this.onChangeFontSize,value:this.props.fontSize,dropdownShown:this.props.dropdownShown,min:1,dispatch:this.props.dispatch,disabled:this.props.disabled,recordingKey:this.props.recordingKey,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Font Size",tooltipForScreenReadersOnly:!0},this.renderFontSizeOptions())}}me.displayName="FontSize";class fe{constructor(e,t,s){this.lineHeightInContext=e,this.smallPixelNudgeAmount=t,this.bigPixelNudgeAmount=s,this.defaultValue={value:100,units:"PERCENT"},this.initialLineHeightInContext=e}parse(e,t){if(""===(e=e.trim().toLowerCase())&&void 0!==this.defaultValue)return this.defaultValue;if("%"===e){if(null==t||"PIXELS"===t.units||100===t.value&&"PERCENT"===t.units){const e=g.fontSizeMultipleOfLineHeight(this.lineHeightInContext);if(null==e)throw new Error("insufficient information to parse input");return{value:e,units:"RAW"}}return this.defaultValue}if("auto"===e||"auto%"===e)return this.defaultValue;if("px"===e||"px%"===e){const e=g.pixelsOfLineHeight(this.lineHeightInContext);if(null==e)throw new Error("single equivalent PIXELS value is undefined");return{value:e,units:"PIXELS"}}const s=z.PixelPercentageFormatter.parse(e);if(void 0===s)throw new Error("could not parse input");const[i,o]=s;switch(o){case"PIXELS":return{value:i,units:o};case void 0:return{value:i,units:"PIXELS"};case"RAW":case"PERCENT":return{value:i/100,units:"RAW"}}}defaultSelection(e){const t=/[0-9\.]+/.exec(e);return null!=t?{start:t.index,end:t.index+t[0].length}:{start:0,end:e.length}}format(e){return null==e||e.value!=e.value||null==this.initialLineHeightInContext?"":g.stringOfLineHeight(this.initialLineHeightInContext.withLineHeight(e))}nudgeAmountForUnit(e,t){switch(e){case"PIXELS":return t?this.bigPixelNudgeAmount:this.smallPixelNudgeAmount;case"RAW":return t?.1:.01;case"PERCENT":const{intrinsicLineHeight:s,fontSize:i}=this.lineHeightInContext,o=p.getValueOrNull(s);return null!=o&&p.notMixed(i)?100*(t?this.bigPixelNudgeAmount:this.smallPixelNudgeAmount)/(o*i):t?this.bigPixelNudgeAmount:this.smallPixelNudgeAmount}}increment(e,t,s){const i=this.nudgeAmountForUnit(e.units,s);return{value:t?e.value-i:e.value+i,units:e.units}}clamp(e){let t=e.value;return{value:t=Math.max(t,0),units:e.units}}}function ye(e,t){if(null==t||"PERCENT"!==t.units||g.isAutoLineHeight(t))return t;const s=g.fontSizeMultipleOfLineHeight(e.withLineHeight(t));return null==s?t:{value:s,units:"RAW"}}class Se extends i.Component{constructor(){super(...arguments),this.getLineHeightFormatter=h.memoizeLast((e,t,s)=>new fe(e,t,s)),this.getOnValueChange=h.memoizeLast(e=>(t,s)=>{s===l.ShouldCommit.YES&&null!=e&&(t=ye(e,t)),a.fullscreen.updateSelectionProperties({lineHeight:t},s)}),this.getScrubMultipliers=h.memoizeLast(e=>{const t=p.getValueOrNull(null==e?void 0:e.intrinsicLineHeight);return{PERCENT:null==t?1:t,RAW:100}})}render(){const e=g.getLineHeightInContext(this.props),t=e&&g.pixelsOfLineHeight(e),s=!(!e||!g.isAutoLineHeight(e.lineHeight)),o=e&&this.getLineHeightFormatter(e,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return i.createElement(S.ScrubbableFigNumberInput,{"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Line Height",value:this.props.lineHeight,onValueChange:this.getOnValueChange(e),disabled:this.props.disabled,inputClassName:P.smallInput,className:P.smallInputContainer,recordingKey:this.props.recordingKey,min:0,formatter:o||void 0,shouldClearOnFocus:s,placeholder:s?null==t?"Mixed":parseFloat(t.toFixed(1)).toString():void 0,multipliers:e&&this.getScrubMultipliers(e)||void 0,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,dispatch:this.props.dispatch},i.createElement(y.Svg,{svg:k,className:P.icon}))}}Se.displayName="LineHeight";class ve extends i.PureComponent{constructor(){super(...arguments),this.onChangeLetterSpacing=((e,t)=>{a.fullscreen.updateSelectionProperties({letterSpacing:e},t)})}render(){return i.createElement(S.ScrubbableFigNumberInput,{"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Letter Spacing",value:this.props.letterSpacing,onValueChange:this.onChangeLetterSpacing,disabled:this.props.disabled,inputClassName:P.smallInput,className:P.smallInputContainer,recordingKey:this.props.recordingKey,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,dispatch:this.props.dispatch},i.createElement(y.Svg,{svg:D,className:P.icon}))}}var xe;ve.displayName="LetterSpacing",function(e){e.LEFT="text-align-left",e.CENTER="text-align-center",e.RIGHT="text-align-right",e.JUSTIFIED="text-align-justified"}(xe=t.TextAlignHorizontalAction||(t.TextAlignHorizontalAction={}));class _e extends w.SegmentedControl{}t.TextAlignHorizontalControl=_e;class Fe extends w.Segment{}t.TextAlignHorizontalSegment=Fe;class we extends i.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{a.fullscreen.triggerAction(xe[e],{source:"panel"})})}render(){const e=[i.createElement(Fe,{svg:j,value:"LEFT",tooltipAction:xe.LEFT,key:"text-align-horizontal-segment-left"}),i.createElement(Fe,{svg:W,value:"CENTER",tooltipAction:xe.CENTER,key:"text-align-horizontal-segment-center"}),i.createElement(Fe,{svg:G,value:"RIGHT",tooltipAction:xe.RIGHT,key:"text-align-horizontal-segment-right"})];return i.createElement(_e,{property:this.props.textAlignHorizontal,onChange:this.onChange,disabled:this.props.disabled,recordingKey:this.props.recordingKey,className:P.textAlignHorizontalControl},e)}}we.displayName="TextAlignHorizontal";class Ne extends w.SegmentedControl{}class be extends w.Segment{}class Ce extends i.PureComponent{constructor(){super(...arguments),this.onChange=(e=>a.fullscreen.updateSelectionProperties({textAlignVertical:e}))}render(){return i.createElement(Ne,{property:this.props.textAlignVertical,onChange:this.onChange,disabled:this.props.disabled,recordingKey:this.props.recordingKey,className:P.textAlignVerticalControl},i.createElement(be,{svg:X,fallbackSvg:B,value:"TOP",tooltip:"Align Top"}),i.createElement(be,{svg:U,fallbackSvg:Y,value:"CENTER",tooltip:"Align Middle"}),i.createElement(be,{svg:$,fallbackSvg:q,value:"BOTTOM",tooltip:"Align Bottom"}))}}Ce.displayName="TextAlignVertical"}),
(function(o,n,t){o.exports={container:"missing_fonts_modal--container--2DaF1",message:"missing_fonts_modal--message--YgBr5",fontRow:"missing_fonts_modal--fontRow--1zEr2",replacementsContainer:"missing_fonts_modal--replacementsContainer--z9Kni",headerLabel:"missing_fonts_modal--headerLabel--3VYf3",left:"missing_fonts_modal--left--efElp",right:"missing_fonts_modal--right--1nZUj",buttonRow:"missing_fonts_modal--buttonRow--1UfFc",leftButton:"missing_fonts_modal--leftButton--2EvAf",linkRow:"missing_fonts_modal--linkRow--QHMhR missing_fonts_modal--buttonRow--1UfFc",link:"missing_fonts_modal--link--jOr3X blue_link--blueLink--22X56",title:"missing_fonts_modal--title--1wSnP",otherOptionsContainer:"missing_fonts_modal--otherOptionsContainer--mmfyR missing_fonts_modal--container--2DaF1",otherOptionsHeader:"missing_fonts_modal--otherOptionsHeader--1NHk2",otherOptionsRow:"missing_fonts_modal--otherOptionsRow--2cGa0",otherOptionsButton:"missing_fonts_modal--otherOptionsButton--3xDue",otherOptionsDescription:"missing_fonts_modal--otherOptionsDescription--14hNY"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(2,1    ),n=t(113                                     ),i=t(420              ),a=t(314              ),r=t(214         ),l=t(215                                          ),p=t(316                                   ),c=t(662                       ),m=t(794                                                                        ),h=t(1065                                                               ),d=t(773                                                    ),g=t(147                                            ),f=t(422                                        ),y=t(125                        ),F=t(111          ),u=t(1066                       ),S=t(176                       ),_=t(104              ),w=t(136                                 ),b=t(141              ),v=i.pxToInt(f.missingFontsModal),N=i.pxToInt(f.rightNavWidth),O=i.pxToInt(f.toolbarHeight),E=12;function C(e){return`${e.family}\t${e.style}\t${e.version}`}s.MISSING_FONTS_MODAL="MISSING_FONTS_MODAL",w.registerUnsafeModal(s.MISSING_FONTS_MODAL,e=>o.createElement(M,Object.assign({fonts:e.fonts,missingFonts:e.modalShown.data.missingFonts,showGoogleFonts:e.mirror.appModel.showGoogleFonts,dispatch:e.dispatch,dropdownShown:e.dropdownShown,userFlags:e.userFlags,currentOrgId:e.currentOrgId},y.getPermissionsState(e),{editingFileKey:e.editingFileKey,recordingKey:"missingFontsModal"})));class M extends o.PureComponent{constructor(e){super(e),this.versionsForStyles={},this.onClose=(()=>{this.props.dispatch(n.fileBrowser.hideModal())}),this.onFontFamilyChange=((e,s)=>{const t=Object.assign({},this.state.replacements),o=this.props.missingFonts[e];let n=null;for(let i of Object.keys(this.props.fonts[s])){const e=this.props.fonts[s][i].styles,t=o.style;if(e.hasOwnProperty(t)&&this.versionsForStyles[s][t]===i){n={style:t,version:i};break}}if(!n){const e=Object.keys(this.versionsForStyles[s])[0];n={style:e,version:this.versionsForStyles[s][e]}}t[C(o)]={oldName:o,newName:Object.assign(Object.assign({},n),{family:s})},this.setState({replacements:t})}),this.onFontStyleChange=((e,s)=>{const t=Object.assign({},this.state.replacements),o=this.props.missingFonts[e],n=t[C(o)],i=n?n.newName.family:o.family,a=this.versionsForStyles[i][s];t[C(o)]={oldName:o,newName:{family:i,style:s,version:a}},this.setState({replacements:t})}),this.onApply=(()=>{for(let e in this.state.replacements)l.fullscreen.DEPRECATED_sendMessage("replaceFontInSelection",{replacements:[{replace:this.state.replacements[e].oldName,with:this.state.replacements[e].newName}]}),l.fullscreen.commit();l.fullscreen.resetMissingFonts(),this.onClose()}),this.getOrgSharedFontsUrl=(()=>{let e=null;if(this.props.currentOrgId){if(!y.canAdminOrg(this.props.currentOrgId,this.props))return null;e=this.props.currentOrgId}else for(const s in this.props.orgById)y.canAdminOrg(s,this.props)&&(e=s);return e?`/files/${e}/recent?${_.encode({orgDashboardTab:"fonts"})}`:null}),this.getTeamSharedFontsUrl=(()=>{let e=null;if(this.props.editingFileKey){const s=this.props.fileByKey[this.props.editingFileKey];s.team_id&&this.props.teams[s.team_id]&&this.props.teams[s.team_id].org_id&&(e=s.team_id)}if(e){if(!y.canAdminTeam(e,this.props))return null}else for(const t in this.props.teams)y.canAdminTeam(t,this.props)&&this.props.teams[t].org_id&&(e=t);const s={teamPreferencesModalTab:S.LibraryPreferencesModalTab.FONTS};return e?`/files/team/${e}?${_.encode(s)}`:null}),this.onOpenFontSettings=(()=>{a.openFontSettings(),this.onClose()}),this.onSharedFontsClick=(()=>{F.segmentTrackEvent("shared_fonts_upload_from_missing_fonts")}),this.title=o.createElement("div",{className:u.title},"Missing Fonts"),this.initialPosition=new r.Vector(window.innerWidth-N-v-E,O+E),this.state={replacements:{}}}UNSAFE_componentWillMount(){this.updateVersionsForStyles(this.props)}UNSAFE_componentWillReceiveProps(e){e.fonts!==this.props.fonts&&this.updateVersionsForStyles(e)}updateVersionsForStyles(e){this.versionsForStyles=c.getVersionsForStyles(e.fonts)}render(){const e=this.getOrgSharedFontsUrl()||this.getTeamSharedFontsUrl(),s=this.getOrgSharedFontsUrl()?"Allow your organization to share a font":"Allow your team to share a font",t=a.supportsFontDaemon()&&!p.hasLocalFonts(),n=e||t;return o.createElement(d.DraggableModal,{initialPosition:this.initialPosition,title:this.title,headerSize:"small",onClose:this.onClose},o.createElement("div",{className:u.container},o.createElement("div",{className:u.message},"The following fonts are not available, and need to be replaced in order to edit text."),o.createElement("div",{className:u.fontRow},o.createElement(m.LabelInactive,{className:u.headerLabel},"Family"),o.createElement(m.LabelInactive,{className:u.headerLabel},"Style")),o.createElement("div",{className:u.replacementsContainer},this.props.missingFonts.map((e,s)=>{const t=this.state.replacements[C(e)],n=t?t.newName:e;return o.createElement("div",{className:u.fontRow,key:s},o.createElement("div",{className:u.left},o.createElement(h.FontFamily,{id:`missing-font-name-${s}`,onChange:this.onFontFamilyChange.bind(this,s),fonts:this.props.fonts,fontFamily:n.family,versionsForStyles:this.versionsForStyles,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,showGoogleFonts:this.props.showGoogleFonts,userFlags:this.props.userFlags,recordingKey:b.joinKeys(this.props,n.family)})),o.createElement("div",{className:u.right},o.createElement(h.FontStyle,{id:`missing-font-style-${s}`,onChange:this.onFontStyleChange.bind(this,s),fonts:this.props.fonts,fontFamily:n.family,fontStyle:n.style,versionsForStyles:this.versionsForStyles,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,showGoogleFonts:this.props.showGoogleFonts,userFlags:this.props.userFlags,recordingKey:b.joinKeys(this.props,`${n.family}-${n.style}`)})))})),o.createElement("div",{className:u.buttonRow},o.createElement(g.ButtonSecondary,{onClick:this.onClose},"Cancel"),o.createElement(g.ButtonPrimary,{recordingKey:b.joinKeys(this.props,"replaceFonts"),disabled:0==Object.keys(this.state.replacements).length,onClick:this.onApply},"Replace Fonts"))),n&&o.createElement("div",{className:u.otherOptionsContainer},o.createElement(m.LabelInactive,{className:u.otherOptionsHeader},"Other options"),t&&o.createElement("div",{className:u.otherOptionsRow},o.createElement(g.ButtonSecondary,{className:u.otherOptionsButton,onClick:this.onOpenFontSettings},"Install Font Helper"),o.createElement("div",{className:u.otherOptionsDescription},"Allow Figma to access your local fonts")),e&&o.createElement("div",{className:u.otherOptionsRow},o.createElement(g.ButtonSecondaryLink,{href:e,className:u.otherOptionsButton,target:"_blank",onClick:this.onSharedFontsClick},"Upload a Shared Font"),o.createElement("div",{className:u.otherOptionsDescription},s))))}}s.MissingFontsModal=M,M.displayName="MissingFontsModal"}),
(function(o,i,t){o.exports={modal:"savepoint_modal--modal--1Slt-",inputDescription:"savepoint_modal--inputDescription--18qIa",title:"savepoint_modal--title--3CKhA",inputLabel:"savepoint_modal--inputLabel--20-sL",buttonRow:"savepoint_modal--buttonRow--1uc6O",goHistoryLink:"savepoint_modal--goHistoryLink--3CoAt",goHistoryLinkDisabled:"savepoint_modal--goHistoryLinkDisabled--3bChd savepoint_modal--goHistoryLink--3CoAt",cancelLink:"savepoint_modal--cancelLink--1hwgc",confirmButton:"savepoint_modal--confirmButton--riNiU"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2,1    ),o=i(6,1        ),n=i(207                                   ),a=i(113                                     ),r=i(280                             ),l=i(141              ),p=i(147                                            ),d=i(138      ),c=i(154                                 ),h=i(377                                                ),m=i(148                                  ),u=i(1068                                                  ),b=i(111          ),f=i(136                                 ),v=i(915                             ),g=i(152                                          );t.parseSavepointDescription=function(e){var t;const i=e.trim(),s=null===(t=i.match(/[^\r?\n]\r?\n/))||void 0===t?void 0:t.index;if(null!=s){const e=s+1;return[i.slice(0,e).trim(),i.slice(e).trim()]}return[i.trim(),""]},t.formatLabelAndDescription=function(e,t){if(e.length<t+1)return e;let i=e.indexOf("\n",t);if(i<0&&(i=e.indexOf("\r",t)),i>-1&&i<t)return e;let s=e.indexOf(" ",t);return s>0&&i>0?i=Math.min(s,i):s>0&&(i=s),i<t?e:e.slice(0,i)+"\n"+e.slice(i+1)},t.SAVEPOINT_MODAL="savepoint-modal",f.registerUnsafeModal(t.SAVEPOINT_MODAL,e=>{const t=e.modalShown,i=e.fileByKey&&e.fileByKey[e.editingFileKey],o=t.data&&t.data.description||"",n=t.data&&t.data.label||"",a=t.data&&t.data.savepointID;return s.createElement(y,{recordingKey:"savepointModal",file:i,isHistoryMode:e.mirror.appModel.topLevelMode===v.TopLevelMode.HISTORY,editingSavepointID:a,label:n,description:o,dispatch:e.dispatch})});class y extends l.Component{constructor(e){super(e),this.onConfirmSavepointModal=((e,t)=>{if(this.props.editingSavepointID&&this.props.file){const i=this.props.file;this.props.dispatch(r.file.updateSavepoint({file:i,savepointID:this.props.editingSavepointID,label:e,description:t})),this.hideModal(),b.segment&&b.segment.track("History Version Edited Information",{savepointId:this.props.editingSavepointID})}else if(this.props.dispatch&&e&&e.length>0&&this.props.file){const i=this.props.file;this.props.dispatch(r.file.createSavepoint({file:i,label:e,description:t||""})),this.hideModal(),b.segment&&(this.props.isHistoryMode?b.segment.track("History Version Created from History Mode",{savepointId:this.props.editingSavepointID}):b.segment.track("History Version Created from Keyboard Shortcut",{savepointId:this.props.editingSavepointID}))}this.clearSavedInputs()}),this.onKeyDownMulti=(e=>{switch(e.keyCode){case d.Key.ENTER:(e.ctrlKey||e.metaKey||e.altKey)&&(e.preventDefault(),this.hideModal(),this.onConfirmSavepointModal(this.state.label,this.state.description))}}),this.onSubmit=l.submitEvent(this,"submit",e=>{e.preventDefault(),this.onConfirmSavepointModal(this.state.label,this.state.description)}),this.onCancel=(()=>{this.clearSavedInputs(),this.hideModal()}),this.saveHistoryInputs=(()=>{y.keepSavepointModalInput=!0,y.savedLabelInput=this.state.label,y.savedDescriptionInput=this.state.description}),this.clearSavedInputs=(()=>{y.keepSavepointModalInput=!1,y.savedLabelInput="",y.savedDescriptionInput=""}),this.focusRef=(e=>{e&&o.findDOMNode(e).focus()}),this.onLabelChange=(e=>{const t=e.target.value;this.setState({label:t})}),this.onLabelBlur=(e=>{this.onLabelChange(e)}),this.onDescriptionChange=(e=>{const t=e.target.value;this.setState({description:t})}),this.onDescriptionBlur=(e=>{this.onDescriptionChange(e)}),this.goHistoryMode=(()=>{this.props.isHistoryMode||(this.props.dispatch(n.fullscreen.enterVersionHistoryMode()),this.saveHistoryInputs(),this.hideModal())}),this.state={label:"",description:"",disableConfirm:!0}}setLabelAndDescriptionFromProps(e){this.state.label.length<1&&this.state.description.length<1&&(y.keepSavepointModalInput?this.setState({label:y.savedLabelInput,description:y.savedDescriptionInput}):this.setState({label:this.props.label,description:this.props.description}))}componentDidMount(){this.setLabelAndDescriptionFromProps(this.props)}UNSAFE_componentWillReceiveProps(e){this.setLabelAndDescriptionFromProps(e)}hideModal(){this.props.dispatch(a.fileBrowser.hideModal())}render(){let e=this.state.disableConfirm;this.state.label&&this.state.label.length>0&&(e=!1);let t=(this.props.editingSavepointID,"Save"),i=this.props.editingSavepointID?"Edit Version Information":"Add to Version History";const o=this.props.isHistoryMode?u.goHistoryLinkDisabled:u.goHistoryLink;return s.createElement(c.Modal,Object.assign({size:"small"},this.props,{className:u.modal}),s.createElement(g.ModalCloseButton,Object.assign({},this.props)),s.createElement("div",{className:u.title},i),s.createElement(m.TabLoop,{startTabIndex:1,endTabIndex:4},s.createElement("form",{onSubmit:this.onSubmit},s.createElement(h.TextInput,{className:u.inputLabel,type:"input",name:"label",value:this.state.label,placeholder:"Title",onChange:this.onLabelChange,onBlur:this.onLabelBlur,onKeyDown:this.onKeyDownMulti,tabIndex:1,autoFocus:!0,recordingKey:l.joinKeys(this.props,"title")}),s.createElement(h.TextInput,{className:u.inputDescription,type:"textarea",name:"description",value:this.state.description,placeholder:"Describe what changed",onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,onKeyDown:this.onKeyDownMulti,tabIndex:2,recordingKey:l.joinKeys(this.props,"description")}),s.createElement("div",{className:u.buttonRow},s.createElement("div",{className:o,onClick:this.goHistoryMode},"Show Full Version History"),s.createElement(p.ButtonSecondary,{type:"button",className:u.cancelLink,onClick:this.onCancel,tabIndex:4},"Cancel"),s.createElement(p.ButtonPrimary,{type:"submit",className:u.confirmButton,disabled:e,tabIndex:3},t)))))}}y.displayName="SavepointModal",y.keepSavepointModalInput=!1,y.savedLabelInput="",y.savedDescriptionInput=""}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(87      ),r=o(2,1    ),n=o(113                                     ),s=o(261                               ),i=o(154                                 ),l=o(147                                            ),m=o(191          ),c=o(136                    );t.MEMORY_WARNING_MODAL="memory-warning-modal",c.registerUnsafeModal(t.MEMORY_WARNING_MODAL,e=>r.createElement(p,Object.assign({warning:e.modalShown.data},e)));class p extends r.Component{constructor(){super(...arguments),this.hide=(()=>{this.props.dispatch(n.fileBrowser.hideModal())})}render(){if(this.props.warning===s.MemoryWarningType.CRASH){const e=a.mac?"option":"alt";return r.createElement(i.Modal,Object.assign({size:"small",className:m.modal},this.props),r.createElement("div",{className:m.title},"You ran out of memory!"),r.createElement("div",{className:m.modalContent},"The editor has run out of memory. It's not safe to continue editing as data may not be saved. Please reload the page to continue working.",r.createElement("br",null)," ",r.createElement("br",null),"If you run into this multiple times, try reverting to an earlier version by ",e,'+shift+right-clicking on the file in the file browser and selecting "Restore from version".',r.createElement("br",null)," ",r.createElement("br",null),"For other troubleshooting tips, please visit the ",r.createElement("a",{href:"https://help.figma.com/hc/en-us/articles/360040528173"},"Help Center"),"."))}const e=r.createElement("p",null,"This file is getting pretty big and could run out of memory soon! Please save your work and contact Figma support for more details."),t=r.createElement("p",null,"This file is almost out of memory! You might encounter problems. Please save your work and contact Figma support for more details.");return r.createElement(i.Modal,Object.assign({size:"small",className:m.modal},this.props),r.createElement("div",{className:m.title},"You're about to run out of memory!"),r.createElement("div",{className:m.modalContent},this.props.warning===s.MemoryWarningType.CONCERNING&&e,this.props.warning===s.MemoryWarningType.DANGEROUS&&t),r.createElement("div",{className:m.buttonRow},r.createElement(l.ButtonPrimary,{className:m.confirmButton,onClick:this.hide},"Continue")))}}p.displayName="MemoryWarningModal"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),a=s(191          ),l=s(207                                   ),i=s(113                                     ),r=s(112          ),n=s(154                                 ),c=s(147                                            ),d=s(136                    ),m=s(125                        ),p=s(152                                          );class h extends o.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())})}render(){return o.createElement(n.Modal,{size:"medium",className:a.modal,dispatch:this.props.dispatch},o.createElement(p.ModalCloseButton,Object.assign({},this.props)),o.createElement("div",{className:a.title},this.props.name," Integration Enabled"),o.createElement("div",{className:a.welcome},o.createElement("div",null,o.createElement("img",{src:this.props.logo,alt:`${this.props.name} logo`})),o.createElement("div",null,"The ",this.props.name," integration allows you to export selected frames to ",this.props.name,". To begin, select some frames, then select the Export option from the File menu, then navigate to the ",this.props.name," tab.")),o.createElement("div",{className:a.buttonRow},o.createElement(c.ButtonPrimary,{onClick:this.closeModal},"Got it")))}}h.displayName="IntegrationWelcomeModal",t.AVOCODE_WELCOME_MODAL="AVOCODE_WELCOME_MODAL",t.DRIBBBLE_EXPORT_MODAL="DRIBBBLE_EXPORT_MODAL",d.registerUnsafeModal(t.AVOCODE_WELCOME_MODAL,e=>o.createElement(b,Object.assign({},e))),d.registerUnsafeModal(t.DRIBBBLE_EXPORT_MODAL,e=>{const t=e.modalShown;return o.createElement(E,Object.assign({fileKey:t.data.fileKey,nodeId:t.data.nodeId,isCopyExportRestricted:m.isCopyExportRestricted(t.data.fileKey,e)},e))});const b=e=>o.createElement(h,{name:"Avocode",logo:"https://static.figma.com/uploads/722f98cf7d9bf21a8f97691db6164d2f2adf3c96",dispatch:e.dispatch});class E extends o.PureComponent{constructor(){super(...arguments),this.exportToDribbble=(()=>{this.props.isCopyExportRestricted||(this.props.dispatch(l.fullscreen.trackEvent({name:"Exported to Dribbble"})),r.unsafeRedirect("https://www.dribbble.com/shots/new?figma_file_id="+this.props.fileKey+"&figma_node_id="+this.props.nodeId,"_blank"))}),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())}),this.nodeSelected=this.props.fileKey&&this.props.nodeId}render(){return o.createElement(n.Modal,{size:"medium",className:a.modal,dispatch:this.props.dispatch},o.createElement(p.ModalCloseButton,Object.assign({},this.props)),o.createElement("div",{className:a.title},this.nodeSelected&&o.createElement("div",null,"Frame is selected"),!this.nodeSelected&&o.createElement("div",null,"No single frame selected")),o.createElement("div",{className:a.welcome},o.createElement("div",null,o.createElement("img",{src:"https://static.figma.com/uploads/8b27b0920253020e66ed03b0949b263fb37abd2e",alt:"Dribbble logo"})),o.createElement("div",null,!this.nodeSelected&&o.createElement("span",{className:a.important}," To post a shot to Dribbble, select a single frame in the file and navigate back to this menu."),this.nodeSelected&&o.createElement("span",{className:a.important}," To share the current selection as a new shot on Dribbble, click the button below."),o.createElement("br",null),o.createElement("br",null),"The Dribbble integration allows you to export selected frames to Dribbble as a new shot.")),o.createElement("div",{className:a.buttonRow},this.nodeSelected&&o.createElement(c.ButtonPrimary,{onClick:this.exportToDribbble},"Export Selection"),!this.nodeSelected&&o.createElement(c.ButtonPrimary,{onClick:this.closeModal},"Got it")))}}E.displayName="DribbbleExportModal"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2,1    );class r extends i.PureComponent{constructor(){super(...arguments),this.textContainerRef=i.createRef(),this.getFittingText=(()=>{if(!this.textContainerRef.current)return null;const e=this.textContainerRef.current,t=e.getBoundingClientRect().width,{text:n}=this.props,i=document.createElement("p");if(i.className=this.props.className||"",i.setAttribute("style","\n      display: inline;\n      white-space: nowrap;\n    "),e.appendChild(i),i.innerText=n,i.getBoundingClientRect().width<=t)return e.removeChild(i),n;let r="";for(let s=0;s<n.length;s+=2){const o=`${n.slice(0,s/2)}...${n.slice(n.length-s/2)}`;i.innerText=o;const{width:c}=i.getBoundingClientRect();if(c>t)return e.removeChild(i),r;r=o}return e.removeChild(i),r})}componentDidMount(){this.forceUpdate()}render(){return i.createElement("div",{ref:this.textContainerRef,style:{width:this.props.maxWidth?`${this.props.maxWidth}px`:"100%"}},i.createElement("p",{className:this.props.className},this.getFittingText()))}}t.CenterTruncatedText=r,r.displayName="CenterTruncatedText"}),
(function(e,n,a){e.exports={container:"rename_modal--container--34gt8",previewAndLinkContainer:"rename_modal--previewAndLinkContainer--U2H_l",previewContainer:"rename_modal--previewContainer--2Axma",sectionHeaderContainer:"rename_modal--sectionHeaderContainer--2FDsU",sectionHeader:"rename_modal--sectionHeader--2P9ZL",previewNameContainer:"rename_modal--previewNameContainer--YpfHE",previewName:"rename_modal--previewName--1p5oI",linkContainer:"rename_modal--linkContainer--xsDHA",link:"rename_modal--link--1uO56 blue_link--blueLink--22X56",_inputContainer:"rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",sequenceInputContainer:"rename_modal--sequenceInputContainer--2jwe4 rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",sequenceInputContainerDisabled:"rename_modal--sequenceInputContainerDisabled--2WRrE rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",sequenceLabel:"rename_modal--sequenceLabel--282zG",sequenceInput:"rename_modal--sequenceInput--17oq4",patternInputContainer:"rename_modal--patternInputContainer--2PM3m rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",patternInput:"rename_modal--patternInput--15ctM",patternButtonsContainer:"rename_modal--patternButtonsContainer--1_CBQ rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",numberButton:"rename_modal--numberButton--2UmLP",numberArrow:"rename_modal--numberArrow--2A3pk",form:"rename_modal--form--MRT4N",formInputs:"rename_modal--formInputs--311WA",formButtonsContainer:"rename_modal--formButtonsContainer--39U2D rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a"}}),
(function(e,i,n){e.exports={previewContainerWidth:"120px"}}),
(function(l,t,e){l.exports={src:'<svg width="7" height="8" viewBox="0 0 7 8" xmlns="http://www.w3.org/2000/svg"><path d="M.14 3.133L3.163.138c.186-.184.486-.184.672 0l3.025 2.995c.185.183.185.481 0 .665-.186.184-.487.184-.672 0L3.975 1.607V8h-.95V1.607L.81 3.798c-.185.184-.486.184-.672 0-.185-.184-.185-.482 0-.665z" fill-rule="evenodd" fill-opacity="1" fill="#444" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="7" height="8" viewBox="0 0 7 8" xmlns="http://www.w3.org/2000/svg"><path d="M6.86 4.867L3.837 7.862c-.186.184-.486.184-.672 0L.139 4.867c-.185-.183-.185-.481 0-.665.186-.184.487-.184.672 0l2.214 2.191V0h.95v6.393L6.19 4.202c.185-.184.486-.184.672 0 .185.184.185.482 0 .665z" fill-rule="evenodd" fill-opacity="1" fill="#444" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(2,1    ),s=n(6,1        ),r=n(113                                     ),i=n(232                       ),c=n(215                                          ),l=n(747                              ),o=n(442                             ),h=n(138      ),p=n(420              ),u=n(146                        ),m=n(758                                              ),d=n(973                                  ),g=n(147                                            ),S=n(1072                                                           ),I=n(1073                ),P=n(1074                                      ),E=n(136                                 ),f=n(1075                                 ),b=n(1076                                   ),N=p.pxToInt(P.previewContainerWidth);var R;!function(e){e[e.Match=0]="Match",e[e.NumberAscending=1]="NumberAscending",e[e.NumberDescending=2]="NumberDescending"}(R||(R={}));const v={[R.Match]:"$&",[R.NumberAscending]:"$nn",[R.NumberDescending]:"$NN"},C=/\$n+/,_=/\$N+/,w=1;function D(e,t){const n=`${e}`;return n.length>=t?n:new Array(t-n.length+1).join("0")+n}t.RENAME_MODAL="rename-modal",E.registerUnsafeModal(t.RENAME_MODAL,e=>a.createElement(y,{guids:e.modalShown.data.guids.filter(t=>e.mirror.sceneGraph.get(t)),mirror:e.mirror,dispatch:e.dispatch}));class y extends a.PureComponent{constructor(e){super(e),this.guidSet=null,this.sortedGUIDs=[],this.shouldRefocusReplaceInput=!1,this.lastReplacePatternInputSelectionStart=0,this.lastReplacePatternInputSelectionEnd=0,this.replacePatternInputEl=null,this.replacePatternInputRef=(e=>{this.replacePatternInputEl=s.findDOMNode(e)}),this.hideModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.onKeyDown=(e=>{e.stopPropagation(),e.keyCode===h.Key.ESCAPE&&this.hideModal()}),this.onSubmit=(e=>{e&&e.preventDefault();const t=this.generateLayerNames();let n=!1;for(const a in t){const e=this.props.mirror.sceneGraph.get(a);e&&t[a]!==e.name&&(l.setName(a,t[a]),n=!0)}n&&c.fullscreen.commit(),this.hideModal()}),this.onMatchPatternChange=(e=>{this.setState({matchPattern:e.currentTarget.value})}),this.onMatchPatternFocus=(()=>{this.shouldRefocusReplaceInput=!1}),this.onReplacePatternChange=(e=>{this.shouldRefocusReplaceInput=!1;const t=e.currentTarget.value;this.setState({replacePattern:t,sequenceLabel:this.getSequenceLabel(t)})}),this.isUsingNumberPattern=(()=>C.test(this.state.replacePattern)||_.test(this.state.replacePattern)),this.getSequenceLabel=(e=>{return new RegExp(`^.*(?=.*${C.source})(?=.*${_.source}).*$`).test(e)?"Start sequence from":_.test(e)?"Stop descending at":C.test(e)?"Start ascending from":this.state.sequenceLabel}),this.onSequenceStartChange=(e=>{this.updateShouldRefocusReplaceInput(),this.setState({sequenceStart:o.getValueOrNull(e)})}),this.onPatternButtonClick=(e=>{const{replacePattern:t}=this.state,n=this.lastReplacePatternInputSelectionStart,a=this.lastReplacePatternInputSelectionEnd;this.lastReplacePatternInputSelectionStart+=v[e].length,this.lastReplacePatternInputSelectionEnd=this.lastReplacePatternInputSelectionStart;const s=`${t.slice(0,n)}${v[e]}${t.slice(Math.max(n,a),t.length)}`;this.setState({replacePattern:s,sequenceLabel:this.getSequenceLabel(s)})}),this.updateShouldRefocusReplaceInput=(()=>{this.shouldRefocusReplaceInput=document.activeElement===this.replacePatternInputEl}),this.setReplacePatternInputSelection=(()=>{this.replacePatternInputEl&&null!=this.replacePatternInputEl.selectionStart&&null!=this.replacePatternInputEl.selectionEnd&&(this.lastReplacePatternInputSelectionStart=this.replacePatternInputEl.selectionStart,this.lastReplacePatternInputSelectionEnd=this.replacePatternInputEl.selectionEnd)}),this.generateLayerNames=(()=>{const e=Number.isInteger(this.state.sequenceStart)?this.state.sequenceStart:w,t=this.sortedGUIDs.map(e=>{const t=this.props.mirror.sceneGraph.get(e);return t&&t.name}).filter(e=>e&&e.length),n=this.sortedGUIDs.map((n,a)=>{const s=a+e,r=e+this.sortedGUIDs.length-(a+1);let i;try{i=new RegExp(this.state.matchPattern||".*")}catch(l){if(!(l instanceof SyntaxError))throw l;i=this.state.matchPattern}const c=this.state.replacePattern.replace(new RegExp(C.source,"g"),e=>D(s,e.length-1)).replace(new RegExp(_.source,"g"),e=>D(r,e.length-1));return t[a].replace(i,c)}).map((e,n)=>e||t[n]);return this.sortedGUIDs.reduce((e,t,a)=>Object.assign(Object.assign({},e),{[t]:n[a]}),{})}),this.getPreviewNames=(()=>{const e=this.generateLayerNames(),t=(this.sortedGUIDs.length<=5?this.sortedGUIDs:[...this.sortedGUIDs.slice(0,4),this.sortedGUIDs[this.sortedGUIDs.length-1]]).map(t=>a.createElement(S.CenterTruncatedText,{className:I.previewName,key:t,text:e[t],maxWidth:N}));return this.sortedGUIDs.length>5?[...t.slice(0,4),a.createElement("p",{className:I.previewName,key:"..."},"..."),t[t.length-1]]:t}),this.guidSet=new Set(e.guids),this.sortGUIDs(),this.state={matchPattern:"",replacePattern:"",sequenceStart:w,sequenceLabel:"Start ascending from"}}componentDidMount(){const{replacePattern:e}=this.state;this.replacePatternInputEl&&(this.replacePatternInputEl.focus(),this.replacePatternInputEl.setSelectionRange(e.length,e.length))}UNSAFE_componentWillReceiveProps(e){const t=new Set(e.guids);var n,a;this.guidSet&&(n=this.guidSet,a=t,n.size!==a.size||(n.forEach(e=>{if(!a.has(e))return!1}),0))&&(this.guidSet=t,this.sortGUIDs())}componentDidUpdate(){this.shouldRefocusReplaceInput&&this.replacePatternInputEl&&(this.replacePatternInputEl.focus(),this.replacePatternInputEl.setSelectionRange(this.lastReplacePatternInputSelectionStart,this.lastReplacePatternInputSelectionEnd),this.shouldRefocusReplaceInput=!1)}sortGUIDs(){const e=this.props.mirror.appModel.currentPage&&this.props.mirror.sceneGraph.get(this.props.mirror.appModel.currentPage);if(e){const t=e.reversedChildren;for(this.sortedGUIDs=[];t.length;){const e=this.props.mirror.sceneGraph.get(t[0]);t.shift(),e&&(e.reversedChildren&&t.unshift(...e.reversedChildren),this.guidSet&&this.guidSet.has(e.guid)&&this.sortedGUIDs.push(e.guid))}}else this.sortedGUIDs=this.props.guids}render(){return a.createElement(m.HeaderModal,{title:`Rename ${this.sortedGUIDs.length} layers`,isCloseHidden:!1,maxWidth:492,fixedTop:!0,onClose:this.hideModal},a.createElement("div",{className:I.container},a.createElement("div",{className:I.previewAndLinkContainer},a.createElement("div",{className:I.previewContainer,onKeyDown:this.onKeyDown},a.createElement("div",{className:I.sectionHeader},"Preview"),a.createElement("div",{className:I.previewNameContainer},this.getPreviewNames()))),a.createElement("form",{className:I.form,onSubmit:this.onSubmit,onMouseDown:this.updateShouldRefocusReplaceInput},a.createElement("div",{className:I.formInputs},a.createElement("div",{className:I.patternInputContainer},a.createElement(g.TextInput,{className:I.patternInput,value:this.state.matchPattern,onFocus:this.onMatchPatternFocus,onChange:this.onMatchPatternChange,placeholder:"Match (optional)"})),a.createElement("div",{className:I.patternInputContainer},a.createElement(g.TextInput,{className:I.patternInput,value:this.state.replacePattern,onChange:this.onReplacePatternChange,onBlur:this.setReplacePatternInputSelection,placeholder:this.state.matchPattern?"Replace with":"Rename to",ref:this.replacePatternInputRef})),a.createElement("div",{className:I.patternButtonsContainer},a.createElement(g.ButtonSecondary,{type:"button",onClick:()=>{this.onPatternButtonClick(R.Match)}},this.state.matchPattern?"Current match":"Current name"),a.createElement(g.ButtonSecondary,{className:I.numberButton,type:"button",onClick:()=>{this.onPatternButtonClick(R.NumberAscending)}},"Number ",a.createElement(u.Svg,{className:I.numberArrow,svg:f})),a.createElement(g.ButtonSecondary,{className:I.numberButton,type:"button",onClick:()=>{this.onPatternButtonClick(R.NumberDescending)}},"Number ",a.createElement(u.Svg,{className:I.numberArrow,svg:b}))),a.createElement("div",{className:this.isUsingNumberPattern()?I.sequenceInputContainer:I.sequenceInputContainerDisabled},a.createElement("span",{className:I.sequenceLabel},this.state.sequenceLabel),a.createElement(d.ScrubbableIntInput,{className:I.sequenceInput,value:this.state.sequenceStart,onValueChange:this.onSequenceStartChange,disabled:!this.isUsingNumberPattern(),min:0,"data-tooltip-type":i.TooltipType.TEXT,"data-tooltip":"Start ascending from",tooltipForScreenReadersOnly:!0,dispatch:this.props.dispatch}))),a.createElement("div",{className:I.formButtonsContainer},a.createElement(g.ButtonPrimary,{type:"submit"},"Rename"),a.createElement(g.ButtonSecondary,{type:"button",onClick:this.hideModal},"Cancel")))))}}y.displayName="RenameModal"}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(2,1    ),o=t(113                                     ),n=t(154                                 ),l=t(147                                            ),r=t(152                                          ),c=t(191          ),i=t(136                    );s.LEAVE_UNSAVED_DOCUMENT_MODAL="leave-unsaved-document-modal",i.registerUnsafeModal(s.LEAVE_UNSAVED_DOCUMENT_MODAL,e=>a.createElement(m,Object.assign({modal:e.modalShown},e)));class m extends a.Component{constructor(){super(...arguments),this.hideModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){const e=this.props.modalShown.data;return a.createElement(n.Modal,Object.assign({size:"small",title:"Unable to Leave Document",className:c.modal},this.props),a.createElement(r.ModalCloseButton,Object.assign({},this.props)),a.createElement("div",null,e.message),a.createElement("div",{className:c.buttonRow},a.createElement(l.ButtonPrimary,{className:c.confirmButton,onClick:this.hideModal},"Ok")))}}m.displayName="LeaveUnsavedDocumentModal"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(261                               ),s=i(1041                              ),o=i(647                                        ),a=i(207                                   ),c=i(285                            );t.SelectionBindingsImpl=class{constructor(e){this.store=e,this.dispatch=(e=>{this.store.dispatch(e)})}showEyedropper(e,t,i,n,s){this.dispatch(a.fullscreen.setEyedropper({color:e,width:t,height:i,rgba:n,grid:s}))}hideEyedropper(){this.dispatch(a.fullscreen.setEyedropper(null))}updateSelectionPaintsWithFillEncodedPaints(e,t,i,n){const a=s.decodeSelectionPaintsEncodedAsFillPaints(e,t,i,n);this.store.dispatch(o.selectionPaintActions.updateSelectionPaintsFromFullscreen(a))}updateSelectionPaintsWithStyles(e){const t=this.store.getState().library,i=this.store.getState().mirror.sceneGraph;this.store.dispatch(o.selectionPaintActions.updateSelectionStylesFromFullscreen(e.map(e=>{const n=c.getDiscriminatedStyle(e.key,e.guids,t);return n?{styleKey:e.key,styleGUIDs:e.guids,count:e.count,uniqueNodesCount:e.uniqueNodesCount,styleName:c.nameOfDiscriminatedStyle(n,i)}:{styleKey:e.key,styleGUIDs:e.guids,count:e.count,uniqueNodesCount:e.uniqueNodesCount,styleName:""}})))}clearSelectionPaintsDueToLimitExceeded(){this.store.dispatch(o.selectionPaintActions.clearSelectionPaintsDueToLimitExceeded())}updateSelectionPaintFromDropper(e){const t=this.store.getState().currentSelectionPaintInPicker;if(null==t.originalPaint)return!1;const i=s.decodeSelectionPaintEncodedAsFillPaint(e);return null==i?(console.error(`Failed to apply paint: ${e}`),!1):(n.SelectionPaintHelpers.updatePaint(s.encodePaintAsFillPaints(t.originalPaint),e,!0),this.store.dispatch(o.selectionPaintActions.updateCurrentSelectionPaintInPicker(Object.assign(Object.assign({},t),{updatedPaintFromDropper:i.paint}))),!0)}pickerHasSelectionPaintOpen(){return null!=this.store.getState().currentSelectionPaintInPicker.originalPaint}originalPaintForCurrentSelectionPaintsPicker(){const e=this.store.getState().currentSelectionPaintInPicker.originalPaint;return null==e?"":s.encodePaintAsFillPaints(e)}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(2,1    ),s=a(231       ),l=a(191          ),i=a(113                                     ),n=a(147                                            ),r=a(154                                 ),c=a(136                    ),m=a(211              ),d=a(112          );t.MULTIPLAYER_CONNECTION_ERROR_MODAL="multiplayer-connection-error-modal",t.MULTIPLAYER_TOO_MANY_CONNECTIONS_MODAL="multiplayer-too-many-connections",c.registerUnsafeModal(t.MULTIPLAYER_CONNECTION_ERROR_MODAL,e=>o.createElement(_,Object.assign({},e))),c.registerUnsafeModal(t.MULTIPLAYER_TOO_MANY_CONNECTIONS_MODAL,e=>o.createElement(O,Object.assign({},e)));const _=e=>{const t=e.modalShown.data;return o.createElement(r.Modal,Object.assign({size:"small",className:l.modal},e),o.createElement("div",{className:l.title},t.title),o.createElement("div",{className:l.modalContent},t.message),o.createElement("div",{className:l.buttonRow},o.createElement(n.ButtonPrimary,{className:l.confirmButton,onClick:()=>{e.dispatch(i.fileBrowser.hideModal())}},"Dismiss")))},O=e=>{const t=e.modalShown.data;return o.createElement(r.Modal,Object.assign({size:"small",className:l.modal},e),o.createElement("div",{className:l.title},"Editor limit reached"),o.createElement("div",{className:l.modalContent},"Too many people have that file open right now. A maximum of 50 people can open a file at a time."),!m.desktopApp&&o.createElement("div",{className:l.buttonRow},o.createElement(n.ButtonPrimary,{className:l.confirmButton,onClick:()=>{const a=e.selectedView;if("fullscreen"===a.view){let e=t.nodeId;s.isValid(s.fromString(a.nodeId))&&(e=a.nodeId);const o=`/file/${a.fileKey}/?viewer=1&node-id=${e}`;d.redirect(o)}}},"Open View Only")))}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(215                                          ),s=n(261                               );let i=null,o=0,l=!1,r=!1;t.startMonitorInterval=function(){if(r)return;r=!0,setInterval(()=>a.fullscreen.isReady()&&s.Multiplayer.updateConnectionStateIfNeeded(!1),250),window.addEventListener("online",()=>{navigator.onLine&&a.fullscreen.isReady()&&s.Multiplayer.updateConnectionStateIfNeeded(!0)})},t.setBackgroundFlushInterval=function(e){i||(i=function(){try{let t=new Blob(["("+function(){onmessage=(e=>setTimeout(()=>self.postMessage(""),e.data))}+")()"],{type:"text/javascript"}),n=new Worker(URL.createObjectURL(t));return(e,t)=>{n.onmessage||(n.onmessage=(()=>{n.onmessage=null,e()}),n.postMessage(t))}}catch(e){return console.error(e),(e,t)=>{setTimeout(e,t)}}}()),o=e,l||function e(){o&&(l=!0,i(function(){l=!1,o&&s.Multiplayer.flush(),e()},o))}()}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(1080                                                ),o=s(207                                   ),i=s(113                                     ),n=s(281                                        ),l=s(93                                   ),r=s(112          ),h=s(781                                       ),c=s(306                                          ),d=s(284                          ),u=s(1081                                  ),p=s(125                        ),v=s(175                            ),g=s(731                      ),f=s(729                                   ),m=s(261                               ),y=s(212                );a.MultiplayerBindingsImpl=class{constructor(e){this.store=e,this.hasUnsavedChanges=(()=>{const e=this.store.getState();return!(!e.saveStatus||!e.saveStatus.hasUnsavedChanges)}),this.updateSaveStatus=(e=>{let a=e.labelHTML,s=e.tabCloseText,t=e.hasAutosaveChanges,i=e.hasMultiplayerChanges,l=new d.SaveStatus(a,s,{hasAutosaveChanges:t,hasMultiplayerChanges:i});this.hasUnsavedChanges()&&(this.store.getState().versionHistory.docHasChanged||this.dispatch(n.versionHistory.setDocHasChangedSinceLastSavepoint({status:!0})));const r=this.store.getState().saveStatus;r&&l.equals(r)||(this.dispatch(o.fullscreen.setSaveStatus(l)),f.saveStatusChanged(l))})}dispatch(e){this.store.dispatch(e)}reconnectingStarted(){this.dispatch(o.fullscreen.reconnectingStarted())}reconnectingSucceeded(){this.dispatch(o.fullscreen.reconnectingSucceeded())}snapshotHashChanged(e){e.length<1&&(this.store.getState().versionHistory.docHasChanged||this.dispatch(n.versionHistory.setDocHasChangedSinceLastSavepoint({status:!0})))}updateMultiplayerState(e){this.dispatch(o.fullscreen.updateMultiplayerState(e))}checkpointResponse(e,a){h.checkpointCallback(e,a)}setBackgroundFlushInterval(e){u.setBackgroundFlushInterval(e)}startMonitorInterval(){u.startMonitorInterval()}handleMultiplayerSignal(e,a){if("force-refresh"===e)r.locationReload("Multiplayer got force-refresh signal");else if("too-many-connections"===e){let e,s;this.hasUnsavedChanges()?(s="Changes can not be saved",e='Too many people have this file open right now so your changes cannot be saved at the moment (a maximum of 50 people can open a file at a time). To save your changes, you can either copy and paste the content to a new file or choose "Save As .fig..." from the "File" menu.',this.dispatch(i.fileBrowser.showModal({type:t.MULTIPLAYER_CONNECTION_ERROR_MODAL,data:{message:e,title:s}}))):this.dispatch(i.fileBrowser.showModal({type:t.MULTIPLAYER_TOO_MANY_CONNECTIONS_MODAL,data:{nodeId:a}}))}else if("invalid-permissions"===e){let e,a;this.hasUnsavedChanges()?(a="Changes can not be saved",e='Someone revoked your access to this file so your changes cannot be saved at the moment. To save your changes, you can either copy and paste the content to a new file or choose "Save As .fig..." from the "File" menu.'):(this.dispatch(o.fullscreen.attemptClose()),a="Access revoked",e="Someone revoked access to the file you had open. Ask the owner for access to open it again."),this.dispatch(i.fileBrowser.showModal({type:t.MULTIPLAYER_CONNECTION_ERROR_MODAL,data:{message:e,title:a}}))}else if("client-too-old"===e)if(this.hasUnsavedChanges()){let e="Changes can not be saved",a='The app is too far out of date with the server. You can reload Figma to continue editing, although that means you will lose unsaved work. To save your changes, you can either copy and paste the content to a new file or choose "Save As .fig..." from the "File" menu.';this.dispatch(i.fileBrowser.showModal({type:t.MULTIPLAYER_CONNECTION_ERROR_MODAL,data:{message:a,title:e}}))}else this.dispatch(l.flash.flash("Updating the app...")),setTimeout(()=>{let e=location.href;e+=/\?/.test(e)?"&":"?",e+="flash="+encodeURIComponent("Figma was automatically updated to the latest version"),location.assign(e)},50);else"schema-validation-failure"===e&&c.showFatalFlash("This file can't be opened because of a schema validation failure",this.store.dispatch)}showRestoreComponentDialog(e){const a=this.store.getState();a.editingFileKey&&p.canEditFile(a.editingFileKey,a)&&this.store.dispatch(i.fileBrowser.showModal({type:v.RESTORE_COMPONENT_MODAL,data:{nodeId:e}}))}readyToAcceptAutosaveChanges(){var e,a;return!!(null===(a=null===(e=g.getAutosave())||void 0===e?void 0:e.session())||void 0===a?void 0:a.readyToAcceptChanges())}saveNodeChanges(e,a){var s,t;null===(t=null===(s=g.getAutosave())||void 0===s?void 0:s.session())||void 0===t||t.saveNodeChanges(e,a)}clearNodeChanges(e){var a,s;null===(s=null===(a=g.getAutosave())||void 0===a?void 0:a.session())||void 0===s||s.clearNodeChanges(e)}saveImages(e){var a,s;null===(s=null===(a=g.getAutosave())||void 0===a?void 0:a.session())||void 0===s||s.saveImages(e)}async commitAutosave(e,a){var s;const t=null===(s=g.getAutosave())||void 0===s?void 0:s.session();if(t){let s=void 0;e===m.AutosaveCommitPolicy.REPLACE_CHANGES&&(s=m.Multiplayer.currentSessionID())<=0&&y.reportErrorWithoutCrashing("Autosave: Unexpected sessionID <= 0"),await t.commitAutosave({commitPolicy:e,newSessionID:s,numberOfUncleanRegisters:a})}return!0}async clearAllNodeChanges(){var e,a;return await(null===(a=null===(e=g.getAutosave())||void 0===e?void 0:e.session())||void 0===a?void 0:a.clearAllNodeChanges()),!0}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(141              ),n=i(221       ),o=i(112          ),a=i(86            ),r=i(290                ),l=i(314              ),d=i(129           ),p=i(108     ),c=i(307           ),h=i(111          ),u=i(211              ),m=i(287                ),g=i(294            ),_=i(85                   ),f=i(288               ),y=i(88           ),w=i(172                                              ),b=i(93                                   ),v=i(398               ),F=i(175                            ),S=i(289                              ),k=i(747                              ),E=i(792                                        ),T=i(747                              ),I=i(313                           ),D=i(312                              ),A=i(261                               ),M=i(316                                   ),C=(i(316                                   ),i(777                                       )),R=i(186                      ),P=i(926                             ),L=i(305                    ),N=i(928                                 ),O=i(125                        ),B=i(915                             ),x=i(226                       ),U=i(929                                           ),K=i(931                                                ),V=i(932                                          ),W=i(747                              ),H=i(925                                     ),G=i(262                                     ),$=i(692                                 ),z=i(185                                 ),Y=i(260                                                  ),q=i(673                                          ),j=i(933                                     ),X=i(113                                     ),Q=i(190                                         ),J=i(339                                    ),Z=i(207                                   ),ee=i(280                             ),te=i(319                                              ),ie=i(209                ),se=i(670                               ),ne=i(264                                  ),oe=i(222                                      ),ae=i(118                    ),re=i(284                          ),le=i(263                      ),de=i(176                       ),pe=i(177                                       ),ce=i(458                         ),he=i(175                            ),ue=i(520                                           ),me=i(939                                                          ),ge=i(941                                                                       ),_e=i(943                                                                                               ),fe=i(945                                           ),ye=i(786                          ),we=i(261        ),be=i(261        ),ve=i(946                                                                           ),Fe=i(309              ),Se=i(215                   ),ke=i(947             ),Ee=i(948       ),Te=i(950         ),Ie=i(951                       ),De=(i(89              ),i(102              )),Ae=i(952                               ),Me=i(400                         ),Ce=i(1067                                                                             ),Re=i(1069                                              ),Pe=i(1070                                  ),Le=i(1071                                     ),Ne=i(1077                                             ),Oe=i(101                             ),Be=i(1078                                          ),xe=i(228         ),Ue=i(1079                              ),Ke=i(1082                     ),Ve=i(310                        ),We=i(731                     ),He=i(107           ),Ge=i(931                                                ),$e=i(212                );t.interVersion="3.10";const ze=N.createUrlCache();let Ye=!1;t.initializeFullscreenBindings=((e,t)=>(Ye||(Ye=!0,Se.setFullscreenBindings(new je(e,t)),Se.setSelectionBindings(new Ue.SelectionBindingsImpl(t)),Se.setMultiplayerBindings(new Ke.MultiplayerBindingsImpl(t)),window.App={triggerAction(e){switch(e){case"dump-pending-registers":Se.fullscreen.triggerAction(e);break;default:console.error(`The action ${e} is disabled in release builds.`)}}},window.addEventListener("focus",()=>{Se.fullscreen.isReady()&&be.Fullscreen.onWindowFocus()}),window.prompt=((e,t)=>{let i="";return i="An error occurred. Please contact support. Sorry for the inconvenience.",alert(i),i})),Se.fullscreen)),t.initializeFullscreenBindingsForTests=(e=>{Se.setFullscreenBindings(new je(null,e))});let qe=null;class je{constructor(e,t){this.EXIF=Ee.EXIF,this.ImageIO=Te.ImageIO,this._isDesktopAppRunning=!1,this._readyStartTime=0,this._fullscreenIsReady=!1,this.fileArrayToString=null,this.isReady=(()=>this._fullscreenIsReady),this._readyPromiseResolve=null,this._readyPromise=new Promise((e,t)=>{this.isReady()?e():this._readyPromiseResolve=e}),this.resetLoadedFile=(()=>{this._fileLoadPromise=new Promise(e=>{this._fileLoadPromiseResolve=e})}),this.imagePasteManager=new U.ImagePasteManager,this.onFrame=(()=>{this.isReady()&&A.Fullscreen.onFrame()}),this.loadAndStartFullscreenIfNecessary=f.mergeAndRetry(async()=>{this._readyStartTime=window.performance.now(),Ve.fullscreenLoadTimer.start("loadAndStartFullscreen"),je.startFetchingFontList(),je.startFetchingInterfaceFont(),m.canOpenUrlInDesktopApp(location.href).then(e=>{this._isDesktopAppRunning=e,e&&ge.OpenDesktopAppModal.shouldShowOnce()&&this._store.dispatch(Z.fullscreen.showOpenDesktopAppModal(re.OpenDesktopAppModalMode.FOR_OPEN))}),I.isMacDebugApp?(await this._webContextReadyPromise,this.DEPRECATED_sendMessage("debugMacAppIsStartingFullscreen"),document.body.parentElement.style.backgroundColor="transparent"):await D.initializeFullscreen(),await this.onReady()}),this._hasSelection=(()=>{var e,t,i;return!(null===(i=null===(t=null===(e=this._store)||void 0===e?void 0:e.getState().mirror)||void 0===t?void 0:t.appModel)||void 0===i?void 0:i.selectionEmpty)}),this._currentThumbnail=(()=>{var e,t;const i=null===(e=this._store)||void 0===e?void 0:e.getState().fileByKey,s=this.editingFileKey();return i&&s&&(null===(t=i[s])||void 0===t?void 0:t.thumbnail_guid)}),this._isSelectedFrameCurrentThumbnail=(()=>this._currentThumbnail()===this._selectedFrameIds()[0]),this.handleSketchImportEvent=(e=>{if(this.hasUnsavedChanges())return!1;if(!e.dataTransfer||1!==e.dataTransfer.files.length)return!1;let t=e.dataTransfer.files.item(0);return!(!t||!t.name.toLowerCase().endsWith(".sketch"))&&(this.backToFiles(),this._store.dispatch(J.fileImport.drop(e)),!0)}),this.updateSelectionProperties=((e,t=le.ShouldCommit.YES,i=we.Overwrite.ALWAYS)=>{T.updateSelectionProperties(e,t,i)}),this.nullCurrentSelectedProperty={currentSelectedProperty:{type:we.SelectedPropertyType.NONE,indices:[]}},this.updateAppModel=(e=>{k.updateAppModel(e)}),this.onReady=(()=>this._readyPromise),this.currentOrgId=(()=>this._state.currentOrgId||null),this.currentTeamId=(()=>{const{selectedView:e,folders:t}=this._state;return"team"===e.view?e.teamId:"folder"===e.view&&t[e.folderId]?t[e.folderId].team_id:null}),this.DEPRECATED_sendMessage=((e,t={},i=null)=>{if(this._webContext)return this._webContext.handleMessageFromWeb(e,t,i);setTimeout(()=>{throw new Error(`Trying to send a message to WebContext before it is initialized: ${e}`)},0)}),this._dispatch=(e=>{if(!this._store)throw new Error("Trying to dispatch before we've been initialized");this._store.dispatch(e)}),this.triggerAction=((e,t)=>{if("enter-layout-mode"===e){const e=this._store.getState().selectedView;this._store.dispatch(X.fileBrowser.selectView(Object.assign(Object.assign({},e),{versionId:void 0})))}if(null!=t&&"object"!=typeof t)throw new Error(`Invalid payload for action ${e}`);be.Fullscreen.triggerAction(e,t)}),this.commit=(()=>{this.triggerAction("commit")}),this.getViewportInfo=(()=>Se.fullscreen.DEPRECATED_sendMessage("getViewportInfo").args.value),this.isWebContextReady=(()=>!!this._webContext),this._webContextReadyPromiseResolve=(()=>{}),this._webContextReadyPromise=new Promise((e,t)=>{this._webContextReadyPromiseResolve=e}),this.registerWebContext=(e=>{this._webContext=e,this._webContextReadyPromiseResolve()}),this.session={user:null},this.jsWantsKeyboardEvent=(e=>ue.keyboardDispatcher.shouldInterceptKeyboardEvent(e)),this.jsWantsClipboardEvent=((e,t)=>ue.keyboardDispatcher.shouldInterceptClipboardEvent(e,t)),this.setCustomFocusElement=(e=>{ue.keyboardDispatcher.setCustomFocusElement(e)}),this.fromFullscreen=new r.EventEmitter("fromFullscreen"),this.viewport=new r.EventEmitter("viewport"),this.getCurrentFileName=(()=>{let e=this._state,t=e.editingFileKey,i=e.fileByKey,s=t&&i&&i[t];return s&&s.name||"Untitled"}),this.isCopyExportRestricted=(()=>!this.testsDiv&&(!!this._state.editingFileKey&&O.isCopyExportRestricted(this._state.editingFileKey,this._state))),this.hasReportedTouchStart=!1,this.dispatch=(e=>{this._dispatch(e)}),this.onShowImageScaledDownWarningInfoClick=(()=>{o.unsafeRedirect("https://help.figma.com/hc/en-us/articles/360040028034","_blank"),this._dispatch(w.visualBell.dequeue({}))}),this.onShowGIFConvertedAndScaledDownWarningInfoClick=(()=>{o.unsafeRedirect("https://help.figma.com/hc/en-us/articles/360040028034","_blank"),this._dispatch(w.visualBell.dequeue({}))}),this._viewportState="",this._debouncedPersistViewportState=a.debounce(()=>{const{selectedView:e}=this._store.getState();u.desktopApp&&"fullscreen"===e.view&&this._store.dispatch(X.fileBrowser.selectView(Object.assign(Object.assign({},e),{viewport:this._viewportState})))},500),this.hasUnsavedChanges=(()=>!(!this._state.saveStatus||!this._state.saveStatus.hasUnsavedChanges)),this.dispatchIfSaved=(e=>{if(!this.hasUnsavedChanges())return void this._dispatch(e);let t="The current document has unsaved changes. Figma will continue trying to save in the background. Please try again later.";!1===navigator.onLine&&(t="The current document has unsaved changes. Please connect to the internet so these changes can be saved, then try this again."),this._dispatch(X.fileBrowser.showModal({type:Be.LEAVE_UNSAVED_DOCUMENT_MODAL,data:{message:t}}))}),this.recordImages=((e,t)=>{this.imagePasteManager.recordImages(e,t)}),this.downloadImage=(e=>this.imagePasteManager.downloadImage(e)),this.panToNode=(e=>{this.DEPRECATED_sendMessage("panToNode",{nodeId:e})}),this.restoreComponent=(e=>{this.DEPRECATED_sendMessage("restoreComponent",{nodeId:e})}),this.forwardKeyboardEvent=(e=>{E.forwardKeyboardEvent(e)}),this.handleUpgradeRefresh=(()=>{o.locationReload("Multiplayer got handleUpgradeRefresh")}),this._writeFilesQueue=[],this.toggleMenu=(e=>{if(_.getFeatureFlags().quick_commands_floating_search)ne.isFloatingSearchVisible(this._state.dropdownShown)?this._dispatch(X.fileBrowser.hideDropdown()):this._dispatch(X.fileBrowser.showDropdown({type:ne.floatingSearchDropdownKey,hasOwnEscKeyHandler:!0}));else if(ne.isFullscreenMenuVisible(this._state.dropdownShown))this._dispatch(X.fileBrowser.hideDropdown());else{const t=this._state.mirror.appModel.showUi?42:0,i={top:0,right:t,bottom:t,left:0,width:t,height:t};this._dispatch(X.fileBrowser.showDropdown({type:ne.fullscreenMenuDropdownKey,data:{targetRect:i,togglePreferences:e===be.ToggleMenu.PREFERENCES},hasOwnEscKeyHandler:!0}))}}),this.getLatestPublishedVersionHashForComponent=((e,t)=>{const i=this._state.fileByKey[e],s=this._state.library.published.components;if(!i||!i.team_id)return"";const n=s[i.team_id];return n&&n[i.key]&&n[i.key][t]&&!n[i.key][t].unpublished_at&&n[i.key][t].content_hash||""}),this.getLatestPublishedVersionForStateGroup=((e,t)=>{var i,s;const n=this._state.fileByKey[e];if(!(null==n?void 0:n.team_id))return"";const o=null===(s=null===(i=this._state.library.published.stateGroups[n.team_id])||void 0===i?void 0:i[n.key])||void 0===s?void 0:s[t];return o&&!o.unpublished_at?o.version:""}),this.hasCrashed=!1,this.setCommentsViewportInfo=(e=>{_.getFeatureFlags().comments_perf_redux?this.viewport.trigger("onSetViewport",e.value):this._dispatch($.comments.setViewportInfo({viewportInfo:e.value}))}),this.watchedNodeBoundsChange=(()=>{}),this.handleWatchedNodeBoundsChange=(()=>{this.watchedNodeBoundsChange()}),this.testsDiv=null,this._store=t,this.session.user=e,this.resetLoadedFile(),this.bindListeners(),this._osxMessageListener=new I.OSXWebContextListener(this.fromFullscreen),this.fromFullscreen.on("console:initialize",()=>{Se.fullscreenBindingsReady.then(()=>{this._osxMessageListener.initialize()})}),c.registerFrameCallback(this.onFrame)}reportOOM(e){L.reportOOM(e)}static startFetchingInterfaceFont(){const e=document.fonts;if(null==je.interfaceFontPromise&&e&&window.FontFace){const i=new window.FontFace("Inter",`url(https://static.figma.com/webfont/1/Inter-Regular.woff2?v=${t.interVersion}) format('woff2'), `+`url(https://static.figma.com/webfont/1/Inter-Regular.woff?v=${t.interVersion}) format('woff')`);e.add(i),i.load();const s=i.loaded;je.interfaceFontPromise=s}}static startFetchingFontList(){null==je.fontListPromise&&(je.fontListPromise=M.fetchFontList())}getFileThumbnailMenuItemName(){return this._isSelectedFrameCurrentThumbnail()||!this._hasSelection()?"reset-file-thumbnail":"set-file-thumbnail"}disableFileThumbnailMenu(){return this._hasSelection()&&1!==this._selectedFrameIds().length||!this._hasSelection()&&!this._currentThumbnail()}setFileVersion(e){this._store.dispatch(Z.fullscreen.setFileVersion({fileVersion:e}))}handleFileThumbnailMenuItem(){const e=this.editingFileKey();xe.assertDev(null!=e,"should have editing file key"),this._store.dispatch(ee.file.putThumbnailGuid({file_key:e,thumbnail_guid:this._currentThumbnail()?null:this._selectedFrameIds()[0]}))}toggleDowntimeBanner(){var e;(null===(e=this._store)||void 0===e?void 0:e.getState().showingDowntimeBanner)?this._store.dispatch(Z.fullscreen.hideDowntimeBanner()):this._store.dispatch(Z.fullscreen.showDowntimeBanner())}getDesktopAppMenuItemName(){return this._isDesktopAppRunning?"open-in-desktop-app":"get-desktop-app"}handleDesktopAppMenuItem(e){if("open-in-desktop-app"===e){const e=new Promise(e=>{window.addEventListener("blur",function t(){window.removeEventListener("blur",t),e()})});m.openUrlInDesktopApp(location.href).then(t=>{t?(_e.OpenDesktopAppFromNowOnModal.shouldShowOnce()&&Promise.race([e,He.waitFor(3e3)]).then(()=>{ge.OpenDesktopAppModal.disableAutoOpenIfUnset(),this._store.dispatch(Z.fullscreen.showOpenDesktopAppModal(re.OpenDesktopAppModalMode.FOR_MENU))}),h.segment.track("desktop_links",{action:"opened_in_app",source:"menu"})):h.segment.track("desktop_links",{action:"open_in_app_rejected",source:"menu"})}).catch(()=>{h.segment.track("desktop_links",{action:"open_in_app_failed",source:"menu"})})}else"get-desktop-app"===e&&(d.mac?this.navigateToURL("/download/desktop/mac",be.NavigateTarget.NEW_TAB):d.windows&&this.navigateToURL("/download/desktop/win",be.NavigateTarget.NEW_TAB))}reparentRootElement(e){this.containerElement=e;const t=document.getElementById("fullscreen-root");if(!t)return;if(!this.containerElement)return t.style.visibility="hidden",void document.body.appendChild(t);let i=null;document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.style.visibility="visible",this.containerElement.appendChild(t),i&&i.focus()}isRootElementVisible(){const e=document.getElementById("fullscreen-root");return null!=this.containerElement&&(null==e?void 0:e.parentElement)===this.containerElement}deselectProperty(){this.updateAppModel(this.nullCurrentSelectedProperty)}editingFileKey(){return this._state.editingFileKey}async editingFileKeyPromise(){return this.editingFileKey()||this._fileLoadPromise}get _state(){if(!this._store)throw new Error("Calling _state without a valid store");return this._store.getState()}isInDrafts(){const e=ie.getEditingFile(this._state);return!!((null==e?void 0:e.folder_id)&&ae.isADraftsFolder(this._state.folders,e.folder_id))}reportTouchStart(){this.hasReportedTouchStart||(this.hasReportedTouchStart=!0,h.segment.track("Editor Canvas Touch"))}openExportPicker(){h.segment.track("Export Picker Opened",{from:"toolbar-or-keyboard"}),this._dispatch(Z.fullscreen.showPicker({id:Oe.EXPORT_PICKER_ID}))}openShortcuts(){Se.fullscreen.isReady()&&Se.fullscreen.triggerAction("toggle-keyboard-shortcuts")}openPreferencesModal(){this._dispatch(X.fileBrowser.showModal({type:F.LIBRARY_PREFERENCES_MODAL}))}showNudgeAmountPicker(){this._dispatch(Z.fullscreen.showPicker({id:me.NUDGE_AMOUNT_PICKER_ID}))}toggleInteractionRecorderVisibility(){s.isRunningInteractionTests()?this._dispatch(b.flash.error("The interaction recorder is not supported on /test/interactions")):s.recordingOrPlaybackIsEnabled()&&(this._store.getState().interactionTests.dialogShown?this._dispatch(Q.interactionTest.hideRecorder()):this._dispatch(Q.interactionTest.showRecorder()))}togglePerfHUDVisibility(){_.getFeatureFlags().perf_hud&&fe.togglePerfHUD()}showImageScaledDownWarning(){this._dispatch(w.visualBell.enqueue({type:"image_resized",message:"Image Resized",button:{text:"Learn more",action:this.onShowImageScaledDownWarningInfoClick}}))}showGIFConvertedAndScaledDownWarning(){this._dispatch(w.visualBell.enqueue({type:"gif_converted_resized",message:"GIF is too large. Image has been resized and converted to static image.",button:{text:"Learn more",action:this.onShowGIFConvertedAndScaledDownWarningInfoClick}}))}showDetachedStyleWarning(){this._dispatch(w.visualBell.enqueue({type:"style_detached",message:"Style detached from some text layers"}))}usedKeyboardShortcut(e){this._dispatch(q.keyboardShortcut.usedKeyboardShortcut({key:e}))}getClipboardData(e){return xe.assertDev(null!=u.desktopApp,"clipboard only available on desktop app"),u.desktopApp.getClipboardData([e]).then(({data:t,format:i})=>{if(i!==e)throw new Error(`Asked for clipboard data with MIME type ${e}, got data with MIME type ${i} instead.`);return new Uint8Array(t)})}sendToClipboard(e,t){xe.assertDev(null!=u.desktopApp,"clipboard only available on desktop app"),this.isCopyExportRestricted()||u.desktopApp.setClipboardData(e,t)}trackFromFullscreen(e,t){t=t||{};let i=this._state,s=i.editingFileKey,n=i.fileByKey,o=s&&n&&n[s];t.file_key=s||"new",t.file_team_id=o&&o.team_id||null,t.file_owner_user_id=o&&o.creator_id||null,h.trackFullscreenEvent(e,t)}triggerFromFullscreen(e,t){this.fromFullscreen.trigger(e,t)}persistViewport(e,t,i){const s=`${e},${t},${i}`;this._viewportState!==s&&(this._viewportState=s,this._debouncedPersistViewportState())}trackComponentInstanceInsertion(e){const t=this._state.editingFileKey;if(null===t)return;let i=[];for(const n in e){const t={component_key:n,count:e[n]};i.push(t)}try{p.default.post(`/api/component/${t}/insertions`,{insertions:i})}catch(s){}}trackComponentInstanceDetachment(e){const t=this._state.editingFileKey;if(null!==t)try{p.default.post(`/api/component/${t}/detachment/${e}`)}catch(i){}}enqueueBellNotification(e,t){this._dispatch(w.visualBell.enqueue({type:e,message:t}))}showAutosaveVisualBell(){if(null!=this._state.user&&null!=this._state.editingFileKey&&O.canEditFile(this._state.editingFileKey,this._state)){const e=["✓","✔","💾","👍","✌️","👋","😎","⚡️"],t="autosaveVisualBellLastTime",i=12096e5;let s;if(navigator.onLine)if(this.hasUnsavedChanges())s="The document has unsaved changes. Figma will continue to try auto-saving your work.";else{if(y.localStorageOrNull){let e=Date.now();const s=y.localStorageOrNull.getItem(t);if(y.localStorageOrNull.setItem(t,e.toString()),s&&parseInt(s)>=e-i)return}s=e[Math.round(Math.random()*(e.length-1))]+"   Figma auto-saves your work"}else s="You are offline. Figma will resume auto-saving when you reconnect to the internet.";this._dispatch(w.visualBell.enqueue({type:"save",message:s}))}}showReturnToInstanceVisualBell(){const e=this._store.getState().mirror.selectionProperties.masterSymbolGUID;if(!e)return;const t=Object.keys(this._store.getState().mirror.sceneGraphSelection);this.dispatch(j.symbolToast.returnToInstance({masterGUID:e,instanceGUIDs:t}))}showPushOverridesVisualBell(){this.dispatch(j.symbolToast.pushOverrides())}showVisualBell(e,t,i){this._dispatch(w.visualBell.enqueue({type:e,message:t,error:i}))}showAvocodeDialog(){this._dispatch(X.fileBrowser.showModal({type:Le.AVOCODE_WELCOME_MODAL}))}showDribbbleDialog(e,t){this._state.editingFileKey&&!O.isCopyExportRestricted(this._state.editingFileKey,this._state)&&this._dispatch(X.fileBrowser.showModal({type:Le.DRIBBBLE_EXPORT_MODAL,data:{fileKey:e,nodeId:t}}))}_selectedFrameIds(){const e=this._store.getState();if(null==e.mirror||null==e.mirror.sceneGraphSelection||null==e.editingFileKey)return[];const t=[];for(const i in e.mirror.sceneGraphSelection){const s=e.mirror.sceneGraph.get(i);s&&se.isNodeFrameOrSymbol(s)&&t.push(i)}return t}startRenamingNodes(e){this._dispatch(Z.fullscreen.setLeftPanelTab({tab:A.LeftPanelTab.LAYERS})),this._dispatch(X.fileBrowser.showModal({type:Ne.RENAME_MODAL,data:{guids:e}}))}insertComponentOrShowError(e,t,i,s){this._dispatch(te.insertComponentOrShowError({fileKey:e,nodeId:t,canvasX:i,canvasY:s}))}fetchComponentBuffersForDetachInstance(e,t){return x.fetchComponentSceneGraphsForDetachInstance(e,t)}bindListeners(){this.fromFullscreen.on("handleUpgradeRefresh",this.handleUpgradeRefresh),this.fromFullscreen.on("watchedNodeBoundsChange",this.handleWatchedNodeBoundsChange)}validateAndParseURL(e){try{const{hash:i,host:s,hostname:n,href:o,origin:a,pathname:r,port:l,protocol:d,search:p}=new URL(e);return{hash:i,host:s,hostname:n,href:o,origin:a,pathname:r,port:l,protocol:d,search:p}}catch(t){return null}}backToFiles(){this._dispatch(Z.fullscreen.attemptClose())}showAsyncDetachModal(){this._dispatch(Z.fullscreen.showAsyncDetachModal())}hideAsyncDetachModal(){this._dispatch(Z.fullscreen.hideAsyncDetachModal())}copyLinkToPage(e){const t=`${location.protocol}//${location.host}${location.pathname}?node-id=${encodeURIComponent(e)}`;De.copyText(t).then(()=>this.dispatch(w.visualBell.enqueue({message:G.defaultStringsRaw["link-copied"]})))}generateLinkToNode(e){return`${location.protocol}//${location.host}${location.pathname}?node-id=${encodeURIComponent(e)}`}generateLinkToRemoteNode(e,t){return P.generateLinkToNodeInFile(e,t)}getLocalGUIDFromUrl(e){const{nodeIdInThisFile:t}=P.parseHyperlinkToNodeIdInThisFile(e,this._store.getState());return t}isUserPresent(){return!!this.session.user}async _documentIsLoaded(){Ve.fullscreenLoadTimer.start("documentIsLoaded"),window.figmaPerfTesting&&window.postMessage({name:"DOCUMENT_IS_LOADED",value:performance.now()/1e3},"*");const e=We.getAutosave();if(e){const t=be.Multiplayer.currentSessionID();t<0&&$e.reportErrorWithoutCrashing("[Autosave] Trying to initialize autosave without a session ID"),await e.onConnect(t),await Ve.fullscreenLoadTimer.timeAsync(async()=>{if(_.getFeatureFlags().autosave_livelaunch)await e.session().restoreAutosaveIfNeeded();else if(_.getFeatureFlags().autosave_darklaunch){const t=e.session().restoreAutosaveIfNeeded();t&&await He.waitForTaskUntil(t,()=>{console.log("Checking for and restoring auto-save changes took more than 5 seconds"),h.segment.track("autosave_restore_timeout")},5e3)}},"restoreAutosaveStart","restoreAutosaveEnd")}this._dispatch(Z.fullscreen.documentLoaded()),this._fileLoadPromise.then(e=>{const t=this._store.getState().user;t&&ye.exposeGlobalDebugAPI({userID:t.id,editingFileKey:e})})}documentIsLoaded(){this._documentIsLoaded()}fileLoaded(e){this._fileLoadPromiseResolve(e)}fetchFontFile(e,t,i){return M.fetchFontFile(e,t,i)}openFontSettings(){return l.openFontSettings()}resetMissingFonts(){this.DEPRECATED_sendMessage("resetMissingFonts")}setMissingFont(e,t){this.DEPRECATED_sendMessage("setMissingFont",{family:e,style:t})}fullscreenIsReady(){if(!this._fullscreenIsReady){var e=window.performance.now()-this._readyStartTime;console.log(`[Fullscreen] Ready in ${e.toFixed(1)}ms`),window.postMessage({name:"FULLSCREEN_IS_READY",value:performance.now()/1e3},"*"),L.logNumericMetric("performance.fullscreen.load_time",e/1e3),Ve.fullscreenLoadTimer.start("fullscreenIsReady"),window.DebuggingHelpers=A.DebuggingHelpers,window.DebuggingHelpers.websocket={break:Ge.breakMultiplayerWebsocketForTesting,unbreak:Ge.unbreakMultiplayerWebsocketForTesting},window.figmaPerfTesting&&(window.FigmaAppTimer=g.appTimer,window.FigmaPerfInfo=A.PerfInfo,window.triggerActionForPerfTests=(e=>{switch(e){case"insert-lots-of-text":case"zoom-in":case"zoom-out":case"zoom-reset":case"zoom-to-fit":case"zoom-to-selection":Se.fullscreen.triggerAction(e)}})),Fe.init(),Ie.checkFor3rdPartyApps()}K.initialize(),V.initialize(),W.initialize(),H.initialize(),this.reparentRootElement(this.containerElement),xe.assertDev(null!=je.fontListPromise,"should have loaded font list by the time fullscreen is ready"),je.fontListPromise.then(e=>{this.DEPRECATED_sendMessage("updateFontList",e),this._store.dispatch(Z.fullscreen.updateFontList(e))}).then(()=>{this._fullscreenIsReady=!0,this._readyPromiseResolve&&this._readyPromiseResolve()}),null!=je.interfaceFontPromise&&je.interfaceFontPromise.then(()=>{A.Fullscreen.interfaceFontLoaded()},e=>{console.error("Error loading interface font",e)}),this.DEPRECATED_sendMessage("showingProgressBar",{value:this._state.showingProgressBar})}handleSignedOutEditAttempt(){this._dispatch(v.authActions.init({origin:"signed_out_edit"})),this._dispatch(X.fileBrowser.showModal({type:Me.AUTH_MODAL}))}openSettings(){const e=this._store.getState();e.user&&this._dispatch(X.fileBrowser.selectView({view:"user",userId:e.user.id,userViewTab:ce.UserViewTab.SETTINGS}))}openNewSketchFile(){this.hasUnsavedChanges()||this._store.dispatch(J.fileImport.openSketchFileInput())}openNewFile(){const e=this._store.getState(),t=!I.isMacDebugApp,i=Z.fullscreen.new_({folder_id:null,org_id:e.orgDashboard&&e.currentOrgId,openInNewTab:t,trackingInfo:null});t?this._dispatch(i):this.dispatchIfSaved(i)}getDeviceInfoForSize(e,t){return S.getDeviceInfoForSize(e,t)}runLastPlugin(){return ye.runLastPlugin()}urlCacheGet(e){return ze.get(e)}urlCacheSet(e,t){ze.set(e,t)}desktopAppGetAPIVersion(){return u.desktopApp?u.desktopApp.getVersion():0}desktopAppQueueFileForWriting(e,t){u.desktopApp&&this._writeFilesQueue.push({name:e,buffer:t})}desktopAppWriteFiles(){u.desktopApp&&0!==this._writeFilesQueue.length&&(u.desktopApp.writeFiles(this._writeFilesQueue),this._writeFilesQueue=[])}retrieveMetadataAndSelectBrokenFixedScrollingNodes(){const e=this._state.editingFileKey;e&&async function(e){if(qe&&e===qe.fileKey)return qe;const t=`https://s3-us-west-2.amazonaws.com/figma-fixed-scrolling/${_.initialOptions().cluster_name}/${e}`,i=await fetch(t);if(200===i.status){const t=await i.json();if(!t.fileKey||!t.fixedScrolling)throw new Error(`Broken-fixed-scrolling metadata for file ${e} is missing 'fileKey' or 'fixedScrolling'.`);return qe=t,t}if(404===i.status||403===i.status){const t={fileKey:e,fixedScrolling:[]};return qe=t,t}throw new Error(`Broken-fixed-scrolling metadata request error: ${i.status}, ${i.statusText}`)}(e).then(t=>{if(!t||!t.fixedScrolling||0===t.fixedScrolling.length)return this._dispatch(w.visualBell.enqueue({type:"no_broken_fixed_scrolling_metadata",message:"We finished scanning your document, and everything looks fine."})),void R.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:0,missingMetadata:!0,error:!1});const i=A.Fullscreen.selectBrokenFixedScrollingNodesOnCurrentPage(t);if(0===i)return this._dispatch(w.visualBell.enqueue({type:"no_broken_fixed_scrolling_nodes_found",message:"We finished scanning this page, and everything looks fine."})),void R.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:i,missingMetadata:!1,error:!1});this._dispatch(w.visualBell.enqueue({type:"selected_broken_fixed_scrolling_nodes",message:`We found ${i} layers on this page that look like their scroll setting is incorrect. Select the "fix position when scrolling" checkbox to repair them.`})),R.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:i,missingMetadata:!1,error:!1})}).catch(t=>{this._dispatch(w.visualBell.enqueue({type:"error_finding_broken_fixed_scrolling_nodes",message:"We ran into an error. Please contact support@figma.com"})),R.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:0,errorMessage:t,error:!0}),console.error(t)})}mobileAppPush(e,t){e&&p.default.post(`/api/mobile_app_push/${encodeURIComponent(e)}?frame_id=${encodeURIComponent(t)}`)}toggleQuickCommand(){ne.isQuickCommandBarVisible(this._state.dropdownShown)?this._dispatch(X.fileBrowser.hideDropdown()):this._dispatch(X.fileBrowser.showDropdown({type:ne.quickCommandBarDropdownKey,data:{},hasOwnEscKeyHandler:!0}))}attemptedSketchFileDrop(){this._dispatch(X.fileBrowser.showModal({type:he.ATTEMPTED_SKETCH_FILE_DROP_MODAL}))}fontResourceStatusChanged(e,t,i){M.triggerFontListeners(e,t,i)}imageResourceStatusChanged(e,t){C.triggerImageListeners(e,t)}showDeletedComponentNotification(){this._dispatch(z.notifActions.enqueue({notification:{type:pe.NotificationType.PUBLISHED_COMPONENT_DELETED,message:"A deleted component is still published in the Team Library"}}))}showCanvasContextMenu(e,t){this._dispatch(X.fileBrowser.showDropdown({type:Oe.DROPDOWN_TYPE_CANVAS_CONTEXT_MENU,data:{clientX:e,clientY:t}}))}showSelectionContextMenu(e,t){this._dispatch(X.fileBrowser.showDropdown({type:Oe.DROPDOWN_TYPE_SELECTION_CONTEXT_MENU,data:{clientX:e,clientY:t}}))}showSelectLayerContextMenu(e,t){this._dispatch(X.fileBrowser.showDropdown({type:Oe.DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU,data:{clientX:e,clientY:t}}))}showLeftPanelTab(e){this._dispatch(Z.fullscreen.setLeftPanelTab({tab:e}))}toggleTeamLibraryModal(){var e;(null===(e=this._store.getState().modalShown)||void 0===e?void 0:e.type)===F.LIBRARY_PREFERENCES_MODAL?this._dispatch(X.fileBrowser.hideModal()):this._dispatch(X.fileBrowser.showModal({type:F.LIBRARY_PREFERENCES_MODAL}))}showMemoryWarningModal(e){this.hasCrashed?e=be.MemoryWarningType.CRASH:e===be.MemoryWarningType.CRASH&&(this.hasCrashed=!0),this._dispatch(X.fileBrowser.showModal({type:Pe.MEMORY_WARNING_MODAL,data:e}))}showMissingFontPopover(e){this._dispatch(X.fileBrowser.showModal({type:Ce.MISSING_FONTS_MODAL,data:{missingFonts:e}}))}onWatchedNodeBoundsChange(e){this.watchedNodeBoundsChange=e}updateSelectedStyleProperties(e,t,i){const s=n.schema.decodeMessage(e),o=Object.assign({},s.nodeChanges[0]),a=o;o.fontName&&(a.fontFamily=o.fontName.family,a.fontStyle=o.fontName.style),o.sharedStyleMasterData&&o.sharedStyleMasterData.styleKey?a.styleKey=o.sharedStyleMasterData.styleKey:o.sharedStyleReference&&o.sharedStyleReference.styleKey&&(a.styleKey=o.sharedStyleReference.styleKey),a.intrinsicLineHeight=t,null!=i&&(a.availableOTFeaturesForFonts=i),this._dispatch(Z.fullscreen.updateSelectedStyleProperties({selectedStyleProperties:a}))}updateSelectedStyleThumbnail(e){const t=URL.createObjectURL(new Blob([e]));this._dispatch(Z.fullscreen.updateSelectedStyleThumbnailURL({selectedStyleThumbnailURL:t}))}updateStyleThumbnail(e,t){const i=this._state.library.local.styles[e],s=!oe.cssThumbnailDefinitelySupported(i.style_type);if(i&&s){const s=x.cacheThumbDataAndGetUrl(t),n=i.meta&&i.meta.style_thumbnail;this._dispatch(Y.libraryThumbnail.updateThumbnails([{nodeId:e,url:s,styleThumbnail:n,type:de.LibraryItemType.STYLE}]))}}showSavepointModal(){this._dispatch(X.fileBrowser.showModal({type:Re.SAVEPOINT_MODAL}))}showBrowserAlert(e){alert(e)}toggleHistoryMode(){this._state.mirror.appModel.topLevelMode===B.TopLevelMode.HISTORY?Se.fullscreen.triggerAction("enter-layout-mode"):this._dispatch(Z.fullscreen.enterVersionHistoryMode())}navigateToURL(e,t){const i=new URL(e,location.href);location.origin===i.origin&&(t===be.NavigateTarget.CURRENT_TAB?location.href=e:o.redirect(e,"_blank"))}trimName(e,t){return 0==(e=e.trim()).length&&(e=t),e}getFeatureFlags(){return _.getFeatureFlags()}setHyperlinkPopup(e,t,i,s,n){if(e.length>0){let{url:a,nodeIdInThisFile:r}=P.parseHyperlinkToNodeIdInThisFile(e,this._store.getState()),l=null;if(r){const e=this._store.getState().mirror,t=e.sceneGraph,i=t.get(r);if(i){let s=i;for(;s&&"CANVAS"!==s.type;)s=s.parent?t.get(s.parent):null;l=s&&s.guid!==e.appModel.currentPage&&"CANVAS"!==i.type?{type:Ae.HyperlinkType.FRAME,text:this.trimName(s.name,"Page"),secondaryText:this.trimName(i.name,"Frame")}:{type:"CANVAS"==i.type?Ae.HyperlinkType.PAGE:Ae.HyperlinkType.FRAME,text:this.trimName(i.name,"CANVAS"==i.type?"Page":"Frame")}}else l={type:Ae.HyperlinkType.MISSING,text:"Link to a deleted object"}}else if(a){let e;try{l="mailto:"===(e=new URL(a)).protocol?{type:Ae.HyperlinkType.MAILTO,url:e}:e.hostname.endsWith(".figma.com")?"/proto/"==e.pathname.substr(0,7)?{type:Ae.HyperlinkType.FIGMA_PROTOTYPE,url:e}:{type:Ae.HyperlinkType.FIGMA_FILE,url:e}:{type:Ae.HyperlinkType.GENERIC,url:e}}catch(o){l={type:Ae.HyperlinkType.INVALID,urlString:a}}}if(l)return void this.dispatch(Z.fullscreen.setHyperlinkPopup({urlString:e,data:l,position:t,size:i,mouse:s,guid:n}))}this.dispatch(Z.fullscreen.setHyperlinkPopup(null))}updateHyperlinkPopupPosition(e,t){this.dispatch(Z.fullscreen.updateHyperlinkPopupPosition({position:e,size:t}))}handleUserClickOnHyperlink(e){var t;P.handleUserClickOnHyperlink(e,null===(t=this._store)||void 0===t?void 0:t.getState(),this.dispatch)}openHelp(){o.unsafeRedirect("https://help.figma.com","_blank")}openCommunity(){o.unsafeRedirect("https://spectrum.chat/figma","_blank")}openTutorials(){o.unsafeRedirect("https://www.youtube.com/figmadesign","_blank")}startingCppUnitTests(){this.testsDiv=document.createElement("div"),this.testsDiv.className=ke.cppTestsMessage,this.testsDiv.innerHTML="Running C++ unit tests...",document.body.appendChild(this.testsDiv)}finishedCppUnitTests(){var e,t;null===(t=null===(e=this.testsDiv)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this.testsDiv)}getDefaultOnOTFeatures(){return ve.TypeSettingsData.OpenTypeFeatureDefaultOn}}t.FullscreenBindingsImpl=je,je.fontListPromise=null,je.interfaceFontPromise=null,location.pathname.startsWith("/file/")&&je.startFetchingFontList()}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=!1;function a(e){n&&console.log("[StencilTest] "+e)}function E(e){n&&console.log("[StencilTest]E "+e)}function l(e){console.log("[StencilTest] "+e)}function i(e,r,t,n){var l=e.createShader(r);if(l&&(a("compiling "+t),e.shaderSource(l,t),e.compileShader(l),!e.getShaderParameter(l,e.COMPILE_STATUS))){if(n)E("compiler errors "+e.getShaderInfoLog(l));e.deleteShader(l),l=null}return l}function u(e,r){switch(r){case 0:e.disable(e.STENCIL_TEST);break;case 1:e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,0,255),e.stencilOpSeparate(e.FRONT,e.INCR_WRAP,e.INCR_WRAP,e.INCR_WRAP),e.stencilOpSeparate(e.BACK,e.DECR_WRAP,e.DECR_WRAP,e.DECR_WRAP);break;case 2:e.enable(e.STENCIL_TEST),e.stencilFunc(e.NOTEQUAL,0,255),e.stencilOp(e.KEEP,e.KEEP,e.ZERO)}}function o(e){var r=0;e.getError();var t=function(e,r,t){var n=i(e,e.VERTEX_SHADER,r,!0),l=i(e,e.FRAGMENT_SHADER,t,!0),u=e.createProgram();return u&&n&&l&&(a("linking program"),e.attachShader(u,n),e.attachShader(u,l),e.linkProgram(u),e.getProgramParameter(u,e.LINK_STATUS)||(E("linker errors "+e.getProgramInfoLog(u)),e.deleteProgram(u),u=null)),e.getError()==e.NONE&&u&&n&&l||(E("program creation failed"),e.deleteShader(n),e.deleteShader(l),e.deleteProgram(u),u=null),u}(e,"attribute vec2 pos; void main() { gl_Position = vec4(pos.xy * vec2(2.0, -2.0) + vec2(-1.0, 1.0), 0.0, 1.0); }","precision lowp float; void main() { gl_FragColor = vec4(1.0); }"),n=e.createBuffer();if(n){var o=new Float32Array([0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,1,0,0,0,0,1,1,1]);e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)}e.activeTexture(e.TEXTURE0+0);var R=e.getParameter(e.TEXTURE_BINDING_2D),T=e.getParameter(e.VIEWPORT),f=function(e,r,t){var n=e.createTexture();n&&(e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,t,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null));var a=e.createRenderbuffer();n&&a&&(e.bindRenderbuffer(e.RENDERBUFFER,a),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,r,t),e.bindRenderbuffer(e.RENDERBUFFER,null));var l=e.createFramebuffer();if(l&&n&&a){e.bindFramebuffer(e.FRAMEBUFFER,l),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,a);var i=e.checkFramebufferStatus(e.FRAMEBUFFER);e.bindFramebuffer(e.FRAMEBUFFER,null),i!=e.FRAMEBUFFER_COMPLETE&&(e.deleteFramebuffer(l),l=null)}return e.getError()==e.NONE&&l&&n&&a||(E("framebuffer creation failed"),e.deleteTexture(n),e.deleteRenderbuffer(a),e.deleteFramebuffer(l),l=null),l}(e,4,4);if(n&&t&&f){e.bindBuffer(e.ARRAY_BUFFER,n),e.bindFramebuffer(e.FRAMEBUFFER,f),e.useProgram(t),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,e.FLOAT,!1,8,0),u(e,0),e.viewport(0,0,4,4),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT),e.colorMask(!1,!1,!1,!1),u(e,1),e.drawArrays(e.TRIANGLES,0,12),e.colorMask(!0,!0,!0,!0),u(e,2),e.drawArrays(e.TRIANGLES,0,6);var c=new Uint8Array(4);e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,c),e.getError()==e.NONE&&(0!=c[0]?(l("Failed. Test value is "+c[0]+" should be 0"),r=1):a("Success. Test value is "+c[0]+" should be 0")),u(e,0),e.disableVertexAttribArray(0)}return e.bindBuffer(e.ARRAY_BUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),T&&e.viewport(T[0],T[1],T[2],T[3]),e.useProgram(null),e.deleteBuffer(n),e.deleteProgram(t),e.deleteFramebuffer(f),e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,R),r}function R(){return/\bEdge\b/.test(window.navigator.userAgent)}function T(){return/Win/.test(window.navigator.platform)&&!(!R()&&/\bTrident\b/.test(window.navigator.userAgent)||R())}var f;function c(){var e=f.SUCCESS;try{let t=function(){let e=document.createElement("canvas"),r=null;try{null==(r=e.getContext("experimental-webgl"))&&(r=e.getContext("webgl"))}catch(t){}return r}();t?t.isContextLost()?(l("WebGL context lost. Can't test the device for stencil bugs."),e=f.SUCCESS):T()&&1==o(t)&&(l("WebGL context has stencil bugs that prevent Figma from running properly."),l(`User agent ${window.navigator.userAgent}`),e=f.STENCIL_TEST_FAILURE):e=f.NO_WEBGL}catch(r){E("Exception thrown: "+r)}return e}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.NO_WEBGL=1]="NO_WEBGL",e[e.STENCIL_TEST_FAILURE=2]="STENCIL_TEST_FAILURE"}(f=r.WebGLTestResult||(r.WebGLTestResult={})),r.webGLSupport=function(){return null==window.webGLTestResult&&(window.webGLTestResult=c()),window.webGLTestResult}}),
(function(o,e,n){o.exports={container:"footer_banner--container--dbQys",banner:"footer_banner--banner--H-B_t",iconButton:"footer_banner--iconButton--2gdBL",bannerTop:"footer_banner--bannerTop--2_8M9",googleBanner:"footer_banner--googleBanner--3dAQe footer_banner--banner--H-B_t footer_banner--bannerTop--2_8M9",bannerBottom:"footer_banner--bannerBottom--1he6t",fileBrowserContainer:"footer_banner--fileBrowserContainer--2R7uC footer_banner--container--dbQys",wordWrapper:"footer_banner--wordWrapper--3Cv4P",wordMark:"footer_banner--wordMark--26-R_",clickable:"footer_banner--clickable--2cCnD",icon:"footer_banner--icon--7ESPC footer_banner--clickable--2cCnD",smallLink:"footer_banner--smallLink--f6Vu1",oversizedButton:"footer_banner--oversizedButton--2neSQ footer_banner--clickable--2cCnD",pageLabel:"footer_banner--pageLabel--2H5NP",overlayModal:"footer_banner--overlayModal--1DXzj",overlayRow:"footer_banner--overlayRow--32MKE",overlayTitle:"footer_banner--overlayTitle--3frCu footer_banner--overlayRow--32MKE",overlayBody:"footer_banner--overlayBody--39vLW footer_banner--overlayRow--32MKE",overlayIconRow:"footer_banner--overlayIconRow--audrb",slideInFooter:"footer_banner--slideInFooter--1Foq-","slide-in":"footer_banner--slide-in--2G6S2",boldText:"footer_banner--boldText--3-LID"}}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=n(2,1    ),o=n(1085                                             );class s extends t.PureComponent{render(){return t.createElement("div",{className:`${o.container} ${this.props.className||""}`},this.props.children)}}r.FileFooterContainer=s,s.displayName="FileFooterContainer"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),r=s(1085                                             ),n=s(147                                            );class a extends o.PureComponent{render(){const e=`${this.props.className||""} ${r.oversizedButton}`;return o.createElement(n.ButtonGreenTracked,Object.assign({},this.props,{className:e}))}}t.FooterButton=a,a.displayName="FooterButton"}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(105        ),i=r(121                        ),s=r(133        );function c(e){return e.account_type===i.OrgUserAccountType.FULL&&!s.isFigmaEmail(e.user.email)}t.getBillableSeatCount=function(e){return Object.keys(e).filter(t=>c(e[t])).length},t.isPaidOrgUser=c,t.getOrgUsersForUser=function(e,t){return Object.keys(e).reduce((r,n)=>(e[n][t]&&r.push(e[n][t]),r),[])},t.getNewEditorIds=function(e,t){if(!t||!t.invoices||t.invoices.length<=1)return[];const r=Object.keys(e).filter(t=>c(e[t]));n.sortAlphabeticallyByFn(r,t=>e[t].account_type_changed_at,!0);const i=t.invoices[0],s=Math.max(0,r.length-i.quantity_paid);return r.slice(0,s)},t.getContactableAdmins=function(e){const t=Object.keys(e).reduce((t,r)=>(e[r].permission===i.OrgPermissionType.ADMIN&&t.push(e[r]),t),[]);return n.sortAlphabeticallyByProperty(t,"created_at"),t.slice(0,3)},t.getOrgUserForId=function(e={},t){for(let r in e){const n=e[r];if(n.id===t)return n}}}),
(function(n,e,a){n.exports={warn:"banners--warn--32Jpq",ctaButton:"banners--ctaButton--2bNdD",content:"banners--content--34uVF",title:"banners--title--12FjK",bold:"banners--bold--1bY5F",message:"banners--message--30Zf9",ctaMessage:"banners--ctaMessage--3c5kQ",teamBannerWithBackground:"banners--teamBannerWithBackground--1bkOG"}}),
(function(o,a,m){o.exports={modal:"team_modals-post--modal--2h6Rl",modalBar:"team_modals-post--modalBar--2eJrM",modalCloseX:"team_modals-post--modalCloseX--3YvRR",buttonRow:"team_modals-post--buttonRow--BB2J3"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),a=s(171                                ),i=s(113                                     ),l=s(125                        ),r=s(154                                 ),n=s(147                                            ),p=s(146                        ),c=s(137                                    ),m=s(191                              ),d=s(1090                    ),h=s(135                       ),u=s(136                                 ),f=s(151                           );class _ extends o.PureComponent{constructor(){super(...arguments),this.onClickClose=_.onClickCloseFn(this)}render(){const{team:e,children:t}=this.props;let s=d.modal;return this.props.className&&(s+=` ${this.props.className}`),o.createElement(c.TrackingContext,{name:this.props.name,properties:{teamId:e.id}},o.createElement(r.Modal,{className:s,size:"medium",dispatch:this.props.dispatch},o.createElement("div",{className:d.modalBar},o.createElement(p.Svg,{className:d.modalCloseX,svg:f,onClick:this.onClickClose})),t,this.props.buttons&&o.createElement("div",{className:`${m.buttonRow} ${d.buttonRow}`},this.props.buttons)))}}t.TeamModal=_,_.displayName="TeamModal",_.closeModalFn=function(e){return()=>{e.props.dispatch(i.fileBrowser.popModalStack())}},_.onClickCloseFn=function(e){const t=_.closeModalFn(e);return e=>{e.preventDefault(),t()}},t.TEAM_USAGE_MODAL="TEAM_USAGE_MODAL",u.registerUnsafeModal(t.TEAM_USAGE_MODAL,e=>{let t=e.teams[e.modalShown.data.teamId];return o.createElement(E,{team:t,selectedView:e.selectedView,state:l.getPermissionsState(e),dispatch:e.dispatch})});class E extends o.PureComponent{constructor(){super(...arguments),this.closeModal=_.closeModalFn(this),this.onClickClose=_.onClickCloseFn(this),this.onClickUpgrade=(e=>{e.preventDefault(),this.closeModal(),this.props.dispatch(a.payment.startProUpgradeFlow({teamId:this.props.team.id,selectedView:this.props.selectedView}))}),this.renderButtons=(()=>o.createElement(n.ButtonWhiteTracked,{onClick:this.onClickClose,trackingProperties:{teamId:this.props.team.id}},"Okay")),this.goToAdminDashboard=(e=>{e.preventDefault(),this.props.dispatch(i.fileBrowser.selectView({view:"teamAdmin",teamId:this.props.team.id})),this.props.dispatch(i.fileBrowser.hideModal())})}render(){const{team:e,state:t}=this.props,s=e.editors>h.MAX_FREE_EDITORS,a=e.projects>h.MAX_FREE_FOLDERS,i=Object.keys(t.folders).filter(e=>t.folders[e].is_view_only).map(e=>t.folders[e]),l=Object.keys(t.folders).filter(e=>t.folders[e].is_invite_only).map(e=>t.folders[e]);return o.createElement(_,{name:E.displayName,team:e,dispatch:this.props.dispatch,buttons:this.renderButtons()},o.createElement("h3",null,"Please lower your usage of the following:"),o.createElement("ul",null,s&&o.createElement("li",null,"Remove editors from ",e.editors," editors → ",h.MAX_FREE_EDITORS," editors in the ",o.createElement(n.LinkInline,{onClick:this.goToAdminDashboard},"Admin Dashboard")),a&&o.createElement("li",null,"Remove projects from ",e.projects," projects → ",h.MAX_FREE_FOLDERS," projects"),i.length>0&&o.createElement("li",null,'Remove "view-only" permissions from all projects'),l.length>0&&o.createElement("li",null,'Remove "invite-only" permissions from all projects')),o.createElement("p",null,"If you would rather keep the current limits, ",o.createElement(n.LinkInlineTracked,{onClick:this.onClickUpgrade},"upgrade to Professional"),"."))}}E.displayName="LockedTeamUsageModal"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(2,1    ),r=a(112          ),n=a(125                        ),o=a(135                     ),s=a(127          ),l=a(1088                     ),c=a(118                    ),d=a(123         ),u=a(171                                ),m=a(113                                     ),g=a(189                             ),p=a(120                     ),f=a(819                                              ),y=a(1089           ),h=a(1091                                              ),w=a(126                    ),b=a(457                        ),v=a(46,1    );var _;!function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN"}(_=t.BannerSeverity||(t.BannerSeverity={})),t.getOrgBannerContent=((e,t)=>{if(!e.currentOrgId)return null;if(!o.isOrgDelinquent(e.currentOrgId,e))return null;const a=e.orgById[e.currentOrgId],r=n.canAdminOrg(e.currentOrgId,e),s=a.past_due_at&&v(a.past_due_at).add(2,"weeks")>v(new Date);if(!r&&s)return null;const c=l.getContactableAdmins(e.orgUsersByOrgId.orgUsers[e.currentOrgId]),u=c.map(e=>i.createElement("span",{key:e.id,className:y.bold},e.user.handle," (",e.user.email,")")),p=()=>{t(m.fileBrowser.selectView({view:"org",orgId:e.currentOrgId,orgViewTab:b.OrgViewTab.SETTINGS})),t(g.orgs.selectAdminView({view:"billing"}))};let h;return h=r?a.billing===w.OrgBillingType.CHARGE_IMMEDIATELY?i.createElement("span",null,"We haven’t received a payment from your organization for this billing period. Please pay your ",i.createElement("a",{onClick:p},"outstanding invoice"),", or you may lose access to your organization. Thank you!"):i.createElement("span",null,"We haven’t received a payment from your organization for this billing period. Please reach out to ",i.createElement("b",{className:y.bold},"support@figma.com")," soon, or you may lose access to your organization. Thank you!"):i.createElement("span",null,"Please reach out to your Organization ",d.getPluralOrSingular(c.length,"admin"),n.canMemberOrg(e.currentOrgId,e)&&i.createElement("span",null," ",i.createElement(f.JoinNaturally,{finalDelimiter:i.createElement("span",null," or "),includeOxfordDelimiter:!0},u))," ","to resolve this billing issue. Thank you!"),{severity:_.WARN,title:"Payment not received",message:h,cta:null,onClickCta:null,showTitleInSidebar:!1}}),t.getBannerContent=((e,a,l,d,g)=>{const f=l?d.teams[l]:null;if(l&&!f)return null;const y=f&&f.subscription===p.Subscription.CHARGE_FAILED,w=f&&f.subscription===p.Subscription.PAST_DUE,b=f&&f.subscription===p.Subscription.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,v=l&&n.canAdminTeam(l,d),E=l&&n.canEditTeam(l,d),O=f&&!o.isTeamPro(f)&&!f.student_team&&o.isTeamLockedForUser(f.id,d),k=f&&f.student_team&&d.user&&!s.isStudent(d.user),C="file"===e?a:null,T="folder"===e?a:null,I=f&&!o.isTeamPro(f)&&!f.student_team&&T&&T.is_invite_only,A=f&&!o.isTeamPro(f)&&!f.student_team&&T&&T.is_view_only,S=C&&d.currentOrgId&&C.folder_id&&c.isOrphanedOrgFolder(d.folders,C.folder_id)||T&&T.org_id&&c.isOrphanedOrgFolder(d.folders,T.id),N=!S&&!f&&(C&&o.isFileEditingLockedForUser(C,d)||T&&o.isFolderEditingLockedForUser(T,d)),P=()=>g(m.fileBrowser.selectView({view:"recentFiles"})),U=()=>g(u.payment.startProUpgradeFlow({teamId:f.id,selectedView:d.selectedView})),F=()=>g(m.fileBrowser.showModal({type:h.TEAM_USAGE_MODAL,data:{teamId:l}})),D=()=>{g(m.fileBrowser.selectView({view:"teamAdmin",teamId:l}))},R=()=>r.redirect("/education/apply","_blank"),B=t.getOrgBannerContent(d,g);if(B)return B;if(y)return{severity:_.WARN,title:"Payment failed",message:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 failed attempts.",cta:v?"Update payment":"Contact admin to update payment",onClickCta:v?D:null,showTitleInSidebar:!0};if(w)return{severity:_.WARN,title:"Locked",message:`Our last 3 attempted charges were unsuccessful. Please update your payment source to continue editing files in ${f.name}`,cta:v?"Update payment":"Contact admin to update payment",onClickCta:v?D:null,showTitleInSidebar:!0};if(b)return{severity:_.WARN,title:"Locked",message:v?i.createElement("span",null,"Your team is over its paid editor limit. Downgrade editors to viewers, or reactivate your subscription. Need help? ",i.createElement("a",{href:"mailto:support@figma.com"},"Contact support")):i.createElement("span",null,"This team is over its paid editor limit. Reach out to an admin to request them to downgrade some editors to viewers to restore access."),cta:v?"Manage editors":null,onClickCta:v?D:null,showTitleInSidebar:!0};if(O){let e;return e=v||E?i.createElement("span",null,i.createElement("strong",null,"Your team is locked as it is over the limits of the Starter plan.")," Upgrade now to continue editing files or ",i.createElement("a",{href:"javascript:void(0)",onClick:F},"lower your usage"),"."):i.createElement("span",null,i.createElement("strong",null,"Your team is locked as it is over the limits of the Starter plan.")," Ask your team admin for details."),{severity:_.WARN,title:o.isProTrialExpired(f)?"":"Locked",message:e,cta:E?"Upgrade now":null,onClickCta:E?U:null,showTitleInSidebar:!0}}if(k)return{severity:_.INFO,title:"Education Users Only",message:`${f.name} is an Education Team. Please verify your education status to edit files in this team.`,learnMoreUrl:"/pricing-faq#is-figma-free-for-students",cta:"Verify Education Status",onClickCta:R,showTitleInSidebar:!0};if(I||A){const e=I?"Invite":"View";return{severity:_.WARN,title:"Folder Locked",message:`${e} only projects are not available to Starter Teams. Upgrade ${f.name} to continue editing files in this project.`,learnMoreUrl:"/pricing",cta:E?`Upgrade ${f.name}`:`Contact ${f.name} to upgrade`,onClickCta:E?U:null,showTitleInSidebar:!0}}return N&&"file"===e?{severity:_.WARN,title:"Locked",message:"Projects are no longer supported outside of teams. Please move this file to a team or your Drafts to continue editing.",learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:"Back to Files",onClickCta:P,showTitleInSidebar:!0}:N&&"folder"===e?{severity:_.WARN,title:"Locked",message:"Projects are no longer supported outside of teams. Please move this project to a team, or move these files to your Drafts to continue editing.",learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null,showTitleInSidebar:!0}:S&&"folder"===e?{severity:_.WARN,title:"Locked",message:"Orphaned projects cannot be edited or shared. Please move this project to a team, or move these files to your Drafts to continue editing.",cta:null,onClickCta:null,showTitleInSidebar:!0}:S&&"file"===e?{severity:_.WARN,title:"Locked",message:"Orphaned projects cannot be edited or shared. Please move this file to a team or your Drafts to continue editing.",cta:"Back to Files",onClickCta:P,showTitleInSidebar:!0}:null}),t.attachTitleAndMessage=((e,t)=>{const a=Object.assign({},e);return"string"==typeof t.title&&(e.title=t.title),"string"==typeof t.message&&(e.message=t.message),a})}),
(function(c,t,e){c.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M2 16c0 7.732 6.268 14 14 14 7.732 0 14-6.268 14-14 0-7.732-6.268-14-14-14C8.268 2 2 8.268 2 16zM16 0C7.163 0 0 7.163 0 16c0 8.837 7.163 16 16 16 8.837 0 16-7.163 16-16 0-8.837-7.163-16-16-16zm0 7.5c.828 0 1.5.672 1.5 1.5v6.252c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5V9c0-.828.672-1.5 1.5-1.5zM18 22c0-1.105-.895-2-2-2-1.105 0-2 .895-2 2v.137c0 1.105.895 2 2 2 1.105 0 2-.895 2-2V22z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2,1    ),s=a(137                                    ),r=a(146                        ),c=a(1087                                         ),i=a(1092                                      ),o=a(1089                                          ),m=a(1093                                   );class l extends n.PureComponent{render(){const{title:e,message:t,cta:a,onClickCta:l,severity:p,learnMoreUrl:g}=this.props;return n.createElement(s.TrackingContext,{name:"Banner",properties:Object.assign({severity:p},this.props.tracking)},n.createElement("div",{className:o.content},p===i.BannerSeverity.WARN&&n.createElement(r.Svg,{svg:m}),n.createElement("div",{className:o.message},n.createElement("span",{className:o.title},e),t,g&&n.createElement("span",null," ",n.createElement("a",{target:"_blank",rel:"noopener",href:g},"Learn more"))),l&&n.createElement(c.FooterButton,{className:o.ctaButton,onClick:l},a),!l&&n.createElement("div",{className:o.ctaMessage},a)))}}t.BannerContentView=l,l.displayName="BannerContentView"}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(2,1    ),a=t(209                ),s=t(125                        ),r=t(135                     ),p=t(1086                                                 ),o=t(1094                                                  ),l=t(1092                                      ),c=t(1089                                          );class m extends i.PureComponent{render(){const e=a.getEditingFile(this.props);if(!e||!s.canEditFile(e.key,this.props,!0)||!r.isFileEditingLockedForUser(e,this.props))return i.createElement("div",null);const n=l.getBannerContent("file",e,e.team_id,this.props,this.props.dispatch);if(!n)return i.createElement("div",null);const t=l.attachTitleAndMessage({resourceType:"file",teamId:e.team_id,fileKey:e.key},n);return i.createElement(p.FileFooterContainer,{className:n.severity===l.BannerSeverity.WARN?c.warn:""},i.createElement(o.BannerContentView,Object.assign({},n,{tracking:t})))}}n.LockedFileFooter=m,m.displayName="LockedFileFooter"}),
(function(l,o,e){l.exports={src:'<svg width="20" height="30" viewBox="0 0 20 30" xmlns="http://www.w3.org/2000/svg"><path d="M10 15c0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5 0 2.761-2.239 5-5 5-2.761 0-5-2.238-5-5z" fill-rule="nonzero" fill-opacity="1" fill="#1abcfe" stroke="none"/><path d="M0 25c0-2.761 2.239-5 5-5h5v5c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5z" fill-rule="nonzero" fill-opacity="1" fill="#0acf83" stroke="none"/><path d="M10 0v10h5c2.761 0 5-2.239 5-5 0-2.761-2.239-5-5-5h-5z" fill-rule="nonzero" fill-opacity="1" fill="#ff7262" stroke="none"/><path d="M0 5c0 2.761 2.239 5 5 5h5V0H5C2.239 0 0 2.239 0 5z" fill-rule="nonzero" fill-opacity="1" fill="#f24e1e" stroke="none"/><path d="M0 15c0 2.761 2.239 5 5 5h5V10H5c-2.761 0-5 2.239-5 5z" fill-rule="nonzero" fill-opacity="1" fill="#a259ff" stroke="none"/></svg>'}}),
(function(l,e,i){l.exports={src:'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M13.72 7.159c0-.496-.045-.974-.127-1.432H7v2.708h3.767c-.162.875-.655 1.616-1.397 2.113v1.756h2.263c1.323-1.219 2.087-3.013 2.087-5.145z" fill-rule="evenodd" fill-opacity="1" fill="#4285f4" stroke="none"/><path d="M7 14c1.89 0 3.475-.627 4.633-1.696L9.37 10.548c-.627.42-1.43.668-2.37.668-1.824 0-3.367-1.231-3.918-2.886H.745v1.814C1.896 12.43 4.264 14 7 14z" fill-rule="evenodd" fill-opacity="1" fill="#34a853" stroke="none"/><path d="M3.083 8.33c-.14-.42-.22-.869-.22-1.33 0-.461.08-.91.22-1.33V3.856H.745C.27 4.801 0 5.87 0 7c0 1.13.27 2.199.745 3.144L3.083 8.33z" fill-rule="evenodd" fill-opacity="1" fill="#fbbc05" stroke="none"/><path d="M7 2.784c1.028 0 1.95.353 2.676 1.047l2.008-2.008C10.47.693 8.887 0 7 0 4.264 0 1.896 1.569.745 3.856L3.083 5.67C3.633 4.015 5.177 2.784 7 2.784z" fill-rule="evenodd" fill-opacity="1" fill="#ea4335" stroke="none"/></svg>'}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(2,1    ),n=o(113                                     ),s=o(209                ),r=o(1095                                                 ),i=o(398               ),l=o(147                                            ),c=o(146                        ),m=o(1085                 ),p=o(191                 ),g=o(362                      ),d=o(137                                    ),h=o(379             ),u=o(400            ),_=o(1096                                 ),f=o(1097                                    );class E extends a.PureComponent{render(){return this.props.user?a.createElement(r.LockedFileFooter,Object.assign({},this.props)):a.createElement(w,Object.assign({},this.props))}}t.FileFooter=E,E.displayName="FileFooter";t.LOGGED_OUT_FILE_BANNER_PADDING=120;const w=((e,t=(e=>"DUPLICATE"===e?"Log in or create an account to get your own copy of this file.":"Log in or create an account to collaborate on this file."))=>{return class extends a.PureComponent{constructor(){super(...arguments),this.showAuthModal=(e=>{const t=s.getEditingFile(this.props).name,o="DUPLICATE"===this.props.selectedView.landingState?`Log in or create an account to get a copy of "${t}"`:"";this.props.dispatch(i.authActions.init({origin:"logged_out_footer",formState:e})),this.props.dispatch(n.fileBrowser.showModal({type:u.AUTH_MODAL,data:{headerText:o}}))})}render(){return a.createElement(e,Object.assign({primaryText:t(this.props.selectedView.landingState),showAuthModal:this.showAuthModal},this.props))}}})(e=>{const t=t=>{e.showAuthModal(g.AuthFormState.SIGN_UP_EXTRA_INFO),e.dispatch(i.authActions.setGoogleIdToken({googleIdToken:t.token})),e.dispatch(i.authActions.changeName({value:t.name}))};return a.createElement(d.TrackingContext,{name:"Google Logged-out File Banner"},a.createElement("div",{className:`${m.googleBanner} ${p.modal}`},a.createElement("div",{className:m.wordWrapper},a.createElement("a",{className:m.icon,href:"/",target:"_blank",rel:"noopener"},a.createElement(c.Svg,{svg:_,useOriginalSrcFills:!0})),a.createElement("div",null,a.createElement("span",{className:m.boldText},"Welcome to Figma!")," ",e.primaryText)),a.createElement("div",{className:m.wordWrapper},a.createElement(l.ButtonSecondaryTracked,{onClick:()=>h.getGoogleUser(e.dispatch).then(t,()=>{}),innerText:"Sign up with Google",key:"google-btn"},a.createElement("div",{className:m.iconButton},a.createElement(c.Svg,{svg:f,useOriginalSrcFills:!0}),"Sign up with Google")),a.createElement("div",{style:{width:12},key:"spacer-div"}),a.createElement(l.ButtonGreenTracked,{key:"email-btn",onClick:()=>e.showAuthModal(g.AuthFormState.SIGN_UP),className:m.clickable},"Sign up with email"))))},e=>"DUPLICATE"===e?"Create an account to get your own copy of this file.":"Create an account to edit and collaborate on this file.")}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(2,1    ),a=r(113                                     ),o=r(211              ),l=r(1084            ),n=r(147                                            ),i=r(154                                 ),c=r(191          ),p=r(136                    );t.WEBGL_ERROR_MODAL="webgl-error-modal",p.registerUnsafeModal(t.WEBGL_ERROR_MODAL,e=>s.createElement(d,Object.assign({},e)));class d extends s.Component{constructor(){super(...arguments),this.hide=(()=>{this.props.dispatch(a.fileBrowser.hideModal())})}render(){let e=this.props.modalShown&&this.props.modalShown.data;return s.createElement(i.Modal,Object.assign({size:"small",className:c.modal},this.props),s.createElement("div",{className:c.title},"Uh oh... we can't open that file"),s.createElement("div",{className:c.modalContent},(t=e,o.desktopApp&&t!==l.WebGLTestResult.SUCCESS?s.createElement("p",null,"We can't open this file because we're having trouble with WebGL. Please try restarting the desktop app.",s.createElement("br",null),s.createElement("br",null),"If this problem persists, your graphics card or driver may not be supported."):t===l.WebGLTestResult.NO_WEBGL?s.createElement("p",null,"We can't open this file because WebGL isn't supported, or is disabled, in your browser. If your browser supports WebGL, check out ",s.createElement("a",{target:"_blank",rel:"noopener",className:c.blueLink,href:"https://help.figma.com/hc/en-us/articles/360039828614"},"this help article")," to find out how to enable it."):t===l.WebGLTestResult.STENCIL_TEST_FAILURE?s.createElement("span",null,"We can't open this file because of a bug present in your browser. Older Windows video cards encounter rendering errors on Chrome, Opera, and Firefox. Using another browser like Edge or IE, or updating to the lastest or pre-release browser may fix this bug.",s.createElement("br",null),s.createElement("br",null),"Figma is working with the browser developers and a fix is pending."):void 0)),s.createElement("div",{className:c.buttonRow},s.createElement(n.ButtonPrimary,{className:c.confirmButton,onClick:this.hide},"Got it")));var t}}d.displayName="WebGLErrorModal"}),
(function(e,r,t){e.exports={singleRowHeight:"frame_presets--singleRowHeight--12ZEL",doubleRowHeight:"frame_presets--doubleRowHeight--1nxVG",input:"frame_presets--input--2T572 frame_presets--singleRowHeight--12ZEL",border:"frame_presets--border--1YTyz",borderFocusWithin:"frame_presets--borderFocusWithin--s548j",iconInsideBorderFocusWithin:"frame_presets--iconInsideBorderFocusWithin--35Xz-",rowSelectedSecondary:"frame_presets--rowSelectedSecondary--bGKS- frame_presets--rowSelected--BZ2Vn",selectHiddenInput:"frame_presets--selectHiddenInput--3weT4",iconButton:"frame_presets--iconButton--3ztkk",borderFocus:"frame_presets--borderFocus--3JIFd",multiValueInput:"frame_presets--multiValueInput--32iyU frame_presets--borderFocusWithin--s548j",base:"frame_presets--base--jkkrJ",label:"frame_presets--label--36SGh frame_presets--base--jkkrJ",labelInactive:"frame_presets--labelInactive--g89he frame_presets--label--36SGh frame_presets--base--jkkrJ",textInput:"frame_presets--textInput--3Wvju frame_presets--base--jkkrJ frame_presets--input--2T572 frame_presets--singleRowHeight--12ZEL",textAreaInput:"frame_presets--textAreaInput--1UHqg frame_presets--base--jkkrJ frame_presets--input--2T572 frame_presets--singleRowHeight--12ZEL",noLeftBorder:"frame_presets--noLeftBorder--3OMNp",squareRightBorder:"frame_presets--squareRightBorder--LkSee",_iconButton:"frame_presets--_iconButton--1qM3Y",iconButtonEnabled:"frame_presets--iconButtonEnabled--rJ4qY frame_presets--_iconButton--1qM3Y",iconButtonDisabled:"frame_presets--iconButtonDisabled--1yL3W frame_presets--_iconButton--1qM3Y",iconButtonSelected:"frame_presets--iconButtonSelected--3hteG frame_presets--_iconButton--1qM3Y",chitCenter:"frame_presets--chitCenter--1TDSz",outlineButton:"frame_presets--outlineButton--1t9Jf",modalPanel:"frame_presets--modalPanel--1QhXK",panel:"frame_presets--panel--1APVg",_row:"frame_presets--_row--20Kh5",singleRow:"frame_presets--singleRow--1e6EI frame_presets--singleRowHeight--12ZEL frame_presets--_row--20Kh5",doubleRow:"frame_presets--doubleRow--2BNK2 frame_presets--doubleRowHeight--1nxVG frame_presets--_row--20Kh5",labelRow:"frame_presets--labelRow--CzKJP frame_presets--singleRow--1e6EI frame_presets--singleRowHeight--12ZEL frame_presets--_row--20Kh5",rowSelected:"frame_presets--rowSelected--BZ2Vn",panelTitle:"frame_presets--panelTitle--1agPn",panelTitleExtended:"frame_presets--panelTitleExtended--3ct9_ frame_presets--panelTitle--1agPn",panelTitleWithTip:"frame_presets--panelTitleWithTip--38aAz frame_presets--panelTitle--1agPn",panelTitleWithTipText:"frame_presets--panelTitleWithTipText--3waWP",panelTitleWithTipIcon:"frame_presets--panelTitleWithTipIcon--2x8uU",panelTitleFaded:"frame_presets--panelTitleFaded--1W_xA frame_presets--panelTitle--1agPn",flushLeft:"frame_presets--flushLeft--1CRXy",presetDropdown:"frame_presets--presetDropdown--1y4DV",presetOption:"frame_presets--presetOption--103qS",presetHeader:"frame_presets--presetHeader--2P9B7",caretAndName:"frame_presets--caretAndName--3iEyE",caret:"frame_presets--caret--2JlfB",caretDown:"frame_presets--caretDown--2W5WR frame_presets--caret--2JlfB",name:"frame_presets--name--_yTCq",presetName:"frame_presets--presetName--3re6o",presetDimensions:"frame_presets--presetDimensions--3fLHz",presetList:"frame_presets--presetList--3dD7a",presetHeaderExpanded:"frame_presets--presetHeaderExpanded--nsEhK frame_presets--presetHeader--2P9B7"}}),
(function(l,o,t){l.exports={src:'<svg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"><path d="M3 5l3-4H0l3 4z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"><path d="M5 3L1 0v6l4-3z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(h,l,v){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M.646 1.354L4.293 5H2v1h4V2H5v2.293L1.354.646l-.708.708zM11.707 5l3.647-3.646-.707-.708L11 4.293V2h-1v4h4V5h-2.293zm0 6l3.647 3.646-.707.708L11 11.707V14h-1v-4h4v1h-2.293zm-7.414 0L.646 14.646l.708.708L5 11.707V14h1v-4H2v1h2.293z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(2,1    ),i=s(141              ),n=s(207                                   ),a=s(442                             ),o=s(215                                          ),p=s(261                               ),h=s(179        ),d=s(483                                                                  ),m=s(232                       ),l=s(794                               ),c=s(959               ),P=s(146                        ),g=s(1100                 ),y=s(1101                             ),u=s(1102                              ),w=s(1103                                                      ),E=[{name:"iPhone 11 Pro Max",width:414,height:896},{name:"iPhone 11 Pro / X",width:375,height:812},{name:"iPhone 8 Plus",width:414,height:736},{name:"iPhone 8",width:375,height:667},{name:"iPhone SE",width:320,height:568},{name:"Google Pixel 2",width:411,height:731},{name:"Google Pixel 2 XL",width:411,height:823},{name:"Android",width:360,height:640}],T=[{name:"iPad mini",width:768,height:1024},{name:'iPad Pro 11"',width:834,height:1194},{name:'iPad Pro 12.9"',width:1024,height:1366},{name:"Surface Pro 3",width:1440,height:990},{name:"Surface Pro 4",width:1368,height:912}],f=[{name:"Desktop",width:1440,height:1024},{name:"MacBook",width:1152,height:700},{name:"MacBook Pro",width:1440,height:900},{name:"Surface Book",width:1500,height:1e3},{name:"iMac",width:1280,height:720}],F=[{name:"Apple Watch 44mm",width:184,height:224},{name:"Apple Watch 42mm",width:156,height:195},{name:"Apple Watch 40mm",width:162,height:197},{name:"Apple Watch 38mm",width:136,height:170}],S=[{name:"Twitter Post",width:1012,height:506},{name:"Twitter Header",width:1500,height:500},{name:"Facebook Post",width:1200,height:630},{name:"Facebook Cover",width:820,height:312},{name:"Instagram Post",width:1080,height:1080},{name:"Instagram Story",width:1080,height:1920},{name:"Dribbble Shot",width:400,height:300},{name:"Dribbble Shot HD",width:800,height:600},{name:"LinkedIn Cover",width:1584,height:396}],M=[{name:"A4",width:595,height:842},{name:"A5",width:420,height:595},{name:"A6",width:297,height:420},{name:"Letter",width:612,height:792},{name:"Tabloid",width:792,height:1224}],A=[{name:"Plugin Icon",width:128,height:128},{name:"Profile Banner",width:1680,height:240},{name:"Plugin / File Cover",width:1920,height:960}];t.presetsList={phonePresets:E,tabletPresets:T,desktopPresets:f,watchPresets:F,paperPresets:M,socialMediaPresets:S,figmaPresets:A};const K=[...E,...f];t.remoteWorkTemplatePresetsByName=K.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t}),{});class D extends i.PureComponent{constructor(){super(...arguments),this.toggleSection=(e=>{this.props.expandedFramePresetType===e&&(e=p.PresetType.NONE),o.fullscreen.updateAppModel({expandedFramePresetType:e})}),this.onSelectPreset=(e=>{const t=`${e.name} -`;o.fullscreen.DEPRECATED_sendMessage("createFrame",{name:t,width:e.width,height:e.height}),this.props.dispatch(n.fullscreen.trackEvent({name:"Frame Size Preset Chosen",params:{method:"Frame Tool Preset List",deviceName:e.name}})),p.PrototypingHelpers.updateCurrentPagePrototypeDeviceIfNecessary()})}render(){return r.createElement("div",null,r.createElement(x,{name:"Phone",expanded:this.props.expandedFramePresetType===p.PresetType.PHONE,onMouseDown:this.toggleSection.bind(this,p.PresetType.PHONE),recordingKey:i.joinKeys(this.props,"phoneToggle")}),this.props.expandedFramePresetType===p.PresetType.PHONE&&r.createElement(O,{framePresets:E,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"phoneRows")}),r.createElement(x,{name:"Tablet",expanded:this.props.expandedFramePresetType===p.PresetType.TABLET,onMouseDown:this.toggleSection.bind(this,p.PresetType.TABLET),recordingKey:i.joinKeys(this.props,"framePresetPanel","tabletToggle")}),this.props.expandedFramePresetType===p.PresetType.TABLET&&r.createElement(O,{framePresets:T,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"tabletRows")}),r.createElement(x,{name:"Desktop",expanded:this.props.expandedFramePresetType===p.PresetType.DESKTOP,onMouseDown:this.toggleSection.bind(this,p.PresetType.DESKTOP),recordingKey:i.joinKeys(this.props,"desktopToggle")}),this.props.expandedFramePresetType===p.PresetType.DESKTOP&&r.createElement(O,{framePresets:f,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"desktopRows")}),r.createElement(x,{name:"Watch",expanded:this.props.expandedFramePresetType===p.PresetType.WATCH,onMouseDown:this.toggleSection.bind(this,p.PresetType.WATCH),recordingKey:i.joinKeys(this.props,"watchToggle")}),this.props.expandedFramePresetType===p.PresetType.WATCH&&r.createElement(O,{framePresets:F,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"watchRows")}),r.createElement(x,{name:"Paper",expanded:this.props.expandedFramePresetType===p.PresetType.PAPER,onMouseDown:this.toggleSection.bind(this,p.PresetType.PAPER),recordingKey:i.joinKeys(this.props,"paperToggle")}),this.props.expandedFramePresetType===p.PresetType.PAPER&&r.createElement(O,{framePresets:M,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"paperRows")}),r.createElement(x,{name:"Social Media",expanded:this.props.expandedFramePresetType===p.PresetType.SOCIALMEDIA,onMouseDown:this.toggleSection.bind(this,p.PresetType.SOCIALMEDIA),recordingKey:i.joinKeys(this.props,"socialMediaToggle")}),this.props.expandedFramePresetType===p.PresetType.SOCIALMEDIA&&r.createElement(O,{framePresets:S,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"socialMediaRows")}),r.createElement(x,{name:"Figma Community",expanded:this.props.expandedFramePresetType===p.PresetType.FIGMA,onMouseDown:this.toggleSection.bind(this,p.PresetType.FIGMA),recordingKey:i.joinKeys(this.props,"figmaToggle")}),this.props.expandedFramePresetType===p.PresetType.FIGMA&&r.createElement(O,{framePresets:A,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"figmaRows")}))}}t.FramePresetPanel=D,D.displayName="FramePresetPanel";class x extends i.PureComponent{render(){return r.createElement(l.Panel,{onMouseDown:this.props.onMouseDown,recordingKey:this.props.recordingKey,className:this.props.expanded?g.presetHeaderExpanded:g.presetHeader},r.createElement(l.Row,{className:g.presetHeader},r.createElement("div",{className:g.caretAndName},r.createElement(P.Svg,{className:this.props.expanded?g.caretDown:g.caret,svg:this.props.expanded?y:u}),r.createElement("div",{className:g.name},this.props.name))))}}x.displayName="FramePresetHeader";class O extends i.PureComponent{constructor(){super(...arguments),this.onSelectPreset=(e=>this.props.onSelectPreset(e))}render(){return r.createElement(l.Panel,{className:g.presetList},this.props.framePresets.map(e=>r.createElement(l.Row,{key:e.name,onMouseDown:this.onSelectPreset.bind(this,e),recordingKey:i.joinKeys(this.props,e.name)},r.createElement("div",{className:g.presetName},e.name),r.createElement("div",{className:g.presetDimensions},e.width," × ",e.height," "))))}}var v;O.displayName="FramePresetList",function(e){e[e.FRAME_LAYOUT=0]="FRAME_LAYOUT",e[e.FRAME_PRESET=1]="FRAME_PRESET"}(v||(v={}));const b=e=>e&&e.type===v.FRAME_PRESET,N=e=>e&&e.type===v.FRAME_LAYOUT,_=e=>({frameLayoutMode:e,type:v.FRAME_LAYOUT}),L=e=>Object.assign(Object.assign({},e),{type:v.FRAME_PRESET});class R extends c.Select{}class C extends c.Option{}class j extends i.PureComponent{constructor(){super(...arguments),this.compareDimensions=((e,t)=>e.width===t.width&&e.height===t.height||e.width===t.height&&e.height===t.width),this.formatter={format:e=>{if(N(e)){if(e.frameLayoutMode===p.FrameLayoutMode.FRAME)return"Frame";if(e.frameLayoutMode===p.FrameLayoutMode.GROUP)return"Group";h.assertNever(e.frameLayoutMode)}else{if(b(e))return e.name;h.assertNever(e)}},isEqual:(e,t)=>N(e)&&N(t)?e.frameLayoutMode===t.frameLayoutMode:b(e)&&b(t)?this.compareDimensions(e,t):e===t},this.onChange=(e=>{N(e)?this.changeSelectionToFrameOrGroup(e.frameLayoutMode):b(e)&&this.setPreset(e)}),this.changeSelectionToFrameOrGroup=(e=>{p.Fullscreen.changeSelectionToFrameOrGroup(e),p.PrototypingHelpers.updateCurrentPagePrototypeDeviceIfNecessary()}),this.setPreset=(e=>{this.props.dispatch(n.fullscreen.trackEvent({name:"Frame Size Preset Chosen",params:{method:"Transform Panel",deviceName:e.name}})),p.Fullscreen.makeSelectedFramesManuallySized(),o.fullscreen.updateSelectionProperties({width:e.width,height:e.height}),p.PrototypingHelpers.updateCurrentPagePrototypeDeviceIfNecessary()}),this.getPresetWithDimensions=(e=>{for(let s of Object.keys(t.presetsList))for(let r of t.presetsList[s])if(this.compareDimensions(e,r))return r;return null}),this.getFrameOrGroupOrMixed=(()=>a.notMixed(this.props.resizeToFit)?this.props.resizeToFit?p.FrameLayoutMode.GROUP:p.FrameLayoutMode.FRAME:a.MIXED),this.renderPresetOption=((e,t)=>r.createElement(C,{value:L(e),key:t,recordingKey:i.joinKeys(this.props,e.name)},r.createElement("div",{className:g.presetOption},r.createElement("span",null,e.name),r.createElement("span",null,e.width," × ",e.height)," ")))}render(){let e,t=[],s=this.getFrameOrGroupOrMixed(),n=a.notMixed(this.props.width)&&a.notMixed(this.props.height)?this.getPresetWithDimensions({width:this.props.width,height:this.props.height}):null;a.notMixed(s)&&t.push(_(s)),n&&t.push(L(n)),0==t.length&&t.push(a.MIXED),e=t[0];const o=!this.props.isOrInInstance;return r.createElement(R,{className:this.props.className,id:"frame-preset-select",property:e,multipleSelections:t,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:g.presetDropdown,recordingKey:i.joinKeys(this.props,"select")},r.createElement(C,{value:_(p.FrameLayoutMode.FRAME),recordingKey:i.joinKeys(this.props,"FRAME"),disabled:!o}),r.createElement(C,{value:_(p.FrameLayoutMode.GROUP),recordingKey:i.joinKeys(this.props,"GROUP"),disabled:!this.props.canBecomeGroup}),r.createElement(c.SelectDivider,null),E.map(this.renderPresetOption),r.createElement(c.SelectDivider,null),T.map(this.renderPresetOption),r.createElement(c.SelectDivider,null),f.map(this.renderPresetOption),r.createElement(c.SelectDivider,null),F.map(this.renderPresetOption),r.createElement(c.SelectDivider,null),M.map(this.renderPresetOption),r.createElement(c.SelectDivider,null),S.map(this.renderPresetOption),r.createElement(c.SelectDivider,null),A.map(this.renderPresetOption))}}t.FramePresetDropdown=j,j.displayName="FramePresetDropdown";class k extends r.PureComponent{constructor(){super(...arguments),this.onClick=(e=>{o.fullscreen.triggerAction("resize-to-fit")})}render(){return r.createElement(d.IconButton,{onClick:this.onClick,svg:w,className:this.props.className,recordingKey:this.props.recordingKey,"data-tooltip-type":m.TooltipType.LOOKUP,"data-tooltip":"resize-to-fit"})}}t.FrameFitButton=k,k.displayName="FrameFitButton"}),
(function(o,n,t){o.exports={content:"onboarding_components--content--1ZhSe text--fontPos11--RSei3 text--_fontBase--YWDo0",content_v2:"onboarding_components--content_v2--1splZ text--fontPos11--RSei3 text--_fontBase--YWDo0",centeredContent:"onboarding_components--centeredContent--3HHtg",leftRightContent:"onboarding_components--leftRightContent--2QE8N",contentLarge:"onboarding_components--contentLarge--3_ntI",contentNewUser:"onboarding_components--contentNewUser--32BEA text--fontPos11--RSei3 text--_fontBase--YWDo0 onboarding_components--contentLarge--3_ntI onboarding_components--centeredContent--3HHtg",contentBrand:"onboarding_components--contentBrand--2e_TX onboarding_components--centeredContent--3HHtg onboarding_components--contentLarge--3_ntI",contentFeatureUpdate:"onboarding_components--contentFeatureUpdate--1dIZu text--fontPos11--RSei3 text--_fontBase--YWDo0 onboarding_components--contentLarge--3_ntI onboarding_components--leftRightContent--2QE8N",left:"onboarding_components--left--3MbYH",right:"onboarding_components--right--38FPQ",separator:"onboarding_components--separator--oYVme",buttons:"onboarding_components--buttons--37EEl",tosUpdate:"onboarding_components--tosUpdate--2IAB7",imgContainer:"onboarding_components--imgContainer--YW9MA",footer:"onboarding_components--footer--P2XCP",footer_v2:"onboarding_components--footer_v2--3xLNX",onboardingModalHeader:"onboarding_components--onboardingModalHeader--3Zekp",closeButton:"onboarding_components--closeButton--LClTr",modal:"onboarding_components--modal--2-PZQ",overflowingModal:"onboarding_components--overflowingModal--3PVj2",modalAnimateIn:"onboarding_components--modalAnimateIn--B4Hc4",popup:"onboarding_components--popup--2anwo",modalLightBackground:"onboarding_components--modalLightBackground--2ALY4",lighten:"onboarding_components--lighten--1vM7O",bottomRightModalContainer:"onboarding_components--bottomRightModalContainer--18mpm"}}),
(function(l,t,e){l.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M6 5.293L10.646.646l.707.708L6.708 6l4.647 4.646-.708.708L6 6.707l-4.646 4.647-.708-.707L5.293 6 .646 1.354l.708-.707L6 5.293z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(2,1    ),i=t(1105                                                             ),r=t(137                                    ),o=t(827                                 ),c=t(146                        ),l=t(43,1         ),s=t(1106                                );n.OnboardingLoadingContext=a.createContext(void 0),n.OnboardingContent=(e=>a.createElement("div",{className:i.content},e.children)),n.OnboardingContentV2=(e=>a.createElement("div",{className:i.content_v2},e.children)),n.OnboardingNewUserContent=(e=>a.createElement("div",{className:i.contentNewUser},e.children)),n.OnboardingBrandContent=(e=>a.createElement("div",{className:i.contentBrand},e.children)),function(e){e.Content=(e=>a.createElement("div",{className:i.contentFeatureUpdate},e.children)),e.Left=(e=>a.createElement("div",{className:i.left},e.children)),e.Right=(e=>a.createElement("div",{className:i.right},e.children)),e.Separator=(e=>a.createElement("div",{className:i.separator},e.children)),e.Buttons=(e=>a.createElement("div",{className:i.buttons},e.children))}(n.OnboardingFeatureUpdate||(n.OnboardingFeatureUpdate={})),n.TosUpdate=(e=>a.createElement("div",{className:i.tosUpdate},e.children)),n.FloatingCloseButton=r.asTrackedClickable(({onMouseDown:e,onClick:n,className:t})=>a.createElement("div",{className:`${i.closeButton} ${t||""}`,onMouseDown:e,onClick:n},a.createElement(c.Svg,{svg:s,useOriginalSrcFills:!0}))),n.OnboardingImg=(e=>{let t=void 0===e.width?{width:"300px"}:{width:`${e.width}px`};return e.height&&(t.height=e.height),e.margin&&(t.margin=e.margin),a.createElement(n.OnboardingLoadingContext.Consumer,null,n=>a.createElement("div",{className:i.imgContainer},a.createElement("img",{src:e.src,style:t,onLoad:n})))}),n.OnboardingFooter=(e=>a.createElement("div",{className:i.footer},e.children)),n.OnboardingFooterV2=(e=>a.createElement("div",{className:i.footer_v2},e.children)),n.OnboardingLink=r.asTrackedClickable(e=>a.createElement("a",{className:o.blueLink,href:e.href,target:"_blank",rel:"noopener",onClick:e.onClick},e.children)),n.BottomRightModalContainer=l.connect(e=>({shouldHide:e.notifications.length>0}))(e=>e.shouldHide?null:a.createElement("div",{className:i.bottomRightModalContainer},e.children))}),
(function(o,n,i){o.exports={blueLink:"onboarding--blueLink--2CJw4 blue_link--blueLink--22X56",bold:"onboarding--bold--11_lK",listItem:"onboarding--listItem--17IQD",icon:"onboarding--icon--3TmQv",lockIcon:"onboarding--lockIcon--zh26y onboarding--icon--3TmQv",communityHubOnboardingTOS:"onboarding--communityHubOnboardingTOS--1WsMZ",communityHubOnboardingFooter:"onboarding--communityHubOnboardingFooter--2DHte",openTypeOnboardingFooter:"onboarding--openTypeOnboardingFooter--3PnPu",openTypeDetails:"onboarding--openTypeDetails--205vr",fullWidth:"onboarding--fullWidth--107S6",maxWidth500:"onboarding--maxWidth500--2MgSE",closeButton:"onboarding--closeButton--3Bwb2",footerV2WithTwoItems:"onboarding--footerV2WithTwoItems--fvUo2 onboarding_components--footer_v2--3xLNX",communityDuplicateModal:"onboarding--communityDuplicateModal--2Zy04",dismiss:"onboarding--dismiss--uv8o5"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CENTER="center",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right"}(t.ModalLocation||(t.ModalLocation={})),function(e){e.LEFT_TITLE="left_title"}(t.PointDirectionOverride||(t.PointDirectionOverride={})),function(e){e.DRAGGABLE="draggable",e.NEW_USER="new_user",e.FEATURE_UPDATE="feature_update",e.WELCOME="welcome",e.SELF_CONTAINED="self_contained",e.WALK_THROUGH="walk_through"}(t.ModalType||(t.ModalType={})),t.LARGE_MODAL_WIDTH=740,t.MEDIUM_MODAL_WIDTH=580}),
(function(o,e,l){o.exports={pointerModal:"pointer_modal--pointerModal--1iUEH",popup:"pointer_modal--popup--1sOiB",pointerModalBlue:"pointer_modal--pointerModalBlue--2AYdn pointer_modal--pointerModal--1iUEH",walkThroughModal:"pointer_modal--walkThroughModal--2GfVe pointer_modal--pointerModal--1iUEH",subTriangleBase:"pointer_modal--subTriangleBase--2Ao5c",topSubTriangle:"pointer_modal--topSubTriangle--2mgsB",bottomSubTriangle:"pointer_modal--bottomSubTriangle--1s9E0",leftSubTriangle:"pointer_modal--leftSubTriangle--1pGFb pointer_modal--subTriangleBase--2Ao5c",rightSubTriangle:"pointer_modal--rightSubTriangle--jHdIo pointer_modal--subTriangleBase--2Ao5c",closeX:"pointer_modal--closeX--BTZeR",closeButton:"pointer_modal--closeButton--2lhkw",closeButtonHighContrast:"pointer_modal--closeButtonHighContrast--24-Oc pointer_modal--closeButton--2lhkw"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(2,1    ),n=o(1110                 ),i=o(773                                                    ),l=o(152                                          ),a=o(109                                                           ),s=o(1106                                ),g=o(151                           ),d=-1,c=12,u=8,h=4,w=16;function m(e){const t=e.topPadding||-h,o=()=>{let o=(()=>{const t=document.querySelectorAll(`[data-onboarding-key=${e.targetKey}]`);if(0===t.length)return null;for(let e=0;e<t.length;e++){const o=t[e].getBoundingClientRect();if(0!==o.left||0!==o.right||0!==o.height||0!==o.width)return t[e]}return null})();if(null!=o){const r=(o=>{const r=o.left+o.width/2;let n=o.bottom+u+t,l=r-u-w;(l=Math.max(l,d))+e.width>window.innerWidth&&(l=Math.min(window.innerWidth-e.width-d,r-e.width+u+w));let a=r-l,s=i.ArrowPosition.TOP;return window.innerHeight-n<e.height+c&&(n=o.top-e.height-u-t,s=i.ArrowPosition.BOTTOM),{left:l,top:n,arrowRelativeX:a,arrowPosition:s}})(o.getBoundingClientRect());if(null==n||r.top!==n.top||r.left!==n.left)return r}return null},[n,l]=r.useState(null),[a,s]=r.useState(null);let g=null;return r.useEffect(()=>{g=o(),l(g),s(e.targetKey);const t=setInterval(()=>l(o()),50);return()=>clearInterval(t)},[e.targetKey]),a!==e.targetKey?g:n}const f=e=>{const t={left:e.arrowRelativeX,borderBottomColor:e.arrowPosition===i.ArrowPosition.TOP?e.backgroundColor:void 0,borderTopColor:e.arrowPosition===i.ArrowPosition.BOTTOM?e.backgroundColor:void 0},o={left:e.arrowRelativeX,borderBottomColor:e.arrowPosition===i.ArrowPosition.TOP?e.foregroundColor:void 0,borderTopColor:e.arrowPosition===i.ArrowPosition.BOTTOM?e.foregroundColor:void 0,transform:e.arrowPosition===i.ArrowPosition.TOP?"translateY(1px)":"translateY(-1px)"},l=t=>`${t} ${e.arrowPosition===i.ArrowPosition.TOP?n.topSubTriangle:n.bottomSubTriangle}`;return r.createElement(r.Fragment,null,r.createElement("div",{className:l(n.leftSubTriangle),style:Object.assign(Object.assign({},t),{borderRightColor:e.backgroundColor})}),r.createElement("div",{className:l(n.rightSubTriangle),style:Object.assign(Object.assign({},t),{borderLeftColor:e.backgroundColor})}),r.createElement("div",{className:l(n.leftSubTriangle),style:Object.assign(Object.assign({},o),{borderRightColor:e.foregroundColor})}),r.createElement("div",{className:l(n.rightSubTriangle),style:Object.assign(Object.assign({},o),{borderLeftColor:e.foregroundColor})}))};t.PointerModal=(e=>{const t=e.height||76,o=e.width||228,i=m({targetKey:e.targetKey,height:t,width:o,topPadding:e.topPadding});return i?r.createElement("div",{className:n.pointerModalBlue,style:{left:i.left,top:i.top,height:t,width:o}},r.createElement(f,{arrowPosition:i.arrowPosition,arrowRelativeX:i.arrowRelativeX,backgroundColor:"#18A0FB"}),r.createElement("p",null,e.children),r.createElement(l.CloseButton,{useOriginalSrcFills:!0,className:n.closeButton,onClick:e.dismissModal,innerText:"close",svg:s})):null}),t.WalkThroughModal=(e=>{const t=r.useRef(null),o=r.useRef(null),i=m({targetKey:e.targetKey,height:e.height,width:e.width,topPadding:e.topPadding});r.useEffect(()=>{i?(t.current=i,o.current=e.targetKey):o.current===e.targetKey&&a.sendEventToResponsiveContentHandler({id:"Lost DOM Target"})},[i,e.targetKey]);const s=i||t.current;if(!s)return null;const d=e.pointerForegroundColor||"white";return r.createElement("div",{className:n.walkThroughModal,style:{left:s.left,top:s.top,height:e.height,width:e.width}},r.createElement(f,{arrowPosition:s.arrowPosition,arrowRelativeX:s.arrowRelativeX,backgroundColor:"rgba(0,0,0,0.2)",foregroundColor:d}),e.children,r.createElement(l.CloseButton,{className:e.highContrastCloseButton?n.closeButtonHighContrast:n.closeButton,onClick:e.dismissModal,innerText:"close",svg:g}))})}),
(function(o,a,t){o.exports={modal:"pro_trial_modals--modal--3GdUW",teamPageContainer:"pro_trial_modals--teamPageContainer--3Zc_8 draggable_modal--positionedContainerAnimated--3Exj_ draggable_modal--positionedContainer--1aHEn",modalContent:"pro_trial_modals--modalContent--E5hHE",backgroundShapes:"pro_trial_modals--backgroundShapes--2swnm",modalIcon:"pro_trial_modals--modalIcon--2NJRY",startProTrialModalIcon:"pro_trial_modals--startProTrialModalIcon--Jl2QB pro_trial_modals--modalIcon--2NJRY",proTrialWelcomeModalIcon:"pro_trial_modals--proTrialWelcomeModalIcon--3fB4p pro_trial_modals--modalIcon--2NJRY",modalTitle:"pro_trial_modals--modalTitle--O7t5U text--fontPos24--2l6xY text--_fontBase--YWDo0",modalSubtitle:"pro_trial_modals--modalSubtitle--3qYJD text--fontPos14--3UJ36 text--_fontBase--YWDo0",closeButton:"pro_trial_modals--closeButton--2LOUq",ctaButton:"pro_trial_modals--ctaButton--1lx0i",buttonSubTitle:"pro_trial_modals--buttonSubTitle--y7GiI text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=a(2,1    ),r=a(136                                 ),s=a(137                                    ),n=a(147                                            ),o=a(152                                          ),i=a(154                                 ),c=a(1112                                                     ),m=a(43,1         ),d=a(206                             ),p=a(114                              ),u=a(113                                     ),h=a(637                                            ),E=a(638                                   ),T="https://static.figma.com/uploads/c01e281e02ca94cfbf9404f15c150d5a53f5cedb",_="https://static.figma.com/uploads/395893dd8859a07f3d6772ff6a4452179e736e5e",g="https://static.figma.com/uploads/5d49b3d7c69926579e80f1097ce1b8e2efcc4e8a";var f;!function(e){e.TEAM_PAGE="TEAM_PAGE",e.TEAM_LIBRARY="TEAM_LIBRARY",e.NUDGE_EMAIL="NUDGE_EMAIL"}(f=t.ProTrialEntryPoint||(t.ProTrialEntryPoint={}));class P extends l.Component{constructor(){super(...arguments),this.onStartProTrial=(()=>{this.props.startProTrial()}),this.onCloseModal=(()=>{this.props.hide(),this.props.sendProTrialNudge()})}render(){return l.createElement(s.TrackingContext,{name:"Start Pro Trial Modal",properties:{teamId:this.props.teamId}},l.createElement(i.ModalView,{size:700,className:c.modal,disableClickOutsideToHide:!0,hide:this.onCloseModal,backgroundClassName:this.props.entryPoint===f.TEAM_PAGE?c.teamPageContainer:void 0},l.createElement("div",{className:c.modalContent},l.createElement("div",{className:c.modalTitle},l.createElement("span",null,"Try Figma Professional",l.createElement("br",null)),l.createElement("span",null,"for 14 days, free!")),l.createElement("div",{className:c.modalSubtitle},l.createElement("span",null,"Don’t re-create the wheel with every design.",l.createElement("br",null)),l.createElement("span",null,"Give Team Libraries a try with your entire team",l.createElement("br",null)),l.createElement("span",null,"and share components across files and projects.",l.createElement("br",null))),l.createElement(n.BigButtonPrimaryTracked,{className:c.ctaButton,onClick:this.onStartProTrial},"Start your free trial"),l.createElement("div",{className:c.buttonSubTitle},"14-day trial, no credit card required")),l.createElement("img",{className:c.backgroundShapes,src:T}),l.createElement("img",{className:c.startProTrialModalIcon,src:_}),l.createElement(o.CloseButton,{className:c.closeButton,onClick:this.onCloseModal})))}}P.displayName="StartProTrialModal";t.StartProTrialModal=m.connect(null,(e,a)=>({startProTrial:()=>{e(d.team.startProTrial({teamId:a.teamId})),a.hide(),e(p.showModal({type:t.PRO_TRIAL_WELCOME_MODAL,data:Object.assign(Object.assign({},a),{hide:()=>e(u.fileBrowser.popModalStack())})}))},sendProTrialNudge:()=>{e(d.team.sendProTrialNudgeEmail({teamId:a.teamId}))}}))(P),t.START_PRO_TRIAL_MODAL=r.registerModal(t.StartProTrialModal,"StartProTrialModal");class b extends l.Component{constructor(){super(...arguments),this.onOpenChecklist=(()=>{this.props.openChecklist()}),this.getModalTitle=(()=>this.props.entryPoint===f.TEAM_LIBRARY?l.createElement("div",{className:c.modalTitle},l.createElement("span",null,"You’re all set! Publish",l.createElement("br",null)),l.createElement("span",null,"your first Team Library.")):l.createElement("div",{className:c.modalTitle},l.createElement("span",null,"You’re all set! Welcome",l.createElement("br",null)),l.createElement("span",null,"to Figma Professional."))),this.getModalSubtitle=(()=>this.props.shouldOpenChecklist?this.props.entryPoint===f.TEAM_LIBRARY?l.createElement("div",null,l.createElement("span",null,"After you’ve published your first library,",l.createElement("br",null)),l.createElement("span",null,"we’ve put together a handy checklist for you",l.createElement("br",null)),l.createElement("span",null,"to maximize your trial of Figma Professional.",l.createElement("br",null))):l.createElement("div",null,l.createElement("span",null,"We’ve put together a handy checklist for you",l.createElement("br",null)),l.createElement("span",null,"to maximize your trial of Figma Professional.",l.createElement("br",null)),l.createElement("span",null,"Try out Team Libraries with your entire team.",l.createElement("br",null))):l.createElement("div",null,l.createElement("span",null,"Get started with all the features of a",l.createElement("br",null)),l.createElement("span",null,"Professional plan, like shared Team Libraries,",l.createElement("br",null)),l.createElement("span",null,"unlimited Projects, and unlimited collaborators.",l.createElement("br",null)))),this.getCtaButton=(()=>this.props.shouldOpenChecklist?this.props.entryPoint===f.TEAM_LIBRARY?l.createElement(n.BigButtonLinkTracked,{className:c.ctaButton,href:`/files/team/${this.props.teamId}/?proTrialChecklist=expanded`,target:"_blank",onClick:this.props.hide},"Open checklist"):l.createElement(n.BigButtonPrimaryTracked,{className:c.ctaButton,onClick:this.onOpenChecklist},"Open checklist"):l.createElement(n.BigButtonPrimaryTracked,{className:c.ctaButton,onClick:this.props.hide},"Done"))}render(){return l.createElement(s.TrackingContext,{name:"Pro Trial Welcome Modal",properties:{teamId:this.props.teamId,entryPoint:this.props.entryPoint}},l.createElement(i.ModalView,{size:700,className:c.modal,disableClickOutsideToHide:!0,hide:this.props.hide,backgroundClassName:this.props.entryPoint===f.TEAM_PAGE?c.teamPageContainer:void 0},l.createElement("div",{className:c.modalContent},this.getModalTitle(),l.createElement("div",{className:c.modalSubtitle},this.getModalSubtitle()),this.getCtaButton()),l.createElement("img",{className:c.backgroundShapes,src:T}),l.createElement("img",{className:c.proTrialWelcomeModalIcon,src:g}),l.createElement(o.CloseButton,{className:c.closeButton,onClick:this.props.hide})))}}b.displayName="ProTrialWelcomeModal";const k=m.connect(e=>({shouldOpenChecklist:!e.userFlags.pro_trials_v2_closed_checklist}),(e,t)=>({openChecklist:()=>{t.hide(),e(h.proTrialChecklist.setTransition({checklistState:E.ProTrialChecklistState.EXPANDED}))}}))(b);t.PRO_TRIAL_WELCOME_MODAL=r.registerModal(k,"ProTrialWelcomeModal")}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const l=t(2,1    ),o=t(1109                                          ),a=t(1111                                 ),i="Community Hub Onboarding";n.WalkThroughTrackingContexts={step1:`${i} - Community Tab`,step2:`${i} - Plugins Landing Tab`,step3:`${i} - User Page`,step4:`${i} - User Plugins Page`},n.communityHubFollowFeedTrackingContext="Community Follow Feed Pointer",n.communityHubSidebarPointerKey="community-tab",n.communityHubLandingPluginsTabKey="community-landing-plugins-tab",n.userPageKey="user-page",n.userPluginsPageKey="user-plugins-tab",n.communityHubSortStateDropdownKey="sort-state-dropdown",n.COMMUNITY_HUB_ONBOARDING_USER_FLAG="seen_community_hub_onboarding",n.COMMUNITY_HUB_SEARCH_ONBOARDING_USER_FLAG="seen_community_hub_search_onboarding",n.COMMUNITY_HUB_SEARCH_MODEL_TYPE_USER_FLAG="seen_community_hub_search_model_type_onboarding",n.COMMUNITY_HUB_FOLLOW_FEED_ONBOARDING_USER_FLAG="seen_community_hub_follow_feed_onboarding",n.COMMUNITY_HUB_SIGN_UP_ONBOARDING_USER_FLAG="seen_community_hub_user_sign_up_nux",n.CommunityHubSidebarPointer={trackingContextName:n.WalkThroughTrackingContexts.step1,key:n.communityHubSidebarPointerKey,element:()=>l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("strong",null,"Figma Community Beta has arrived!")," Click the new Community tab to see usable public files and plugins made just for Figma.",l.createElement("br",null)),l.createElement("h6",null,"Step 1 of 4")),height:120,width:260,modalType:o.ModalType.WALK_THROUGH,userFlag:n.COMMUNITY_HUB_ONBOARDING_USER_FLAG},n.CommunityHubLandingPluginsTabPointer={trackingContextName:n.WalkThroughTrackingContexts.step2,key:n.communityHubLandingPluginsTabKey,element:()=>l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("strong",null,"Click the Plugins tab")," to browse all Community plugins.",l.createElement("br",null)),l.createElement("h6",null,"Step 2 of 4")),height:88,width:240,modalType:o.ModalType.WALK_THROUGH,userFlag:n.COMMUNITY_HUB_ONBOARDING_USER_FLAG},n.CommunityHubUserPointer={trackingContextName:n.WalkThroughTrackingContexts.step3,key:n.userPageKey,element:()=>l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("strong",null,"Click your name")," to view your profile, settings, and manage plugins you install and create.",l.createElement("br",null)),l.createElement("h6",null,"Step 3 of 4")),height:104,width:240,modalType:o.ModalType.WALK_THROUGH,userFlag:n.COMMUNITY_HUB_ONBOARDING_USER_FLAG},n.CommunityHubUserPluginPointer={trackingContextName:n.WalkThroughTrackingContexts.step4,key:n.userPluginsPageKey,element:()=>l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("strong",null,"Click Plugins")," to view and manage plugins you install and create.",l.createElement("br",null)),l.createElement("h6",null,"Step 4 of 4")),height:88,width:240,modalType:o.ModalType.WALK_THROUGH,userFlag:n.COMMUNITY_HUB_ONBOARDING_USER_FLAG},n.CommunitySearchPointer={trackingContextName:"Community Search Pointer",element:({dismissModal:e})=>l.createElement(a.PointerModal,{targetKey:"search-scope-toggle",dismissModal:e},l.createElement("strong",null,"Toggle to Community")," to quickly find public files, plugins, and profiles matching your search."),userFlag:n.COMMUNITY_HUB_SEARCH_ONBOARDING_USER_FLAG,modalType:o.ModalType.SELF_CONTAINED},n.CommunityFollowFeedPointer={trackingContextName:n.communityHubFollowFeedTrackingContext,element:({dismissModal:e})=>l.createElement(a.PointerModal,{targetKey:n.communityHubSortStateDropdownKey,dismissModal:e},l.createElement("strong",null,"Click the dropdown")," to switch between feeds, including your new Following feed."),userFlag:n.COMMUNITY_HUB_FOLLOW_FEED_ONBOARDING_USER_FLAG,modalType:o.ModalType.SELF_CONTAINED}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2,1    ),o=a(87      ),r=a(261                               ),l=a(207                                   ),i=a(43,1         ),m=a(1107                                                         ),c=a(1108                                       ),s=a(147                                            ),d=a(665                        ),u=a(747                              ),p=a(548                          ),g=a(152                                          ),h=a(113                                     ),b=a(264                                  ),y=a(1109                                          ),f=a(176                       ),E=a(175                            ),k=a(457                        ),w=a(101                             ),T=a(1111                                 ),C=a(1113                                                 ),O=a(377                                                ),_=a(1114                                                           );t.NewTeamCreatePointer={trackingContextName:"New Team Create Pointer",element:({dismissModal:e})=>n.createElement(T.PointerModal,{targetKey:"create-team-link",dismissModal:e},"Create teams to share design libraries with collaborators and organize files into Projects"),userFlag:"has_seen_new_team_create_pointer",modalType:y.ModalType.SELF_CONTAINED},t.BackToFileBrowser={modalType:y.ModalType.DRAGGABLE,title:"File Browser",trackingContextName:"Back to File Browser Modal",key:"back-to-files",element:i.connect(e=>({showingFileBrowserLoader:e.showingFileBrowserLoader}),e=>({dispatch:e}))(e=>{const{showingFileBrowserLoader:t,dispatch:a}=e;return n.useEffect(()=>{if(t)return;const e=document.querySelector("[data-tooltip=toggle-menu]");return a(h.fileBrowser.showDropdown({type:b.fullscreenMenuDropdownKey,data:{targetRect:e.getBoundingClientRect()}})),()=>{a(h.fileBrowser.hideDropdown())}},[t,a]),n.createElement(n.Fragment,null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/uploads/4befbce95388306cd4769de1db1f3fb8510b4742"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"The File Browser allows you to navigate through your account. You can use it to access personal files, create and join teams, and connect with the wider Figma Community."),n.createElement("p",null,"You can head there by clicking on ",n.createElement("span",{className:c.bold},"Back to Files")," in the main menu.")))}),userFlag:"back_to_file_browser_onboarded",pointDirection:y.PointDirectionOverride.LEFT_TITLE},t.TeamLibrary={modalType:y.ModalType.DRAGGABLE,title:"Team Library",trackingContextName:"Team Library Onboarding Modal",key:"library",element:i.connect(e=>Object.assign({},e.leftPanel),e=>({dispatch:e}))(e=>{const{activeTab:t,dispatch:a}=e;return n.useEffect(()=>(a(l.fullscreen.setLeftPanelTab({tab:r.LeftPanelTab.PUBLISH})),()=>{a(l.fullscreen.setLeftPanelTab({tab:t}))}),[a]),n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/library.gif"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Share components and styles across your team by publishing them to the Team Library."),"Enable quick access to other libraries in this file. ",n.createElement(m.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360041051154"},"Learn more…")))}),userFlag:"library_modal_onboarded"},t.VectorNetworks={modalType:y.ModalType.DRAGGABLE,title:"Vector Networks",trackingContextName:"Vector Networks Onboarding Modal",key:"pen",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-1.gif"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Pen tools have always been scary to use because they can be touchy and fragile."),"Now, they’re both simpler and more powerful – paths finally work the way they should. ",n.createElement(m.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360040450213"},"Learn more…")))},t.Constraints={modalType:y.ModalType.DRAGGABLE,title:"Constraints",trackingContextName:"Constraints Onboarding Modal",key:"frame",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-2.gif"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Setting precise constraints lets you build fluid layouts to support multiple device sizes and breakpoints within the same group."),"All of your layers adjust the way you expect – no magic, you get full control. ",n.createElement(m.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360039957734"},"Learn more…")))},t.Sharing={modalType:y.ModalType.DRAGGABLE,title:"Sharing and Permissions",trackingContextName:"Sharing Onboarding Modal",key:"share",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/sharing.gif"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Share your projects with teammates, clients, and stakeholders but don’t let them mess up your files."),"Control their access with granular permissons and manage their access in one simple place. ",n.createElement(m.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360039485514"},"Learn more…")))},t.Multiplayer={modalType:y.ModalType.DRAGGABLE,title:"Multiplayer",trackingContextName:"Multiplayer Onboarding Modal",key:"share",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/multiplayer.gif"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Collaborate in real time with your team and never worry about your files being up-to-date."),"No syncing, no waiting, no merge conflicts. ",n.createElement(m.OnboardingLink,{href:"https://blog.figma.com/multiplayer-editing-in-figma-8f8076c6c3a6"},"Learn more…")))},t.Comments={modalType:y.ModalType.DRAGGABLE,title:"Comments",trackingContextName:"Comments Onboarding Modal",key:"comment",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-3.gif"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Leave notes right in your design files."),"Get feedback, requests, and copy updates where you’ll use them, not in your inbox. ",n.createElement(m.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360039825314"},"Learn more…")))},t.Export={modalType:y.ModalType.DRAGGABLE,title:"Export",trackingContextName:"Export Onboarding Modal",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/export.png",width:350}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Export your designs for use in production or to share with your team."),"Figma can export to PNG, JPEG, SVG, and PDF. ",n.createElement(m.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360040028114"},"Learn more…")))},t.LiveDevicePreview={modalType:y.ModalType.DRAGGABLE,title:"Live Device Preview",trackingContextName:"Live Device Preview Onboarding Modal",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/livepreview.gif"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"To view your frames live on your device, just download Figma Mirror on your ",n.createElement(m.OnboardingLink,{href:"https://itunes.apple.com/app/figma-mirror/id1152747299"},"iOS")," or ",n.createElement(m.OnboardingLink,{href:"https://play.google.com/store/apps/details?id=com.figma.mirror&hl=en"},"Android")," device."),"They’ll update instantly no matter what network you’re on and with no need to connect via USB."))},t.Import={modalType:y.ModalType.DRAGGABLE,title:"Import Sketch Files",trackingContextName:"Import Sketch File Onboarding Modal",key:"import",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-4.gif"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"One of the coolest things about Figma is that you don’t have to start from scratch to get to work."),"Just drag your Sketch files onto the browser and we’ll convert them to Figma for you.")),userFlag:"import_file_onboarded"},t.OpenFile={modalType:y.ModalType.DRAGGABLE,title:"Edit a file",ctaText:"Create File",trackingContextName:"Edit a File Onboarding Modal",element:()=>n.createElement(m.OnboardingContent,null,"Open a file to learn more about Figma’s powerful editing features!")},t.CreateTeam={modalType:y.ModalType.DRAGGABLE,title:"Create a Team",trackingContextName:"Create a Team Onboarding Modal",key:"createTeam",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/create-team.png"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Figma is at its most powerful when you work from a team space (even if you are working solo)."),n.createElement("p",null,"Team spaces allow you to organize files into projects, collaborate more easily, and manage specific permissions."))),ctaText:"Create Team",userFlag:"create_team_onboarded"},t.CreateProject={modalType:y.ModalType.DRAGGABLE,title:"Create a Project",trackingContextName:"Create Project Onboarding Modal",key:"createProject",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/app/onboarding/create-project.png"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"This is your team space. From here you can add collaborators, manage permissions, and see all of your projects owned by the team."),n.createElement("p",null,"Projects contain your design files. Let’s create your first project now."))),ctaText:"Create Project",userFlag:"create_project_onboarded"};var A;t.WelcomeOnboardingStep={modalType:y.ModalType.DRAGGABLE,title:"Welcome!",trackingContextName:"Welcome Onboarding Modal",element:i.connect(e=>({userName:e.user.name}))(e=>{const{userName:t,acceptTitle:a}=e;return n.useEffect(()=>a(`Welcome ${t.split(" ")[0]}!`),[t,a]),n.createElement(n.Fragment,null,n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Welcome to Figma!"),"We’re different from other design tools in some really special ways, so we’d like to take you through them."),n.createElement(m.OnboardingFooter,null,n.createElement(s.ButtonPrimaryTracked,{onClick:e.onClickPrimaryCta},"Next")))}),userFlag:"welcome_onboarded",disableFooter:!0},t.OrgWelcome={modalType:y.ModalType.DRAGGABLE,title:"Welcome to your Figma Organization",trackingContextName:"Orgs Welcome Onboarding Modal",highlightOnlyKey:"new-team-icon",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/uploads/6f3307f82aeddf6f609eaf97ee9e66e788d485c1",width:215,margin:"14px 0px 14px 27px"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Figma Organization connects files, projects, libraries, and teams, securely across your company."),"Click on ",n.createElement("span",{className:c.bold},"View all teams")," in the bottom left corner to find teams to join.")),width:376,userFlag:"orgs_onboarded"},t.TidyUp={modalType:y.ModalType.DRAGGABLE,title:"Tidy Up",key:"distribute",trackingContextName:"Smart Selections Onboarding Modal",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/uploads/b28c762a711857ed85b7fb8feb6c4d8616e3316a"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Use the Tidy Up button to arrange your selection into a grid or list so that you can adjust spacing and rearrange items."))),userFlag:"smart_selection_onboarded"},t.Styles={modalType:y.ModalType.DRAGGABLE,title:"Styles",trackingContextName:"Styles Onboarding Modal",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/uploads/99123fbca853747e2e1d98050e9b59fe217bbe1d"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"You can now create shareable and reusable styles for text, color, effects, and layout grids!"),"Publish them to the library to share with your team and use them in other files."," ",n.createElement(m.OnboardingLink,{href:"https://help.figma.com/hc/en-us/categories/360002042553#Styles"},"Learn more…"))),userFlag:"styles_onboarded"},t.CommunityHubFileDuplicate={modalType:y.ModalType.WELCOME,trackingContextName:"Community Hub Duplicate Onboarding Modal",element:i.connect(e=>({}))(e=>n.createElement("div",{className:c.communityDuplicateModal},n.createElement("h1",null,"Welcome to Figma"),n.createElement(s.Spacing,{multiple:4}),n.createElement("p",null,"You just duplicated this file from the Community! To get started, let us show you some of the things that make Figma special and different from other design tools."),n.createElement(s.Spacing,{multiple:4}),n.createElement(O.BrandButtonTracked,{fullWidth:!1,onClick:e.onClickPrimaryCta},"Show me around"),n.createElement(s.Spacing,{multiple:3}),n.createElement(s.LinkTracked,{className:c.dismiss,onClick:e.dismissModal},"No, thanks"))),userFlag:"editor_community_duplicate_onboarded"},t.CommunityHubLanding={modalType:y.ModalType.DRAGGABLE,title:"Say hello to Figma Plugins",trackingContextName:"Community Hub Landing Onboarding Modal",element:e=>n.createElement("div",null,n.createElement(m.OnboardingImg,{margin:"-1px 0 0 0",width:352,src:"https://static.figma.com/uploads/4524ea94fe52e79382cfba1f65a1850ecc9fc86e"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Automate work, bring in data, and extend what’s possible in Figma. Install plugins in one click, or create your own."),n.createElement("p",{className:c.communityHubOnboardingTOS},"P.S. Our updated"," ",n.createElement(s.LinkInlineTracked,{href:"https://www.figma.com/tos/",target:"_blank",rel:"noopener"},"terms of service")," ","now includes the use of plugins. By continuing to use Figma, you agree to the terms.")),n.createElement(m.OnboardingFooter,null,n.createElement("div",{className:c.communityHubOnboardingFooter},n.createElement(s.LinkInlineTracked,{className:c.blueLink,href:"https://www.figma.com/plugin-docs",target:"_blank",rel:"noopener"},"Build your own"),n.createElement(s.ButtonSecondary,{href:"https://www.figma.com/community",onClick:e.onClickPrimaryCta},"Browse plugins")))),disableFooter:!0,width:352,userFlag:"community_hub_onboarded"},function(e){e.ConnectedCoCoLandingView=i.connect(e=>({currentOrgId:e.currentOrgId}))(class extends n.PureComponent{render(){return n.createElement("div",null,n.createElement(m.OnboardingImg,{margin:"-1px 0 0 0",width:352,src:"https://static.figma.com/uploads/d553b9068862d4ede027e604afef07af862aedae"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,this.props.currentOrgId?"We’ve introduced new Project, Team, and Organization Pages — spaces for your team to share context and discover work. A few things have moved to make room for these new features.":"We’ve introduced new Project and Team Pages — spaces for your team to share context and discover work. A few things have moved to make room for these new features.")),n.createElement(m.OnboardingFooter,null,n.createElement(s.ButtonSecondaryLinkTracked,{href:"https://help.figma.com/article/289-new",target:"_blank",rel:"noopener",onClick:this.props.onClickPrimaryCta},"See what's new")))}})}(A||(A={})),t.CoCoLanding={modalType:y.ModalType.DRAGGABLE,title:"A redesign of your Figma workspace",trackingContextName:"CoCo Landing Onboarding Modal",element:A.ConnectedCoCoLandingView,disableFooter:!0,width:352,userFlag:"coco_onboarded",lightHeader:!0},t.GIFs={modalType:y.ModalType.DRAGGABLE,title:"Figma prototypes, meet GIFs",trackingContextName:"GIFs Onboarding Modal",element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/uploads/7efabf2e7d62f3083ad663e670138afe2fb84248",width:350}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Add animated GIFs to your design file, and watch it come to life when you present your prototype."),n.createElement("p",null,"Whether you’re designing an app, website, or presentation, GIFs are a simple way to add subtle animation to improve the user experience."))),userFlag:"gifs_onboarded"};t.OpenType={modalType:y.ModalType.DRAGGABLE,title:"Better Type Details",trackingContextName:"OpenType Onboarding Modal",element:p.withDispatch(e=>n.createElement("div",null,n.createElement(m.OnboardingImg,{margin:"0 -1px -1px 0",width:378,src:"https://static.figma.com/uploads/28ad3c7c027a3f348ba7c2e018feb73dda056f05"}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"You can now access advanced typographical features for fonts that offer them. Turn on extra ligatures, change digit styles, use alternate letterforms, and explore other nuances of your fonts.")),n.createElement(m.OnboardingFooter,null,n.createElement("div",{className:c.openTypeOnboardingFooter},n.createElement(s.ButtonSecondaryTracked,{className:c.openTypeDetails,href:"#",onClick:()=>{(e=>{u.updateAppModel({showUi:!0}),setTimeout(()=>{const t=document.querySelector("[data-onboarding-key=type-panel-alignment-row]");if(!t)return;const a=d.pickerPositionLeftOf(t);e(l.fullscreen.showPicker({id:w.TYPE_PANEL_ID,initialX:a.x,initialY:a.y}))},0)})(e.dispatch),e.onClickPrimaryCta()}},"Open Type Details"),n.createElement(s.ButtonPrimaryTracked,{href:"#",onClick:e.onClickPrimaryCta},"Done"))))),disableFooter:!0,width:378,userFlag:"opentype_onboarded",key:"type-panel-settings"};t.DesktopBeta={trackingContextName:"Desktop Beta Onboarding Modal",element:e=>n.createElement(n.Fragment,null,n.createElement(m.OnboardingImg,{width:y.LARGE_MODAL_WIDTH,src:"https://static.figma.com/uploads/5f707d4b90fc75f7b049f4e3e0e5a180758212c9"}),n.createElement(m.OnboardingNewUserContent,null,n.createElement("h1",null,"Help us test the Figma Desktop App"),n.createElement(s.Spacing,{multiple:1}),n.createElement("p",{className:c.maxWidth500},"Download the beta version of the desktop app to get bug fixes and improvements early, when they’re less stable. Report bugs and share feedback to help us build the app."," ",n.createElement(m.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360039823654#Beta_version_of_the_Desktop_App"},"Learn more")),n.createElement(s.Spacing,{multiple:3}),n.createElement(s.BigButtonLinkTracked,{href:o.mac?"https://desktop.figma.com/mac/beta/FigmaBeta.zip":o.windows?"https://desktop.figma.com/win/beta/FigmaBetaSetup.exe":void 0,disabled:!o.windows&&!o.mac,target:"_blank",rel:"noopener",onClick:e.onClickPrimaryCta,className:c.fullWidth},"Download Figma Desktop Beta"))),userFlag:"desktop_beta_onboarded",modalType:y.ModalType.FEATURE_UPDATE};t.DSAOnboarding={modalType:y.ModalType.DRAGGABLE,title:"Introducing analytics for your design systems",trackingContextName:"DSA Onboarding Modal",lightHeader:!0,element:i.connect(e=>({currentOrgId:e.currentOrgId}))(e=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/uploads/00b2ccf70ff839a86a331a745ea3f2f735960cbc",width:350}),n.createElement(m.OnboardingContentV2,null,n.createElement("p",null,"Take the guesswork out of building and maintaining your libraries. Track library adoption and prioritize updates based on how components are being used or detached.")),n.createElement("div",{className:c.footerV2WithTwoItems},n.createElement(s.LinkTracked,{href:"https://help.figma.com/hc/en-us/articles/360039238353",target:"_blank",rel:"noopener"},"Watch tutorial"),n.createElement(s.ButtonSecondaryTracked,{href:"#",onClick:()=>{((e,t)=>{e(h.fileBrowser.selectView({view:"org",orgId:t,orgViewTab:k.OrgViewTab.LIBRARIES})),e(h.fileBrowser.showModal({type:E.ORG_DASHBOARD_MODAL,data:{tab:f.LibraryPreferencesModalTab.LIBRARIES}}))})(e.dispatch,e.currentOrgId),e.onClickPrimaryCta()}},"View Analytics")))),disableFooter:!0,userFlag:"dsa_onboarded"},t.SmartAnimate={modalType:y.ModalType.DRAGGABLE,title:"Introducing Smart Animate",trackingContextName:"Smart Animate Onboarding Modal",lightHeader:!0,element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{src:"https://static.figma.com/uploads/6e9b48cf375f22a2ab60a218369e6eac7a750937",width:450}),n.createElement(m.OnboardingContent,null,n.createElement("p",null,"Check out the new Smart Animate transition, which automatically animates objects with the same name. You can also combine Smart Animate with other transitions like Push or Move for more advanced animations."),n.createElement(s.LinkTracked,{href:"https://help.figma.com/hc/en-us/articles/360039818874",target:"_blank",rel:"noopener"},"Learn more…"))),width:450,userFlag:"smart_animate_onboarded"},t.ChromeVersionWarning={modalType:y.ModalType.DRAGGABLE,trackingContextName:"Chrome Version Warning Redalert 10-16-19",disableFooter:!0,element:i.connect(e=>({hasOrgs:Object.keys(e.orgById).length>0,teams:Object.keys(e.teams).map(t=>e.teams[t])}))(e=>{const t=navigator&&navigator.userAgent&&navigator.userAgent.match(/CrOS/);let a="Please update your browser to avoid losing work.",o=n.createElement("p",null,"The version of Chrome you are using has a networking issue which may prevent you from saving your work. Please ",n.createElement(s.LinkInlineTracked,{target:"_blank",href:"https://help.figma.com/hc/en-us/articles/360040035734"},"upgrade your browser")," to version 77.0.3865.120 or greater to avoid any issues.");return t&&(a="Please update ChromeOS to avoid losing work.",o=n.createElement("p",null,"The version of ChromeOS you are using has a networking issue which may prevent you from saving your work. A patch has been released with version 77.0.3865.120 starting November 4, 2019. Make sure to allow ChromeOS to ",n.createElement(s.LinkInlineTracked,{target:"_blank",href:"https://support.google.com/chromebook/answer/177889"},"update automatically"),".")),n.createElement(m.OnboardingContentV2,null,n.createElement("h1",null,a),n.createElement("br",null),o,n.createElement("br",null),n.createElement(()=>n.createElement("p",null,"If you have any questions please email us at ",n.createElement(s.LinkInlineTracked,{href:"mailto:support@figma.com"},"support@figma.com"),"."),null),n.createElement(g.CloseButton,{className:c.closeButton,onMouseDown:e=>e.stopPropagation(),onClick:e.dismissModal,innerText:"close"}))}),userFlag:"seen_chrome_version_warning"},t.RdsDowntimeModal={modalType:y.ModalType.DRAGGABLE,trackingContextName:"RDS Downtime Alert Modal",disableFooter:!0,element:e=>n.createElement(m.OnboardingContentV2,null,n.createElement("h1",null,"Scheduled Maintenance"),n.createElement("br",null),n.createElement("p",null,"Figma will be undergoing scheduled maintenance at ",new Intl.DateTimeFormat("default",{hour:"numeric",minute:"numeric",timeZoneName:"short"}).format(new Date("2019-10-20T00:00:00.000Z")),". We expect it to take 30 minutes, though it may take up to an hour."),n.createElement("br",null),n.createElement("p",null,"When the maintenance is completed your work should sync as expected. If you continue to work during this period we suggest also backing up your work by saving your File locally as a .fig file. This way, if there are any unforeseen issues, you can import your saved version and continue as normal."),n.createElement("br",null),n.createElement("p",null,"You can view the status of this maintenance and subscribe to updates on ",n.createElement(s.LinkInlineTracked,{target:"_blank",href:"https://status.figma.com"},"status.figma.com")),n.createElement("br",null),n.createElement("p",null,"We hope this will not be too much of a disruption and appreciate your understanding. If you have other questions or concerns please email ",n.createElement(s.LinkInlineTracked,{href:"mailto:support@figma.com"},"support@figma.com")," or contact us inside the app."),n.createElement(g.CloseButton,{className:c.closeButton,onMouseDown:e=>e.stopPropagation(),onClick:e.dismissModal,innerText:"close"})),userFlag:"seen_rds_downtime_modal"},t.AutoLayoutOnboarding={trackingContextName:"Auto Layout Onboarding Modal",element:e=>{const t=o.mac?"⇧A":"Shift+A";return n.createElement(n.Fragment,null,n.createElement(m.OnboardingImg,{width:y.LARGE_MODAL_WIDTH,src:"https://static.figma.com/uploads/b90ca080e1cd84880a3addd67d4ef733b7b5e626"}),n.createElement(m.OnboardingFeatureUpdate.Content,null,n.createElement(m.OnboardingFeatureUpdate.Left,null,n.createElement("h1",null,"Auto Layout",n.createElement("br",null),"is here")),n.createElement(m.OnboardingFeatureUpdate.Separator,null),n.createElement(m.OnboardingFeatureUpdate.Right,null,n.createElement("p",null,"Create buttons that resize with text, lists which rearrange when items are moved around, and other elements that respond like interfaces in production."),n.createElement(s.Spacing,{multiple:2}),n.createElement("p",null,"Add Auto Layout to a frame from the properties panel, or press ",n.createElement("span",{className:c.bold},t)," to convert existing objects to Auto Layout."),n.createElement(s.Spacing,{multiple:4}),n.createElement(m.OnboardingFeatureUpdate.Buttons,null,n.createElement(s.BigButtonSecondaryTracked,{onClick:e.dismissModal},"Maybe Later"),n.createElement(s.BigButtonLinkTracked,{href:"https://www.figma.com/community/file/784448220678228461",target:"_blank",rel:"noopener",onClick:e.onClickPrimaryCta},"Open Playground")))))},userFlag:"autolayout_onboarded",modalType:y.ModalType.FEATURE_UPDATE},t.UnifiedSearchMoreResultsPointer={trackingContextName:"Unified Search More Results Pointer",element:({dismissModal:e})=>{return n.createElement(T.PointerModal,{targetKey:"search-tab-projects",dismissModal:e,topPadding:21,height:76},n.createElement("strong",null,"Filter your Search")," by project, file, or person to find what you're looking for faster.")},userFlag:"has_seen_unified_search_more_results_pointer",modalType:y.ModalType.SELF_CONTAINED},t.CommunityUserSignUpWelcome={title:"Welcome to Figma Community",trackingContextName:"Welcome to Figma Community New Account",key:_.communityHubSidebarPointerKey,element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{width:350,src:"https://static.figma.com/uploads/934ace54bce6f70ff89e6b3a97e51fe89c3645e6"}),n.createElement(m.OnboardingContent,null,"Welcome to Figma Community! Find amazing design files and plugins, follow creators, and publish your own creations to share them with the public.")),modalType:y.ModalType.DRAGGABLE},t.CommunityUserSignUpProfile={title:"Your Profile and Settings",trackingContextName:"Welcome to Figma Community New Account",key:_.userPageKey,element:()=>n.createElement("div",null,n.createElement(m.OnboardingImg,{width:350,src:"https://static.figma.com/uploads/35955389815473232f22ebaded23602ab3a18898"}),n.createElement(m.OnboardingContent,null,"Click your name to see your Community profile, edit your settings, and manage your plugins. To view new and past notifications, click the bell icon.")),userFlag:_.COMMUNITY_HUB_SIGN_UP_ONBOARDING_USER_FLAG,modalType:y.ModalType.DRAGGABLE},t.StartProTrialInAppMessage={trackingContextName:"Start Pro Trial In-App Message",element:i.connect(e=>{if("team"===e.selectedView.view)return{teamId:e.selectedView.teamId};if("folder"===e.selectedView.view){const t=e.folders[e.selectedView.folderId];if(t.team_id)return{teamId:t.team_id}}return{teamId:""}})(({dismissModal:e,teamId:t})=>n.createElement(C.StartProTrialModal,{hide:e,teamId:t,entryPoint:C.ProTrialEntryPoint.TEAM_PAGE})),modalType:y.ModalType.SELF_CONTAINED,userFlag:"seen_start_pro_trial_in_app_message"},t.HyperlinksOnboarding={trackingContextName:"Hyperlinks Onboarding Modal",trackingProperties:{},element:e=>n.createElement(n.Fragment,null,n.createElement(m.OnboardingImg,{width:y.LARGE_MODAL_WIDTH,src:"https://static.figma.com/uploads/dffe4eceb757acec6a9a117c75bacc6ed96f784f"}),n.createElement(m.OnboardingFeatureUpdate.Content,null,n.createElement(m.OnboardingFeatureUpdate.Left,null,n.createElement("h1",null,"Add Links"),n.createElement("h1",null,"for better navigation and context")),n.createElement(m.OnboardingFeatureUpdate.Separator,null),n.createElement(m.OnboardingFeatureUpdate.Right,null,n.createElement("p",null,"Link to external product docs to provide your teammates with additional context. And, include links to pages and frames within your design files to guide them through your work. "),n.createElement(s.Spacing,{multiple:4}),n.createElement(m.OnboardingFeatureUpdate.Buttons,null,n.createElement(s.BigButtonSecondaryTracked,{onClick:e.dismissModal},"Maybe Later"),n.createElement(s.BigButtonLinkTracked,{href:"/dynamic/links-4-16",target:"_blank",rel:"noopener",onClick:e.onClickPrimaryCta},"Open Playground"))))),modalType:y.ModalType.FEATURE_UPDATE,userFlag:"hyperlinks_onboarded"}}),
(function(O,A,R){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),function(O){O.ONBOARDING_MODAL="onboarding_modal"}(A.RcsCategories||(A.RcsCategories={})),function(O){O[O.URGENT_ALERT=9999]="URGENT_ALERT",O[O.PRO_TRIAL_MODAL=20]="PRO_TRIAL_MODAL",O[O.SECONDARY_ONBOARDING_MODAL=5]="SECONDARY_ONBOARDING_MODAL",O[O.DEFAULT_ONBOARDING_MODAL=10]="DEFAULT_ONBOARDING_MODAL"}(A.RcsPriorities||(A.RcsPriorities={}))}),
(function(e,_,s){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.SurveyUserFlags=new Set(["seen_pro_cart_abandon_survey","seen_drafts_collaboration_survey","seen_first_use_survey","seen_type_of_work_survey","seen_org_admin_survey","seen_org_cart_abandon_survey","seen_remote_templates_opt_out_survey"])}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=r(104              );let o={};n.parseAndCacheQueryParams=function(e=window&&window.location&&window.location.search){o=e?t.parse(e):{}},n.getCachedQueryParam=function(e){return o[e]}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(830                                                  ),n=r(125                        ),a=r(208                               ),c=r(112          ),i=r(1117                         ),u=r(115                     ),o=r(1118                               ),l=r(118                    ),d=r(1114                                                                        ),m=r(1114                                                                        ),y=r(133        );function f(e){return"recentFiles"===e.selectedView.view||"folder"===e.selectedView.view?s.TrackedContext.FILE_BROWSER:"communityHub"===e.selectedView.view?s.TrackedContext.COMMUNITY_HUB:"fullscreen"===e.selectedView.view?s.TrackedContext.EDITOR:"prototype"===e.selectedView.view?s.TrackedContext.PROTOTYPE:"team"===e.selectedView.view?s.TrackedContext.TEAM_PAGE:s.TrackedContext.UNKNOWN}t.getTrackedContext=f,t.getTrackedContextDetails=function(e){const t=f(e);return t===s.TrackedContext.FILE_BROWSER?{trackedContext:t,view:function(e){return"recentFiles"===e.selectedView.view?"recent":"folder"===e.selectedView.view&&l.isTeamFolder(e.folders[e.selectedView.folderId])?"project":"folder"===e.selectedView.view?"drafts":void 0}(e)}:{trackedContext:t}};t.SelectedViewQuery=class{execute(e){return f(e)}};t.UserFlagQuery=class{constructor(e){this.flagName=e}execute(e){return!!e.userFlags[this.flagName]}};t.InEditorAndCanEditQuery=class{execute(e){const t=a.editingFileKey(e.selectedView);return!!t&&n.canEditFile(t,e)}};t.ShowGeneralCommunityOnboardingQuery=class{execute(e){return!(e.userFlags[d.COMMUNITY_HUB_ONBOARDING_USER_FLAG]||e.userFlags[m.COMMUNITY_HUB_SIGN_UP_ONBOARDING_USER_FLAG])}};t.UserFlagTimestampQuery=class{constructor(e){this.flagName=e}execute(e){const t=e.userFlags[this.flagName];if(t)return t.updatedAt.getTime()}};t.MsSinceLastSurveyQuery=class{execute(e){const t=e.userFlags,r=(new Date).getTime();return Array.from(i.SurveyUserFlags).map(e=>{const s=t[e];return s?r-s.updatedAt.getTime():1/0}).reduce((e,t)=>Math.min(e,t))}};t.UserProfileQuery=class{constructor(e){this.field=e}execute(e){const t=e.user;if(!t)return;const r=t.profile;return r?r[this.field]:void 0}};t.UserEmailIsKnownDomainQuery=class{execute(e){const t=e.user;if(t&&(null==t?void 0:t.email))return y.isKnownDomain(null==t?void 0:t.email)}};t.UserCommunityProfileHandleQuery=class{execute(e){var t;if(e.user)return(null===(t=e.user)||void 0===t?void 0:t.community_profile_handle)||""}};t.UserQuery=class{constructor(e){this.field=e}execute(e){const t=e.user;if(!t)return;const r=t[this.field];return["created_at","email_validated_at"].indexOf(this.field)>-1&&r?new Date(r):r}};t.UserSpaceQuery=class{execute(e){return e.currentOrgId&&n.canMemberOrg(e.currentOrgId,e)?s.UserSpace.ORG:s.UserSpace.PERSONAL}};t.OrgCountQuery=class{execute(e){return Object.keys(e.orgById).length}};t.BrowserVersionQuery=class{execute(e){return c.browserVersion()}};t.DraftsWithCollaboratorsQuery=class{execute(e){const t=e.user;if(!t)return 0;const r=e.roles.byFileKey;let s=0;return Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(n=>{r[e][n].user_id===t.id&&r[e][n].level===u.PermissionLevel.OWNER&&Object.keys(r[e]).length>1&&s++})}),s}};t.TeamCountQuery=class{execute(e){return Object.keys(e.teams).length}};t.CollaboratingTeamCountQuery=class{execute(e){const t=e.teams;return Object.keys(t).filter(e=>t[e].editors>1).length}};t.TeamFolderCountQuery=class{execute(e){const t=e.folders;return Object.keys(t).filter(e=>null!==t[e].team_id).length}};t.ProTeamCountQuery=class{execute(e){return Object.keys(e.teams).filter(t=>null!==e.teams[t].subscription).length}};t.NotificationCountQuery=class{execute(e){return e.notifications.length}};t.IsEditorOrOwnerOnProTrialQuery=class{execute(e){const t=e.user;if(!t)return!1;const r=Object.keys(e.teams).filter(t=>{const r=e.teams[t].trial_period_end;return!!r&&new Date(r)>new Date&&!!e.roles.byTeamId[t]});for(let s of r){const r=Object.keys(e.roles.byTeamId[s]);for(let n of r){const r=e.roles.byTeamId[s][n];if(r.user_id===t.id&&r.level>=u.PermissionLevel.EDITOR)return!0}}return!1}};t.IsAdminOnOrgQuery=class{execute(e){const t=e.currentOrgId;return n.canAdminOrg(t,e)}};t.URLParamQuery=class{constructor(e){this.paramName=e}execute(){return o.getCachedQueryParam(this.paramName)}};t.ElementWithDataOnboardingKeyVisibleQuery=class{constructor(e){this.targetKey=e}execute(e){return document.querySelectorAll(`[data-onboarding-key=${this.targetKey}]`).length>0}};t.FullscreenLeftPanelTabQuery=class{execute(e){return e.leftPanel.activeTab}};t.TeamLibrarySearchQuery=class{execute(e){return e.library.librarySearchQuery.length>0}};t.WebQueryProcessor=class{constructor(e){this.store=e}execute(e){return e.execute(this.store.getState())}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(830                                                  ),a=i(1115                                         ),o=i(1116                                 ),s=i(1119                                              );t.welcomeOnboardingSequenceMachine=function(e){return{id:`welcome_machine_${e.initialStateId}`,initialStateId:e.initialStateId,states:[{id:e.initialStateId,type:"DATA",query:new s.UserFlagQuery("welcome_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:`show_welcome_${e.initialStateId}`},{operator:"EQUALS",value:!0,destinationStateId:`show_${e.initialStateId}`}]},{id:`show_welcome_${e.initialStateId}`,type:"ACTION",payload:{type:"show_content",onboardingSequence:{get steps(){return[...e.welcomeSteps||[a.WelcomeOnboardingStep],...e.sequence.steps]},get userFlagsOnComplete(){return e.sequence.userFlagsOnComplete},onComplete:e.sequence.onComplete,persistBetweenContexts:e.sequence.persistBetweenContexts}},destinationStateId:e.exitStateId,category:{name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.DEFAULT_ONBOARDING_MODAL,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"}},{id:`show_${e.initialStateId}`,type:"ACTION",payload:{type:"show_content",onboardingSequence:e.sequence},destinationStateId:e.exitStateId,category:{name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.DEFAULT_ONBOARDING_MODAL,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"}}]}},t.awaitEditor=function(e,t){return{id:`${e}_await_editor_machine`,initialStateId:`${e}_await_editor`,states:[{id:`${e}_await_editor`,type:"EVENT",transitions:[{eventId:"Context Viewed",destinationStateId:`${e}_can_edit_file`,conditions:[{operator:"EQUALS",value:n.TrackedContext.EDITOR,field:"name"}]}]},{id:`${e}_can_edit_file`,type:"DATA",query:new s.InEditorAndCanEditQuery,transitions:[{operator:"EQUALS",value:!0,destinationStateId:t},{operator:"NOT_EQUALS",value:!0,destinationStateId:`${e}_await_editor`}]}]}},t.createDataBranch=function e(t,i,n){const a=i.map(e=>e.userFlag),r=a.join("_");if(0===t.length)return 0===i.length?{id:"noop_and_exit",initialStateId:"noop",states:[{id:"noop",type:"ACTION",payload:{type:"noop"}}]}:{id:`show_${r}`,initialStateId:`show_${r}`,states:[{id:`show_${r}`,type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:i.map(e=>e.steps).reduce((e,t)=>e.concat(t),[]),userFlagsOnComplete:a,onComplete:i[i.length-1].onComplete,interTabId:n}},category:{blocking:"UNTIL_COMPLETE",name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.DEFAULT_ONBOARDING_MODAL,whenBlocked:"BACK"}}]};const d=t[0],c=e(t.slice(1),i.concat([d]),n),l=e(t.slice(1),i,n),_=`check_${d.userFlag}_show_${r}`;return{id:_,initialStateId:_,states:[{id:_,type:"DATA",query:new s.UserFlagQuery(d.userFlag),transitions:[{operator:"EQUALS",value:!0,destinationStateId:l.initialStateId},{operator:"NOT_EQUALS",value:!0,destinationStateId:c.initialStateId}]},...l.states,...c.states]}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(1115                                         ),o=a(1120                                                   ),r=a(85                   ),n=a(1119                                              );function s(e){const t=e.filter(e=>!e.featureFlag||r.getFeatureFlags()[e.featureFlag]),a=o.createDataBranch(t,[],"editor_updates"),i=o.awaitEditor("initial","has_onboarded_editor");return{id:"onboard_editor_updates",initialStateId:i.initialStateId,states:[...i.states,{id:"has_onboarded_editor",type:"DATA",query:new n.UserFlagQuery("editor_onboarded"),transitions:[{operator:"EQUALS",value:!0,destinationStateId:a.initialStateId}]},...a.states]}}t.createEditorUpdateMachine=s,t.EditorUpdates=[{userFlag:"autolayout_onboarded",steps:[i.AutoLayoutOnboarding]},{userFlag:"hyperlinks_onboarded",steps:[i.HyperlinksOnboarding],featureFlag:"hyperlinks"}];const d=s(t.EditorUpdates);t.default=d}),
(function(e,o,t){e.exports={editorWelcomeModal:"editor_team_welcome--editorWelcomeModal--38oq9",choosePlanModal:"editor_team_welcome--choosePlanModal--AH1ty",plansContainer:"editor_team_welcome--plansContainer--3L2fo",planBox:"editor_team_welcome--planBox--17Ra9",planItem:"editor_team_welcome--planItem--RcFHD",cornerTargetBox:"editor_team_welcome--cornerTargetBox--1O7cH",checkIcon:"editor_team_welcome--checkIcon--2O8bb",proPlan:"editor_team_welcome--proPlan--2P-lh",penTool:"editor_team_welcome--penTool--3-_J6",inviteCollaboratorsModal:"editor_team_welcome--inviteCollaboratorsModal--boTvP",nameTeamModal:"editor_team_welcome--nameTeamModal--20cGK",highlight:"editor_team_welcome--highlight--3jWps",inputContainer:"editor_team_welcome--inputContainer--1HFbL",completionModal:"editor_team_welcome--completionModal--2Htkn",showMeAroundButton:"editor_team_welcome--showMeAroundButton--1jGKx",selectionContainer:"editor_team_welcome--selectionContainer--3FaDB",cursorSvg:"editor_team_welcome--cursorSvg--2D97G",upperLeftTarget:"editor_team_welcome--upperLeftTarget--3QSzC",upperRightTarget:"editor_team_welcome--upperRightTarget--1bNxD",bottomLeftTarget:"editor_team_welcome--bottomLeftTarget--e_AL8",bottomRightTarget:"editor_team_welcome--bottomRightTarget--2rNQz",pointerTopLeft:"editor_team_welcome--pointerTopLeft--YQvYu",pointerTopRight:"editor_team_welcome--pointerTopRight--16Dye",pointerBottomLeft:"editor_team_welcome--pointerBottomLeft--329OV",pointerBottomRight:"editor_team_welcome--pointerBottomRight--375ZX",planButton:"editor_team_welcome--planButton--1khN-",proButton:"editor_team_welcome--proButton--1iMCm editor_team_welcome--planButton--1khN-",starterButton:"editor_team_welcome--starterButton--1dSea editor_team_welcome--planButton--1khN-",errorMessage:"editor_team_welcome--errorMessage--2ZEBZ"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=a(2,1    ),n=a(1109                                          ),r=a(43,1         ),i=a(377                                                ),o=a(147                                            ),m=a(372                                                           ),c=a(146                        ),s=a(137                                    ),u=a(205                             ),p=a(115                     ),E=a(206                             ),d=a(112          ),h=a(1122                       ),g=a(371                                                               ),v=a(133        ),f=a(179        ),k=a(125                        ),L=a(169                                    ),N=()=>l.createElement("img",{src:"https://static.figma.com/uploads/65f14dc6f5f3c61aa313bf1e06e3fb6251811a51",className:h.penTool}),S=e=>l.createElement("div",{className:`${h.cornerTargetBox} ${e.position}`}),C=()=>l.createElement(l.Fragment,null,l.createElement(S,{position:h.upperLeftTarget}),l.createElement(S,{position:h.upperRightTarget}),l.createElement(S,{position:h.bottomLeftTarget}),l.createElement(S,{position:h.bottomRightTarget})),T=e=>l.createElement("div",{className:h.selectionContainer},e.children,l.createElement(C,null),l.createElement("img",{className:h.cursorSvg,src:"https://static.figma.com/uploads/67b8081c642d55a992811590a3913dc5e25c0e74"})),_=e=>{let t=null;return"down"===e.direction?t=l.createElement("svg",{width:"68",height:"44",viewBox:"0 0 68 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"1",y:"1",width:"48.2525",height:"21.1934",fill:e.color,stroke:"black",strokeWidth:"2"}),l.createElement("path",{d:"M62.187 23.0046L61.6931 20.4363L60.3475 22.679L56.6886 28.777L49.9894 30.6041L47.7074 31.2265L49.7438 32.4298L63.9175 40.8052L65.8272 41.9336L65.4083 39.7554L62.187 23.0046Z",fill:e.color,stroke:"black",strokeWidth:"2",strokeLinecap:"square"})):"up-left"==e.direction?t=l.createElement("svg",{width:"68",height:"44",viewBox:"0 0 68 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"66.4263",y:"42.9443",width:"48.2525",height:"21.1934",transform:"rotate(-180 66.4263 42.9443)",fill:e.color,stroke:"black",strokeWidth:"2"}),l.createElement("path",{d:"M5.23931 20.9397L5.73321 23.508L7.0788 21.2653L10.7377 15.1672L17.4369 13.3402L19.7189 12.7178L17.6825 11.5145L3.50873 3.13907L1.59911 2.01066L2.01799 4.18885L5.23931 20.9397Z",fill:e.color,stroke:"black",strokeWidth:"2",strokeLinecap:"square"})):"up-right"==e.direction&&(t=l.createElement("svg",{width:"68",height:"44",viewBox:"0 0 68 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"1",y:"-1",width:"48.2554",height:"21.1934",transform:"matrix(1 0 0 -1 -0.00012207 41.9443)",fill:e.color,stroke:"black",strokeWidth:"2"}),l.createElement("path",{d:"M62.1904 20.9397L61.6965 23.5078L60.351 21.2653L56.6919 15.1672L49.9922 13.3402L47.7101 12.7178L49.7466 11.5145L63.9212 3.13906L65.8308 2.01072L65.4119 4.18886L62.1904 20.9397Z",fill:e.color,stroke:"black",strokeWidth:"2",strokeLinecap:"square"}))),l.createElement("div",{style:{position:"absolute"},className:e.className},t)},b=e=>e.visible?l.createElement(l.Fragment,null,l.createElement(o.Spacing,{multiple:1}),l.createElement("div",{className:h.errorMessage},e.message)):null,w=e=>{const[t,a]=l.useState(!1);return l.createElement("div",{className:`${h.nameTeamModal} ${h.editorWelcomeModal}`},l.createElement(T,null,l.createElement("h1",null,"Welcome to"),l.createElement("div",{className:h.highlight},l.createElement("h1",null,"Figma"))),l.createElement(o.Spacing,{multiple:4}),l.createElement("p",null,"Give your team a name to get started:"),l.createElement(o.Spacing,{multiple:3}),l.createElement("form",{onSubmit:t=>{t.preventDefault(),e.teamName?e.onNext():a(!0)},className:h.inputContainer},l.createElement(m.AuthInput,{className:t?g.invalidInput:"",autoFocus:!0,placeholder:"e.g. Acme Design",value:e.teamName,onChange:t=>e.setTeamName(t.target.value)}),l.createElement(b,{visible:t,message:"This field is required"}),l.createElement(o.Spacing,{multiple:2.5}),l.createElement(i.BrandButtonTracked,null,"Next")),l.createElement(o.Spacing,{multiple:3}),l.createElement(o.LinkTracked,{onClick:e.onSkip},"Do this later"))},M=e=>l.createElement(l.Fragment,null,l.createElement(m.AuthInput,{autoFocus:e.autoFocus,placeholder:"Email",value:e.inviteEmail.email,onChange:t=>e.setEmail(t.target.value),className:e.inviteEmail.error?g.invalidInput:""}),l.createElement(b,{visible:!!e.inviteEmail.error,message:e.inviteEmail.error}),l.createElement(o.Spacing,{multiple:1.5})),x=e=>{return l.createElement("div",{className:`${h.editorWelcomeModal} ${h.inviteCollaboratorsModal}`},l.createElement("h1",null,"Invite collaborators"),l.createElement(o.Spacing,{multiple:2}),l.createElement("p",null,"Figma works best with teammates."),l.createElement("p",null,"Invite collaborators and start working together."),l.createElement(o.Spacing,{multiple:3}),l.createElement("form",{onSubmit:t=>{t.preventDefault(),e.onNext()},className:h.inputContainer},l.createElement(M,{setEmail:e.setEmail.bind(null,0),inviteEmail:e.emails[0],autoFocus:!0}),l.createElement(M,{setEmail:e.setEmail.bind(null,1),inviteEmail:e.emails[1]}),l.createElement(M,{setEmail:e.setEmail.bind(null,2),inviteEmail:e.emails[2]}),l.createElement(o.Spacing,{multiple:1}),l.createElement(i.BrandButtonTracked,null,"Next")),l.createElement(o.Spacing,{multiple:3}),l.createElement(o.LinkTracked,{onClick:e.onSkip},"Skip this step"),l.createElement(_,{direction:"down",color:"#FFC700",className:h.pointerTopLeft}),l.createElement(_,{direction:"up-left",color:"#FF8577",className:h.pointerTopRight}),l.createElement(_,{direction:"up-left",color:"#907CFF",className:h.pointerBottomRight}),l.createElement(_,{direction:"up-right",color:"#699BF7",className:h.pointerBottomLeft}))},B=e=>l.createElement("div",{className:h.planItem},l.createElement(c.Svg,{svg:L,className:h.checkIcon}),l.createElement("p",null,e.children)),y=e=>l.createElement("div",{className:`${h.editorWelcomeModal} ${h.choosePlanModal}`},l.createElement("h1",null,"Choose a plan for your team"),l.createElement(o.Spacing,{multiple:4}),l.createElement("div",{className:h.plansContainer},l.createElement("div",{className:h.planBox},l.createElement(o.Spacing,{multiple:4}),l.createElement("h2",null,"Starter"),l.createElement("h3",null,"Free up to 2 editors"),l.createElement(o.Spacing,{multiple:3}),l.createElement(B,null,"3 projects"),l.createElement(B,null,"30-day version history"),l.createElement(B,null,"Unlimited cloud storage"),l.createElement(o.Spacing,{multiple:9}),l.createElement(s.ButtonTracked,{className:h.starterButton,onClick:e.onChooseStarter},"Choose Starter")),l.createElement(o.Spacing,{direction:"x",multiple:1.5}),l.createElement("div",{className:`${h.planBox} ${h.proPlan}`},l.createElement(o.Spacing,{multiple:4}),l.createElement("h2",null,"Professional"),l.createElement("h3",null,"$12 per editor/mo."),l.createElement(o.Spacing,{multiple:3}),l.createElement(B,null,"Unlimited projects"),l.createElement(B,null,"Unlimited version history"),l.createElement(B,null,"Custom file/user permissions"),l.createElement(B,null,"Invite-only private projects"),l.createElement(B,null,"Shareable team libraries"),l.createElement(o.Spacing,{multiple:4}),l.createElement(s.ButtonTracked,{className:h.proButton,onClick:e.onChooseProfessional},"Choose Professional"),l.createElement(C,null))),l.createElement(N,null)),A=e=>l.createElement("div",{className:`${h.editorWelcomeModal} ${h.completionModal}`},l.createElement("h1",null,"You're all set!"),l.createElement(o.Spacing,{multiple:2}),l.createElement("p",null,"Let us show you some of the things that make Figma special and different from other design tools."),l.createElement(o.Spacing,{multiple:3}),l.createElement("div",{className:h.showMeAroundButton},l.createElement(i.BrandButtonTracked,{onClick:e.onShowMeAround},"Show me around")),l.createElement(o.Spacing,{multiple:3}),l.createElement(o.LinkTracked,{onClick:e.onSkip},"No, thanks"),l.createElement(N,null));var I;!function(e){e.NAME_TEAM="Name Team Step",e.INVITE_COLLAB="Invite Collaborators Step",e.CHOOSE_PLAN="Choose Plan Step",e.COMPLETE="Completion Step"}(I||(I={}));const O=e=>Object.values(e.teams)[0];t.EditorTeamWelcome={modalType:n.ModalType.WELCOME,trackingContextName:"Editor Team Welcome Modal",userFlag:"welcome_onboarded",element:r.connect(e=>{var t;return{isEmailValidated:!!(null===(t=e.user)||void 0===t?void 0:t.email_validated_at),team:1===Object.keys(e.teams).length&&k.canAdminTeam(O(e).id,e)?O(e):null}},e=>({changeTeamName:(t,a)=>{t&&a&&e(E.team.rename({team:t,name:a}))},sendTeamInvites:(t,a)=>{a.length>0&&e(u.role.sendInvites({emails:a,resourceType:p.ResourceType.TEAM,resourceIdOrKey:t,level:p.PermissionLevel.EDITOR}))}}))(e=>{const[t,a]=l.useState(I.NAME_TEAM),[n,r]=l.useState(""),[i,o]=l.useState([{email:""},{email:""},{email:""}]),m=(e,t)=>{const a=[...i];a[e]={email:t},o(a)},{team:c,onClickPrimaryCta:u}=e;if(l.useEffect(()=>{c||u()},[c,u]),!c)return null;const p=()=>a(I.COMPLETE),E=()=>{const t=e.isEmailValidated?I.INVITE_COLLAB:I.CHOOSE_PLAN;a(t),n&&e.changeTeamName(c,n)},h=()=>a(I.CHOOSE_PLAN),g=()=>{const t=i.map(e=>e.email&&!v.isEmail(e.email)?{email:e.email,error:"Email address doesn't look right "}:{email:e.email});if(o(t),t.some(e=>e.error))return;const a=t.filter(e=>!!e.email).map(e=>e.email);h(),e.sendTeamInvites(c.id,a)},k=()=>{d.redirect(`/files/upgrade-team/${c.id}/choose_plan`,"_blank"),p()};return s.asTrackedElement((()=>{switch(t){case I.NAME_TEAM:return l.createElement(w,{onNext:E,onSkip:e.onClickPrimaryCta,setTeamName:r,teamName:n});case I.INVITE_COLLAB:return l.createElement(x,{onNext:g,onSkip:h,setEmail:m,emails:i});case I.CHOOSE_PLAN:return l.createElement(y,{onChooseStarter:p,onChooseProfessional:k});case I.COMPLETE:return l.createElement(A,{onShowMeAround:e.onClickPrimaryCta,onSkip:e.dismissModal});default:return f.assertNever(t)}})(),t)})}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(1120                                                   ),i=a(1115                                         ),n=a(1119                                              ),d=a(211              ),r=a(1121                                                                     ),_=a(1123                                                                ),s=a(1116                                 ),c=[i.Constraints,i.VectorNetworks,i.Comments,i.Sharing,i.Multiplayer,i.TeamLibrary,i.Export,i.LiveDevicePreview],p=["editor_community_duplicate_onboarded","editor_onboarded","shared_component_library_onboarded","shared_component_publish_onboarded","library_modal_onboarded","styles_onboarded","pdf_onboarded","coco_onboarded","line_height_update_onboarded","gifs_onboarded","opentype_onboarded","smart_animate_onboarded"];t.COMMUNITY_DUPLICATE_DATA_LOADED_EVENT_ID="Community Duplicate Info Loaded";const l=o.welcomeOnboardingSequenceMachine({initialStateId:"show_onboarding",sequence:{get steps(){return d.desktopApp?c:c.concat([i.BackToFileBrowser])},get userFlagsOnComplete(){return p.concat(r.EditorUpdates.map(e=>e.userFlag))}},welcomeSteps:[_.EditorTeamWelcome]}),u=o.awaitEditor("initial","data_check_have_shown_before"),m=o.awaitEditor("reset","show_onboarding"),b={id:"onboard_editor",initialStateId:u.initialStateId,resetStateId:"can_edit_file",states:[...u.states,{id:"can_edit_file",type:"DATA",query:new n.InEditorAndCanEditQuery,transitions:[{operator:"EQUALS",value:!0,destinationStateId:"data_check_have_shown_before"},{operator:"NOT_EQUALS",value:!0,destinationStateId:m.initialStateId}]},...m.states,{id:"data_check_have_shown_before",type:"DATA",query:new n.UserFlagQuery("editor_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"await_duplicate_data"}]},{id:"await_duplicate_data",type:"EVENT",transitions:[{eventId:t.COMMUNITY_DUPLICATE_DATA_LOADED_EVENT_ID,destinationStateId:"data_check_have_shown_duplicate_before",conditions:[{field:"isCommunityFileDuplicate",value:!0,operator:"EQUALS"}]},{eventId:t.COMMUNITY_DUPLICATE_DATA_LOADED_EVENT_ID,destinationStateId:l.initialStateId,conditions:[{field:"isCommunityFileDuplicate",value:!0,operator:"NOT_EQUALS"}]}]},{id:"data_check_have_shown_duplicate_before",type:"DATA",query:new n.UserFlagQuery("editor_community_duplicate_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"data_check_have_welcomed_before"}]},{id:"data_check_have_welcomed_before",type:"DATA",query:new n.UserFlagQuery("welcome_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_editor_onboarding_with_duplicate_welcome"}]},{id:"show_editor_onboarding_with_duplicate_welcome",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[i.CommunityHubFileDuplicate].concat(c),userFlagsOnComplete:p.concat(r.EditorUpdates.map(e=>e.userFlag))}},category:{blocking:"UNTIL_COMPLETE",name:s.RcsCategories.ONBOARDING_MODAL,priority:s.RcsPriorities.DEFAULT_ONBOARDING_MODAL,whenBlocked:"BACK"}},...l.states]};t.default=b}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(108     ),s=i(112          ),l=i(104              ),n=i(669                                      ),r=i(725                                 ),o=i(421                                ),c=i(620                                 ),d=i(692                                 ),p=i(205                             ),f=i(188                               ),u=i(206                             ),m=i(342                                  ),g=i(280                             ),_=i(113                                     ),h=i(172                                              ),w=i(207                                   ),y=i(281                                        ),P=i(93                                   ),F=i(449                                  ),E=i(323                             ),v=i(186                      ),b=i(211              ),S=i(670                               ),I=i(209                ),k=i(119                    ),O=i(118                    ),T=i(923                                                  ),A=i(747                              ),C=i(261                               ),M=i(925                                     ),D=i(215                                          ),L=i(1083                               ),N=i(261                               ),R=i(747                              ),K=i(85                   ),B=i(125                        ),V=i(309                                     ),G=i(1084            ),x=i(926                             ),H=i(930                       ),U=i(175                            ),$=i(312                              ),W=i(306                                          ),Y=i(265                                    ),j=i(316                                   ),z=i(315       ),q=i(284                          ),J=i(786                          ),X=i(1098                                         ),Z=i(689                        ),Q=i(111          ),ee=i(1099                               ),te=i(101                             ),ie=i(647                                        ),ae=i(306                                          ),se=i(310                                               ),le=i(134                               ),ne=i(317                       ),re=i(1104                                                                     ),oe=i(109                                                           ),ce=i(1124                                                             ),de=i(731                     );function pe(e){return e&&e.startsWith(te.SELECTION_PAINT_PICKER_ID)}function fe(e){return e&&e.startsWith(te.SELECTION_STYLE_PICKER_ID)}function ue(e){return se.fullscreenLoadTimer.timeAsync(()=>a.default.get(`/api/file_metadata/${e}`),"fileMetadataRequestStart","fileMetadataRequestEnd")}t.pickerIsSelectionPaintPicker=pe,t.pickerIsSelectionStylePicker=fe;const me=/^\/file\/([0-9a-zA-Z]{22,128})(?:\/|$)/.exec(location.pathname);let ge=null,_e=null;var he;me&&(ge=me[1],_e=ue(ge)),function(e){function t(e,t){const i=JSON.stringify(history.state&&history.state.previousSelectedView||{});v.trackEventForFile("File Opened",e.key,t,{randomID:W.getRandomID(),prevView:i})}function i(){return new Promise(()=>{})}function l(e,t){t.list=j.normalizeFontInfoList(t.list),e.dispatch(w.fullscreen.updateFontList(t)),D.fullscreen.DEPRECATED_sendMessage("updateFontList",t)}e.trackFileView=t,e.createNewFile=async function(e,t,i){let s;if(K.getFeatureFlags().branching_and_merging){const i=await a.default.post("/api/branches",t,{retryCount:2});s=i.data.meta.file,e.dispatch(E.repoActions.post({repo:i.data.meta.repo}))}else s=(await a.default.post("/api/files",t,{retryCount:2})).data.meta;e.dispatch(g.file.put({file:s}));const l=i?{uiTriggeredFrom:i.from,uiSelectedView:JSON.stringify(i.selectedView)}:{};return v.trackEventForFile("File Created",s.key,e.getState(),l),s},e.loadFile=async function(e,i){let s=e.getState(),n=s.selectedView,r=n&&"fullscreen"===n.view;if(!r)return;mpGlobal.preconnect(mpGlobal.url({fileKey:i.key,role:"editor"})),L.FullscreenBindingsImpl.startFetchingFontList(),await D.fullscreen.loadAndStartFullscreenIfNecessary();const o=a.default.get(`/api/file_metadata/${i.key}`);let c;try{c=await o}catch(f){throw new Error(`Calling "/api/file_metadata/:file_key" failed with status ${f&&f.status}`)}if(!(r=(n=(s=e.getState()).selectedView)&&"fullscreen"===n.view))return;t(i,s);const d=JSON.parse(c.response);if(d.error)throw new Error(d.message);const p=d.meta;l(e,{list:p.shared_fonts.map(z.sharedFontMetadataToFontInfo),localizedToUnlocalized:[],sources:[C.FontSource.SHARED]}),e.dispatch(w.fullscreen.setNeedsUpgrade({needsUpgrade:p.needs_upgrade})),D.fullscreen.fileLoaded(i.key),D.fullscreen.DEPRECATED_sendMessage("openFileWithServerMetadata",{metadata:p,canEditFile:!0,startInCommentsMode:!1,newFile:!0,tracking_session_id:K.default().tracking_session_id}),e.dispatch(w.fullscreen.newFileLoaded({file:i}))},e.loadBlankFile=async function(e){e.dispatch(w.fullscreen.setProgressBarMode({mode:q.ProgressBarMode.OFF})),await D.fullscreen.loadAndStartFullscreenIfNecessary(),A.setPropertiesPanelTab(C.PropertiesPanelTab.DESIGN),D.fullscreen.DEPRECATED_sendMessage("openEmptyFile")},e.handleFullscreenMetadataResponse=async function(e,t){var a,n;let r=t.getState(),o=JSON.parse(e.response);if(o.error)throw new Error(o.message);let c=o.meta;const d=K.getFeatureFlags(),p=c.feature_flags;if(t.dispatch(w.fullscreen.setNeedsUpgrade({needsUpgrade:c.needs_upgrade})),c.script!==Fig.fullscreenScriptHash&&(console.log(`reloading because ${c.script} != ${Fig.fullscreenScriptHash}`),s.locationReload(`Fullscreen version mismatch: ${c.script} != ${Fig.fullscreenScriptHash}`),await i()),p&&(d.reload_when_feature_flags_change||p.reload_when_feature_flags_change)){const e=function(e,t){for(const i of[t,e])for(const a in i)if(!!e[a]!=!!t[a])return`${a} changed to ${!!t[a]}`;return null}(d,p);null!==e&&(console.log(`reloading because of a feature flag change: ${e}`),s.locationReload(`Feature flag change: ${e}`),await i())}await D.fullscreen.loadAndStartFullscreenIfNecessary();let f,u=I.getEditingFile(r),m=!u||B.canEditFile(u.key,r),g=!1,_=null,h=null,y=void 0;const{selectedView:P}=r;if("fullscreen"!==P.view)throw new Error("Handling fullscreen metadata response not in a valid fullscreen state");(null!=P.commentThreadId||P.showCommentPreferencesPicker)&&(g=!0),(null==u?void 0:u.thumbnail_guid)&&D.fullscreen.updateAppModel({thumbnailNodeId:u.thumbnail_guid}),P.showInspectPanel?A.setPropertiesPanelTab(C.PropertiesPanelTab.CODE):g||ne.userStatePromise.then(()=>{r=t.getState(),u&&B.canEditFile(u.key,r)?A.setPropertiesPanelTab(C.PropertiesPanelTab.DESIGN):A.setPropertiesPanelTab(C.PropertiesPanelTab.CODE)}),_=null!==(a=P.integrationId)&&void 0!==a?a:null,h=null!==(n=P.integrationParams)&&void 0!==n?n:null,P.nodeId&&(y=P.nodeId),P.viewport&&(f=P.viewport);const F={list:c.shared_fonts.map(z.sharedFontMetadataToFontInfo),localizedToUnlocalized:[],sources:[C.FontSource.SHARED]};l(t,F),P.versionId&&t.dispatch(w.fullscreen.setProgressBarMode({mode:q.ProgressBarMode.ON_AND_LOCKED})),oe.sendEventToResponsiveContentHandler({id:ce.COMMUNITY_DUPLICATE_DATA_LOADED_EVENT_ID,properties:{isCommunityFileDuplicate:c.is_community_duplicate}}),se.fullscreenLoadTimer.time(()=>D.fullscreen.DEPRECATED_sendMessage("openFileWithServerMetadata",{metadata:c,canEditFile:m,startInCommentsMode:g,integrationId:_,integrationParams:h,selectedNodeId:y,urlViewport:f,additionalTopPadding:r.user?void 0:X.LOGGED_OUT_FILE_BANNER_PADDING,tracking_session_id:K.default().tracking_session_id}),"openFileWithMetadataStart","openFileWithMetadataEnd")},e.openFramePreset=async function(e){const t=e&&re.remoteWorkTemplatePresetsByName[e];if(t){const e=`${t.name} -`;N.Fullscreen.createFrame(e,t.width,t.height),D.fullscreen.triggerAction("zoom-to-fit"),C.PrototypingHelpers.updateCurrentPagePrototypeDeviceIfNecessary()}}}(he||(he={}));const we=new Map([["snapToPixelGrid",e=>({message:"Snap to pixel grid "+(e?"enabled":"disabled")})],["snapToGeometry",e=>({message:"Snap to geometry "+(e?"enabled":"disabled")})],["snapToObjects",e=>({message:"Snap to objects "+(e?"enabled":"disabled")})],["renderGrid",e=>({message:"Pixel grid "+(e?"visible":"hidden")})],["hideMultiplayerCursors",e=>({message:"Multiplayer cursors "+(e?"hidden":"visible")})],["activeCanvasPixelPreview",(e,t)=>({message:"Pixel preview "+(e?"enabled ("+(t.activeCanvasRetinaMode?"2x":"1x")+")":"disabled")})],["showMasks",e=>({message:"Mask outlines "+(e?"visible":"hidden")})],["showOutlines",e=>({message:"Outlines "+(e?"visible":"hidden")})],["avocodeIntegration",e=>e?null:{message:"Avocode Integration disabled"}],["showFrameGrids",(e,t,i)=>t.showFrameGridsForced?(D.fullscreen.updateAppModel({showFrameGridsForced:!1}),{message:"Layout grids visible",button:{text:"Hide",action:e=>{e.stopPropagation(),i.dispatch(h.visualBell.dequeue({})),D.fullscreen.updateAppModel({showFrameGrids:!1})}}}):{message:"Layout grids "+(e?"visible":"hidden")}],["showFrameGridsViewOnly",e=>({message:"Layout grids "+(e?"visible":"hidden")})]]);let ye=0;t.default=(e=>t=>(function(i){if(V.updateRecentAction(i.type),_.fileBrowser.init.matches(i))return L.initializeFullscreenBindings(K.default().user_data,e),t(i);if(w.fullscreen.trackEvent.matches(i)){const t=e.getState(),a=i.payload.params||{},{fileKey:s}=t.selectedView;v.trackEventForFile(i.payload.name,null!=s?s:null,t,a)}else{if(_.fileBrowser.selectView.matches(i)){const a=e.getState(),s=a.selectedView,l=i.payload,n=t(i);if("fullscreen"===s.view&&"fullscreen"!==l.view)e.dispatch(w.fullscreen.close());else if("fullscreen"!==s.view&&"fullscreen"===l.view){if(G.webGLSupport()!==G.WebGLTestResult.SUCCESS)return a.user&&!b.desktopApp&&e.dispatch(_.fileBrowser.selectView({view:"recentFiles"})),void e.dispatch(_.fileBrowser.showModal({type:ee.WEBGL_ERROR_MODAL,data:G.webGLSupport()}));l.fileKey&&(l.preloaded?he.loadFile(e,a.fileByKey[l.fileKey]):(e.dispatch(w.fullscreen.open({file:a.fileByKey[l.fileKey],selectedNodeId:l.nodeId})),D.fullscreen.fileLoaded(l.fileKey)))}else if("fullscreen"===s.view&&"fullscreen"===l.view)if(l.fileKey&&s.fileKey!==l.fileKey)e.dispatch(w.fullscreen.close()),e.dispatch(w.fullscreen.open({file:a.fileByKey[l.fileKey]}));else if(s.fileKey&&!l.fileKey)throw new Error("selectView(...) was called with { view: 'fullscreen', fileKey: undefined } while a file was already open. We don't handle this case.");return n}if(w.fullscreen.new_.matches(i)){if(D.fullscreen.resetLoadedFile(),Date.now()-ye<600)return;ye=Date.now();let a=i.payload,n={};if(a.folder_id&&(n.folder_id=a.folder_id),a.org_id&&(n.org_id=a.org_id),a.framePresetName&&(n.frame_preset_name=a.framePresetName),a.openInNewTab&&!b.desktopApp){const e=l.encode(n);s.redirect(`/file/new${e?"?"+e:""}`,"_blank")}else b.desktopApp?he.createNewFile(e,n,a.trackingInfo).then(t=>{e.dispatch(_.fileBrowser.selectView({view:"fullscreen",fileKey:t.key,newFile:!0,framePresetName:a.framePresetName}))}).catch(t=>{const i=t.message?t.message:"An error occurred while creating a new document.";e.dispatch(P.flash.error(i))}):(he.loadBlankFile(e).then(()=>he.createNewFile(e,n,a.trackingInfo)).then(t=>he.loadFile(e,t)).catch(t=>{const i=t.message?t.message:"An error occurred while creating a new document.";e.dispatch(P.flash.error(i)),e.dispatch(_.fileBrowser.selectView({view:"recentFiles"}))}),e.dispatch(_.fileBrowser.selectView({view:"fullscreen",fileKey:void 0,framePresetName:a.framePresetName})));return t(i)}if(w.fullscreen.open.matches(i)){if(D.fullscreen.resetLoadedFile(),G.webGLSupport()!==G.WebGLTestResult.SUCCESS)throw new Error("webGLSupport() call failed but we're opening fullscreen. Don't dispatch fullscreen.open() directly - use selectView instead.");let a=e.getState(),n=a.user,r=i.payload.file;if(!$.isAllowedToLoadFullscreen){if(!r)return;s.redirect(r.url)}return(async()=>{var t;try{let c,d;r&&(v.trackEventForFile("Fullscreen File Opened",r.key,e.getState(),{randomID:W.getRandomID()}),se.fullscreenLoadTimer.logOpenFileAction(r.key),H.setFileMeta(r.url,r.name),null===(t=de.getAutosave())||void 0===t||t.checkForSessionsToRestore()),mpGlobal.preconnect(mpGlobal.url({fileKey:r.key,role:"editor"})),L.FullscreenBindingsImpl.startFetchingFontList(),c=_e&&ge===r.key?_e:ue(r.key),_e=null,ge=null;try{d=await c}catch(i){throw new Error(`Calling "/api/file_metadata/:file_key" failed with status ${i&&i.status}`)}await he.handleFullscreenMetadataResponse(d,e),he.trackFileView(r,a),r&&n&&void 0===l.parse(window.location.search).embed_host&&s.promiseTabVisibility().then(()=>{setTimeout(()=>{r.key===e.getState().editingFileKey&&e.dispatch(g.file.markViewed({file:r}))},4e3)})}catch(o){ae.showFatalFlash("An error occurred while opening the editor",e.dispatch),setTimeout(()=>{throw o})}})(),t(i),
// The license agreement modal takes precedence over the unsupported browser modal
r&&T.needsLicenseAgreement(r)&&e.dispatch(_.fileBrowser.showModal({type:T.LICENSE_AGREEMENT_MODAL})),null}if(_.fileBrowser.handleUrlParamsForCurrentView.matches(i)){const a=e.getState();if(a.editingFileKey){const t=l.parse(i.payload.params||"")["node-id"],s=t?a.mirror.sceneGraph.get(t):null;if(null!=s){const i="NONE"!==s.styleType,l="SYMBOL"===s.type,n=s.parent&&a.mirror.sceneGraph.get(s.parent);if(i){const e=a.library.local.styles[t];N.Fullscreen.selectStyle(e.key,e.content_hash)}else l&&n&&"CANVAS"===n.type&&!n.visible?B.canEditFile(a.editingFileKey,a)&&e.dispatch(_.fileBrowser.showModal({type:U.RESTORE_COMPONENT_MODAL,data:{nodeId:t}})):(R.clearSelection(),R.addToSelection([t]),D.fullscreen.panToNode(t))}const n=i.payload.hash;if(n){const t=n.substr(1),{selectedView:i}=e.getState();"fullscreen"!==i.view&&"prototype"!==i.view||(e.dispatch(_.fileBrowser.selectView(Object.assign(Object.assign({},i),{commentThreadId:t}))),"fullscreen"===i.view?D.fullscreen.triggerAction("set-tool-comments"):e.dispatch(m.prototype.showComments()))}}return t(i)}if(w.fullscreen.close.matches(i))return e.dispatch(w.fullscreen.hidePicker()),D.fullscreen.isReady()&&(D.fullscreen.DEPRECATED_sendMessage("fullscreenWasClosed"),J.terminateCurrentPlugin("The editor was closed")),t(i);if(w.fullscreen.attemptClose.matches(i)){e.dispatch(d.comments.reset());let a=e.getState(),s=I.getEditingFile(a),l={view:"recentFiles"};return s&&O.canAccessFolder(a.folders,s.folder_id)&&(l={view:"folder",folderId:s.folder_id}),D.fullscreen.dispatchIfSaved(_.fileBrowser.selectView(l)),V.onDocumentSwitch(),H.resetSession(),t(i)}if(w.fullscreen.handlePopState.matches(i)){let a=e.getState();return a.saveStatus&&a.saveStatus.hasUnsavedChanges?(D.fullscreen.DEPRECATED_sendMessage("tabCloseWasAttempted"),confirm(a.saveStatus.tabCloseText)?e.dispatch(_.fileBrowser.selectView(Object.assign(Object.assign({},i.payload.newSelectedView),{fromPopstate:!0}))):e.dispatch(_.fileBrowser.selectView(i.payload.oldSelectedView))):e.dispatch(_.fileBrowser.selectView(Object.assign(Object.assign({},i.payload.newSelectedView),{fromPopstate:!0}))),t(i)}if(u.team.put.matches(i)||g.file.put.matches(i)||f.folder.put.matches(i)||p.role.batchPut.matches(i)||p.role.put.matches(i)||p.role.post.matches(i)||p.role.del.matches(i)||c.orgUser.put.matches(i)){let a=e.getState();if(a.editingFileKey&&a.selectedView&&"fullscreen"===a.selectedView.view&&a.userStateLoaded){if(a.user){let l=B.canEditFile(a.editingFileKey,a),n=B.canViewFile(a.editingFileKey,a);t(i);let r=(a=e.getState()).editingFileKey&&B.canEditFile(a.editingFileKey,a),o=a.editingFileKey&&B.canViewFile(a.editingFileKey,a);return void(l===r&&n===o||s.locationReload("Access changed",{key:a.editingFileKey}))}if(g.file.put.matches(i)&&i.payload.file.link_access!==k.LinkAccess.VIEW&&i.payload.file.link_access!==k.LinkAccess.EDIT)return void s.locationReload("Link access removed",{key:a.editingFileKey})}return t(i)}if(g.file.deleteFiles.matches(i)){let a=e.getState();return a.user?a.editingFileKey&&i.payload.fileKeys[a.editingFileKey]&&!b.desktopApp&&e.dispatch(_.fileBrowser.selectView({view:"recentFiles"})):s.locationReload("File deleted",{key:a.editingFileKey}),t(i)}if(_.fileBrowser.showDropdown.matches(i)){e.dispatch(o.tooltip.hide());let a=!1;if(i.payload.type===te.DROPDOWN_TYPE_CANVAS_CONTEXT_MENU){const t=i.payload.data.clientX,s=i.payload.data.clientY;null!=t&&null!=s&&(e.dispatch(w.fullscreen.setMostRecentContextMenuClickPosition({x:t,y:s})),a=!0)}return a||e.dispatch(w.fullscreen.setMostRecentContextMenuClickPosition(null)),t(i)}if(w.fullscreen.enterVersionHistoryMode.matches(i))return D.fullscreen.triggerAction("enter-history-mode"),t(i);if(w.fullscreen.updateMirror.matches(i)){const a=i.payload.appModelChanges,s=e.getState(),l=s.mirror&&s.mirror.appModel||null;if(i.payload.selection){let t=s.pickerShown;if(t){let i=a&&a.shownPropertiesPanels||l.shownPropertiesPanels;i&&i[C.PropertiesPanelType.TYPE_ITEM]&&(t.id===te.FONT_PICKER_ID||t.id===te.TYPE_PANEL_ID)||e.dispatch(w.fullscreen.hidePicker())}M.paintCache.clearCache()}return a&&l.isInitialized&&(function(e,t,i){if(null==e.saveAsState.startTime)return;const a=e.mirror&&e.mirror.appModel||null;if(null==a)return;function s(e){return null!=t[e]?t[e]:a[e]}const l=s("imageTotalCount"),n=s("imageDecodedOrFailedCount");i(r.progress.set({key:"save-as",progress:n/l})),n==l&&i(w.fullscreen.beginSaveAs({skipped:!1}))}(s,a,e.dispatch),function(e,t,i){if(e&&e.isInitialized)for(const a in t){const s=we.get(a);if(!s)continue;const l=t[a],n=e[a];if(void 0===n||l===n)continue;const r=s(l,Object.assign(Object.assign({},e),t),i);if(r){i.dispatch(h.visualBell.enqueue(Object.assign({type:"settings_changed"},r)));break}}}(l,a,e)),t(i)}if(w.fullscreen.computeExport.matches(i)){const a=e.getState(),s=S.computeExportItems(a);return e.dispatch(n.exportableItems.setItems({items:s.items,frames:s.frames})),t(i)}if(w.fullscreen.showPicker.matches(i)||w.fullscreen.hidePicker.matches(i)){w.fullscreen.showPicker.matches(i)&&i.payload.id===te.EXPORT_PICKER_ID&&e.dispatch(w.fullscreen.computeExport());const a=e.getState().pickerShown,s=t(i),l=e.getState().pickerShown,n=a&&a.id,r=l&&l.id,o=n!==te.BG_PANEL_COLOR_PICKER_ID&&r===te.BG_PANEL_COLOR_PICKER_ID,c=n===te.BG_PANEL_COLOR_PICKER_ID&&r!==te.BG_PANEL_COLOR_PICKER_ID,d=n!==te.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID&&r===te.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID,p=n===te.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID&&r!==te.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID,f=n!==te.TYPE_PANEL_ID&&r===te.TYPE_PANEL_ID,u=n===te.TYPE_PANEL_ID&&r!==te.TYPE_PANEL_ID,m=!pe(n)&&pe(r),g=pe(n)&&!pe(r),_=!fe(n)&&fe(r),h=fe(n)&&!fe(r);return o?D.fullscreen.updateAppModel({backgroundPickerOpen:!0}):c?D.fullscreen.updateAppModel({backgroundPickerOpen:!1}):d?D.fullscreen.updateAppModel({prototypeBackgroundPickerOpen:!0}):p?D.fullscreen.updateAppModel({prototypeBackgroundPickerOpen:!1}):f?(D.fullscreen.updateAppModel({typeDetailsPanelOpen:!0}),Q.segment.track("Type Details Panel Opened")):u&&D.fullscreen.updateAppModel({typeDetailsPanelOpen:!1}),m?C.SelectionPaintHelpers.setIsPaintPickerOpen(!0):g&&C.SelectionPaintHelpers.setIsPaintPickerOpen(!1),_?C.SelectionPaintHelpers.setIsStylePickerOpen(!0):h&&C.SelectionPaintHelpers.setIsStylePickerOpen(!1),g&&e.dispatch(ie.selectionPaintActions.updateCurrentSelectionPaintInPicker({paintId:void 0,originalPaint:void 0,updatedPaintFromDropper:void 0})),s}if(_.fileBrowser.showModal.matches(i)&&i.payload.type===U.FONT_INSTALLER_MODAL)e.dispatch(F.userFlags.post({flags:{completed_font_installer_modal:!0}}));else if(w.fullscreen.updateMultiplayerState.matches(i))void 0!==i.payload.allUsers&&V.setMultiplayerUserCount(i.payload.allUsers.length);else if(w.fullscreen.documentLoaded.matches(i)){let t=e.getState();t.editingFileKey&&(V.onDocumentLoad(t.editingFileKey),se.fullscreenLoadTimer.report(t.editingFileKey));const i=t.selectedView;i.fileKey&&i.versionId&&a.default.get(`/api/versions/${i.fileKey}/${i.versionId}`).then(t=>{e.dispatch(w.fullscreen.enterVersionHistoryMode()),e.dispatch(y.versionHistory.setLinkedVersion({version:t.data.meta}))}).catch(t=>{e.dispatch(w.fullscreen.enterVersionHistoryMode()),e.dispatch(P.flash.error(t.data.message)),e.dispatch(w.fullscreen.setProgressBarMode({mode:q.ProgressBarMode.OFF}))}),i&&i.fileKey&&i.showCommentPreferencesPicker&&e.dispatch(w.fullscreen.showPicker({id:Z.COMMENT_PREFERENCE_ID})),i&&i.framePresetName&&he.openFramePreset(i.framePresetName);const s=le.experiment("exp_comments_default_viewers_v2").defaultValue(!1).treatment("variant",!0).get();ne.userStatePromise.then(()=>{(t=e.getState()).user&&i.fileKey&&!B.canEditFile(i.fileKey,t)&&s&&D.fullscreen.triggerAction("set-tool-comments")})}else w.fullscreen.beginSaveAs.matches(i)?(J.terminateCurrentPlugin("Saving the document"),e.dispatch(h.visualBell.clearAll()),e.dispatch(h.visualBell.enqueue({type:"save-as-actual",message:"Saving…",icon:Y.VisualBellIcon.SPINNER})),setTimeout(()=>{D.fullscreen.triggerAction("save-as",{source:"menu"}),e.dispatch(h.visualBell.dequeue({type:"save-as-actual"}))},50)):w.fullscreen.openHyperlink.matches(i)&&x.handleUserClickOnHyperlink(i.payload.urlString,e.getState(),e.dispatch)}return t(i)})),t.handleFullscreenMetadataResponse=he.handleFullscreenMetadataResponse,t.loadBlankFile=he.loadBlankFile,t.openFramePreset=he.openFramePreset}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(673                                          ),s=o(88           ),a=o(674                                  );e.keyboardShortcutMiddleware=(t=>e=>(function(o){if(!r.keyboardShortcut.usedKeyboardShortcut.matches(o))return e(o);{const r=t.getState().usedKeyboardShortcuts;e(o);const c=t.getState().usedKeyboardShortcuts;r!==c&&c&&s.localStorageOrNull&&s.localStorageOrNull.setItem(a.USED_KEYBOARD_SHORTCUTS_LOCAL_STORAGE_KEY,JSON.stringify(c))}}))}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.COOKIE="figma.pc",o.deletePromoCodeCookie=function(){const e=`${o.COOKIE}=; domain=${window.location.hostname}; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 UTC;`;document.cookie=e}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(206                             ),s=a(609                                   ),n=a(171                                ),d=a(113                                     ),m=a(93                                   ),p=a(108     ),o=a(135                     ),r=a(125                        ),c=a(444                       ),l=a(1127                   ),u=a(186                      );e.paymentsMiddleware=(t=>e=>(function(a){if(d.fileBrowser.selectView.matches(a)&&("teamUpgrade"===a.payload.view||"addAnnualPlan"===a.payload.view)){const i=a.payload.teamId,m=t.getState(),p=m.teams[i],c=!o.isTeamPro(p)||o.isProTrialActive(p);return r.canAdminTeam(i,m)||r.canEditTeam(i,m)&&c?(null!=m.selectedView&&"teamUpgrade"===m.selectedView.view&&m.selectedView.teamId===i||(t.dispatch(n.payment.init({numAnnualEditors:p.editors})),p.editors>1&&t.dispatch(s.teamAdmin.fetchEditors({teamId:p.id}))),void e(a)):void t.dispatch(d.fileBrowser.selectView({view:"team",teamId:i}))}if(n.payment.startProUpgradeFlow.matches(a)){const{teamId:i,selectedView:s,newTeam:n}=a.payload;return t.dispatch(d.fileBrowser.selectView({view:"teamUpgrade",teamId:i,paymentStep:c.PaymentStep.CHOOSE_PLAN,cartStep:n?c.CartStep.FORM:c.CartStep.PLANS,previousView:s})),e(a)}if(n.payment.confirmStudentTeamFlow.matches(a)){const{teamId:i,selectedView:s}=a.payload;return t.dispatch(d.fileBrowser.selectView({view:"teamUpgrade",teamId:i,paymentStep:c.PaymentStep.CONFIRM_STUDENT_TEAM,previousView:s})),e(a)}if(n.payment.submitPaymentAndAddress.matches(a)){e(a);const{teamId:i,address:s,token:m}=a.payload,o=t.getState(),r=o.selectedView,l={source_token:m.id,address:s,annual_quantity:o.payment.numAnnualEditors,monthly_quantity:o.payment.numMonthlyEditors};t.dispatch(n.payment.showError({error:null})),p.default.post(`/api/subscriptions-2018-11-08/team/${i}/token`,l).then(({data:e})=>{const{estimate:a}=e.meta;t.dispatch(n.payment.setSubmitPending({submitPending:!1})),t.dispatch(n.payment.setTaxes({taxes:a})),t.dispatch(d.fileBrowser.selectView({view:"teamUpgrade",teamId:i,paymentStep:c.PaymentStep.CONFIRM_PAY,previousView:r.previousView})),u.trackEventForTeam("Payment Information Submitted",i,o,{subscription_amount:a.sub_total,taxes_amount:a.tax_total,total_amount:a.total})}).catch(e=>{t.dispatch(n.payment.setSubmitPending({submitPending:!1})),t.dispatch(n.payment.showError({error:e.data.message})),t.dispatch(d.fileBrowser.selectView({view:"teamUpgrade",teamId:i,paymentStep:c.PaymentStep.PAYMENT_AND_ADDRESS,previousView:r.previousView}))})}else if(n.payment.submitConfirmAndPay.matches(a)){const{teamId:e,numAnnualEditors:s,numMonthlyEditors:r,promo:l}=a.payload,u={annual_quantity:s||0,monthly_quantity:r||0,promo_code:l?l.code:null},h=t.getState(),y=h.selectedView,w=h.payment.upgradingNewTeam;p.default.post(`/api/subscriptions-2018-11-08/team/${e}`,u).then(({data:a})=>{const s=a.meta&&a.meta.team;t.dispatch(n.payment.setSubmitPending({submitPending:!1})),s&&t.dispatch(i.team.put({team:s,userInitiated:!1})),w?t.dispatch(d.fileBrowser.selectView({view:"team",teamId:e})):t.dispatch(d.fileBrowser.selectView({view:"teamAdmin",teamId:e})),t.dispatch(m.flash.flash("Successfully upgraded to a Professional Team!")),l&&t.dispatch(n.payment.setPromo({promo:null}))}).catch(a=>{if(t.dispatch(n.payment.setSubmitPending({submitPending:!1})),a.data&&a.data.message){const i=()=>{t.dispatch(d.fileBrowser.selectView({view:"teamUpgrade",teamId:e,paymentStep:c.PaymentStep.PAYMENT_AND_ADDRESS,previousView:y.previousView}))};return"PROMO_CODE"===a.data.reason?(t.dispatch(n.payment.setPromo({promo:null})),i(),void t.dispatch(n.payment.showError({error:a.data.message}))):"CARD_ERROR"===a.data.reason?(t.dispatch(n.payment.setToken({token:null})),i(),void t.dispatch(n.payment.showError({error:a.data.message}))):void t.dispatch(m.flash.error(a.data.message))}o.contactSupportFlash(a,t.dispatch)})}else if(n.payment.submitConfirmAddAnnual.matches(a)){const{teamId:e,numAnnualEditors:s}=a.payload,r={annual_quantity:s||0};p.default.put(`/api/subscriptions-2018-11-08/team/${e}`,r).then(({data:a})=>{const s=a.meta&&a.meta.team;s&&t.dispatch(i.team.put({team:s,userInitiated:!1})),t.dispatch(d.fileBrowser.selectView({view:"teamAdmin",teamId:e})),t.dispatch(m.flash.flash("Successfully added an annual plan.")),t.dispatch(n.payment.setSubmitPending({submitPending:!1}))}).catch(e=>{t.dispatch(n.payment.setSubmitPending({submitPending:!1})),e.data&&e.data.message?t.dispatch(m.flash.error(e.data.message)):o.contactSupportFlash(e,t.dispatch)})}else{if(n.payment.putAnnualQuantity.matches(a)){const i=a.payload.teamId,m={annual_quantity:a.payload.annualQuantity};return p.default.put(`/api/subscriptions-2018-11-08/team/${i}`,m).then(({data:e})=>{t.dispatch(s.teamAdmin.initBillingDetails({teamId:i})),t.dispatch(d.fileBrowser.hideModal()),t.dispatch(n.payment.setSubmitPutAnnualQuantityPending({submitPending:!1}))}).catch(e=>{o.contactSupportFlash(e,t.dispatch),t.dispatch(n.payment.setSubmitPutAnnualQuantityPending({submitPending:!1}))}),e(a)}if(n.payment.makeStudentTeam.matches(a))return p.default.put(`/api/teams/${a.payload.teamId}/student_team`,{student_team:!0}).then(()=>{t.getState().payment.upgradingNewTeam?t.dispatch(d.fileBrowser.selectView({view:"team",teamId:a.payload.teamId})):t.dispatch(d.fileBrowser.selectView({view:"teamAdmin",teamId:a.payload.teamId})),t.dispatch(m.flash.flash("Successfully upgraded to an Education Team!")),t.dispatch(n.payment.setSubmitPending({submitPending:!1}))}).catch(e=>{o.contactSupportFlash(e,t.dispatch),t.dispatch(n.payment.setSubmitPending({submitPending:!1}))}),e(a);if(n.payment.downgrade.matches(a)){const n=a.payload.teamId,d=t.getState().teams[n];return d.student_team?p.default.put(`/api/teams/${n}/student_team`,{student_team:!1}).then(()=>{t.dispatch(s.teamAdmin.initBillingDetails({teamId:n})),t.dispatch(m.flash.flash("Successfully downgraded to a Starter Team."))}).catch(e=>o.contactSupportFlash(e,t.dispatch)):p.default.del(`/api/subscriptions-2018-11-08/team/${n}`).then(({data:e})=>{const a=e.meta&&e.meta.team;a&&t.dispatch(i.team.put({team:a,userInitiated:!1})),t.dispatch(s.teamAdmin.initBillingDetails({teamId:n})),t.dispatch(m.flash.flash(`Team "${d.name}" will be downgraded at the end of the current subscription period.`,8e3))}).catch(e=>o.contactSupportFlash(e,t.dispatch)),e(a)}n.payment.setPromo.matches(a)&&(a.payload.promo||l.deletePromoCodeCookie())}return e(a)}))}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const c=a(602                             ),i=a(113                                     ),s=a(206                             );e.cartMiddleware=(t=>e=>(function(a){const{selectedView:r}=t.getState();if(c.cart.cartStep.matches(a)){const{cartStep:e}=a.payload;t.dispatch(i.fileBrowser.selectView({view:"teamUpgrade",teamId:r.teamId,cartStep:e}))}if(c.cart.teamSubscribed.matches(a)){const{team:e}=a.payload;t.dispatch(s.team.put({team:e,userInitiated:!1}))}return e(a)}))}),
(function(r,o,p){r.exports={background:"prototype--background--DpPNr",documentationContainer:"prototype--documentationContainer--JPUjj",wrapper:"prototype--wrapper--KZ5DX",wrapperFullScale:"prototype--wrapperFullScale--2bU4j prototype--wrapper--KZ5DX",viewer:"prototype--viewer--W7Z-5",commentsCursor:"prototype--commentsCursor--1-h6N"}}),
(function(n,e,o){n.exports={reconnectingModal:"reconnecting_modal--reconnectingModal--1Txu_","multiplayer-reconnecting-animation":"reconnecting_modal--multiplayer-reconnecting-animation--1gNZI",reconnectingModalFlash:"reconnecting_modal--reconnectingModalFlash--31Bvx"}}),
(function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=c(2,1    ),a=c(1131                      );n.ReconnectingModal=function(){return t.createElement("div",{className:a.reconnectingModal},t.createElement("div",{className:a.reconnectingModalFlash},"Loading..."))}}),
(function(e,t,i){var n,r;n=this,r=function(e){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.frequently=t.store=t.emojiIndex=t.Category=t.Emoji=t.Picker=void 0;var n=i(1);Object.defineProperty(t,"Picker",{enumerable:!0,get:function(){return n.Picker}}),Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return n.Emoji}}),Object.defineProperty(t,"Category",{enumerable:!0,get:function(){return n.Category}});var r=o(i(165)),s=o(i(133)),a=o(i(121));function o(e){return e&&e.__esModule?e:{default:e}}t.emojiIndex=r.default,t.store=s.default,t.frequently=a.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2);Object.defineProperty(t,"Anchors",{enumerable:!0,get:function(){return d(n).default}});var r=i(120);Object.defineProperty(t,"Category",{enumerable:!0,get:function(){return d(r).default}});var s=i(136);Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return d(s).default}});var a=i(159);Object.defineProperty(t,"Picker",{enumerable:!0,get:function(){return d(a).default}});var o=i(163);Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return d(o).default}});var u=i(164);Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return d(u).default}});var f=i(169);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Skins",{enumerable:!0,get:function(){return d(f).default}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=F(i(3)),r=F(i(56)),s=F(i(60)),a=F(i(61)),o=F(i(65)),u=F(i(86)),f=F(i(94)),d=F(i(95)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(104));function F(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){(0,s.default)(this,t);var i=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),a=null,u=!0,f=!1,d=void 0;try{for(var l,F=(0,n.default)(e.categories);!(u=(l=F.next()).done);u=!0){var m=l.value;if(m.first){a=m;break}}}catch(h){f=!0,d=h}finally{try{!u&&F.return&&F.return()}finally{if(f)throw d}}return i.state={selected:a.name},i}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=e.categories,i=e.onAnchorClick,n=e.color,r=e.i18n,s=this.state.selected;return f.default.createElement("div",{className:"emoji-mart-anchors"},t.map(function(e,t){var a=e.name,o=e.anchor,u=a==s,d=l[a];return!1===o?null:f.default.createElement("span",{key:a,title:r.categories[a.toLowerCase()],onClick:function(){return i(e,t)},className:"emoji-mart-anchor "+(u?"emoji-mart-anchor-selected":""),style:{color:u?n:null}},f.default.createElement(d,null),f.default.createElement("span",{className:"emoji-mart-anchor-bar",style:{backgroundColor:n}}))}))}}]),t}(f.default.Component);t.default=m,m.propTypes={categories:d.default.array,onAnchorClick:d.default.func},m.defaultProps={categories:[],onAnchorClick:function(){}}},function(e,t,i){e.exports={default:i(4),__esModule:!0}},function(e,t,i){i(5),i(51),e.exports=i(53)},function(e,t,i){i(6);for(var n=i(17),r=i(21),s=i(9),a=i(48)("toStringTag"),o=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var f=o[u],d=n[f],l=d&&d.prototype;l&&!l[a]&&r(l,a,f),s[f]=s.Array}},function(e,t,i){"use strict";var n=i(7),r=i(8),s=i(9),a=i(10);e.exports=i(14)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports={}},function(e,t,i){var n=i(11),r=i(13);e.exports=function(e){return n(r(e))}},function(e,t,i){var n=i(12);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){"use strict";var n=i(15),r=i(16),s=i(31),a=i(21),o=i(32),u=i(9),f=i(33),d=i(47),l=i(49),F=i(48)("iterator"),m=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,i,c,N,p,_){f(i,t,c);var g,E,y,v=function(e){if(!m&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},b=t+" Iterator",w="values"==N,C=!1,k=e.prototype,L=k[F]||k["@@iterator"]||N&&k[N],D=L||v(N),j=N?w?v("entries"):D:void 0,A="Array"==t&&k.entries||L;if(A&&(y=l(A.call(new e)))!==Object.prototype&&(d(y,b,!0),n||o(y,F)||a(y,F,h)),w&&L&&"values"!==L.name&&(C=!0,D=function(){return L.call(this)}),n&&!_||!m&&!C&&k[F]||a(k,F,D),u[t]=D,u[b]=h,N)if(g={values:w?D:v("values"),keys:p?D:v("keys"),entries:j},_)for(E in g)E in k||s(k,E,g[E]);else r(r.P+r.F*(m||C),t,g);return g}},function(e,t){e.exports=!0},function(e,t,i){var n=i(17),r=i(18),s=i(19),a=i(21),o=function(e,t,i){var u,f,d,l=e&o.F,F=e&o.G,m=e&o.S,h=e&o.P,c=e&o.B,N=e&o.W,p=F?r:r[t]||(r[t]={}),_=p.prototype,g=F?n:m?n[t]:(n[t]||{}).prototype;for(u in F&&(i=t),i)(f=!l&&g&&void 0!==g[u])&&u in p||(d=f?g[u]:i[u],p[u]=F&&"function"!=typeof g[u]?i[u]:c&&f?s(d,n):N&&g[u]==d?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):h&&"function"==typeof d?s(Function.call,d):d,h&&((p.virtual||(p.virtual={}))[u]=d,e&o.R&&_&&!_[u]&&a(_,u,d)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,e.exports=o},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t){var i=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(e,t,i){var n=i(20);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(22),r=i(30);e.exports=i(26)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(23),r=i(25),s=i(29),a=Object.defineProperty;t.f=i(26)?Object.defineProperty:function(e,t,i){if(n(e),t=s(t,!0),n(i),r)try{return a(e,t,i)}catch(o){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(24);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){e.exports=!i(26)&&!i(27)(function(){return 7!=Object.defineProperty(i(28)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){e.exports=!i(27)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,i){var n=i(24),r=i(17).document,s=n(r)&&n(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},function(e,t,i){var n=i(24);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){e.exports=i(21)},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){"use strict";var n=i(34),r=i(30),s=i(47),a={};i(21)(a,i(48)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(a,{next:r(1,i)}),s(e,t+" Iterator")}},function(e,t,i){var n=i(23),r=i(35),s=i(45),a=i(42)("IE_PROTO"),o=function(){},u=function(){var e,t=i(28)("iframe"),n=s.length;for(t.style.display="none",i(46).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[s[n]];return u()};e.exports=Object.create||function(e,t){var i;return null!==e?(o.prototype=n(e),i=new o,o.prototype=null,i[a]=e):i=u(),void 0===t?i:r(i,t)}},function(e,t,i){var n=i(22),r=i(23),s=i(36);e.exports=i(26)?Object.defineProperties:function(e,t){r(e);for(var i,a=s(t),o=a.length,u=0;o>u;)n.f(e,i=a[u++],t[i]);return e}},function(e,t,i){var n=i(37),r=i(45);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,i){var n=i(32),r=i(10),s=i(38)(!1),a=i(42)("IE_PROTO");e.exports=function(e,t){var i,o=r(e),u=0,f=[];for(i in o)i!=a&&n(o,i)&&f.push(i);for(;t.length>u;)n(o,i=t[u++])&&(~s(f,i)||f.push(i));return f}},function(e,t,i){var n=i(10),r=i(39),s=i(41);e.exports=function(e){return function(t,i,a){var o,u=n(t),f=r(u.length),d=s(a,f);if(e&&i!=i){for(;f>d;)if((o=u[d++])!=o)return!0}else for(;f>d;d++)if((e||d in u)&&u[d]===i)return e||d||0;return!e&&-1}}},function(e,t,i){var n=i(40),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(40),r=Math.max,s=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):s(e,t)}},function(e,t,i){var n=i(43)("keys"),r=i(44);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(17),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){e.exports=i(17).document&&document.documentElement},function(e,t,i){var n=i(22).f,r=i(32),s=i(48)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},function(e,t,i){var n=i(43)("wks"),r=i(44),s=i(17).Symbol,a="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=a&&s[e]||(a?s:r)("Symbol."+e))}).store=n},function(e,t,i){var n=i(32),r=i(50),s=i(42)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,i){var n=i(13);e.exports=function(e){return Object(n(e))}},function(e,t,i){"use strict";var n=i(52)(!0);i(14)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){var n=i(40),r=i(13);e.exports=function(e){return function(t,i){var s,a,o=String(r(t)),u=n(i),f=o.length;return u<0||u>=f?e?"":void 0:(s=o.charCodeAt(u))<55296||s>56319||u+1===f||(a=o.charCodeAt(u+1))<56320||a>57343?e?o.charAt(u):s:e?o.slice(u,u+2):a-56320+(s-55296<<10)+65536}}},function(e,t,i){var n=i(23),r=i(54);e.exports=i(18).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,i){var n=i(55),r=i(48)("iterator"),s=i(9);e.exports=i(18).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||s[n(e)]}},function(e,t,i){var n=i(12),r=i(48)("toStringTag"),s="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(i){}}(t=Object(e),r))?i:s?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,i){e.exports={default:i(57),__esModule:!0}},function(e,t,i){i(58),e.exports=i(18).Object.getPrototypeOf},function(e,t,i){var n=i(50),r=i(49);i(59)("getPrototypeOf",function(){return function(e){return r(n(e))}})},function(e,t,i){var n=i(16),r=i(18),s=i(27);e.exports=function(e,t){var i=(r.Object||{})[e]||Object[e],a={};a[e]=t(i),n(n.S+n.F*s(function(){i(1)}),"Object",a)}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(62),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()},function(e,t,i){e.exports={default:i(63),__esModule:!0}},function(e,t,i){i(64);var n=i(18).Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},function(e,t,i){var n=i(16);n(n.S+n.F*!i(26),"Object",{defineProperty:i(22).f})},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(66),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}},function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(67)),r=a(i(70)),s="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===s(n.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t,i){e.exports={default:i(68),__esModule:!0}},function(e,t,i){i(51),i(5),e.exports=i(69).f("iterator")},function(e,t,i){t.f=i(48)},function(e,t,i){e.exports={default:i(71),__esModule:!0}},function(e,t,i){i(72),i(83),i(84),i(85),e.exports=i(18).Symbol},function(e,t,i){"use strict";var n=i(17),r=i(32),s=i(26),a=i(16),o=i(31),u=i(73).KEY,f=i(27),d=i(43),l=i(47),F=i(44),m=i(48),h=i(69),c=i(74),N=i(75),p=i(76),_=i(79),g=i(23),E=i(10),y=i(29),v=i(30),b=i(34),w=i(80),C=i(82),k=i(22),L=i(36),D=C.f,j=k.f,A=w.f,x=n.Symbol,B=n.JSON,O=B&&B.stringify,S=m("_hidden"),M=m("toPrimitive"),P={}.propertyIsEnumerable,T=d("symbol-registry"),R=d("symbols"),z=d("op-symbols"),Z=Object.prototype,q="function"==typeof x,I=n.QObject,U=!I||!I.prototype||!I.prototype.findChild,J=s&&f(function(){return 7!=b(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=D(Z,t);n&&delete Z[t],j(e,t,i),n&&e!==Z&&j(Z,t,n)}:j,H=function(e){var t=R[e]=b(x.prototype);return t._k=e,t},W=q&&"symbol"==typeof x.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof x},G=function(e,t,i){return e===Z&&G(z,t,i),g(e),t=y(t,!0),g(i),r(R,t)?(i.enumerable?(r(e,S)&&e[S][t]&&(e[S][t]=!1),i=b(i,{enumerable:v(0,!1)})):(r(e,S)||j(e,S,v(1,{})),e[S][t]=!0),J(e,t,i)):j(e,t,i)},$=function(e,t){g(e);for(var i,n=p(t=E(t)),r=0,s=n.length;s>r;)G(e,i=n[r++],t[i]);return e},K=function(e){var t=P.call(this,e=y(e,!0));return!(this===Z&&r(R,e)&&!r(z,e))&&(!(t||!r(this,e)||!r(R,e)||r(this,S)&&this[S][e])||t)},Y=function(e,t){if(e=E(e),t=y(t,!0),e!==Z||!r(R,t)||r(z,t)){var i=D(e,t);return!i||!r(R,t)||r(e,S)&&e[S][t]||(i.enumerable=!0),i}},V=function(e){for(var t,i=A(E(e)),n=[],s=0;i.length>s;)r(R,t=i[s++])||t==S||t==u||n.push(t);return n},Q=function(e){for(var t,i=e===Z,n=A(i?z:E(e)),s=[],a=0;n.length>a;)!r(R,t=n[a++])||i&&!r(Z,t)||s.push(R[t]);return s};q||(o((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=F(arguments.length>0?arguments[0]:void 0),t=function(i){this===Z&&t.call(z,i),r(this,S)&&r(this[S],e)&&(this[S][e]=!1),J(this,e,v(1,i))};return s&&U&&J(Z,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",function(){return this._k}),C.f=Y,k.f=G,i(81).f=w.f=V,i(78).f=K,i(77).f=Q,s&&!i(15)&&o(Z,"propertyIsEnumerable",K,!0),h.f=function(e){return H(m(e))}),a(a.G+a.W+a.F*!q,{Symbol:x});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;X.length>ee;)m(X[ee++]);for(X=L(m.store),ee=0;X.length>ee;)c(X[ee++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return r(T,e+="")?T[e]:T[e]=x(e)},keyFor:function(e){if(W(e))return N(T,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?b(e):$(b(e),t)},defineProperty:G,defineProperties:$,getOwnPropertyDescriptor:Y,getOwnPropertyNames:V,getOwnPropertySymbols:Q}),B&&a(a.S+a.F*(!q||f(function(){var e=x();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!W(e)){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);return"function"==typeof(t=n[1])&&(i=t),!i&&_(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!W(t))return t}),n[1]=t,O.apply(B,n)}}}),x.prototype[M]||i(21)(x.prototype,M,x.prototype.valueOf),l(x,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(e,t,i){var n=i(44)("meta"),r=i(24),s=i(32),a=i(22).f,o=0,u=Object.isExtensible||function(){return!0},f=!i(27)(function(){return u(Object.preventExtensions({}))}),d=function(e){a(e,n,{value:{i:"O"+ ++o,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,n)){if(!u(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!s(e,n)){if(!u(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return f&&l.NEED&&u(e)&&!s(e,n)&&d(e),e}}},function(e,t,i){var n=i(17),r=i(18),s=i(15),a=i(69),o=i(22).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=s?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:a.f(e)})}},function(e,t,i){var n=i(36),r=i(10);e.exports=function(e,t){for(var i,s=r(e),a=n(s),o=a.length,u=0;o>u;)if(s[i=a[u++]]===t)return i}},function(e,t,i){var n=i(36),r=i(77),s=i(78);e.exports=function(e){var t=n(e),i=r.f;if(i)for(var a,o=i(e),u=s.f,f=0;o.length>f;)u.call(e,a=o[f++])&&t.push(a);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var n=i(12);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(10),r=i(81).f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==s.call(e)?function(e){try{return r(e)}catch(t){return a.slice()}}(e):r(n(e))}},function(e,t,i){var n=i(37),r=i(45).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,i){var n=i(78),r=i(30),s=i(10),a=i(29),o=i(32),u=i(25),f=Object.getOwnPropertyDescriptor;t.f=i(26)?f:function(e,t){if(e=s(e),t=a(t,!0),u)try{return f(e,t)}catch(i){}if(o(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,i){i(74)("asyncIterator")},function(e,t,i){i(74)("observable")},function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(87)),r=a(i(91)),s=a(i(66));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,i){e.exports={default:i(88),__esModule:!0}},function(e,t,i){i(89),e.exports=i(18).Object.setPrototypeOf},function(e,t,i){var n=i(16);n(n.S,"Object",{setPrototypeOf:i(90).set})},function(e,t,i){var n=i(24),r=i(23),s=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=i(19)(Function.call,i(82).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,i){return s(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:s}},function(e,t,i){e.exports={default:i(92),__esModule:!0}},function(e,t,i){i(93);var n=i(18).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,i){var n=i(16);n(n.S,"Object",{create:i(34)})},function(t,i){t.exports=e},function(e,t,i){(function(t){e.exports=i(103)()}).call(t,i(96))},function(e,t){var i,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,f=[],d=!1,l=-1;function F(){d&&u&&(d=!1,u.length?f=u.concat(f):l=-1,f.length&&m())}function m(){if(!d){var e=o(F);d=!0;for(var t=f.length;t;){for(u=f,f=[];++l<t;)u&&u[l].run();l=-1,t=f.length}u=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function c(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new h(e,t)),1!==f.length||d||o(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=c,r.addListener=c,r.once=c,r.off=c,r.removeListener=c,r.removeAllListeners=c,r.emit=c,r.prependListener=c,r.prependOnceListener=c,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,i){(function(t){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";var n=i(98),r=i(99),s=i(100),a=i(101),o=i(102);e.exports=function(e,t){var i="function"==typeof Symbol&&Symbol.iterator,u="@@iterator";var f="<<anonymous>>",d={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:m(n.thatReturnsNull),arrayOf:function(e){return m(function(t,i,n,r,s){if("function"!=typeof e)return new F("Property `"+s+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var o=t[i];if(!Array.isArray(o)){var u=N(o);return new F("Invalid "+r+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected an array.")}for(var f=0;f<o.length;f++){var d=e(o,f,n,r,s+"["+f+"]",a);if(d instanceof Error)return d}return null})},element:function(){return m(function(t,i,n,r,s){var a=t[i];if(!e(a)){var o=N(a);return new F("Invalid "+r+" `"+s+"` of type `"+o+"` supplied to `"+n+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return m(function(t,i,n,r,s){if(!(t[i]instanceof e)){var a=e.name||f,o=function(e){if(!e.constructor||!e.constructor.name)return f;return e.constructor.name}(t[i]);return new F("Invalid "+r+" `"+s+"` of type `"+o+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}return null})},node:function(){return m(function(e,t,i,n,r){if(!c(e[t]))return new F("Invalid "+n+" `"+r+"` supplied to `"+i+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return m(function(t,i,n,r,s){if("function"!=typeof e)return new F("Property `"+s+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var o=t[i],u=N(o);if("object"!==u)return new F("Invalid "+r+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected an object.");for(var f in o)if(o.hasOwnProperty(f)){var d=e(o,f,n,r,s+"."+f,a);if(d instanceof Error)return d}return null})},oneOf:function(e){if(!Array.isArray(e))return n.thatReturnsNull;return m(function(t,i,n,r,s){for(var a=t[i],o=0;o<e.length;o++)if(l(a,e[o]))return null;var u=JSON.stringify(e);return new F("Invalid "+r+" `"+s+"` of value `"+a+"` supplied to `"+n+"`, expected one of "+u+".")})},oneOfType:function(e){if(!Array.isArray(e))return n.thatReturnsNull;for(var t=0;t<e.length;t++){var i=e[t];if("function"!=typeof i)return s(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",_(i),t),n.thatReturnsNull}return m(function(t,i,n,r,s){for(var o=0;o<e.length;o++){var u=e[o];if(null==u(t,i,n,r,s,a))return null}return new F("Invalid "+r+" `"+s+"` supplied to `"+n+"`.")})},shape:function(e){return m(function(t,i,n,r,s){var o=t[i],u=N(o);if("object"!==u)return new F("Invalid "+r+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");for(var f in e){var d=e[f];if(d){var l=d(o,f,n,r,s+"."+f,a);if(l)return l}}return null})}};function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function F(e){this.message=e,this.stack=""}function m(e){function i(i,n,s,o,u,d,l){(o=o||f,d=d||s,l!==a)&&(t&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"));return null==n[s]?i?null===n[s]?new F("The "+u+" `"+d+"` is marked as required in `"+o+"`, but its value is `null`."):new F("The "+u+" `"+d+"` is marked as required in `"+o+"`, but its value is `undefined`."):null:e(n,s,o,u,d)}var n=i.bind(null,!1);return n.isRequired=i.bind(null,!0),n}function h(e){return m(function(t,i,n,r,s,a){var o=t[i];return N(o)!==e?new F("Invalid "+r+" `"+s+"` of type `"+p(o)+"` supplied to `"+n+"`, expected `"+e+"`."):null})}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var n=function(e){var t=e&&(i&&e[i]||e[u]);if("function"==typeof t)return t}(t);if(!n)return!1;var r,s=n.call(t);if(n!==t.entries){for(;!(r=s.next()).done;)if(!c(r.value))return!1}else for(;!(r=s.next()).done;){var a=r.value;if(a&&!c(a[1]))return!1}return!0;default:return!1}}function N(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function p(e){if(null==e)return""+e;var t=N(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){var t=p(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return F.prototype=Error.prototype,d.checkPropTypes=o,d.PropTypes=d,d}}).call(t,i(96))},function(e,t){"use strict";
/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 * 
	 */function i(e){return function(){return e}}var n=function(){};n.thatReturns=i,n.thatReturnsFalse=i(!1),n.thatReturnsTrue=i(!0),n.thatReturnsNull=i(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,i){(function(t){
/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 */
"use strict";var i=function(e){};e.exports=function(e,t,n,r,s,a,o,u){if(i(t),!e){var f;if(void 0===t)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,s,a,o,u],l=0;(f=new Error(t.replace(/%s/g,function(){return d[l++]}))).name="Invariant Violation"}throw f.framesToPop=1,f}}}).call(t,i(96))},function(e,t,i){(function(t){
/**
	 * Copyright 2014-2015, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 */
"use strict";var n=i(98);e.exports=n}).call(t,i(96))},function(e,t){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,i){(function(t){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";e.exports=function(e,t,i,n,r){}}).call(t,i(96))},function(e,t,i){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";var n=i(98),r=i(99),s=i(101);e.exports=function(){function e(e,t,i,n,a,o){o!==s&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return i.checkPropTypes=n,i.PropTypes=i,i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(105);Object.defineProperty(t,"Activity",{enumerable:!0,get:function(){return m(n).default}});var r=i(111);Object.defineProperty(t,"Flags",{enumerable:!0,get:function(){return m(r).default}});var s=i(112);Object.defineProperty(t,"Foods",{enumerable:!0,get:function(){return m(s).default}});var a=i(113);Object.defineProperty(t,"Nature",{enumerable:!0,get:function(){return m(a).default}});var o=i(114);Object.defineProperty(t,"Objects",{enumerable:!0,get:function(){return m(o).default}});var u=i(115);Object.defineProperty(t,"People",{enumerable:!0,get:function(){return m(u).default}});var f=i(116);Object.defineProperty(t,"Places",{enumerable:!0,get:function(){return m(f).default}});var d=i(117);Object.defineProperty(t,"Recent",{enumerable:!0,get:function(){return m(d).default}});var l=i(118);Object.defineProperty(t,"Symbols",{enumerable:!0,get:function(){return m(l).default}});var F=i(119);function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Custom",{enumerable:!0,get:function(){return m(F).default}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"19",version:"1.1",viewBox:"0 0 19 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1243 1293)"},f.default.createElement("g",{id:"activity"},f.default.createElement("path",{d:"M 2.83936 4.21875C 3.89404 5.54712 4.55981 7.19824 4.66431 9L 5.66577 9C 5.55701 6.90271 4.76794 4.98523 3.51514 3.46411C 4.9408 2.05042 6.86462 1.13831 9 1.0144L 9.5 0C 4.2533 0 0 4.2533 0 9.5L 1.0144 9C 1.1189 7.19824 1.78467 5.54712 2.83936 4.21875Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 10 10L 13.5485 10L 14.5499 10L 14.5499 9L 13.5485 9L 10 9L 10 1.0144L 9.5 0L 9 1.0144L 9 9L 5.66577 9L 4.66431 9L 4.66431 10L 5.66577 10L 9 10L 9 17.9856L 9.5 19L 10 17.9856L 10 10Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 16.2678 4.35657C 17.2604 5.66052 17.8846 7.26001 17.9856 9L 19 9.5C 19 4.2533 14.7467 0 9.5 0L 10 1.0144C 12.1947 1.14172 14.1659 2.10168 15.6025 3.58313C 14.4058 5.08472 13.6544 6.95703 13.5485 9L 14.5499 9C 14.6509 7.26001 15.2753 5.66064 16.2678 4.35657Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 1.0144 10L 4.66431 10L 4.66431 9L 1.0144 9L 0 9.5L 1.0144 10Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 3.51514 15.5359C 4.76794 14.0148 5.55701 12.0973 5.66577 10L 4.66431 10C 4.55981 11.8018 3.89404 13.4529 2.83936 14.7812C 1.78467 13.4529 1.1189 11.8018 1.0144 10L 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9 17.9856C 6.86462 17.8617 4.9408 16.9496 3.51514 15.5359Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 15.6025 15.4169C 14.1659 16.8983 12.1947 17.8583 10 17.9856L 9.5 19C 14.7467 19 19 14.7467 19 9.5L 17.9856 10C 17.8846 11.74 17.2604 13.3395 16.2678 14.6434C 15.2753 13.3394 14.6509 11.74 14.5499 10L 13.5485 10C 13.6544 12.043 14.4058 13.9153 15.6025 15.4169Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 14.5499 10L 17.9856 10L 19 9.5L 17.9856 9L 14.5499 9L 14.5499 10Z",transform:"translate(-1243 -1293)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 2.83936 4.21875C 3.89404 5.54712 4.55981 7.19824 4.66431 9L 5.66577 9C 5.55701 6.90271 4.76794 4.98523 3.51514 3.46411C 4.9408 2.05042 6.86462 1.13831 9 1.0144L 9.5 0C 4.2533 0 0 4.2533 0 9.5L 1.0144 9C 1.1189 7.19824 1.78467 5.54712 2.83936 4.21875Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 10 10L 13.5485 10L 14.5499 10L 14.5499 9L 13.5485 9L 10 9L 10 1.0144L 9.5 0L 9 1.0144L 9 9L 5.66577 9L 4.66431 9L 4.66431 10L 5.66577 10L 9 10L 9 17.9856L 9.5 19L 10 17.9856L 10 10Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 16.2678 4.35657C 17.2604 5.66052 17.8846 7.26001 17.9856 9L 19 9.5C 19 4.2533 14.7467 0 9.5 0L 10 1.0144C 12.1947 1.14172 14.1659 2.10168 15.6025 3.58313C 14.4058 5.08472 13.6544 6.95703 13.5485 9L 14.5499 9C 14.6509 7.26001 15.2753 5.66064 16.2678 4.35657Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 1.0144 10L 4.66431 10L 4.66431 9L 1.0144 9L 0 9.5L 1.0144 10Z"}),f.default.createElement("path",{id:"path4_fill",d:"M 3.51514 15.5359C 4.76794 14.0148 5.55701 12.0973 5.66577 10L 4.66431 10C 4.55981 11.8018 3.89404 13.4529 2.83936 14.7812C 1.78467 13.4529 1.1189 11.8018 1.0144 10L 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9 17.9856C 6.86462 17.8617 4.9408 16.9496 3.51514 15.5359Z"}),f.default.createElement("path",{id:"path5_fill",d:"M 15.6025 15.4169C 14.1659 16.8983 12.1947 17.8583 10 17.9856L 9.5 19C 14.7467 19 19 14.7467 19 9.5L 17.9856 10C 17.8846 11.74 17.2604 13.3395 16.2678 14.6434C 15.2753 13.3394 14.6509 11.74 14.5499 10L 13.5485 10C 13.6544 12.043 14.4058 13.9153 15.6025 15.4169Z"}),f.default.createElement("path",{id:"path6_fill",d:"M 14.5499 10L 17.9856 10L 19 9.5L 17.9856 9L 14.5499 9L 14.5499 10Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="activity"},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(107),s=(n=r)&&n.__esModule?n:{default:n};t.default=s.default||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}},function(e,t,i){e.exports={default:i(108),__esModule:!0}},function(e,t,i){i(109),e.exports=i(18).Object.assign},function(e,t,i){var n=i(16);n(n.S+n.F,"Object",{assign:i(110)})},function(e,t,i){"use strict";var n=i(36),r=i(77),s=i(78),a=i(50),o=i(11),u=Object.assign;e.exports=!u||i(27)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[i]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var i=a(e),u=arguments.length,f=1,d=r.f,l=s.f;u>f;)for(var F,m=o(arguments[f++]),h=d?n(m).concat(d(m)):n(m),c=h.length,N=0;c>N;)l.call(m,F=h[N++])&&(i[F]=m[F]);return i}:u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"17",width:"12",version:"1.1",viewBox:"0 0 12 17"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1092 1292)"},f.default.createElement("g",{id:"flags"},f.default.createElement("path",{d:"M 1 0L 0 0L 0 1L 0 8L 0 9L 0 17L 1 17L 1 9L 1 8L 1 1L 1 0Z",transform:"translate(-1092 -1292)"}),f.default.createElement("path",{d:"M 1 9L 11 9L 12 9L 12 8L 12 1L 12 0L 11 0L 1 0L 1 1L 11 1L 11 8L 1 8L 1 9Z",transform:"translate(-1092 -1292)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 1 0L 0 0L 0 1L 0 8L 0 9L 0 17L 1 17L 1 9L 1 8L 1 1L 1 0Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 1 9L 11 9L 12 9L 12 8L 12 1L 12 0L 11 0L 1 0L 1 1L 11 1L 11 8L 1 8L 1 9Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="flags"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"17",version:"1.1",viewBox:"0 0 17 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1279 1293)"},f.default.createElement("g",{id:"foods"},f.default.createElement("path",{d:"M 12.1183 6.48747C 11.4751 6.23515 10.7572 6.10832 10 6.10832C 9.88623 6.10832 9.77332 6.11296 9.66138 6.12187C 9.07397 6.16911 8.5144 6.33805 8 6.60771L 8 1.6082L 7.5 8.12834L 8.07019 7.73258C 8.68677 7.29289 9.25342 7.09477 10 7.10832C 11.1823 7.10832 12.1726 7.46806 12.8571 8.10026C 13.5286 8.72062 14 9.68937 14 11.1083C 14 12.462 13.3236 13.9887 12.2791 15.1969C 11.2169 16.4257 9.96875 17.1083 9 17.1083C 8.54712 17.1144 8.26135 17.0506 7.92432 16.886L 7.5 16.6873L 7.5 17.7915C 7.93848 17.997 8.43762 18.1083 9 18.1083C 11.7615 18.1083 15 14.422 15 11.1083C 15 8.70329 13.8208 7.15556 12.1183 6.48747Z",transform:"translate(-1279 -1292.61)"}),f.default.createElement("path",{d:"M 6 18.1083C 6.56238 18.1083 7.06152 17.997 7.5 17.7915L 7.5 16.6873L 7.07568 16.886C 6.73865 17.0506 6.45288 17.1144 6 17.1083C 5.03125 17.1083 3.78308 16.4257 2.72095 15.1969C 1.67639 13.9887 1 12.462 1 11.1083C 1 9.68937 1.47144 8.72062 2.14294 8.10026C 2.82739 7.46806 3.81775 7.10832 5 7.10832C 5.74658 7.09477 6.31323 7.29289 6.92981 7.73258L 7.5 8.12834L 8 1.6082L 7 1.6082L 7 6.60758C 6.38757 6.28642 5.71118 6.10832 5 6.10832C 2.23853 6.10832 0 7.7946 0 11.1083C 0 14.422 3.23853 18.1083 6 18.1083Z",transform:"translate(-1279 -1292.61)"}),f.default.createElement("path",{d:"M 11.4785 0.600017C 9.95911 1.47721 9.13403 3.11283 9.20801 4.76139L 10.2225 4.18717C 10.3368 3.08537 10.9589 2.05473 11.9785 1.46611C 12.9932 0.88029 14.1703 0.864665 15.1501 1.31889L 16.1647 0.74467C 14.8052 -0.16158 12.9978 -0.27718 11.4785 0.600017Z",transform:"translate(-1279 -1292.61)"}),f.default.createElement("path",{d:"M 13.8942 4.90605C 15.4136 4.02885 16.2386 2.39323 16.1647 0.74467L 15.1501 1.31889C 15.0359 2.42082 14.4138 3.45133 13.3942 4.04008C 12.3795 4.6259 11.2024 4.64152 10.2225 4.18717L 9.20801 4.76139C 9.4104 4.8964 9.6228 5.01371 9.84253 5.11296C 9.89465 5.13652 9.94714 5.15898 10 5.18034C 10.7045 5.46611 11.4779 5.56913 12.244 5.46842C 12.8082 5.39433 13.3684 5.20964 13.8942 4.90605Z",transform:"translate(-1279 -1292.61)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 12.1183 6.48747C 11.4751 6.23515 10.7572 6.10832 10 6.10832C 9.88623 6.10832 9.77332 6.11296 9.66138 6.12187C 9.07397 6.16911 8.5144 6.33805 8 6.60771L 8 1.6082L 7.5 8.12834L 8.07019 7.73258C 8.68677 7.29289 9.25342 7.09477 10 7.10832C 11.1823 7.10832 12.1726 7.46806 12.8571 8.10026C 13.5286 8.72062 14 9.68937 14 11.1083C 14 12.462 13.3236 13.9887 12.2791 15.1969C 11.2169 16.4257 9.96875 17.1083 9 17.1083C 8.54712 17.1144 8.26135 17.0506 7.92432 16.886L 7.5 16.6873L 7.5 17.7915C 7.93848 17.997 8.43762 18.1083 9 18.1083C 11.7615 18.1083 15 14.422 15 11.1083C 15 8.70329 13.8208 7.15556 12.1183 6.48747Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 6 18.1083C 6.56238 18.1083 7.06152 17.997 7.5 17.7915L 7.5 16.6873L 7.07568 16.886C 6.73865 17.0506 6.45288 17.1144 6 17.1083C 5.03125 17.1083 3.78308 16.4257 2.72095 15.1969C 1.67639 13.9887 1 12.462 1 11.1083C 1 9.68937 1.47144 8.72062 2.14294 8.10026C 2.82739 7.46806 3.81775 7.10832 5 7.10832C 5.74658 7.09477 6.31323 7.29289 6.92981 7.73258L 7.5 8.12834L 8 1.6082L 7 1.6082L 7 6.60758C 6.38757 6.28642 5.71118 6.10832 5 6.10832C 2.23853 6.10832 0 7.7946 0 11.1083C 0 14.422 3.23853 18.1083 6 18.1083Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 11.4785 0.600017C 9.95911 1.47721 9.13403 3.11283 9.20801 4.76139L 10.2225 4.18717C 10.3368 3.08537 10.9589 2.05473 11.9785 1.46611C 12.9932 0.88029 14.1703 0.864665 15.1501 1.31889L 16.1647 0.74467C 14.8052 -0.16158 12.9978 -0.27718 11.4785 0.600017Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 13.8942 4.90605C 15.4136 4.02885 16.2386 2.39323 16.1647 0.74467L 15.1501 1.31889C 15.0359 2.42082 14.4138 3.45133 13.3942 4.04008C 12.3795 4.6259 11.2024 4.64152 10.2225 4.18717L 9.20801 4.76139C 9.4104 4.8964 9.6228 5.01371 9.84253 5.11296C 9.89465 5.13652 9.94714 5.15898 10 5.18034C 10.7045 5.46611 11.4779 5.56913 12.244 5.46842C 12.8082 5.39433 13.3684 5.20964 13.8942 4.90605Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="foods"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"19",version:"1.1",viewBox:"0 0 19 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1317 1293)"},f.default.createElement("g",{id:"nature"},f.default.createElement("path",{d:"M 4.77954 12.2311L 0 17.0106L 0.707153 17.7177L 5.39307 13.0318L 4.77954 12.2311Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 6.16248 12.2624L 5.56335 11.4472L 4.77954 12.2311L 5.39307 13.0318L 6.16248 12.2624Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 5.39307 13.0318C 8.67566 14.4375 12.6239 13.8008 15.3032 11.1214C 18.0741 8.35044 18.6605 4.22227 17.0624 0.876806L 16.4442 1.98069C 17.4929 4.82078 16.8754 8.13498 14.5961 10.4143C 12.3169 12.6936 9.00244 13.3111 6.16248 12.2624L 5.39307 13.0318Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 15.6292 1.38144L 5.56335 11.4472L 6.16248 12.2624L 16.4442 1.98069L 15.6292 1.38144Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 7.52515 3.34299C 9.7168 1.15134 12.8655 0.496191 15.6292 1.38144L 17.0624 0.876806C 13.717 -0.721216 9.58887 -0.134912 6.81799 2.63596C 4.22388 5.23008 3.54431 9.01377 4.77954 12.2311L 5.56335 11.4472C 4.6781 8.68345 5.33337 5.53477 7.52515 3.34299Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 17.0624 0.876806L 15.6292 1.38144L 16.4442 1.98069L 17.0624 0.876806Z",transform:"translate(-1316.35 -1292.36)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 4.77954 12.2311L 0 17.0106L 0.707153 17.7177L 5.39307 13.0318L 4.77954 12.2311Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 6.16248 12.2624L 5.56335 11.4472L 4.77954 12.2311L 5.39307 13.0318L 6.16248 12.2624Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 5.39307 13.0318C 8.67566 14.4375 12.6239 13.8008 15.3032 11.1214C 18.0741 8.35044 18.6605 4.22227 17.0624 0.876806L 16.4442 1.98069C 17.4929 4.82078 16.8754 8.13498 14.5961 10.4143C 12.3169 12.6936 9.00244 13.3111 6.16248 12.2624L 5.39307 13.0318Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 15.6292 1.38144L 5.56335 11.4472L 6.16248 12.2624L 16.4442 1.98069L 15.6292 1.38144Z"}),f.default.createElement("path",{id:"path4_fill",d:"M 7.52515 3.34299C 9.7168 1.15134 12.8655 0.496191 15.6292 1.38144L 17.0624 0.876806C 13.717 -0.721216 9.58887 -0.134912 6.81799 2.63596C 4.22388 5.23008 3.54431 9.01377 4.77954 12.2311L 5.56335 11.4472C 4.6781 8.68345 5.33337 5.53477 7.52515 3.34299Z"}),f.default.createElement("path",{id:"path5_fill",d:"M 17.0624 0.876806L 15.6292 1.38144L 16.4442 1.98069L 17.0624 0.876806Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="nature"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"17",width:"18",version:"1.1",viewBox:"0 0 18 17"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1168 1292)"},f.default.createElement("g",{id:"objects"},f.default.createElement("path",{d:"M 15.6673 1.61096C 13.5194 -0.536987 10.037 -0.536987 7.88901 1.61096L 1.1716 8.32849C -0.390533 9.8905 -0.390533 12.4232 1.1716 13.9854C 2.73361 15.5472 5.26572 15.5481 6.82785 13.9858L 9.30331 11.5105L 9.65683 11.1569L 12.1318 8.68213C 13.108 7.70581 13.108 6.12292 12.1318 5.14661C 11.1555 4.17029 9.57248 4.17029 8.59616 5.14661L 3.29294 10.45L 3.99997 11.157L 9.30331 5.85376C 9.88913 5.26794 10.8388 5.26794 11.4247 5.85376C 12.0105 6.43945 12.0105 7.38928 11.4247 7.97498L 8.9498 10.4498L 8.59616 10.8035L 6.12082 13.2787C 4.94931 14.4502 3.05038 14.4498 1.87863 13.2782C 0.707123 12.1066 0.707123 10.2072 1.87863 9.03552L 8.59616 2.31812C 10.3535 0.560669 13.2029 0.560669 14.9602 2.31812C 16.7176 4.07544 16.7176 6.9248 14.9602 8.68213L 8.24277 15.3997L 8.9498 16.1067L 15.6673 9.38928C 17.8152 7.24133 17.8152 3.75891 15.6673 1.61096Z",transform:"translate(-1167.34 -1291.22)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 15.6673 1.61096C 13.5194 -0.536987 10.037 -0.536987 7.88901 1.61096L 1.1716 8.32849C -0.390533 9.8905 -0.390533 12.4232 1.1716 13.9854C 2.73361 15.5472 5.26572 15.5481 6.82785 13.9858L 9.30331 11.5105L 9.65683 11.1569L 12.1318 8.68213C 13.108 7.70581 13.108 6.12292 12.1318 5.14661C 11.1555 4.17029 9.57248 4.17029 8.59616 5.14661L 3.29294 10.45L 3.99997 11.157L 9.30331 5.85376C 9.88913 5.26794 10.8388 5.26794 11.4247 5.85376C 12.0105 6.43945 12.0105 7.38928 11.4247 7.97498L 8.9498 10.4498L 8.59616 10.8035L 6.12082 13.2787C 4.94931 14.4502 3.05038 14.4498 1.87863 13.2782C 0.707123 12.1066 0.707123 10.2072 1.87863 9.03552L 8.59616 2.31812C 10.3535 0.560669 13.2029 0.560669 14.9602 2.31812C 16.7176 4.07544 16.7176 6.9248 14.9602 8.68213L 8.24277 15.3997L 8.9498 16.1067L 15.6673 9.38928C 17.8152 7.24133 17.8152 3.75891 15.6673 1.61096Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="objects"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"19",version:"1.1",viewBox:"0 0 19 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1355 1293)"},f.default.createElement("g",{id:"people"},f.default.createElement("path",{d:"M 9.5 15C 7.08093 15 5.06323 13.2822 4.59998 11L 5.62598 11C 6.07007 12.7252 7.63623 14 9.5 14C 11.3638 14 12.9299 12.7252 13.374 11L 14.4 11C 13.9368 13.2822 11.9191 15 9.5 15Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 7 7.5C 7 8.05225 6.55225 8.5 6 8.5C 5.44775 8.5 5 8.05225 5 7.5C 5 6.94775 5.44775 6.5 6 6.5C 6.55225 6.5 7 6.94775 7 7.5Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 13 8.5C 13.5522 8.5 14 8.05225 14 7.5C 14 6.94775 13.5522 6.5 13 6.5C 12.4478 6.5 12 6.94775 12 7.5C 12 8.05225 12.4478 8.5 13 8.5Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 9.5 18C 4.80554 18 1 14.1945 1 9.5C 1 4.80554 4.80554 1 9.5 1L 9.5 0C 4.2533 0 0 4.2533 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9.5 18Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 18 9.5C 18 14.1945 14.1945 18 9.5 18L 9.5 19C 14.7467 19 19 14.7467 19 9.5C 19 4.2533 14.7467 0 9.5 0L 9.5 1C 14.1945 1 18 4.80554 18 9.5Z",transform:"translate(-1355 -1293)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 9.5 15C 7.08093 15 5.06323 13.2822 4.59998 11L 5.62598 11C 6.07007 12.7252 7.63623 14 9.5 14C 11.3638 14 12.9299 12.7252 13.374 11L 14.4 11C 13.9368 13.2822 11.9191 15 9.5 15Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 7 7.5C 7 8.05225 6.55225 8.5 6 8.5C 5.44775 8.5 5 8.05225 5 7.5C 5 6.94775 5.44775 6.5 6 6.5C 6.55225 6.5 7 6.94775 7 7.5Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 13 8.5C 13.5522 8.5 14 8.05225 14 7.5C 14 6.94775 13.5522 6.5 13 6.5C 12.4478 6.5 12 6.94775 12 7.5C 12 8.05225 12.4478 8.5 13 8.5Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 9.5 18C 4.80554 18 1 14.1945 1 9.5C 1 4.80554 4.80554 1 9.5 1L 9.5 0C 4.2533 0 0 4.2533 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9.5 18Z"}),f.default.createElement("path",{id:"path4_fill",d:"M 18 9.5C 18 14.1945 14.1945 18 9.5 18L 9.5 19C 14.7467 19 19 14.7467 19 9.5C 19 4.2533 14.7467 0 9.5 0L 9.5 1C 14.1945 1 18 4.80554 18 9.5Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="people"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"18",width:"18",version:"1.1",viewBox:"0 0 18 18"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1205 1292)"},f.default.createElement("g",{id:"transportation"},f.default.createElement("path",{d:"M 11.9747 1.55383C 12.5566 1.17468 13.1697 0.994873 13.8641 1L 17.861 1L 17.861 0L 13.8641 0C 13.0276 0.00512695 12.1419 0.264648 11.4349 0.712036L 2.07887 6.71204C -1.70385 9.13794 0.0142913 15 4.50807 15L 9.39637 15L 10.411 15L 12.6918 15L 15.3109 15L 16.3256 15L 17.861 15L 17.861 14L 12.6918 14L 4.50807 14C 1.26454 14 -0.119864 10.0732 2.0492 8L 3.48231 7L 7.38062 4.5L 8.93995 3.5L 11.9747 1.55383Z",transform:"translate(-1204.86 -1292)"}),f.default.createElement("path",{d:"M 13.111 3.5L 8.93995 3.5L 7.38062 4.5L 13.111 4.5C 13.8013 4.5 14.361 5.05969 14.361 5.75C 14.361 6.44031 13.8013 7 13.111 7L 3.48231 7L 2.0492 8L 13.111 8C 14.3536 8 15.361 6.99268 15.361 5.75C 15.361 4.50732 14.3536 3.5 13.111 3.5Z",transform:"translate(-1204.86 -1292)"}),f.default.createElement("path",{d:"M 12.861 18C 14.6242 18 16.0829 16.6962 16.3256 15L 15.3109 15C 15.0794 16.1411 14.0704 17 12.861 17C 11.6515 17 10.6426 16.1411 10.411 15L 9.39637 15C 9.63905 16.6962 11.0978 18 12.861 18Z",transform:"translate(-1204.86 -1292)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 11.9747 1.55383C 12.5566 1.17468 13.1697 0.994873 13.8641 1L 17.861 1L 17.861 0L 13.8641 0C 13.0276 0.00512695 12.1419 0.264648 11.4349 0.712036L 2.07887 6.71204C -1.70385 9.13794 0.0142913 15 4.50807 15L 9.39637 15L 10.411 15L 12.6918 15L 15.3109 15L 16.3256 15L 17.861 15L 17.861 14L 12.6918 14L 4.50807 14C 1.26454 14 -0.119864 10.0732 2.0492 8L 3.48231 7L 7.38062 4.5L 8.93995 3.5L 11.9747 1.55383Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 13.111 3.5L 8.93995 3.5L 7.38062 4.5L 13.111 4.5C 13.8013 4.5 14.361 5.05969 14.361 5.75C 14.361 6.44031 13.8013 7 13.111 7L 3.48231 7L 2.0492 8L 13.111 8C 14.3536 8 15.361 6.99268 15.361 5.75C 15.361 4.50732 14.3536 3.5 13.111 3.5Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 12.861 18C 14.6242 18 16.0829 16.6962 16.3256 15L 15.3109 15C 15.0794 16.1411 14.0704 17 12.861 17C 11.6515 17 10.6426 16.1411 10.411 15L 9.39637 15C 9.63905 16.6962 11.0978 18 12.861 18Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="places"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"20",width:"20",version:"1.1",viewBox:"0 0 20 20"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1395 1293)"},f.default.createElement("g",{id:"Vector"},f.default.createElement("path",{d:"M 9 4L 10 4L 10 10L 16 10L 16 11L 10 11L 9 11L 9 10L 9 4Z",transform:"translate(-1395 -1293)"}),f.default.createElement("path",{d:"M 10 20C 4.47717 20 0 15.5228 0 10C 0 4.47717 4.47717 0 10 0L 10 1C 5.02942 1 1 5.02942 1 10C 1 14.9706 5.02942 19 10 19L 10 20Z",transform:"translate(-1395 -1293)"}),f.default.createElement("path",{d:"M 20 10C 20 15.5228 15.5228 20 10 20L 10 19C 14.9706 19 19 14.9706 19 10C 19 5.02942 14.9706 1 10 1L 10 0C 15.5228 0 20 4.47717 20 10Z",transform:"translate(-1395 -1293)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 9 4L 10 4L 10 10L 16 10L 16 11L 10 11L 9 11L 9 10L 9 4Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 10 20C 4.47717 20 0 15.5228 0 10C 0 4.47717 4.47717 0 10 0L 10 1C 5.02942 1 1 5.02942 1 10C 1 14.9706 5.02942 19 10 19L 10 20Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 20 10C 20 15.5228 15.5228 20 10 20L 10 19C 14.9706 19 19 14.9706 19 10C 19 5.02942 14.9706 1 10 1L 10 0C 15.5228 0 20 4.47717 20 10Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="recent"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"17",width:"19",version:"1.1",viewBox:"0 0 19 17"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1131 1292)"},f.default.createElement("g",{id:"symbols"},f.default.createElement("path",{d:"M 1 5C 1 2.79091 2.79091 1 5 1C 6.54723 1 7.89015 1.8784 8.55585 3.16603L 9 4.02513L 9 1.99968C 8.08821 0.786061 6.63622 0 5 0C 2.23863 0 0 2.23863 0 5C 0 6.63571 0.786056 8.08793 1.99875 8.99938L 8.65451 15.3614L 9 15.6917L 9 14.3083L 2.66775 8.2555L 2.64519 8.23393L 2.62011 8.21534C 1.63619 7.48562 1 6.31713 1 5Z",transform:"translate(-1130.5 -1291.5)"}),f.default.createElement("path",{d:"M 15.3322 8.2555L 9 14.3083L 9 15.6917L 9.34549 15.3614L 16.0013 8.99938C 17.2139 8.08793 18 6.63571 18 5C 18 2.23863 15.7614 0 13 0C 11.3638 0 9.91179 0.786061 9 1.99968L 9 4.02513L 9.44415 3.16603C 10.1099 1.8784 11.4528 1 13 1C 15.2091 1 17 2.79091 17 5C 17 6.31713 16.3638 7.48562 15.3799 8.21534L 15.3548 8.23393L 15.3322 8.2555Z",transform:"translate(-1130.5 -1291.5)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 1 5C 1 2.79091 2.79091 1 5 1C 6.54723 1 7.89015 1.8784 8.55585 3.16603L 9 4.02513L 9 1.99968C 8.08821 0.786061 6.63622 0 5 0C 2.23863 0 0 2.23863 0 5C 0 6.63571 0.786056 8.08793 1.99875 8.99938L 8.65451 15.3614L 9 15.6917L 9 14.3083L 2.66775 8.2555L 2.64519 8.23393L 2.62011 8.21534C 1.63619 7.48562 1 6.31713 1 5Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 15.3322 8.2555L 9 14.3083L 9 15.6917L 9.34549 15.3614L 16.0013 8.99938C 17.2139 8.08793 18 6.63571 18 5C 18 2.23863 15.7614 0 13 0C 11.3638 0 9.91179 0.786061 9 1.99968L 9 4.02513L 9.44415 3.16603C 10.1099 1.8784 11.4528 1 13 1C 15.2091 1 17 2.79091 17 5C 17 6.31713 16.3638 7.48562 15.3799 8.21534L 15.3548 8.23393L 15.3322 8.2555Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="symbols"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"24",width:"24",viewBox:"0 0 24 24"},this.props),f.default.createElement("g",{transform:"translate(2.000000, 1.000000)"},f.default.createElement("rect",{height:"21",id:"Rectangle",width:"3",rx:"1.5",x:"8",y:"0"}),f.default.createElement("rect",{height:"21",id:"Rectangle",width:"3",rx:"1.5",transform:"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049"}),f.default.createElement("rect",{height:"21",id:"Rectangle",width:"3",rx:"1.5",transform:"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049"})))}}]),t}(f.default.Component);t.default=l,l.displayName="custom"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(i(106)),r=m(i(56)),s=m(i(60)),a=m(i(61)),o=m(i(65)),u=m(i(86)),f=m(i(94)),d=m(i(95)),l=m(i(121)),F=i(1);function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.parent=this.container.parentNode,this.margin=0,this.minMargin=0,this.memoizeSize()}},{key:"shouldComponentUpdate",value:function(e,t){var i=this.props,n=i.name,r=i.perLine,s=i.hasStickyPosition,a=i.emojis,o=i.emojiProps,u=o.skin,f=o.size,d=e.perLine,l=e.hasStickyPosition,F=e.emojis,m=e.emojiProps,h=m.skin,c=m.size,N=!1;return"Recent"==n&&r!=d&&(N=!0),"Search"==n&&(N=!(a==F)),u==h&&f==c&&s==l||(N=!0),N}},{key:"memoizeSize",value:function(){if(this.container&&this.label){var e=this.container.getBoundingClientRect(),t=e.top,i=e.height,n=this.parent.getBoundingClientRect().top,r=this.label.getBoundingClientRect().height;this.top=t-n+this.parent.scrollTop,this.maxMargin=0==i?0:i-r}}},{key:"handleScroll",value:function(e){var t=e-this.top;if((t=(t=t<this.minMargin?this.minMargin:t)>this.maxMargin?this.maxMargin:t)!=this.margin){this.props.name;return this.props.hasStickyPosition||(this.label.style.top=t+"px"),this.margin=t,!0}}},{key:"getEmojis",value:function(){var e=this.props,t=e.name,i=e.emojis,n=e.perLine;if("Recent"==t){var r=l.default.get(n);r.length&&(i=r)}return i&&(i=i.slice(0)),i}},{key:"updateDisplay",value:function(e){this.getEmojis()&&(this.container.style.display=e)}},{key:"render",value:function(){var e=this,t=this.props,i=t.name,r=t.hasStickyPosition,s=t.emojiProps,a=t.i18n,o=this.getEmojis(),u={},d={},l={};return o||(l={display:"none"}),r||(u={height:28},d={position:"absolute"}),f.default.createElement("div",{ref:function(t){return e.container=t},className:"emoji-mart-category "+(o&&!o.length?"emoji-mart-no-results":""),style:l},f.default.createElement("div",{style:u,"data-name":i,className:"emoji-mart-category-label"},f.default.createElement("span",{style:d,ref:function(t){return e.label=t}},a.categories[i.toLowerCase()])),o&&o.map(function(e){return(0,F.Emoji)((0,n.default)({emoji:e},s))}),o&&!o.length&&f.default.createElement("div",null,f.default.createElement("div",null,(0,F.Emoji)((0,n.default)({},s,{size:38,emoji:"sleuth_or_spy",onOver:null,onLeave:null,onClick:null}))),f.default.createElement("div",{className:"emoji-mart-no-results-label"},a.notfound)))}}]),t}(f.default.Component);t.default=h,h.propTypes={emojis:d.default.array,hasStickyPosition:d.default.bool,name:d.default.string.isRequired,perLine:d.default.number.isRequired,emojiProps:d.default.object.isRequired},h.defaultProps={emojis:[],hasStickyPosition:!0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i(122)),r=a(i(125)),s=a(i(133));function a(e){return e&&e.__esModule?e:{default:e}}var o=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","poop"],u=s.default.get("frequently"),f={};t.default={add:function(e){var t=e.id;u||(u=f),u[t]||(u[t]=0),u[t]+=1,s.default.set("last",t),s.default.set("frequently",u)},get:function(e){if(!u)return f={},[].concat((0,r.default)(Array(e))).map(function(t,i){return f[o[i]]=e-i,o[i]});var t=4*e,i=(0,n.default)(u).sort(function(e,t){return u[e]-u[t]}).reverse().slice(0,t),a=s.default.get("last");return a&&-1==i.indexOf(a)&&(i.pop(),i.push(a)),i}}},function(e,t,i){e.exports={default:i(123),__esModule:!0}},function(e,t,i){i(124),e.exports=i(18).Object.keys},function(e,t,i){var n=i(50),r=i(36);i(59)("keys",function(){return function(e){return r(n(e))}})},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(126),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,s.default)(e)}},function(e,t,i){e.exports={default:i(127),__esModule:!0}},function(e,t,i){i(51),i(128),e.exports=i(18).Array.from},function(e,t,i){"use strict";var n=i(19),r=i(16),s=i(50),a=i(129),o=i(130),u=i(39),f=i(131),d=i(54);r(r.S+r.F*!i(132)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,r,l,F=s(e),m="function"==typeof this?this:Array,h=arguments.length,c=h>1?arguments[1]:void 0,N=void 0!==c,p=0,_=d(F);if(N&&(c=n(c,h>2?arguments[2]:void 0,2)),null==_||m==Array&&o(_))for(i=new m(t=u(F.length));t>p;p++)f(i,p,N?c(F[p],p):F[p]);else for(l=_.call(F),i=new m;!(r=l.next()).done;p++)f(i,p,N?a(l,c,[r.value,p],!0):r.value);return i.length=p,i}})},function(e,t,i){var n=i(23);e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(a){var s=e.return;throw void 0!==s&&n(s.call(e)),a}}},function(e,t,i){var n=i(9),r=i(48)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[r]===e)}},function(e,t,i){"use strict";var n=i(22),r=i(30);e.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},function(e,t,i){var n=i(48)("iterator"),r=!1;try{var s=[7][n]();s.return=function(){r=!0},Array.from(s,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var s=[7],o=s[n]();o.next=function(){return{done:i=!0}},s[n]=function(){return o},e(s)}catch(a){}return i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(134),s=(n=r)&&n.__esModule?n:{default:n};var a="emoji-mart",o="undefined"!=typeof window&&"localStorage"in window;function u(e,t){if(o)try{window.localStorage[a+"."+e]=(0,s.default)(t)}catch(i){}}t.default={update:function(e){for(var t in e)u(t,e[t])},set:u,get:function(e){if(o){try{var t=window.localStorage[a+"."+e]}catch(i){return}return t?JSON.parse(t):void 0}},setNamespace:function(e){a=e}}},function(e,t,i){e.exports={default:i(135),__esModule:!0}},function(e,t,i){var n=i(18),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i(94)),r=a(i(95)),s=i(137);function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.emoji,i=e.skin;return(0,s.getSanitizedData)(t,i)},u=function e(t){for(var i in e.defaultProps)null==t[i]&&null!=e.defaultProps[i]&&(t[i]=e.defaultProps[i]);var r,a=function(e){var t=e.emoji,i=e.skin;return(0,s.getData)(t,i)}(t),u=a.unified,f=(a.imageUrl,t.children,"url(https://static.figma.com/emoji/2/64/"+u.toLowerCase()+".png)");return r={width:t.size,height:t.size,display:"inline-block",backgroundImage:f,backgroundSize:"100%",backgroundPosition:"100% 100%"},n.default.createElement("span",{key:t.emoji.id||t.emoji,onClick:function(e){return function(e,t){t.onClick&&(0,t.onClick)(o(t),e)}(e,t)},onMouseEnter:function(e){return function(e,t){t.onOver&&(0,t.onOver)(o(t),e)}(e,t)},onMouseLeave:function(e){return function(e,t){t.onLeave&&(0,t.onLeave)(o(t),e)}(e,t)},className:"emoji-mart-emoji"},n.default.createElement("span",{style:r}))};u.propTypes={onOver:r.default.func,onLeave:r.default.func,onClick:r.default.func,skin:r.default.oneOf([1,2,3,4,5,6]),size:r.default.number.isRequired,emoji:r.default.oneOfType([r.default.string,r.default.object]).isRequired},u.defaultProps={skin:1,onOver:function(){},onLeave:function(){},onClick:function(){}},t.default=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unifiedToNative=t.deepMerge=t.intersect=t.getSanitizedData=t.getData=void 0;var n=d(i(66)),r=d(i(126)),s=d(i(138)),a=d(i(134)),o=d(i(153)),u=d(i(125)),f=(d(i(156)),d(i(157)));function d(e){return e&&e.__esModule?e:{default:e}}var l=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/,F=["1F3FA","1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"];function m(e,t){var i={};if("string"==typeof e){var n=e.match(l);n&&(e=n[1],n[2]&&(t=parseInt(n[2]))),f.default.emojis.hasOwnProperty(e)&&(i=f.default.emojis[e])}else e.name&&f.default.emojis.hasOwnProperty(e.name)&&(i=f.default.emojis[e.name],t||(t=e.skin));if(i.skin_variations&&t>1){i=JSON.parse((0,a.default)(i));var r=F[t-1],s=i.skin_variations[r];for(var o in!s.variations&&i.variations&&delete i.variations,i.skin_tone=t,s){var u=s[o];i[o]=u}}return i.id=i.name,i}t.getData=m,t.getSanitizedData=function(){return e=m.apply(void 0,arguments),t=e.name,i=e.short_names,n=e.skin_tone,r=e.skin_variations,s=e.unified,e.imageUrl,a=e.id||i[0],o=":"+a+":",n&&(o+=":skin-tone-"+n+":"),{id:a,name:t,colons:o,unified:s.toLowerCase(),skin:n||(r?1:null)};var e,t,i,n,r,s,a,o},t.intersect=function(e,t){var i,n=new s.default(e),a=new s.default(t);return i=new s.default([].concat((0,u.default)(n)).filter(function(e){return a.has(e)})),(0,r.default)(i)},t.deepMerge=function e(t,i){var r={};for(var s in t){var a=t[s],o=a;i.hasOwnProperty(s)&&(o=i[s]),"object"===(void 0===o?"undefined":(0,n.default)(o))&&(o=e(a,o)),r[s]=o}return r},t.unifiedToNative=function(e){var t=e.split("-").map(function(e){return"0x"+e});return o.default.apply(String,(0,u.default)(t))}},function(e,t,i){e.exports={default:i(139),__esModule:!0}},function(e,t,i){i(83),i(51),i(5),i(140),i(150),e.exports=i(18).Set},function(e,t,i){"use strict";var n=i(141);e.exports=i(146)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(this,e=0===e?0:e,e)}},n)},function(e,t,i){"use strict";var n=i(22).f,r=i(34),s=i(142),a=i(19),o=i(143),u=i(13),f=i(144),d=i(14),l=i(8),F=i(145),m=i(26),h=i(73).fastKey,c=m?"_s":"size",N=function(e,t){var i,n=h(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,d){var l=e(function(e,n){o(e,l,t,"_i"),e._i=r(null),e._f=void 0,e._l=void 0,e[c]=0,null!=n&&f(n,i,e[d],e)});return s(l.prototype,{clear:function(){for(var e=this._i,t=this._f;t;t=t.n)t.r=!0,t.p&&(t.p=t.p.n=void 0),delete e[t.i];this._f=this._l=void 0,this[c]=0},delete:function(e){var t=N(this,e);if(t){var i=t.n,n=t.p;delete this._i[t.i],t.r=!0,n&&(n.n=i),i&&(i.p=n),this._f==t&&(this._f=i),this._l==t&&(this._l=n),this[c]--}return!!t},forEach:function(e){o(this,l,"forEach");for(var t,i=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(i(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!N(this,e)}}),m&&n(l.prototype,"size",{get:function(){return u(this[c])}}),l},def:function(e,t,i){var n,r,s=N(e,t);return s?s.v=i:(e._l=s={i:r=h(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=s),n&&(n.n=s),e[c]++,"F"!==r&&(e._i[r]=s)),e},getEntry:N,setStrong:function(e,t,i){d(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},i?"entries":"values",!i,!0),F(t)}}},function(e,t,i){var n=i(21);e.exports=function(e,t,i){for(var r in t)i&&e[r]?e[r]=t[r]:n(e,r,t[r]);return e}},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){var n=i(19),r=i(129),s=i(130),a=i(23),o=i(39),u=i(54),f={},d={};(t=e.exports=function(e,t,i,l,F){var m,h,c,N,p=F?function(){return e}:u(e),_=n(i,l,t?2:1),g=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(s(p)){for(m=o(e.length);m>g;g++)if((N=t?_(a(h=e[g])[0],h[1]):_(e[g]))===f||N===d)return N}else for(c=p.call(e);!(h=c.next()).done;)if((N=r(c,_,h.value,t))===f||N===d)return N}).BREAK=f,t.RETURN=d},function(e,t,i){"use strict";var n=i(17),r=i(18),s=i(22),a=i(26),o=i(48)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:n[e];a&&t&&!t[o]&&s.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,i){"use strict";var n=i(17),r=i(16),s=i(73),a=i(27),o=i(21),u=i(142),f=i(144),d=i(143),l=i(24),F=i(47),m=i(22).f,h=i(147)(0),c=i(26);e.exports=function(e,t,i,N,p,_){var g=n[e],E=g,y=p?"set":"add",v=E&&E.prototype,b={};return c&&"function"==typeof E&&(_||v.forEach&&!a(function(){(new E).entries().next()}))?(E=t(function(t,i){d(t,E,e,"_c"),t._c=new g,null!=i&&f(i,p,t[y],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in v&&(!_||"clear"!=e)&&o(E.prototype,e,function(i,n){if(d(this,E,e),!t&&_&&!l(i))return"get"==e&&void 0;var r=this._c[e](0===i?0:i,n);return t?this:r})}),"size"in v&&m(E.prototype,"size",{get:function(){return this._c.size}})):(E=N.getConstructor(t,e,p,y),u(E.prototype,i),s.NEED=!0),F(E,e),b[e]=E,r(r.G+r.W+r.F,b),_||N.setStrong(E,e,p),E}},function(e,t,i){var n=i(19),r=i(11),s=i(50),a=i(39),o=i(148);e.exports=function(e,t){var i=1==e,u=2==e,f=3==e,d=4==e,l=6==e,F=5==e||l,m=t||o;return function(t,o,h){for(var c,N,p=s(t),_=r(p),g=n(o,h,3),E=a(_.length),y=0,v=i?m(t,E):u?m(t,0):void 0;E>y;y++)if((F||y in _)&&(N=g(c=_[y],y,p),e))if(i)v[y]=N;else if(N)switch(e){case 3:return!0;case 5:return c;case 6:return y;case 2:v.push(c)}else if(d)return!1;return l?-1:f||d?d:v}}},function(e,t,i){var n=i(149);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){var n=i(24),r=i(79),s=i(48)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){var n=i(16);n(n.P+n.R,"Set",{toJSON:i(151)("Set")})},function(e,t,i){var n=i(55),r=i(152);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,i){var n=i(144);e.exports=function(e,t){var i=[];return n(e,!1,i.push,i,t),i}},function(e,t,i){e.exports={default:i(154),__esModule:!0}},function(e,t,i){i(155),e.exports=i(18).String.fromCodePoint},function(e,t,i){var n=i(16),r=i(41),s=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},function(e,t){"use strict";e.exports=function(e){var t,i,n=[];return t=e.short_names,i=!0,t&&(Array.isArray(t)?t:[t]).forEach(function(e){(i?e.split(/[-|_|\s]+/):[e]).forEach(function(e){e=e.toLowerCase(),-1==n.indexOf(e)&&n.push(e)})}),n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(158),s=(n=r)&&n.__esModule?n:{default:n};var a=[],o={},u={},f=["People","Nature","Foods","Activity","Places","Objects","Symbols","Flags"],d={"261D":!0,"26F9":!0,"270A":!0,"270B":!0,"270C":!0,"270D":!0,"1F385":!0,"1F3C2":!0,"1F3C3":!0,"1F3C4":!0,"1F3C7":!0,"1F3CA":!0,"1F3CB":!0,"1F3CC":!0,"1F442":!0,"1F443":!0,"1F446":!0,"1F447":!0,"1F448":!0,"1F449":!0,"1F44A":!0,"1F44B":!0,"1F44C":!0,"1F44D":!0,"1F44E":!0,"1F44F":!0,"1F450":!0,"1F466":!0,"1F467":!0,"1F468":!0,"1F469":!0,"1F46E":!0,"1F470":!0,"1F471":!0,"1F472":!0,"1F473":!0,"1F474":!0,"1F475":!0,"1F476":!0,"1F477":!0,"1F478":!0,"1F47C":!0,"1F481":!0,"1F482":!0,"1F483":!0,"1F485":!0,"1F486":!0,"1F487":!0,"1F4AA":!0,"1F574":!0,"1F575":!0,"1F57A":!0,"1F590":!0,"1F595":!0,"1F596":!0,"1F645":!0,"1F646":!0,"1F647":!0,"1F64B":!0,"1F64C":!0,"1F64D":!0,"1F64E":!0,"1F64F":!0,"1F6A3":!0,"1F6B4":!0,"1F6B5":!0,"1F6B6":!0,"1F6C0":!0,"1F6CC":!0,"1F918":!0,"1F919":!0,"1F91A":!0,"1F91B":!0,"1F91C":!0,"1F91E":!0,"1F91F":!0,"1F926":!0,"1F930":!0,"1F931":!0,"1F932":!0,"1F933":!0,"1F934":!0,"1F935":!0,"1F936":!0,"1F937":!0,"1F938":!0,"1F939":!0,"1F93D":!0,"1F93E":!0,"1F9D1":!0,"1F9D2":!0,"1F9D3":!0,"1F9D4":!0,"1F9D5":!0,"1F9D6":!0,"1F9D7":!0,"1F9D8":!0,"1F9D9":!0,"1F9DA":!0,"1F9DB":!0,"1F9DC":!0,"1F9DD":!0};for(var l in f){var F=f[l],m={name:F,emojis:[]};for(var h in s.default.emoji_data[F]){var c=s.default.emoji_data[F][h];c.short_names=c.shortNames,delete c.shortNames,c.name=c.short_names[0],o[c.name]=c,c.unified=c.unified[0],c.search=c.name,m.emojis.push(c),!0===d[c.unified]&&(c.skin_variations={"1F3FB":{unified:c.unified+"-1F3FB"},"1F3FC":{unified:c.unified+"-1F3FC"},"1F3FD":{unified:c.unified+"-1F3FD"},"1F3FE":{unified:c.unified+"-1F3FE"},"1F3FF":{unified:c.unified+"-1F3FF"}})}a.push(m)}for(var N in s.default.emoji_data["Skin Tones"]){var p=s.default.emoji_data["Skin Tones"][N];p.short_names=p.shortNames,delete p.shortNames,p.name=p.short_names[0],u[p.name]=p}t.default={categories:a,emojis:o,short_names:{},skins:u}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={emoji_data:{Symbols:[{shortNames:["heart"],unified:["2764","2764-FE0F"]},{shortNames:["yellow_heart"],unified:["1F49B"]},{shortNames:["green_heart"],unified:["1F49A"]},{shortNames:["blue_heart"],unified:["1F499"]},{shortNames:["purple_heart"],unified:["1F49C"]},{shortNames:["black_heart"],unified:["1F5A4"]},{shortNames:["broken_heart"],unified:["1F494"]},{shortNames:["heavy_heart_exclamation_mark_ornament"],unified:["2763","2763-FE0F"]},{shortNames:["two_hearts"],unified:["1F495"]},{shortNames:["revolving_hearts"],unified:["1F49E"]},{shortNames:["heartbeat"],unified:["1F493"]},{shortNames:["heartpulse"],unified:["1F497"]},{shortNames:["sparkling_heart"],unified:["1F496"]},{shortNames:["cupid"],unified:["1F498"]},{shortNames:["gift_heart"],unified:["1F49D"]},{shortNames:["heart_decoration"],unified:["1F49F"]},{shortNames:["peace_symbol"],unified:["262E","262E-FE0F"]},{shortNames:["latin_cross"],unified:["271D","271D-FE0F"]},{shortNames:["star_and_crescent"],unified:["262A","262A-FE0F"]},{shortNames:["om_symbol"],unified:["1F549"]},{shortNames:["wheel_of_dharma"],unified:["2638","2638-FE0F"]},{shortNames:["star_of_david"],unified:["2721","2721-FE0F"]},{shortNames:["six_pointed_star"],unified:["1F52F"]},{shortNames:["menorah_with_nine_branches"],unified:["1F54E"]},{shortNames:["yin_yang"],unified:["262F","262F-FE0F"]},{shortNames:["orthodox_cross"],unified:["2626","2626-FE0F"]},{shortNames:["place_of_worship"],unified:["1F6D0"]},{shortNames:["ophiuchus"],unified:["26CE"]},{shortNames:["aries"],unified:["2648","2648-FE0F"]},{shortNames:["taurus"],unified:["2649","2649-FE0F"]},{shortNames:["gemini"],unified:["264A","264A-FE0F"]},{shortNames:["cancer"],unified:["264B","264B-FE0F"]},{shortNames:["leo"],unified:["264C","264C-FE0F"]},{shortNames:["virgo"],unified:["264D","264D-FE0F"]},{shortNames:["libra"],unified:["264E","264E-FE0F"]},{shortNames:["scorpius"],unified:["264F","264F-FE0F"]},{shortNames:["sagittarius"],unified:["2650","2650-FE0F"]},{shortNames:["capricorn"],unified:["2651","2651-FE0F"]},{shortNames:["aquarius"],unified:["2652","2652-FE0F"]},{shortNames:["pisces"],unified:["2653","2653-FE0F"]},{shortNames:["id"],unified:["1F194"]},{shortNames:["atom_symbol"],unified:["269B","269B-FE0F"]},{shortNames:["accept"],unified:["1F251"]},{shortNames:["radioactive_sign"],unified:["2622","2622-FE0F"]},{shortNames:["biohazard_sign"],unified:["2623","2623-FE0F"]},{shortNames:["mobile_phone_off"],unified:["1F4F4"]},{shortNames:["vibration_mode"],unified:["1F4F3"]},{shortNames:["u6709"],unified:["1F236"]},{shortNames:["u7121"],unified:["1F21A","1F21A-FE0F"]},{shortNames:["u7533"],unified:["1F238"]},{shortNames:["u55b6"],unified:["1F23A"]},{shortNames:["u6708"],unified:["1F237","1F237-FE0F"]},{shortNames:["eight_pointed_black_star"],unified:["2734","2734-FE0F"]},{shortNames:["vs"],unified:["1F19A"]},{shortNames:["white_flower"],unified:["1F4AE"]},{shortNames:["ideograph_advantage"],unified:["1F250"]},{shortNames:["secret"],unified:["3299","3299-FE0F"]},{shortNames:["congratulations"],unified:["3297","3297-FE0F"]},{shortNames:["u5408"],unified:["1F234"]},{shortNames:["u6e80"],unified:["1F235"]},{shortNames:["u5272"],unified:["1F239"]},{shortNames:["u7981"],unified:["1F232"]},{shortNames:["a"],unified:["1F170","1F170-FE0F"]},{shortNames:["b"],unified:["1F171","1F171-FE0F"]},{shortNames:["ab"],unified:["1F18E"]},{shortNames:["cl"],unified:["1F191"]},{shortNames:["o2"],unified:["1F17E","1F17E-FE0F"]},{shortNames:["sos"],unified:["1F198"]},{shortNames:["x"],unified:["274C"]},{shortNames:["o"],unified:["2B55","2B55-FE0F"]},{shortNames:["octagonal_sign"],unified:["1F6D1"]},{shortNames:["no_entry"],unified:["26D4","26D4-FE0F"]},{shortNames:["name_badge"],unified:["1F4DB"]},{shortNames:["no_entry_sign"],unified:["1F6AB"]},{shortNames:["100"],unified:["1F4AF"]},{shortNames:["anger"],unified:["1F4A2"]},{shortNames:["hotsprings"],unified:["2668","2668-FE0F"]},{shortNames:["no_pedestrians"],unified:["1F6B7"]},{shortNames:["do_not_litter"],unified:["1F6AF"]},{shortNames:["no_bicycles"],unified:["1F6B3"]},{shortNames:["non-potable_water"],unified:["1F6B1"]},{shortNames:["underage"],unified:["1F51E"]},{shortNames:["no_mobile_phones"],unified:["1F4F5"]},{shortNames:["no_smoking"],unified:["1F6AD"]},{shortNames:["exclamation","heavy_exclamation_mark"],unified:["2757","2757-FE0F"]},{shortNames:["grey_exclamation"],unified:["2755"]},{shortNames:["question"],unified:["2753"]},{shortNames:["grey_question"],unified:["2754"]},{shortNames:["bangbang"],unified:["203C","203C-FE0F"]},{shortNames:["interrobang"],unified:["2049","2049-FE0F"]},{shortNames:["low_brightness"],unified:["1F505"]},{shortNames:["high_brightness"],unified:["1F506"]},{shortNames:["part_alternation_mark"],unified:["303D","303D-FE0F"]},{shortNames:["warning"],unified:["26A0","26A0-FE0F"]},{shortNames:["children_crossing"],unified:["1F6B8"]},{shortNames:["trident"],unified:["1F531"]},{shortNames:["fleur_de_lis"],unified:["269C","269C-FE0F"]},{shortNames:["beginner"],unified:["1F530"]},{shortNames:["recycle"],unified:["267B","267B-FE0F"]},{shortNames:["white_check_mark"],unified:["2705"]},{shortNames:["u6307"],unified:["1F22F","1F22F-FE0F"]},{shortNames:["chart"],unified:["1F4B9"]},{shortNames:["sparkle"],unified:["2747","2747-FE0F"]},{shortNames:["eight_spoked_asterisk"],unified:["2733","2733-FE0F"]},{shortNames:["negative_squared_cross_mark"],unified:["274E"]},{shortNames:["globe_with_meridians"],unified:["1F310"]},{shortNames:["diamond_shape_with_a_dot_inside"],unified:["1F4A0"]},{shortNames:["m"],unified:["24C2","24C2-FE0F"]},{shortNames:["cyclone"],unified:["1F300"]},{shortNames:["zzz"],unified:["1F4A4"]},{shortNames:["atm"],unified:["1F3E7"]},{shortNames:["wc"],unified:["1F6BE"]},{shortNames:["wheelchair"],unified:["267F","267F-FE0F"]},{shortNames:["parking"],unified:["1F17F","1F17F-FE0F"]},{shortNames:["u7a7a"],unified:["1F233"]},{shortNames:["sa"],unified:["1F202","1F202-FE0F"]},{shortNames:["passport_control"],unified:["1F6C2"]},{shortNames:["customs"],unified:["1F6C3"]},{shortNames:["baggage_claim"],unified:["1F6C4"]},{shortNames:["left_luggage"],unified:["1F6C5"]},{shortNames:["mens"],unified:["1F6B9"]},{shortNames:["womens"],unified:["1F6BA"]},{shortNames:["baby_symbol"],unified:["1F6BC"]},{shortNames:["restroom"],unified:["1F6BB"]},{shortNames:["put_litter_in_its_place"],unified:["1F6AE"]},{shortNames:["cinema"],unified:["1F3A6"]},{shortNames:["signal_strength"],unified:["1F4F6"]},{shortNames:["koko"],unified:["1F201"]},{shortNames:["symbols"],unified:["1F523"]},{shortNames:["information_source"],unified:["2139","2139-FE0F"]},{shortNames:["abc"],unified:["1F524"]},{shortNames:["abcd"],unified:["1F521"]},{shortNames:["capital_abcd"],unified:["1F520"]},{shortNames:["ng"],unified:["1F196"]},{shortNames:["ok"],unified:["1F197"]},{shortNames:["up"],unified:["1F199"]},{shortNames:["cool"],unified:["1F192"]},{shortNames:["new"],unified:["1F195"]},{shortNames:["free"],unified:["1F193"]},{shortNames:["zero"],unified:["0030-20E3","0030-FE0F-20E3"]},{shortNames:["one"],unified:["0031-20E3","0031-FE0F-20E3"]},{shortNames:["two"],unified:["0032-20E3","0032-FE0F-20E3"]},{shortNames:["three"],unified:["0033-20E3","0033-FE0F-20E3"]},{shortNames:["four"],unified:["0034-20E3","0034-FE0F-20E3"]},{shortNames:["five"],unified:["0035-20E3","0035-FE0F-20E3"]},{shortNames:["six"],unified:["0036-20E3","0036-FE0F-20E3"]},{shortNames:["seven"],unified:["0037-20E3","0037-FE0F-20E3"]},{shortNames:["eight"],unified:["0038-20E3","0038-FE0F-20E3"]},{shortNames:["nine"],unified:["0039-20E3","0039-FE0F-20E3"]},{shortNames:["keycap_ten"],unified:["1F51F"]},{shortNames:["1234"],unified:["1F522"]},{shortNames:["hash"],unified:["0023-20E3","0023-FE0F-20E3"]},{shortNames:["keycap_star"],unified:["002A-20E3","002A-FE0F-20E3"]},{shortNames:["arrow_forward"],unified:["25B6","25B6-FE0F"]},{shortNames:["double_vertical_bar"],unified:["23F8"]},{shortNames:["black_right_pointing_triangle_with_double_vertical_bar"],unified:["23EF"]},{shortNames:["black_square_for_stop"],unified:["23F9"]},{shortNames:["eject"],unified:["23CF"]},{shortNames:["black_circle_for_record"],unified:["23FA"]},{shortNames:["black_right_pointing_double_triangle_with_vertical_bar"],unified:["23ED"]},{shortNames:["black_left_pointing_double_triangle_with_vertical_bar"],unified:["23EE"]},{shortNames:["fast_forward"],unified:["23E9"]},{shortNames:["rewind"],unified:["23EA"]},{shortNames:["arrow_double_up"],unified:["23EB"]},{shortNames:["arrow_double_down"],unified:["23EC"]},{shortNames:["arrow_backward"],unified:["25C0","25C0-FE0F"]},{shortNames:["arrow_up_small"],unified:["1F53C"]},{shortNames:["arrow_down_small"],unified:["1F53D"]},{shortNames:["arrow_right"],unified:["27A1","27A1-FE0F"]},{shortNames:["arrow_left"],unified:["2B05","2B05-FE0F"]},{shortNames:["arrow_up"],unified:["2B06","2B06-FE0F"]},{shortNames:["arrow_down"],unified:["2B07","2B07-FE0F"]},{shortNames:["arrow_upper_right"],unified:["2197","2197-FE0F"]},{shortNames:["arrow_lower_right"],unified:["2198","2198-FE0F"]},{shortNames:["arrow_lower_left"],unified:["2199","2199-FE0F"]},{shortNames:["arrow_upper_left"],unified:["2196","2196-FE0F"]},{shortNames:["arrow_up_down"],unified:["2195","2195-FE0F"]},{shortNames:["left_right_arrow"],unified:["2194","2194-FE0F"]},{shortNames:["arrow_right_hook"],unified:["21AA","21AA-FE0F"]},{shortNames:["leftwards_arrow_with_hook"],unified:["21A9","21A9-FE0F"]},{shortNames:["arrow_heading_up"],unified:["2934","2934-FE0F"]},{shortNames:["arrow_heading_down"],unified:["2935","2935-FE0F"]},{shortNames:["twisted_rightwards_arrows"],unified:["1F500"]},{shortNames:["repeat"],unified:["1F501"]},{shortNames:["repeat_one"],unified:["1F502"]},{shortNames:["arrows_counterclockwise"],unified:["1F504"]},{shortNames:["arrows_clockwise"],unified:["1F503"]},{shortNames:["musical_note"],unified:["1F3B5"]},{shortNames:["notes"],unified:["1F3B6"]},{shortNames:["heavy_plus_sign"],unified:["2795"]},{shortNames:["heavy_minus_sign"],unified:["2796"]},{shortNames:["heavy_division_sign"],unified:["2797"]},{shortNames:["heavy_multiplication_x"],unified:["2716","2716-FE0F"]},{shortNames:["heavy_dollar_sign"],unified:["1F4B2"]},{shortNames:["currency_exchange"],unified:["1F4B1"]},{shortNames:["tm"],unified:["2122","2122-FE0F"]},{shortNames:["copyright"],unified:["00A9","00A9-FE0F"]},{shortNames:["registered"],unified:["00AE","00AE-FE0F"]},{shortNames:["wavy_dash"],unified:["3030","3030-FE0F"]},{shortNames:["curly_loop"],unified:["27B0"]},{shortNames:["loop"],unified:["27BF"]},{shortNames:["end"],unified:["1F51A"]},{shortNames:["back"],unified:["1F519"]},{shortNames:["on"],unified:["1F51B"]},{shortNames:["top"],unified:["1F51D"]},{shortNames:["soon"],unified:["1F51C"]},{shortNames:["heavy_check_mark"],unified:["2714","2714-FE0F"]},{shortNames:["ballot_box_with_check"],unified:["2611","2611-FE0F"]},{shortNames:["radio_button"],unified:["1F518"]},{shortNames:["white_circle"],unified:["26AA","26AA-FE0F"]},{shortNames:["black_circle"],unified:["26AB","26AB-FE0F"]},{shortNames:["red_circle"],unified:["1F534"]},{shortNames:["large_blue_circle"],unified:["1F535"]},{shortNames:["small_red_triangle"],unified:["1F53A"]},{shortNames:["small_red_triangle_down"],unified:["1F53B"]},{shortNames:["small_orange_diamond"],unified:["1F538"]},{shortNames:["small_blue_diamond"],unified:["1F539"]},{shortNames:["large_orange_diamond"],unified:["1F536"]},{shortNames:["large_blue_diamond"],unified:["1F537"]},{shortNames:["white_square_button"],unified:["1F533"]},{shortNames:["black_square_button"],unified:["1F532"]},{shortNames:["black_small_square"],unified:["25AA","25AA-FE0F"]},{shortNames:["white_small_square"],unified:["25AB","25AB-FE0F"]},{shortNames:["black_medium_small_square"],unified:["25FE","25FE-FE0F"]},{shortNames:["white_medium_small_square"],unified:["25FD","25FD-FE0F"]},{shortNames:["black_medium_square"],unified:["25FC","25FC-FE0F"]},{shortNames:["white_medium_square"],unified:["25FB","25FB-FE0F"]},{shortNames:["black_large_square"],unified:["2B1B","2B1B-FE0F"]},{shortNames:["white_large_square"],unified:["2B1C","2B1C-FE0F"]},{shortNames:["speaker"],unified:["1F508"]},{shortNames:["mute"],unified:["1F507"]},{shortNames:["sound"],unified:["1F509"]},{shortNames:["loud_sound"],unified:["1F50A"]},{shortNames:["bell"],unified:["1F514"]},{shortNames:["no_bell"],unified:["1F515"]},{shortNames:["mega"],unified:["1F4E3"]},{shortNames:["loudspeaker"],unified:["1F4E2"]},{shortNames:["eye-in-speech-bubble"],unified:["1F441-FE0F-200D-1F5E8-FE0F"]},{shortNames:["speech_balloon"],unified:["1F4AC"]},{shortNames:["left_speech_bubble"],unified:["1F5E8"]},{shortNames:["thought_balloon"],unified:["1F4AD"]},{shortNames:["right_anger_bubble"],unified:["1F5EF"]},{shortNames:["spades"],unified:["2660","2660-FE0F"]},{shortNames:["clubs"],unified:["2663","2663-FE0F"]},{shortNames:["hearts"],unified:["2665","2665-FE0F"]},{shortNames:["diamonds"],unified:["2666","2666-FE0F"]},{shortNames:["black_joker"],unified:["1F0CF"]},{shortNames:["flower_playing_cards"],unified:["1F3B4"]},{shortNames:["mahjong"],unified:["1F004","1F004-FE0F"]},{shortNames:["clock1"],unified:["1F550"]},{shortNames:["clock2"],unified:["1F551"]},{shortNames:["clock3"],unified:["1F552"]},{shortNames:["clock4"],unified:["1F553"]},{shortNames:["clock5"],unified:["1F554"]},{shortNames:["clock6"],unified:["1F555"]},{shortNames:["clock7"],unified:["1F556"]},{shortNames:["clock8"],unified:["1F557"]},{shortNames:["clock9"],unified:["1F558"]},{shortNames:["clock10"],unified:["1F559"]},{shortNames:["clock11"],unified:["1F55A"]},{shortNames:["clock12"],unified:["1F55B"]},{shortNames:["clock130"],unified:["1F55C"]},{shortNames:["clock230"],unified:["1F55D"]},{shortNames:["clock330"],unified:["1F55E"]},{shortNames:["clock430"],unified:["1F55F"]},{shortNames:["clock530"],unified:["1F560"]},{shortNames:["clock630"],unified:["1F561"]},{shortNames:["clock730"],unified:["1F562"]},{shortNames:["clock830"],unified:["1F563"]},{shortNames:["clock930"],unified:["1F564"]},{shortNames:["clock1030"],unified:["1F565"]},{shortNames:["clock1130"],unified:["1F566"]},{shortNames:["clock1230"],unified:["1F567"]},{shortNames:["female_sign"],unified:["2640"]},{shortNames:["male_sign"],unified:["2642"]},{shortNames:["staff_of_aesculapius"],unified:["2695"]}],Objects:[{shortNames:["watch"],unified:["231A","231A-FE0F"]},{shortNames:["iphone"],unified:["1F4F1"]},{shortNames:["calling"],unified:["1F4F2"]},{shortNames:["computer"],unified:["1F4BB"]},{shortNames:["keyboard"],unified:["2328","2328-FE0F"]},{shortNames:["desktop_computer"],unified:["1F5A5"]},{shortNames:["printer"],unified:["1F5A8"]},{shortNames:["three_button_mouse"],unified:["1F5B1"]},{shortNames:["trackball"],unified:["1F5B2"]},{shortNames:["joystick"],unified:["1F579"]},{shortNames:["compression"],unified:["1F5DC"]},{shortNames:["minidisc"],unified:["1F4BD"]},{shortNames:["floppy_disk"],unified:["1F4BE"]},{shortNames:["cd"],unified:["1F4BF"]},{shortNames:["dvd"],unified:["1F4C0"]},{shortNames:["vhs"],unified:["1F4FC"]},{shortNames:["camera"],unified:["1F4F7"]},{shortNames:["camera_with_flash"],unified:["1F4F8"]},{shortNames:["video_camera"],unified:["1F4F9"]},{shortNames:["movie_camera"],unified:["1F3A5"]},{shortNames:["film_projector"],unified:["1F4FD"]},{shortNames:["film_frames"],unified:["1F39E"]},{shortNames:["telephone_receiver"],unified:["1F4DE"]},{shortNames:["phone","telephone"],unified:["260E","260E-FE0F"]},{shortNames:["pager"],unified:["1F4DF"]},{shortNames:["fax"],unified:["1F4E0"]},{shortNames:["tv"],unified:["1F4FA"]},{shortNames:["radio"],unified:["1F4FB"]},{shortNames:["studio_microphone"],unified:["1F399"]},{shortNames:["level_slider"],unified:["1F39A"]},{shortNames:["control_knobs"],unified:["1F39B"]},{shortNames:["stopwatch"],unified:["23F1"]},{shortNames:["timer_clock"],unified:["23F2"]},{shortNames:["alarm_clock"],unified:["23F0"]},{shortNames:["mantelpiece_clock"],unified:["1F570"]},{shortNames:["hourglass"],unified:["231B","231B-FE0F"]},{shortNames:["hourglass_flowing_sand"],unified:["23F3"]},{shortNames:["satellite_antenna"],unified:["1F4E1"]},{shortNames:["battery"],unified:["1F50B"]},{shortNames:["electric_plug"],unified:["1F50C"]},{shortNames:["bulb"],unified:["1F4A1"]},{shortNames:["flashlight"],unified:["1F526"]},{shortNames:["candle"],unified:["1F56F"]},{shortNames:["wastebasket"],unified:["1F5D1"]},{shortNames:["oil_drum"],unified:["1F6E2"]},{shortNames:["money_with_wings"],unified:["1F4B8"]},{shortNames:["dollar"],unified:["1F4B5"]},{shortNames:["yen"],unified:["1F4B4"]},{shortNames:["euro"],unified:["1F4B6"]},{shortNames:["pound"],unified:["1F4B7"]},{shortNames:["moneybag"],unified:["1F4B0"]},{shortNames:["credit_card"],unified:["1F4B3"]},{shortNames:["gem"],unified:["1F48E"]},{shortNames:["scales"],unified:["2696","2696-FE0F"]},{shortNames:["wrench"],unified:["1F527"]},{shortNames:["hammer"],unified:["1F528"]},{shortNames:["hammer_and_pick"],unified:["2692"]},{shortNames:["hammer_and_wrench"],unified:["1F6E0"]},{shortNames:["pick"],unified:["26CF"]},{shortNames:["nut_and_bolt"],unified:["1F529"]},{shortNames:["gear"],unified:["2699","2699-FE0F"]},{shortNames:["chains"],unified:["26D3"]},{shortNames:["gun"],unified:["1F52B"]},{shortNames:["bomb"],unified:["1F4A3"]},{shortNames:["hocho","knife"],unified:["1F52A"]},{shortNames:["dagger_knife"],unified:["1F5E1"]},{shortNames:["crossed_swords"],unified:["2694","2694-FE0F"]},{shortNames:["shield"],unified:["1F6E1"]},{shortNames:["smoking"],unified:["1F6AC"]},{shortNames:["coffin"],unified:["26B0","26B0-FE0F"]},{shortNames:["funeral_urn"],unified:["26B1","26B1-FE0F"]},{shortNames:["amphora"],unified:["1F3FA"]},{shortNames:["crystal_ball"],unified:["1F52E"]},{shortNames:["prayer_beads"],unified:["1F4FF"]},{shortNames:["barber"],unified:["1F488"]},{shortNames:["alembic"],unified:["2697","2697-FE0F"]},{shortNames:["telescope"],unified:["1F52D"]},{shortNames:["microscope"],unified:["1F52C"]},{shortNames:["hole"],unified:["1F573"]},{shortNames:["pill"],unified:["1F48A"]},{shortNames:["syringe"],unified:["1F489"]},{shortNames:["thermometer"],unified:["1F321"]},{shortNames:["toilet"],unified:["1F6BD"]},{shortNames:["potable_water"],unified:["1F6B0"]},{shortNames:["shower"],unified:["1F6BF"]},{shortNames:["bathtub"],unified:["1F6C1"]},{shortNames:["bath"],unified:["1F6C0"],tones:!1},{shortNames:["bellhop_bell"],unified:["1F6CE"]},{shortNames:["key"],unified:["1F511"]},{shortNames:["old_key"],unified:["1F5DD"]},{shortNames:["door"],unified:["1F6AA"]},{shortNames:["couch_and_lamp"],unified:["1F6CB"]},{shortNames:["bed"],unified:["1F6CF"]},{shortNames:["sleeping_accommodation"],unified:["1F6CC"],tones:!1},{shortNames:["frame_with_picture"],unified:["1F5BC"]},{shortNames:["shopping_bags"],unified:["1F6CD"]},{shortNames:["shopping_trolley"],unified:["1F6D2"]},{shortNames:["gift"],unified:["1F381"]},{shortNames:["balloon"],unified:["1F388"]},{shortNames:["flags"],unified:["1F38F"]},{shortNames:["ribbon"],unified:["1F380"]},{shortNames:["confetti_ball"],unified:["1F38A"]},{shortNames:["tada"],unified:["1F389"]},{shortNames:["dolls"],unified:["1F38E"]},{shortNames:["izakaya_lantern","lantern"],unified:["1F3EE"]},{shortNames:["wind_chime"],unified:["1F390"]},{shortNames:["email","envelope"],unified:["2709","2709-FE0F"]},{shortNames:["envelope_with_arrow"],unified:["1F4E9"]},{shortNames:["incoming_envelope"],unified:["1F4E8"]},{shortNames:["e-mail"],unified:["1F4E7"]},{shortNames:["love_letter"],unified:["1F48C"]},{shortNames:["inbox_tray"],unified:["1F4E5"]},{shortNames:["outbox_tray"],unified:["1F4E4"]},{shortNames:["package"],unified:["1F4E6"]},{shortNames:["label"],unified:["1F3F7"]},{shortNames:["mailbox_closed"],unified:["1F4EA"]},{shortNames:["mailbox"],unified:["1F4EB"]},{shortNames:["mailbox_with_mail"],unified:["1F4EC"]},{shortNames:["mailbox_with_no_mail"],unified:["1F4ED"]},{shortNames:["postbox"],unified:["1F4EE"]},{shortNames:["postal_horn"],unified:["1F4EF"]},{shortNames:["scroll"],unified:["1F4DC"]},{shortNames:["page_with_curl"],unified:["1F4C3"]},{shortNames:["page_facing_up"],unified:["1F4C4"]},{shortNames:["bookmark_tabs"],unified:["1F4D1"]},{shortNames:["bar_chart"],unified:["1F4CA"]},{shortNames:["chart_with_upwards_trend"],unified:["1F4C8"]},{shortNames:["chart_with_downwards_trend"],unified:["1F4C9"]},{shortNames:["spiral_note_pad"],unified:["1F5D2"]},{shortNames:["spiral_calendar_pad"],unified:["1F5D3"]},{shortNames:["calendar"],unified:["1F4C6"]},{shortNames:["date"],unified:["1F4C5"]},{shortNames:["card_index"],unified:["1F4C7"]},{shortNames:["card_file_box"],unified:["1F5C3"]},{shortNames:["ballot_box_with_ballot"],unified:["1F5F3"]},{shortNames:["file_cabinet"],unified:["1F5C4"]},{shortNames:["clipboard"],unified:["1F4CB"]},{shortNames:["file_folder"],unified:["1F4C1"]},{shortNames:["open_file_folder"],unified:["1F4C2"]},{shortNames:["card_index_dividers"],unified:["1F5C2"]},{shortNames:["rolled_up_newspaper"],unified:["1F5DE"]},{shortNames:["newspaper"],unified:["1F4F0"]},{shortNames:["notebook"],unified:["1F4D3"]},{shortNames:["notebook_with_decorative_cover"],unified:["1F4D4"]},{shortNames:["ledger"],unified:["1F4D2"]},{shortNames:["closed_book"],unified:["1F4D5"]},{shortNames:["green_book"],unified:["1F4D7"]},{shortNames:["blue_book"],unified:["1F4D8"]},{shortNames:["orange_book"],unified:["1F4D9"]},{shortNames:["books"],unified:["1F4DA"]},{shortNames:["book","open_book"],unified:["1F4D6"]},{shortNames:["bookmark"],unified:["1F516"]},{shortNames:["link"],unified:["1F517"]},{shortNames:["paperclip"],unified:["1F4CE"]},{shortNames:["linked_paperclips"],unified:["1F587"]},{shortNames:["triangular_ruler"],unified:["1F4D0"]},{shortNames:["straight_ruler"],unified:["1F4CF"]},{shortNames:["pushpin"],unified:["1F4CC"]},{shortNames:["round_pushpin"],unified:["1F4CD"]},{shortNames:["scissors"],unified:["2702","2702-FE0F"]},{shortNames:["lower_left_ballpoint_pen"],unified:["1F58A"]},{shortNames:["lower_left_fountain_pen"],unified:["1F58B"]},{shortNames:["black_nib"],unified:["2712","2712-FE0F"]},{shortNames:["lower_left_paintbrush"],unified:["1F58C"]},{shortNames:["lower_left_crayon"],unified:["1F58D"]},{shortNames:["memo","pencil"],unified:["1F4DD"]},{shortNames:["pencil2"],unified:["270F","270F-FE0F"]},{shortNames:["mag"],unified:["1F50D"]},{shortNames:["mag_right"],unified:["1F50E"]},{shortNames:["lock_with_ink_pen"],unified:["1F50F"]},{shortNames:["closed_lock_with_key"],unified:["1F510"]},{shortNames:["lock"],unified:["1F512"]},{shortNames:["unlock"],unified:["1F513"]}],Nature:[{shortNames:["dog"],unified:["1F436"]},{shortNames:["cat"],unified:["1F431"]},{shortNames:["mouse"],unified:["1F42D"]},{shortNames:["hamster"],unified:["1F439"]},{shortNames:["rabbit"],unified:["1F430"]},{shortNames:["fox_face"],unified:["1F98A"]},{shortNames:["bear"],unified:["1F43B"]},{shortNames:["panda_face"],unified:["1F43C"]},{shortNames:["koala"],unified:["1F428"]},{shortNames:["tiger"],unified:["1F42F"]},{shortNames:["lion_face"],unified:["1F981"]},{shortNames:["cow"],unified:["1F42E"]},{shortNames:["pig"],unified:["1F437"]},{shortNames:["pig_nose"],unified:["1F43D"]},{shortNames:["frog"],unified:["1F438"]},{shortNames:["monkey_face"],unified:["1F435"]},{shortNames:["see_no_evil"],unified:["1F648"]},{shortNames:["hear_no_evil"],unified:["1F649"]},{shortNames:["speak_no_evil"],unified:["1F64A"]},{shortNames:["monkey"],unified:["1F412"]},{shortNames:["chicken"],unified:["1F414"]},{shortNames:["penguin"],unified:["1F427"]},{shortNames:["bird"],unified:["1F426"]},{shortNames:["baby_chick"],unified:["1F424"]},{shortNames:["hatching_chick"],unified:["1F423"]},{shortNames:["hatched_chick"],unified:["1F425"]},{shortNames:["duck"],unified:["1F986"]},{shortNames:["eagle"],unified:["1F985"]},{shortNames:["owl"],unified:["1F989"]},{shortNames:["bat"],unified:["1F987"]},{shortNames:["wolf"],unified:["1F43A"]},{shortNames:["boar"],unified:["1F417"]},{shortNames:["horse"],unified:["1F434"]},{shortNames:["unicorn_face"],unified:["1F984"]},{shortNames:["bee","honeybee"],unified:["1F41D"]},{shortNames:["bug"],unified:["1F41B"]},{shortNames:["butterfly"],unified:["1F98B"]},{shortNames:["snail"],unified:["1F40C"]},{shortNames:["shell"],unified:["1F41A"]},{shortNames:["beetle"],unified:["1F41E"]},{shortNames:["ant"],unified:["1F41C"]},{shortNames:["spider"],unified:["1F577"]},{shortNames:["spider_web"],unified:["1F578"]},{shortNames:["turtle"],unified:["1F422"]},{shortNames:["snake"],unified:["1F40D"]},{shortNames:["lizard"],unified:["1F98E"]},{shortNames:["scorpion"],unified:["1F982"]},{shortNames:["crab"],unified:["1F980"]},{shortNames:["squid"],unified:["1F991"]},{shortNames:["octopus"],unified:["1F419"]},{shortNames:["shrimp"],unified:["1F990"]},{shortNames:["tropical_fish"],unified:["1F420"]},{shortNames:["fish"],unified:["1F41F"]},{shortNames:["blowfish"],unified:["1F421"]},{shortNames:["dolphin","flipper"],unified:["1F42C"]},{shortNames:["shark"],unified:["1F988"]},{shortNames:["whale"],unified:["1F433"]},{shortNames:["whale2"],unified:["1F40B"]},{shortNames:["crocodile"],unified:["1F40A"]},{shortNames:["leopard"],unified:["1F406"]},{shortNames:["tiger2"],unified:["1F405"]},{shortNames:["water_buffalo"],unified:["1F403"]},{shortNames:["ox"],unified:["1F402"]},{shortNames:["cow2"],unified:["1F404"]},{shortNames:["deer"],unified:["1F98C"]},{shortNames:["dromedary_camel"],unified:["1F42A"]},{shortNames:["camel"],unified:["1F42B"]},{shortNames:["elephant"],unified:["1F418"]},{shortNames:["rhinoceros"],unified:["1F98F"]},{shortNames:["gorilla"],unified:["1F98D"]},{shortNames:["racehorse"],unified:["1F40E"]},{shortNames:["pig2"],unified:["1F416"]},{shortNames:["goat"],unified:["1F410"]},{shortNames:["ram"],unified:["1F40F"]},{shortNames:["sheep"],unified:["1F411"]},{shortNames:["dog2"],unified:["1F415"]},{shortNames:["poodle"],unified:["1F429"]},{shortNames:["cat2"],unified:["1F408"]},{shortNames:["rooster"],unified:["1F413"]},{shortNames:["turkey"],unified:["1F983"]},{shortNames:["dove_of_peace"],unified:["1F54A"]},{shortNames:["rabbit2"],unified:["1F407"]},{shortNames:["mouse2"],unified:["1F401"]},{shortNames:["rat"],unified:["1F400"]},{shortNames:["chipmunk"],unified:["1F43F"]},{shortNames:["feet","paw_prints"],unified:["1F43E"]},{shortNames:["dragon"],unified:["1F409"]},{shortNames:["dragon_face"],unified:["1F432"]},{shortNames:["cactus"],unified:["1F335"]},{shortNames:["christmas_tree"],unified:["1F384"]},{shortNames:["evergreen_tree"],unified:["1F332"]},{shortNames:["deciduous_tree"],unified:["1F333"]},{shortNames:["palm_tree"],unified:["1F334"]},{shortNames:["seedling"],unified:["1F331"]},{shortNames:["herb"],unified:["1F33F"]},{shortNames:["shamrock"],unified:["2618","2618-FE0F"]},{shortNames:["four_leaf_clover"],unified:["1F340"]},{shortNames:["bamboo"],unified:["1F38D"]},{shortNames:["tanabata_tree"],unified:["1F38B"]},{shortNames:["leaves"],unified:["1F343"]},{shortNames:["fallen_leaf"],unified:["1F342"]},{shortNames:["maple_leaf"],unified:["1F341"]},{shortNames:["mushroom"],unified:["1F344"]},{shortNames:["ear_of_rice"],unified:["1F33E"]},{shortNames:["bouquet"],unified:["1F490"]},{shortNames:["tulip"],unified:["1F337"]},{shortNames:["rose"],unified:["1F339"]},{shortNames:["wilted_flower"],unified:["1F940"]},{shortNames:["sunflower"],unified:["1F33B"]},{shortNames:["blossom"],unified:["1F33C"]},{shortNames:["cherry_blossom"],unified:["1F338"]},{shortNames:["hibiscus"],unified:["1F33A"]},{shortNames:["earth_americas"],unified:["1F30E"]},{shortNames:["earth_africa"],unified:["1F30D"]},{shortNames:["earth_asia"],unified:["1F30F"]},{shortNames:["full_moon"],unified:["1F315"]},{shortNames:["waning_gibbous_moon"],unified:["1F316"]},{shortNames:["last_quarter_moon"],unified:["1F317"]},{shortNames:["waning_crescent_moon"],unified:["1F318"]},{shortNames:["new_moon"],unified:["1F311"]},{shortNames:["waxing_crescent_moon"],unified:["1F312"]},{shortNames:["first_quarter_moon"],unified:["1F313"]},{shortNames:["moon","waxing_gibbous_moon"],unified:["1F314"]},{shortNames:["new_moon_with_face"],unified:["1F31A"]},{shortNames:["full_moon_with_face"],unified:["1F31D"]},{shortNames:["sun_with_face"],unified:["1F31E"]},{shortNames:["first_quarter_moon_with_face"],unified:["1F31B"]},{shortNames:["last_quarter_moon_with_face"],unified:["1F31C"]},{shortNames:["crescent_moon"],unified:["1F319"]},{shortNames:["dizzy"],unified:["1F4AB"]},{shortNames:["star"],unified:["2B50","2B50-FE0F"]},{shortNames:["star2"],unified:["1F31F"]},{shortNames:["sparkles"],unified:["2728"]},{shortNames:["zap"],unified:["26A1","26A1-FE0F"]},{shortNames:["fire"],unified:["1F525"]},{shortNames:["boom","collision"],unified:["1F4A5"]},{shortNames:["comet"],unified:["2604","2604-FE0F"]},{shortNames:["sunny"],unified:["2600","2600-FE0F"]},{shortNames:["mostly_sunny","sun_small_cloud"],unified:["1F324"]},{shortNames:["partly_sunny"],unified:["26C5","26C5-FE0F"]},{shortNames:["barely_sunny","sun_behind_cloud"],unified:["1F325"]},{shortNames:["partly_sunny_rain","sun_behind_rain_cloud"],unified:["1F326"]},{shortNames:["rainbow"],unified:["1F308"]},{shortNames:["cloud"],unified:["2601","2601-FE0F"]},{shortNames:["rain_cloud"],unified:["1F327"]},{shortNames:["thunder_cloud_and_rain"],unified:["26C8"]},{shortNames:["lightning","lightning_cloud"],unified:["1F329"]},{shortNames:["snow_cloud"],unified:["1F328"]},{shortNames:["snowman"],unified:["2603","2603-FE0F"]},{shortNames:["snowman_without_snow"],unified:["26C4","26C4-FE0F"]},{shortNames:["snowflake"],unified:["2744","2744-FE0F"]},{shortNames:["wind_blowing_face"],unified:["1F32C"]},{shortNames:["dash"],unified:["1F4A8"]},{shortNames:["tornado","tornado_cloud"],unified:["1F32A"]},{shortNames:["fog"],unified:["1F32B"]},{shortNames:["ocean"],unified:["1F30A"]},{shortNames:["droplet"],unified:["1F4A7"]},{shortNames:["sweat_drops"],unified:["1F4A6"]},{shortNames:["umbrella_with_rain_drops"],unified:["2614","2614-FE0F"]}],People:[{shortNames:["grinning"],unified:["1F600"]},{shortNames:["smiley"],unified:["1F603"]},{shortNames:["smile"],unified:["1F604"]},{shortNames:["grin"],unified:["1F601"]},{shortNames:["laughing","satisfied"],unified:["1F606"]},{shortNames:["sweat_smile"],unified:["1F605"]},{shortNames:["joy"],unified:["1F602"]},{shortNames:["rolling_on_the_floor_laughing"],unified:["1F923"]},{shortNames:["relaxed"],unified:["263A","263A-FE0F"]},{shortNames:["blush"],unified:["1F60A"]},{shortNames:["innocent"],unified:["1F607"]},{shortNames:["slightly_smiling_face"],unified:["1F642"]},{shortNames:["upside_down_face"],unified:["1F643"]},{shortNames:["wink"],unified:["1F609"]},{shortNames:["relieved"],unified:["1F60C"]},{shortNames:["heart_eyes"],unified:["1F60D"]},{shortNames:["kissing_heart"],unified:["1F618"]},{shortNames:["kissing"],unified:["1F617"]},{shortNames:["kissing_smiling_eyes"],unified:["1F619"]},{shortNames:["kissing_closed_eyes"],unified:["1F61A"]},{shortNames:["yum"],unified:["1F60B"]},{shortNames:["stuck_out_tongue_winking_eye"],unified:["1F61C"]},{shortNames:["stuck_out_tongue_closed_eyes"],unified:["1F61D"]},{shortNames:["stuck_out_tongue"],unified:["1F61B"]},{shortNames:["money_mouth_face"],unified:["1F911"]},{shortNames:["hugging_face"],unified:["1F917"]},{shortNames:["nerd_face"],unified:["1F913"]},{shortNames:["sunglasses"],unified:["1F60E"]},{shortNames:["clown_face"],unified:["1F921"]},{shortNames:["face_with_cowboy_hat"],unified:["1F920"]},{shortNames:["smirk"],unified:["1F60F"]},{shortNames:["unamused"],unified:["1F612"]},{shortNames:["disappointed"],unified:["1F61E"]},{shortNames:["pensive"],unified:["1F614"]},{shortNames:["worried"],unified:["1F61F"]},{shortNames:["confused"],unified:["1F615"]},{shortNames:["slightly_frowning_face"],unified:["1F641"]},{shortNames:["white_frowning_face"],unified:["2639","2639-FE0F"]},{shortNames:["persevere"],unified:["1F623"]},{shortNames:["confounded"],unified:["1F616"]},{shortNames:["tired_face"],unified:["1F62B"]},{shortNames:["weary"],unified:["1F629"]},{shortNames:["triumph"],unified:["1F624"]},{shortNames:["angry"],unified:["1F620"]},{shortNames:["rage"],unified:["1F621"]},{shortNames:["no_mouth"],unified:["1F636"]},{shortNames:["neutral_face"],unified:["1F610"]},{shortNames:["expressionless"],unified:["1F611"]},{shortNames:["hushed"],unified:["1F62F"]},{shortNames:["frowning"],unified:["1F626"]},{shortNames:["anguished"],unified:["1F627"]},{shortNames:["open_mouth"],unified:["1F62E"]},{shortNames:["astonished"],unified:["1F632"]},{shortNames:["dizzy_face"],unified:["1F635"]},{shortNames:["flushed"],unified:["1F633"]},{shortNames:["scream"],unified:["1F631"]},{shortNames:["fearful"],unified:["1F628"]},{shortNames:["cold_sweat"],unified:["1F630"]},{shortNames:["cry"],unified:["1F622"]},{shortNames:["disappointed_relieved"],unified:["1F625"]},{shortNames:["drooling_face"],unified:["1F924"]},{shortNames:["sob"],unified:["1F62D"]},{shortNames:["sweat"],unified:["1F613"]},{shortNames:["sleepy"],unified:["1F62A"]},{shortNames:["sleeping"],unified:["1F634"]},{shortNames:["face_with_rolling_eyes"],unified:["1F644"]},{shortNames:["thinking_face"],unified:["1F914"]},{shortNames:["lying_face"],unified:["1F925"]},{shortNames:["grimacing"],unified:["1F62C"]},{shortNames:["zipper_mouth_face"],unified:["1F910"]},{shortNames:["nauseated_face"],unified:["1F922"]},{shortNames:["sneezing_face"],unified:["1F927"]},{shortNames:["mask"],unified:["1F637"]},{shortNames:["face_with_thermometer"],unified:["1F912"]},{shortNames:["face_with_head_bandage"],unified:["1F915"]},{shortNames:["smiling_imp"],unified:["1F608"]},{shortNames:["imp"],unified:["1F47F"]},{shortNames:["japanese_ogre"],unified:["1F479"]},{shortNames:["japanese_goblin"],unified:["1F47A"]},{shortNames:["hankey","poop","shit"],unified:["1F4A9"]},{shortNames:["ghost"],unified:["1F47B"]},{shortNames:["skull"],unified:["1F480"]},{shortNames:["skull_and_crossbones"],unified:["2620","2620-FE0F"]},{shortNames:["alien"],unified:["1F47D"]},{shortNames:["space_invader"],unified:["1F47E"]},{shortNames:["robot_face"],unified:["1F916"]},{shortNames:["jack_o_lantern"],unified:["1F383"]},{shortNames:["smiley_cat"],unified:["1F63A"]},{shortNames:["smile_cat"],unified:["1F638"]},{shortNames:["joy_cat"],unified:["1F639"]},{shortNames:["heart_eyes_cat"],unified:["1F63B"]},{shortNames:["smirk_cat"],unified:["1F63C"]},{shortNames:["kissing_cat"],unified:["1F63D"]},{shortNames:["scream_cat"],unified:["1F640"]},{shortNames:["crying_cat_face"],unified:["1F63F"]},{shortNames:["pouting_cat"],unified:["1F63E"]},{shortNames:["open_hands"],unified:["1F450"],tones:!1},{shortNames:["raised_hands"],unified:["1F64C"],tones:!1},{shortNames:["clap"],unified:["1F44F"],tones:!1},{shortNames:["pray"],unified:["1F64F"],tones:!1},{shortNames:["handshake"],unified:["1F91D"]},{shortNames:["+1","thumbsup"],unified:["1F44D"],tones:!1},{shortNames:["-1","thumbsdown"],unified:["1F44E"],tones:!1},{shortNames:["facepunch","punch"],unified:["1F44A"],tones:!1},{shortNames:["fist"],unified:["270A"],tones:!1},{shortNames:["left-facing_fist"],unified:["1F91B"],tones:!1},{shortNames:["right-facing_fist"],unified:["1F91C"],tones:!1},{shortNames:["hand_with_index_and_middle_fingers_crossed"],unified:["1F91E"],tones:!1},{shortNames:["v"],unified:["270C","270C-FE0F"],tones:!1},{shortNames:["the_horns","sign_of_the_horns"],unified:["1F918"],tones:!1},{shortNames:["ok_hand"],unified:["1F44C"],tones:!1},{shortNames:["point_left"],unified:["1F448"],tones:!1},{shortNames:["point_right"],unified:["1F449"],tones:!1},{shortNames:["point_up_2"],unified:["1F446"],tones:!1},{shortNames:["point_down"],unified:["1F447"],tones:!1},{shortNames:["point_up"],unified:["261D","261D-FE0F"],tones:!1},{shortNames:["hand","raised_hand"],unified:["270B"],tones:!1},{shortNames:["raised_back_of_hand"],unified:["1F91A"],tones:!1},{shortNames:["raised_hand_with_fingers_splayed"],unified:["1F590"],tones:!1},{shortNames:["spock-hand"],unified:["1F596"],tones:!1},{shortNames:["wave"],unified:["1F44B"],tones:!1},{shortNames:["call_me_hand"],unified:["1F919"],tones:!1},{shortNames:["muscle"],unified:["1F4AA"],tones:!1},{shortNames:["middle_finger","reversed_hand_with_middle_finger_extended"],unified:["1F595"],tones:!1},{shortNames:["writing_hand"],unified:["270D","270D-FE0F"],tones:!1},{shortNames:["selfie"],unified:["1F933"],tones:!1},{shortNames:["nail_care"],unified:["1F485"],tones:!1},{shortNames:["ring"],unified:["1F48D"]},{shortNames:["lipstick"],unified:["1F484"]},{shortNames:["kiss"],unified:["1F48B"]},{shortNames:["lips"],unified:["1F444"]},{shortNames:["tongue"],unified:["1F445"]},{shortNames:["ear"],unified:["1F442"],tones:!1},{shortNames:["nose"],unified:["1F443"],tones:!1},{shortNames:["footprints"],unified:["1F463"]},{shortNames:["eye"],unified:["1F441"]},{shortNames:["eyes"],unified:["1F440"]},{shortNames:["speaking_head_in_silhouette"],unified:["1F5E3"]},{shortNames:["bust_in_silhouette"],unified:["1F464"]},{shortNames:["busts_in_silhouette"],unified:["1F465"]},{shortNames:["baby"],unified:["1F476"],tones:!1},{shortNames:["boy"],unified:["1F466"],tones:!1},{shortNames:["girl"],unified:["1F467"],tones:!1},{shortNames:["man"],unified:["1F468"],tones:!1},{shortNames:["woman"],unified:["1F469"],tones:!1},{shortNames:["blond-haired-woman"],unified:["1F471-200D-2640-FE0F"],tones:!1},{shortNames:["person_with_blond_hair"],unified:["1F471"],tones:!1},{shortNames:["older_man"],unified:["1F474"],tones:!1},{shortNames:["older_woman"],unified:["1F475"],tones:!1},{shortNames:["man_with_gua_pi_mao"],unified:["1F472"],tones:!1},{shortNames:["woman-wearing-turban"],unified:["1F473-200D-2640-FE0F"],tones:!1},{shortNames:["man_with_turban"],unified:["1F473"],tones:!1},{shortNames:["female-police-officer"],unified:["1F46E-200D-2640-FE0F"],tones:!1},{shortNames:["cop"],unified:["1F46E"],tones:!1},{shortNames:["female-construction-worker"],unified:["1F477-200D-2640-FE0F"],tones:!1},{shortNames:["construction_worker"],unified:["1F477"],tones:!1},{shortNames:["female-guard"],unified:["1F482-200D-2640-FE0F"],tones:!1},{shortNames:["guardsman"],unified:["1F482"],tones:!1},{shortNames:["female-detective"],unified:["1F575-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["sleuth_or_spy"],unified:["1F575","1F575-FE0F"],tones:!1},{shortNames:["female-doctor"],unified:["1F469-200D-2695-FE0F"],tones:!1},{shortNames:["male-doctor"],unified:["1F468-200D-2695-FE0F"],tones:!1},{shortNames:["female-farmer"],unified:["1F469-200D-1F33E"],tones:!1},{shortNames:["male-farmer"],unified:["1F468-200D-1F33E"],tones:!1},{shortNames:["female-cook"],unified:["1F469-200D-1F373"],tones:!1},{shortNames:["male-cook"],unified:["1F468-200D-1F373"],tones:!1},{shortNames:["female-student"],unified:["1F469-200D-1F393"],tones:!1},{shortNames:["male-student"],unified:["1F468-200D-1F393"],tones:!1},{shortNames:["female-singer"],unified:["1F469-200D-1F3A4"],tones:!1},{shortNames:["male-singer"],unified:["1F468-200D-1F3A4"],tones:!1},{shortNames:["female-teacher"],unified:["1F469-200D-1F3EB"],tones:!1},{shortNames:["male-teacher"],unified:["1F468-200D-1F3EB"],tones:!1},{shortNames:["female-factory-worker"],unified:["1F469-200D-1F3ED"],tones:!1},{shortNames:["male-factory-worker"],unified:["1F468-200D-1F3ED"],tones:!1},{shortNames:["female-technologist"],unified:["1F469-200D-1F4BB"],tones:!1},{shortNames:["male-technologist"],unified:["1F468-200D-1F4BB"],tones:!1},{shortNames:["female-office-worker"],unified:["1F469-200D-1F4BC"],tones:!1},{shortNames:["male-office-worker"],unified:["1F468-200D-1F4BC"],tones:!1},{shortNames:["female-mechanic"],unified:["1F469-200D-1F527"],tones:!1},{shortNames:["male-mechanic"],unified:["1F468-200D-1F527"],tones:!1},{shortNames:["female-scientist"],unified:["1F469-200D-1F52C"],tones:!1},{shortNames:["male-scientist"],unified:["1F468-200D-1F52C"],tones:!1},{shortNames:["female-artist"],unified:["1F469-200D-1F3A8"],tones:!1},{shortNames:["male-artist"],unified:["1F468-200D-1F3A8"],tones:!1},{shortNames:["female-firefighter"],unified:["1F469-200D-1F692"],tones:!1},{shortNames:["male-firefighter"],unified:["1F468-200D-1F692"],tones:!1},{shortNames:["female-pilot"],unified:["1F469-200D-2708-FE0F"],tones:!1},{shortNames:["male-pilot"],unified:["1F468-200D-2708-FE0F"],tones:!1},{shortNames:["female-astronaut"],unified:["1F469-200D-1F680"],tones:!1},{shortNames:["male-astronaut"],unified:["1F468-200D-1F680"],tones:!1},{shortNames:["female-judge"],unified:["1F469-200D-2696-FE0F"],tones:!1},{shortNames:["male-judge"],unified:["1F468-200D-2696-FE0F"],tones:!1},{shortNames:["mother_christmas"],unified:["1F936"],tones:!1},{shortNames:["santa"],unified:["1F385"],tones:!1},{shortNames:["princess"],unified:["1F478"],tones:!1},{shortNames:["prince"],unified:["1F934"],tones:!1},{shortNames:["bride_with_veil"],unified:["1F470"],tones:!1},{shortNames:["man_in_tuxedo"],unified:["1F935"],tones:!1},{shortNames:["angel"],unified:["1F47C"],tones:!1},{shortNames:["pregnant_woman"],unified:["1F930"],tones:!1},{shortNames:["woman-bowing"],unified:["1F647-200D-2640-FE0F"],tones:!1},{shortNames:["bow"],unified:["1F647"],tones:!1},{shortNames:["information_desk_person"],unified:["1F481"],tones:!1},{shortNames:["man-tipping-hand"],unified:["1F481-200D-2642-FE0F"],tones:!1},{shortNames:["no_good"],unified:["1F645"],tones:!1},{shortNames:["man-gesturing-no"],unified:["1F645-200D-2642-FE0F"],tones:!1},{shortNames:["ok_woman"],unified:["1F646"],tones:!1},{shortNames:["man-gesturing-ok"],unified:["1F646-200D-2642-FE0F"],tones:!1},{shortNames:["raising_hand"],unified:["1F64B"],tones:!1},{shortNames:["man-raising-hand"],unified:["1F64B-200D-2642-FE0F"],tones:!1},{shortNames:["face_palm"],unified:["1F926"],tones:!1},{shortNames:["woman-facepalming"],unified:["1F926-200D-2640-FE0F"],tones:!1},{shortNames:["man-facepalming"],unified:["1F926-200D-2642-FE0F"],tones:!1},{shortNames:["shrug"],unified:["1F937"],tones:!1},{shortNames:["woman-shrugging"],unified:["1F937-200D-2640-FE0F"],tones:!1},{shortNames:["man-shrugging"],unified:["1F937-200D-2642-FE0F"],tones:!1},{shortNames:["person_with_pouting_face"],unified:["1F64E"],tones:!1},{shortNames:["man-pouting"],unified:["1F64E-200D-2642-FE0F"],tones:!1},{shortNames:["person_frowning"],unified:["1F64D"],tones:!1},{shortNames:["man-frowning"],unified:["1F64D-200D-2642-FE0F"],tones:!1},{shortNames:["haircut"],unified:["1F487"],tones:!1},{shortNames:["man-getting-haircut"],unified:["1F487-200D-2642-FE0F"],tones:!1},{shortNames:["massage"],unified:["1F486"],tones:!1},{shortNames:["man-getting-massage"],unified:["1F486-200D-2642-FE0F"],tones:!1},{shortNames:["man_in_business_suit_levitating"],unified:["1F574"],tones:!1},{shortNames:["dancer"],unified:["1F483"],tones:!1},{shortNames:["man_dancing"],unified:["1F57A"],tones:!1},{shortNames:["dancers"],unified:["1F46F"]},{shortNames:["man-with-bunny-ears-partying"],unified:["1F46F-200D-2642-FE0F"]},{shortNames:["woman-walking"],unified:["1F6B6-200D-2640-FE0F"],tones:!1},{shortNames:["walking"],unified:["1F6B6"],tones:!1},{shortNames:["woman-running"],unified:["1F3C3-200D-2640-FE0F"],tones:!1},{shortNames:["runner","running"],unified:["1F3C3"],tones:!1},{shortNames:["couple","man_and_woman_holding_hands"],unified:["1F46B"]},{shortNames:["two_women_holding_hands"],unified:["1F46D"]},{shortNames:["two_men_holding_hands"],unified:["1F46C"]},{shortNames:["couple_with_heart"],unified:["1F491"]},{shortNames:["woman-heart-woman"],unified:["1F469-200D-2764-FE0F-200D-1F469"]},{shortNames:["man-heart-man"],unified:["1F468-200D-2764-FE0F-200D-1F468"]},{shortNames:["couplekiss"],unified:["1F48F"]},{shortNames:["woman-kiss-woman"],unified:["1F469-200D-2764-FE0F-200D-1F48B-200D-1F469"]},{shortNames:["man-kiss-man"],unified:["1F468-200D-2764-FE0F-200D-1F48B-200D-1F468"]},{shortNames:["family","man-woman-boy"],unified:["1F46A"]},{shortNames:["man-woman-girl"],unified:["1F468-200D-1F469-200D-1F467"]},{shortNames:["man-woman-girl-boy"],unified:["1F468-200D-1F469-200D-1F467-200D-1F466"]},{shortNames:["man-woman-boy-boy"],unified:["1F468-200D-1F469-200D-1F466-200D-1F466"]},{shortNames:["man-woman-girl-girl"],unified:["1F468-200D-1F469-200D-1F467-200D-1F467"]},{shortNames:["woman-woman-boy"],unified:["1F469-200D-1F469-200D-1F466"]},{shortNames:["woman-woman-girl"],unified:["1F469-200D-1F469-200D-1F467"]},{shortNames:["woman-woman-girl-boy"],unified:["1F469-200D-1F469-200D-1F467-200D-1F466"]},{shortNames:["woman-woman-boy-boy"],unified:["1F469-200D-1F469-200D-1F466-200D-1F466"]},{shortNames:["woman-woman-girl-girl"],unified:["1F469-200D-1F469-200D-1F467-200D-1F467"]},{shortNames:["man-man-boy"],unified:["1F468-200D-1F468-200D-1F466"]},{shortNames:["man-man-girl"],unified:["1F468-200D-1F468-200D-1F467"]},{shortNames:["man-man-girl-boy"],unified:["1F468-200D-1F468-200D-1F467-200D-1F466"]},{shortNames:["man-man-boy-boy"],unified:["1F468-200D-1F468-200D-1F466-200D-1F466"]},{shortNames:["man-man-girl-girl"],unified:["1F468-200D-1F468-200D-1F467-200D-1F467"]},{shortNames:["woman-boy"],unified:["1F469-200D-1F466"]},{shortNames:["woman-girl"],unified:["1F469-200D-1F467"]},{shortNames:["woman-girl-boy"],unified:["1F469-200D-1F467-200D-1F466"]},{shortNames:["woman-boy-boy"],unified:["1F469-200D-1F466-200D-1F466"]},{shortNames:["woman-girl-girl"],unified:["1F469-200D-1F467-200D-1F467"]},{shortNames:["man-boy"],unified:["1F468-200D-1F466"]},{shortNames:["man-girl"],unified:["1F468-200D-1F467"]},{shortNames:["man-girl-boy"],unified:["1F468-200D-1F467-200D-1F466"]},{shortNames:["man-boy-boy"],unified:["1F468-200D-1F466-200D-1F466"]},{shortNames:["man-girl-girl"],unified:["1F468-200D-1F467-200D-1F467"]},{shortNames:["womans_clothes"],unified:["1F45A"]},{shortNames:["shirt","tshirt"],unified:["1F455"]},{shortNames:["jeans"],unified:["1F456"]},{shortNames:["necktie"],unified:["1F454"]},{shortNames:["dress"],unified:["1F457"]},{shortNames:["bikini"],unified:["1F459"]},{shortNames:["kimono"],unified:["1F458"]},{shortNames:["high_heel"],unified:["1F460"]},{shortNames:["sandal"],unified:["1F461"]},{shortNames:["boot"],unified:["1F462"]},{shortNames:["mans_shoe","shoe"],unified:["1F45E"]},{shortNames:["athletic_shoe"],unified:["1F45F"]},{shortNames:["womans_hat"],unified:["1F452"]},{shortNames:["tophat"],unified:["1F3A9"]},{shortNames:["mortar_board"],unified:["1F393"]},{shortNames:["crown"],unified:["1F451"]},{shortNames:["helmet_with_white_cross"],unified:["26D1"]},{shortNames:["school_satchel"],unified:["1F392"]},{shortNames:["pouch"],unified:["1F45D"]},{shortNames:["purse"],unified:["1F45B"]},{shortNames:["handbag"],unified:["1F45C"]},{shortNames:["briefcase"],unified:["1F4BC"]},{shortNames:["eyeglasses"],unified:["1F453"]},{shortNames:["dark_sunglasses"],unified:["1F576"]},{shortNames:["closed_umbrella"],unified:["1F302"]},{shortNames:["umbrella"],unified:["2602","2602-FE0F"]},{shortNames:["man-woman-boy","family"],unified:["1F468-200D-1F469-200D-1F466"]},{shortNames:["woman-heart-man"],unified:["1F469-200D-2764-FE0F-200D-1F468"]},{shortNames:["woman-kiss-man"],unified:["1F469-200D-2764-FE0F-200D-1F48B-200D-1F468"]},{shortNames:["male-police-officer"],unified:["1F46E-200D-2642-FE0F"],tones:!1},{shortNames:["blond-haired-man"],unified:["1F471-200D-2642-FE0F"],tones:!1},{shortNames:["man-wearing-turban"],unified:["1F473-200D-2642-FE0F"],tones:!1},{shortNames:["male-construction-worker"],unified:["1F477-200D-2642-FE0F"],tones:!1},{shortNames:["male-guard"],unified:["1F482-200D-2642-FE0F"],tones:!1},{shortNames:["male-detective"],unified:["1F575-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["woman-with-bunny-ears-partying"],unified:["1F46F-200D-2640-FE0F"]},{shortNames:["man-running"],unified:["1F3C3-200D-2642-FE0F"],tones:!1},{shortNames:["woman-getting-massage"],unified:["1F486-200D-2640-FE0F"],tones:!1},{shortNames:["woman-getting-haircut"],unified:["1F487-200D-2640-FE0F"],tones:!1},{shortNames:["man-walking"],unified:["1F6B6-200D-2642-FE0F"],tones:!1},{shortNames:["woman-tipping-hand"],unified:["1F481-200D-2640-FE0F"],tones:!1},{shortNames:["woman-gesturing-no"],unified:["1F645-200D-2640-FE0F"],tones:!1},{shortNames:["woman-gesturing-ok"],unified:["1F646-200D-2640-FE0F"],tones:!1},{shortNames:["man-bowing"],unified:["1F647-200D-2642-FE0F"],tones:!1},{shortNames:["woman-raising-hand"],unified:["1F64B-200D-2640-FE0F"],tones:!1},{shortNames:["woman-frowning"],unified:["1F64D-200D-2640-FE0F"],tones:!1},{shortNames:["woman-pouting"],unified:["1F64E-200D-2640-FE0F"],tones:!1}],Foods:[{shortNames:["green_apple"],unified:["1F34F"]},{shortNames:["apple"],unified:["1F34E"]},{shortNames:["pear"],unified:["1F350"]},{shortNames:["tangerine"],unified:["1F34A"]},{shortNames:["lemon"],unified:["1F34B"]},{shortNames:["banana"],unified:["1F34C"]},{shortNames:["watermelon"],unified:["1F349"]},{shortNames:["grapes"],unified:["1F347"]},{shortNames:["strawberry"],unified:["1F353"]},{shortNames:["melon"],unified:["1F348"]},{shortNames:["cherries"],unified:["1F352"]},{shortNames:["peach"],unified:["1F351"]},{shortNames:["pineapple"],unified:["1F34D"]},{shortNames:["kiwifruit"],unified:["1F95D"]},{shortNames:["avocado"],unified:["1F951"]},{shortNames:["tomato"],unified:["1F345"]},{shortNames:["eggplant"],unified:["1F346"]},{shortNames:["cucumber"],unified:["1F952"]},{shortNames:["carrot"],unified:["1F955"]},{shortNames:["corn"],unified:["1F33D"]},{shortNames:["hot_pepper"],unified:["1F336"]},{shortNames:["potato"],unified:["1F954"]},{shortNames:["sweet_potato"],unified:["1F360"]},{shortNames:["chestnut"],unified:["1F330"]},{shortNames:["peanuts"],unified:["1F95C"]},{shortNames:["honey_pot"],unified:["1F36F"]},{shortNames:["croissant"],unified:["1F950"]},{shortNames:["bread"],unified:["1F35E"]},{shortNames:["baguette_bread"],unified:["1F956"]},{shortNames:["cheese_wedge"],unified:["1F9C0"]},{shortNames:["egg"],unified:["1F95A"]},{shortNames:["fried_egg","cooking"],unified:["1F373"]},{shortNames:["bacon"],unified:["1F953"]},{shortNames:["pancakes"],unified:["1F95E"]},{shortNames:["fried_shrimp"],unified:["1F364"]},{shortNames:["poultry_leg"],unified:["1F357"]},{shortNames:["meat_on_bone"],unified:["1F356"]},{shortNames:["pizza"],unified:["1F355"]},{shortNames:["hotdog"],unified:["1F32D"]},{shortNames:["hamburger"],unified:["1F354"]},{shortNames:["fries"],unified:["1F35F"]},{shortNames:["stuffed_flatbread"],unified:["1F959"]},{shortNames:["taco"],unified:["1F32E"]},{shortNames:["burrito"],unified:["1F32F"]},{shortNames:["green_salad"],unified:["1F957"]},{shortNames:["shallow_pan_of_food"],unified:["1F958"]},{shortNames:["spaghetti"],unified:["1F35D"]},{shortNames:["ramen"],unified:["1F35C"]},{shortNames:["stew"],unified:["1F372"]},{shortNames:["fish_cake"],unified:["1F365"]},{shortNames:["sushi"],unified:["1F363"]},{shortNames:["bento"],unified:["1F371"]},{shortNames:["curry"],unified:["1F35B"]},{shortNames:["rice"],unified:["1F35A"]},{shortNames:["rice_ball"],unified:["1F359"]},{shortNames:["rice_cracker"],unified:["1F358"]},{shortNames:["oden"],unified:["1F362"]},{shortNames:["dango"],unified:["1F361"]},{shortNames:["shaved_ice"],unified:["1F367"]},{shortNames:["ice_cream"],unified:["1F368"]},{shortNames:["icecream"],unified:["1F366"]},{shortNames:["cake"],unified:["1F370"]},{shortNames:["birthday"],unified:["1F382"]},{shortNames:["custard"],unified:["1F36E"]},{shortNames:["lollipop"],unified:["1F36D"]},{shortNames:["candy"],unified:["1F36C"]},{shortNames:["chocolate_bar"],unified:["1F36B"]},{shortNames:["popcorn"],unified:["1F37F"]},{shortNames:["doughnut"],unified:["1F369"]},{shortNames:["cookie"],unified:["1F36A"]},{shortNames:["glass_of_milk"],unified:["1F95B"]},{shortNames:["baby_bottle"],unified:["1F37C"]},{shortNames:["coffee"],unified:["2615","2615-FE0F"]},{shortNames:["tea"],unified:["1F375"]},{shortNames:["sake"],unified:["1F376"]},{shortNames:["beer"],unified:["1F37A"]},{shortNames:["beers"],unified:["1F37B"]},{shortNames:["clinking_glasses"],unified:["1F942"]},{shortNames:["wine_glass"],unified:["1F377"]},{shortNames:["tumbler_glass"],unified:["1F943"]},{shortNames:["cocktail"],unified:["1F378"]},{shortNames:["tropical_drink"],unified:["1F379"]},{shortNames:["champagne"],unified:["1F37E"]},{shortNames:["spoon"],unified:["1F944"]},{shortNames:["fork_and_knife"],unified:["1F374"]},{shortNames:["knife_fork_plate"],unified:["1F37D"]}],Places:[{shortNames:["car","red_car"],unified:["1F697"]},{shortNames:["taxi"],unified:["1F695"]},{shortNames:["blue_car"],unified:["1F699"]},{shortNames:["bus"],unified:["1F68C"]},{shortNames:["trolleybus"],unified:["1F68E"]},{shortNames:["racing_car"],unified:["1F3CE"]},{shortNames:["police_car"],unified:["1F693"]},{shortNames:["ambulance"],unified:["1F691"]},{shortNames:["fire_engine"],unified:["1F692"]},{shortNames:["minibus"],unified:["1F690"]},{shortNames:["truck"],unified:["1F69A"]},{shortNames:["articulated_lorry"],unified:["1F69B"]},{shortNames:["tractor"],unified:["1F69C"]},{shortNames:["scooter"],unified:["1F6F4"]},{shortNames:["bike"],unified:["1F6B2"]},{shortNames:["motor_scooter"],unified:["1F6F5"]},{shortNames:["racing_motorcycle"],unified:["1F3CD"]},{shortNames:["rotating_light"],unified:["1F6A8"]},{shortNames:["oncoming_police_car"],unified:["1F694"]},{shortNames:["oncoming_bus"],unified:["1F68D"]},{shortNames:["oncoming_automobile"],unified:["1F698"]},{shortNames:["oncoming_taxi"],unified:["1F696"]},{shortNames:["aerial_tramway"],unified:["1F6A1"]},{shortNames:["mountain_cableway"],unified:["1F6A0"]},{shortNames:["suspension_railway"],unified:["1F69F"]},{shortNames:["railway_car"],unified:["1F683"]},{shortNames:["train"],unified:["1F68B"]},{shortNames:["mountain_railway"],unified:["1F69E"]},{shortNames:["monorail"],unified:["1F69D"]},{shortNames:["bullettrain_side"],unified:["1F684"]},{shortNames:["bullettrain_front"],unified:["1F685"]},{shortNames:["light_rail"],unified:["1F688"]},{shortNames:["steam_locomotive"],unified:["1F682"]},{shortNames:["train2"],unified:["1F686"]},{shortNames:["metro"],unified:["1F687"]},{shortNames:["tram"],unified:["1F68A"]},{shortNames:["station"],unified:["1F689"]},{shortNames:["helicopter"],unified:["1F681"]},{shortNames:["small_airplane"],unified:["1F6E9"]},{shortNames:["airplane"],unified:["2708","2708-FE0F"]},{shortNames:["airplane_departure"],unified:["1F6EB"]},{shortNames:["airplane_arriving"],unified:["1F6EC"]},{shortNames:["rocket"],unified:["1F680"]},{shortNames:["satellite"],unified:["1F6F0"]},{shortNames:["seat"],unified:["1F4BA"]},{shortNames:["canoe"],unified:["1F6F6"]},{shortNames:["boat","sailboat"],unified:["26F5","26F5-FE0F"]},{shortNames:["motor_boat"],unified:["1F6E5"]},{shortNames:["speedboat"],unified:["1F6A4"]},{shortNames:["passenger_ship"],unified:["1F6F3"]},{shortNames:["ferry"],unified:["26F4"]},{shortNames:["ship"],unified:["1F6A2"]},{shortNames:["anchor"],unified:["2693","2693-FE0F"]},{shortNames:["construction"],unified:["1F6A7"]},{shortNames:["fuelpump"],unified:["26FD","26FD-FE0F"]},{shortNames:["busstop"],unified:["1F68F"]},{shortNames:["vertical_traffic_light"],unified:["1F6A6"]},{shortNames:["traffic_light"],unified:["1F6A5"]},{shortNames:["world_map"],unified:["1F5FA"]},{shortNames:["moyai"],unified:["1F5FF"]},{shortNames:["statue_of_liberty"],unified:["1F5FD"]},{shortNames:["fountain"],unified:["26F2","26F2-FE0F"]},{shortNames:["tokyo_tower"],unified:["1F5FC"]},{shortNames:["european_castle"],unified:["1F3F0"]},{shortNames:["japanese_castle"],unified:["1F3EF"]},{shortNames:["stadium"],unified:["1F3DF"]},{shortNames:["ferris_wheel"],unified:["1F3A1"]},{shortNames:["roller_coaster"],unified:["1F3A2"]},{shortNames:["carousel_horse"],unified:["1F3A0"]},{shortNames:["umbrella_on_ground"],unified:["26F1"]},{shortNames:["beach_with_umbrella"],unified:["1F3D6"]},{shortNames:["desert_island"],unified:["1F3DD"]},{shortNames:["mountain"],unified:["26F0"]},{shortNames:["snow_capped_mountain"],unified:["1F3D4"]},{shortNames:["mount_fuji"],unified:["1F5FB"]},{shortNames:["volcano"],unified:["1F30B"]},{shortNames:["desert"],unified:["1F3DC"]},{shortNames:["camping"],unified:["1F3D5"]},{shortNames:["tent"],unified:["26FA","26FA-FE0F"]},{shortNames:["railway_track"],unified:["1F6E4"]},{shortNames:["motorway"],unified:["1F6E3"]},{shortNames:["building_construction"],unified:["1F3D7"]},{shortNames:["factory"],unified:["1F3ED"]},{shortNames:["house"],unified:["1F3E0"]},{shortNames:["house_with_garden"],unified:["1F3E1"]},{shortNames:["house_buildings"],unified:["1F3D8"]},{shortNames:["derelict_house_building"],unified:["1F3DA"]},{shortNames:["office"],unified:["1F3E2"]},{shortNames:["department_store"],unified:["1F3EC"]},{shortNames:["post_office"],unified:["1F3E3"]},{shortNames:["european_post_office"],unified:["1F3E4"]},{shortNames:["hospital"],unified:["1F3E5"]},{shortNames:["bank"],unified:["1F3E6"]},{shortNames:["hotel"],unified:["1F3E8"]},{shortNames:["convenience_store"],unified:["1F3EA"]},{shortNames:["school"],unified:["1F3EB"]},{shortNames:["love_hotel"],unified:["1F3E9"]},{shortNames:["wedding"],unified:["1F492"]},{shortNames:["classical_building"],unified:["1F3DB"]},{shortNames:["church"],unified:["26EA","26EA-FE0F"]},{shortNames:["mosque"],unified:["1F54C"]},{shortNames:["synagogue"],unified:["1F54D"]},{shortNames:["kaaba"],unified:["1F54B"]},{shortNames:["shinto_shrine"],unified:["26E9"]},{shortNames:["japan"],unified:["1F5FE"]},{shortNames:["rice_scene"],unified:["1F391"]},{shortNames:["national_park"],unified:["1F3DE"]},{shortNames:["sunrise"],unified:["1F305"]},{shortNames:["sunrise_over_mountains"],unified:["1F304"]},{shortNames:["stars"],unified:["1F320"]},{shortNames:["sparkler"],unified:["1F387"]},{shortNames:["fireworks"],unified:["1F386"]},{shortNames:["city_sunrise"],unified:["1F307"]},{shortNames:["city_sunset"],unified:["1F306"]},{shortNames:["cityscape"],unified:["1F3D9"]},{shortNames:["night_with_stars"],unified:["1F303"]},{shortNames:["milky_way"],unified:["1F30C"]},{shortNames:["bridge_at_night"],unified:["1F309"]},{shortNames:["foggy"],unified:["1F301"]}],Activity:[{shortNames:["soccer"],unified:["26BD","26BD-FE0F"]},{shortNames:["basketball"],unified:["1F3C0"]},{shortNames:["football"],unified:["1F3C8"]},{shortNames:["baseball"],unified:["26BE","26BE-FE0F"]},{shortNames:["tennis"],unified:["1F3BE"]},{shortNames:["volleyball"],unified:["1F3D0"]},{shortNames:["rugby_football"],unified:["1F3C9"]},{shortNames:["8ball"],unified:["1F3B1"]},{shortNames:["table_tennis_paddle_and_ball"],unified:["1F3D3"]},{shortNames:["badminton_racquet_and_shuttlecock"],unified:["1F3F8"]},{shortNames:["goal_net"],unified:["1F945"]},{shortNames:["ice_hockey_stick_and_puck"],unified:["1F3D2"]},{shortNames:["field_hockey_stick_and_ball"],unified:["1F3D1"]},{shortNames:["cricket_bat_and_ball"],unified:["1F3CF"]},{shortNames:["golf"],unified:["26F3","26F3-FE0F"]},{shortNames:["bow_and_arrow"],unified:["1F3F9"]},{shortNames:["fishing_pole_and_fish"],unified:["1F3A3"]},{shortNames:["boxing_glove"],unified:["1F94A"]},{shortNames:["martial_arts_uniform"],unified:["1F94B"]},{shortNames:["ice_skate"],unified:["26F8"]},{shortNames:["ski"],unified:["1F3BF"]},{shortNames:["skier"],unified:["26F7"]},{shortNames:["snowboarder"],unified:["1F3C2"],tones:!1},{shortNames:["woman-lifting-weights"],unified:["1F3CB-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["weight_lifter"],unified:["1F3CB","1F3CB-FE0F"],tones:!1},{shortNames:["fencer"],unified:["1F93A"]},{shortNames:["wrestlers"],unified:["1F93C"]},{shortNames:["woman-wrestling"],unified:["1F93C-200D-2640-FE0F"]},{shortNames:["man-wrestling"],unified:["1F93C-200D-2642-FE0F"]},{shortNames:["person_doing_cartwheel"],unified:["1F938"],tones:!1},{shortNames:["woman-cartwheeling"],unified:["1F938-200D-2640-FE0F"],tones:!1},{shortNames:["man-cartwheeling"],unified:["1F938-200D-2642-FE0F"],tones:!1},{shortNames:["woman-bouncing-ball"],unified:["26F9-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["person_with_ball"],unified:["26F9","26F9-FE0F"],tones:!1},{shortNames:["handball"],unified:["1F93E"],tones:!1},{shortNames:["woman-playing-handball"],unified:["1F93E-200D-2640-FE0F"],tones:!1},{shortNames:["man-playing-handball"],unified:["1F93E-200D-2642-FE0F"],tones:!1},{shortNames:["woman-golfing"],unified:["1F3CC-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["golfer"],unified:["1F3CC","1F3CC-FE0F"],tones:!1},{shortNames:["woman-surfing"],unified:["1F3C4-200D-2640-FE0F"],tones:!1},{shortNames:["surfer"],unified:["1F3C4"],tones:!1},{shortNames:["woman-swimming"],unified:["1F3CA-200D-2640-FE0F"],tones:!1},{shortNames:["swimmer"],unified:["1F3CA"],tones:!1},{shortNames:["water_polo"],unified:["1F93D"],tones:!1},{shortNames:["woman-playing-water-polo"],unified:["1F93D-200D-2640-FE0F"],tones:!1},{shortNames:["man-playing-water-polo"],unified:["1F93D-200D-2642-FE0F"],tones:!1},{shortNames:["woman-rowing-boat"],unified:["1F6A3-200D-2640-FE0F"],tones:!1},{shortNames:["rowboat"],unified:["1F6A3"],tones:!1},{shortNames:["horse_racing"],unified:["1F3C7"],tones:!1},{shortNames:["woman-biking"],unified:["1F6B4-200D-2640-FE0F"],tones:!1},{shortNames:["bicyclist"],unified:["1F6B4"],tones:!1},{shortNames:["woman-mountain-biking"],unified:["1F6B5-200D-2640-FE0F"],tones:!1},{shortNames:["mountain_bicyclist"],unified:["1F6B5"],tones:!1},{shortNames:["running_shirt_with_sash"],unified:["1F3BD"]},{shortNames:["sports_medal"],unified:["1F3C5"]},{shortNames:["medal"],unified:["1F396"]},{shortNames:["first_place_medal"],unified:["1F947"]},{shortNames:["second_place_medal"],unified:["1F948"]},{shortNames:["third_place_medal"],unified:["1F949"]},{shortNames:["trophy"],unified:["1F3C6"]},{shortNames:["rosette"],unified:["1F3F5"]},{shortNames:["reminder_ribbon"],unified:["1F397"]},{shortNames:["ticket"],unified:["1F3AB"]},{shortNames:["admission_tickets"],unified:["1F39F"]},{shortNames:["circus_tent"],unified:["1F3AA"]},{shortNames:["juggling"],unified:["1F939"],tones:!1},{shortNames:["woman-juggling"],unified:["1F939-200D-2640-FE0F"],tones:!1},{shortNames:["man-juggling"],unified:["1F939-200D-2642-FE0F"],tones:!1},{shortNames:["performing_arts"],unified:["1F3AD"]},{shortNames:["art"],unified:["1F3A8"]},{shortNames:["clapper"],unified:["1F3AC"]},{shortNames:["microphone"],unified:["1F3A4"]},{shortNames:["headphones"],unified:["1F3A7"]},{shortNames:["musical_score"],unified:["1F3BC"]},{shortNames:["musical_keyboard"],unified:["1F3B9"]},{shortNames:["drum_with_drumsticks"],unified:["1F941"]},{shortNames:["saxophone"],unified:["1F3B7"]},{shortNames:["trumpet"],unified:["1F3BA"]},{shortNames:["guitar"],unified:["1F3B8"]},{shortNames:["violin"],unified:["1F3BB"]},{shortNames:["game_die"],unified:["1F3B2"]},{shortNames:["dart"],unified:["1F3AF"]},{shortNames:["bowling"],unified:["1F3B3"]},{shortNames:["video_game"],unified:["1F3AE"]},{shortNames:["slot_machine"],unified:["1F3B0"]},{shortNames:["man-bouncing-ball"],unified:["26F9-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["man-lifting-weights"],unified:["1F3CB-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["man-golfing"],unified:["1F3CC-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["man-surfing"],unified:["1F3C4-200D-2642-FE0F"],tones:!1},{shortNames:["man-swimming"],unified:["1F3CA-200D-2642-FE0F"],tones:!1},{shortNames:["man-rowing-boat"],unified:["1F6A3-200D-2642-FE0F"],tones:!1},{shortNames:["man-biking"],unified:["1F6B4-200D-2642-FE0F"],tones:!1},{shortNames:["man-mountain-biking"],unified:["1F6B5-200D-2642-FE0F"],tones:!1}],Flags:[{shortNames:["waving_white_flag"],unified:["1F3F3","1F3F3-FE0F"]},{shortNames:["waving_black_flag"],unified:["1F3F4"]},{shortNames:["checkered_flag"],unified:["1F3C1"]},{shortNames:["triangular_flag_on_post"],unified:["1F6A9"]},{shortNames:["rainbow-flag"],unified:["1F3F3-FE0F-200D-1F308"]},{shortNames:["flag-af"],unified:["1F1E6-1F1EB"]},{shortNames:["flag-ax"],unified:["1F1E6-1F1FD"]},{shortNames:["flag-al"],unified:["1F1E6-1F1F1"]},{shortNames:["flag-dz"],unified:["1F1E9-1F1FF"]},{shortNames:["flag-as"],unified:["1F1E6-1F1F8"]},{shortNames:["flag-ad"],unified:["1F1E6-1F1E9"]},{shortNames:["flag-ao"],unified:["1F1E6-1F1F4"]},{shortNames:["flag-ai"],unified:["1F1E6-1F1EE"]},{shortNames:["flag-aq"],unified:["1F1E6-1F1F6"]},{shortNames:["flag-ag"],unified:["1F1E6-1F1EC"]},{shortNames:["flag-ar"],unified:["1F1E6-1F1F7"]},{shortNames:["flag-am"],unified:["1F1E6-1F1F2"]},{shortNames:["flag-aw"],unified:["1F1E6-1F1FC"]},{shortNames:["flag-au"],unified:["1F1E6-1F1FA"]},{shortNames:["flag-at"],unified:["1F1E6-1F1F9"]},{shortNames:["flag-az"],unified:["1F1E6-1F1FF"]},{shortNames:["flag-bs"],unified:["1F1E7-1F1F8"]},{shortNames:["flag-bh"],unified:["1F1E7-1F1ED"]},{shortNames:["flag-bd"],unified:["1F1E7-1F1E9"]},{shortNames:["flag-bb"],unified:["1F1E7-1F1E7"]},{shortNames:["flag-by"],unified:["1F1E7-1F1FE"]},{shortNames:["flag-be"],unified:["1F1E7-1F1EA"]},{shortNames:["flag-bz"],unified:["1F1E7-1F1FF"]},{shortNames:["flag-bj"],unified:["1F1E7-1F1EF"]},{shortNames:["flag-bm"],unified:["1F1E7-1F1F2"]},{shortNames:["flag-bt"],unified:["1F1E7-1F1F9"]},{shortNames:["flag-bo"],unified:["1F1E7-1F1F4"]},{shortNames:["flag-bq"],unified:["1F1E7-1F1F6"]},{shortNames:["flag-ba"],unified:["1F1E7-1F1E6"]},{shortNames:["flag-bw"],unified:["1F1E7-1F1FC"]},{shortNames:["flag-br"],unified:["1F1E7-1F1F7"]},{shortNames:["flag-io"],unified:["1F1EE-1F1F4"]},{shortNames:["flag-vg"],unified:["1F1FB-1F1EC"]},{shortNames:["flag-bn"],unified:["1F1E7-1F1F3"]},{shortNames:["flag-bg"],unified:["1F1E7-1F1EC"]},{shortNames:["flag-bf"],unified:["1F1E7-1F1EB"]},{shortNames:["flag-bi"],unified:["1F1E7-1F1EE"]},{shortNames:["flag-cv"],unified:["1F1E8-1F1FB"]},{shortNames:["flag-kh"],unified:["1F1F0-1F1ED"]},{shortNames:["flag-cm"],unified:["1F1E8-1F1F2"]},{shortNames:["flag-ca"],unified:["1F1E8-1F1E6"]},{shortNames:["flag-ic"],unified:["1F1EE-1F1E8"]},{shortNames:["flag-ky"],unified:["1F1F0-1F1FE"]},{shortNames:["flag-cf"],unified:["1F1E8-1F1EB"]},{shortNames:["flag-td"],unified:["1F1F9-1F1E9"]},{shortNames:["flag-cl"],unified:["1F1E8-1F1F1"]},{shortNames:["flag-cn","cn"],unified:["1F1E8-1F1F3"]},{shortNames:["flag-cx"],unified:["1F1E8-1F1FD"]},{shortNames:["flag-cc"],unified:["1F1E8-1F1E8"]},{shortNames:["flag-co"],unified:["1F1E8-1F1F4"]},{shortNames:["flag-km"],unified:["1F1F0-1F1F2"]},{shortNames:["flag-cg"],unified:["1F1E8-1F1EC"]},{shortNames:["flag-cd"],unified:["1F1E8-1F1E9"]},{shortNames:["flag-ck"],unified:["1F1E8-1F1F0"]},{shortNames:["flag-cr"],unified:["1F1E8-1F1F7"]},{shortNames:["flag-ci"],unified:["1F1E8-1F1EE"]},{shortNames:["flag-hr"],unified:["1F1ED-1F1F7"]},{shortNames:["flag-cu"],unified:["1F1E8-1F1FA"]},{shortNames:["flag-cw"],unified:["1F1E8-1F1FC"]},{shortNames:["flag-cy"],unified:["1F1E8-1F1FE"]},{shortNames:["flag-cz"],unified:["1F1E8-1F1FF"]},{shortNames:["flag-dk"],unified:["1F1E9-1F1F0"]},{shortNames:["flag-dj"],unified:["1F1E9-1F1EF"]},{shortNames:["flag-dm"],unified:["1F1E9-1F1F2"]},{shortNames:["flag-do"],unified:["1F1E9-1F1F4"]},{shortNames:["flag-ec"],unified:["1F1EA-1F1E8"]},{shortNames:["flag-eg"],unified:["1F1EA-1F1EC"]},{shortNames:["flag-sv"],unified:["1F1F8-1F1FB"]},{shortNames:["flag-gq"],unified:["1F1EC-1F1F6"]},{shortNames:["flag-er"],unified:["1F1EA-1F1F7"]},{shortNames:["flag-ee"],unified:["1F1EA-1F1EA"]},{shortNames:["flag-et"],unified:["1F1EA-1F1F9"]},{shortNames:["flag-eu"],unified:["1F1EA-1F1FA"]},{shortNames:["flag-fk"],unified:["1F1EB-1F1F0"]},{shortNames:["flag-fo"],unified:["1F1EB-1F1F4"]},{shortNames:["flag-fj"],unified:["1F1EB-1F1EF"]},{shortNames:["flag-fi"],unified:["1F1EB-1F1EE"]},{shortNames:["flag-fr","fr"],unified:["1F1EB-1F1F7"]},{shortNames:["flag-gf"],unified:["1F1EC-1F1EB"]},{shortNames:["flag-pf"],unified:["1F1F5-1F1EB"]},{shortNames:["flag-tf"],unified:["1F1F9-1F1EB"]},{shortNames:["flag-ga"],unified:["1F1EC-1F1E6"]},{shortNames:["flag-gm"],unified:["1F1EC-1F1F2"]},{shortNames:["flag-ge"],unified:["1F1EC-1F1EA"]},{shortNames:["flag-de","de"],unified:["1F1E9-1F1EA"]},{shortNames:["flag-gh"],unified:["1F1EC-1F1ED"]},{shortNames:["flag-gi"],unified:["1F1EC-1F1EE"]},{shortNames:["flag-gr"],unified:["1F1EC-1F1F7"]},{shortNames:["flag-gl"],unified:["1F1EC-1F1F1"]},{shortNames:["flag-gd"],unified:["1F1EC-1F1E9"]},{shortNames:["flag-gp"],unified:["1F1EC-1F1F5"]},{shortNames:["flag-gu"],unified:["1F1EC-1F1FA"]},{shortNames:["flag-gt"],unified:["1F1EC-1F1F9"]},{shortNames:["flag-gg"],unified:["1F1EC-1F1EC"]},{shortNames:["flag-gn"],unified:["1F1EC-1F1F3"]},{shortNames:["flag-gw"],unified:["1F1EC-1F1FC"]},{shortNames:["flag-gy"],unified:["1F1EC-1F1FE"]},{shortNames:["flag-ht"],unified:["1F1ED-1F1F9"]},{shortNames:["flag-hn"],unified:["1F1ED-1F1F3"]},{shortNames:["flag-hk"],unified:["1F1ED-1F1F0"]},{shortNames:["flag-hu"],unified:["1F1ED-1F1FA"]},{shortNames:["flag-is"],unified:["1F1EE-1F1F8"]},{shortNames:["flag-in"],unified:["1F1EE-1F1F3"]},{shortNames:["flag-id"],unified:["1F1EE-1F1E9"]},{shortNames:["flag-ir"],unified:["1F1EE-1F1F7"]},{shortNames:["flag-iq"],unified:["1F1EE-1F1F6"]},{shortNames:["flag-ie"],unified:["1F1EE-1F1EA"]},{shortNames:["flag-im"],unified:["1F1EE-1F1F2"]},{shortNames:["flag-il"],unified:["1F1EE-1F1F1"]},{shortNames:["flag-it","it"],unified:["1F1EE-1F1F9"]},{shortNames:["flag-jm"],unified:["1F1EF-1F1F2"]},{shortNames:["flag-jp","jp"],unified:["1F1EF-1F1F5"]},{shortNames:["crossed_flags"],unified:["1F38C"]},{shortNames:["flag-je"],unified:["1F1EF-1F1EA"]},{shortNames:["flag-jo"],unified:["1F1EF-1F1F4"]},{shortNames:["flag-kz"],unified:["1F1F0-1F1FF"]},{shortNames:["flag-ke"],unified:["1F1F0-1F1EA"]},{shortNames:["flag-ki"],unified:["1F1F0-1F1EE"]},{shortNames:["flag-xk"],unified:["1F1FD-1F1F0"]},{shortNames:["flag-kw"],unified:["1F1F0-1F1FC"]},{shortNames:["flag-kg"],unified:["1F1F0-1F1EC"]},{shortNames:["flag-la"],unified:["1F1F1-1F1E6"]},{shortNames:["flag-lv"],unified:["1F1F1-1F1FB"]},{shortNames:["flag-lb"],unified:["1F1F1-1F1E7"]},{shortNames:["flag-ls"],unified:["1F1F1-1F1F8"]},{shortNames:["flag-lr"],unified:["1F1F1-1F1F7"]},{shortNames:["flag-ly"],unified:["1F1F1-1F1FE"]},{shortNames:["flag-li"],unified:["1F1F1-1F1EE"]},{shortNames:["flag-lt"],unified:["1F1F1-1F1F9"]},{shortNames:["flag-lu"],unified:["1F1F1-1F1FA"]},{shortNames:["flag-mo"],unified:["1F1F2-1F1F4"]},{shortNames:["flag-mk"],unified:["1F1F2-1F1F0"]},{shortNames:["flag-mg"],unified:["1F1F2-1F1EC"]},{shortNames:["flag-mw"],unified:["1F1F2-1F1FC"]},{shortNames:["flag-my"],unified:["1F1F2-1F1FE"]},{shortNames:["flag-mv"],unified:["1F1F2-1F1FB"]},{shortNames:["flag-ml"],unified:["1F1F2-1F1F1"]},{shortNames:["flag-mt"],unified:["1F1F2-1F1F9"]},{shortNames:["flag-mh"],unified:["1F1F2-1F1ED"]},{shortNames:["flag-mq"],unified:["1F1F2-1F1F6"]},{shortNames:["flag-mr"],unified:["1F1F2-1F1F7"]},{shortNames:["flag-mu"],unified:["1F1F2-1F1FA"]},{shortNames:["flag-yt"],unified:["1F1FE-1F1F9"]},{shortNames:["flag-mx"],unified:["1F1F2-1F1FD"]},{shortNames:["flag-fm"],unified:["1F1EB-1F1F2"]},{shortNames:["flag-md"],unified:["1F1F2-1F1E9"]},{shortNames:["flag-mc"],unified:["1F1F2-1F1E8"]},{shortNames:["flag-mn"],unified:["1F1F2-1F1F3"]},{shortNames:["flag-me"],unified:["1F1F2-1F1EA"]},{shortNames:["flag-ms"],unified:["1F1F2-1F1F8"]},{shortNames:["flag-ma"],unified:["1F1F2-1F1E6"]},{shortNames:["flag-mz"],unified:["1F1F2-1F1FF"]},{shortNames:["flag-mm"],unified:["1F1F2-1F1F2"]},{shortNames:["flag-na"],unified:["1F1F3-1F1E6"]},{shortNames:["flag-nr"],unified:["1F1F3-1F1F7"]},{shortNames:["flag-np"],unified:["1F1F3-1F1F5"]},{shortNames:["flag-nl"],unified:["1F1F3-1F1F1"]},{shortNames:["flag-nc"],unified:["1F1F3-1F1E8"]},{shortNames:["flag-nz"],unified:["1F1F3-1F1FF"]},{shortNames:["flag-ni"],unified:["1F1F3-1F1EE"]},{shortNames:["flag-ne"],unified:["1F1F3-1F1EA"]},{shortNames:["flag-ng"],unified:["1F1F3-1F1EC"]},{shortNames:["flag-nu"],unified:["1F1F3-1F1FA"]},{shortNames:["flag-nf"],unified:["1F1F3-1F1EB"]},{shortNames:["flag-mp"],unified:["1F1F2-1F1F5"]},{shortNames:["flag-kp"],unified:["1F1F0-1F1F5"]},{shortNames:["flag-no"],unified:["1F1F3-1F1F4"]},{shortNames:["flag-om"],unified:["1F1F4-1F1F2"]},{shortNames:["flag-pk"],unified:["1F1F5-1F1F0"]},{shortNames:["flag-pw"],unified:["1F1F5-1F1FC"]},{shortNames:["flag-ps"],unified:["1F1F5-1F1F8"]},{shortNames:["flag-pa"],unified:["1F1F5-1F1E6"]},{shortNames:["flag-pg"],unified:["1F1F5-1F1EC"]},{shortNames:["flag-py"],unified:["1F1F5-1F1FE"]},{shortNames:["flag-pe"],unified:["1F1F5-1F1EA"]},{shortNames:["flag-ph"],unified:["1F1F5-1F1ED"]},{shortNames:["flag-pn"],unified:["1F1F5-1F1F3"]},{shortNames:["flag-pl"],unified:["1F1F5-1F1F1"]},{shortNames:["flag-pt"],unified:["1F1F5-1F1F9"]},{shortNames:["flag-pr"],unified:["1F1F5-1F1F7"]},{shortNames:["flag-qa"],unified:["1F1F6-1F1E6"]},{shortNames:["flag-re"],unified:["1F1F7-1F1EA"]},{shortNames:["flag-ro"],unified:["1F1F7-1F1F4"]},{shortNames:["flag-ru","ru"],unified:["1F1F7-1F1FA"]},{shortNames:["flag-rw"],unified:["1F1F7-1F1FC"]},{shortNames:["flag-bl"],unified:["1F1E7-1F1F1"]},{shortNames:["flag-sh"],unified:["1F1F8-1F1ED"]},{shortNames:["flag-kn"],unified:["1F1F0-1F1F3"]},{shortNames:["flag-lc"],unified:["1F1F1-1F1E8"]},{shortNames:["flag-pm"],unified:["1F1F5-1F1F2"]},{shortNames:["flag-vc"],unified:["1F1FB-1F1E8"]},{shortNames:["flag-ws"],unified:["1F1FC-1F1F8"]},{shortNames:["flag-sm"],unified:["1F1F8-1F1F2"]},{shortNames:["flag-st"],unified:["1F1F8-1F1F9"]},{shortNames:["flag-sa"],unified:["1F1F8-1F1E6"]},{shortNames:["flag-sn"],unified:["1F1F8-1F1F3"]},{shortNames:["flag-rs"],unified:["1F1F7-1F1F8"]},{shortNames:["flag-sc"],unified:["1F1F8-1F1E8"]},{shortNames:["flag-sl"],unified:["1F1F8-1F1F1"]},{shortNames:["flag-sg"],unified:["1F1F8-1F1EC"]},{shortNames:["flag-sx"],unified:["1F1F8-1F1FD"]},{shortNames:["flag-sk"],unified:["1F1F8-1F1F0"]},{shortNames:["flag-si"],unified:["1F1F8-1F1EE"]},{shortNames:["flag-sb"],unified:["1F1F8-1F1E7"]},{shortNames:["flag-so"],unified:["1F1F8-1F1F4"]},{shortNames:["flag-za"],unified:["1F1FF-1F1E6"]},{shortNames:["flag-gs"],unified:["1F1EC-1F1F8"]},{shortNames:["flag-kr","kr"],unified:["1F1F0-1F1F7"]},{shortNames:["flag-ss"],unified:["1F1F8-1F1F8"]},{shortNames:["flag-es","es"],unified:["1F1EA-1F1F8"]},{shortNames:["flag-lk"],unified:["1F1F1-1F1F0"]},{shortNames:["flag-sd"],unified:["1F1F8-1F1E9"]},{shortNames:["flag-sr"],unified:["1F1F8-1F1F7"]},{shortNames:["flag-sz"],unified:["1F1F8-1F1FF"]},{shortNames:["flag-se"],unified:["1F1F8-1F1EA"]},{shortNames:["flag-ch"],unified:["1F1E8-1F1ED"]},{shortNames:["flag-sy"],unified:["1F1F8-1F1FE"]},{shortNames:["flag-tw"],unified:["1F1F9-1F1FC"]},{shortNames:["flag-tj"],unified:["1F1F9-1F1EF"]},{shortNames:["flag-tz"],unified:["1F1F9-1F1FF"]},{shortNames:["flag-th"],unified:["1F1F9-1F1ED"]},{shortNames:["flag-tl"],unified:["1F1F9-1F1F1"]},{shortNames:["flag-tg"],unified:["1F1F9-1F1EC"]},{shortNames:["flag-tk"],unified:["1F1F9-1F1F0"]},{shortNames:["flag-to"],unified:["1F1F9-1F1F4"]},{shortNames:["flag-tt"],unified:["1F1F9-1F1F9"]},{shortNames:["flag-tn"],unified:["1F1F9-1F1F3"]},{shortNames:["flag-tr"],unified:["1F1F9-1F1F7"]},{shortNames:["flag-tm"],unified:["1F1F9-1F1F2"]},{shortNames:["flag-tc"],unified:["1F1F9-1F1E8"]},{shortNames:["flag-tv"],unified:["1F1F9-1F1FB"]},{shortNames:["flag-ug"],unified:["1F1FA-1F1EC"]},{shortNames:["flag-ua"],unified:["1F1FA-1F1E6"]},{shortNames:["flag-ae"],unified:["1F1E6-1F1EA"]},{shortNames:["flag-gb","gb","uk"],unified:["1F1EC-1F1E7"]},{shortNames:["flag-us","us"],unified:["1F1FA-1F1F8"]},{shortNames:["flag-vi"],unified:["1F1FB-1F1EE"]},{shortNames:["flag-uy"],unified:["1F1FA-1F1FE"]},{shortNames:["flag-uz"],unified:["1F1FA-1F1FF"]},{shortNames:["flag-vu"],unified:["1F1FB-1F1FA"]},{shortNames:["flag-va"],unified:["1F1FB-1F1E6"]},{shortNames:["flag-ve"],unified:["1F1FB-1F1EA"]},{shortNames:["flag-vn"],unified:["1F1FB-1F1F3"]},{shortNames:["flag-wf"],unified:["1F1FC-1F1EB"]},{shortNames:["flag-eh"],unified:["1F1EA-1F1ED"]},{shortNames:["flag-ye"],unified:["1F1FE-1F1EA"]},{shortNames:["flag-zm"],unified:["1F1FF-1F1F2"]},{shortNames:["flag-zw"],unified:["1F1FF-1F1FC"]},{shortNames:["flag-ac"],unified:["1F1E6-1F1E8"]},{shortNames:["flag-bv"],unified:["1F1E7-1F1FB"]},{shortNames:["flag-cp"],unified:["1F1E8-1F1F5"]},{shortNames:["flag-dg"],unified:["1F1E9-1F1EC"]},{shortNames:["flag-ea"],unified:["1F1EA-1F1E6"]},{shortNames:["flag-hm"],unified:["1F1ED-1F1F2"]},{shortNames:["flag-mf"],unified:["1F1F2-1F1EB"]},{shortNames:["flag-sj"],unified:["1F1F8-1F1EF"]},{shortNames:["flag-ta"],unified:["1F1F9-1F1E6"]},{shortNames:["flag-um"],unified:["1F1FA-1F1F2"]},{shortNames:["flag-un"],unified:["1F1FA-1F1F3"]}],"Skin Tones":[{shortNames:["skin-tone-2"],unified:["1F3FB"]},{shortNames:["skin-tone-3"],unified:["1F3FC"]},{shortNames:["skin-tone-4"],unified:["1F3FD"]},{shortNames:["skin-tone-5"],unified:["1F3FE"]},{shortNames:["skin-tone-6"],unified:["1F3FF"]}]}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(i(160)),r=g(i(106)),s=g(i(3)),a=g(i(56)),o=g(i(60)),u=g(i(61)),f=g(i(65)),d=g(i(86));i(161);var l=g(i(94)),F=g(i(95)),m=g(i(162)),h=g(i(157)),c=g(i(133)),N=g(i(121)),p=i(137),_=i(1);function g(e){return e&&e.__esModule?e:{default:e}}var E={name:"Recent",emojis:null},y={name:"Search",emojis:null,anchor:!1},v={search:"Search",notfound:"No Emoji Found",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags"}},b=function(e){function t(e){(0,o.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));i.i18n=(0,p.deepMerge)(v,e.i18n),i.state={skin:c.default.get("skin")||e.skin,firstRender:!0},i.categories=[];var n=[].concat(h.default.categories);i.hideRecent=!0;var r=!0,u=!1,d=void 0;try{for(var l,F=(0,s.default)(n);!(r=(l=F.next()).done);r=!0){var m=l.value,N=!e.include||!e.include.length||e.include.indexOf(m.name.toLowerCase())>-1,_=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(m.name.toLowerCase())>-1;if(N&&!_)if(e.emojisToShowFilter){var g=[],b=!0,w=!1,C=void 0;try{for(var k,L=(0,s.default)(m.emojis);!(b=(k=L.next()).done);b=!0){var D=k.value;e.emojisToShowFilter(h.default.emojis[D]||D)&&g.push(D)}}catch(B){w=!0,C=B}finally{try{!b&&L.return&&L.return()}finally{if(w)throw C}}if(g.length){var j={emojis:g,name:m.name};i.categories.push(j)}}else i.categories.push(m)}}catch(B){u=!0,d=B}finally{try{!r&&F.return&&F.return()}finally{if(u)throw d}}var A=!e.include||!e.include.length||e.include.indexOf("recent")>-1,x=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf("recent")>-1;return A&&!x&&(i.hideRecent=!1,i.categories.unshift(E)),i.categories[0]&&(i.categories[0].first=!0),i.categories.unshift(y),i}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.skin&&!c.default.get("skin")&&this.setState({skin:e.skin})}},{key:"componentDidMount",value:function(){var e=this;this.state.firstRender&&(this.testStickyPosition(),this.firstRenderTimeout=setTimeout(function(){e.setState({firstRender:!1})},60))}},{key:"componentDidUpdate",value:function(){this.updateCategoriesSize(),this.handleScroll()}},{key:"componentWillUnmount",value:function(){y.emojis=null,clearTimeout(this.leaveTimeout),clearTimeout(this.firstRenderTimeout)}},{key:"testStickyPosition",value:function(){for(var e=document.createElement("div"),t=["","-webkit-","-ms-","-moz-","-o-"],i=0;i<t.length;i++){var n=t[i];e.style.position=n+"sticky"}this.hasStickyPosition=!!e.style.position.length}},{key:"handleEmojiOver",value:function(e){this.preview.setState({emoji:e}),clearTimeout(this.leaveTimeout)}},{key:"handleEmojiLeave",value:function(e){var t=this;this.leaveTimeout=setTimeout(function(){t.preview.setState({emoji:null})},16)}},{key:"handleEmojiClick",value:function(e,t){var i=this;this.props.onClick(e,t),this.hideRecent||N.default.add(e);var n=this.categoriesRef[1];if(n){var r=n.maxMargin;n.forceUpdate(),window.requestAnimationFrame(function(){n.memoizeSize(),r!=n.maxMargin&&(i.updateCategoriesSize(),i.handleScrollPaint(),y.emojis&&n.updateDisplay("none"))})}}},{key:"handleScroll",value:function(){this.waitingForPaint||(this.waitingForPaint=!0,window.requestAnimationFrame(this.handleScrollPaint.bind(this)))}},{key:"handleScrollPaint",value:function(){if(this.waitingForPaint=!1,this.scroll){var e=null;if(y.emojis)e=y;else{for(var t=this.scroll.scrollTop,i=t>(this.scrollTop||0),n=0,r=0,a=this.categories.length;r<a;r++){var o=i?this.categories.length-1-r:r,u=this.categories[o],f=this.categoriesRef[o];if(f){var d=f.handleScroll(t);(!n||f.top<n)&&f.top>0&&(n=f.top),d&&!e&&(e=u)}}if(t<n){var l=!0,F=!1,m=void 0;try{for(var h,c=(0,s.default)(this.categories);!(l=(h=c.next()).done);l=!0){var N=h.value;if(!1!==N.anchor){e=N;break}}}catch(_){F=!0,m=_}finally{try{!l&&c.return&&c.return()}finally{if(F)throw m}}}else t+this.clientHeight>=this.scrollHeight&&(e=this.categories[this.categories.length-1])}if(e){var p=e.name;this.anchors.state.selected!=p&&this.anchors.setState({selected:p})}this.scrollTop=t}}},{key:"handleSearch",value:function(e){y.emojis=e;for(var t=0,i=this.categories.length;t<i;t++){var n=this.categoriesRef[t];if(n&&"Search"!=n.props.name){var r=e?"none":"inherit";n.updateDisplay(r)}}this.forceUpdate(),this.scroll.scrollTop=0,this.handleScroll()}},{key:"handleAnchorClick",value:function(e,t){var i,n=this,r=this.categoriesRef[t];i=function(){if(r){var t=r.top;e.first?t=0:t+=1,n.scroll.scrollTop=t}},y.emojis?(this.handleSearch(null),this.search.clear(),window.requestAnimationFrame(i)):i()}},{key:"handleSkinChange",value:function(e){var t={skin:e};this.setState(t),c.default.update(t)}},{key:"updateCategoriesSize",value:function(){for(var e=0,t=this.categories.length;e<t;e++){var i=this.categoriesRef[e];i&&i.memoizeSize()}if(this.scroll){var n=this.scroll;this.scrollHeight=n.scrollHeight,this.clientHeight=n.clientHeight}}},{key:"getCategories",value:function(){return this.state.firstRender?this.categories.slice(0,3):this.categories}},{key:"render",value:function(){var e=this,t=this.props,i=t.perLine,s=t.emojiSize,a=t.style,o=t.title,u=t.emoji,f=t.color,d=t.emojisToShowFilter,F=t.include,h=t.exclude,c=t.autoFocus,N=this.state.skin,p=i*(s+12)+12+2+(0,m.default)();return l.default.createElement("div",{style:(0,r.default)({width:p},a),className:"emoji-mart"},l.default.createElement("div",{className:"emoji-mart-bar"},l.default.createElement(_.Anchors,{ref:function(t){return e.anchors=t},i18n:this.i18n,color:f,categories:this.categories,onAnchorClick:this.handleAnchorClick.bind(this)})),l.default.createElement(_.Search,{ref:function(t){return e.search=t},onSearch:this.handleSearch.bind(this),i18n:this.i18n,emojisToShowFilter:d,include:F,exclude:h,autoFocus:c}),l.default.createElement("div",{ref:function(t){return e.scroll=t},className:"emoji-mart-scroll",onScroll:this.handleScroll.bind(this)},this.getCategories().map(function(t,r){return l.default.createElement(_.Category,{ref:function(t){e.categoriesRef?e.categoriesRef[r]=t:e.categoriesRef=(0,n.default)({},r,[t])},key:t.name,name:t.name,emojis:t.emojis,perLine:i,hasStickyPosition:e.hasStickyPosition,i18n:e.i18n,emojiProps:{skin:N,size:s,onOver:e.handleEmojiOver.bind(e),onLeave:e.handleEmojiLeave.bind(e),onClick:e.handleEmojiClick.bind(e)}})})),l.default.createElement("div",{className:"emoji-mart-bar"},l.default.createElement(_.Preview,{ref:function(t){return e.preview=t},title:o,emoji:u,emojiProps:{size:38,skin:N},skinsProps:{skin:N,onChange:this.handleSkinChange.bind(this)}})))}}]),t}(l.default.Component);t.default=b,b.propTypes={onClick:F.default.func,perLine:F.default.number,emojiSize:F.default.number,i18n:F.default.object,style:F.default.object,title:F.default.string,emoji:F.default.string,color:F.default.string,skin:_.Emoji.propTypes.skin,emojisToShowFilter:F.default.func,include:F.default.arrayOf(F.default.string),exclude:F.default.arrayOf(F.default.string),autoFocus:F.default.bool},b.defaultProps={onClick:function(){},emojiSize:24,perLine:9,i18n:{},style:{},title:"Emoji Mart™",emoji:"department_store",color:"#ae65c5",skin:_.Emoji.defaultProps.skin,emojisToShowFilter:null,autoFocus:!1}},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(62),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e,t,i){return t in e?(0,s.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},function(e,t){"use strict";
// MIT license
"undefined"!=typeof window&&function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),s=window.setTimeout(function(){t(n+r)},r);return e=n+r,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(i(106)),r=m(i(56)),s=m(i(60)),a=m(i(61)),o=m(i(65)),u=m(i(86)),f=m(i(94)),d=m(i(95)),l=i(1),F=i(137);function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,s.default)(this,t);var i=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return i.state={emoji:null},i}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.state.emoji,t=this.props,i=t.emojiProps,r=t.skinsProps,s=t.title,a=t.emoji;if(e){var o=(0,F.getData)(e);return f.default.createElement("div",{className:"emoji-mart-preview"},f.default.createElement("div",{className:"emoji-mart-preview-emoji"},(0,l.Emoji)((0,n.default)({key:e.id,emoji:e},i))),f.default.createElement("div",{className:"emoji-mart-preview-data"},f.default.createElement("div",{className:"emoji-mart-preview-name"},e.name),f.default.createElement("div",{className:"emoji-mart-preview-shortnames"},o.short_names.map(function(e){return f.default.createElement("span",{key:e,className:"emoji-mart-preview-shortname"},":",e,":")}))))}return f.default.createElement("div",{className:"emoji-mart-preview"},f.default.createElement("div",{className:"emoji-mart-preview-emoji"},a&&a.length&&(0,l.Emoji)((0,n.default)({emoji:a},i))),f.default.createElement("div",{className:"emoji-mart-preview-data"},f.default.createElement("span",{className:"emoji-mart-title-label"},s)),f.default.createElement("div",{className:"emoji-mart-preview-skins"},f.default.createElement(l.Skins,r)))}}]),t}(f.default.Component);t.default=h,h.propTypes={title:d.default.string.isRequired,emoji:d.default.string.isRequired,emojiProps:d.default.object.isRequired,skinsProps:d.default.object.isRequired}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i(56)),r=l(i(60)),s=l(i(61)),a=l(i(65)),o=l(i(86)),u=l(i(94)),f=l(i(95)),d=l(i(165));function l(e){return e&&e.__esModule?e:{default:e}}var F=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,s.default)(t,[{key:"handleChange",value:function(){this.props.onSearch(d.default.search(this.input.value,{emojisToShowFilter:this.props.emojisToShowFilter,maxResults:this.props.maxResults,include:this.props.include,exclude:this.props.exclude}))}},{key:"clear",value:function(){this.input.value=""}},{key:"render",value:function(){var e=this,t=this.props,i=t.i18n,n=t.autoFocus;return u.default.createElement("div",{className:"emoji-mart-search"},u.default.createElement("input",{ref:function(t){return e.input=t},type:"text",onChange:this.handleChange.bind(this),placeholder:i.search,autoFocus:n}))}}]),t}(u.default.Component);t.default=F,F.propTypes={onSearch:f.default.func,maxResults:f.default.number,emojisToShowFilter:f.default.func,autoFocus:f.default.bool},F.defaultProps={onSearch:function(){},maxResults:75,emojisToShowFilter:null,autoFocus:!1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(i(125)),r=u(i(3)),s=u(i(157)),a=i(137),o=u(i(133));function u(e){return e&&e.__esModule?e:{default:e}}i(166)._extend;var f={},d={},l=[],F=[];for(var m in s.default.emojis){var h=s.default.emojis[m].short_names[0];d[h]=(0,a.getSanitizedData)(h)}t.default={search:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.emojisToShowFilter,o=t.maxResults,u=t.include,m=t.exclude;o||(o=75),u||(u=[]),m||(m=[]);var h=null,c=s.default.emojis;if(e.length){if("-"==e||"-1"==e)return[d[-1]];var N,p=e.toLowerCase().split(/[\s|,|\-|_]+/);if(p.length>2&&(p=[p[0],p[1]]),u.length||m.length){c={},l==u.sort().join(",")&&F==m.sort().join(",")||(l=u.sort().join(","),F=m.sort().join(","),f={});var _=!0,g=!1,E=void 0;try{for(var y,v=(0,r.default)(s.default.categories);!(_=(y=v.next()).done);_=!0){var b=y.value,w=!u||!u.length||u.indexOf(b.name.toLowerCase())>-1,C=!(!m||!m.length)&&m.indexOf(b.name.toLowerCase())>-1;if(w&&!C){var k=!0,L=!1,D=void 0;try{for(var j,A=(0,r.default)(b.emojis);!(k=(j=A.next()).done);k=!0){var x=j.value;c[x]=s.default.emojis[x]}}catch(B){L=!0,D=B}finally{try{!k&&A.return&&A.return()}finally{if(L)throw D}}}}}catch(B){g=!0,E=B}finally{try{!_&&v.return&&v.return()}finally{if(g)throw E}}}else(l.length||F.length)&&(f={});h=(N=p.map(function(e){var t=c,i=f,n=0,s=!0,a=!1,o=void 0;try{for(var u,l=(0,r.default)(e.split(""));!(s=(u=l.next()).done);s=!0){var F=u.value;n++,i[F]||(i[F]={}),(i=i[F]).results||function(){var r={};for(var s in i.results=[],i.pool={},t){var a=t[s],o=a.search,u=e.substr(0,n),f=o.indexOf(u);if(-1!=f){var l=f+1;u==s&&(l=0),i.results.push(d[s]),i.pool[s]=a,r[s]=l}}i.results.sort(function(e,t){return r[e.id]-r[t.id]})}(),t=i.pool}}catch(B){a=!0,o=B}finally{try{!s&&l.return&&l.return()}finally{if(a)throw o}}return i.results}).filter(function(e){return e})).length>1?a.intersect.apply(void 0,(0,n.default)(N)):N.length?N[0]:[]}return h&&(i&&(h=h.filter(function(e){return i(s.default.emojis[e.id].unified)})),h&&h.length>o&&(h=h.slice(0,o))),h},getDefaultSkin:function(){var e=o.default.get("skin");return 1===e?null:e},emojis:d,getData:a.getData}},function(e,t,i){(function(e,n){// Copyright Joyent, Inc. and other Node contributors.
// distribute, sublicense, and/or sell copies of the Software, and to permit
// The above copyright notice and this permission notice shall be included
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
var r=/%[sdj%]/g;t.format=function(e){if(!p(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(o(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,s=n.length,a=String(e).replace(r,function(e){if("%%"===e)return"%";if(i>=s)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return e}}),u=n[i];i<s;u=n[++i])c(u)||!E(u)?a+=" "+u:a+=" "+o(u);return a},t.deprecate=function(i,r){if(_(e.process))return function(){return t.deprecate(i,r).apply(this,arguments)};if(!0===n.noDeprecation)return i;var s=!1;return function(){if(!s){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),s=!0}return i.apply(this,arguments)}};var s,a={};function o(e,i){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(i)?n.showHidden=i:i&&t._extend(n,i),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),d(n,e,n.depth)}function u(e,t){var i=o.styles[t];return i?"["+o.colors[i][0]+"m"+e+"["+o.colors[i][1]+"m":e}function f(e,t){return e}function d(e,i,n){if(e.customInspect&&i&&b(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return p(r)||(r=d(e,r,n)),r}var s=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(p(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}if(N(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(c(t))return e.stylize("null","null")}(e,i);if(s)return s;var a=Object.keys(i),o=function(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(i)),v(i)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(i);if(0===a.length){if(b(i)){var u=i.name?": "+i.name:"";return e.stylize("[Function"+u+"]","special")}if(g(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(y(i))return e.stylize(Date.prototype.toString.call(i),"date");if(v(i))return l(i)}var f,E="",w=!1,C=["{","}"];(m(i)&&(w=!0,C=["[","]"]),b(i))&&(E=" [Function"+(i.name?": "+i.name:"")+"]");return g(i)&&(E=" "+RegExp.prototype.toString.call(i)),y(i)&&(E=" "+Date.prototype.toUTCString.call(i)),v(i)&&(E=" "+l(i)),0!==a.length||w&&0!=i.length?n<0?g(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),f=w?function(e,t,i,n,r){for(var s=[],a=0,o=t.length;a<o;++a)L(t,String(a))?s.push(F(e,t,i,n,String(a),!0)):s.push("");return r.forEach(function(r){r.match(/^\d+$/)||s.push(F(e,t,i,n,r,!0))}),s}(e,i,n,o,a):a.map(function(t){return F(e,i,n,o,t,w)}),e.seen.pop(),function(e,t,i){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(f,E,C)):C[0]+E+C[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function F(e,t,i,n,r,s){var a,o,u;if((u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),L(n,r)||(a="["+r+"]"),o||(e.seen.indexOf(u.value)<0?(o=c(i)?d(e,u.value,null):d(e,u.value,i-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),_(a)){if(s&&r.match(/^\d+$/))return o;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function m(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function c(e){return null===e}function N(e){return"number"==typeof e}function p(e){return"string"==typeof e}function _(e){return void 0===e}function g(e){return E(e)&&"[object RegExp]"===w(e)}function E(e){return"object"==typeof e&&null!==e}function y(e){return E(e)&&"[object Date]"===w(e)}function v(e){return E(e)&&("[object Error]"===w(e)||e instanceof Error)}function b(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(_(s)&&(s=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(s)){var i=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else a[e]=function(){};return a[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=h,t.isNull=c,t.isNullOrUndefined=function(e){return null==e},t.isNumber=N,t.isString=p,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=g,t.isObject=E,t.isDate=y,t.isError=v,t.isFunction=b,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(167);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,i;console.log("%s - %s",(e=new Date,i=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],i].join(" ")),t.format.apply(t,arguments))},t.inherits=i(168),t._extend=function(e,t){if(!t||!E(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}}).call(t,function(){return this}(),i(96))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i(125)),r=l(i(56)),s=l(i(60)),a=l(i(61)),o=l(i(65)),u=l(i(86)),f=l(i(94)),d=l(i(95));function l(e){return e&&e.__esModule?e:{default:e}}var F=function(e){function t(e){(0,s.default)(this,t);var i=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return i.state={opened:!1},i}return(0,u.default)(t,e),(0,a.default)(t,[{key:"handleClick",value:function(e){var t=this.props.onChange;this.state.opened?(this.setState({opened:!1}),e!=this.props.skin&&t(e)):this.setState({opened:!0})}},{key:"render",value:function(){var e=this,t=this.props.skin,i=this.state.opened;return f.default.createElement("div",null,f.default.createElement("div",{className:"emoji-mart-skin-swatches "+(i?"emoji-mart-skin-swatches-opened":"")},[].concat((0,n.default)(Array(6))).map(function(i,n){var r=n+1,s=r==t;return f.default.createElement("span",{key:"skin-tone-"+r,className:"emoji-mart-skin-swatch "+(s?"emoji-mart-skin-swatch-selected":"")},f.default.createElement("span",{onClick:function(){return e.handleClick(r)},className:"emoji-mart-skin emoji-mart-skin-tone-"+r}))})))}}]),t}(f.default.Component);t.default=F,F.propTypes={onChange:d.default.func,skin:d.default.number.isRequired},F.defaultProps={onChange:function(){}}}])},"object"==typeof t&&"object"==typeof e?e.exports=r(i(2,1)):"function"==typeof define&&define.amd?define(["react"],r):"object"==typeof t?t.EmojiMart=r(i(2,1)):n.EmojiMart=r(n.React)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=t(1133        ),i=new(t(322                           ).ScoredSearchLibrary)([],{keys:[{name:"handle",weight:.9},{name:"email",weight:.1}],threshold:.2,tokenize:!0,shouldSort:!0});n.mentionables=function(e,n,t,s){const c=function(){if(e&&n){let e=[];return Object.keys(t).forEach(n=>{e.push(t[n])}),e.push(n),e}const i=Object.create(null);t=Object.assign({},t);const{accessByFile:c,accessByProject:o,accessByTeam:a}=s,l=(e,n)=>null!==e&&e.some(e=>e&&e.id===n.id);Object.keys(t).forEach(e=>{const n=t[e];(null===a||l(a,n)||l(o,n)||l(c,n))&&(i[n.id]=n)});for(const e of c||[])i[e.id]||(i[e.id]=e);return n&&(i[n.id]=n),Object.keys(i).map(e=>i[e])}();return c.length&&i.set(c),i};const c=5,o=10;n.mentionsTypeahead=async function(e,n){let t;t=""===e?n.list().sort((e,n)=>e.handle<n.handle?-1:1).slice(0,c):(await n.search(e)).slice(0,c).map(e=>e.item);return t.length?{type:"mentions",mentions:t,index:0}:null},n.emojiTypeahead=function(e){let n=s.emojiIndex.search(e)||[];return(n=n.slice(0,o)).length?{type:"emojis",emojis:n,index:0}:null}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=s(2,1    ),o=s(43,1         ),a=s(1134                  ),n=s(325                                 );t.useMentionables=(e=>{const t=o.useDispatch();c.useEffect(()=>{t(n.loadContacts()),t(n.loadTeamRoles())},[t]);const s=o.useSelector(e=>e.currentOrgId),r=o.useSelector(e=>e.user),u=o.useSelector(e=>e.contacts.usersByEmail);return c.useMemo(()=>a.mentionables(s,r,u,e),[s,r,u,e])})}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const u=s(2,1    );t.useAsRef=(e=>{const t=u.useRef(e);return u.useEffect(()=>{t.current=e},[e]),t})}),
(function(o,n,c){o.exports={anchor:"anchor--anchor--21fV1",resolvedAnchor:"anchor--resolvedAnchor--1SQgn anchor--anchor--21fV1",anchorIcon:"anchor--anchorIcon--1heCz",anchorLabel:"anchor--anchorLabel--2psAQ"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(2,1    ),i=o(43,1         ),n=o(214         ),r=o(691                     ),a=o(297                              ),c=o(227                                ),p=o(297                              ),h=o(689                        ),l=o(1136                  ),m=o(692                                 ),d=o(1137          ),u=o(160                                  ),f={x:0,y:0};class v extends s.Component{constructor(){super(...arguments),this.state={dragLocation:null},this.drag=null,this.onMouseDown=(t=>{if(0!==t.button)return;t.stopPropagation();const e=this.props.viewportPositionFromClientPosition(new n.Vector(t.clientX,t.clientY));this.drag={startPosition:e,mouseOffset:n.Vector.subtract(this.props.offset||f,e),maxDist:0},a.on("mousemove",this.onMouseMove),a.on("mouseup",this.onMouseUp)}),this.onMouseMove=(t=>{if(!this.drag)return;if(this.drag.maxDist=Math.max(this.drag.maxDist,n.Vector.distance(t,this.drag.startPosition)),this.drag.maxDist<r.MAX_DRAG_DISTANCE)return;const e=this.props.computeDropLocation(t,this.drag.mouseOffset);if(!this.props.isInViewport(e))return;const o=n.Vector.add(t,this.drag.mouseOffset);if(this.props.thread.id===h.NEW_COMMENT_ID){const t=this.props.viewport.current;if(!t)return;this.props.dispatch(m.comments.setNewAnchorPosition({position:c.viewportPositionToCanvas(t,o)}))}else this.props.dispatch(m.comments.deactivateActiveComment()),this.setState({dragLocation:o})}),this.onMouseUp=(t=>{if(!this.drag)return;this.setState({dragLocation:null});const e=()=>{this.drag=null,a.off("mousemove",this.onMouseMove),a.off("mouseup",this.onMouseUp)},o=this.props.viewport.current;if(!o)return;if(!(this.drag.maxDist>r.MAX_DRAG_DISTANCE))return this.props.dispatch(m.comments.showThread({thread:this.props.thread,viewportOverride:o})),e();const s=this.props.computeDropLocation(t,this.drag.mouseOffset);if(!this.props.isInViewport(s))return e();const i=p.getCommentDestinationForCanvasPosition(s,this.props.pageId);return this.props.thread.id===h.NEW_COMMENT_ID?e():(this.props.dispatch(m.comments.setClientMeta({thread:this.props.thread,clientMeta:{x:s.x,y:s.y,node_id:null==i?void 0:i.nodeId,node_offset:(null==i?void 0:i.nodeOffset)||void 0}})),e())})}componentWillUnmount(){a.off("mousemove",this.onMouseMove),a.off("mouseup",this.onMouseUp)}render(){const{x:t,y:e}=this.state.dragLocation||this.props.offset||f,o=`translate(${t}px, ${e}px)`;let i={transform:o,WebkitTransform:o},r=d.anchor;this.props.resolved&&(r=d.resolvedAnchor);const c=u.figmaBGBlack;let p=u.figmaBGWhite;this.props.active&&(p=u.figmaBlue);let h=u.figmaFGBlack8Opaque;return this.props.active&&(h=u.figmaFGWhite),s.createElement("div",{style:i,className:r,onMouseDown:this.onMouseDown,onMouseUp:t=>{const{x:e,y:o}=this.props.viewportPositionFromClientPosition(new n.Vector(t.clientX,t.clientY));a.handleMouseUp(e,o)}},s.createElement("svg",{className:d.anchorIcon,viewBox:"0 0 34 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:p,d:"M17 1C25.8366 1 33 8.16344 33 17C33 23.6257 27.6611 28.9662 17 39.6274C6.33887 28.9663 1.00001 23.6257 1 17C1 8.16344 8.16344 1 17 1Z"}),s.createElement("path",{fill:c,opacity:"0.4",d:"M17 40.3345L16.6261 39.9606C11.3156 34.6501 7.29362 30.6281 4.60457 27.1037C1.90336 23.5633 0.500006 20.4662 0.5 17C0.5 7.8873 7.8873 0.5 17 0.5C26.1127 0.5 33.5 7.8873 33.5 17C33.5 20.4662 32.0967 23.5633 29.3954 27.1037C26.7064 30.6281 22.6845 34.65 17.374 39.9605L17 40.3345ZM33 17C33 8.16344 25.8366 1 17 1C8.16344 1 1 8.16344 1 17C1.00001 23.552 6.22083 28.8474 16.6464 39.2738C16.7174 39.3447 16.7885 39.4159 16.8599 39.4873C16.9065 39.5339 16.9532 39.5806 17 39.6274C17.1185 39.5089 17.2364 39.391 17.3536 39.2738C27.7792 28.8474 33 23.552 33 17Z"}),this.props.isNew&&s.createElement("circle",{cx:"16.5",cy:"16.5",r:"2.25",fill:h})),s.createElement("span",{className:d.anchorLabel,style:{color:h}},this.props.label))}}e.CommentAnchor=v,v.displayName="Anchor";const g=t=>{const e=l.useAsRef(t.viewportInfo),o=i.useDispatch(),p=t.thread,h=s.useCallback((t,o)=>{const s=n.Vector.add(t,o);return c.viewportPositionToCanvas(e.current,s)},[e]),m=s.useCallback(t=>{const o=a.getValidCommentsRect(),s=c.canvasPositionToViewport(e.current,t);return r.canPlaceCommentAtViewportPosition(s,o)},[e]);return s.createElement(v,{dispatch:o,pageId:t.pageId,thread:p,offset:t.thread.anchorPosition||void 0,computeDropLocation:h,isInViewport:m,isNew:t.isNew,active:t.active,resolved:t.resolved,label:t.label,viewport:e,viewportPositionFromClientPosition:t.viewportPositionFromClientPosition})};e.Anchor=(t=>t.thread.anchorPosition?s.createElement(g,Object.assign({},t)):null);class C extends s.Component{render(){const{thread:t}=this.props;return s.createElement(e.Anchor,Object.assign({},this.props,{active:t.comments.some(t=>t.isUnread),resolved:!!t.comments[0].resolved_at,label:t.comments[0].order_id||""}))}}e.ThreadAnchor=C,C.displayName="ThreadAnchor";class w extends s.Component{render(){return s.createElement(e.Anchor,Object.assign({},this.props,{active:!0,isNew:!0}))}}e.NewCommentAnchor=w,w.displayName="NewCommentAnchor"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(2,1    ),s=o(692                                 ),i=o(154                                 ),m=o(136                    );t.CONFIRM_COMMENT_DELETION_MODAL="confirm-comment-deletion-modal",m.registerUnsafeModal(t.CONFIRM_COMMENT_DELETION_MODAL,e=>{let t=e.modalShown.data.comment;return n.createElement(r,Object.assign({comment:t},e))});class r extends n.Component{constructor(){super(...arguments),this.onConfirm=(()=>{this.props.dispatch(s.comments.setDeleted({comment:this.props.comment}))})}render(){return n.createElement(i.ConfirmationModal,Object.assign({size:400,content:"Are you sure you want to delete this comment? This will delete all of its replies as well.",onConfirm:this.onConfirm,confirmText:"Delete"},this.props))}}r.displayName="CommentDeleteConfirmModal"}),
(function(F,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=t(2,1    ),i=t(1133        ),s=t(232                       ),o=/(?:\:([a-zA-Z0-9_\-\+]+)\:)(?:\:skin-tone-(\d)\:)?/,a=RegExp(o.source,"g");e.EMOJI_PATH="https://static.figma.com/emoji/2/64/",e.SKIN_TONES={2:"1f3fb",3:"1f3fc",4:"1f3fd",5:"1f3fe",6:"1f3ff"};e.MODIFIABLE_EMOJI_BASES_SET=Object.create(null),["261D","26F9","270A","270B","270C","270D","1F385","1F3C2","1F3C3","1F3C4","1F3C7","1F3CA","1F3CB","1F3CC","1F442","1F443","1F446","1F447","1F448","1F449","1F44A","1F44B","1F44C","1F44D","1F44E","1F44F","1F450","1F466","1F467","1F468","1F469","1F46E","1F470","1F471","1F472","1F473","1F474","1F475","1F476","1F477","1F478","1F47C","1F481","1F482","1F483","1F485","1F486","1F487","1F4AA","1F574","1F575","1F57A","1F590","1F595","1F596","1F645","1F646","1F647","1F64B","1F64C","1F64D","1F64E","1F64F","1F6A3","1F6B4","1F6B5","1F6B6","1F6C0","1F6CC","1F918","1F919","1F91A","1F91B","1F91C","1F91E","1F91F","1F926","1F930","1F931","1F932","1F933","1F934","1F935","1F936","1F937","1F938","1F939","1F93D","1F93E","1F9D1","1F9D2","1F9D3","1F9D4","1F9D5","1F9D6","1F9D7","1F9D8","1F9D9","1F9DA","1F9DB","1F9DC","1F9DD"].forEach(F=>{e.MODIFIABLE_EMOJI_BASES_SET[F]=!0}),e.hasValidEmoji=(F=>{let e=null;for(;null!=(e=a.exec(F));){const F=e[0].match(o);if(F&&i.emojiIndex.emojis.hasOwnProperty(F[1]))return a.lastIndex=0,!0}return!1}),e.aliasesToUnified=(F=>{let t=null;const n=F.match(o);if(n){const F=n[1];if(i.emojiIndex.emojis.hasOwnProperty(F)){const s=i.emojiIndex.emojis[F];if(s){if(n[2]&&(t=parseInt(n[2])),t&&e.SKIN_TONES[t]){const F=e.SKIN_TONES[t];let n=s.unified.split("-");return!0===e.MODIFIABLE_EMOJI_BASES_SET[n[0].toUpperCase()]?(n.splice(1,0,F),[{text:n.join("-"),meta:s.name}]):[{text:s.unified,meta:s.name},{text:F,meta:`skin-tone-${t}`}]}return[{text:s.unified,meta:s.name}]}}}return[{text:F,meta:null}]}),e.unifiedToPNG=(F=>e.EMOJI_PATH+F+".png"),e.replaceAliasesWithImg=(F=>{if(!F)return[""];let t=0,i=[],o=null;for(;null!=(o=a.exec(F));){o.index>t&&i.push(F.substr(t,o.index-t)),e.aliasesToUnified(o[0]).forEach(F=>{const{text:t,meta:o}=F;if(":"!==t[0]){const F=e.unifiedToPNG(t),a=Math.random().toString(36).substring(2);i.push(n.createElement("img",{key:a,className:"inline-emoji","data-tooltip-type":s.TooltipType.TEXT,"data-tooltip":o,src:F}))}else i.push(t)}),t=o.index+o[0].length}return t!==F.length&&i.push(F.substr(t,F.length)),a.lastIndex=0,i})}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2,1    ),r=a(1140                 ),o=a(232                       ),s=a(232                       ),i=a(147                                            );t.messageMetasEqual=((e,t)=>{if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++){const n=e[a],r=t[a];if(n.t!==r.t)return!1;if(n.user_id!==r.user_id)return!1;if(n.user_annotated&&r.user_annotated){if(n.user_annotated.id!==r.user_annotated.id)return!1;if(n.user_annotated.handle!==r.user_annotated.handle)return!1;if(n.user_annotated.img_url!==r.user_annotated.img_url)return!1;if(n.user_annotated.email!==r.user_annotated.email)return!1}else if(n.user_annotated!==r.user_annotated)return!1}return!0}),t.messageMetaToTextString=((e=[])=>e.reduce((e,t)=>{let a=t.t;return t.user_annotated&&(a=t.user_annotated.handle),e+a},"")),t.messageMetaToElement=((e=[],t,a)=>n.createElement("div",null,e.map((e,u)=>{if(e.user_id){let r=e.t;return e.user_annotated&&(r=e.user_annotated.handle),n.createElement(i.Link,{href:`/files${a}/user/${e.user_id}`,target:"_blank",key:u,spellCheck:!1,contentEditable:!1,className:t,"data-tooltip-type":o.TooltipType.SPECIAL,"data-tooltip":s.TooltipSpecialKey.USER_INFO,"data-tooltip-show-above":!0,"data-tooltip-user-img-url":e.user_annotated&&e.user_annotated.img_url,"data-tooltip-user-handle":e.user_annotated&&e.user_annotated.handle,"data-tooltip-unconstrain-width":!0,"data-mention-user-id":e.user_id},r)}return r.replaceAliasesWithImg(e.t)})))}),
(function(t,e,r){
/**
 *  Copyright (c) 2014-2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */var n,i;n=this,i=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function r(t){return u(t)?t:V(t)}function n(t){return s(t)?t:Y(t)}function i(t){return a(t)?t:Q(t)}function o(t){return u(t)&&!h(t)?t:X(t)}function u(t){return!(!t||!t[c])}function s(t){return!(!t||!t[_])}function a(t){return!(!t||!t[p])}function h(t){return s(t)||a(t)}function f(t){return!(!t||!t[l])}e(n,r),e(i,r),e(o,r),r.isIterable=u,r.isKeyed=s,r.isIndexed=a,r.isAssociative=h,r.isOrdered=f,r.Keyed=n,r.Indexed=i,r.Set=o;var c="@@__IMMUTABLE_ITERABLE__@@",_="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",l="@@__IMMUTABLE_ORDERED__@@",v=5,y=1<<v,d=y-1,m={},g={value:!1},w={value:!1};function S(t){return t.value=!1,t}function z(t){t&&(t.value=!0)}function I(){}function b(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function q(t){return void 0===t.size&&(t.size=t.__iterate(M)),t.size}function D(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?q(t)+e:e}function M(){return!0}function E(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function O(t,e){return k(t,e,0)}function x(t,e){return k(t,e,e)}function k(t,e,r){return void 0===t?r:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var A=0,j=1,K=2,R="function"==typeof Symbol&&Symbol.iterator,U="@@iterator",L=R||U;function T(t){this.next=t}function W(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function B(){return{value:void 0,done:!0}}function C(t){return!!P(t)}function J(t){return t&&"function"==typeof t.next}function N(t){var e=P(t);return e&&e.call(t)}function P(t){var e=t&&(R&&t[R]||t[U]);if("function"==typeof e)return e}function H(t){return t&&"number"==typeof t.length}function V(t){return null==t?ot():u(t)?t.toSeq():function(t){var e=at(t)||"object"==typeof t&&new et(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function Y(t){return null==t?ot().toKeyedSeq():u(t)?s(t)?t.toSeq():t.fromEntrySeq():ut(t)}function Q(t){return null==t?ot():u(t)?s(t)?t.entrySeq():t.toIndexedSeq():st(t)}function X(t){return(null==t?ot():u(t)?s(t)?t.entrySeq():t:st(t)).toSetSeq()}T.prototype.toString=function(){return"[Iterator]"},T.KEYS=A,T.VALUES=j,T.ENTRIES=K,T.prototype.inspect=T.prototype.toSource=function(){return this.toString()},T.prototype[L]=function(){return this},e(V,r),V.of=function(){return V(arguments)},V.prototype.toSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq {","}")},V.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},V.prototype.__iterate=function(t,e){return ht(this,t,e,!0)},V.prototype.__iterator=function(t,e){return ft(this,t,e,!0)},e(Y,V),Y.prototype.toKeyedSeq=function(){return this},e(Q,V),Q.of=function(){return Q(arguments)},Q.prototype.toIndexedSeq=function(){return this},Q.prototype.toString=function(){return this.__toString("Seq [","]")},Q.prototype.__iterate=function(t,e){return ht(this,t,e,!1)},Q.prototype.__iterator=function(t,e){return ft(this,t,e,!1)},e(X,V),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},V.isSeq=it,V.Keyed=Y,V.Set=X,V.Indexed=Q;var F,G,Z,$="@@__IMMUTABLE_SEQ__@@";function tt(t){this._array=t,this.size=t.length}function et(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function rt(t){this._iterable=t,this.size=t.length||t.size}function nt(t){this._iterator=t,this._iteratorCache=[]}function it(t){return!(!t||!t[$])}function ot(){return F||(F=new tt([]))}function ut(t){var e=Array.isArray(t)?new tt(t).fromEntrySeq():J(t)?new nt(t).fromEntrySeq():C(t)?new rt(t).fromEntrySeq():"object"==typeof t?new et(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function st(t){var e=at(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function at(t){return H(t)?new tt(t):J(t)?new nt(t):C(t)?new rt(t):void 0}function ht(t,e,r,n){var i=t._cache;if(i){for(var o=i.length-1,u=0;u<=o;u++){var s=i[r?o-u:u];if(!1===e(s[1],n?s[0]:u,t))return u+1}return u}return t.__iterateUncached(e,r)}function ft(t,e,r,n){var i=t._cache;if(i){var o=i.length-1,u=0;return new T(function(){var t=i[r?o-u:u];return u++>o?{value:void 0,done:!0}:W(e,n?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,r)}function ct(t,e){return e?function t(e,r,n,i){if(Array.isArray(r))return e.call(i,n,Q(r).map(function(n,i){return t(e,n,i,r)}));if(pt(r))return e.call(i,n,Y(r).map(function(n,i){return t(e,n,i,r)}));return r}(e,t,"",{"":t}):_t(t)}function _t(t){return Array.isArray(t)?Q(t).map(_t).toList():pt(t)?Y(t).map(_t).toMap():t}function pt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function lt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function vt(t,e){if(t===e)return!0;if(!u(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||a(t)!==a(e)||f(t)!==f(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!h(t);if(f(t)){var n=t.entries();return e.every(function(t,e){var i=n.next().value;return i&&lt(i[1],t)&&(r||lt(i[0],e))})&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var c=!0,_=e.__iterate(function(e,n){if(r?!t.has(e):i?!lt(e,t.get(n,m)):!lt(t.get(n,m),e))return c=!1,!1});return c&&t.size===_}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(G)return G;G=this}}function dt(t,e){if(!t)throw new Error(e)}function mt(t,e,r){if(!(this instanceof mt))return new mt(t,e,r);if(dt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Z)return Z;Z=this}}function gt(){throw TypeError("Abstract")}function wt(){}function St(){}function zt(){}V.prototype[$]=!0,e(tt,Q),tt.prototype.get=function(t,e){return this.has(t)?this._array[D(this,t)]:e},tt.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(!1===t(r[e?n-i:i],i,this))return i+1;return i},tt.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,i=0;return new T(function(){return i>n?{value:void 0,done:!0}:W(t,i,r[e?n-i++:i++])})},e(et,Y),et.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},et.prototype.has=function(t){return this._object.hasOwnProperty(t)},et.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,o=0;o<=i;o++){var u=n[e?i-o:o];if(!1===t(r[u],u,this))return o+1}return o},et.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length-1,o=0;return new T(function(){var u=n[e?i-o:o];return o++>i?{value:void 0,done:!0}:W(t,u,r[u])})},et.prototype[l]=!0,e(rt,Q),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=N(this._iterable),n=0;if(J(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,n++,this););return n},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=N(this._iterable);if(!J(r))return new T(B);var n=0;return new T(function(){var e=r.next();return e.done?e:W(t,n++,e.value)})},e(nt,Q),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r,n=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(r=n.next()).done;){var u=r.value;if(i[o]=u,!1===t(u,o++,this))break}return o},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new T(function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return W(t,i,n[i++])})},e(yt,Q),yt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},yt.prototype.get=function(t,e){return this.has(t)?this._value:e},yt.prototype.includes=function(t){return lt(this._value,t)},yt.prototype.slice=function(t,e){var r=this.size;return E(t,e,r)?this:new yt(this._value,x(e,r)-O(t,r))},yt.prototype.reverse=function(){return this},yt.prototype.indexOf=function(t){return lt(this._value,t)?0:-1},yt.prototype.lastIndexOf=function(t){return lt(this._value,t)?this.size:-1},yt.prototype.__iterate=function(t,e){for(var r=0;r<this.size;r++)if(!1===t(this._value,r,this))return r+1;return r},yt.prototype.__iterator=function(t,e){var r=this,n=0;return new T(function(){return n<r.size?W(t,n++,r._value):{value:void 0,done:!0}})},yt.prototype.equals=function(t){return t instanceof yt?lt(this._value,t._value):vt(t)},e(mt,Q),mt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},mt.prototype.get=function(t,e){return this.has(t)?this._start+D(this,t)*this._step:e},mt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},mt.prototype.slice=function(t,e){return E(t,e,this.size)?this:(t=O(t,this.size),(e=x(e,this.size))<=t?new mt(0,0):new mt(this.get(t,this._end),this.get(e,this._end),this._step))},mt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},mt.prototype.lastIndexOf=function(t){return this.indexOf(t)},mt.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;o<=r;o++){if(!1===t(i,o,this))return o+1;i+=e?-n:n}return o},mt.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;return new T(function(){var u=i;return i+=e?-n:n,o>r?{value:void 0,done:!0}:W(t,o++,u)})},mt.prototype.equals=function(t){return t instanceof mt?this._start===t._start&&this._end===t._end&&this._step===t._step:vt(this,t)},e(gt,r),e(wt,gt),e(St,gt),e(zt,gt),gt.Keyed=wt,gt.Indexed=St,gt.Set=zt;var It="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function bt(t){return t>>>1&1073741824|3221225471&t}function qt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)r^=t/=4294967295;return bt(r)}if("string"===e)return t.length>jt?function(t){var e=Ut[t];void 0===e&&(e=Dt(t),Rt===Kt&&(Rt=0,Ut={}),Rt++,Ut[t]=e);return e}(t):Dt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(xt&&void 0!==(e=Mt.get(t)))return e;if(void 0!==(e=t[At]))return e;if(!Ot){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[At]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++kt,1073741824&kt&&(kt=0);if(xt)Mt.set(t,e);else{if(void 0!==Et&&!1===Et(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Ot)Object.defineProperty(t,At,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[At]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[At]=e}}return e}(t);if("function"==typeof t.toString)return Dt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Dt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return bt(e)}var Mt,Et=Object.isExtensible,Ot=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),xt="function"==typeof WeakMap;xt&&(Mt=new WeakMap);var kt=0,At="__immutablehash__";"function"==typeof Symbol&&(At=Symbol(At));var jt=16,Kt=255,Rt=0,Ut={};function Lt(t){dt(t!==1/0,"Cannot perform this action with an infinite size.")}function Tt(t){return null==t?Zt():Wt(t)&&!f(t)?t:Zt().withMutations(function(e){var r=n(t);Lt(r.size),r.forEach(function(t,r){return e.set(r,t)})})}function Wt(t){return!(!t||!t[Ct])}e(Tt,wt),Tt.prototype.toString=function(){return this.__toString("Map {","}")},Tt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Tt.prototype.set=function(t,e){return $t(this,t,e)},Tt.prototype.setIn=function(t,e){return this.updateIn(t,m,function(){return e})},Tt.prototype.remove=function(t){return $t(this,t,m)},Tt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return m})},Tt.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},Tt.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=function t(e,r,n,i){var o=e===m;var u=r.next();if(u.done){var s=o?n:e,a=i(s);return a===s?e:a}dt(o||e&&e.set,"invalid keyPath");var h=u.value;var f=o?m:e.get(h,m);var c=t(f,r,n,i);return c===f?e:c===m?e.remove(h):(o?Zt():e).set(h,c)}(this,rr(t),e,r);return n===m?void 0:n},Tt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Zt()},Tt.prototype.merge=function(){return ne(this,void 0,arguments)},Tt.prototype.mergeWith=function(e){return ne(this,e,t.call(arguments,1))},Tt.prototype.mergeIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,Zt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,r):r[r.length-1]})},Tt.prototype.mergeDeep=function(){return ne(this,ie,arguments)},Tt.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return ne(this,oe(e),r)},Tt.prototype.mergeDeepIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,Zt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,r):r[r.length-1]})},Tt.prototype.sort=function(t){return Oe(He(this,t))},Tt.prototype.sortBy=function(t,e){return Oe(He(this,e,t))},Tt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Tt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new I)},Tt.prototype.asImmutable=function(){return this.__ensureOwner()},Tt.prototype.wasAltered=function(){return this.__altered},Tt.prototype.__iterator=function(t,e){return new Qt(this,t,e)},Tt.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate(function(e){return n++,t(e[1],e[0],r)},e),n},Tt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Gt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Tt.isMap=Wt;var Bt,Ct="@@__IMMUTABLE_MAP__@@",Jt=Tt.prototype;function Nt(t,e){this.ownerID=t,this.entries=e}function Pt(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function Ht(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function Vt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function Yt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function Qt(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&Ft(t._root)}function Xt(t,e){return W(t,e[0],e[1])}function Ft(t,e){return{node:t,index:0,__prev:e}}function Gt(t,e,r,n){var i=Object.create(Jt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Zt(){return Bt||(Bt=Gt(0))}function $t(t,e,r){var n,i;if(t._root){var o=S(g),u=S(w);if(n=te(t._root,t.__ownerID,0,void 0,e,r,o,u),!u.value)return t;i=t.size+(o.value?r===m?-1:1:0)}else{if(r===m)return t;i=1,n=new Nt(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Gt(i,n):Zt()}function te(t,e,r,n,i,o,u,s){return t?t.update(e,r,n,i,o,u,s):o===m?t:(z(s),z(u),new Yt(e,n,[i,o]))}function ee(t){return t.constructor===Yt||t.constructor===Vt}function re(t,e,r,n,i){if(t.keyHash===n)return new Vt(e,n,[t.entry,i]);var o,u=(0===r?t.keyHash:t.keyHash>>>r)&d,s=(0===r?n:n>>>r)&d;return new Pt(e,1<<u|1<<s,u===s?[re(t,e,r+v,n,i)]:(o=new Yt(e,n,i),u<s?[t,o]:[o,t]))}function ne(t,e,r){for(var i=[],o=0;o<r.length;o++){var s=r[o],a=n(s);u(s)||(a=a.map(function(t){return ct(t)})),i.push(a)}return ue(t,e,i)}function ie(t,e,r){return t&&t.mergeDeep&&u(e)?t.mergeDeep(e):lt(t,e)?t:e}function oe(t){return function(e,r,n){if(e&&e.mergeDeepWith&&u(r))return e.mergeDeepWith(t,r);var i=t(e,r,n);return lt(e,i)?e:i}}function ue(t,e,r){return 0===(r=r.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations(function(t){for(var n=e?function(r,n){t.update(n,m,function(t){return t===m?r:e(t,r,n)})}:function(e,r){t.set(r,e)},i=0;i<r.length;i++)r[i].forEach(n)}):t.constructor(r[0])}function se(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ae(t,e,r,n){var i=n?t:b(t);return i[e]=r,i}Jt[Ct]=!0,Jt.delete=Jt.remove,Jt.removeIn=Jt.deleteIn,Nt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(lt(r,i[o][0]))return i[o][1];return n},Nt.prototype.update=function(t,e,r,n,i,o,u){for(var s=i===m,a=this.entries,h=0,f=a.length;h<f&&!lt(n,a[h][0]);h++);var c=h<f;if(c?a[h][1]===i:s)return this;if(z(u),(s||!c)&&z(o),!s||1!==a.length){if(!c&&!s&&a.length>=he)return function(t,e,r,n){t||(t=new I);for(var i=new Yt(t,qt(r),[r,n]),o=0;o<e.length;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}(t,a,n,i);var _=t&&t===this.ownerID,p=_?a:b(a);return c?s?h===f-1?p.pop():p[h]=p.pop():p[h]=[n,i]:p.push([n,i]),_?(this.entries=p,this):new Nt(t,p)}},Pt.prototype.get=function(t,e,r,n){void 0===e&&(e=qt(r));var i=1<<((0===t?e:e>>>t)&d),o=this.bitmap;return 0==(o&i)?n:this.nodes[se(o&i-1)].get(t+v,e,r,n)},Pt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=qt(n));var s=(0===e?r:r>>>e)&d,a=1<<s,h=this.bitmap,f=0!=(h&a);if(!f&&i===m)return this;var c=se(h&a-1),_=this.nodes,p=f?_[c]:void 0,l=te(p,t,e+v,r,n,i,o,u);if(l===p)return this;if(!f&&l&&_.length>=fe)return function(t,e,r,n,i){for(var o=0,u=new Array(y),s=0;0!==r;s++,r>>>=1)u[s]=1&r?e[o++]:void 0;return u[n]=i,new Ht(t,o+1,u)}(t,_,h,s,l);if(f&&!l&&2===_.length&&ee(_[1^c]))return _[1^c];if(f&&l&&1===_.length&&ee(l))return l;var g=t&&t===this.ownerID,w=f?l?h:h^a:h|a,S=f?l?ae(_,c,l,g):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,u=0;u<n;u++)u===e&&(o=1),i[u]=t[u+o];return i}(_,c,g):function(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),u=0,s=0;s<i;s++)s===e?(o[s]=r,u=-1):o[s]=t[s+u];return o}(_,c,l,g);return g?(this.bitmap=w,this.nodes=S,this):new Pt(t,w,S)},Ht.prototype.get=function(t,e,r,n){void 0===e&&(e=qt(r));var i=(0===t?e:e>>>t)&d,o=this.nodes[i];return o?o.get(t+v,e,r,n):n},Ht.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=qt(n));var s=(0===e?r:r>>>e)&d,a=i===m,h=this.nodes,f=h[s];if(a&&!f)return this;var c=te(f,t,e+v,r,n,i,o,u);if(c===f)return this;var _=this.count;if(f){if(!c&&--_<ce)return function(t,e,r,n){for(var i=0,o=0,u=new Array(r),s=0,a=1,h=e.length;s<h;s++,a<<=1){var f=e[s];void 0!==f&&s!==n&&(i|=a,u[o++]=f)}return new Pt(t,i,u)}(t,h,_,s)}else _++;var p=t&&t===this.ownerID,l=ae(h,s,c,p);return p?(this.count=_,this.nodes=l,this):new Ht(t,_,l)},Vt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(lt(r,i[o][0]))return i[o][1];return n},Vt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=qt(n));var s=i===m;if(r!==this.keyHash)return s?this:(z(u),z(o),re(this,t,e,r,[n,i]));for(var a=this.entries,h=0,f=a.length;h<f&&!lt(n,a[h][0]);h++);var c=h<f;if(c?a[h][1]===i:s)return this;if(z(u),(s||!c)&&z(o),s&&2===f)return new Yt(t,this.keyHash,a[1^h]);var _=t&&t===this.ownerID,p=_?a:b(a);return c?s?h===f-1?p.pop():p[h]=p.pop():p[h]=[n,i]:p.push([n,i]),_?(this.entries=p,this):new Vt(t,this.keyHash,p)},Yt.prototype.get=function(t,e,r,n){return lt(r,this.entry[0])?this.entry[1]:n},Yt.prototype.update=function(t,e,r,n,i,o,u){var s=i===m,a=lt(n,this.entry[0]);return(a?i===this.entry[1]:s)?this:(z(u),s?void z(o):a?t&&t===this.ownerID?(this.entry[1]=i,this):new Yt(t,this.keyHash,[n,i]):(z(o),re(this,t,e,qt(n),[n,i])))},Nt.prototype.iterate=Vt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===t(r[e?i-n:n]))return!1},Pt.prototype.iterate=Ht.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&!1===o.iterate(t,e))return!1}},Yt.prototype.iterate=function(t,e){return t(this.entry)},e(Qt,T),Qt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return Xt(t,n.entry)}else if(n.entries){if(i<=(r=n.entries.length-1))return Xt(t,n.entries[this._reverse?r-i:i])}else if(i<=(r=n.nodes.length-1)){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return Xt(t,o.entry);e=this._stack=Ft(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var he=y/4,fe=y/2,ce=y/4;function _e(t){var e=ze();if(null==t)return e;if(pe(t))return t;var r=i(t),n=r.size;return 0===n?e:(Lt(n),n>0&&n<y?Se(0,n,v,null,new ye(r.toArray())):e.withMutations(function(t){t.setSize(n),r.forEach(function(e,r){return t.set(r,e)})}))}function pe(t){return!(!t||!t[le])}e(_e,St),_e.of=function(){return this(arguments)},_e.prototype.toString=function(){return this.__toString("List [","]")},_e.prototype.get=function(t,e){if((t=D(this,t))>=0&&t<this.size){var r=qe(this,t+=this._origin);return r&&r.array[t&d]}return e},_e.prototype.set=function(t,e){return function(t,e,r){if((e=D(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?De(t,e).set(0,r):De(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=S(w);e>=Ee(t._capacity)?n=Ie(n,t.__ownerID,0,e,r,o):i=Ie(i,t.__ownerID,t._level,e,r,o);if(!o.value)return t;if(t.__ownerID)return t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t;return Se(t._origin,t._capacity,t._level,i,n)}(this,t,e)},_e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},_e.prototype.insert=function(t,e){return this.splice(t,0,e)},_e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ze()},_e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(r){De(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])})},_e.prototype.pop=function(){return De(this,0,-1)},_e.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){De(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])})},_e.prototype.shift=function(){return De(this,1)},_e.prototype.merge=function(){return Me(this,void 0,arguments)},_e.prototype.mergeWith=function(e){return Me(this,e,t.call(arguments,1))},_e.prototype.mergeDeep=function(){return Me(this,ie,arguments)},_e.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return Me(this,oe(e),r)},_e.prototype.setSize=function(t){return De(this,0,t)},_e.prototype.slice=function(t,e){var r=this.size;return E(t,e,r)?this:De(this,O(t,r),x(e,r))},_e.prototype.__iterator=function(t,e){var r=0,n=we(this,e);return new T(function(){var e=n();return e===ge?{value:void 0,done:!0}:W(t,r++,e)})},_e.prototype.__iterate=function(t,e){for(var r,n=0,i=we(this,e);(r=i())!==ge&&!1!==t(r,n++,this););return n},_e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Se(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},_e.isList=pe;var le="@@__IMMUTABLE_LIST__@@",ve=_e.prototype;function ye(t,e){this.array=t,this.ownerID=e}ve[le]=!0,ve.delete=ve.remove,ve.setIn=Jt.setIn,ve.deleteIn=ve.removeIn=Jt.removeIn,ve.update=Jt.update,ve.updateIn=Jt.updateIn,ve.mergeIn=Jt.mergeIn,ve.mergeDeepIn=Jt.mergeDeepIn,ve.withMutations=Jt.withMutations,ve.asMutable=Jt.asMutable,ve.asImmutable=Jt.asImmutable,ve.wasAltered=Jt.wasAltered,ye.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&d;if(n>=this.array.length)return new ye([],t);var i,o=0===n;if(e>0){var u=this.array[n];if((i=u&&u.removeBefore(t,e-v,r))===u&&o)return this}if(o&&!i)return this;var s=be(this,t);if(!o)for(var a=0;a<n;a++)s.array[a]=void 0;return i&&(s.array[n]=i),s},ye.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,i=r-1>>>e&d;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((n=o&&o.removeAfter(t,e-v,r))===o&&i===this.array.length-1)return this}var u=be(this,t);return u.array.splice(i+1),n&&(u.array[i]=n),u};var de,me,ge={};function we(t,e){var r=t._origin,n=t._capacity,i=Ee(n),o=t._tail;return u(t._root,t._level,0);function u(t,s,a){return 0===s?function(t,u){var s=u===i?o&&o.array:t&&t.array,a=u>r?0:r-u,h=n-u;h>y&&(h=y);return function(){if(a===h)return ge;var t=e?--h:a++;return s&&s[t]}}(t,a):function(t,i,o){var s,a=t&&t.array,h=o>r?0:r-o>>i,f=1+(n-o>>i);f>y&&(f=y);return function(){for(;;){if(s){var t=s();if(t!==ge)return t;s=null}if(h===f)return ge;var r=e?--f:h++;s=u(a&&a[r],i-v,o+(r<<i))}}}(t,s,a)}}function Se(t,e,r,n,i,o,u){var s=Object.create(ve);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=u,s.__altered=!1,s}function ze(){return de||(de=Se(0,0,v))}function Ie(t,e,r,n,i,o){var u,s=n>>>r&d,a=t&&s<t.array.length;if(!a&&void 0===i)return t;if(r>0){var h=t&&t.array[s],f=Ie(h,e,r-v,n,i,o);return f===h?t:((u=be(t,e)).array[s]=f,u)}return a&&t.array[s]===i?t:(z(o),u=be(t,e),void 0===i&&s===u.array.length-1?u.array.pop():u.array[s]=i,u)}function be(t,e){return e&&t&&e===t.ownerID?t:new ye(t?t.array.slice():[],e)}function qe(t,e){if(e>=Ee(t._capacity))return t._tail;if(e<1<<t._level+v){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&d],n-=v;return r}}function De(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new I,i=t._origin,o=t._capacity,u=i+e,s=void 0===r?o:r<0?o+r:i+r;if(u===i&&s===o)return t;if(u>=s)return t.clear();for(var a=t._level,h=t._root,f=0;u+f<0;)h=new ye(h&&h.array.length?[void 0,h]:[],n),f+=1<<(a+=v);f&&(u+=f,i+=f,s+=f,o+=f);for(var c=Ee(o),_=Ee(s);_>=1<<a+v;)h=new ye(h&&h.array.length?[h]:[],n),a+=v;var p=t._tail,l=_<c?qe(t,s-1):_>c?new ye([],n):p;if(p&&_>c&&u<o&&p.array.length){for(var y=h=be(h,n),m=a;m>v;m-=v){var g=c>>>m&d;y=y.array[g]=be(y.array[g],n)}y.array[c>>>v&d]=p}if(s<o&&(l=l&&l.removeAfter(n,0,s)),u>=_)u-=_,s-=_,a=v,h=null,l=l&&l.removeBefore(n,0,u);else if(u>i||_<c){for(f=0;h;){var w=u>>>a&d;if(w!==_>>>a&d)break;w&&(f+=(1<<a)*w),a-=v,h=h.array[w]}h&&u>i&&(h=h.removeBefore(n,a,u-f)),h&&_<c&&(h=h.removeAfter(n,a,_-f)),f&&(u-=f,s-=f)}return t.__ownerID?(t.size=s-u,t._origin=u,t._capacity=s,t._level=a,t._root=h,t._tail=l,t.__hash=void 0,t.__altered=!0,t):Se(u,s,a,h,l)}function Me(t,e,r){for(var n=[],o=0,s=0;s<r.length;s++){var a=r[s],h=i(a);h.size>o&&(o=h.size),u(a)||(h=h.map(function(t){return ct(t)})),n.push(h)}return o>t.size&&(t=t.setSize(o)),ue(t,e,n)}function Ee(t){return t<y?0:t-1>>>v<<v}function Oe(t){return null==t?Ae():xe(t)?t:Ae().withMutations(function(e){var r=n(t);Lt(r.size),r.forEach(function(t,r){return e.set(r,t)})})}function xe(t){return Wt(t)&&f(t)}function ke(t,e,r,n){var i=Object.create(Oe.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function Ae(){return me||(me=ke(Zt(),ze()))}function je(t,e,r){var n,i,o=t._map,u=t._list,s=o.get(e),a=void 0!==s;if(r===m){if(!a)return t;u.size>=y&&u.size>=2*o.size?(n=(i=u.filter(function(t,e){return void 0!==t&&s!==e})).toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=s===u.size-1?u.pop():u.set(s,void 0))}else if(a){if(r===u.get(s)[1])return t;n=o,i=u.set(s,[e,r])}else n=o.set(e,u.size),i=u.set(u.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):ke(n,i)}function Ke(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Re(t){this._iter=t,this.size=t.size}function Ue(t){this._iter=t,this.size=t.size}function Le(t){this._iter=t,this.size=t.size}function Te(t){var e=$e(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=tr,e.__iterateUncached=function(e,r){var n=this;return t.__iterate(function(t,r){return!1!==e(r,t,n)},r)},e.__iteratorUncached=function(e,r){if(e===K){var n=t.__iterator(e,r);return new T(function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===j?A:j,r)},e}function We(t,e,r){var n=$e(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,m);return o===m?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate(function(t,i,u){return!1!==n(e.call(r,t,i,u),i,o)},i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(K,i);return new T(function(){var i=o.next();if(i.done)return i;var u=i.value,s=u[0];return W(n,s,e.call(r,u[1],s,t),i)})},n}function Be(t,e){var r=$e(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=Te(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=tr,r.__iterate=function(e,r){var n=this;return t.__iterate(function(t,r){return e(t,r,n)},!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function Ce(t,e,r,n){var i=$e(t);return n&&(i.has=function(n){var i=t.get(n,m);return i!==m&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,m);return o!==m&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var u=this,s=0;return t.__iterate(function(t,o,a){if(e.call(r,t,o,a))return s++,i(t,n?o:s-1,u)},o),s},i.__iteratorUncached=function(i,o){var u=t.__iterator(K,o),s=0;return new T(function(){for(;;){var o=u.next();if(o.done)return o;var a=o.value,h=a[0],f=a[1];if(e.call(r,f,h,t))return W(i,n?h:s++,f,o)}})},i}function Je(t,e,r,n){var i=t.size;if(void 0!==e&&(e|=0),void 0!==r&&(r|=0),E(e,r,i))return t;var o=O(e,i),u=x(r,i);if(o!=o||u!=u)return Je(t.toSeq().cacheResult(),e,r,n);var s,a=u-o;a==a&&(s=a<0?0:a);var h=$e(t);return h.size=0===s?s:t.size&&s||void 0,!n&&it(t)&&s>=0&&(h.get=function(e,r){return(e=D(this,e))>=0&&e<s?t.get(e+o,r):r}),h.__iterateUncached=function(e,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var u=0,a=!0,h=0;return t.__iterate(function(t,r){if(!a||!(a=u++<o))return h++,!1!==e(t,n?r:h-1,i)&&h!==s}),h},h.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);var i=0!==s&&t.__iterator(e,r),u=0,a=0;return new T(function(){for(;u++<o;)i.next();if(++a>s)return{value:void 0,done:!0};var t=i.next();return n||e===j?t:W(e,a-1,e===A?void 0:t.value[1],t)})},h}function Ne(t,e,r,n){var i=$e(t);return i.__iterateUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,a=0;return t.__iterate(function(t,o,h){if(!s||!(s=e.call(r,t,o,h)))return a++,i(t,n?o:a-1,u)}),a},i.__iteratorUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(K,o),a=!0,h=0;return new T(function(){var t,o,f;do{if((t=s.next()).done)return n||i===j?t:W(i,h++,i===A?void 0:t.value[1],t);var c=t.value;o=c[0],f=c[1],a&&(a=e.call(r,f,o,u))}while(a);return i===K?t:W(i,o,f,t)})},i}function Pe(t,e,r){var n=$e(t);return n.__iterateUncached=function(n,i){var o=0,s=!1;return function t(a,h){var f=this;a.__iterate(function(i,a){return(!e||h<e)&&u(i)?t(i,h+1):!1===n(i,r?a:o++,f)&&(s=!0),!s},i)}(t,0),o},n.__iteratorUncached=function(n,i){var o=t.__iterator(n,i),s=[],a=0;return new T(function(){for(;o;){var t=o.next();if(!1===t.done){var h=t.value;if(n===K&&(h=h[1]),e&&!(s.length<e)||!u(h))return r?t:W(n,a++,h,t);s.push(o),o=h.__iterator(n,i)}else o=s.pop()}return{value:void 0,done:!0}})},n}function He(t,e,r){e||(e=er);var n=s(t),i=0,o=t.toSeq().map(function(e,n){return[n,e,i++,r?r(e,n,t):e]}).toArray();return o.sort(function(t,r){return e(t[3],r[3])||t[2]-r[2]}).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?Y(o):a(t)?Q(o):X(o)}function Ve(t,e,r){if(e||(e=er),r){var n=t.toSeq().map(function(e,n){return[e,r(e,n,t)]}).reduce(function(t,r){return Ye(e,t[1],r[1])?r:t});return n&&n[0]}return t.reduce(function(t,r){return Ye(e,t,r)?r:t})}function Ye(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||n>0}function Qe(t,e,n){var i=$e(t);return i.size=new tt(n).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(j,e),i=0;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=n.map(function(t){return t=r(t),N(i?t.reverse():t)}),u=0,s=!1;return new T(function(){var r;return s||(r=o.map(function(t){return t.next()}),s=r.some(function(t){return t.done})),s?{value:void 0,done:!0}:W(t,u++,e.apply(null,r.map(function(t){return t.value})))})},i}function Xe(t,e){return it(t)?e:t.constructor(e)}function Fe(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ge(t){return Lt(t.size),q(t)}function Ze(t){return s(t)?n:a(t)?i:o}function $e(t){return Object.create((s(t)?Y:a(t)?Q:X).prototype)}function tr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):V.prototype.cacheResult.call(this)}function er(t,e){return t>e?1:t<e?-1:0}function rr(t){var e=N(t);if(!e){if(!H(t))throw new TypeError("Expected iterable or array-like: "+t);e=N(r(t))}return e}function nr(t,e){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var u=Object.keys(t);!function(t,e){try{e.forEach(function(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){dt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}.bind(void 0,t))}catch(r){}}(i,u),i.size=u.length,i._name=e,i._keys=u,i._defaultValues=t}this._map=Tt(o)},i=n.prototype=Object.create(ir);return i.constructor=n,n}e(Oe,Tt),Oe.of=function(){return this(arguments)},Oe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Oe.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},Oe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ae()},Oe.prototype.set=function(t,e){return je(this,t,e)},Oe.prototype.remove=function(t){return je(this,t,m)},Oe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Oe.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},Oe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Oe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?ke(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},Oe.isOrderedMap=xe,Oe.prototype[l]=!0,Oe.prototype.delete=Oe.prototype.remove,e(Ke,Y),Ke.prototype.get=function(t,e){return this._iter.get(t,e)},Ke.prototype.has=function(t){return this._iter.has(t)},Ke.prototype.valueSeq=function(){return this._iter.valueSeq()},Ke.prototype.reverse=function(){var t=this,e=Be(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ke.prototype.map=function(t,e){var r=this,n=We(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},Ke.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?Ge(this):0,function(i){return t(i,e?--r:r++,n)}),e)},Ke.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(j,e),n=e?Ge(this):0;return new T(function(){var i=r.next();return i.done?i:W(t,e?--n:n++,i.value,i)})},Ke.prototype[l]=!0,e(Re,Q),Re.prototype.includes=function(t){return this._iter.includes(t)},Re.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate(function(e){return t(e,n++,r)},e)},Re.prototype.__iterator=function(t,e){var r=this._iter.__iterator(j,e),n=0;return new T(function(){var e=r.next();return e.done?e:W(t,n++,e.value,e)})},e(Ue,X),Ue.prototype.has=function(t){return this._iter.includes(t)},Ue.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){return t(e,e,r)},e)},Ue.prototype.__iterator=function(t,e){var r=this._iter.__iterator(j,e);return new T(function(){var e=r.next();return e.done?e:W(t,e.value,e.value,e)})},e(Le,Y),Le.prototype.entrySeq=function(){return this._iter.toSeq()},Le.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){if(e){Fe(e);var n=u(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}},e)},Le.prototype.__iterator=function(t,e){var r=this._iter.__iterator(j,e);return new T(function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){Fe(n);var i=u(n);return W(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}})},Re.prototype.cacheResult=Ke.prototype.cacheResult=Ue.prototype.cacheResult=Le.prototype.cacheResult=tr,e(nr,wt),nr.prototype.toString=function(){return this.__toString(ur(this)+" {","}")},nr.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},nr.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},nr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=or(this,Zt()))},nr.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+ur(this));var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:or(this,r)},nr.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:or(this,e)},nr.prototype.wasAltered=function(){return this._map.wasAltered()},nr.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},nr.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},nr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?or(this,e,t):(this.__ownerID=t,this._map=e,this)};var ir=nr.prototype;function or(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function ur(t){return t._name||t.constructor.name||"Record"}function sr(t){return null==t?lr():ar(t)&&!f(t)?t:lr().withMutations(function(e){var r=o(t);Lt(r.size),r.forEach(function(t){return e.add(t)})})}function ar(t){return!(!t||!t[fr])}ir.delete=ir.remove,ir.deleteIn=ir.removeIn=Jt.removeIn,ir.merge=Jt.merge,ir.mergeWith=Jt.mergeWith,ir.mergeIn=Jt.mergeIn,ir.mergeDeep=Jt.mergeDeep,ir.mergeDeepWith=Jt.mergeDeepWith,ir.mergeDeepIn=Jt.mergeDeepIn,ir.setIn=Jt.setIn,ir.update=Jt.update,ir.updateIn=Jt.updateIn,ir.withMutations=Jt.withMutations,ir.asMutable=Jt.asMutable,ir.asImmutable=Jt.asImmutable,e(sr,zt),sr.of=function(){return this(arguments)},sr.fromKeys=function(t){return this(n(t).keySeq())},sr.prototype.toString=function(){return this.__toString("Set {","}")},sr.prototype.has=function(t){return this._map.has(t)},sr.prototype.add=function(t){return _r(this,this._map.set(t,!0))},sr.prototype.remove=function(t){return _r(this,this._map.remove(t))},sr.prototype.clear=function(){return _r(this,this._map.clear())},sr.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var r=0;r<e.length;r++)o(e[r]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},sr.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var r=this;return this.withMutations(function(t){r.forEach(function(r){e.every(function(t){return t.includes(r)})||t.remove(r)})})},sr.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var r=this;return this.withMutations(function(t){r.forEach(function(r){e.some(function(t){return t.includes(r)})&&t.remove(r)})})},sr.prototype.merge=function(){return this.union.apply(this,arguments)},sr.prototype.mergeWith=function(e){var r=t.call(arguments,1);return this.union.apply(this,r)},sr.prototype.sort=function(t){return vr(He(this,t))},sr.prototype.sortBy=function(t,e){return vr(He(this,e,t))},sr.prototype.wasAltered=function(){return this._map.wasAltered()},sr.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate(function(e,n){return t(n,n,r)},e)},sr.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},sr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},sr.isSet=ar;var hr,fr="@@__IMMUTABLE_SET__@@",cr=sr.prototype;function _r(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function pr(t,e){var r=Object.create(cr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function lr(){return hr||(hr=pr(Zt()))}function vr(t){return null==t?wr():yr(t)?t:wr().withMutations(function(e){var r=o(t);Lt(r.size),r.forEach(function(t){return e.add(t)})})}function yr(t){return ar(t)&&f(t)}cr[fr]=!0,cr.delete=cr.remove,cr.mergeDeep=cr.merge,cr.mergeDeepWith=cr.mergeWith,cr.withMutations=Jt.withMutations,cr.asMutable=Jt.asMutable,cr.asImmutable=Jt.asImmutable,cr.__empty=lr,cr.__make=pr,e(vr,sr),vr.of=function(){return this(arguments)},vr.fromKeys=function(t){return this(n(t).keySeq())},vr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},vr.isOrderedSet=yr;var dr,mr=vr.prototype;function gr(t,e){var r=Object.create(mr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function wr(){return dr||(dr=gr(Ae()))}function Sr(t){return null==t?Mr():zr(t)?t:Mr().unshiftAll(t)}function zr(t){return!(!t||!t[br])}mr[l]=!0,mr.__empty=wr,mr.__make=gr,e(Sr,St),Sr.of=function(){return this(arguments)},Sr.prototype.toString=function(){return this.__toString("Stack [","]")},Sr.prototype.get=function(t,e){var r=this._head;for(t=D(this,t);r&&t--;)r=r.next;return r?r.value:e},Sr.prototype.peek=function(){return this._head&&this._head.value},Sr.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Dr(t,e)},Sr.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Lt(t.size);var e=this.size,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Dr(e,r)},Sr.prototype.pop=function(){return this.slice(1)},Sr.prototype.unshift=function(){return this.push.apply(this,arguments)},Sr.prototype.unshiftAll=function(t){return this.pushAll(t)},Sr.prototype.shift=function(){return this.pop.apply(this,arguments)},Sr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Mr()},Sr.prototype.slice=function(t,e){if(E(t,e,this.size))return this;var r=O(t,this.size);if(x(e,this.size)!==this.size)return St.prototype.slice.call(this,t,e);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):Dr(n,i)},Sr.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Dr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Sr.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&!1!==t(n.value,r++,this);)n=n.next;return r},Sr.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new T(function(){if(n){var e=n.value;return n=n.next,W(t,r++,e)}return{value:void 0,done:!0}})},Sr.isStack=zr;var Ir,br="@@__IMMUTABLE_STACK__@@",qr=Sr.prototype;function Dr(t,e,r,n){var i=Object.create(qr);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Mr(){return Ir||(Ir=Dr(0))}function Er(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}qr[br]=!0,qr.withMutations=Jt.withMutations,qr.asMutable=Jt.asMutable,qr.asImmutable=Jt.asImmutable,qr.wasAltered=Jt.wasAltered,r.Iterator=T,Er(r,{toArray:function(){Lt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,r){t[r]=e}),t},toIndexedSeq:function(){return new Re(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new Ke(this,!0)},toMap:function(){return Tt(this.toKeyedSeq())},toObject:function(){Lt(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t},toOrderedMap:function(){return Oe(this.toKeyedSeq())},toOrderedSet:function(){return vr(s(this)?this.valueSeq():this)},toSet:function(){return sr(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ue(this)},toSeq:function(){return a(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Sr(s(this)?this.valueSeq():this)},toList:function(){return _e(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Xe(this,function(t,e){var r=s(t),i=[t].concat(e).map(function(t){return u(t)?r&&(t=n(t)):t=r?ut(t):st(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||r&&s(o)||a(t)&&a(o))return o}var h=new tt(i);return r?h=h.toKeyedSeq():a(t)||(h=h.toSetSeq()),(h=h.flatten(!0)).size=i.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),h}(this,t.call(arguments,0)))},includes:function(t){return this.some(function(e){return lt(e,t)})},entries:function(){return this.__iterator(K)},every:function(t,e){Lt(this.size);var r=!0;return this.__iterate(function(n,i,o){if(!t.call(e,n,i,o))return r=!1,!1}),r},filter:function(t,e){return Xe(this,Ce(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},findEntry:function(t,e){var r;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return Lt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Lt(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate(function(n){r?r=!1:e+=t,e+=null!=n?n.toString():""}),e},keys:function(){return this.__iterator(A)},map:function(t,e){return Xe(this,We(this,t,e))},reduce:function(t,e,r){var n,i;return Lt(this.size),arguments.length<2?i=!0:n=e,this.__iterate(function(e,o,u){i?(i=!1,n=e):n=t.call(r,n,e,o,u)}),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Xe(this,Be(this,!0))},slice:function(t,e){return Xe(this,Je(this,t,e,!0))},some:function(t,e){return!this.every(jr(t),e)},sort:function(t){return Xe(this,He(this,t))},values:function(){return this.__iterator(j)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return q(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,r){var n=Tt().asMutable();return t.__iterate(function(i,o){n.update(e.call(r,i,o,t),0,function(t){return t+1})}),n.asImmutable()}(this,t,e)},equals:function(t){return vt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new tt(t._cache);var e=t.toSeq().map(Ar).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(jr(t),e)},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},first:function(){return this.find(M)},flatMap:function(t,e){return Xe(this,function(t,e,r){var n=Ze(t);return t.toSeq().map(function(i,o){return n(e.call(r,i,o,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Xe(this,Pe(this,t,!0))},fromEntrySeq:function(){return new Le(this)},get:function(t,e){return this.find(function(e,r){return lt(r,t)},void 0,e)},getIn:function(t,e){for(var r,n=this,i=rr(t);!(r=i.next()).done;){var o=r.value;if((n=n&&n.get?n.get(o,m):m)===m)return e}return n},groupBy:function(t,e){return function(t,e,r){var n=s(t),i=(f(t)?Oe():Tt()).asMutable();t.__iterate(function(o,u){i.update(e.call(r,o,u,t),function(t){return(t=t||[]).push(n?[u,o]:o),t})});var o=Ze(t);return i.map(function(e){return Xe(t,o(e))})}(this,t,e)},has:function(t){return this.get(t,m)!==m},hasIn:function(t){return this.getIn(t,m)!==m},isSubset:function(t){return t="function"==typeof t.includes?t:r(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:r(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(kr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Ve(this,t)},maxBy:function(t,e){return Ve(this,e,t)},min:function(t){return Ve(this,t?Kr(t):Lr)},minBy:function(t,e){return Ve(this,e?Kr(e):Lr,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Xe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Xe(this,Ne(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(jr(t),e)},sortBy:function(t,e){return Xe(this,He(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Xe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Xe(this,function(t,e,r){var n=$e(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var u=0;return t.__iterate(function(t,i,s){return e.call(r,t,i,s)&&++u&&n(t,i,o)}),u},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var u=t.__iterator(K,i),s=!0;return new T(function(){if(!s)return{value:void 0,done:!0};var t=u.next();if(t.done)return t;var i=t.value,a=i[0],h=i[1];return e.call(r,h,a,o)?n===K?t:W(n,a,h,t):(s=!1,{value:void 0,done:!0})})},n}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(jr(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=f(t),r=s(t),n=e?1:0;return function(t,e){return e=It(e,3432918353),e=It(e<<15|e>>>-15,461845907),e=It(e<<13|e>>>-13,5),e=It((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=bt((e=It(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(r?e?function(t,e){n=31*n+Tr(qt(t),qt(e))|0}:function(t,e){n=n+Tr(qt(t),qt(e))|0}:e?function(t){n=31*n+qt(t)|0}:function(t){n=n+qt(t)|0}),n)}(this))}});var Or=r.prototype;Or[c]=!0,Or[L]=Or.values,Or.__toJS=Or.toArray,Or.__toStringMapper=Rr,Or.inspect=Or.toSource=function(){return this.toString()},Or.chain=Or.flatMap,Or.contains=Or.includes,function(){try{Object.defineProperty(Or,"length",{get:function(){if(!r.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Er(n,{flip:function(){return Xe(this,Te(this))},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return lt(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return lt(e,t)})},mapEntries:function(t,e){var r=this,n=0;return Xe(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function(t,e){var r=this;return Xe(this,this.toSeq().flip().map(function(n,i){return t.call(e,n,i,r)}).flip())}});var xr=n.prototype;function kr(t,e){return e}function Ar(t,e){return[e,t]}function jr(t){return function(){return!t.apply(this,arguments)}}function Kr(t){return function(){return-t.apply(this,arguments)}}function Rr(t){return"string"==typeof t?JSON.stringify(t):t}function Ur(){return b(arguments)}function Lr(t,e){return t<e?1:t>e?-1:0}function Tr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return xr[_]=!0,xr[L]=Or.entries,xr.__toJS=Or.toObject,xr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Rr(t)},Er(i,{toKeyedSeq:function(){return new Ke(this,!1)},filter:function(t,e){return Xe(this,Ce(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Xe(this,Be(this,!1))},slice:function(t,e){return Xe(this,Je(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=O(t,t<0?this.count():this.size);var n=this.slice(0,t);return Xe(this,1===r?n:n.concat(b(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.toKeyedSeq().findLastKey(t,e);return void 0===r?-1:r},first:function(){return this.get(0)},flatten:function(t){return Xe(this,Pe(this,t,!1))},get:function(t,e){return(t=D(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,r){return r===t},void 0,e)},has:function(t){return(t=D(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Xe(this,function(t,e){var r=$e(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate(function(t,n){return(!o||!1!==r(e,o++,i))&&!1!==r(t,o++,i)},n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(j,n),u=0;return new T(function(){return(!i||u%2)&&(i=o.next()).done?i:u%2?W(r,u++,e):W(r,u++,i.value,i)})},r}(this,t))},interleave:function(){var t=[this].concat(b(arguments)),e=Qe(this.toSeq(),Q.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),Xe(this,r)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Xe(this,Ne(this,t,e,!1))},zip:function(){return Xe(this,Qe(this,Ur,[this].concat(b(arguments))))},zipWith:function(t){var e=b(arguments);return e[0]=this,Xe(this,Qe(this,t,e))}}),i.prototype[p]=!0,i.prototype[l]=!0,Er(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Or.includes,Er(Y,n.prototype),Er(Q,i.prototype),Er(X,o.prototype),Er(wt,n.prototype),Er(St,i.prototype),Er(zt,o.prototype),{Iterable:r,Seq:V,Collection:gt,Map:Tt,OrderedMap:Oe,List:_e,Stack:Sr,Set:sr,OrderedSet:vr,Record:nr,Range:mt,Repeat:yt,is:lt,fromJS:ct}},"object"==typeof e&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):n.Immutable=i()}),
(function(r,e,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule BlockMapBuilder
 * @format
 * 
 */
"use strict";var n=t(1142).OrderedMap,u={createFromArray:function(r){return n(r.map(function(r){return[r.getKey(),r]}))}};r.exports=u}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CharacterMetadata
 * @format
 * 
 */
"use strict";var r=n(1142),o=r.Map,i=r.OrderedSet,u=r.Record,c=i(),l={style:c,entity:null},s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getStyle=function(){return this.get("style")},e.prototype.getEntity=function(){return this.get("entity")},e.prototype.hasStyle=function(t){return this.getStyle().includes(t)},e.applyStyle=function(t,n){var r=t.set("style",t.getStyle().add(n));return e.create(r)},e.removeStyle=function(t,n){var r=t.set("style",t.getStyle().remove(n));return e.create(r)},e.applyEntity=function(t,n){var r=t.getEntity()===n?t:t.set("entity",n);return e.create(r)},e.create=function(t){if(!t)return y;var n=o({style:c,entity:null}).merge(t),r=a.get(n);if(r)return r;var i=new e(n);return a=a.set(n,i),i},e}(u(l)),y=new s,a=o([[o(l),y]]);s.EMPTY=y,t.exports=s}),
(function(t,n,u){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule findRangesImmutable
 * @format
 * 
 */
"use strict";t.exports=function(t,n,u,c){if(t.size){var e=0;t.reduce(function(t,i,r){return n(t,i)||(u(t)&&c(e,r),e=r),i}),u(t.last())&&c(e,t.count())}}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentBlock
 * @format
 * 
 */
"use strict";var r=n(1144),o=n(1142),i=n(1145),a=o.List,c=o.Map,u=o.OrderedSet,p=o.Record,s=o.Repeat,f=u(),y=p({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:c()}),h=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=a(s(r.EMPTY,n.length))),t},g=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h(n)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getKey=function(){return this.get("key")},e.prototype.getType=function(){return this.get("type")},e.prototype.getText=function(){return this.get("text")},e.prototype.getCharacterList=function(){return this.get("characterList")},e.prototype.getLength=function(){return this.getText().length},e.prototype.getDepth=function(){return this.get("depth")},e.prototype.getData=function(){return this.get("data")},e.prototype.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():f},e.prototype.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},e.prototype.findStyleRanges=function(t,e){i(this.getCharacterList(),l,t,e)},e.prototype.findEntityRanges=function(t,e){i(this.getCharacterList(),d,t,e)},e}(y);function l(t,e){return t.getStyle()===e.getStyle()}function d(t,e){return t.getEntity()===e.getEntity()}t.exports=g}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentBlockNode
 * @format
 * 
 *
 * This file is a fork of ContentBlock adding support for nesting references by
 * providing links to children, parent, prevSibling, and nextSibling.
 *
 * This is unstable and not part of the public API and should not be used by
 * production systems. This file may be update/removed without notice.
 */
"use strict";var r=n(1144),i=n(1142),o=n(1145),u=i.List,a=i.Map,c=i.OrderedSet,p=i.Record,s=i.Repeat,g=c(),y={parent:null,characterList:u(),data:a(),depth:0,key:"",text:"",type:"unstyled",children:u(),prevSibling:null,nextSibling:null},h=function(t,e){return t.getStyle()===e.getStyle()},l=function(t,e){return t.getEntity()===e.getEntity()},f=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=u(s(r.EMPTY,n.length))),t},b=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,f(n)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getKey=function(){return this.get("key")},e.prototype.getType=function(){return this.get("type")},e.prototype.getText=function(){return this.get("text")},e.prototype.getCharacterList=function(){return this.get("characterList")},e.prototype.getLength=function(){return this.getText().length},e.prototype.getDepth=function(){return this.get("depth")},e.prototype.getData=function(){return this.get("data")},e.prototype.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():g},e.prototype.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},e.prototype.getChildKeys=function(){return this.get("children")},e.prototype.getParentKey=function(){return this.get("parent")},e.prototype.getPrevSiblingKey=function(){return this.get("prevSibling")},e.prototype.getNextSiblingKey=function(){return this.get("nextSibling")},e.prototype.findStyleRanges=function(t,e){o(this.getCharacterList(),h,t,e)},e.prototype.findEntityRanges=function(t,e){o(this.getCharacterList(),l,t,e)},e}(p(y));t.exports=b}),
(function(t,e,_){
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftFeatureFlags-core
 * @format
 * 
 */
"use strict";t.exports={draft_killswitch_allow_nontextnodes:!1,draft_segmented_entities_behavior:!1,draft_handlebeforeinput_composed_text:!1,draft_tree_data_support:!1}}),
(function(r,t,e){
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftFeatureFlags
 * @format
 * 
 */
"use strict";var a=e(1148);r.exports=a}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentStateInlineStyle
 * @format
 * 
 */
"use strict";var n=r(1144),a=r(1142).Map,c={add:function(t,e,r){return o(t,e,r,!0)},remove:function(t,e,r){return o(t,e,r,!1)}};function o(t,e,r,c){var o=t.getBlockMap(),i=e.getStartKey(),u=e.getStartOffset(),f=e.getEndKey(),g=e.getEndOffset(),s=o.skipUntil(function(t,e){return e===i}).takeUntil(function(t,e){return e===f}).concat(a([[f,o.get(f)]])).map(function(t,e){var a,o;i===f?(a=u,o=g):(a=e===i?u:0,o=e===f?g:t.getLength());for(var s,l=t.getCharacterList();a<o;)s=l.get(a),l=l.set(a,c?n.applyStyle(s,r):n.removeStyle(s,r)),a++;return t.set("characterList",l)});return t.merge({blockMap:o.merge(s),selectionBefore:e,selectionAfter:e})}t.exports=c}),
(function(t,r,a){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule applyEntityToContentBlock
 * @format
 * 
 */
"use strict";var e=a(1144);t.exports=function(t,r,a,c){for(var s=t.getCharacterList();r<a;)s=s.set(r,e.applyEntity(s.get(r),c)),r++;return t.set("characterList",s)}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule applyEntityToContentState
 * @format
 * 
 */
"use strict";var r=n(1142),o=n(1151);e.exports=function(e,t,n){var a=e.getBlockMap(),i=t.getStartKey(),c=t.getStartOffset(),f=t.getEndKey(),g=t.getEndOffset(),u=a.skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===f}).toOrderedMap().merge(r.OrderedMap([[f,a.get(f)]])).map(function(e,t){var r=t===i?c:0,a=t===f?g:e.getLength();return o(e,r,a,n)});return e.merge({blockMap:a.merge(u),selectionBefore:t,selectionAfter:t})}}),
(function(n,r,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEntitySegments
 * @format
 * 
 */
"use strict";n.exports={getRemovalRange:function(n,r,e,t,l){var u=e.split(" ");u=u.map(function(n,r){if("forward"===l){if(r>0)return" "+n}else if(r<u.length-1)return n+" ";return n});for(var f,a=t,i=null,o=null,s=0;s<u.length;s++){if(n<(f=a+u[s].length)&&a<r)null!==i?o=f:(i=a,o=f);else if(null!==i)break;a=f}var g=t+e.length,c=i===t,h=o===g;return(!c&&h||c&&!h)&&("forward"===l?o!==g&&o++:i!==t&&i--),{start:i,end:o}}}}),
(function(n,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var i=function(n){};n.exports=function(n,e,r,o,t,a,f,s){if(i(e),!n){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,t,a,f,s],d=0;(u=new Error(e.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}}),
(function(n,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangesForDraftEntity
 * @format
 * 
 */
"use strict";var r=i(1154);n.exports=function(n,t){var i=[];return n.findEntityRanges(function(n){return n.getEntity()===t},function(n,t){i.push({start:n,end:t})}),i.length||r(!1),i}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getCharacterRemovalRange
 * @format
 * 
 */
"use strict";var f=r(1153),s=r(1155),a=r(1154);function n(t,e,r,n,i,g,c){var o=r.getStartOffset(),u=r.getEndOffset(),O=t.__get(i).getMutability(),d=c?o:u;if("MUTABLE"===O)return r;var v=s(e,i).filter(function(t){return d<=t.end&&d>=t.start});1!=v.length&&a(!1);var l=v[0];if("IMMUTABLE"===O)return r.merge({anchorOffset:l.start,focusOffset:l.end,isBackward:!1});g||(c?u=l.end:o=l.start);var E=f.getRemovalRange(o,u,e.getText().slice(l.start,l.end),l.start,n);return r.merge({anchorOffset:E.start,focusOffset:E.end,isBackward:!1})}t.exports=function(t,e,r,f,s){var a=f.getStartOffset(),i=f.getEndOffset(),g=e.getEntityAt(a),c=r.getEntityAt(i-1);if(!g&&!c)return f;var o=f;if(g&&g===c)o=n(t,e,o,s,g,!0,!0);else if(g&&c){var u=n(t,e,o,s,g,!1,!0),O=n(t,r,o,s,c,!1,!1);o=o.merge({anchorOffset:u.getAnchorOffset(),focusOffset:O.getFocusOffset(),isBackward:!1})}else if(g){var d=n(t,e,o,s,g,!1,!0);o=o.merge({anchorOffset:d.getStartOffset(),isBackward:!1})}else if(c){var v=n(t,r,o,s,c,!1,!1);o=o.merge({focusOffset:v.getEndOffset(),isBackward:!1})}return o}}),
(function(o,r,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule generateRandomKey
 * @format
 * 
 */
"use strict";var a={},n=Math.pow(2,24);o.exports=function(){for(var o=void 0;void 0===o||a.hasOwnProperty(o)||!isNaN(+o);)o=Math.floor(Math.random()*n).toString(32);return a[o]=!0,o}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule randomizeBlockMapKeys
 * @format
 * 
 */
"use strict";var i=n(1147),r=n(1142),g=n(1157),l=r.OrderedMap;e.exports=function(e){return e.first()instanceof i?function(e){var t={},n=void 0;return l(e.withMutations(function(e){e.forEach(function(i,r){var l=i.getKey(),s=i.getNextSiblingKey(),o=i.getPrevSiblingKey(),u=i.getChildKeys(),a=i.getParentKey(),c=g();if(t[l]=c,s&&(e.get(s)?e.setIn([s,"prevSibling"],c):e.setIn([l,"nextSibling"],null)),o&&(e.get(o)?e.setIn([o,"nextSibling"],c):e.setIn([l,"prevSibling"],null)),a&&e.get(a)){var f=e.get(a).getChildKeys();e.setIn([a,"children"],f.set(f.indexOf(i.getKey()),c))}else e.setIn([l,"parent"],null),n&&(e.setIn([n.getKey(),"nextSibling"],c),e.setIn([l,"prevSibling"],t[n.getKey()])),n=e.get(l);u.forEach(function(t){e.get(t)?e.setIn([t,"parent"],c):e.setIn([l,"children"],i.getChildKeys().filter(function(e){return e!==t}))})})}).toArray().map(function(e){return[t[e.getKey()],e.set("key",t[e.getKey()])]}))}(e):function(e){return l(e.toArray().map(function(e){var t=g();return[t,e.set("key",t)]}))}(e)}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeEntitiesAtEdges
 * @format
 * 
 */
"use strict";var r=n(1144),i=n(1145),a=n(1154);function g(t,e,n){var g=e.getCharacterList(),o=n>0?g.get(n-1):void 0,c=n<g.count()?g.get(n):void 0,f=o?o.getEntity():void 0,u=c?c.getEntity():void 0;if(u&&u===f&&"MUTABLE"!==t.__get(u).getMutability()){for(var s,y=function(t,e,n){var r;return i(t,function(t,e){return t.getEntity()===e.getEntity()},function(t){return t.getEntity()===e},function(t,e){t<=n&&e>=n&&(r={start:t,end:e})}),"object"!=typeof r&&a(!1),r}(g,u,n),v=y.start,l=y.end;v<l;)s=g.get(v),g=g.set(v,r.applyEntity(s,null)),v++;return e.set("characterList",g)}return e}t.exports=function(t,e){var n=t.getBlockMap(),r=t.getEntityMap(),i={},a=e.getStartKey(),o=e.getStartOffset(),c=n.get(a),f=g(r,c,o);f!==c&&(i[a]=f);var u=e.getEndKey(),s=e.getEndOffset(),y=n.get(u);a===u&&(y=f);var v=g(r,y,s);return v!==y&&(i[u]=v),Object.keys(i).length?t.merge({blockMap:n.merge(i),selectionAfter:e}):t.set("selectionAfter",e)}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getContentStateFragment
 * @format
 * 
 */
"use strict";var c=r(1158),i=r(1159);e.exports=function(e,t){var r=t.getStartKey(),s=t.getStartOffset(),a=t.getEndKey(),n=t.getEndOffset(),g=i(e,t).getBlockMap(),f=g.keySeq(),l=f.indexOf(r),o=f.indexOf(a)+1;return c(g.slice(l,o).map(function(e,t){var c=e.getText(),i=e.getCharacterList();return r===a?e.merge({text:c.slice(s,n),characterList:i.slice(s,n)}):t===r?e.merge({text:c.slice(s),characterList:i.slice(s)}):t===a?e.merge({text:c.slice(0,n),characterList:i.slice(0,n)}):e}))}}),
(function(t,c,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertIntoList
 * @format
 * 
 */
"use strict";t.exports=function(t,c,e){if(e===t.count())c.forEach(function(c){t=t.push(c)});else if(0===e)c.reverse().forEach(function(c){t=t.unshift(c)});else{var n=t.slice(0,e),i=t.slice(e);t=n.concat(c,i).toList()}return t}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertFragmentIntoContentState
 * @format
 * 
 */
"use strict";var i=r(1143),n=r(1147),a=r(1142),s=r(1161),c=r(1154),g=r(1158),o=a.List,l=function(e,t,r,a,s,c){var g=r.first()instanceof n,l=[],f=a.size,u=r.get(s),h=a.first(),y=a.last(),p=y.getLength(),x=y.getKey(),K=g&&(!u.getChildKeys().isEmpty()||!h.getChildKeys().isEmpty());r.forEach(function(e,t){t===s?(K?l.push(e):l.push(function(e,t,r){var i=e.getText(),n=e.getCharacterList(),a=i.slice(0,t),s=n.slice(0,t),c=r.first();return e.merge({text:a+c.getText(),characterList:s.concat(c.getCharacterList()),type:a?e.getType():c.getType(),data:c.getData()})}(e,c,a)),a.slice(K?0:1,f-1).forEach(function(e){return l.push(e)}),l.push(function(e,t,r){var i=e.getText(),n=e.getCharacterList(),a=i.length,s=i.slice(t,a),c=n.slice(t,a),g=r.last();return g.merge({text:g.getText()+s,characterList:g.getCharacterList().concat(c),data:g.getData()})}(e,c,a))):l.push(e)});var b=i.createFromArray(l);return g&&(b=function(e,t,r,i){return e.withMutations(function(t){var n=r.getKey(),a=i.getKey(),s=r.getNextSiblingKey(),c=r.getParentKey(),g=function(e,t){var r=e.getKey(),i=e,n=[];for(t.get(r)&&n.push(r);i&&i.getNextSiblingKey();){var a=i.getNextSiblingKey();if(!a)break;n.push(a),i=t.get(a)}return n}(i,e),l=g[g.length-1];if(t.get(a)?(t.setIn([n,"nextSibling"],a),t.setIn([a,"prevSibling"],n)):(t.setIn([n,"nextSibling"],i.getNextSiblingKey()),t.setIn([i.getNextSiblingKey(),"prevSibling"],n)),t.setIn([l,"nextSibling"],s),s&&t.setIn([s,"prevSibling"],l),g.forEach(function(e){return t.setIn([e,"parent"],c)}),c){var f=e.get(c).getChildKeys(),u=f.indexOf(n)+1,h=f.toArray();h.splice.apply(h,[u,0].concat(g)),t.setIn([c,"children"],o(h))}})}(b,0,u,h)),e.merge({blockMap:b,selectionBefore:t,selectionAfter:t.merge({anchorKey:x,anchorOffset:p,focusKey:x,focusOffset:p,isBackward:!1})})};e.exports=function(e,t,r){t.isCollapsed()||c(!1);var i=e.getBlockMap(),a=g(r),o=t.getStartKey(),f=t.getStartOffset(),u=i.get(o);return u instanceof n&&(u.getChildKeys().isEmpty()||c(!1)),1===a.size?function(e,t,r,i,n,a){var c=r.get(n),g=c.getText(),o=c.getCharacterList(),l=n,f=a+i.getText().length,u=c.merge({text:g.slice(0,a)+i.getText()+g.slice(a),characterList:s(o,i.getCharacterList(),a),data:i.getData()});return e.merge({blockMap:r.set(n,u),selectionBefore:t,selectionAfter:t.merge({anchorKey:l,anchorOffset:f,focusKey:l,focusOffset:f,isBackward:!1})})}(e,t,i,a.first(),o,f):l(e,t,i,a,o,f)}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertTextIntoContentState
 * @format
 * 
 */
"use strict";var s=r(1142),a=r(1161),i=r(1154),n=s.Repeat;t.exports=function(t,e,r,s){e.isCollapsed()||i(!1);var c=r.length;if(!c)return t;var f=t.getBlockMap(),g=e.getStartKey(),o=e.getStartOffset(),l=f.get(g),u=l.getText(),h=l.merge({text:u.slice(0,o)+r+u.slice(o,l.getLength()),characterList:a(l.getCharacterList(),n(s,c).toList(),o)}),m=o+c;return t.merge({blockMap:f.set(g,h),selectionAfter:e.merge({anchorOffset:m,focusOffset:m})})}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule modifyBlockForContentState
 * @format
 * 
 */
"use strict";var r=n(1142).Map;e.exports=function(e,t,n){var o=t.getStartKey(),c=t.getEndKey(),i=e.getBlockMap(),a=i.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===c}).concat(r([[c,i.get(c)]])).map(n);return e.merge({blockMap:i.merge(a),selectionBefore:t,selectionAfter:t})}}),
(function(e,t,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getNextDelimiterBlockKey
 * @format
 * 
 *
 * This is unstable and not part of the public API and should not be used by
 * production systems. This file may be update/removed without notice.
 */var r=n(1147);e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var i=e.getParentKey();if(!i)return null;for(var l=t.get(i);l&&!l.getNextSiblingKey();){var u=l.getParentKey();l=u?t.get(u):null}return l?l.getNextSiblingKey():null}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeRangeFromContentState
 * @format
 * 
 */
"use strict";var r=n(1147),i=n(1142),g=n(1165),u=(i.List,i.Map),c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},l=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},o=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},f=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},a=function(e,t,n,r){return e.withMutations(function(e){c(t.getKey(),e,function(n){return n.merge({nextSibling:o(t,e,r),prevSibling:f(t,e,r)})}),c(n.getKey(),e,function(t){return t.merge({nextSibling:o(n,e,r),prevSibling:f(n,e,r)})}),l(t.getKey(),r).forEach(function(t){return c(t,e,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return e.get(t)}),nextSibling:o(t,e,r),prevSibling:f(t,e,r)})})}),c(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})}),c(t.getPrevSiblingKey(),e,function(n){return n.merge({nextSibling:o(t,e,r)})}),c(n.getNextSiblingKey(),e,function(t){return t.merge({prevSibling:f(n,e,r)})}),c(n.getPrevSiblingKey(),e,function(e){return e.merge({nextSibling:n.getNextSiblingKey()})}),l(n.getKey(),r).forEach(function(t){c(t,e,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return e.get(t)}),nextSibling:o(t,e,r),prevSibling:f(t,e,r)})})}),function(e,t){var n=[];if(!e)return n;for(var r=g(e,t);r&&t.get(r);){var i=t.get(r);n.push(r),r=i.getParentKey()?g(i,t):null}return n}(n,r).forEach(function(t){return c(t,e,function(t){return t.merge({nextSibling:o(t,e,r),prevSibling:f(t,e,r)})})})})},s=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n=e.getBlockMap(),i=t.getStartKey(),c=t.getStartOffset(),o=t.getEndKey(),f=t.getEndOffset(),y=n.get(i),v=n.get(o),K=y instanceof r,S=[];if(K){var b=v.getChildKeys(),p=l(o,n);v.getNextSiblingKey()&&(S=S.concat(p)),b.isEmpty()||(S=S.concat(p.concat([o]))),S=S.concat(l(g(v,n),n))}var x=void 0;x=y===v?s(y.getCharacterList(),c,f):y.getCharacterList().slice(0,c).concat(v.getCharacterList().slice(f));var h=y.merge({text:y.getText().slice(0,c)+v.getText().slice(f),characterList:x}),m=n.toSeq().skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===o}).filter(function(e,t){return-1===S.indexOf(t)}).concat(u([[o,null]])).map(function(e,t){return t===i?h:null}),d=n.merge(m).filter(function(e){return!!e});return K&&(d=a(d,y,v,n)),e.merge({blockMap:d,selectionBefore:t,selectionAfter:t.merge({anchorKey:i,anchorOffset:c,focusKey:i,focusOffset:c,isBackward:!1})})}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule splitBlockInContentState
 * @format
 * 
 */
"use strict";var r=n(1147),i=n(1142),c=n(1157),o=n(1154),a=i.List,s=i.Map,g=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||o(!1);var n=t.getAnchorKey(),i=t.getAnchorOffset(),f=e.getBlockMap(),u=f.get(n),l=u.getText(),y=u.getCharacterList(),m=c(),d=u instanceof r,h=u.merge({text:l.slice(0,i),characterList:y.slice(0,i)}),p=h.merge({key:m,text:l.slice(i),characterList:y.slice(i),data:s()}),K=f.toSeq().takeUntil(function(e){return e===u}),b=f.toSeq().skipUntil(function(e){return e===u}).rest(),v=K.concat([[n,h],[m,p]],b).toOrderedMap();return d&&(u.getChildKeys().isEmpty()||o(!1),v=function(e,t,n){return e.withMutations(function(e){var r=t.getKey(),i=n.getKey();g(t.getParentKey(),e,function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,c=t.toArray();return c.splice(n,0,i),e.merge({children:a(c)})}),g(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:i})}),g(r,e,function(e){return e.merge({nextSibling:i})}),g(i,e,function(e){return e.merge({prevSibling:r})})})}(v,h,p)),e.merge({blockMap:v,selectionBefore:t,selectionAfter:t.merge({anchorKey:m,anchorOffset:0,focusKey:m,focusOffset:0,isBackward:!1})})}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftModifier
 * @format
 * 
 */
"use strict";var r=n(1144),a=n(1150),o=n(1149),i=n(1142),c=n(1152),u=n(1156),f=n(1160),g=n(1162),l=n(1163),s=n(1154),y=n(1164),m=n(1159),v=n(1166),d=n(1167),p=i.OrderedSet,S={replaceText:function(t,e,n,a,o){var i=m(t,e),c=v(i,e),u=r.create({style:a||p(),entity:o||null});return l(c,c.getSelectionAfter(),n,u)},insertText:function(t,e,n,r,a){return e.isCollapsed()||s(!1),S.replaceText(t,e,n,r,a)},moveText:function(t,e,n){var r=f(t,e),a=S.removeRange(t,e,"backward");return S.replaceWithFragment(a,n,r)},replaceWithFragment:function(t,e,n){var r=m(t,e),a=v(r,e);return g(a,a.getSelectionAfter(),n)},removeRange:function(t,e,n){var r,a,i=void 0,c=void 0;e.getIsBackward()&&(e=e.merge({anchorKey:e.getFocusKey(),anchorOffset:e.getFocusOffset(),focusKey:e.getAnchorKey(),focusOffset:e.getAnchorOffset(),isBackward:!1})),r=e.getAnchorKey(),a=e.getFocusKey(),i=t.getBlockForKey(r),c=t.getBlockForKey(a);var f=e.getStartOffset(),g=e.getEndOffset(),l=i.getEntityAt(f),s=c.getEntityAt(g-1);if(r===a&&l&&l===s){var y=u(t.getEntityMap(),i,c,e,n);return v(t,y)}var d=e;o.draft_segmented_entities_behavior&&(d=u(t.getEntityMap(),i,c,e,n));var p=m(t,d);return v(p,d)},splitBlock:function(t,e){var n=m(t,e),r=v(n,e);return d(r,r.getSelectionAfter())},applyInlineStyle:function(t,e,n){return a.add(t,e,n)},removeInlineStyle:function(t,e,n){return a.remove(t,e,n)},setBlockType:function(t,e,n){return y(t,e,function(t){return t.merge({type:n,depth:0})})},setBlockData:function(t,e,n){return y(t,e,function(t){return t.merge({data:n})})},mergeBlockData:function(t,e,n){return y(t,e,function(t){return t.merge({data:t.getData().merge(n)})})},applyEntity:function(t,e,n){var r=m(t,e);return c(r,e,n)}};t.exports=S}),
(function(t,n,u){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */function r(t){return function(){return t}}var e=function(){};e.thatReturns=r,e.thatReturnsFalse=r(!1),e.thatReturnsTrue=r(!0),e.thatReturnsNull=r(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(t){return t},t.exports=e}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule BlockTree
 * @format
 * 
 */
"use strict";var r=n(1142),a=n(1169),u=n(1145),l=r.List,o=r.Repeat,s=r.Record,i=a.thatReturnsTrue,c=s({start:null,end:null}),g=s({start:null,end:null,decoratorKey:null,leaves:null}),d={generate:function(t,e,n){var r=e.getLength();if(!r)return l.of(new g({start:0,end:0,decoratorKey:null,leaves:l.of(new c({start:0,end:0}))}));var a=[],s=n?n.getDecorations(e,t):l(o(null,r)),d=e.getCharacterList();return u(s,f,i,function(t,e){var n,r,o,v;a.push(new g({start:t,end:e,decoratorKey:s.get(t),leaves:(n=d.slice(t,e).toList(),r=t,o=[],v=n.map(function(t){return t.getStyle()}).toList(),u(v,f,i,function(t,e){o.push(new c({start:t+r,end:e+r}))}),l(o))}))}),l(a)},getFingerprint:function(t){return t.map(function(t){var e=t.get("decoratorKey");return(null!==e?e+"."+(t.get("end")-t.get("start")):"")+"."+t.get("leaves").size}).join("-")}};function f(t,e){return t===e}t.exports=d}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEntityInstance
 * @legacyServerCallableInstance
 * @format
 * 
 */
"use strict";var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getType=function(){return this.get("type")},e.prototype.getMutability=function(){return this.get("mutability")},e.prototype.getData=function(){return this.get("data")},e}((0,n(1142).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));t.exports=o}),
(function(t,e,a){"use strict";var n=a(0,1)||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},r=a(1171),i=a(1142),c=a(1154),o=(0,i.Map)(),u=0;function _(t,e){console.warn("WARNING: "+t+' will be deprecated soon!\nPlease use "'+e+'" instead.')}var y={getLastCreatedEntityKey:function(){return _("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),y.__getLastCreatedEntityKey()},create:function(t,e,a){return _("DraftEntity.create","contentState.createEntity"),y.__create(t,e,a)},add:function(t){return _("DraftEntity.add","contentState.addEntity"),y.__add(t)},get:function(t){return _("DraftEntity.get","contentState.getEntity"),y.__get(t)},mergeData:function(t,e){return _("DraftEntity.mergeData","contentState.mergeEntityData"),y.__mergeData(t,e)},replaceData:function(t,e){return _("DraftEntity.replaceData","contentState.replaceEntityData"),y.__replaceData(t,e)},__getLastCreatedEntityKey:function(){return""+u},__create:function(t,e,a){return y.__add(new r({type:t,mutability:e,data:a||{}}))},__add:function(t){var e=""+ ++u;return o=o.set(e,t),e},__get:function(t){var e=o.get(t);return e||c(!1),e},__mergeData:function(t,e){var a=y.__get(t),r=n({},a.getData(),e),i=a.set("data",r);return o=o.set(t,i),i},__replaceData:function(t,e){var a=y.__get(t).set("data",e);return o=o.set(t,a),a}};t.exports=y}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SelectionState
 * @format
 * 
 */
"use strict";var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},e.prototype.getAnchorKey=function(){return this.get("anchorKey")},e.prototype.getAnchorOffset=function(){return this.get("anchorOffset")},e.prototype.getFocusKey=function(){return this.get("focusKey")},e.prototype.getFocusOffset=function(){return this.get("focusOffset")},e.prototype.getIsBackward=function(){return this.get("isBackward")},e.prototype.getHasFocus=function(){return this.get("hasFocus")},e.prototype.hasEdgeWithin=function(t,e,o){var r=this.getAnchorKey(),s=this.getFocusKey();if(r===s&&r===t){var n=this.getStartOffset();return e<=this.getEndOffset()&&n<=o}if(t!==r&&t!==s)return!1;var c=t===r?this.getAnchorOffset():this.getFocusOffset();return e<=c&&o>=c},e.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},e.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},e.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},e.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},e.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},e.createEmpty=function(t){return new e({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1,hasFocus:!1})},e}((0,o(1142).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));t.exports=r}),
(function(e,r,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule sanitizeDraftText
 * @format
 * 
 */
"use strict";var t=new RegExp("\r","g");e.exports=function(e){return e.replace(t,"")}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentState
 * @format
 * 
 */
"use strict";var n=r(1143),o=r(1144),i=r(1146),c=r(1147),a=r(1172),p=r(1149),u=r(1142),s=r(1173),f=r(1157),l=r(1174),y=u.List,g=u.Record,k=u.Repeat,h=p.draft_tree_data_support?c:i,B=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getEntityMap=function(){return a},e.prototype.getBlockMap=function(){return this.get("blockMap")},e.prototype.getSelectionBefore=function(){return this.get("selectionBefore")},e.prototype.getSelectionAfter=function(){return this.get("selectionAfter")},e.prototype.getBlockForKey=function(t){return this.getBlockMap().get(t)},e.prototype.getKeyBefore=function(t){return this.getBlockMap().reverse().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},e.prototype.getKeyAfter=function(t){return this.getBlockMap().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},e.prototype.getBlockAfter=function(t){return this.getBlockMap().skipUntil(function(e,r){return r===t}).skip(1).first()},e.prototype.getBlockBefore=function(t){return this.getBlockMap().reverse().skipUntil(function(e,r){return r===t}).skip(1).first()},e.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()},e.prototype.getFirstBlock=function(){return this.getBlockMap().first()},e.prototype.getLastBlock=function(){return this.getBlockMap().last()},e.prototype.getPlainText=function(t){return this.getBlockMap().map(function(t){return t?t.getText():""}).join(t||"\n")},e.prototype.getLastCreatedEntityKey=function(){return a.__getLastCreatedEntityKey()},e.prototype.hasText=function(){var t=this.getBlockMap();return t.size>1||t.first().getLength()>0},e.prototype.createEntity=function(t,e,r){return a.__create(t,e,r),this},e.prototype.mergeEntityData=function(t,e){return a.__mergeData(t,e),this},e.prototype.replaceEntityData=function(t,e){return a.__replaceData(t,e),this},e.prototype.addEntity=function(t){return a.__add(t),this},e.prototype.getEntity=function(t){return a.__get(t)},e.createFromBlockArray=function(t,r){var o=Array.isArray(t)?t:t.contentBlocks,i=n.createFromArray(o),c=i.isEmpty()?new s:s.createEmpty(i.first().getKey());return new e({blockMap:i,entityMap:r||a,selectionBefore:c,selectionAfter:c})},e.createFromText=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=t.split(r).map(function(t){return t=l(t),new h({key:f(),text:t,type:"unstyled",characterList:y(k(o.EMPTY,t.length))})});return e.createFromBlockArray(n)},e}(g({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}));t.exports=B}),
(function(n,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */
"use strict";var r=i(1154),l="LTR",u="RTL",o=null;function e(n){return n===l||n===u}function f(n){return e(n)||r(!1),n===l?"ltr":"rtl"}function a(n){o=n}var c={NEUTRAL:"NEUTRAL",LTR:l,RTL:u,isStrong:e,getHTMLDir:f,getHTMLDirIfDifferent:function(n,t){return e(n)||r(!1),e(t)||r(!1),n===t?null:f(n)},setGlobalDir:a,initGlobalDir:function(){a(l)},getGlobalDir:function(){return o||this.initGlobalDir(),o||r(!1),o}};n.exports=c}),
(function(n,r,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */
"use strict";var t=i(1176),e=i(1154),o="֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",u="؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾",c=new RegExp("["+"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+o+u+"]"),a=new RegExp("["+o+u+"]");function l(n){var r=c.exec(n);return null==r?null:r[0]}function R(n){var r=l(n);return null==r?t.NEUTRAL:a.exec(r)?t.RTL:t.LTR}function f(n,r){if(r=r||t.NEUTRAL,!n.length)return r;var i=R(n);return i===t.NEUTRAL?r:i}function s(n,r){return r||(r=t.getGlobalDir()),t.isStrong(r)||e(!1),f(n,r)}var L={firstStrongChar:l,firstStrongCharDir:R,resolveBlockDir:f,getDirection:s,isDirectionLTR:function(n,r){return s(n,r)===t.LTR},isDirectionRTL:function(n,r){return s(n,r)===t.RTL}};n.exports=L}),
(function(t,i,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */
"use strict";var r=n(1177),e=n(1176),o=n(1154),s=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),i?e.isStrong(i)||o(!1):i=e.getGlobalDir(),this._defaultDir=i,this.reset()}return t.prototype.reset=function(){this._lastDir=this._defaultDir},t.prototype.getDirection=function(t){return this._lastDir=r.getDirection(t,this._lastDir),this._lastDir},t}();t.exports=s}),
(function(n,e,r){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */n.exports=function(n){if(null!=n)return n;throw new Error("Got unexpected null or undefined")}}),
(function(e,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EditorBidiService
 * @format
 * 
 */
"use strict";var r,n=i(1142),u=i(1178),c=i(1179),l=n.OrderedMap,o={getDirectionMap:function(e,t){r?r.reset():r=new u;var i=e.getBlockMap(),o=i.valueSeq().map(function(e){return c(r).getDirection(e.getText())}),a=l(i.keySeq().zip(o));return null!=t&&n.is(t,a)?t:a}};e.exports=o}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EditorState
 * @format
 * 
 */
"use strict";var r=n(0,1)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(1170),i=n(1175),c=n(1180),a=n(1142),u=n(1173),l=a.OrderedSet,g=a.Record,s=a.Stack,p=g({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:s(),selection:null,treeMap:null,undoStack:s()}),f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._immutable=t}return e.createEmpty=function(t){return e.createWithContent(i.createFromText(""),t)},e.createWithContent=function(t,n){var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:s(),redoStack:s(),decorator:n||null,selection:u.createEmpty(r)})},e.create=function(t){var n=t.currentContent,o=t.decorator,i=r({},t,{treeMap:S(n,o),directionMap:c.getDirectionMap(n)});return new e(new p(i))},e.set=function(t,n){return new e(t.getImmutable().withMutations(function(e){var r=e.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var c=n.currentContent||t.getCurrentContent();if(i!==r){var a,u=e.get("treeMap");return a=i&&r?function(e,t,n,r,i){return n.merge(t.toSeq().filter(function(t){return r.getDecorations(t,e)!==i.getDecorations(t,e)}).map(function(t){return o.generate(e,t,r)}))}(c,c.getBlockMap(),u,i,r):S(c,i),void e.merge({decorator:i,treeMap:a,nativelyRenderedContent:null})}c!==t.getCurrentContent()&&e.set("treeMap",function(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),c=i.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter(function(e,t){return e!==c.get(t)}).map(function(e){return o.generate(i,e,r)}))}(t,c.getBlockMap(),c.getEntityMap(),i)),e.merge(n)}))},e.prototype.toJS=function(){return this.getImmutable().toJS()},e.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.prototype.getSelection=function(){return this.getImmutable().get("selection")},e.prototype.getDecorator=function(){return this.getImmutable().get("decorator")},e.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},e.prototype.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r>0)return o.getInlineStyleAt(r-1);if(o.getLength())return o.getInlineStyleAt(0);return y(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r<o.getLength())return o.getInlineStyleAt(r);if(r>0)return o.getInlineStyleAt(r-1);return y(e,n)}(t,n)},e.prototype.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.prototype.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.prototype.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(e,t){return d(e,t,!1)},e.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),d(e,t,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent().getLastBlock(),r=n.getKey(),o=n.getLength();return e.acceptSelection(t,new u({anchorKey:r,anchorOffset:o,focusKey:r,focusOffset:o,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){if(t.getCurrentContent()===n)return t;var o="insert-characters"!==r,i=c.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=t.getSelection(),u=t.getCurrentContent(),l=t.getUndoStack(),g=n;a!==u.getSelectionAfter()||function(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}(t,r)?(l=l.push(u),g=g.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(g=g.set("selectionBefore",u.getSelectionBefore()));var p=t.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(r)&&(p=null);var f={currentContent:g,directionMap:i,undoStack:l,redoStack:s(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:p};return e.set(t,f)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=c.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:t.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=c.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:t.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.prototype.getImmutable=function(){return this._immutable},e}();function d(e,t,n){return f.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function S(e,t){return e.getBlockMap().map(function(n){return o.generate(e,n,t)}).toOrderedMap()}function y(e,t){var n=e.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).skipUntil(function(e,t){return e.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):l()}e.exports=f}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveBlockInContentState
 * @format
 * 
 */
"use strict";var r=n(1147),i=n(1142),o=n(1165),g=n(1154),c=i.OrderedMap,a=i.List,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t,n,i){"replace"===i&&g(!1);var f=n.getKey(),l=t.getKey();l===f&&g(!1);var y=e.getBlockMap(),K=t instanceof r,s=[t],v=y.delete(l);K&&(s=[],v=y.withMutations(function(e){var n=t.getNextSiblingKey(),r=o(t,e);e.toSeq().skipUntil(function(e){return e.getKey()===l}).takeWhile(function(e){var t=e.getKey(),i=t===l,o=n&&t!==n,g=!n&&e.getParentKey()&&(!r||t!==r);return!!(i||o||g)}).forEach(function(t){s.push(t),e.delete(t.getKey())})}));var p=v.toSeq().takeUntil(function(e){return e===n}),b=v.toSeq().skipUntil(function(e){return e===n}).skip(1),d=s.map(function(e){return[e.getKey(),e]}),S=c();if("before"===i){var m=e.getBlockBefore(f);m&&m.getKey()===t.getKey()&&g(!1),S=p.concat([].concat(d,[[f,n]]),b).toOrderedMap()}else if("after"===i){var k=e.getBlockAfter(f);k&&k.getKey()===l&&g(!1),S=p.concat([[f,n]].concat(d),b).toOrderedMap()}return e.merge({blockMap:function(e,t,n,r,i){if(!i)return e;var o="after"===r,g=t.getKey(),c=n.getKey(),f=t.getParentKey(),l=t.getNextSiblingKey(),y=t.getPrevSiblingKey(),K=n.getParentKey(),s=o?n.getNextSiblingKey():c,v=o?c:n.getPrevSiblingKey();return e.withMutations(function(e){u(f,e,function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(g))})}),u(y,e,function(e){return e.merge({nextSibling:l})}),u(l,e,function(e){return e.merge({prevSibling:y})}),u(s,e,function(e){return e.merge({prevSibling:g})}),u(v,e,function(e){return e.merge({nextSibling:g})}),u(K,e,function(e){var t=e.getChildKeys(),n=t.indexOf(c),r=o?n+1:0!==n?n-1:0,i=t.toArray();return i.splice(r,0,g),e.merge({children:a(i)})}),u(g,e,function(e){return e.merge({nextSibling:s,prevSibling:v,parent:K})})})}(S,t,n,i,K),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:l,focusKey:l})})}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule AtomicBlockUtils
 * @format
 * 
 */
"use strict";var o=r(0,1)||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(1143),a=r(1144),c=r(1146),i=r(1147),l=r(1149),s=r(1168),f=r(1181),g=r(1142),u=(r(1173),r(1157)),y=r(1182),k=l.draft_tree_data_support,v=k?i:c,m=g.List,p=g.Repeat,S={insertAtomicBlock:function(e,t,r){var c=e.getCurrentContent(),i=e.getSelection(),l=s.removeRange(c,i,"backward"),g=l.getSelectionAfter(),y=s.splitBlock(l,g),S=y.getSelectionAfter(),B=s.setBlockType(y,S,"atomic"),d=a.create({entity:t}),b={key:u(),type:"atomic",text:r,characterList:m(p(d,r.length))},h={key:u(),type:"unstyled"};k&&(b=o({},b,{nextSibling:h.key}),h=o({},h,{prevSibling:b.key}));var A=[new v(b),new v(h)],F=n.createFromArray(A),C=s.replaceWithFragment(B,S,F),K=C.merge({selectionBefore:i,selectionAfter:C.getSelectionAfter().set("hasFocus",!0)});return f.push(e,K,"insert-fragment")},moveAtomicBlock:function(e,t,r,o){var n=e.getCurrentContent(),a=e.getSelection(),c=void 0;if("before"===o||"after"===o){var i=n.getBlockForKey("before"===o?r.getStartKey():r.getEndKey());c=y(n,t,i,o)}else{var l=s.removeRange(n,r,"backward"),g=l.getSelectionAfter(),u=l.getBlockForKey(g.getFocusKey());if(0===g.getStartOffset())c=y(l,t,u,"before");else if(g.getEndOffset()===u.getLength())c=y(l,t,u,"after");else{var k=s.splitBlock(l,g),v=k.getSelectionAfter(),m=k.getBlockForKey(v.getFocusKey());c=y(k,t,m,"before")}}var p=c.merge({selectionBefore:a,selectionAfter:c.getSelectionAfter().set("hasFocus",!0)});return f.push(e,p,"move-block")}};e.exports=S}),
(function(t,r,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CompositeDraftDecorator
 * @format
 * 
 */
"use strict";var o=n(1142).List,e=function(){function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this._decorators=r.slice()}return t.prototype.getDecorations=function(t,r){var n=Array(t.getText().length).fill(null);return this._decorators.forEach(function(o,e){var i=0;(0,o.strategy)(t,function(t,r){(function(t,r,n){for(var o=r;o<n;o++)if(null!=t[o])return!1;return!0})(n,t,r)&&(function(t,r,n,o){for(var e=r;e<n;e++)t[e]=o}(n,t,r,e+"."+i),i++)},r)}),o(n)},t.prototype.getComponentForKey=function(t){var r=parseInt(t.split(".")[0],10);return this._decorators[r].component},t.prototype.getPropsForKey=function(t){var r=parseInt(t.split(".")[0],10);return this._decorators[r].props},t}();t.exports=e}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */function r(t){return t.replace(/\//g,"-")}t.exports=function(t){return"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}}),
(function(e,t,l){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DefaultDraftBlockRenderMap
 * @format
 * 
 */
"use strict";var r=l(1142).Map,a=l(2,1),m=l(1185),n=r({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:a.createElement("ul",{className:m("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:a.createElement("ol",{className:m("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:a.createElement("pre",{className:m("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=n}),
(function(t,o,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DefaultDraftInlineStyle
 * @format
 * 
 */
"use strict";t.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}}),
(function(E,A,P){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */E.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getEntityKeyForSelection
 * @format
 * 
 */
"use strict";function r(t,e){return e&&"MUTABLE"===t.__get(e).getMutability()?e:null}t.exports=function(t,e){var n;if(e.isCollapsed()){var g=e.getAnchorKey(),l=e.getAnchorOffset();return l>0?(n=t.getBlockForKey(g).getEntityAt(l-1))!==t.getBlockForKey(g).getEntityAt(l)?null:r(t.getEntityMap(),n):null}var i=e.getStartKey(),o=e.getStartOffset(),u=t.getBlockForKey(i);return n=o===u.getLength()?null:u.getEntityAt(o),r(t.getEntityMap(),n)}}),
(function(n,t,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isEventHandled
 * @format
 * 
 */
"use strict";n.exports=function(n){return"handled"===n||!0===n}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isSelectionAtLeafStart
 * @format
 * 
 */
"use strict";t.exports=function(t){var e=t.getSelection(),r=e.getAnchorKey(),n=t.getBlockTree(r),o=e.getStartOffset(),s=!1;return n.some(function(t){return o===t.get("start")?(s=!0,!0):o<t.get("end")&&t.get("leaves").some(function(t){var e=t.get("start");return o===e&&(s=!0,!0)})}),s}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorCompositionHandler
 * @format
 * 
 */
"use strict";var o=n(1149),i=n(1168),r=n(1181),s=n(1188),a=n(1189),u=n(1190),l=n(1191),f=!1,c=!1,p="",d={onBeforeInput:function(e,t){p=(p||"")+t.data},onCompositionStart:function(e){c=!0},onCompositionEnd:function(e){f=!1,c=!1,setTimeout(function(){f||d.resolveComposition(e)},20)},onKeyDown:function(e,t){if(!c)return d.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!c){f=!0;var t=p;p="";var n=r.set(e._latestEditorState,{inCompositionMode:!1}),s=n.getCurrentInlineStyle(),d=a(n.getCurrentContent(),n.getSelection()),C=!t||l(n)||s.size>0||null!==d;if(C&&e.restoreEditorDOM(),e.exitCurrentMode(),t){if(o.draft_handlebeforeinput_composed_text&&e.props.handleBeforeInput&&u(e.props.handleBeforeInput(t,n)))return;var v=i.replaceText(n.getCurrentContent(),n.getSelection(),t,s,d);e.update(r.push(n,v,"insert-characters"))}else C&&e.update(r.set(n,{nativelyRenderedContent:null,forceSelection:!0}))}}};e.exports=d}),
(function(i,s,e){
/*!
 * UAParser.js v0.7.19
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 or MIT
 */
!function(e,o){"use strict";var r="model",n="name",a="type",d="vendor",t="version",l="mobile",w="tablet",u={extend:function(i,s){var e={};for(var o in i)s[o]&&s[o].length%2==0?e[o]=s[o].concat(i[o]):e[o]=i[o];return e},has:function(i,s){return"string"==typeof i&&-1!==s.toLowerCase().indexOf(i.toLowerCase())},lowerize:function(i){return i.toLowerCase()},major:function(i){return"string"==typeof i?i.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(i){return i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},c={rgx:function(i,s){for(var e,o,r,n,a,d,t=0;t<s.length&&!a;){var l=s[t],w=s[t+1];for(e=o=0;e<l.length&&!a;)if(a=l[e++].exec(i))for(r=0;r<w.length;r++)d=a[++o],"object"==typeof(n=w[r])&&n.length>0?2==n.length?"function"==typeof n[1]?this[n[0]]=n[1].call(this,d):this[n[0]]=n[1]:3==n.length?"function"!=typeof n[1]||n[1].exec&&n[1].test?this[n[0]]=d?d.replace(n[1],n[2]):void 0:this[n[0]]=d?n[1].call(this,d,n[2]):void 0:4==n.length&&(this[n[0]]=d?n[3].call(this,d.replace(n[1],n[2])):void 0):this[n]=d||void 0;t+=2}},str:function(i,s){for(var e in s)if("object"==typeof s[e]&&s[e].length>0){for(var o=0;o<s[e].length;o++)if(u.has(s[e][o],i))return"?"===e?void 0:e}else if(u.has(s[e],i))return"?"===e?void 0:e;return i}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[n,t],[/(opios)[\/\s]+([\w\.]+)/i],[[n,"Opera Mini"],t],[/\s(opr)\/([\w\.]+)/i],[[n,"Opera"],t],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[n,t],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[n,"IE"],t],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[n,"Edge"],t],[/(yabrowser)\/([\w\.]+)/i],[[n,"Yandex"],t],[/(puffin)\/([\w\.]+)/i],[[n,"Puffin"],t],[/(focus)\/([\w\.]+)/i],[[n,"Firefox Focus"],t],[/(opt)\/([\w\.]+)/i],[[n,"Opera Touch"],t],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[n,"UCBrowser"],t],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],t],[/(micromessenger)\/([\w\.]+)/i],[[n,"WeChat"],t],[/(brave)\/([\w\.]+)/i],[[n,"Brave"],t],[/(qqbrowserlite)\/([\w\.]+)/i],[n,t],[/(QQ)\/([\d\.]+)/i],[n,t],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[n,t],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[n,t],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[n,t],[/(MetaSr)[\/\s]?([\w\.]+)/i],[n],[/(LBBROWSER)/i],[n],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[t,[n,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[t,[n,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[n,t],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[t,[n,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[n,/(.+)/,"$1 WebView"],t],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[n,/(.+(?:g|us))(.+)/,"$1 $2"],t],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[t,[n,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[n,t],[/(dolfin)\/([\w\.]+)/i],[[n,"Dolphin"],t],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[n,"Chrome"],t],[/(coast)\/([\w\.]+)/i],[[n,"Opera Coast"],t],[/fxios\/([\w\.-]+)/i],[t,[n,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[t,[n,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[t,n],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[n,"GSA"],t],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[n,[t,c.str,m.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[n,t],[/(navigator|netscape)\/([\w\.-]+)/i],[[n,"Netscape"],t],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[n,t]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",u.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",u.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",u.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[r,d,[a,w]],[/applecoremedia\/[\w\.]+ \((ipad)/],[r,[d,"Apple"],[a,w]],[/(apple\s{0,1}tv)/i],[[r,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,r,[a,w]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[r,[d,"Amazon"],[a,w]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[r,c.str,m.device.amazon.model],[d,"Amazon"],[a,l]],[/android.+aft([bms])\sbuild/i],[r,[d,"Amazon"],[a,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[r,d,[a,l]],[/\((ip[honed|\s\w*]+);/i],[r,[d,"Apple"],[a,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,r,[a,l]],[/\(bb10;\s(\w+)/i],[r,[d,"BlackBerry"],[a,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[r,[d,"Asus"],[a,w]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[r,"Xperia Tablet"],[a,w]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[r,[d,"Sony"],[a,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,r,[a,"console"]],[/android.+;\s(shield)\sbuild/i],[r,[d,"Nvidia"],[a,"console"]],[/(playstation\s[34portablevi]+)/i],[r,[d,"Sony"],[a,"console"]],[/(sprint\s(\w+))/i],[[d,c.str,m.device.sprint.vendor],[r,c.str,m.device.sprint.model],[a,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,r,[a,w]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[r,/_/g," "],[a,l]],[/(nexus\s9)/i],[r,[d,"HTC"],[a,w]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[r,[d,"Huawei"],[a,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,r,[a,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[r,[d,"Microsoft"],[a,"console"]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[d,"Microsoft"],[a,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[r,[d,"Motorola"],[a,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[r,[d,"Motorola"],[a,w]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,u.trim],[r,u.trim],[a,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[d,"Samsung"],[a,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[r,[d,"Sharp"],[a,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],r,[a,w]],[/smart-tv.+(samsung)/i],[d,[a,"smarttv"],r],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],r,[a,l]],[/sie-(\w*)/i],[r,[d,"Siemens"],[a,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],r,[a,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[r,[d,"Acer"],[a,w]],[/android.+([vl]k\-?\d{3})\s+build/i],[r,[d,"LG"],[a,w]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],r,[a,w]],[/(lg) netcast\.tv/i],[d,r,[a,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[r,[d,"LG"],[a,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[r,[d,"Lenovo"],[a,w]],[/linux;.+((jolla));/i],[d,r,[a,l]],[/((pebble))app\/[\d\.]+\s/i],[d,r,[a,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,r,[a,l]],[/crkey/i],[[r,"Chromecast"],[d,"Google"]],[/android.+;\s(glass)\s\d/i],[r,[d,"Google"],[a,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[r,[d,"Google"],[a,w]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[r,[d,"Google"],[a,l]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[d,"Xiaomi"],[a,l]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[d,"Xiaomi"],[a,w]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[r,[d,"Meizu"],[a,w]],[/(mz)-([\w-]{2,})/i],[[d,"Meizu"],r,[a,l]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[r,[d,"OnePlus"],[a,l]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[r,[d,"RCA"],[a,w]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[r,[d,"Dell"],[a,w]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[r,[d,"Verizon"],[a,w]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],r,[a,w]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[r,[d,"NuVision"],[a,w]],[/android.+;\s(k88)\sbuild/i],[r,[d,"ZTE"],[a,w]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[r,[d,"Swiss"],[a,l]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[r,[d,"Swiss"],[a,w]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[r,[d,"Zeki"],[a,w]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],r,[a,w]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[r,[d,"Insignia"],[a,w]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[r,[d,"NextBook"],[a,w]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],r,[a,l]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],r,[a,l]],[/android.+;\s(PH-1)\s/i],[r,[d,"Essential"],[a,l]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[r,[d,"Envizen"],[a,w]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,r,[a,w]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[r,[d,"MachSpeed"],[a,w]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,r,[a,w]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[r,[d,"Rotor"],[a,w]],[/android.+(KS(.+))\s+build/i],[r,[d,"Amazon"],[a,w]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,r,[a,w]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[a,u.lowerize],d,r],[/(android[\w\.\s\-]{0,9});.+build/i],[r,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[t,[n,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[n,t],[/rv\:([\w\.]{1,9}).+(gecko)/i],[t,n]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[n,t],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[n,[t,c.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[n,"Windows"],[t,c.str,m.os.windows.version]],[/\((bb)(10);/i],[[n,"BlackBerry"],t],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[n,t],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[n,"Symbian"],t],[/\((series40);/i],[n],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[n,"Firefox OS"],t],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[n,t],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[n,"Chromium OS"],t],[/(sunos)\s?([\w\.\d]*)/i],[[n,"Solaris"],t],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[n,t],[/(haiku)\s(\w+)/i],[n,t],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[t,/_/g,"."],[n,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[n,"Mac OS"],[t,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[n,t]]},p=function(i,s){if("object"==typeof i&&(s=i,i=void 0),!(this instanceof p))return new p(i,s).getResult();var o=i||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),r=s?u.extend(b,s):b;return this.getBrowser=function(){var i={name:void 0,version:void 0};return c.rgx.call(i,o,r.browser),i.major=u.major(i.version),i},this.getCPU=function(){var i={architecture:void 0};return c.rgx.call(i,o,r.cpu),i},this.getDevice=function(){var i={vendor:void 0,model:void 0,type:void 0};return c.rgx.call(i,o,r.device),i},this.getEngine=function(){var i={name:void 0,version:void 0};return c.rgx.call(i,o,r.engine),i},this.getOS=function(){var i={name:void 0,version:void 0};return c.rgx.call(i,o,r.os),i},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(i){return o=i,this},this};p.VERSION="0.7.19",p.BROWSER={NAME:n,MAJOR:"major",VERSION:t},p.CPU={ARCHITECTURE:"architecture"},p.DEVICE={MODEL:r,VENDOR:d,TYPE:a,CONSOLE:"console",MOBILE:l,SMARTTV:"smarttv",TABLET:w,WEARABLE:"wearable",EMBEDDED:"embedded"},p.ENGINE={NAME:n,VERSION:t},p.OS={NAME:n,VERSION:t},void 0!==s?(void 0!==i&&i.exports&&(s=i.exports=p),s.UAParser=p):"function"==typeof define&&define.amd?define(function(){return p}):e&&(e.UAParser=p);var v=e&&(e.jQuery||e.Zepto);if(void 0!==v&&!v.ua){var g=new p;v.ua=g.getResult(),v.ua.get=function(){return g.getUA()},v.ua.set=function(i){g.setUA(i);var s=g.getResult();for(var e in s)v.ua[e]=s[e]}}}("object"==typeof window?window:this)}),
(function(r,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var n=o(1193),i="Unknown",s={"Mac OS":"Mac OS X"};var a,t=(new n).getResult(),m=function(r){if(!r)return{major:"",minor:""};var e=r.split(".");return{major:e[0],minor:e[1]}}(t.browser.version),c={browserArchitecture:t.cpu.architecture||i,browserFullVersion:t.browser.version||i,browserMinorVersion:m.minor||i,browserName:t.browser.name||i,browserVersion:t.browser.major||i,deviceName:t.device.model||i,engineName:t.engine.name||i,engineVersion:t.engine.version||i,platformArchitecture:t.cpu.architecture||i,platformName:(a=t.os.name,s[a]||a||i),platformVersion:t.os.version||i,platformFullVersion:t.os.version||i};r.exports=c}),
(function(n,r,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var e=t(1154),i=/\./,u=/\|\|/,c=/\s+\-\s+/,a=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,o=/^(\d*)(.*)/;function f(n,r){var t=n.split(u);return t.length>1?t.some(function(n){return y.contains(n,r)}):function(n,r){var t=n.split(c);if(t.length>0&&t.length<=2||e(!1),1===t.length)return s(t[0],r);var i=t[0],u=t[1];return m(i)&&m(u)||e(!1),s(">="+i,r)&&s("<="+u,r)}(n=t[0].trim(),r)}function s(n,r){if(""===(n=n.trim()))return!0;var t,e=r.split(i),u=v(n),c=u.modifier,a=u.rangeComponents;switch(c){case"<":return l(e,a);case"<=":return-1===(t=x(e,a))||0===t;case">=":return h(e,a);case">":return function(n,r){return 1===x(n,r)}(e,a);case"~":case"~>":return function(n,r){var t=r.slice(),e=r.slice();e.length>1&&e.pop();var i=e.length-1,u=parseInt(e[i],10);g(u)&&(e[i]=u+1+"");return h(n,t)&&l(n,e)}(e,a);default:return function(n,r){return 0===x(n,r)}(e,a)}}function l(n,r){return-1===x(n,r)}function h(n,r){var t=x(n,r);return 1===t||0===t}function v(n){var r=n.split(i),t=r[0].match(a);return t||e(!1),{modifier:t[1],rangeComponents:[t[2]].concat(r.slice(1))}}function g(n){return!isNaN(n)&&isFinite(n)}function m(n){return!v(n).modifier}function p(n,r){for(var t=n.length;t<r;t++)n[t]="0"}function d(n,r){var t=n.match(o)[1],e=r.match(o)[1],i=parseInt(t,10),u=parseInt(e,10);return g(i)&&g(u)&&i!==u?I(i,u):I(n,r)}function I(n,r){return typeof n!=typeof r&&e(!1),n>r?1:n<r?-1:0}function x(n,r){for(var t=function(n,r){p(n=n.slice(),(r=r.slice()).length);for(var t=0;t<r.length;t++){var e=r[t].match(/^[x*]$/i);if(e&&(r[t]=n[t]="0","*"===e[0]&&t===r.length-1))for(var i=t;i<n.length;i++)n[i]="0"}return p(r,n.length),[n,r]}(n,r),e=t[0],i=t[1],u=0;u<i.length;u++){var c=d(e[u],i[u]);if(c)return c}return 0}var y={contains:function(n,r){return f(n.trim(),r.trim())}};n.exports=y}),
(function(r,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var e=Object.prototype.hasOwnProperty;r.exports=function(r,t,n){if(!r)return null;var o={};for(var a in r)e.call(r,a)&&(o[a]=t.call(n,r[a],a,r));return o}}),
(function(t,n,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 * @typechecks static-only
 */
"use strict";t.exports=function(t){var n={};return function(r){return n.hasOwnProperty(r)||(n[r]=t.call(this,r)),n[r]}}}),
(function(r,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var t=n(1194),i=n(1195),u=n(1196),o=n(1197);function s(r,e,n,t){if(r===n)return!0;if(!n.startsWith(r))return!1;var u=n.slice(r.length);return!!e&&(u=t?t(u):u,i.contains(u,e))}function c(r){return"Windows"===t.platformName?r.replace(/^\s*NT/,""):r}var a={isBrowser:function(r){return s(t.browserName,t.browserFullVersion,r)},isBrowserArchitecture:function(r){return s(t.browserArchitecture,null,r)},isDevice:function(r){return s(t.deviceName,null,r)},isEngine:function(r){return s(t.engineName,t.engineVersion,r)},isPlatform:function(r){return s(t.platformName,t.platformFullVersion,r,c)},isPlatformArchitecture:function(r){return s(t.platformArchitecture,null,r)}};r.exports=u(a,o)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorTextNode.react
 * @format
 * 
 */
"use strict";var r=n(2,1),o=n(6,1),a=n(1198),i=n(1154),c=a.isBrowser("IE <= 11");var s=c?r.createElement("span",{key:"A","data-text":"true"},"\n"):r.createElement("br",{key:"A","data-text":"true"}),f=c?r.createElement("span",{key:"B","data-text":"true"},"\n"):r.createElement("br",{key:"B","data-text":"true"}),p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r._forceFlag=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){var e=o.findDOMNode(this),n=""===t.children;return e instanceof Element||i(!1),n?!function(t){return c?"\n"===t.textContent:"BR"===t.tagName}(e):e.textContent!==t.children},e.prototype.componentDidMount=function(){this._forceFlag=!this._forceFlag},e.prototype.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},e.prototype.render=function(){return""===this.props.children?this._forceFlag?s:f:r.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)},e}(r.Component);t.exports=p}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftJsDebugLogging
 */
"use strict";t.exports={logSelectionStateFailure:function(){return null}}}),
(function(e,o,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */e.exports=function(e){var o=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof o.Node?e instanceof o.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}}),
(function(e,n,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var o=t(1201);e.exports=function(e){return o(e)&&3==e.nodeType}}),
(function(n,o,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */var e=t(1202);n.exports=function n(o,t){return!(!o||!t)&&(o===t||!e(o)&&(e(t)?n(o,t.parentNode):"contains"in o?o.contains(t):!!o.compareDocumentPosition&&!!(16&o.compareDocumentPosition(t))))}}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */t.exports=function(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule setDraftEditorSelection
 * @format
 * 
 */
"use strict";var o=n(1200),a=n(1203),r=n(1204),i=n(1154);function s(e,t){if(!e)return"[empty]";var n=function e(t,n){var o=void 0!==n?n(t):[];if(t.nodeType===Node.TEXT_NODE){var a=t.textContent.length;return document.createTextNode("[text "+a+(o.length?" | "+o.join(", "):"")+"]")}var r=t.cloneNode();1===r.nodeType&&o.length&&r.setAttribute("data-labels",o.join(", "));var i=t.childNodes;for(var s=0;s<i.length;s++)r.appendChild(e(i[s],n));return r}(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(n instanceof Element||i(!1),n.outerHTML)}function l(e,t){for(var n=e;n;){if(n instanceof Element&&n.hasAttribute("contenteditable"))return s(n,t);n=n.parentNode}return"Could not find contentEditable parent of node"}function c(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function f(e,t,n,i){var s=r();if(e.extend&&a(s,t)){n>c(t)&&o.logSelectionStateFailure({anonymizedDom:l(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(i.toJS())});var f=t===e.focusNode;try{e.extend(t,n)}catch(d){throw o.logSelectionStateFailure({anonymizedDom:l(t,function(t){var n=[];return t===s&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n}),extraParams:JSON.stringify({activeElementName:s?s.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:f,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:d?""+d:null,offset:n},null,2),selectionState:JSON.stringify(i.toJS(),null,2)}),d}}else{var u=e.getRangeAt(0);u.setEnd(t,n),e.addRange(u.cloneRange())}}function u(e,t,n,a){var r=document.createRange();n>c(t)&&o.logSelectionStateFailure({anonymizedDom:l(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(a.toJS())}),r.setStart(t,n),e.addRange(r)}e.exports=function(e,t,n,o,r){if(a(document.documentElement,t)){var i=global.getSelection(),s=e.getAnchorKey(),l=e.getAnchorOffset(),c=e.getFocusKey(),d=e.getFocusOffset(),g=e.getIsBackward();if(!i.extend&&g){var N=s,m=l;s=c,l=d,c=N,d=m,g=!1}var v=s===n&&o<=l&&r>=l,h=c===n&&o<=d&&r>=d;if(v&&h)return i.removeAllRanges(),u(i,t,l-o,e),void f(i,t,d-o,e);if(g){if(h&&(i.removeAllRanges(),u(i,t,d-o,e)),v){var S=i.focusNode,y=i.focusOffset;i.removeAllRanges(),u(i,t,l-o,e),f(i,S,y,e)}}else v&&(i.removeAllRanges(),u(i,t,l-o,e)),h&&f(i,t,d-o,e)}}}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorLeaf.react
 * @format
 * 
 */
"use strict";var n=o(0,1);var r=o(1199),i=o(2,1),s=o(6,1),a=o(1154),c=o(1205),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._setSelection=function(){var t=this.props.selection;if(null!=t&&t.getHasFocus()){var e=this.props,o=e.block,n=e.start,r=e.text,i=o.getKey(),p=n+r.length;if(t.hasEdgeWithin(i,n,p)){var f=s.findDOMNode(this);f||a(!1);var l=f.firstChild;l||a(!1);var u=void 0;l.nodeType===Node.TEXT_NODE?u=l:"BR"===l.tagName?u=f:(u=l.firstChild)||a(!1),c(t,u,i,n,p)}}},e.prototype.shouldComponentUpdate=function(t){var e=s.findDOMNode(this.leaf);return e||a(!1),e.textContent!==t.text||t.styleSet!==this.props.styleSet||t.forceSelection},e.prototype.componentDidUpdate=function(){this._setSelection()},e.prototype.componentDidMount=function(){this._setSelection()},e.prototype.render=function(){var t=this,e=this.props.block,o=this.props.text;o.endsWith("\n")&&this.props.isLast&&(o+="\n");var s=this.props,a=s.customStyleMap,c=s.customStyleFn,p=s.offsetKey,f=s.styleSet,l=f.reduce(function(t,e){var o={},r=a[e];return void 0!==r&&t.textDecoration!==r.textDecoration&&(o.textDecoration=[t.textDecoration,r.textDecoration].join(" ").trim()),n(t,r,o)},{});if(c){var u=c(f,e);l=n(l,u)}return i.createElement("span",{"data-offset-key":p,ref:function(e){return t.leaf=e},style:l},i.createElement(r,null,o))},e}(i.Component);t.exports=p}),
(function(e,r,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftOffsetKey
 * @format
 * 
 */
"use strict";var n={encode:function(e,r,t){return e+"-"+r+"-"+t},decode:function(e){var r=e.split("-"),t=r[0],n=r[1],o=r[2];return{blockKey:t,decoratorKey:parseInt(n,10),leafKey:parseInt(o,10)}}};e.exports=n}),
(function(o,e,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */function n(o,e){return!!e&&(o===e.documentElement||o===e.body)}var l={getTop:function(o){var e=o.ownerDocument;return n(o,e)?e.body.scrollTop||e.documentElement.scrollTop:o.scrollTop},setTop:function(o,e){var t=o.ownerDocument;n(o,t)?t.body.scrollTop=t.documentElement.scrollTop=e:o.scrollTop=e},getLeft:function(o){var e=o.ownerDocument;return n(o,e)?e.body.scrollLeft||e.documentElement.scrollLeft:o.scrollLeft},setLeft:function(o,e){var t=o.ownerDocument;n(o,t)?t.body.scrollLeft=t.documentElement.scrollLeft=e:o.scrollLeft=e}};o.exports=l}),
(function(r,t,e){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=/-(.)/g;r.exports=function(r){return r.replace(n,function(r,t){return t.toUpperCase()})}}),
(function(e,r,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=/([A-Z])/g;e.exports=function(e){return e.replace(n,"-$1").toLowerCase()}}),
(function(e,t,u){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var l=u(1209),n=u(1210);function r(e){return null==e?e:String(e)}e.exports=function(e,t){var u=void 0;if(window.getComputedStyle&&(u=window.getComputedStyle(e,null)))return r(u.getPropertyValue(n(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(u=document.defaultView.getComputedStyle(e,null))return r(u.getPropertyValue(n(t)));if("display"===t)return"none"}return e.currentStyle?r("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[l(t)]):r(e.style&&e.style[l(t)])}}),
(function(r,e,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */function o(r,e){var t=n.get(r,e);return"auto"===t||"scroll"===t}var n={get:t(1211),getScrollParent:function(r){if(!r)return null;for(var e=r.ownerDocument;r&&r!==e.body;){if(o(r,"overflow")||o(r,"overflowY")||o(r,"overflowX"))return r;r=r.parentNode}return e.defaultView||e.parentWindow}};r.exports=n}),
(function(t,n,e){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var o=e(1203);t.exports=function(t){var n=t.ownerDocument.documentElement;if(!("getBoundingClientRect"in t&&o(n,t)))return{left:0,right:0,top:0,bottom:0};var e=t.getBoundingClientRect();return{left:Math.round(e.left)-n.clientLeft,right:Math.round(e.right)-n.clientLeft,top:Math.round(e.top)-n.clientTop,bottom:Math.round(e.bottom)-n.clientTop}}}),
(function(t,e,o){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var r=o(1213);t.exports=function(t){var e=r(t);return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}}),
(function(e,n,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";var o="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:o||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";var o=e(1215),i=e(1216);t.exports=function(t){var n=o(t.ownerDocument||t.document);t.Window&&t instanceof t.Window&&(t=n);var e=i(t),c=t===n?t.ownerDocument.documentElement:t,r=t.scrollWidth-c.clientWidth,l=t.scrollHeight-c.clientHeight;return e.x=Math.max(0,Math.min(e.x,r)),e.y=Math.max(0,Math.min(e.y,l)),e}}),
(function(t,n,e){"use strict";function o(){var t=void 0;return document.documentElement&&(t=document.documentElement.clientWidth),!t&&document.body&&(t=document.body.clientWidth),t||0}
/**
   * Copyright (c) 2013-present, Facebook, Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *
   * 
   * @typechecks
   */function i(){var t=void 0;return document.documentElement&&(t=document.documentElement.clientHeight),!t&&document.body&&(t=document.body.clientHeight),t||0}function d(){return{width:window.innerWidth||o(),height:window.innerHeight||i()}}d.withoutScrollbars=function(){return{width:o(),height:i()}},t.exports=d}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorBlock.react
 * @format
 * 
 */
"use strict";var r=o(0,1)||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};var n=o(1206),i=o(1207),s=o(2,1),c=o(6,1),l=o(1208),p=o(1212),f=o(1177),a=o(1176),u=o(1185),y=o(1214),b=o(1217),d=o(1218),h=o(1154),g=o(1179),m=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||m(e.selection,e.block.getKey())&&e.forceSelection},t.prototype.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var o=c.findDOMNode(this),r=p.getScrollParent(o),n=b(r),i=void 0;if(r===window){var s=y(o);(i=s.y+s.height-d().height)>0&&window.scrollTo(n.x,n.y+i+10)}else{o instanceof HTMLElement||h(!1),(i=o.offsetHeight+o.offsetTop-(r.offsetHeight+n.y))>0&&l.setTop(r,l.getTop(r)+i+10)}}},t.prototype._renderChildren=function(){var e=this,t=this.props.block,o=t.getKey(),c=t.getText(),l=this.props.tree.size-1,p=m(this.props.selection,o);return this.props.tree.map(function(u,y){var b=u.get("leaves"),d=b.size-1,h=b.map(function(r,f){var a=i.encode(o,y,f),u=r.get("start"),b=r.get("end");return s.createElement(n,{key:a,offsetKey:a,block:t,start:u,selection:p?e.props.selection:null,forceSelection:e.props.forceSelection,text:c.slice(u,b),styleSet:t.getInlineStyleAt(u),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:y===l&&f===d})}).toArray(),m=u.get("decoratorKey");if(null==m)return h;if(!e.props.decorator)return h;var v=g(e.props.decorator),S=v.getComponentForKey(m);if(!S)return h;var j=v.getPropsForKey(m),D=i.encode(o,y,0),w=c.slice(b.first().get("start"),b.last().get("end")),K=a.getHTMLDirIfDifferent(f.getDirection(w),e.props.direction);return s.createElement(S,r({},j,{contentState:e.props.contentState,decoratedText:w,dir:K,key:D,entityKey:t.getEntityAt(u.get("start")),offsetKey:D}),h)}).toArray()},t.prototype.render=function(){var e=this.props,t=e.direction,o=e.offsetKey,r=u({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===t,"public/DraftStyleDefault/rtl":"RTL"===t});return s.createElement("div",{"data-offset-key":o,className:r},this._renderChildren())},t}(s.Component);e.exports=v}),
(function(r,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks static-only
 */
"use strict";r.exports=function(r){r||(r="");var t=void 0,n=arguments.length;if(n>1)for(var i=1;i<n;i++)(t=arguments[i])&&(r=(r?r+" ":"")+t);return r}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorContents-core.react
 * @format
 * 
 */
"use strict";var o=r(0,1)||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};var n=r(1219),l=r(1207),a=(r(1181),r(2,1)),i=r(1185),c=r(1220),p=r(1179),u=function(e,t,r,o){return i({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":r,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":4===t,"public/DraftStyleDefault/listLTR":"LTR"===o,"public/DraftStyleDefault/listRTL":"RTL"===o})},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props.editorState,r=e.editorState;if(t.getDirectionMap()!==r.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==r.getSelection().getHasFocus())return!0;var o=r.getNativelyRenderedContent(),n=t.isInCompositionMode(),l=r.isInCompositionMode();if(t===r||null!==o&&r.getCurrentContent()===o||n&&l)return!1;var a=t.getCurrentContent(),i=r.getCurrentContent(),c=t.getDecorator(),p=r.getDecorator();return n!==l||a!==i||c!==p||r.mustForceSelection()},t.prototype.render=function(){for(var e=this.props,t=e.blockRenderMap,r=e.blockRendererFn,i=e.blockStyleFn,s=e.customStyleMap,f=e.customStyleFn,d=e.editorState,y=e.editorKey,b=e.textDirectionality,g=d.getCurrentContent(),h=d.getSelection(),D=d.mustForceSelection(),m=d.getDecorator(),S=p(d.getDirectionMap()),v=g.getBlocksAsArray(),k=[],w=null,C=null,T=0;T<v.length;T++){var E=v[T],j=E.getKey(),F=E.getType(),M=r(E),O=void 0,R=void 0,K=void 0;M&&(O=M.component,R=M.props,K=M.editable);var L=b||S.get(j),x=l.encode(j,0,0),I={contentState:g,block:E,blockProps:R,blockStyleFn:i,customStyleMap:s,customStyleFn:f,decorator:m,direction:L,forceSelection:D,key:j,offsetKey:x,selection:h,tree:d.getBlockTree(j)},P=t.get(F)||t.get("unstyled"),_=P.wrapper,B=P.element||t.get("unstyled").element,A=E.getDepth(),H="";if(i&&(H=i(E)),"li"===B)H=c(H,u(F,A,C!==_||null===w||A>w,L));var N=O||n,U={className:H,"data-block":!0,"data-editor":y,"data-offset-key":x,key:j};void 0!==K&&(U=o({},U,{contentEditable:K,suppressContentEditableWarning:!0}));var W=a.createElement(B,U,a.createElement(N,I));k.push({block:W,wrapperTemplate:_,key:j,offsetKey:x}),w=_?E.getDepth():null,C=_}for(var q=[],z=0;z<k.length;){var G=k[z];if(G.wrapperTemplate){var J=[];do{J.push(k[z].block),z++}while(z<k.length&&k[z].wrapperTemplate===G.wrapperTemplate);var Q=a.cloneElement(G.wrapperTemplate,{key:G.key+"-wrap","data-offset-key":G.offsetKey},J);q.push(Q)}else q.push(G.block),z++}return a.createElement("div",{"data-contents":"true"},q)},t}(a.Component);e.exports=s}),
(function(t,r,e){
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorContents.react
 * @format
 * 
 */
"use strict";var o=e(1221);t.exports=o}),
(function(e,n,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */var i={isImage:function(e){return"image"===r(e)[0]},isJpeg:function(e){var n=r(e);return i.isImage(e)&&("jpeg"===n[1]||"pjpeg"===n[1])}};function r(e){return e.split("/")}e.exports=i}),
(function(r,t,e){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=e(1154);r.exports=function(r){return function(r){return!!r&&("object"==typeof r||"function"==typeof r)&&"length"in r&&!("setInterval"in r)&&"number"!=typeof r.nodeType&&(Array.isArray(r)||"callee"in r||"item"in r)}(r)?Array.isArray(r)?r.slice():function(r){var t=r.length;if((Array.isArray(r)||"object"!=typeof r&&"function"!=typeof r)&&n(!1),"number"!=typeof t&&n(!1),0===t||t-1 in r||n(!1),"function"==typeof r.callee&&n(!1),r.hasOwnProperty)try{return Array.prototype.slice.call(r)}catch(o){}for(var e=Array(t),i=0;i<t;i++)e[i]=r[i];return e}(r):[r]}}),
(function(t,e,i){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
var a=i(1223),n=i(1224),s=i(1169),r=new RegExp("\r\n","g"),o={"text/rtf":1,"text/html":1};function h(t){if("file"==t.kind)return t.getAsFile()}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.types=e.types?n(e.types):[]}return t.prototype.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(t){return o[t]})},t.prototype.getText=function(){var t;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(t=this.data.getData("text/plain")):t=this.data.getData("Text")),t?t.replace(r,"\n"):null},t.prototype.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.prototype.isLink=function(){return this.types.some(function(t){return-1!=t.indexOf("Url")||-1!=t.indexOf("text/uri-list")||t.indexOf("text/x-moz-url")})},t.prototype.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.prototype.isImage=function(){var t=this.types.some(function(t){return-1!=t.indexOf("application/x-moz-file")});if(t)return!0;for(var e=this.getFiles(),i=0;i<e.length;i++){var n=e[i].type;if(!a.isImage(n))return!1}return!0},t.prototype.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.prototype.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(h).filter(s.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.prototype.hasFiles=function(){return this.getFiles().length>0},t}();t.exports=u}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getSelectionOffsetKeyForNode
 * @format
 * 
 */
"use strict";t.exports=function t(e){if(e instanceof Element){var r=e.getAttribute("data-offset-key");if(r)return r;for(var n=0;n<e.childNodes.length;n++){var i=t(e.childNodes[n]);if(i)return i}}return null}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule findAncestorOffsetKey
 * @format
 * 
 */
"use strict";var r=n(1226);e.exports=function(e){for(var t=e;t&&t!==document.documentElement;){var n=r(t);if(null!=n)return n;t=t.parentNode}return null}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getTextContentFromFiles
 * @format
 * 
 */
"use strict";var i=n(1154),r=/\.textClipping$/,a={"text/plain":!0,"text/html":!0,"text/rtf":!0},o=5e3;e.exports=function(e,t){var n=0,l=[];e.forEach(function(f){!function(e,t){if(global.FileReader&&(!e.type||e.type in a)){if(""===e.type){var n="";return r.test(e.name)&&(n=e.name.replace(r,"")),void t(n)}var o=new FileReader;o.onload=function(){var e=o.result;"string"!=typeof e&&i(!1),t(e)},o.onerror=function(){t("")},o.readAsText(e)}else t("")}(f,function(i){n++,i&&l.push(i.slice(0,o)),n==e.length&&t(l.join("\r"))})})}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getUpdatedSelectionState
 * @format
 * 
 */
"use strict";var o=r(1207),n=r(1179);e.exports=function(e,t,r,c,f){var s=n(e.getSelection()),l=o.decode(t),a=l.blockKey,g=e.getBlockTree(a).getIn([l.decoratorKey,"leaves",l.leafKey]),u=o.decode(c),i=u.blockKey,y=e.getBlockTree(i).getIn([u.decoratorKey,"leaves",u.leafKey]),K=g.get("start"),d=y.get("start"),k=g?K+r:null,v=y?d+f:null;if(s.getAnchorKey()===a&&s.getAnchorOffset()===k&&s.getFocusKey()===i&&s.getFocusOffset()===v)return s;var h=!1;if(a===i){var O=g.get("end"),b=y.get("end");h=d===K&&b===O?f<r:d<K}else h=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===a||e===i}).first()===i;return s.merge({anchorKey:a,anchorOffset:k,focusKey:i,focusOffset:v,isBackward:h})}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorDragHandler
 * @format
 * 
 */
"use strict";var r=n(1225),a=n(1168),i=n(1181),o=n(1227),l=n(1228),u=n(1229),s=n(1190),f=n(1179);var p={onDragEnd:function(e){e.exitCurrentMode()},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),p=e._latestEditorState,g=function(e,t){var n=null,r=null;if("function"==typeof document.caretRangeFromPoint){var a=document.caretRangeFromPoint(e.x,e.y);n=a.startContainer,r=a.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=f(n),r=f(r);var i=f(o(n));return u(t,i,r,i,r)}(t.nativeEvent,p);if(t.preventDefault(),e.exitCurrentMode(),null!=g){var v=n.getFiles();if(v.length>0){if(e.props.handleDroppedFiles&&s(e.props.handleDroppedFiles(g,v)))return;l(v,function(t){t&&e.update(d(p,g,t))})}else{var c=e._internalDrag?"internal":"external";e.props.handleDrop&&s(e.props.handleDrop(g,n,c))||(e._internalDrag?e.update(function(e,t){var n=a.moveText(e.getCurrentContent(),e.getSelection(),t);return i.push(e,n,"insert-fragment")}(p,g)):e.update(d(p,g,n.getText())))}}}};function d(e,t,n){var r=a.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return i.push(e,r,"insert-fragment")}e.exports=p}),
(function(e,t,n){!function(e,t){"use strict";if(!e.setImmediate){var n,a,s,o,c,i=1,r={},f=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick(function(){g(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){g(e.data)},n=function(e){s.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(a=l.documentElement,n=function(e){var t=l.createElement("script");t.onreadystatechange=function(){g(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):n=function(e){setTimeout(g,0,e)}:(o="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&g(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),n=function(t){e.postMessage(o+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var s={callback:e,args:t};return r[i]=s,n(i),i++},u.clearImmediate=d}function d(e){delete r[e]}function g(e){if(f)setTimeout(g,0,e);else{var n=r[e];if(n){f=!0;try{!function(e){var n=e.callback,a=e.args;switch(a.length){case 0:n();break;case 1:n(a[0]);break;case 2:n(a[0],a[1]);break;case 3:n(a[0],a[1],a[2]);break;default:n.apply(t,a)}}(n)}finally{d(e),f=!1}}}}}("undefined"==typeof self?"undefined"==typeof global?this:global:self)}),
(function(e,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";i(1231),e.exports=global.setImmediate}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnBeforeInput
 * @format
 * 
 */
"use strict";var r=n(1170),o=n(1168),i=n(1181),a=n(1198),d=n(1189),f=n(1190),l=n(1191),p=n(1179),g=n(1232),u="'",s="/",c=a.isBrowser("Firefox");function S(e,t,n,r){var a=o.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return i.push(e,a,"insert-characters")}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,o=t.data;if(o)if(e.props.handleBeforeInput&&f(e.props.handleBeforeInput(o,n)))t.preventDefault();else{var a=n.getSelection(),v=a.getStartOffset(),C=a.getEndOffset(),m=a.getAnchorKey();if(!a.isCollapsed())return t.preventDefault(),void(o===n.getCurrentContent().getPlainText().slice(v,C)?e.update(i.forceSelection(n,a.merge({focusOffset:C}))):e.update(S(n,o,n.getCurrentInlineStyle(),d(n.getCurrentContent(),n.getSelection()))));var B,I=S(n,o,n.getCurrentInlineStyle(),d(n.getCurrentContent(),n.getSelection())),h=!1;if(h||(h=l(e._latestCommittedEditorState)),!h){var F=global.getSelection();if(F.anchorNode&&F.anchorNode.nodeType===Node.TEXT_NODE){var T=F.anchorNode.parentNode;h="SPAN"===T.nodeName&&T.firstChild.nodeType===Node.TEXT_NODE&&-1!==T.firstChild.nodeValue.indexOf("\t")}}if(h||(h=r.getFingerprint(n.getBlockTree(m))!==r.getFingerprint(I.getBlockTree(m))),h||(B=o,h=c&&(B==u||B==s)),h||(h=p(I.getDirectionMap()).get(m)!==p(n.getDirectionMap()).get(m)),h)return t.preventDefault(),void e.update(I);I=i.set(I,{nativelyRenderedContent:I.getCurrentContent()}),e._pendingStateFromBeforeInput=I,g(function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}}}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnBlur
 * @format
 * 
 */
"use strict";var n=o(1181),a=o(1203),r=o(1204);e.exports=function(e,t){if(r()===document.body){var o=global.getSelection(),s=e.editor;1===o.rangeCount&&a(s,o.anchorNode)&&a(s,o.focusNode)&&o.removeAllRanges()}var c=e._latestEditorState,i=c.getSelection();if(i.getHasFocus()){var l=i.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(n.acceptSelection(c,l))}}}),
(function(t,o,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCompositionStart
 * @format
 * 
 */
"use strict";var i=e(1181);t.exports=function(t,o){t.setMode("composite"),t.update(i.set(t._latestEditorState,{inCompositionMode:!0})),t._onCompositionStart(o)}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getFragmentFromSelection
 * @format
 * 
 */
"use strict";var r=n(1160);t.exports=function(t){var e=t.getSelection();return e.isCollapsed()?null:r(t.getCurrentContent(),e)}}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCopy
 * @format
 * 
 */
"use strict";var a=o(1236);t.exports=function(t,e){t._latestEditorState.getSelection().isCollapsed()?e.preventDefault():t.setClipboard(a(t._latestEditorState))}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCut
 * @format
 * 
 */
"use strict";var o=r(1168),i=r(1181),n=r(1212),a=r(1236),l=r(1217);e.exports=function(e,t){var r=e._latestEditorState,s=r.getSelection(),u=t.target,c=void 0;if(s.isCollapsed())t.preventDefault();else{u instanceof Node&&(c=l(n.getScrollParent(u)));var d=a(r);e.setClipboard(d),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(c),e.exitCurrentMode(),e.update(function(e){var t=o.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return i.push(e,t,"remove-range")}(r))},0)}}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnDragOver
 * @format
 * 
 */
"use strict";t.exports=function(t,e){t._internalDrag=!1,t.setMode("drag"),e.preventDefault()}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnDragStart
 * @format
 * 
 */
"use strict";t.exports=function(t){t._internalDrag=!0,t.setMode("drag")}}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnFocus
 * @format
 * 
 */
"use strict";var s=o(1181),r=o(1198);t.exports=function(t,e){var o=t._latestEditorState,c=o.getSelection();if(!c.getHasFocus()){var a=c.set("hasFocus",!0);t.props.onFocus&&t.props.onFocus(e),r.isBrowser("Chrome < 60.0.3081.0")?t.update(s.forceSelection(o,a)):t.update(s.acceptSelection(o,a))}}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnInput
 * @format
 * 
 */
"use strict";var o=n(1149),r=n(1168),i=n(1207),l=n(1181),f=n(1198),a=n(1227),s=n(1179),d=f.isEngine("Gecko"),g="\n\n";e.exports=function(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var t=global.getSelection(),n=t.anchorNode,f=t.isCollapsed,c=n.nodeType!==Node.TEXT_NODE,u=n.nodeType!==Node.TEXT_NODE&&n.nodeType!==Node.ELEMENT_NODE;if(o.draft_killswitch_allow_nontextnodes){if(c)return}else if(u)return;if(n.nodeType===Node.TEXT_NODE&&(null!==n.previousSibling||null!==n.nextSibling)){var p=n.parentNode;n.nodeValue=p.textContent;for(var E=p.firstChild;null!==E;E=E.nextSibling)E!==n&&p.removeChild(E)}var y=n.textContent,h=e._latestEditorState,T=s(a(n)),O=i.decode(T),v=O.blockKey,S=O.decoratorKey,b=O.leafKey,N=h.getBlockTree(v).getIn([S,"leaves",b]),_=N.start,m=N.end,x=h.getCurrentContent(),A=x.getBlockForKey(v),B=A.getText().slice(_,m);if(y.endsWith(g)&&(y=y.slice(0,-1)),y!==B){var k,C,D,F,K=h.getSelection(),M=K.merge({anchorOffset:_,focusOffset:m,isBackward:!1}),I=A.getEntityAt(_),w=I&&x.getEntity(I),X="MUTABLE"===(w&&w.getMutability()),j=X?"spellcheck-change":"apply-entity",L=r.replaceText(x,M,y,A.getInlineStyleAt(_),X?A.getEntityAt(_):null);if(d)k=t.anchorOffset,C=t.focusOffset,F=(D=_+Math.min(k,C))+Math.abs(k-C),k=D,C=F;else{var U=y.length-B.length;D=K.getStartOffset(),F=K.getEndOffset(),k=f?F+U:D,C=F+U}var G=L.merge({selectionBefore:x.getSelectionAfter(),selectionAfter:K.merge({anchorOffset:k,focusOffset:C})});e.update(l.push(h,G,j))}}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule KeyBindingUtil
 * @format
 * 
 */
"use strict";var r=n(1198).isPlatform("Mac OS X"),i={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return r&&t.altKey},hasCommandModifier:function(t){return r?!!t.metaKey&&!t.altKey:i.isCtrlKeyCommand(t)}};t.exports=i}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SecondaryClipboard
 * @format
 * 
 */
"use strict";var n=r(1168),o=r(1181),a=r(1160),u=r(1179),f=null,i={cut:function(e){var t=e.getCurrentContent(),r=e.getSelection(),i=null;if(r.isCollapsed()){var s=r.getAnchorKey(),g=t.getBlockForKey(s).getLength();if(g===r.getAnchorOffset())return e;i=r.set("focusOffset",g)}else i=r;i=u(i),f=a(t,i);var l=n.removeRange(t,i,"forward");return l===t?e:o.push(e,l,"remove-range")},paste:function(e){if(!f)return e;var t=n.replaceWithFragment(e.getCurrentContent(),e.getSelection(),f);return o.push(e,t,"insert-fragment")}};e.exports=i}),
(function(r,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";var e=n(1154),u=55296,i=56319,o=56320,a=57343,f=/[\uD800-\uDFFF]/;function s(r){return u<=r&&r<=a}function g(r){return f.test(r)}function c(r,t){return 1+s(r.charCodeAt(t))}function h(r,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!g(r))return r.substr(t,n);var e=r.length;if(e<=0||t>e||n<=0)return"";var u=0;if(t>0){for(;t>0&&u<e;t--)u+=c(r,u);if(u>=e)return""}else if(t<0){for(u=e;t<0&&0<u;t++)u-=c(r,u-1);u<0&&(u=0)}var i=e;if(n<e)for(i=u;n>0&&i<e;n--)i+=c(r,i);return r.substring(u,i)}var v={getCodePoints:function(r){for(var t=[],n=0;n<r.length;n+=c(r,n))t.push(r.codePointAt(n));return t},getUTF16Length:c,hasSurrogateUnit:g,isCodeUnitInSurrogateRange:s,isSurrogatePair:function(r,t){if(0<=t&&t<r.length||e(!1),t+1===r.length)return!1;var n=r.charCodeAt(t),f=r.charCodeAt(t+1);return u<=n&&n<=i&&o<=f&&f<=a},strlen:function(r){if(!g(r))return r.length;for(var t=0,n=0;n<r.length;n+=c(r,n))t++;return t},substring:function(r,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var e=Math.abs(n-t);return h(r,t=t<n?t:n,e)},substr:h};r.exports=v}),
(function(r,t,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangeClientRects
 * @format
 * 
 */
"use strict";var n=e(1198),a=e(1154);var o=n.isBrowser("Chrome")?function(r){for(var t=r.cloneRange(),e=[],n=r.endContainer;null!=n;n=n.parentNode){var o=n===r.commonAncestorContainer;o?t.setStart(r.startContainer,r.startOffset):t.setStart(t.endContainer,0);var s,i=Array.from(t.getClientRects());if(e.push(i),o)return e.reverse(),(s=[]).concat.apply(s,e);t.setEndBefore(n)}a(!1)}:function(r){return Array.from(r.getClientRects())};r.exports=o}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule expandRangeToStartOfLine
 * @format
 * 
 */var o=n(1245),a=n(1246),i=n(1154);function r(t,e){for(var n=1/0,o=1/0,a=-1/0,i=-1/0,r=0;r<t.length;r++){var l=t[r];0!==l.width&&1!==l.width&&(n=Math.min(n,l.top),o=Math.min(o,l.bottom),a=Math.max(a,l.top),i=Math.max(i,l.bottom))}return a<=o&&a-n<e&&i-o<e}function l(t){switch(t.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return t.length;default:return t.childNodes.length}}t.exports=function(t){t.collapsed||i(!1);var e=(t=t.cloneRange()).startContainer;1!==e.nodeType&&(e=e.parentNode);var n=function(t){var e=getComputedStyle(t),n=document.createElement("div");n.style.fontFamily=e.fontFamily,n.style.fontSize=e.fontSize,n.style.fontStyle=e.fontStyle,n.style.fontWeight=e.fontWeight,n.style.lineHeight=e.lineHeight,n.style.position="absolute",n.textContent="M";var o=document.body;o||i(!1),o.appendChild(n);var a=n.getBoundingClientRect();return o.removeChild(n),a.height}(e),s=t.endContainer,d=t.endOffset;for(t.setStart(t.startContainer,0);r(a(t),n)&&(s=t.startContainer,d=t.startOffset,s.parentNode||i(!1),t.setStartBefore(s),1!==s.nodeType||"inline"===getComputedStyle(s).display););for(var f=s,c=d-1;;){for(var h=f.nodeValue,u=c;u>=0;u--)if(!(null!=h&&u>0&&o.isSurrogatePair(h,u-1))){if(t.setStart(f,u),!r(a(t),n))break;s=f,d=u}if(-1===u||0===f.childNodes.length)break;c=l(f=f.childNodes[u])}return t.setStart(s,d),t}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDraftEditorSelectionWithNodes
 * @format
 * 
 */
"use strict";var l=n(1227),i=n(1226),r=n(1229),f=n(1154),s=n(1179);function o(e,t,n){var r=t,o=l(r);if(null!=o||e&&(e===r||e.firstChild===r)||f(!1),e===r&&((r=r.firstChild)instanceof Element&&"true"===r.getAttribute("data-contents")||f(!1),n>0&&(n=r.childNodes.length)),0===n){var a=null;if(null!=o)a=o;else{var u=function(e){for(;e.firstChild&&(e.firstChild instanceof Element&&"true"===e.firstChild.getAttribute("data-blocks")||i(e.firstChild));)e=e.firstChild;return e}(r);a=s(i(u))}return{key:a,offset:0}}var c=r.childNodes[n-1],h=null,C=null;if(i(c)){var v=function(e){for(;e.lastChild&&(e.lastChild instanceof Element&&"true"===e.lastChild.getAttribute("data-blocks")||i(e.lastChild));)e=e.lastChild;return e}(c);h=s(i(v)),C=d(v)}else h=s(o),C=d(c);return{key:h,offset:C}}function d(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,i,f,d){var a=n.nodeType===Node.TEXT_NODE,u=f.nodeType===Node.TEXT_NODE;if(a&&u)return{selectionState:r(e,s(l(n)),i,s(l(f)),d),needsRecovery:!1};var c=null,h=null,C=!0;return a?(c={key:s(l(n)),offset:i},h=o(t,f,d)):u?(h={key:s(l(f)),offset:d},c=o(t,n,i)):(c=o(t,n,i),h=o(t,f,d),n===f&&i===d&&(C=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:r(e,c.key,c.offset,h.key,h.offset),needsRecovery:C}}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveSelectionBackward
 * @format
 * 
 */
"use strict";e.exports=function(e,t){var r=e.getSelection(),n=e.getCurrentContent(),f=r.getStartKey(),o=r.getStartOffset(),g=f,s=0;if(t>o){var c=n.getKeyBefore(f);null==c?g=f:(g=c,s=n.getBlockForKey(c).getText().length)}else s=o-t;return r.merge({focusKey:g,focusOffset:s,isBackward:!0})}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeTextWithStrategy
 * @format
 * 
 */
"use strict";var r=n(1168);t.exports=function(t,e,n){var i=t.getSelection(),o=t.getCurrentContent(),f=i;if(i.isCollapsed()){if("forward"===n){if(t.isSelectionAtEndOfContent())return o}else if(t.isSelectionAtStartOfContent())return o;if((f=e(t))===i)return o}return r.removeRange(o,f,n)}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandBackspaceToStartOfLine
 * @format
 * 
 */
"use strict";var r=n(1181),a=n(1247),o=n(1248),i=n(1249),s=n(1250);t.exports=function(t){var e=s(t,function(t){var e=t.getSelection();if(e.isCollapsed()&&0===e.getAnchorOffset())return i(t,1);var n=global.getSelection().getRangeAt(0);return n=a(n),o(t,null,n.endContainer,n.endOffset,n.startContainer,n.startOffset).selectionState},"backward");return e===t.getCurrentContent()?t:r.push(t,e,"remove-range")}}),
(function(t,n,u){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * @stub
 * 
 */
"use strict";t.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}}),
(function(e,n,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftRemovableWord
 * @format
 * 
 */
"use strict";var r="\\s|(?![_])"+t(1252).getPunctuation(),u=new RegExp("^(?:"+r+")*(?:['‘’]|(?!"+r+").)*(?:(?!"+r+").)"),c=new RegExp("(?:(?!"+r+").)(?:['‘’]|(?!"+r+").)*(?:"+r+")*$");function i(e,n){var t=n?c.exec(e):u.exec(e);return t?t[0]:e}var o={getBackward:function(e){return i(e,!0)},getForward:function(e){return i(e,!1)}};e.exports=o}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandBackspaceWord
 * @format
 * 
 */
"use strict";var n=r(1253),a=r(1181),o=r(1249),c=r(1250);t.exports=function(t){var e=c(t,function(t){var e=t.getSelection(),r=e.getStartOffset();if(0===r)return o(t,1);var a=e.getStartKey(),c=t.getCurrentContent().getBlockForKey(a).getText().slice(0,r),g=n.getBackward(c);return o(t,g.length||1)},"backward");return e===t.getCurrentContent()?t:a.push(t,e,"remove-range")}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveSelectionForward
 * @format
 * 
 */
"use strict";t.exports=function(t,e){var r,n=t.getSelection(),f=n.getStartKey(),g=n.getStartOffset(),o=t.getCurrentContent(),c=f;return e>o.getBlockForKey(f).getText().length-g?(c=o.getKeyAfter(f),r=0):r=g+e,n.merge({focusKey:c,focusOffset:r})}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandDeleteWord
 * @format
 * 
 */
"use strict";var o=r(1253),n=r(1181),a=r(1255),g=r(1250);t.exports=function(t){var e=g(t,function(t){var e=t.getSelection(),r=e.getStartOffset(),n=e.getStartKey(),g=t.getCurrentContent().getBlockForKey(n).getText().slice(r),i=o.getForward(g);return a(t,i.length||1)},"forward");return e===t.getCurrentContent()?t:n.push(t,e,"remove-range")}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandInsertNewline
 * @format
 * 
 */
"use strict";var i=r(1168),n=r(1181);t.exports=function(t){var e=i.splitBlock(t.getCurrentContent(),t.getSelection());return n.push(t,e,"split-block")}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandMoveSelectionToEndOfBlock
 * @format
 * 
 */
"use strict";var o=n(1181);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),r=e.getCurrentContent().getBlockForKey(n).getLength();return o.set(e,{selection:t.merge({anchorKey:n,anchorOffset:r,focusKey:n,focusOffset:r,isBackward:!1}),forceSelection:!0})}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandMoveSelectionToStartOfBlock
 * @format
 * 
 */
"use strict";var c=r(1181);e.exports=function(e){var t=e.getSelection(),r=t.getStartKey();return c.set(e,{selection:t.merge({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:0,isBackward:!1}),forceSelection:!0})}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandPlainBackspace
 * @format
 * 
 */
"use strict";var n=r(1181),o=r(1245),c=r(1249),a=r(1250);e.exports=function(e){var t=a(e,function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=t.getAnchorKey(),a=t.getAnchorOffset(),i=r.getBlockForKey(n).getText()[a-1];return c(e,i?o.getUTF16Length(i,0):1)},"backward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return n.push(e,t.set("selectionBefore",r),r.isCollapsed()?"backspace-character":"remove-range")}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandPlainDelete
 * @format
 * 
 */
"use strict";var n=r(1181),o=r(1245),i=r(1255),c=r(1250);e.exports=function(e){var t=c(e,function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=t.getAnchorKey(),c=t.getAnchorOffset(),a=r.getBlockForKey(n).getText()[c];return i(e,a?o.getUTF16Length(a,0):1)},"forward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return n.push(e,t.set("selectionBefore",r),r.isCollapsed()?"delete-character":"remove-range")}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandTransposeCharacters
 * @format
 * 
 */
"use strict";var n=r(1168),f=r(1181),o=r(1160);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var r=t.getAnchorOffset();if(0===r)return e;var a,c,s=t.getAnchorKey(),g=e.getCurrentContent(),i=g.getBlockForKey(s).getLength();if(i<=1)return e;r===i?(a=t.set("anchorOffset",r-1),c=t):c=(a=t.set("focusOffset",r+1)).set("anchorOffset",r+1);var u=o(g,a),h=n.removeRange(g,a,"backward"),l=h.getSelectionAfter(),O=l.getAnchorOffset()-1,v=l.merge({anchorOffset:O,focusOffset:O}),m=n.replaceWithFragment(h,v,u),p=f.push(e,m,"insert-fragment");return f.acceptSelection(p,c)}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandUndo
 * @format
 * 
 */
"use strict";var r=n(1181);e.exports=function(e,t,n){var a=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout(function(){n(a)},0)):n(a);else{var o=a.getCurrentContent();n(r.set(a,{nativelyRenderedContent:o}))}}}),
(function(e,r,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnKeyDown
 * @format
 * 
 */
"use strict";var n=o(1168),t=o(1181),a=o(1243),s=o(1188),c=o(1244),p=o(1198),d=o(1190),i=o(1251),u=o(1254),l=o(1256),m=o(1257),f=o(1258),k=o(1259),v=o(1260),C=o(1261),y=o(1262),w=o(1263),h=a.isOptionKeyCommand,b=p.isBrowser("Chrome");e.exports=function(e,r){var o=r.which,a=e._latestEditorState;switch(o){case s.RETURN:if(r.preventDefault(),e.props.handleReturn&&d(e.props.handleReturn(r,a)))return;break;case s.ESC:return r.preventDefault(),void(e.props.onEscape&&e.props.onEscape(r));case s.TAB:return void(e.props.onTab&&e.props.onTab(r));case s.UP:return void(e.props.onUpArrow&&e.props.onUpArrow(r));case s.RIGHT:return void(e.props.onRightArrow&&e.props.onRightArrow(r));case s.DOWN:return void(e.props.onDownArrow&&e.props.onDownArrow(r));case s.LEFT:return void(e.props.onLeftArrow&&e.props.onLeftArrow(r));case s.SPACE:if(b&&h(r)){r.preventDefault();var p=n.replaceText(a.getCurrentContent(),a.getSelection()," ");return void e.update(t.push(a,p,"insert-characters"))}}var A=e.props.keyBindingFn(r);if(A)if("undo"!==A){if(r.preventDefault(),!e.props.handleKeyCommand||!d(e.props.handleKeyCommand(A,a))){var T=function(e,r){switch(e){case"redo":return t.redo(r);case"delete":return C(r);case"delete-word":return l(r);case"backspace":return v(r);case"backspace-word":return u(r);case"backspace-to-start-of-line":return i(r);case"split-block":return m(r);case"transpose-characters":return y(r);case"move-selection-to-start-of-block":return k(r);case"move-selection-to-end-of-block":return f(r);case"secondary-cut":return c.cut(r);case"secondary-paste":return c.paste(r);default:return r}}(A,a);T!==a&&e.update(T)}}else w(r,a,e.update)}}),
(function(t,n,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */
"use strict";var r=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._uri=n}return t.prototype.toString=function(){return this._uri},t}();t.exports=r}),
(function(e,n,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getSafeBodyFromHTML
 * @format
 * 
 */
"use strict";var m=t(1198),o=t(1154),i=m.isBrowser("IE <= 9");e.exports=function(e){var n,t=null;return!i&&document.implementation&&document.implementation.createHTMLDocument&&((n=document.implementation.createHTMLDocument("foo")).documentElement||o(!1),n.documentElement.innerHTML=e,t=n.getElementsByTagName("body")[0]),t}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromHTMLToContentBlocks
 * @format
 * 
 */
"use strict";var r,i=l||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0,1);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(1144),s=n(1146),c=n(1147),u=n(1186),f=n(1172),d=n(1149),p=n(1142),h=n(1142).Set,y=n(1265),v=n(1185),g=n(1157),m=n(1266),x=n(1154),b=n(1174),k=d.draft_tree_data_support,E=p.List,L=p.OrderedSet,M=new RegExp("\r","g"),T=new RegExp("\n","g"),D=new RegExp("&nbsp;","g"),R=new RegExp("&#13;?","g"),O=new RegExp("&#8203;?","g"),S=["bold","bolder","500","600","700","800","900"],w=["light","lighter","100","200","300","400"],I={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},A=(a(r={},v("public/DraftStyleDefault/depth0"),0),a(r,v("public/DraftStyleDefault/depth1"),1),a(r,v("public/DraftStyleDefault/depth2"),2),a(r,v("public/DraftStyleDefault/depth3"),3),a(r,v("public/DraftStyleDefault/depth4"),4),r),B=["className","href","rel","target","title"],C=["alt","className","height","src","width"],H=void 0,N={text:"",inlines:[],entities:[],blocks:[]},U={children:E(),depth:0,key:"",type:""},K=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null},j=function(e,t,n){var r=n.filter(function(t){return t.element===e||t.wrapper===e||t.aliasedElements&&t.aliasedElements.some(function(t){return t===e})}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return function(e,t,n){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}return null}(e,t,[K])||"unstyled"}},_=function(e,t,n){var r=e.text.slice(-1),i=t.text.slice(0,1);if("\r"!==r||"\r"!==i||n||(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===r){if(" "===t.text||"\n"===t.text)return e;" "!==i&&"\n"!==i||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},G=function(e){e instanceof HTMLAnchorElement||x(!1);var t=e.protocol;return"http:"===t||"https:"===t||"mailto:"===t},F=function(){return i({},N,{text:"\n",inlines:[L()],entities:new Array(1)})},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{text:"\r",inlines:[L()],entities:new Array(1),blocks:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i({},U,e)}({parent:n,key:g(),type:e,depth:Math.max(0,Math.min(4,t))})]}},q=function e(t,n,r,l,a,o,s,c,u,d){var p=H,h=n.nodeName.toLowerCase(),v=t,g="unstyled",m=!1,x=a&&j(a,l,c),b=i({},N),E=void 0;if("#text"===h){var M=n.textContent,D=M.trim();if(l&&""===D&&n.parentElement){var R=n.parentElement.nodeName.toLowerCase();if("ol"===R||"ul"===R)return{chunk:i({},N),entityMap:t}}return""===D&&"pre"!==a?{chunk:function(e){var t=new Array(1);return e&&(t[0]=e),i({},N,{text:" ",inlines:[L()],entities:t})}(u),entityMap:t}:("pre"!==a&&(M=M.replace(T," ")),H=h,{chunk:{text:M,inlines:Array(M.length).fill(r),entities:Array(M.length).fill(u),blocks:[]},entityMap:t})}if(H=h,"br"===h)return"br"!==p||a&&"unstyled"!==x?{chunk:F(),entityMap:t}:{chunk:P("unstyled",s,d),entityMap:t};if("img"===h&&n instanceof HTMLImageElement&&n.attributes.getNamedItem("src")&&n.attributes.getNamedItem("src").value){var O=n,U={};C.forEach(function(e){var t=O.getAttribute(e);t&&(U[e]=t)}),n.textContent="📷",u=f.__create("IMAGE","MUTABLE",U||{})}r=function(e,t,n){var r=I[e];if(r)n=n.add(r).toOrderedSet();else if(t instanceof HTMLElement){var i=t;n=n.withMutations(function(e){var t=i.style.fontWeight,n=i.style.fontStyle,r=i.style.textDecoration;S.indexOf(t)>=0?e.add("BOLD"):w.indexOf(t)>=0&&e.remove("BOLD"),"italic"===n?e.add("ITALIC"):"normal"===n&&e.remove("ITALIC"),"underline"===r&&e.add("UNDERLINE"),"line-through"===r&&e.add("STRIKETHROUGH"),"none"===r&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}).toOrderedSet()}return n}(h,n,r),"ul"!==h&&"ol"!==h||(l&&(s+=1),l=h),!k&&"li"===h&&n instanceof HTMLElement&&(s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(A).some(function(n){e.classList.contains(n)&&(t=A[n])}),t}(n,s));var K=j(h,l,c),q=l&&"li"===a&&"li"===h,z=(!a||k)&&-1!==o.indexOf(h);(q||z)&&(E=(b=P(K,s,d)).blocks[0].key,a=h,m=!k),q&&(g="ul"===l?"unordered-list-item":"ordered-list-item");var W=n.firstChild;null!=W&&(h=W.nodeName.toLowerCase());for(var J=null;W;){W instanceof HTMLAnchorElement&&W.href&&G(W)?function(){var e=W,t={};B.forEach(function(n){var r=e.getAttribute(n);r&&(t[n]=r)}),t.url=new y(e.href).toString(),J=f.__create("LINK","MUTABLE",t||{})}():J=void 0;var Q=e(v,W,r,l,a,o,s,c,J||u,k?E:null),V=Q.chunk;v=Q.entityMap,b=_(b,V,k);var X=W.nextSibling;!d&&X&&o.indexOf(h)>=0&&a&&(b=_(b,F())),X&&(h=X.nodeName.toLowerCase()),W=X}return m&&(b=_(b,P(g,s,d))),{chunk:b,entityMap:v}},z=function(e,t,n,r){e=e.trim().replace(M,"").replace(D," ").replace(R,"").replace(O,"");var l=function(e){var t=e.get("unstyled").element,n=h([]);return e.forEach(function(e){e.aliasedElements&&e.aliasedElements.forEach(function(e){n=n.add(e)}),n=n.add(e.element)}),n.filter(function(e){return e&&e!==t}).toArray().sort()}(n),a=t(e);if(!a)return null;H=null;var o=function(e,t){return t.some(function(t){return-1!==e.indexOf("<"+t)})}(e,l)?l:["div"],s=q(r,a,L(),"ul",null,o,-1,n),c=s.chunk,u=s.entityMap;return 0===c.text.indexOf("\r")&&(c={text:c.text.slice(1),inlines:c.inlines.slice(1),entities:c.entities.slice(1),blocks:c.blocks}),"\r"===c.text.slice(-1)&&(c.text=c.text.slice(0,-1),c.inlines=c.inlines.slice(0,-1),c.entities=c.entities.slice(0,-1),c.blocks.pop()),0===c.blocks.length&&c.blocks.push(i({},N,{type:"unstyled",depth:0})),c.text.split("\r").length===c.blocks.length+1&&c.blocks.unshift({type:"unstyled",depth:0}),{chunk:c,entityMap:u}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=z(e,t,n,f);if(null==r)return null;var i=r.chunk,l=r.entityMap;return{contentBlocks:function(e){if(!e||!e.text||!Array.isArray(e.blocks))return null;var t=0,n=e.blocks,r=e.inlines,i=e.entities,l=k?c:s;return e.text.split("\r").reduce(function(e,a,s){a=b(a);var u=n[s],f=t+a.length,d=r.slice(t,f),p=i.slice(t,f),h=E(d.map(function(e,t){var n={style:e,entity:null};return p[t]&&(n.entity=p[t]),o.create(n)}));t=f+1;var y=u.depth,v=u.type,m=u.parent,x=u.key||g(),k=null;if(m){var L=e.cacheRef[m],M=e.contentBlocks[L];if(M.getChildKeys().isEmpty()&&M.getText()){var T=M.getCharacterList(),D=M.getText();k=g();var R=new c({key:k,text:D,characterList:T,parent:m,nextSibling:x});e.contentBlocks.push(R),M=M.withMutations(function(e){e.set("characterList",E()).set("text","").set("children",M.children.push(R.getKey()))})}e.contentBlocks[L]=M.set("children",M.children.push(x))}var O=new l({key:x,parent:m,type:v,depth:y,text:a,characterList:h,prevSibling:k||(0===s||n[s-1].parent!==m?null:n[s-1].key),nextSibling:s===n.length-1||n[s+1].parent!==m?null:n[s+1].key});return e.contentBlocks.push(O),e.cacheRef[O.key]=s,e},{cacheRef:{},contentBlocks:[]}).contentBlocks}(i),entityMap:l}}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftPasteProcessor
 * @format
 * 
 */
"use strict";var n=r(0,1)||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=(r(1144),r(1146)),o=r(1147),c=r(1149),i=r(1142),s=r(1267),u=r(1157),f=r(1266),p=r(1174),l=i.List,g=i.Repeat,v=c.draft_tree_data_support,d=v?o:a,y={processHTML:function(t,e){return s(t,f,e)},processText:function(t,e,r){return t.reduce(function(t,a,o){a=p(a);var c=u(),i={key:c,type:r,text:a,characterList:l(g(e,a.length))};if(v&&0!==o){var s=o-1,f=t[s]=t[s].merge({nextSibling:c});i=n({},i,{prevSibling:f.getKey()})}return t.push(new d(i)),t},[])}};t.exports=y}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule adjustBlockDepthForContentState
 * @format
 * 
 */
"use strict";t.exports=function(t,e,n,r){var o=e.getStartKey(),c=e.getEndKey(),i=t.getBlockMap(),a=i.toSeq().skipUntil(function(t,e){return e===o}).takeUntil(function(t,e){return e===c}).concat([[c,i.get(c)]]).map(function(t){var e=t.getDepth()+n;return e=Math.max(0,Math.min(e,r)),t.set("depth",e)});return i=i.merge(a),t.merge({blockMap:i,selectionBefore:e,selectionAfter:e})}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule RichTextEditorUtil
 * @format
 * 
 */
"use strict";var r=n(1168),o=n(1181),l=(n(1173),n(1269)),c=n(1179),g={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t){switch(t){case"bold":return g.toggleInlineStyle(e,"BOLD");case"italic":return g.toggleInlineStyle(e,"ITALIC");case"underline":return g.toggleInlineStyle(e,"UNDERLINE");case"code":return g.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return g.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return g.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=o.push(e,t,"insert-characters");return o.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),l=n.getBlockBefore(r);if(l&&"atomic"===l.getType()){var c=n.getBlockMap().delete(l.getKey()),i=n.merge({blockMap:c,selectionAfter:t});if(i!==n)return o.push(e,i,"remove-range")}var u=g.tryToRemoveBlockStyle(e);return u?o.push(e,u,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),l=t.getStartKey(),c=n.getBlockForKey(l).getLength();if(t.getStartOffset()<c)return null;var g=n.getBlockAfter(l);if(!g||"atomic"!==g.getType())return null;var i=t.merge({focusKey:g.getKey(),focusOffset:g.getLength()}),u=r.removeRange(n,i,"forward");return u!==n?o.push(e,u,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),c=r.getAnchorKey();if(c!==r.getFocusKey())return t;var g=t.getCurrentContent(),i=g.getBlockForKey(c),u=i.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return t;e.preventDefault();var a=g.getBlockBefore(c);if(!a)return t;var s=a.getType();if("unordered-list-item"!==s&&"ordered-list-item"!==s)return t;var f=i.getDepth();if(!e.shiftKey&&f===n)return t;n=Math.min(a.getDepth()+1,n);var y=l(g,r,e.shiftKey?-1:1,n);return o.push(t,y,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),l=n.getStartKey(),g=n.getEndKey(),i=e.getCurrentContent(),u=n;if(l!==g&&0===n.getEndOffset()){var a=c(i.getBlockBefore(g));g=a.getKey(),u=u.merge({anchorKey:l,anchorOffset:n.getStartOffset(),focusKey:g,focusOffset:a.getLength(),isBackward:!1})}if(i.getBlockMap().skipWhile(function(e,t){return t!==l}).reverse().skipWhile(function(e,t){return t!==g}).some(function(e){return"atomic"===e.getType()}))return e;var s=i.getBlockForKey(l).getType()===t?"unstyled":t;return o.push(e,r.setBlockType(i,u,s),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?g.toggleBlockType(e,"code-block"):g.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),l=e.getCurrentInlineStyle();if(n.isCollapsed())return o.setInlineStyleOverride(e,l.has(t)?l.remove(t):l.add(t));var c,g=e.getCurrentContent();return c=l.has(t)?r.removeInlineStyle(g,n,t):r.applyInlineStyle(g,n,t),o.push(e,c,"change-inline-style")},toggleLink:function(e,t,n){var l=r.applyEntity(e.getCurrentContent(),t,n);return o.push(e,l,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var o=t.getAnchorKey(),l=e.getCurrentContent(),c=l.getBlockForKey(o),g=l.getFirstBlock();if(c.getLength()>0&&c!==g)return null;var i=c.getType(),u=l.getBlockBefore(o);if("code-block"===i&&u&&"code-block"===u.getType()&&0!==u.getLength())return null;if("unstyled"!==i)return r.setBlockType(l,t,"unstyled")}return null}};e.exports=g}),
(function(n,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule splitTextIntoTextBlocks
 * @format
 * 
 */
"use strict";var i=/\r\n?|\n/g;n.exports=function(n){return n.split(i)}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnPaste
 * @format
 * 
 */
"use strict";var n=r(1143),a=r(1144),i=r(1225),o=r(1168),s=r(1268),l=r(1181),p=r(1270),c=r(1189),d=r(1228),u=r(1190),g=r(1271);function f(t,e,r){var n=o.replaceWithFragment(t.getCurrentContent(),t.getSelection(),e);return l.push(t,n.set("entityMap",r),"insert-fragment")}t.exports=function(t,e){e.preventDefault();var r=new i(e.clipboardData);if(!r.isRichText()){var v=r.getFiles(),y=r.getText();if(v.length>0){if(t.props.handlePastedFiles&&u(t.props.handlePastedFiles(v)))return;return void d(v,function(e){if(e=e||y){var r=t._latestEditorState,i=g(e),d=a.create({style:r.getCurrentInlineStyle(),entity:c(r.getCurrentContent(),r.getSelection())}),u=p.getCurrentBlockType(r),f=s.processText(i,d,u),v=n.createFromArray(f),T=o.replaceWithFragment(r.getCurrentContent(),r.getSelection(),v);t.update(l.push(r,T,"insert-fragment"))}})}}var T=[],h=r.getText(),x=r.getHTML(),C=t._latestEditorState;if(!t.props.handlePastedText||!u(t.props.handlePastedText(h,x,C))){if(h&&(T=g(h)),!t.props.stripPastedStyles){var S=t.getClipboard();if(r.isRichText()&&S){if(-1!==x.indexOf(t.getEditorKey())||1===T.length&&1===S.size&&S.first().getText()===h)return void t.update(f(t._latestEditorState,S))}else if(S&&r.types.includes("com.apple.webarchive")&&!r.types.includes("text/html")&&function(t,e){return t.length===e.size&&e.valueSeq().every(function(e,r){return e.getText()===t[r]})}(T,S))return void t.update(f(t._latestEditorState,S));if(x){var E=s.processHTML(x,t.props.blockRenderMap);if(E){var F=E.contentBlocks,m=E.entityMap;if(F){var M=n.createFromArray(F);return void t.update(f(t._latestEditorState,M,m))}}}t.setClipboard(null)}if(T.length){var b=a.create({style:C.getCurrentInlineStyle(),entity:c(C.getCurrentContent(),C.getSelection())}),P=p.getCurrentBlockType(C),k=s.processText(T,b,P),B=n.createFromArray(k);t.update(f(t._latestEditorState,B))}}}}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDraftEditorSelection
 * @format
 * 
 */
"use strict";var n=o(1248);e.exports=function(e,t){var o=global.getSelection();return 0===o.rangeCount?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:n(e,t,o.anchorNode,o.anchorOffset,o.focusNode,o.focusOffset)}}),
(function(t,e,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnSelect
 * @format
 * 
 */
"use strict";var o=i(1181),r=i(6,1),n=i(1273),a=i(1154);t.exports=function(t){if(!t._blockSelectEvents&&t._latestEditorState===t.props.editorState){var e=t.props.editorState,i=r.findDOMNode(t.editorContainer);i||a(!1),i.firstChild instanceof HTMLElement||a(!1);var c=n(e,i.firstChild),d=c.selectionState;d!==e.getSelection()&&(e=c.needsRecovery?o.forceSelection(e,d):o.acceptSelection(e,d),t.update(e))}}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorEditHandler
 * @format
 * 
 */
"use strict";var o={onBeforeInput:e(1233),onBlur:e(1234),onCompositionStart:e(1235),onCopy:e(1237),onCut:e(1238),onDragOver:e(1239),onDragStart:e(1240),onFocus:e(1241),onInput:e(1242),onKeyDown:e(1264),onPaste:e(1272),onSelect:e(1274)};t.exports=o}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorPlaceholder.react
 * @format
 * 
 */
"use strict";var r=o(2,1),n=o(1185),i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){return this.props.text!==t.text||this.props.editorState.getSelection().getHasFocus()!==t.editorState.getSelection().getHasFocus()},e.prototype.render=function(){var t=this.props.editorState.getSelection().getHasFocus(),e=n({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":t});return r.createElement("div",{className:e},r.createElement("div",{className:n("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},e}(r.Component);t.exports=i}),
(function(e,r,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDefaultKeyBinding
 * @format
 * 
 */
"use strict";var t=n(1243),l=n(1188),s=n(1198),c=s.isPlatform("Mac OS X"),u=s.isPlatform("Windows"),a=c&&s.isBrowser("Firefox < 29"),o=t.hasCommandModifier,i=t.isCtrlKeyCommand;function d(e){return c&&e.altKey||i(e)}e.exports=function(e){switch(e.keyCode){case 66:return o(e)?"bold":null;case 68:return i(e)?"delete":null;case 72:return i(e)?"backspace":null;case 73:return o(e)?"italic":null;case 74:return o(e)?"code":null;case 75:return!u&&i(e)?"secondary-cut":null;case 77:case 79:return i(e)?"split-block":null;case 84:return c&&i(e)?"transpose-characters":null;case 85:return o(e)?"underline":null;case 87:return c&&i(e)?"backspace-word":null;case 89:return i(e)?u?"redo":"secondary-paste":null;case 90:return function(e){return o(e)?e.shiftKey?"redo":"undo":null}(e)||null;case l.RETURN:return"split-block";case l.DELETE:return function(e){return u&&e.shiftKey?null:d(e)?"delete-word":"delete"}(e);case l.BACKSPACE:return function(e){return o(e)&&c?"backspace-to-start-of-line":d(e)?"backspace-word":"backspace"}(e);case l.LEFT:return a&&o(e)?"move-selection-to-start-of-block":null;case l.RIGHT:return a&&o(e)?"move-selection-to-end-of-block":null;default:return null}}}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditor.react
 * @format
 * 
 * @preventMunge
 */
"use strict";var n=o(0,1)||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};var r=o(1186),i=o(1187),a=o(1192),l=o(1222),s=o(1230),d=o(1275),p=o(1276),c=o(1181),u=o(2,1),h=o(6,1),_=o(1208),b=o(1212),f=o(1198),y=o(1185),D=o(1169),S=o(1157),C=o(1277),g=o(1217),m=o(1154),E=o(1179),v=f.isBrowser("IE"),w=!v,H={edit:d,composite:a,drag:s,cut:null,render:null},K=function(t){function e(o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return n.focus=function(t){var e=n.props.editorState,o=e.getSelection().getHasFocus(),r=h.findDOMNode(n.editor);if(r){var i=b.getScrollParent(r),a=t||g(i),l=a.x,s=a.y;r instanceof HTMLElement||m(!1),r.focus(),i===window?window.scrollTo(l,s):_.setTop(i,s),o||n.update(c.forceSelection(e,e.getSelection()))}},n.blur=function(){var t=h.findDOMNode(n.editor);t instanceof HTMLElement||m(!1),t.blur()},n.setMode=function(t){n._handler=H[t]},n.exitCurrentMode=function(){n.setMode("edit")},n.restoreEditorDOM=function(t){n.setState({contentsKey:n.state.contentsKey+1},function(){n.focus(t)})},n.setClipboard=function(t){n._clipboard=t},n.getClipboard=function(){return n._clipboard},n.update=function(t){n._latestEditorState=t,n.props.onChange(t)},n.onDragEnter=function(){n._dragCount++},n.onDragLeave=function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()},n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=o.editorKey||S(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=o.editorState,n._latestCommittedEditorState=o.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._buildHandler=function(t){var e=this;return function(o){if(!e.props.readOnly){var n=e._handler&&e._handler[t];n&&n(e,o)}}},e.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},e.prototype._renderPlaceholder=function(){if(this._showPlaceholder()){var t={text:E(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return u.createElement(p,t)}return null},e.prototype.render=function(){var t=this,e=this.props,o=e.blockRenderMap,r=e.blockRendererFn,a=e.blockStyleFn,s=e.customStyleFn,d=e.customStyleMap,p=e.editorState,c=e.readOnly,h=e.textAlignment,_=e.textDirectionality,b=y({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===h,"DraftEditor/alignRight":"right"===h,"DraftEditor/alignCenter":"center"===h}),f=this.props.role||"textbox",D="combobox"===f?!!this.props.ariaExpanded:null,S={blockRenderMap:o,blockRendererFn:r,blockStyleFn:a,customStyleMap:n({},i,d),customStyleFn:s,editorKey:this._editorKey,editorState:p,key:"contents"+this.state.contentsKey,textDirectionality:_};return u.createElement("div",{className:b},this._renderPlaceholder(),u.createElement("div",{className:y("DraftEditor/editorContainer"),ref:function(e){return t.editorContainer=e}},u.createElement("div",{"aria-activedescendant":c?null:this.props.ariaActiveDescendantID,"aria-autocomplete":c?null:this.props.ariaAutoComplete,"aria-controls":c?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":c?null:D,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:y({notranslate:!c,"public/DraftEditor/content":!0}),contentEditable:!c,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(e){return t.editor=e},role:c?null:f,spellCheck:w&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},u.createElement(l,S))))},e.prototype.componentDidMount=function(){this.setMode("edit"),v&&document.execCommand("AutoUrlDetect",!1,!1)},e.prototype.componentWillUpdate=function(t){this._blockSelectEvents=!0,this._latestEditorState=t.editorState},e.prototype.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestCommittedEditorState=this.props.editorState},e}(u.Component);K.defaultProps={blockRenderMap:r,blockRendererFn:D.thatReturnsNull,blockStyleFn:D.thatReturns(""),keyBindingFn:C,readOnly:!1,spellCheck:!1,stripPastedStyles:!1},t.exports=K}),
(function(n,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftStringKey
 * @format
 * 
 */
"use strict";var r={stringify:function(n){return"_"+String(n)},unstringify:function(n){return n.slice(1)}};n.exports=r}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule encodeEntityRanges
 * @format
 * 
 */
"use strict";var i=e(1279),r=e(1245).strlen;t.exports=function(t,n){var e=[];return t.findEntityRanges(function(t){return!!t.getEntity()},function(s,f){var u=t.getText(),c=t.getEntityAt(s);e.push({offset:r(u.slice(0,s)),length:r(u.slice(s,f)),key:Number(n[i.stringify(c)])})}),e}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule encodeInlineStyleRanges
 * @format
 * 
 */
"use strict";var r=e(1245),i=e(1145),o=function(t,n){return t===n},u=function(t){return!!t},s=[];t.exports=function(t){var n=t.getCharacterList().map(function(t){return t.getStyle()}).toList(),e=n.flatten().toSet().map(function(e){return function(t,n,e){var s=[],a=n.map(function(t){return t.has(e)}).toList();return i(a,o,u,function(n,i){var o=t.getText();s.push({offset:r.strlen(o.slice(0,n)),length:r.strlen(o.slice(n,i)),style:e})}),s}(t,n,e)});return Array.prototype.concat.apply(s,e.toJS())}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromDraftStateToRaw
 * @format
 * 
 */
"use strict";var i=e(0,1)||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},a=e(1146),r=e(1147),o=e(1279),c=e(1280),y=e(1281),s=e(1154),u=function(t,n){return{key:t.getKey(),text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:y(t),entityRanges:c(t,n),data:t.getData().toObject()}},g=function(t,n){var e=n.entityMap,c=[],y={},g={},f=0;return t.getBlockMap().forEach(function(t){t.findEntityRanges(function(t){return null!==t.getEntity()},function(n){var i=t.getEntityAt(n),a=o.stringify(i);g[a]||(g[a]=i,e[a]=""+f,f++)}),function(t,n,e,o){if(t instanceof a)e.push(u(t,n));else{t instanceof r||s(!1);var c=t.getParentKey(),y=o[t.getKey()]=i({},u(t,n),{children:[]});c?o[c].children.push(y):e.push(y)}}(t,e,c,y)}),{blocks:c,entityMap:e}};t.exports=function(t){var n={entityMap:{},blocks:[]};return n=function(t,n){var e=n.blocks,i=n.entityMap,a={};return Object.keys(i).forEach(function(n,e){var i=t.getEntity(o.unstringify(n));a[e]={type:i.getType(),mutability:i.getMutability(),data:i.getData()}}),{blocks:e,entityMap:a}}(t,n=g(t,n))}}),
(function(r,e,t){"use strict";var n=t(0,1)||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},a=t(1154),i=function(r){if(!r||!r.type)return!1;var e=r.type;return"unordered-list-item"===e||"ordered-list-item"===e},o={fromRawTreeStateToRawState:function(r){var e=r.blocks,t=[];return Array.isArray(e)||a(!1),Array.isArray(e)&&e.length?(function(r,e){for(var t=[].concat(r).reverse();t.length;){var n=t.pop();e(n);var i=n.children;Array.isArray(i)||a(!1),t=t.concat([].concat(i.reverse()))}}(e,function(r){var e=n({},r);i(r)&&(e.depth=e.depth||0,function(r){Array.isArray(r.children)&&(r.children=r.children.map(function(e){return e.type===r.type?n({},e,{depth:(r.depth||0)+1}):e}))}(r)),delete e.children,t.push(e)}),r.blocks=t,n({},r,{blocks:t})):r},fromRawStateToRawTreeState:function(r){var e={},t=[];return r.blocks.forEach(function(r){var o=i(r),c=r.depth||0,s=n({},r,{children:[]});if(!o)return e={},void t.push(s);if(e[c]=s,c>0){var u=e[c-1];return u||a(!1),void u.children.push(s)}t.push(s)}),n({},r,{blocks:t})}};r.exports=o}),
(function(t,r,a){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule createCharacterList
 * @format
 * 
 */
"use strict";var e=a(1144),n=a(1142).List;t.exports=function(t,r){var a=t.map(function(t,a){var n=r[a];return e.create({style:t,entity:n})});return n(a)}}),
(function(t,n,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule decodeEntityRanges
 * @format
 * 
 */
"use strict";var e=r(1245).substr;t.exports=function(t,n){var r=Array(t.length).fill(null);return n&&n.forEach(function(n){for(var f=e(t,0,n.offset).length,l=f+e(t,n.offset,n.length).length,o=f;o<l;o++)r[o]=n.key}),r}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule decodeInlineStyleRanges
 * @format
 * 
 */
"use strict";var n=r(1142).OrderedSet,f=r(1245).substr,l=n();t.exports=function(t,e){var r=Array(t.length).fill(l);return e&&e.forEach(function(e){for(var n=f(t,0,e.offset).length,l=n+f(t,e.offset,e.length).length;n<l;)r[n]=r[n].add(e.style),n++}),r}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromRawToDraftState
 * @format
 * 
 */
"use strict";var n=r(0,1)||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(1146),i=r(1147),o=r(1175),c=r(1172),u=r(1149),l=r(1283),y=r(1142),f=r(1173),s=r(1284),p=r(1285),d=r(1286),g=r(1157),k=r(1154),v=u.draft_tree_data_support,b=y.List,h=y.Map,m=y.OrderedMap,S=function(e,t){var r=e.key,n=e.type,a=e.data;return{text:e.text,depth:e.depth||0,type:n||"unstyled",key:r||g(),data:h(a),characterList:w(e,t)}},w=function(e,t){var r=e.text,a=e.entityRanges,i=e.inlineStyleRanges,o=a||[];return s(d(r,i||[]),p(r,o.filter(function(e){return t.hasOwnProperty(e.key)}).map(function(e){return n({},e,{key:t[e.key]})})))},R=function(e){return n({},e,{key:e.key||g()})},A=function(e,t,r){var a=t.map(function(e){return n({},e,{parentRef:r})});return e.concat(a.reverse())},x=function(e,t){var r=Array.isArray(e.blocks[0].children),o=v&&!r?l.fromRawStateToRawTreeState(e).blocks:e.blocks;return v?function(e,t){return e.map(R).reduce(function(r,a,o){Array.isArray(a.children)||k(!1);var c=a.children.map(R),u=new i(n({},S(a,t),{prevSibling:0===o?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:b(c.map(function(e){return e.key}))}));r=r.set(u.getKey(),u);for(var l=A([],c,u);l.length>0;){var y=l.pop(),f=y.parentRef,s=f.getChildKeys(),p=s.indexOf(y.key),d=Array.isArray(y.children);if(!d){d||k(!1);break}var g=y.children.map(R),v=new i(n({},S(y,t),{parent:f.getKey(),children:b(g.map(function(e){return e.key})),prevSibling:0===p?null:s.get(p-1),nextSibling:p===s.size-1?null:s.get(p+1)}));r=r.set(v.getKey(),v),l=A(l,g,v)}return r},m())}(o,t):function(e,t){return m(e.map(function(e){var r=new a(S(e,t));return[r.getKey(),r]}))}(r?l.fromRawTreeStateToRawState(e).blocks:o,t)};e.exports=function(e){Array.isArray(e.blocks)||k(!1);var t=function(e){var t=e.entityMap,r={};return Object.keys(t).forEach(function(e){var n=t[e],a=n.type,i=n.mutability,o=n.data;r[e]=c.__create(a,i,o||{})}),r}(e),r=x(e,t),n=r.isEmpty()?new f:f.createEmpty(r.first().getKey());return new o({blockMap:r,entityMap:t,selectionBefore:n,selectionAfter:n})}}),
(function(t,e,h){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangeBoundingClientRect
 * @format
 * 
 */
"use strict";var i=h(1246);t.exports=function(t){var e=i(t),h=0,o=0,r=0,a=0;if(e.length){if(e.length>1&&0===e[0].width){var n=e[1];h=n.top,o=n.right,r=n.bottom,a=n.left}else{var g=e[0];h=g.top,o=g.right,r=g.bottom,a=g.left}for(var f=1;f<e.length;f++){var l=e[f];0!==l.height&&0!==l.width&&(h=Math.min(h,l.top),o=Math.max(o,l.right),r=Math.max(r,l.bottom),a=Math.min(a,l.left))}}return{top:h,right:o,bottom:r,left:a,width:o-a,height:r-h}}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getVisibleSelectionRect
 * @format
 * 
 */
"use strict";var r=e(1288);t.exports=function(t){var n=t.getSelection();if(!n.rangeCount)return null;var e=n.getRangeAt(0),o=r(e),u=o.top,g=o.right,i=o.bottom,l=o.left;return 0===u&&0===g&&0===i&&0===l?null:o}}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule Draft
 * @format
 * 
 */
"use strict";var a=o(1183),r=o(1143),i=o(1144),n=o(1184),c=o(1146),l=o(1175),f=o(1186),d=o(1187),D=o(1278),B=o(1219),S=o(1172),s=o(1168),y=o(1171),k=o(1181),E=o(1243),R=o(1270),g=o(1173),m=o(1282),u={Editor:D,EditorBlock:B,EditorState:k,CompositeDecorator:n,Entity:S,EntityInstance:y,BlockMapBuilder:r,CharacterMetadata:i,ContentBlock:c,ContentState:l,SelectionState:g,AtomicBlockUtils:a,KeyBindingUtil:E,Modifier:s,RichUtils:R,DefaultDraftBlockRenderMap:f,DefaultDraftInlineStyle:d,convertFromHTML:o(1267),convertFromRaw:o(1287),convertToRaw:m,genKey:o(1157),getDefaultKeyBinding:o(1277),getVisibleSelectionRect:o(1289)};t.exports=u}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1290      ),s=n(123         ),i=/:([0-9A-Za-z-_+]+)$/;e.filterEmojiEntities=((t,e,n)=>a(t,e,n,"EMOJI")),e.filterMentionEntities=((t,e,n)=>a(t,e,n,"MENTION"));const a=(t,e,n,r)=>{t.findEntityRanges(t=>{const e=t.getEntity();return null!==e&&n.getEntity(e).getType()===r},e)};e.findMatch=(t=>{const n=t.getSelection(),r=t.getCurrentContent(),s=n.getAnchorKey(),a=r.getBlockForKey(s),o=n.getAnchorOffset(),l=a.getText().substring(0,o),u=l.match(i),d=e.getMentionSearchFromString(l);let g=void 0,f=void 0,c=void 0,h=void 0;return d?(g="MENTION",f=d.search,c=d.index,h=o):u&&(g="EMOJI",f=u[1],c=u.index,h=o),{type:g,search:f,start:c,end:h}}),e.getMentionSearchFromString=(t=>{let e=void 0,n=0,r=0;-1!==t.lastIndexOf("\n")&&(r=t.lastIndexOf("\n")+1,t=t.substring(r));let s=t.lastIndexOf("@");if(-1!==s){if(n=s," "===(e=t.substring(s+1)).substring(0,1))return null;if(e.split(" ").length>2)return null;const r=t.substring(0,s),i=r.lastIndexOf("@");if(-1!==i){const s=t.substring(i+1);if(-1===s.indexOf(" ")){if(0!==i&&" "!==r[i-1])return null;e=s,n=i}}else if(0!==s&&" "!==t[s-1])return null}return null!=e?{search:e,index:n+=r}:null}),e.editorStateToMessageMeta=(t=>{let e=[];const n=r.convertToRaw(t.getCurrentContent());let i="";return n.blocks.forEach(t=>{const r=s.stringToArrayOfRealChars(t.text),a=t.entityRanges,o={};a.forEach(t=>{o[t.offset]=t});for(let s=0;s<r.length;s++)if(s in o){""!==i&&(e.push({t:i}),i="");let t=o[s],a=n.entityMap[t.key],l="";for(let e=0;e<t.length;e++)l+=r[s+e];let u={};"MENTION"===a.type?(u.user_id=a.data.mention.id,u.user_annotated=a.data.mention):u.t=l,e.push(u),s+=t.length-1}else i+=r[s];i+="\n"}),""!==(i=i.slice(0,-1))&&e.push({t:i}),e}),e.messageMetaToEditorState=((t,e)=>{let n=[],i={},a="",o=0;t.forEach(t=>{t.user_annotated?(n.push({key:o,length:s.stringToArrayOfRealChars(t.user_annotated.handle).length,offset:s.stringToArrayOfRealChars(a).length}),i[o]={type:"MENTION",mutability:"IMMUTABLE",data:{mention:t.user_annotated}},o+=1,a+=t.user_annotated.handle):a+=t.t});const l={text:a,entityRanges:n,type:"unstyled",depth:0,inlineStyleRanges:[],key:"abcd"},u=r.convertFromRaw({blocks:[l],entityMap:i});return r.EditorState.createWithContent(u,e)})}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=n(1290      ),r=n(1291            );e.addMention=((t,e)=>{const n=t.getCurrentContent().createEntity("MENTION","IMMUTABLE",{mention:e}).getLastCreatedEntityKey(),o=r.findMatch(t);return c(t,o,n,e.handle)}),e.addEmoji=((t,e)=>{const n=t.getCurrentContent().createEntity("EMOJI","IMMUTABLE",{emoji:e}).getLastCreatedEntityKey(),o=r.findMatch(t);return c(t,o,n,e.colons)}),e.selectAll=(t=>{const e=t.getSelection(),n=t.getCurrentContent(),r=n.getFirstBlock(),c=n.getLastBlock(),i=e.merge({anchorKey:r.getKey(),anchorOffset:0,focusKey:c.getKey(),focusOffset:c.getLength()});return o.EditorState.forceSelection(t,i)});const c=(t,e,n,r)=>{const c=t.getSelection(),i=t.getCurrentContent();let{start:s,end:g}=e,a=c;null!=s&&null!=g&&(a=c.merge({anchorOffset:s,focusOffset:g}));let f=o.Modifier.replaceText(i,a,r,void 0,n);const l=f.getSelectionAfter(),d=f.getLastBlock();d.getKey()===l.getStartKey()&&d.getKey()===l.getEndKey()&&d.getLength()===l.getStartOffset()&&d.getLength()===l.getEndOffset()&&(f=o.Modifier.replaceText(f,l," ",void 0,void 0));const u=o.EditorState.push(t,f,"insert-fragment");return o.EditorState.forceSelection(u,f.getSelectionAfter())}}),
(function(e,t,a){e.exports={"DraftEditor-editorContainer":"editable_typeahead--DraftEditor-editorContainer--1aL1H","DraftEditor-root":"editable_typeahead--DraftEditor-root--296DT","public-DraftEditor-content":"editable_typeahead--public-DraftEditor-content--31uqN","public-DraftEditor-block":"editable_typeahead--public-DraftEditor-block--3WEb5","DraftEditor-alignLeft":"editable_typeahead--DraftEditor-alignLeft--1opeq","public-DraftStyleDefault-block":"editable_typeahead--public-DraftStyleDefault-block--1uAfh","public-DraftEditorPlaceholder-root":"editable_typeahead--public-DraftEditorPlaceholder-root--wmjEA","DraftEditor-alignCenter":"editable_typeahead--DraftEditor-alignCenter--1-n8t","DraftEditor-alignRight":"editable_typeahead--DraftEditor-alignRight--iS7Oe","public-DraftEditorPlaceholder-hasFocus":"editable_typeahead--public-DraftEditorPlaceholder-hasFocus--qvFRm","DraftEditorPlaceholder-hidden":"editable_typeahead--DraftEditorPlaceholder-hidden--2Q89d","public-DraftStyleDefault-ltr":"editable_typeahead--public-DraftStyleDefault-ltr--1RL5T","public-DraftStyleDefault-rtl":"editable_typeahead--public-DraftStyleDefault-rtl--37w1P","public-DraftStyleDefault-listLTR":"editable_typeahead--public-DraftStyleDefault-listLTR--9YU1o","public-DraftStyleDefault-listRTL":"editable_typeahead--public-DraftStyleDefault-listRTL--2aRXX","public-DraftStyleDefault-ol":"editable_typeahead--public-DraftStyleDefault-ol--1q5sL","public-DraftStyleDefault-ul":"editable_typeahead--public-DraftStyleDefault-ul--32O7C","public-DraftStyleDefault-depth0":"editable_typeahead--public-DraftStyleDefault-depth0--2eGoY","public-DraftStyleDefault-depth1":"editable_typeahead--public-DraftStyleDefault-depth1--3PxBR","public-DraftStyleDefault-depth2":"editable_typeahead--public-DraftStyleDefault-depth2--3wiQc","public-DraftStyleDefault-depth3":"editable_typeahead--public-DraftStyleDefault-depth3--3AGGZ","public-DraftStyleDefault-depth4":"editable_typeahead--public-DraftStyleDefault-depth4--2XLem","public-DraftStyleDefault-unorderedListItem":"editable_typeahead--public-DraftStyleDefault-unorderedListItem--fAzTJ","public-DraftStyleDefault-orderedListItem":"editable_typeahead--public-DraftStyleDefault-orderedListItem--2m2Ym","public-DraftStyleDefault-reset":"editable_typeahead--public-DraftStyleDefault-reset--8u_yp",wrapperBase:"editable_typeahead--wrapperBase--IpgDP",wrapperDefault:"editable_typeahead--wrapperDefault--3w757",mention:"editable_typeahead--mention--3NYwP",emoji:"editable_typeahead--emoji--3A0nO"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(1290      ),i=s(2,1    ),a=s(6,1        ),n=s(1141                 ),r=s(1292                ),h=s(1291            ),p=s(692                                 ),d=s(1134                              ),c=s(1293                      ),l=s(86            );e.decorator=new o.CompositeDecorator([{strategy:h.filterMentionEntities,component:t=>i.createElement("span",{className:c.mention,spellCheck:!1},t.children)},{strategy:h.filterEmojiEntities,component:t=>i.createElement("span",{className:c.emoji,spellCheck:!1},t.children)}]);class g extends i.Component{constructor(t){super(t),this.ref=(t=>{t&&!this.editorEl&&(this.editorEl=a.findDOMNode(t),this.props.onUpdateTextArea(this.editorEl))}),this.onChange=(t=>{const e=this.state.editorState;this.setState({editorState:t});const s=t.getSelection(),o=e.getCurrentContent(),i=t.getCurrentContent();s.isCollapsed()&&o!==i?(this.onEditorContentChange(t),this.editorEl&&this.props.onUpdateTextArea(this.editorEl)):this.clearTypeahead()}),this.onEditorContentChange=(t=>{const e=h.editorStateToMessageMeta(t);this.lastMessageMeta=e,this.props.updateMessage(e);const{search:s,type:o}=h.findMatch(t);null!=s?"MENTION"===o?this.onMentionSearchChange(s):"EMOJI"===o&&this.onEmojiSearchChange(s):this.clearTypeahead()}),this.hasSuggestions=(()=>!!this.props.typeahead),this.insertMention=(t=>{const e=r.addMention(this.state.editorState,t);this.onChange(e)}),this.insertEmoji=(t=>{const e=r.addEmoji(this.state.editorState,t);this.onChange(e)}),this.onInsert=(()=>{const t=this.props.typeahead;t&&"mentions"===t.type&&t.mentions[t.index]?this.insertMention(t.mentions[t.index]):t&&"emojis"===t.type&&t.emojis[t.index]&&this.insertEmoji(t.emojis[t.index])}),this.assignHandlers=(()=>{this.props.assignHandlers(this.onInsert,this.clearTypeahead)}),this.onMentionSearchChange=l.debounce(async t=>{this.props.dispatch(p.comments.setTypeahead(await d.mentionsTypeahead(t,this.props.mentionables)))},160),this.onEmojiSearchChange=(t=>{this.props.dispatch(p.comments.setTypeahead(d.emojiTypeahead(t)))}),this.clearTypeahead=(()=>{this.hasSuggestions()&&this.props.dispatch(p.comments.setTypeahead(null))}),this.focus=(()=>{this.state.editorState.getSelection().getHasFocus()?this.props.onFocus():setTimeout(()=>{this.setState({editorState:o.EditorState.moveFocusToEnd(this.state.editorState)}),this.onFocus()},0)}),this.onNavigationKeyDown=(t=>{if(t.stopPropagation(),!this.hasSuggestions())return o.getDefaultKeyBinding(t);t.preventDefault()}),this.handleEscape=(t=>{this.hasSuggestions()||(t.currentTarget.blur(),this.props.onCancel()),t.preventDefault(),t.stopPropagation()}),this.handleReturn=((t,e)=>{t.stopPropagation();const s=this.hasSuggestions(),o=this.state.editorState.getCurrentContent().getPlainText(),i=!!o&&!/^\s+$/.test(o);return(t.metaKey||t.altKey)&&i&&!s?(t.preventDefault(),this.props.onSubmit(),"handled"):s||t.metaKey?(t.preventDefault(),"handled"):"not-handled"}),this.onFocus=(()=>{this.assignHandlers(),this.props.setIsEditorFocused(!0),this.focus()}),this.onBlur=(()=>{this.props.setIsEditorFocused(!1)}),this.onKeyDown=(t=>(t.stopPropagation(),o.getDefaultKeyBinding(t))),this.onMouseDown=(t=>{t.stopPropagation()}),this.onContextMenu=(t=>{t.stopPropagation()}),this.props.messageMeta?this.state={editorState:h.messageMetaToEditorState(this.props.messageMeta,e.decorator)}:this.state={editorState:o.EditorState.createEmpty(e.decorator)},this.lastMessageMeta=this.props.messageMeta}componentDidMount(){if(this.assignHandlers(),this.props.mountFocused){const t=o.EditorState.moveFocusToEnd(this.state.editorState);this.props.setIsEditorFocused(!0),this.onChange(t)}}UNSAFE_componentWillReceiveProps(t){if(!n.messageMetasEqual(t.messageMeta,this.lastMessageMeta)){let s=h.messageMetaToEditorState(t.messageMeta,e.decorator);s=this.state.editorState.getSelection().getHasFocus()?o.EditorState.moveFocusToEnd(s):o.EditorState.moveSelectionToEnd(s),this.onChange(s),this.lastMessageMeta=t.messageMeta}}componentWillUnmount(){this.props.setIsEditorFocused(!1)}render(){let t=c.wrapperBase;return t=this.props.className?t+" "+this.props.className:t+" "+c.wrapperDefault,i.createElement("div",{className:t,onMouseDown:this.onMouseDown,onContextMenu:this.onContextMenu,onClick:this.focus},i.createElement(o.Editor,{editorState:this.state.editorState,placeholder:this.props.placeholderText,onChange:this.onChange,onUpArrow:this.onNavigationKeyDown,onDownArrow:this.onNavigationKeyDown,onLeftArrow:this.onNavigationKeyDown,onRightArrow:this.onNavigationKeyDown,onTab:this.onNavigationKeyDown,onEscape:this.handleEscape,handleReturn:this.handleReturn,keyBindingFn:this.onKeyDown,spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.ref,tabIndex:this.props.tabIndex||0}))}}e.EditableTypeahead=g,g.displayName="EditableTypeahead"}),
(function(t,e,n){t.exports={_threadElement:"thread_comment--_threadElement--1My4B text--fontPos11--RSei3 text--_fontBase--YWDo0",threadElementNewAuthor:"thread_comment--threadElementNewAuthor--2vPDJ thread_comment--_threadElement--1My4B text--fontPos11--RSei3 text--_fontBase--YWDo0",threadElementSameAuthor:"thread_comment--threadElementSameAuthor--2A40p thread_comment--_threadElement--1My4B text--fontPos11--RSei3 text--_fontBase--YWDo0",threadSubelement:"thread_comment--threadSubelement--3JV89",addReactionButton:"thread_comment--addReactionButton--tEk8T",insertEmojiButton:"thread_comment--insertEmojiButton--w2aV0",indentedThreadSubelement:"thread_comment--indentedThreadSubelement--S8Ytv thread_comment--threadSubelement--3JV89",reactionsContainer:"thread_comment--reactionsContainer--1x3Zb",composeActionsContainer:"thread_comment--composeActionsContainer--1zGAY",continuingAuthor:"thread_comment--continuingAuthor--32QE9",leftJustified:"thread_comment--leftJustified--2YXih",rightJustified:"thread_comment--rightJustified--3e5GP",authorAvatar:"thread_comment--authorAvatar--2TpfU",headerLabel:"thread_comment--headerLabel--246GT text--fontPos13--1DoEt text--_fontBase--YWDo0",authorHandle:"thread_comment--authorHandle--1tAwd thread_comment--headerLabel--246GT text--fontPos13--1DoEt text--_fontBase--YWDo0",grayLabel:"thread_comment--grayLabel--1mPAg thread_comment--headerLabel--246GT text--fontPos13--1DoEt text--_fontBase--YWDo0",link:"thread_comment--link--37Zby blue_link--blueLink--22X56",iconButtonSpace:"thread_comment--iconButtonSpace--onBGa",textButton:"thread_comment--textButton--ZKidi",editingFrame:"thread_comment--editingFrame--1r07A",readingFrame:"thread_comment--readingFrame--3TKNQ",text:"thread_comment--text--3gPNU text--fontPos13--1DoEt text--_fontBase--YWDo0"}}),
(function(c,t,e){c.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M23 16c0 3.866-3.134 7-7 7-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7zm1 0c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8zm-8 4c-1.864 0-3.43-1.275-3.874-3h1.045c.412 1.165 1.523 2 2.829 2 1.306 0 2.417-.835 2.83-2h1.044c-.444 1.725-2.01 3-3.874 3zm3.5-5.875c0 .483-.392.875-.875.875-.483 0-.875-.392-.875-.875 0-.483.392-.875.875-.875.483 0 .875.392.875.875zM13.125 15c.483 0 .875-.392.875-.875 0-.483-.392-.875-.875-.875-.483 0-.875.392-.875.875 0 .483.392.875.875.875z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),o=s(141              ),a=s(1141                 ),n=s(138      ),r=s(111          ),p=s(214         ),c=s(692                                 ),m=s(232                       ),h=s(147                                            ),d=s(148                                  ),l=s(689                        ),u=s(1294                                          ),g=s(483                                                                  ),f=s(475                            ),b=s(492                                  ),E=s(1295                  ),v=s(1296                               );class y extends o.Component{constructor(){super(...arguments),this.state={editing:this.props.mountFocused||!1},this.editorRef=i.createRef(),this.emojiButtonRef=i.createRef(),this.focusEditor=(()=>{this.editorRef.current&&this.editorRef.current.focus()}),this.onFocus=(()=>{this.state.editing||this.setState({editing:!0},()=>{this.props.onEditStart&&this.props.onEditStart()})}),this.onSubmitButton=(e=>{e.preventDefault(),this.props.assignHandlers(null,this.focusEditor),this.onSubmit()}),this.onSubmit=(()=>{this.props.isDisabled||this.props.onSubmit()}),this.onCancel=(()=>{this.setState({editing:!1}),this.props.onCancel()}),this.onKeyDown=(e=>{e.keyCode!==n.Key.ESCAPE||this.props.typeahead||this.props.dispatch(c.comments.deactivateActiveComment())}),this.handleUpdateTextAreaPosition=(e=>{const{threadPosition:t}=this.props;if(null==t)return;const{left:s,top:i,height:o}=e.getBoundingClientRect(),a=this.props.viewportPositionFromClientPosition(new p.Vector(s,i+o)),n=p.Vector.subtract(a,t);this.props.dispatch(c.comments.setTypeaheadPositionOffset(n))}),this.onUpdate=o.otherEvent(this,"update",e=>{this.props.updateMessage(e)}),this.onMouseDownEmojiButton=(e=>{e.stopPropagation()}),this.onClickEmojiButton=(e=>{var t;const{threadPosition:s}=this.props;if(null==s)return;const i=this.props.viewportPositionFromClientPosition(new p.Vector(e.clientX,e.clientY)),o=p.Vector.subtract(i,s);i.y<420&&(o.y+=424),r.segment&&r.segment.track("Emoji Picker Opened"),this.props.assignHandlers(this.focusEditor,null);const a=null===(t=this.emojiButtonRef.current)||void 0===t?void 0:t.getBoundingClientRect();a&&this.props.dispatch(c.comments.setEmojiPicker({visible:!0,pickerType:l.EmojiPickerType.FULL,targetRect:a}))}),this.isSubmitDisabled=(e=>!!this.props.isDisabled||(!(e=e||a.messageMetaToTextString(this.props.messageMeta))||/^\s+$/.test(e)))}render(){const e=a.messageMetaToTextString(this.props.messageMeta),t=this.isSubmitDisabled(e),s=this.props.showHeader?E.indentedThreadSubelement:E.threadSubelement,n=this.props.showHeader&&!this.props.authorChanged?E.threadElementSameAuthor:E.threadElementNewAuthor;return i.createElement("div",{className:n},i.createElement(d.TabLoop,null,this.state.editing&&this.props.showHeader&&(this.props.authorChanged?i.createElement("div",{className:E.threadSubelement},i.createElement("div",{className:E.leftJustified},i.createElement(f.Avatar,{entity:this.props.user,size:26,className:E.authorAvatar}),i.createElement("span",{className:E.authorHandle},this.props.user.handle))):i.createElement("div",{className:E.indentedThreadSubelement},i.createElement("div",{className:E.leftJustified},i.createElement(b.FromNow,{className:E.grayLabel,date:this.props.createdAt})))),i.createElement("div",{className:s},i.createElement(u.EditableTypeahead,{ref:this.editorRef,dispatch:this.props.dispatch,typeahead:this.props.typeahead,mentionables:this.props.mentionables,onUpdateTextArea:this.handleUpdateTextAreaPosition,onKeyDown:this.onKeyDown,onSubmit:this.onSubmit,onFocus:this.onFocus,onCancel:this.onCancel,assignHandlers:this.props.assignHandlers,updateMessage:this.onUpdate,messageMeta:this.props.messageMeta,className:E.text,placeholderText:this.props.placeholderText,mountFocused:this.props.mountFocused,setIsEditorFocused:this.props.setIsEditorFocused})),this.state.editing&&i.createElement("div",{className:`${E.composeActionsContainer} ${s}`},i.createElement("div",{className:E.leftJustified},i.createElement(h.ButtonPrimary,{className:E.textButton,onClick:t?void 0:this.onSubmitButton,disabled:t,recordingKey:o.joinKeys(this.props,"submit")},this.props.submitText),i.createElement(h.ButtonSecondary,{className:E.textButton,onClick:this.onCancel,recordingKey:o.joinKeys(this.props,"cancel")},"Cancel")),i.createElement("div",{className:E.rightJustified},i.createElement("div",{ref:this.emojiButtonRef,className:E.insertEmojiButton},i.createElement(g.IconButton,{onClick:this.onClickEmojiButton,onMouseDown:this.onMouseDownEmojiButton,svg:v,"data-tooltip-type":m.TooltipType.TEXT,"data-tooltip":"Add Emoji",disabled:this.props.isEmojiPickerDisabled}))))))}}t.ThreadCommentComposer=y,y.displayName="ThreadCommentComposer"}),
(function(e,m,s){e.exports={commentMessage:"comment_message--commentMessage--3YBcJ",emoji:"comment_message--emoji--1-b73",emojiSmall:"comment_message--emojiSmall--YDntT comment_message--commentMessage--3YBcJ comment_message--emoji--1-b73",defaultMessage:"comment_message--defaultMessage--3oqNg text--fontPos11--RSei3 text--_fontBase--YWDo0",linkified:"comment_message--linkified--hnHu6",mention:"comment_message--mention--3XZxJ"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),m=s(43,1         ),l=s(459                          ),n=s(1141                 ),r=s(843              ),c=s(1298                   );t.CommentMessage=(e=>{const t=m.useSelector(l.getOrgPathPart),s=n.messageMetaToElement(e.messageMeta,c.mention,t),i=e.className||c.defaultMessage;return a.createElement("div",{className:c.emojiSmall+" "+i},a.createElement(r.default,{options:{target:"_blank",attributes:{rel:"noopener"},className:c.linkified}},s))}),t.CommentMessage.displayName="CommentMessage"}),
(function(t,e,o){t.exports={reaction:"reactions--reaction--2Kwa2 text--fontPos11--RSei3 text--_fontBase--YWDo0",emoji:"reactions--emoji--STiRm",count:"reactions--count--1QMll",selectedReaction:"reactions--selectedReaction--20zd_ reactions--reaction--2Kwa2 text--fontPos11--RSei3 text--_fontBase--YWDo0",reactionList:"reactions--reactionList--3hQ4s",addReaction:"reactions--addReaction--2qjTg"}}),
(function(h,v,c){h.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M19 22.326c-.91.432-1.926.674-3 .674-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7 0 .695-.101 1.366-.29 2h1.038c.165-.64.252-1.31.252-2 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8 1.06 0 2.074-.206 3-.581v-1.093zM18.625 15c.483 0 .875-.392.875-.875 0-.483-.392-.875-.875-.875-.483 0-.875.392-.875.875 0 .483.392.875.875.875zM14 14.125c0 .483-.392.875-.875.875-.483 0-.875-.392-.875-.875 0-.483.392-.875.875-.875.483 0 .875.392.875.875zM12.126 17c.444 1.725 2.01 3 3.874 3 1.864 0 3.43-1.275 3.874-3h-1.045c-.412 1.165-1.523 2-2.829 2-1.306 0-2.418-.835-2.83-2h-1.044zM23 19h1v3h3v1h-3v3h-1v-3h-3v-1h3v-3z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(2,1    ),a=o(123         ),n=o(1140                 ),c=o(232                       ),s=o(483                                                                  ),l=o(1300             ),r=o(1301                               );t.ReactionButton=(e=>{const t=n.aliasesToUnified(e.reaction.emoji)[0],o=Math.max(0,e.reaction.users.length-40);let s=e.reaction.users.slice(0,40);o>0&&s.push(a.pluralize(o,"other"));let r=a.joinWordsNaturally(s);const d=e.reaction.description||t.meta&&`:${t.meta}:`;d&&(r+=`\nreacted with ${d}`);const m=n.unifiedToPNG(t.text);return i.createElement("div",{className:e.reaction.selected?l.selectedReaction:l.reaction,"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":r,onClick:e.onClick},t.meta?i.createElement("img",{className:l.emoji,src:m}):e.reaction.emoji,i.createElement("span",{className:l.count},e.reaction.users.length))}),t.AddReactionButton=(e=>i.createElement(s.IconButton,{svg:r,"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Add reaction",onClick:e.onClick,selected:e.selected,className:l.addReaction})),t.ReactionButtonList=(e=>i.createElement("div",{className:l.reactionList},e.reactions.map(o=>i.createElement(t.ReactionButton,{key:o.emoji,reaction:o,onClick:t=>e.onClickExisting(o,t)})),e.children))}),
(function(o,t,i){o.exports={src:'<svg width="12" height="6" viewBox="0 0 12 6" xmlns="http://www.w3.org/2000/svg"><path d="M3.122 2.996c0 .622-.504 1.126-1.126 1.126-.622 0-1.126-.504-1.126-1.126 0-.622.504-1.126 1.126-1.126.622 0 1.126.504 1.126 1.126zm4 0c0 .622-.505 1.126-1.127 1.126-.622 0-1.126-.504-1.126-1.126 0-.622.504-1.126 1.126-1.126.622 0 1.126.504 1.126 1.126zm4 0c0 .622-.504 1.126-1.126 1.126-.622 0-1.126-.504-1.126-1.126 0-.622.504-1.126 1.126-1.126.622 0 1.126.504 1.126 1.126z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8c0 3.866-3.134 7-7 7-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7zm1 0c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8zM5.307 7.693L4.6 8.4l2.475 2.475 4.596-4.596-.707-.707-3.89 3.889-1.767-1.768z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zM5.307 7.693L4.6 8.4l2.475 2.475 4.596-4.596-.707-.707-3.89 3.889-1.767-1.768z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),i=s(6,1        ),n=s(43,1         ),a=s(85                   ),r=s(105        ),m=s(691                     ),p=s(113                                     ),c=s(692                                 ),l=s(469                                          ),d=s(1139                                          ),h=s(689                        ),u=s(232                       ),g=s(492                                  ),_=s(1297                                                                        ),E=s(1299                                                                 ),v=s(521                                                                 ),C=s(1302                                   ),f=s(483                                                                  ),T=s(475                            ),y=s(1295                  ),M=s(1303                             ),O=s(1304                          ),w=s(1305                                 );class N extends o.Component{constructor(){super(...arguments),this.state={hover:!1},this.onMouseOver=(e=>{this.setState({hover:!0})}),this.onMouseOut=(e=>{this.setState({hover:!1})}),this.dropdownTargetRef=o.createRef(),this.updateMessage=(e=>{this.props.dispatch(c.comments.setEditing({id:this.props.comment.id,key:this.props.comment.key,messageMeta:e}))}),this.onCancel=(()=>{this.props.dispatch(c.comments.stopEditing())}),this.onClickOverflow=(e=>{if(!this.props.dropdownShown||this.props.dropdownShown.type!==t.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU){e.stopPropagation();const s=i.findDOMNode(this.dropdownTargetRef.current);this.props.dispatch(p.fileBrowser.showDropdown({type:t.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU,data:{comment:this.props.comment,confirmDelete:this.props.confirmDelete,parentRect:s?s.getBoundingClientRect():null}}))}}),this.onClickResolve=(()=>{this.props.dispatch(c.comments.setResolved({thread:this.props.thread,resolved:!this.props.comment.resolved_at}))}),this.stopPropagation=(e=>e.stopPropagation())}render(){const e=!!a.getFeatureFlags().comment_reactions,t=this.props.comment,s=t.reactions&&t.reactions.length>0,i=this.props.prevAuthor!==t.user_id;if(this.props.editingComment&&this.props.editingComment.id===t.id){const{messageMeta:e}=this.props.editingComment,s=()=>{this.props.dispatch(c.comments.setMessageMeta({comment:t,messageMeta:e}))};return o.createElement(_.ThreadCommentComposer,{dispatch:this.props.dispatch,user:this.props.user,typeahead:this.props.typeahead,mentionables:this.props.mentionables,messageMeta:e,submitText:"Save",placeholderText:"Comment",showHeader:!0,authorChanged:i,createdAt:t.created_at,onCancel:this.onCancel,onSubmit:()=>this.props.submitComment(s,e),assignHandlers:this.props.assignHandlers,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,isDisabled:!1,mountFocused:!0,updateMessage:this.updateMessage,threadPosition:this.props.threadPosition,setIsEditorFocused:this.props.setIsEditorFocused,recordingKey:"editCommentComposer"})}return o.createElement("div",{className:i?y.threadElementNewAuthor:y.threadElementSameAuthor,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut},o.createElement("div",{className:y.threadSubelement},i&&o.createElement("div",{className:y.leftJustified},o.createElement(T.Avatar,{entity:t.user,size:26,className:y.authorAvatar}),o.createElement("span",{className:y.authorHandle},t.user.handle),o.createElement(g.FromNow,{className:y.grayLabel,date:t.created_at})),!i&&o.createElement("div",{className:y.continuingAuthor},o.createElement(g.FromNow,{className:y.grayLabel,date:t.created_at})),o.createElement("div",{className:y.rightJustified},(t.user_id===this.props.user.id||!t.parent_id)&&o.createElement(f.IconButton,{svg:M,onClick:this.onClickOverflow,ref:this.dropdownTargetRef,"data-tooltip-type":u.TooltipType.TEXT,"data-tooltip":"Comment Actions"}),0===this.props.index&&o.createElement(f.IconButton,{svg:t.resolved_at?w:O,"data-tooltip-type":u.TooltipType.TEXT,"data-tooltip":t.resolved_at?"Unresolve":"Resolve",onClick:this.onClickResolve}))),o.createElement("div",{onMouseDown:this.stopPropagation,className:y.indentedThreadSubelement,tabIndex:1},o.createElement(E.CommentMessage,{messageMeta:t.message_meta,className:y.text}),e&&o.createElement("div",{className:y.addReactionButton},o.createElement(D,{comment:this.props.comment,currentUser:this.props.user,hideUnlessSelected:!this.state.hover})),!e&&o.createElement("div",{className:y.iconButtonSpace})),e&&s&&o.createElement("div",{className:y.reactionsContainer},o.createElement(R,{comment:this.props.comment,currentUser:this.props.user},o.createElement(D,{comment:this.props.comment,currentUser:this.props.user}))))}}t.ThreadComment=N,N.displayName="ThreadComment",t.groupReactions=((e,t)=>{r.sortByDateFn(e,e=>e.sort_timestamp,!0);let s=[];const o=e.reduce((e,t)=>(e[t.emoji]||(s.push(t.emoji),e[t.emoji]=[]),e[t.emoji].push(t),e),Object.create(null));return s.map(e=>{const s=o[e].filter(e=>e.user_id===t),i=s.length>1?s[0]:null;return{emoji:e,users:o[e].filter(e=>e!==i).map((e,s)=>e.user_id===t?0===s?"You":"you":e.user.handle),selected:s.length>0,description:m.getReactionEmojiDescription(e)}})});const R=e=>{const s=n.useDispatch(),i=t.groupReactions(e.comment.reactions,e.currentUser.id);return o.createElement(C.ReactionButtonList,{reactions:i,onClickExisting:(t,o)=>{o.stopPropagation(),s(c.comments.toggleCommentReaction({comment:e.comment,emoji:t.emoji}))}},e.children)},D=e=>{const t=n.useDispatch(),[s,i]=o.useState(!1),a=s=>{r(),t(c.comments.toggleCommentReaction({comment:e.comment,emoji:s.colons}))},r=()=>{i(!1),t(c.comments.setEmojiPicker({visible:!1}))};return o.createElement("div",{style:{visibility:e.hideUnlessSelected&&!s?"hidden":"visible"}},o.createElement(C.AddReactionButton,{onClick:e=>{e.stopPropagation(),i(!0),t(c.comments.setEmojiPicker({visible:!0,pickerType:h.EmojiPickerType.REACTIONS,targetRect:e.currentTarget.getBoundingClientRect(),onPick:a,onCancel:r}))},selected:s}))};t.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU="DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU";class P extends o.PureComponent{constructor(){super(...arguments),this.onSelectItem=((e,t)=>{e.displayText.includes("Edit")?this.editComment():e.displayText.includes("Delete")?this.deleteComment():e.displayText.includes("Copy Link")&&this.copyLink()}),this.editComment=(()=>{const{id:e,key:t,message_meta:s}=this.props.comment;this.props.dispatch(c.comments.setEditing({id:e,key:t,messageMeta:s}))}),this.deleteComment=(()=>{this.props.confirmDelete?this.props.dispatch(p.fileBrowser.showModal({type:d.CONFIRM_COMMENT_DELETION_MODAL,data:{comment:this.props.comment}})):this.props.dispatch(c.comments.setDeleted({comment:this.props.comment}))}),this.copyLink=(()=>{this.props.dispatch(l.copyToClipboard.copyLink({url:m.getUrl(this.props.comment,this.props.linkToPrototype)}))})}render(){const e=[{displayText:"Copy Link"}],t=[{displayText:"Edit..."},{displayText:this.props.confirmDelete?"Delete Thread...":"Delete Comment"}];let s=[];return this.props.comment.parent_id||(s=s.concat(e)),this.props.comment.user_id===this.props.currentUser.id&&(s=s.concat(t)),o.createElement(v.MultilevelDropdown,{dispatch:this.props.dispatch,items:s,showPoint:!0,parentRect:this.props.parentRect,onSelectItem:this.onSelectItem,minWidth:96,recordingKey:"commentOverflowMenu"})}}t.ThreadCommentOverflowMenu=P,P.displayName="CommentOverflowMenu"}),
(function(e,t,n){e.exports={translatedThreadContainer:"thread_container--translatedThreadContainer--idGBg",threadContainer:"thread_container--threadContainer--2AW4o text--fontPos11--RSei3 text--_fontBase--YWDo0 overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54","comments-fade-in":"thread_container--comments-fade-in--rJe8S"}}),
(function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=s(2,1    ),i=s(420              ),r=s(214         ),n=s(297                              ),h=s(113                                     ),a=s(692                                 ),p=s(689                        ),d=s(1307                    ),c=s(422                                        ),l=s(101                             ),m=15,u=i.pxToInt(c.commentThreadOuterMargin),f=i.pxToInt(c.toolbarHeight);class P extends e.Component{constructor(){super(...arguments),this.containerRef=(t=>{t&&(this.container=t)}),this.adjustPositionAndScrollToBottom=((t=!1)=>{if(!this.container||!this.props.thread.threadPosition||!this.props.thread.anchorPosition)return;const o=2*f,s=this.props.thread.threadPosition.y+o;let e=null;if(s+this.container.offsetHeight>window.innerHeight-m){let t=window.innerHeight-o-this.container.offsetHeight-m;e={x:this.props.thread.threadPosition.x,y:t}}else!t&&s<o+m&&(e={x:this.props.thread.threadPosition.x,y:m});e&&this.props.dispatch(a.comments.setThreadOffset({threadId:this.props.thread.id,offset:r.Vector.subtract(e,this.props.thread.anchorPosition)})),this.scrollToBottom()}),this.scrollToBottom=(()=>{this.container&&(this.container.scrollTop=this.container.scrollHeight)}),this.drag=null,this.onMouseDown=(t=>{if(t.stopPropagation(),!this.props.thread.threadPosition)return;const o=this.props.viewportPositionFromClientPosition(new r.Vector(t.clientX,t.clientY));let s=!1;o.x>this.props.thread.threadPosition.x&&o.x<this.props.thread.threadPosition.x+u?s=!0:o.y>this.props.thread.threadPosition.y&&o.y<this.props.thread.threadPosition.y+u&&(s=!0),s&&(this.drag={startPosition:o,mouseOffset:r.Vector.subtract(this.props.thread.threadPosition,o)},n.on("mousemove",this.onMouseMove),n.on("mouseup",this.onMouseUp))}),this.onMouseMove=(t=>{if(!this.drag||!this.props.thread.anchorPosition)return;const o=r.Vector.add(t,this.drag.mouseOffset),s=r.Vector.subtract(o,this.props.thread.anchorPosition);this.props.dispatch(a.comments.setThreadOffset({threadId:this.props.thread.id,offset:s}))}),this.onMouseUp=(()=>{this.drag&&(this.drag=null,n.off("mousemove",this.onMouseMove),n.off("mouseup",this.onMouseUp))}),this.hideDropdown=(()=>{this.props.dispatch(h.fileBrowser.hideDropdown())})}componentDidMount(){this.adjustPositionAndScrollToBottom()}componentDidUpdate(t){const o=this.props.thread.id;if(o!==t.thread.id)this.adjustPositionAndScrollToBottom();else if(o!==p.NEW_COMMENT_ID){const o=this.props.thread,s=t.thread;this.props.thread.comments.length===t.thread.comments.length&&o.replyMessageMeta===s.replyMessageMeta||this.adjustPositionAndScrollToBottom(!0)}}componentWillUnmount(){n.off("mousemove",this.onMouseMove),n.off("mouseup",this.onMouseUp)}render(){if(!this.props.thread.threadPosition)return null;const t=`translate(${this.props.thread.threadPosition.x}px, ${this.props.thread.threadPosition.y}px)`;let o={transform:t,WebkitTransform:t};return e.createElement("div",{style:o,className:`${d.translatedThreadContainer} ${l.PREVENT_EVENT_CAPTURE}`,onMouseDown:this.onMouseDown,onMouseMove:t=>{const{x:o,y:s}=this.props.viewportPositionFromClientPosition(new r.Vector(t.clientX,t.clientY));n.handleMouseMove(o,s)},onMouseUp:t=>{const{x:o,y:s}=this.props.viewportPositionFromClientPosition(new r.Vector(t.clientX,t.clientY));n.handleMouseUp(o,s)}},e.createElement("div",{ref:this.containerRef,className:d.threadContainer,onClick:this.hideDropdown},this.props.children))}}o.ThreadContainer=P,P.displayName="ThreadContainer"}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2,1    ),o=s(691                     ),n=s(692                                 ),p=s(689                        ),r=s(1306                                                               ),a=s(1297                                                                        ),m=s(1308                                                                   );class h extends i.Component{constructor(){super(...arguments),this.dispatchSubmitReply=(()=>{this.props.dispatch(n.comments.submitReply({threadId:this.props.thread.id}))}),this.onSubmitReply=(()=>{this.props.submitComment(this.dispatchSubmitReply,this.props.thread.replyMessageMeta)}),this.onEditStart=(()=>{this.updateMessage([])}),this.cancelReply=(()=>{this.updateMessage([]),this.props.dispatch(n.comments.stopEditing())}),this.updateMessage=(t=>{this.props.dispatch(n.comments.setReplyMessage({threadId:this.props.thread.id,messageMeta:t}))})}render(){const t=o.convertToCommentThreadInfoWithPosition(this.props.viewportInfo,this.props.thread),{threadPosition:e,comments:s,state:n,replyMessageMeta:h}=this.props.thread;return null==e?null:i.createElement(m.ThreadContainer,{thread:t,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,dispatch:this.props.dispatch},s.map((e,o)=>i.createElement(r.ThreadComment,{key:`thread-comment-${e.id}`,dispatch:this.props.dispatch,user:this.props.user,thread:t,comment:e,typeahead:this.props.comments.typeahead,mentionables:this.props.mentionables,prevAuthor:0===o?null:s[o-1].user_id,index:o,confirmDelete:!e.parent_id&&s.length>1,editingComment:this.props.comments.editingComment,dropdownShown:this.props.dropdownShown,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,submitComment:this.props.submitComment,assignHandlers:this.props.assignHandlers,threadPosition:t.threadPosition,setIsEditorFocused:this.props.setIsEditorFocused})),i.createElement(a.ThreadCommentComposer,{dispatch:this.props.dispatch,user:this.props.user,typeahead:this.props.comments.typeahead,mentionables:this.props.mentionables,threadPosition:e,messageMeta:h,submitText:"Reply",placeholderText:"Reply",showHeader:!1,onCancel:this.cancelReply,onSubmit:this.onSubmitReply,onEditStart:this.onEditStart,assignHandlers:this.props.assignHandlers,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,isDisabled:n===p.CommentStatus.BUSY||!!this.props.comments.editingComment,mountFocused:0!=h.length,updateMessage:this.updateMessage,setIsEditorFocused:this.props.setIsEditorFocused,isEmojiPickerDisabled:!!this.props.comments.editingComment,recordingKey:"replyCommentComposer"}))}}e.ActiveThread=h,h.displayName="ActiveThread"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),i=s(692                                 ),n=s(689                        ),a=s(1138                                               ),r=s(1308                                                                   ),p=s(1297                                                                        );class m extends o.Component{constructor(){super(...arguments),this.updateMessage=(e=>{this.props.dispatch(i.comments.setNewCommentMessage({messageMeta:e}))}),this.submit=(()=>{this.props.onSubmit()}),this.onCancel=(()=>{this.props.dispatch(i.comments.setNewCommentMessage({messageMeta:[]})),this.props.dispatch(i.comments.deactivateActiveComment())})}render(){const{thread:e}=this.props;return o.createElement("div",null,o.createElement(a.NewCommentAnchor,{thread:this.props.thread,pageId:this.props.pageId,viewportInfo:this.props.viewportInfo,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition}),o.createElement(r.ThreadContainer,{thread:e,dispatch:this.props.dispatch,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition},o.createElement(p.ThreadCommentComposer,{dispatch:this.props.dispatch,user:this.props.user,typeahead:this.props.typeahead,mentionables:this.props.mentionables,threadPosition:e.threadPosition,messageMeta:e.messageMeta,submitText:"Post",placeholderText:"Add a comment",showHeader:!1,onSubmit:this.submit,onCancel:this.onCancel,assignHandlers:this.props.assignHandlers,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,isDisabled:e.state===n.CommentStatus.BUSY,mountFocused:!0,updateMessage:this.updateMessage,setIsEditorFocused:this.props.setIsEditorFocused,recordingKey:"newCommentComposer"})))}}t.NewComment=m,m.displayName="NewComment"}),
(function(n,o,e){n.exports={commentsContainer:"comments_view_overlay--commentsContainer--2FdIC",anchorBase:"comments_view_overlay--anchorBase--19pRi",anchorContainer:"comments_view_overlay--anchorContainer--1yY3n",anchorIcon:"comments_view_overlay--anchorIcon--3mDCA anchor--anchorIcon--1heCz comments_view_overlay--anchorBase--19pRi",anchorLabel:"comments_view_overlay--anchorLabel--2TxYq anchor--anchorLabel--2psAQ comments_view_overlay--anchorBase--19pRi",anchorContainerActive:"comments_view_overlay--anchorContainerActive--2O1G0 comments_view_overlay--anchorContainer--1yY3n",anchorContainerResolve:"comments_view_overlay--anchorContainerResolve--2rSrf comments_view_overlay--anchorContainer--1yY3n"}}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=t(2,1    ),n=t(420              ),i=t(297                              ),a=t(691                     ),r=t(1136                  ),c=t(1138                                               ),m=t(227                                ),l=t(422                                        ),v=t(1311                         ),p=t(43,1         ),u=(e,o,t,n)=>s.useMemo(()=>m.canvasDimensionToViewport(e,o,t,n),[n,t,o,e]),d=s.memo(e=>{const{left:o,top:t}=e.bounds,{x:n,y:r}=e.position,l=s.useMemo(()=>Object.assign({top:r-t,left:n-o,transform:"translate(0px, 0px)",transformOrigin:"top left"},e.scaling),[e.scaling,t,o,n,r]),u=s.useMemo(()=>{return{active:e.thread.comments.some(e=>e.isUnread),resolved:Boolean(e.thread.comments[0].resolved_at),label:e.thread.comments[0].order_id||""}},[e.thread]),d=e.viewport,f=s.useCallback((e,o)=>{const t=m.canvasPositionToViewport(d.current,{x:n,y:r}),s=t.x+o.x,i=t.y+o.y,a={x:e.x+s,y:e.y+i};return m.viewportPositionToCanvas(d.current,a)},[d,n,r]),P=s.useCallback(e=>{const o=i.getValidCommentsRect(),t=m.canvasPositionToViewport(d.current,e);return a.canPlaceCommentAtViewportPosition(t,o)},[d]),y=p.useDispatch();return s.createElement("div",{style:l,className:v.anchorContainer},s.createElement(c.CommentAnchor,Object.assign({pageId:e.pageId,thread:e.thread},u,{dispatch:y,viewport:e.viewport,computeDropLocation:f,isInViewport:P,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition})))});d.displayName="OverlayAnchor";const f=[{canvasPosition:{x:0,y:0}},{canvasPosition:{x:0,y:0}},{canvasPosition:{x:0,y:0}},{canvasPosition:{x:0,y:0}}];o.CommentsViewOverlay=(e=>{const o=r.useAsRef(e.viewportInfo),t=s.useMemo(()=>e.threads.filter(e=>e.canvasPosition),[e.threads]),[i,a,c,m]=s.useMemo(()=>{if(0===t.length)return f;return[t.reduce((e,o)=>e.canvasPosition.x>o.canvasPosition.x?e:o),t.reduce((e,o)=>e.canvasPosition.x<o.canvasPosition.x?e:o),t.reduce((e,o)=>e.canvasPosition.y<o.canvasPosition.y?e:o),t.reduce((e,o)=>e.canvasPosition.y>o.canvasPosition.y?e:o)]},[t]),p=e.viewportInfo.width,P=e.viewportInfo.height,y=e.viewportInfo.x,h=e.viewportInfo.y,w=l.leftNavWidth,x=s.useMemo(()=>({right:p+y+n.pxToInt(w),bottom:P+h}),[p,P,y,h,w]),g=s.useMemo(()=>({top:c.canvasPosition.y,left:a.canvasPosition.x,right:x.right-i.canvasPosition.x,bottom:x.bottom-m.canvasPosition.y}),[x,i,a,c,m]),b=((e,o)=>{const{width:t,zoomScale:s,offsetX:n}=o;return u(e.x,n,s,t)})(a.canvasPosition,e.viewportInfo),C=((e,o)=>{const{height:t,zoomScale:s,offsetY:n}=o;return u(e.y,n,s,t)})(c.canvasPosition,e.viewportInfo),I=((e,o)=>{const{x:t,y:n}=o,{left:i,top:a}=e;return s.useMemo(()=>({x:t+-1*i,y:n+-1*a}),[t,n,i,a])})(g,e.viewportInfo),_=e.viewportInfo.zoomScale,M=s.useMemo(()=>`scale(${_})`,[_]),O=s.useMemo(()=>({transform:`scale(${1/_})`}),[_]),V=s.useMemo(()=>{const e=`translate(${b+I.x}px, ${C+I.y}px) ${M}`;return{transform:e,WebkitTransform:e}},[I,b,C,M]);return g&&V?s.createElement("div",{className:v.commentsContainer,style:Object.assign(Object.assign({},g),V)},e.threads.filter(e=>e.canvasPosition).map((t,n)=>s.createElement(d,{pageId:e.pageId,thread:t,key:t.id,bounds:g,position:t.canvasPosition,scaling:O,viewport:o,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition}))):null}),o.CommentsViewOverlay.displayName="CommentsViewOverlay"}),
(function(n,o,t){n.exports={_container:"comments_view--_container--3ZTC5",viewContainer:"comments_view--viewContainer--1Dhm2 comments_view--_container--3ZTC5",outerAnchorContainer:"comments_view--outerAnchorContainer--3sjQa comments_view--_container--3ZTC5",innerAnchorContainer:"comments_view--innerAnchorContainer--Of536 comments_view--_container--3ZTC5",tooltipContainer:"comments_view--tooltipContainer--29V7W",tooltipContent:"comments_view--tooltipContent--3Wby-",tooltipArrow:"comments_view--tooltipArrow--3YohY"}}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(2,1    ),s=t(297                              ),i=t(520                      ),c=t(692                                 ),a=t(691                     ),r=t(43,1         ),m=t(1136                  ),u=t(138      ),l=t(215                                          ),f=t(1313                 ),d=(e,o)=>{const t=((e,o)=>{const t=r.useDispatch(),i=m.useAsRef(o),[u,l]=n.useState(!1),f=n.useCallback(e=>{l(!0)},[l]),d=n.useCallback(o=>{if(!u)return;const n=s.getValidCommentsRect();u&&(e?t(c.comments.deactivateActiveComment()):a.canPlaceCommentAtViewportPosition(o,n)&&(t(c.comments.setNewAnchorPositionFromCanvasPosition({position:o,viewport:i.current})),t(c.comments.setNewCommentActive()))),l(!1)},[t,e,l,u,i]);return n.useMemo(()=>({onMouseUp:d,onMouseDown:f}),[d,f])})(e,o);n.useEffect(()=>(s.on("mousedown",t.onMouseDown),s.on("mouseup",t.onMouseUp),()=>{s.off("mousedown",t.onMouseDown),s.off("mouseup",t.onMouseUp)}),[t])},v=e=>{const o=r.useSelector(e=>e.selectedView),t=r.useSelector(e=>e.comments.editingComment),s=r.useSelector(e=>e.comments.activeId),a=r.useSelector(e=>e.comments.emojiPicker),m=r.useDispatch();d(e.activeId,e.viewportInfo);const{x:v,y:p,width:w,height:b}=e.viewportInfo,C=n.useMemo(()=>({left:v,top:p,width:w,height:b}),[v,p,w,b]),g=n.createRef(),h=n.useCallback(e=>{if(e.event.keyCode===u.Key.ESCAPE&&!t){if(s){return a&&a.visible?void m(c.comments.setEmojiPicker({visible:!1})):void m(c.comments.deactivateActiveComment())}"fullscreen"===o.view&&l.fullscreen.triggerAction("set-tool-default")}},[m,t,s,a,o]);return n.createElement(i.KeyboardReceiver,{name:"comments-view-canvas",focusOnMount:!0,propagateKeyboardFocus:!0,handleKeyDown:h,ref:g},n.createElement("div",{"data-forward-events-to-fullscreen":!0,className:f.viewContainer},n.createElement("div",{"data-allow-component-drop":!0,"data-forward-events-to-fullscreen":!0,className:f.outerAnchorContainer,ref:e.forwardedRef,style:C},e.children)))};o.CommentsViewCanvas=n.forwardRef((e,o)=>n.createElement(v,Object.assign({},e,{forwardedRef:o})))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),n=s(154                                 ),i=s(136                    );t.CONFIRM_COMMENT_MENTION_MODAL="confirm-comment-mention-modal",i.registerUnsafeModal(t.CONFIRM_COMMENT_MENTION_MODAL,e=>{let{usersWithoutFileAccess:t,onCancel:s,onConfirm:n}=e.modalShown.data;return o.createElement(r,Object.assign({onConfirm:n,onCancel:s,usersWithoutFileAccess:t},e))});class r extends o.Component{constructor(){super(...arguments),this.getUsers=(()=>{const e=this.props.usersWithoutFileAccess;if(1===e.length)return e[0];if(2===e.length)return e.join(" and ");{const e=[...this.props.usersWithoutFileAccess],t=e.length-1;return e[t]=`and ${e[t]}`,e.join(", ")}})}render(){const e=1===this.props.usersWithoutFileAccess.length;let t=`${this.getUsers()} ${e?"doesn’t":"don’t"} currently have access to this file. Would you like to give them view only access?`;return"prototype"===this.props.selectedView.view&&(t=`${this.getUsers()} ${e?"doesn’t":"don’t"} currently have access to this prototype. Would you like to give them view only access to this prototype and the file it's derived from?`),o.createElement(n.ConfirmationModal,Object.assign({confirmationTitle:"Are you sure?",content:t,onConfirm:this.props.onConfirm,onCancel:this.props.onCancel,confirmText:"Share and comment",size:"small"},this.props))}}r.displayName="CommentMentionConfirmModal"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(2,1    ),a=s(133        ),o=s(802                 ),i=s(113                                     ),r=s(297                              ),l=s(692                                 ),m=s(689                        ),u=s(829                                                         ),c=s(1315                                           ),d=s(43,1         ),f=s(691                     ),_=s(227                                ),p={value:()=>{}};t.useCommentState=(()=>{const[{value:e},t]=n.useState(p),[{value:s},a]=n.useState(p),[o,i]=n.useState(!1),r=n.useCallback((e,s)=>{t(s?{value:s}:p),a(e?{value:e}:p)},[t,a]);return n.useMemo(()=>({onInsert:s,onClear:e,isEditorFocused:o,setIsEditorFocused:i,assignHandlers:r}),[e,s,r,o,i])}),t.useSubmitNewComment=((e,s,a)=>{const o=d.useDispatch(),i=d.useSelector(e=>e.comments.newComment),m=n.useCallback(()=>{const t=i.anchorPosition;if(!t)return;const s=r.getCommentDestinationForCanvasPosition(t,e);s&&o(l.comments.submitNewComment(s))},[i,o,e]),u=t.useSubmitComment(s,a);return n.useCallback(()=>u(m,i.messageMeta),[u,m,i])}),t.useSubmitComment=((e,t)=>{const s=d.useSelector(e=>e.currentOrgId?e.orgById[e.currentOrgId]:null),r=d.useSelector(e=>e.orgDomains),l=d.useDispatch();return n.useCallback((n,m)=>{const d=[],{accessByFile:f,accessByProject:_,accessByTeam:p,isProjectInviteOnly:g,pendingFileRolesEmails:C}=e,v=(e,t)=>null!==e&&e.some(e=>e&&e.id===t.id);for(let e=0;e<m.length;e++){const t=m[e];if(t.user_annotated){if(f&&v(f,t.user_annotated))continue;if(f&&-1!==C.indexOf(t.user_annotated.email))continue;if(_&&v(_,t.user_annotated))continue;if(p&&_&&!g&&v(p,t.user_annotated))continue;d.push(t.user_annotated)}}if(0===d.length)return void n();if(!s)return void l(i.fileBrowser.showModal({type:c.CONFIRM_COMMENT_MENTION_MODAL,data:{onConfirm:n,onCancel:()=>{t&&t()},usersWithoutFileAccess:d.map(e=>e.handle)}}));const b=r.domains,h=s.domain_capture&&b.length>0?d.filter(e=>e.email&&a.isEmail(e.email)&&!o.isEmailInOrgsDomain(b,e.email)).map(e=>e.email):[];h.length>0?l(i.fileBrowser.showModal({type:u.CONFIRM_ORG_GUEST_INVITE_MODAL,data:{emails:h,onConfirm:n,onCancel:()=>{t&&t()},popStack:!1}})):n()},[s,e,l,r,t])});const g=e=>{const t=[];for(let s=0;s<e.message_meta.length;s++){let n=e.message_meta[s];n.hasOwnProperty("user_id")&&t.push(n.user_id)}return t};t.useIsInViewport=(e=>n.useCallback(t=>{if(!t.canvasPosition||!e)return!1;const s=r.getValidCommentsRect(),n=_.canvasPositionToViewport(e,t.canvasPosition);return f.canPlaceCommentAtViewportPosition(n,s)},[e])),t.useFilteredThreads=((e,t,s,a,o,i)=>{const r=d.useSelector(e=>e.user),u=n.useMemo(()=>{if("loaded"!==s.status)return[];const e=!o;return s.data.filter(e=>a||!e.comments[0].resolved_at).filter(t=>e||((e,t)=>{if(!e)return null;for(let s=0;s<t.comments.length;s++){let n=t.comments[s];if(!n.deleted_at){if(n.user_id===e)return!0;if(-1!==g(n).indexOf(e))return!0}}return!1})((null==r?void 0:r.id)||null,t))},[r,s,o,a]),c=d.useDispatch();n.useEffect(()=>{o&&(u.find(e=>e.id===t)||t!==m.NEW_COMMENT_ID&&c(l.comments.deactivateActiveComment()))},[c,t,u,o]);const f=n.useCallback(s=>!!s.canvasPosition&&(s.page===e&&((!t||t===s.id)&&(!i||i(s)))),[e,t,i]);return{status:"loaded",data:n.useMemo(()=>u.filter(f),[f,u]),errors:[]}})}),
(function(n,t,e){n.exports={detailsContainer:"comments_modal--detailsContainer--6dFsZ"}}),
(function(n,o,t){n.exports={}}),
(function(i,e,o){i.exports={emojiPickerContainer:"emoji_picker--emojiPickerContainer--3B85V",emojiPicker:"emoji_picker--emojiPicker--3nfiX",pointingDropdown:"emoji_picker--pointingDropdown--clrqU",reactionsPicker:"emoji_picker--reactionsPicker--sWAq5",emoji:"emoji_picker--emoji--1DYCf"}}),
(function(e,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=i(2,1    ),n=i(1133        ),s=i(1140                 ),r=i(111          ),a=i(691                     ),c=i(689                        ),p=i(232                       ),m=i(101                             ),l=i(414                                                             );i(1318              );const d=i(1319                ),E=351;class k extends t.Component{constructor(){super(...arguments),this.addEmoji=(e=>{this.props.onInsert(e),r.segment&&r.segment.track("emojiIndex.EmojiData Inserted")}),this.onMouseDown=(e=>{e.stopPropagation()}),this.onClickOutside=(e=>{this.props.onCancel&&this.props.onCancel(),e.stopPropagation()}),this.onKeyDown=(e=>{e.stopPropagation()})}render(){const{targetRect:e}=this.props,i=this.props.pickerType===c.EmojiPickerType.FULL&&e.top>E;return t.createElement("div",{className:d.emojiPickerContainer,onMouseDown:this.onClickOutside},t.createElement(l.PointingDropdown,{targetRect:e,className:d.pointingDropdown,displayAboveTarget:i,minWidth:100,color:"#fff"},t.createElement("div",{className:`${d.emojiPicker} ${m.PREVENT_EVENT_CAPTURE}`,onMouseDown:this.onMouseDown,onKeyDown:this.onKeyDown},this.props.pickerType===c.EmojiPickerType.FULL&&t.createElement(n.Picker,{native:!1,onClick:this.addEmoji,autoFocus:!0,title:"",emoji:""}),this.props.pickerType===c.EmojiPickerType.REACTIONS&&t.createElement(o.ReactionsPicker,{onClick:this.addEmoji}))))}}o.EmojiPickerView=k,k.displayName="EmojiPickerView",o.ReactionsPicker=(e=>{const o=c.REACTION_EMOJIS.filter(e=>!e.hideInPicker).map(e=>n.emojiIndex.emojis[e.id]);return t.createElement("div",{className:d.reactionsPicker},o.map(o=>{const i=s.unifiedToPNG(o.unified);return t.createElement("img",{key:o.id,className:d.emoji,src:i,"data-tooltip-type":p.TooltipType.TEXT,"data-tooltip":a.getReactionEmojiDescription(o.colons),"data-tooltip-offset-y":9,onClick:i=>e.onClick(o,i)})}))})}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(2,1    ),n=t(138      ),i=t(692                                 );class a extends o.Component{constructor(){super(...arguments),this.getPositionTranslateStyle=(()=>{const{x:e,y:s}=this.props.position;return{transform:`translate(${e}px, ${s}px)`,WebkitTransform:`translate(${e}px, ${s}px)`}}),this.handleKeyDown=(e=>{const s=()=>e.ctrlKey||e.altKey||e.shiftKey||e.metaKey,t=this.props.typeahead,a=o.Children.count(this.props.children);let p=null;if(e.keyCode!==n.Key.DOWN_ARROW||s())if(e.keyCode!==n.Key.UP_ARROW||s()){if((()=>e.keyCode===n.Key.DOWN_ARROW||e.keyCode===n.Key.UP_ARROW)()&&s())return void this.props.onClear()}else p=(a+t.index-1)%a;else p=(t.index+1)%a;e.keyCode!==n.Key.ENTER&&e.keyCode!==n.Key.TAB||(p=t.index,this.props.onInsert()),null!==p&&this.props.dispatch(i.comments.setTypeahead(Object.assign(Object.assign({},this.props.typeahead),{index:p}))),e.keyCode!==n.Key.ENTER&&e.keyCode!==n.Key.TAB&&e.keyCode!==n.Key.ESCAPE&&e.keyCode!==n.Key.LEFT_ARROW&&e.keyCode!==n.Key.RIGHT_ARROW||setTimeout(()=>{this.props.onClear()},50)})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){return o.createElement("div",{className:this.props.className,style:this.getPositionTranslateStyle(),onKeyDown:this.handleKeyDown,onMouseMove:this.props.onMouseMove},this.props.children)}}s.TypeaheadView=a,a.displayName="TypeaheadView";class p extends o.Component{constructor(){super(...arguments),this.handleMouseUp=(e=>{e.stopPropagation()}),this.handleMouseDown=(e=>{this.props.onClick(),e.stopPropagation(),e.preventDefault()})}render(){let e=this.props.className;return this.props.selected&&(e+=" "+this.props.selectedClassName),o.createElement("div",{className:e,onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onMouseOver:this.props.onMouseOver},this.props.children)}}s.TypeaheadItem=p,p.displayName="TypeaheadItem"}),
(function(e,a,o){e.exports={emojiTypeahead:"emoji_typeahead--emojiTypeahead--1DE3y",emojiTypeaheadRow:"emoji_typeahead--emojiTypeaheadRow--1ZflI",emojiTypeaheadRowSelected:"emoji_typeahead--emojiTypeaheadRowSelected--9WsaA",emojiPreview:"emoji_typeahead--emojiPreview--2ernv"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(2,1    ),o=t(1133        ),i=t(1140                 ),p=t(692                                 ),n=t(1321         ),h=t(1322                   );class m extends a.Component{constructor(){super(...arguments),this.mouseMoved=!1,this.onEmojiTypeaheadClick=(e=>{this.placeEmoji(e),this.props.onInsert(),this.props.dispatch(p.comments.setTypeahead(null))}),this.placeEmoji=(e=>{this.props.dispatch(p.comments.setTypeahead(Object.assign(Object.assign({},this.props.typeahead),{index:e})))})}componentDidUpdate(e){e.typeahead.emojis!==this.props.typeahead.emojis&&(this.mouseMoved=!1)}render(){let e=this.props.typeahead.emojis.map((e,s)=>{let t=e.unified;const p=o.emojiIndex.getDefaultSkin();i.MODIFIABLE_EMOJI_BASES_SET[t.toUpperCase()]&&p&&(t+=`-${i.SKIN_TONES[p]}`);return a.createElement(n.TypeaheadItem,{className:h.emojiTypeaheadRow,selectedClassName:h.emojiTypeaheadRowSelected,selected:this.props.typeahead.index===s,onClick:()=>this.onEmojiTypeaheadClick(s),onMouseOver:()=>{this.mouseMoved&&this.placeEmoji(s)},key:e.name},a.createElement("img",{className:h.emojiPreview,src:i.unifiedToPNG(t)}),":"+e.name+":")});return a.createElement(n.TypeaheadView,{typeahead:this.props.typeahead,className:h.emojiTypeahead,onMouseMove:()=>this.mouseMoved=!0,onInsert:this.props.onInsert,onClear:this.props.onClear,dispatch:this.props.dispatch,position:this.props.position},e)}}s.EmojiTypeaheadView=m,m.displayName="EmojiTypeaheadView"}),
(function(e,a,n){e.exports={mentionsTypeahead:"mentions_typeahead--mentionsTypeahead--a7wUe",mentionsTypeaheadRow:"mentions_typeahead--mentionsTypeaheadRow--Sa7ew",mentionsTypeaheadRowSelected:"mentions_typeahead--mentionsTypeaheadRowSelected--hjK29",email:"mentions_typeahead--email--3-fFF mentions_typeahead--profileItem--1b-Ry",avatar:"mentions_typeahead--avatar--ScSXp",profile:"mentions_typeahead--profile--14Amm",profileItem:"mentions_typeahead--profileItem--1b-Ry",name:"mentions_typeahead--name--2jFz- mentions_typeahead--profileItem--1b-Ry"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(2,1    ),i=t(692                                 ),n=t(1321         ),o=t(803                                                        ),p=t(1324                      );class d extends a.Component{constructor(){super(...arguments),this.mouseMoved=!1,this.onMentionTypeaheadClick=(e=>{this.placeMention(e),this.props.onInsert(),this.props.dispatch(i.comments.setTypeahead(null))}),this.placeMention=(e=>{this.props.dispatch(i.comments.setTypeahead(Object.assign(Object.assign({},this.props.typeahead),{index:e})))})}componentDidUpdate(e){e.typeahead.mentions!==this.props.typeahead.mentions&&(this.mouseMoved=!1)}render(){let e=this.props.typeahead.mentions.map((e,s)=>{return a.createElement(n.TypeaheadItem,{className:p.mentionsTypeaheadRow,selectedClassName:p.mentionsTypeaheadRowSelected,selected:this.props.typeahead.index===s,onClick:()=>this.onMentionTypeaheadClick(s),onMouseOver:()=>{this.mouseMoved&&this.placeMention(s)},key:e.id},a.createElement("img",{className:p.avatar,src:e.img_url}),a.createElement("div",{className:p.profile},this.props.user.id===e.id?a.createElement("div",{className:p.name},e.handle," (You)"):a.createElement(o.OrgGuestIdentifier,{className:p.name,email:e.email||null,displayString:e.handle}),a.createElement("div",{className:p.email},e.email)))});return a.createElement(n.TypeaheadView,{typeahead:this.props.typeahead,className:p.mentionsTypeahead,onMouseMove:()=>this.mouseMoved=!0,onInsert:this.props.onInsert,onClear:this.props.onClear,dispatch:this.props.dispatch,position:this.props.position},e)}}s.MentionsTypeaheadView=d,d.displayName="MentionsTypeaheadView"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(2,1    ),n=o(691                     ),i=o(689                        ),a=o(1310                        ),r=o(1135                                    ),m=o(1309                            ),c=o(43,1         ),l=o(214         ),d=o(1316                   ),p=o(692                                 ),u=o(1317                  ),h=o(1320                          ),w=o(1323                          ),C=o(1325                             ),g=e=>{const t=r.useMentionables(e.usersOnFile),o=c.useSelector(e=>e.user),n=c.useDispatch(),i=d.useSubmitNewComment(e.pageId,e.usersOnFile,e.onClear),m=c.useSelector(e=>e.comments.typeahead);return s.createElement(a.NewComment,{thread:e.thread,viewportInfo:e.viewportInfo,typeahead:m,mentionables:t,user:o,pageId:e.pageId,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,dispatch:n,onSubmit:i,assignHandlers:e.assignHandlers,setIsEditorFocused:e.setIsEditorFocused})},v=e=>{const t=r.useMentionables(e.usersOnFile),o=c.useSelector(e=>e.user),n=c.useDispatch(),i=d.useSubmitComment(e.usersOnFile,e.onClear),a=c.useSelector(e=>e.comments),l=c.useSelector(e=>e.dropdownShown);return s.createElement(m.ActiveThread,{viewportInfo:e.viewportInfo,thread:e.thread,comments:a,mentionables:t,dropdownShown:l,user:o,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,dispatch:n,submitComment:i,assignHandlers:e.assignHandlers,setIsEditorFocused:e.setIsEditorFocused})};t.CommentDecorators=(e=>{var t,o;const n=c.useSelector(e=>e.comments.emojiPicker),i=c.useSelector(e=>e.comments.typeahead),a=c.useSelector(e=>e.comments.typeaheadPositionOffset),r=c.useSelector(e=>e.comments.editingComment),m=c.useSelector(e=>e.comments.newComment),d=c.useDispatch(),u=s.useCallback(()=>{d(p.comments.setEmojiPicker({visible:!1}))},[d]),{onInsert:g,thread:v}=e,I=s.useCallback(e=>{u();const t={t:e.colons+" "};d(p.comments.setNewCommentMessage({messageMeta:[...m.messageMeta,t]})),g()},[d,g,m,u]),P=s.useCallback(e=>{u();const t={t:e.colons+" "};if(r){const{id:e,key:o,messageMeta:s}=r;d(p.comments.setEditing({id:e,key:o,messageMeta:[...s,t]}))}else d(p.comments.setReplyMessage({threadId:v.id,messageMeta:[...v.replyMessageMeta,t]}));g()},[r,d,g,v,u]),y=s.useMemo(()=>l.Vector.add(e.thread.threadPosition||{x:0,y:0},a),[a,e.thread.threadPosition]),_=c.useSelector(e=>e.user),b=e.isNew?I:P;return s.createElement(s.Fragment,null,n&&n.visible&&s.createElement(h.EmojiPickerView,{pickerType:n.pickerType,onInsert:null!==(t=n.onPick)&&void 0!==t?t:b,onCancel:null!==(o=n.onCancel)&&void 0!==o?o:u,targetRect:n.targetRect}),i&&"emojis"===i.type&&s.createElement(w.EmojiTypeaheadView,{dispatch:d,typeahead:i,onInsert:e.onInsert,onClear:e.onClear,position:y}),_&&i&&"mentions"===i.type&&s.createElement(C.MentionsTypeaheadView,{dispatch:d,typeahead:i,onInsert:e.onInsert,onClear:e.onClear,position:y,user:_}))});const I=e=>null===e.viewportInfo?null:e.isNew?s.createElement(g,Object.assign({thread:e.thread,viewportInfo:e.viewportInfo,usersOnFile:e.usersOnFile,pageId:e.pageId,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition},e)):s.createElement(v,Object.assign({thread:e.thread,viewportInfo:e.viewportInfo,usersOnFile:e.usersOnFile,pageId:e.pageId,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition},e));t.CommentsDetailsView=(e=>{const o=s.useMemo(()=>n.convertToCommentThreadInfoWithPosition(e.viewportInfo,e.thread),[e.viewportInfo,e.thread]),a=d.useCommentState(),r=e.thread.id===i.NEW_COMMENT_ID;return s.createElement("div",{className:u.detailsContainer},s.createElement(I,Object.assign({},a,e,{thread:o,isNew:r})),s.createElement(t.CommentDecorators,Object.assign({},a,e,{thread:o,isNew:r})))})}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),i=s(43,1         ),n=s(138      ),r=s(214         ),a=s(141              ),m=s(691                     ),p=s(85                   ),d=s(297                              ),c=s(215                                          ),h=s(207                                   ),l=s(227                                ),u=s(1135                                    ),f=s(93                                   ),v=s(692                                 ),w=s(689                        ),C=s(1138                                               ),I=s(1309                                                             ),g=s(1310                                                         ),_=s(1312                     ),P=s(1314                    ),b=s(1326              ),E=s(520                      ),y=s(1306                              ),M=s(1316                   ),T=s(1136                  ),F=s(1313                 );class O extends a.Component{constructor(){super(...arguments),this.keyboardReceiverRef=o.createRef(),this.drag=null,this.onMouseDown=(e=>{this.props.viewportInfo&&(this.drag={startPosition:e,lastPosition:e,maxDist:0})}),this.onMouseMove=(e=>{if(this.drag){if("fullscreen"===this.props.selectedView.view){const{x:t,y:s}=r.Vector.subtract(e,this.drag.lastPosition);c.fullscreen.DEPRECATED_sendMessage("adjustCanvasSpaceCenter",{deltaX:t,deltaY:s})}this.drag.lastPosition=e,this.drag.maxDist=Math.max(this.drag.maxDist,r.Vector.distance(e,this.drag.startPosition))}}),this.onMouseUp=(e=>{const t=this.props.viewportInfo;if(!this.drag)return;const s=d.getValidCommentsRect();this.drag.maxDist<m.MAX_DRAG_DISTANCE&&(this.props.comments.activeId?this.props.dispatch(v.comments.deactivateActiveComment()):t&&m.canPlaceCommentAtViewportPosition(e,s)&&(this.props.dispatch(v.comments.setNewAnchorPosition({position:l.viewportPositionToCanvas(t,e)})),this.props.dispatch(v.comments.setNewCommentActive()))),this.drag=null}),this.containerRef=(e=>{e&&(this.container=e)}),this.onContextMenu=(e=>{e.preventDefault()}),this.onKeyDown=a.propagatingKeyboardEvent(this,"keydown",e=>{if(e.event.keyCode===n.Key.ESCAPE&&!this.props.comments.editingComment){if(this.props.comments.activeId){if(this.props.comments.emojiPicker&&this.props.comments.emojiPicker.visible)return this.props.dispatch(v.comments.setEmojiPicker({visible:!1})),void e.accept();if(this.props.isEditorFocused)return;return this.props.dispatch(v.comments.deactivateActiveComment()),void e.accept()}"fullscreen"===this.props.selectedView.view&&(c.fullscreen.triggerAction("set-tool-default"),e.accept())}}),this.viewportPositionFromClientPosition=(e=>{if(this.container){let t=this.container.getBoundingClientRect();return e.subtract(new r.Vector(t.left,t.top))}return new r.Vector(0,0)})}componentDidMount(){this.maybeOpenInitialThread(),d.on("mousedown",this.onMouseDown),d.on("mousemove",this.onMouseMove),d.on("mouseup",this.onMouseUp)}componentDidUpdate(e){super.componentDidUpdate(e,{}),this.maybeOpenInitialThread()}componentWillUnmount(){super.componentWillUnmount(),d.off("mousedown",this.onMouseDown),d.off("mousemove",this.onMouseMove),d.off("mouseup",this.onMouseUp)}maybeOpenInitialThread(){var e;const t=this.props.threadsWithPosition,{comments:s,selectedView:o}=this.props;if("loaded"!==t.status)return;const i=o.commentThreadId;if(!i||s.initialThreadAlreadyOpened)return;const n=t.data.find(e=>e.id===i);if(!n)return this.props.dispatch(f.flash.error("Comment thread not found.")),void this.props.dispatch(v.comments.setInitialThreadAlreadyOpened({openInitialThread:!0}));if(this.props.jumpToIndexForPrototypeComments){const t=null===(e=n.comments[0].client_meta)||void 0===e?void 0:e.node_id;if(t&&!this.props.jumpToIndexForPrototypeComments(t))return}this.props.dispatch(v.comments.showThread({thread:n})),this.props.dispatch(v.comments.setInitialThreadAlreadyOpened({openInitialThread:!0}))}getSnapshotBeforeUpdate(e){return this.keyboardReceiverRef.current&&this.props.comments.activeId&&this.props.comments.activeId!==e.comments.activeId&&this.keyboardReceiverRef.current.focus(),this.keyboardReceiverRef.current&&!this.props.dropdownShown&&e.dropdownShown&&e.dropdownShown.type===y.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU&&this.keyboardReceiverRef.current.focus(),null}render(){const e=this.props.viewportInfo;if(!e)return o.createElement("div",null);let t,s="loaded"===this.props.threadsWithPosition.status?this.props.threadsWithPosition.data:[],i="loaded"===this.props.unfilteredThreads.status?this.props.unfilteredThreads.data:[];return this.props.comments.activeId===w.NEW_COMMENT_ID?(this.props.dispatch(h.fullscreen.hidePicker()),t=m.newCommentThread(this.props.comments,this.props.pageId,e)):this.props.comments.activeId&&(this.props.dispatch(h.fullscreen.hidePicker()),t=i.find(e=>e.id===this.props.comments.activeId)),o.createElement(E.KeyboardReceiver,{name:"comments-view",handleKeyDown:this.onKeyDown,focusOnMount:!0,propagateKeyboardFocus:!0,ref:this.keyboardReceiverRef},o.createElement("div",{"data-forward-events-to-fullscreen":!0,className:F.viewContainer},o.createElement("div",{"data-allow-component-drop":!0,"data-forward-events-to-fullscreen":!0,className:F.outerAnchorContainer,style:{left:e.x,top:e.y,width:e.width,height:e.height},ref:this.containerRef,onContextMenu:this.onContextMenu},o.createElement("div",{"data-allow-component-drop":!0,"data-forward-events-to-fullscreen":!0,className:F.innerAnchorContainer},s.map(t=>o.createElement(C.ThreadAnchor,{key:`anchor-${t.id}`,thread:t,pageId:this.props.pageId,viewportInfo:e,viewportPositionFromClientPosition:this.viewportPositionFromClientPosition}))),t&&t.id!==w.NEW_COMMENT_ID&&o.createElement(I.ActiveThread,{viewportInfo:e,thread:t,comments:this.props.comments,mentionables:this.props.mentionables,dropdownShown:this.props.dropdownShown,user:this.props.user,viewportPositionFromClientPosition:this.viewportPositionFromClientPosition,dispatch:this.props.dispatch,submitComment:this.props.submitComment,assignHandlers:this.props.assignHandlers,setIsEditorFocused:this.props.setIsEditorFocused}),t&&t.id===w.NEW_COMMENT_ID&&o.createElement(g.NewComment,{thread:t,viewportInfo:e,typeahead:this.props.comments.typeahead,mentionables:this.props.mentionables,user:this.props.user,pageId:this.props.pageId,viewportPositionFromClientPosition:this.viewportPositionFromClientPosition,dispatch:this.props.dispatch,onSubmit:this.props.submitNewComment,assignHandlers:this.props.assignHandlers,setIsEditorFocused:this.props.setIsEditorFocused}),t&&o.createElement(b.CommentDecorators,{thread:t,onInsert:this.props.onInsert,onClear:this.props.onClear,isNew:this.props.comments.activeId===w.NEW_COMMENT_ID}))))}}O.displayName="CommentsViewInner",t.CommentsView=(e=>{const{onClear:t,onInsert:s,isEditorFocused:n,assignHandlers:r,setIsEditorFocused:a}=M.useCommentState(),p=M.useSubmitComment(e.usersOnFile,t),c=M.useSubmitNewComment(e.pageId,e.usersOnFile,t),h=i.useDispatch(),f=l.useViewportInfo(),v=m.convertToCommentThreadInfosWithPosition(f,e.threads),w=o.useCallback(e=>{if(!e.anchorPosition)return!1;const t=d.getValidCommentsRect();return m.canPlaceCommentAtViewportPosition(e.anchorPosition,t)},[]),C=M.useFilteredThreads(e.pageId,e.comments.activeId,v,e.showResolvedComments,e.showOnlyParticipatingComments,w),I=u.useMentionables(e.usersOnFile);return o.createElement(O,Object.assign({mentionables:I,dispatch:h,viewportInfo:f,isEditorFocused:n,setIsEditorFocused:a,submitComment:p,submitNewComment:c,onClear:t,onInsert:s,assignHandlers:r,threadsWithPosition:C,unfilteredThreads:v},e))}),t.CommentsOverlay=(e=>{const{activeId:t}=e,s=i.useSelector(e=>{return e.selectedView.commentThreadId}),n=l.useViewportInfo(),a=T.useAsRef(n),d=i.useDispatch(),c=M.useFilteredThreads(e.pageId,e.activeId,e.threads,e.showResolvedComments,e.showOnlyParticipatingComments,e.isInViewport),u=o.useMemo(()=>"loaded"!==c.status?[]:c.data,[c]),f=o.useMemo(()=>"loaded"!==e.threads.status?[]:e.threads.data,[e.threads]);o.useEffect(()=>{if(s){const e=f.find(e=>e.id===s);if(!e)return;if(!a.current)return;d(v.comments.showThread({thread:e,viewportOverride:a.current})),d(h.fullscreen.clearSelectedViewCommentId())}},[d,s,f,a]);const C=i.useSelector(e=>e.comments.newComment),I=o.useMemo(()=>t===w.NEW_COMMENT_ID?m.newCommentThreadWithoutPosition(t,C,e.pageId):f.find(e=>e.id===t)||null,[C,t,f,e.pageId]),g=o.useRef(),E=o.useCallback(e=>{if(g.current){let t=g.current.getBoundingClientRect();return e.subtract(new r.Vector(t.left,t.top))}return new r.Vector(0,0)},[g]);return p.getFeatureFlags().comments_perf_overlay&&n?o.createElement(o.Fragment,null,o.createElement(_.CommentsViewOverlay,{viewportPositionFromClientPosition:E,pageId:e.pageId,threads:u,viewportInfo:n}),o.createElement(P.CommentsViewCanvas,{ref:g,activeId:e.activeId,viewportInfo:n},o.createElement(o.Fragment,null,I&&o.createElement(b.CommentsDetailsView,{viewportInfo:n,pageId:e.pageId,thread:I,usersOnFile:e.usersOnFile,viewportPositionFromClientPosition:E})))):null}),t.CommentsOverlay.displayName="CommentsOverlay"}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.293 11.5l3.354-3.354.707.708L8.207 11H14c1.657 0 3 1.343 3 3v1h-1v-1c0-1.105-.895-2-2-2H8.207l2.147 2.146-.707.708L6.293 11.5z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="8" height="13" viewBox="0 0 8 13" xmlns="http://www.w3.org/2000/svg"><path d="M6.5 6.5l.354-.354.353.354-.353.354L6.5 6.5zM.854.146l6 6-.708.708-6-6L.854.146zm6 6.708l-6 6-.708-.708 6-6 .708.708z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="11" height="8" viewBox="0 0 11 8" xmlns="http://www.w3.org/2000/svg"><path d="M10.707 4L7.354.646l-.708.708L8.793 3.5H.5v1h8.293L6.646 6.646l.708.708L10.707 4z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="8" height="13" viewBox="0 0 8 13" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.5l-.353-.354-.354.354.354.354L1 6.5zM6.647.146l-6 6 .707.708 6-6-.707-.708zm-6 6.708l6 6 .707-.708-6-6-.707.708z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="11" height="8" viewBox="0 0 11 8" xmlns="http://www.w3.org/2000/svg"><path d="M.293 4L3.647.646l.707.708L2.207 3.5H10.5v1H2.207l2.147 2.146-.707.708L.293 4z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(o,t,e){o.exports={_embedControlBorder:"footer--_embedControlBorder--2jc3H",replayIcon:"footer--replayIcon--2rZH0",footer__OLD:"footer--footer__OLD--mBTSW",footer:"footer--footer--3rsSh footer--footer__OLD--mBTSW",footerHidden:"footer--footerHidden--1TEFh footer--footer__OLD--mBTSW",pill:"footer--pill--3AY_G",buttonContainer:"footer--buttonContainer--34Vkb",replayKeyboardShortcut:"footer--replayKeyboardShortcut--3DnRX",replayButton__OLD:"footer--replayButton__OLD--1iihZ footer--pill--3AY_G",replayButtonContainer:"footer--replayButtonContainer--1AzZp",replayButton:"footer--replayButton--HiQQJ footer--_embedControlBorder--2jc3H footer--buttonContainer--34Vkb",toggleConnectionButton__OLD:"footer--toggleConnectionButton__OLD--30bQc footer--pill--3AY_G",toggleConnectionButton:"footer--toggleConnectionButton--3wO4G footer--buttonContainer--34Vkb",status__OLD:"footer--status__OLD--2tr06 footer--pill--3AY_G",status:"footer--status--2E1QL footer--_embedControlBorder--2jc3H footer--buttonContainer--34Vkb",statusText:"footer--statusText--2NxyT",statusContainer:"footer--statusContainer--JCr1o",backIconContainer:"footer--backIconContainer--W4CCW footer--statusContainer--JCr1o",nextIconContainer:"footer--nextIconContainer--1Bu0o footer--statusContainer--JCr1o",nextIconContainerDisabled:"footer--nextIconContainerDisabled--2Q9Cd footer--statusContainer--JCr1o",backIconContainerDisabled:"footer--backIconContainerDisabled--3ovjA footer--statusContainer--JCr1o"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(2,1    ),o=t(141              ),n=t(150                         ),i=t(146                        ),a=t(296         ),p=t(1328                              ),c=t(275                                      ),l=t(1329                              ),m=t(1330                                                        ),d=t(1331                              ),g=t(1332                                                       ),u=t(1333          ),h=t(129           );class b extends r.PureComponent{render(){return r.createElement(n.RecordableDiv,{className:this.props.className,onClick:this.props.onClick,recordingKey:this.props.recordingKey},r.createElement(i.Svg,{svg:this.props.isEmbed?c:p,className:this.props.isEmbed?u.replayIcon:""}),this.props.isEmbed?r.createElement("div",null,"Restart ",r.createElement("span",{className:u.replayKeyboardShortcut},"R")):"Restart (R)")}}s.ReplayButton=b,b.displayName="ReplayButton";class _ extends r.PureComponent{constructor(){super(...arguments),this.toggleConnection=(()=>{const e=a.getGlobalViewerInstance();e&&(e.isConnected()?e.disconnectForTesting():e.reconnectForTesting()),this.forceUpdate()})}render(){const e=0===this.props.currentFrameIndex?u.backIconContainerDisabled:u.backIconContainer,s=this.props.currentFrameIndex===this.props.frameCount-1?u.nextIconContainerDisabled:u.nextIconContainer,t=this.props.isEmbed?u.replayButton:u.replayButton__OLD,n=this.props.shouldShowUI?u.footer__OLD:u.footerHidden,a=!h.isMobileBrowser;return r.createElement("div",{className:this.props.isEmbed?u.footer:n},r.createElement("div",{className:this.props.isEmbed?u.status:u.status__OLD},a&&r.createElement(i.Svg,{className:e,svg:this.props.isEmbed?g:d,onClick:this.props.showPreviousFrame,recordingKey:o.joinKeys(this.props,"backButton")}),!!this.props.frameCount&&r.createElement("div",{className:u.statusText},this.props.currentFrameIndex+1," / ",this.props.frameCount),a&&r.createElement(i.Svg,{className:s,svg:this.props.isEmbed?m:l,onClick:this.props.showNextFrame,recordingKey:o.joinKeys(this.props,"nextButton")})),!1,r.createElement("div",{className:this.props.isEmbed?u.replayButtonContainer:""},r.createElement(b,{className:t,onClick:this.props.restartPrototype,recordingKey:o.joinKeys(this.props,"replayButton"),isEmbed:this.props.isEmbed})))}}s.Footer=_,_.displayName="Footer"}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=u(43,1         );t.useSelectorShallowEqual=function(e){return l.useSelector(e,l.shallowEqual)}}),
(function(o,n,t){o.exports={optionMenu:"options_menu--optionMenu--2rTOE dropdown_menu--dropdownMenu----PdH",optionMenuButton:"options_menu--optionMenuButton--X1oUU dropdown_menu--dropdownButton--2wyKA",buttonChevron:"options_menu--buttonChevron--1xQui",dropdown:"options_menu--dropdown--2y44a dropdown_menu--dropdown--ld1ZV",checkmarkContainer:"options_menu--checkmarkContainer--T_diX",shortcut:"options_menu--shortcut--1A8j5"}}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(2,1    ),s=t(113                                     ),c=t(342                                  ),i=t(146                        ),r=t(409                                  ),a=t(150                         ),l=t(425                                                    ),d=t(1335                               ),p=t(43,1         ),m=t(443                      ),w=t(129           ),h=t(141              ),u=t(1336                ),g=t(958                                            );function y(e){return{inCommentsMode:e.prototype.showComments,showOnlyParticipatingComments:e.prototype.showOnlyParticipatingComments,showResolvedComments:e.prototype.showResolvedComments,user:e.user}}function O({showHotspots:e,setHideUI:o}){const{inCommentsMode:t,showOnlyParticipatingComments:s,showResolvedComments:i,user:a}=d.useSelectorShallowEqual(y),m=p.useDispatch();return n.createElement(n.Fragment,null,!!a&&n.createElement(n.Fragment,null,n.createElement(r.dropdown.CheckableOption,{disabled:!t,checked:i,onClick:function(){m(c.prototype.setShowResolvedComments({showResolved:!i}))}},"Show Resolved Comments"),n.createElement(r.dropdown.CheckableOption,{disabled:!t,checked:s,onClick:function(){m(c.prototype.setShowOnlyParticipatingComments({showOnlyParticipating:!s}))}},"Show Only Your Comments")),n.createElement(r.dropdown.CheckableOption,{checked:e,onClick:function(){m(c.prototype.setShowHotspots({showHotspots:!e}))}},"Show Hotspot Hints on Click"),n.createElement(r.dropdown.CheckableOption,{checked:!0,onClick:function(){o(!0),m(c.prototype.trackEvent({name:"Prototype Hide UI"}))}},"Show Toolbar and Footer",n.createElement(l.KeyboardShortcut,{shortcut:`${w.mac?"⌘":"⌃"}\\`,className:u.shortcut})))}function S({device:e,selectedView:o,recordingKey:t}){const s=p.useDispatch(),i=!e||"NONE"===e.type,r=m.getScalingMode(o),a=["min-zoom","scale-down","contain"];function l(e){s(c.prototype.setScalingMode({scalingMode:e,userInitiated:!0}))}return i&&a.push("scale-down-width"),n.createElement(n.Fragment,null,a.map(e=>n.createElement(E,{key:e,option:e,scalingMode:r,scalingHandler:l,recordingKey:h.joinKeys({recordingKey:t},`option-${e}`)})))}function E({option:e,scalingMode:t,scalingHandler:s,recordingKey:c}){return n.createElement(r.dropdown.CheckableOption,{checked:e===t,onClick:()=>s(e),recordingKey:c},o.extendedScalingStrings[e],n.createElement(l.KeyboardShortcut,{shortcut:"Z",className:u.shortcut}))}o.scalingOptionsForMenu=["min-zoom","scale-down","contain","scale-down-width"],o.scalingStrings={"min-zoom":"100%","scale-down":"Fit",contain:"Fill","scale-down-width":"Width"},o.extendedScalingStrings={"min-zoom":"100% – Display at full size","scale-down":"Fit – Scale down to fit",contain:"Fill – Scale down or up to fill","scale-down-width":"Width – Scale down to fit width"},o.OPTIONS_DROPDOWN_TYPE="PROTOTYPE_OPTIONS_MENU",o.OptionsMenu=function({isEmbed:e,device:t,showHotspots:c,setHideUI:l,recordingKey:d}){const m=p.useSelector(e=>e.selectedView),w=p.useSelector(e=>e.dropdownShown),y=p.useDispatch(),E=w&&w.type===o.OPTIONS_DROPDOWN_TYPE;return n.createElement(a.RecordableDiv,{className:u.optionMenu,onClick:function(e){e.stopPropagation(),y(E?s.fileBrowser.hideDropdown():s.fileBrowser.showDropdown({type:o.OPTIONS_DROPDOWN_TYPE}))},recordingKey:h.joinKeys({recordingKey:d},"toggle")},n.createElement("div",{className:u.optionMenuButton},n.createElement("span",null,"Options"),n.createElement("div",{className:u.buttonChevron},n.createElement(i.Svg,{svg:g}))),E&&n.createElement(r.dropdown.Dropdown,{className:u.dropdown},n.createElement(S,{device:t,selectedView:m,recordingKey:d}),!e&&n.createElement(n.Fragment,null,n.createElement(r.dropdown.Separator,null),n.createElement(O,{showHotspots:c,setHideUI:l}))))},o.ViewOptions=O,o.ScalingOption=E}),
(function(r,t,e){"use strict";function n(r,t){return(.21*r.r+.72*r.g+.07*r.b)*(t?r.a:1)<.627}Object.defineProperty(t,"__esModule",{value:!0}),t.isDark=n,t.blackOrWhiteContrastingColor=function(r){return n(r,!1)?{r:1,g:1,b:1,a:1}:{r:0,g:0,b:0,a:1}}}),
(function(e,r,l){e.exports={multiplayerView:"multiplayer_view--multiplayerView--19Y20",users:"multiplayer_view--users--2LGXC",userIconView:"multiplayer_view--userIconView--1wivF",userIconAvatar:"multiplayer_view--userIconAvatar--3JhXH",userIconImage:"multiplayer_view--userIconImage--1-Y25",coloredLine:"multiplayer_view--coloredLine--29_ny",overflowColoredLine:"multiplayer_view--overflowColoredLine--WNwuB multiplayer_view--coloredLine--29_ny",textAvatarContainer:"multiplayer_view--textAvatarContainer--1QQrh",textAvatar:"multiplayer_view--textAvatar--3dpZL",overflowDropdown:"multiplayer_view--overflowDropdown--3Aa0u",overflowTextAvatar:"multiplayer_view--overflowTextAvatar--gwzeV multiplayer_view--textAvatar--3dpZL",overflowRow:"multiplayer_view--overflowRow--DElg3",overflowName:"multiplayer_view--overflowName--2pp2Q"}}),
(function(t,o,e){t.exports={toolbar:"toolbar_view--toolbar--2396w",buttonGroup:"toolbar_view--buttonGroup--2wM3n",flexibleSpace:"toolbar_view--flexibleSpace--X6lgG",centerButtonGroup:"toolbar_view--centerButtonGroup--3K7ek",iconButton:"toolbar_view--iconButton--Zxsnv",actionButtonContainer:"toolbar_view--actionButtonContainer--J2txY",actionButtonBadge:"toolbar_view--actionButtonBadge--N_YXW",label:"toolbar_view--label--2d6w6",textButtonContainer:"toolbar_view--textButtonContainer--3iQPl",shareButton:"toolbar_view--shareButton--Q6fI7 toolbar_view--textButtonContainer--3iQPl",textButton:"toolbar_view--textButton--eiCIw basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",toolButtonContainer:"toolbar_view--toolButtonContainer--1HAfB",unreadDotActive:"toolbar_view--unreadDotActive--146a-",unreadDot:"toolbar_view--unreadDot--Tdpt5",loginButton:"toolbar_view--loginButton--2rU-7"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(113                                     ),r=s(2,1    ),i=s(420              ),a=s(475                            ),o=s(497                                             ),l=s(414                                                             ),p=s(232                       ),c=s(498                                                        ),d=14.5,m=s(1339                    ),h=s(1340                 ),u=s(422                                        ),w=s(137                                    ),f=s(874                                                 ),v=i.pxToInt(u.toolbarHeight),x=e=>e.stopPropagation();class g extends r.PureComponent{constructor(){super(...arguments),this.state={animationClassName:null}}componentDidMount(){this.props.user.sessionID===this.props.observingSessionID&&this.setState({animationClassName:"selected"})}componentDidUpdate(e){this.props.user.sessionID===this.props.observingSessionID&&e.observingSessionID!==this.props.observingSessionID&&this.setState({animationClassName:"selected"}),this.props.user.sessionID!==this.props.observingSessionID&&this.props.user.sessionID===e.observingSessionID&&this.setState({animationClassName:"deselected"})}render(){const{onClick:e,user:t}=this.props;let s=null;return this.props.shouldShowColorIndicator&&(s=[r.createElement("svg",{key:"multiplayer-animation-svg",className:"multiplayer-animation-svg",viewBox:`0 0 ${v} ${v}`},r.createElement("circle",{className:`multiplayer-animation-circle ${this.state.animationClassName}`,cx:v/2,cy:v/2,r:d,fill:"none",stroke:t.color,strokeWidth:"2.4"})),r.createElement("div",{key:"multiplayer-animation-droplet",className:`multiplayer-animation-droplet ${this.state.animationClassName}`,style:{backgroundColor:t.color}})]),t.userID?r.createElement("div",{className:m.userIconView,onClick:e},r.createElement(c.ViewUserProfileTooltipWrapper,{user:{id:t.userID,handle:t.name}},s,r.createElement(a.Avatar,{entity:Object.assign(Object.assign({},t),{id:t.userID}),className:m.userIconAvatar}))):r.createElement("div",{className:m.userIconView,onClick:e,"data-tooltip-type":p.TooltipType.TEXT,"data-tooltip":t.name},s,r.createElement(a.Avatar,{entity:Object.assign(Object.assign({},t),{id:t.userID}),fallbackTintColor:"black",fallbackInitial:"?",className:m.userIconAvatar}))}}g.displayName="UserView";const y=`\n  .multiplayer-animation-svg {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n  }\n\n  .multiplayer-animation-droplet {\n    left: ${v/2-7}px;\n    top: 0px;\n    height: 2px;\n    width: 14px;\n    border-radius: 0px;\n    position: absolute;\n  }\n\n  .multiplayer-animation-droplet.selected {\n    animation: droplet 0.3s ease-in forwards;\n  }\n\n  .multiplayer-animation-droplet.deselected {\n    animation: droplet-reverse 0.2s ease-out 0.4s forwards;\n    left: ${v/2-3.5}px;\n    top: 0px;\n    height: 0px;\n    width: 0px;\n    border-radius: 0px;\n  }\n\n  .multiplayer-animation-circle {\n    stroke-dasharray: 400;\n    stroke-dashoffset: 400;\n    transform-origin: center;\n    transform: rotateZ(-90deg);\n  }\n\n  .multiplayer-animation-circle.selected {\n    animation: draw-circle 0.15s ease-in 0.3s forwards;\n  }\n\n  .multiplayer-animation-circle.deselected {\n    animation: draw-circle-reverse 0.4s ease-in forwards;\n  }\n\n  @keyframes droplet {\n    0% {\n      left: ${v/2-7}px;\n      top: 0px;\n      height: 2px;\n      width: 14px;\n      border-radius: 0px;\n    }\n    20% {\n      left: ${v/2-3.5}px;\n      top: -3.5px;\n      height: 7px;\n      width: 7px;\n      border-radius: 100%;\n    }\n    66% {\n      top: -2px;\n      height: 7px;\n    }\n    99% {\n      top: 5px;\n      left: ${v/2-1.5}px;\n      height: 3px;\n      width: 3px;\n      border-radius: 100%;\n    }\n    100% {\n      top: 5px;\n      left: ${v/2-.5}px;\n      height: 1px;\n      width: 1px;\n      border-radius: 100%;\n    }\n  }\n\n  @keyframes draw-circle {\n    0% {\n      stroke-dashoffset: 400;\n    }\n    100% {\n      stroke-dashoffset: 300;\n    }\n  }\n\n  @keyframes droplet-reverse {\n    0% {\n      left: ${v/2-3.5}px;\n      top: 0px;\n      height: 2px;\n      width: 2px;\n      border-radius: 0px;\n    }\n    100% {\n      left: ${v/2-7}px;\n      top: 0px;\n      height: 2px;\n      width: 14px;\n      border-radius: 0px;\n    }\n  }\n\n  @keyframes draw-circle-reverse {\n    0% {\n      stroke-dashoffset: 300;\n    }\n    100% {\n      stroke-dashoffset: 400;\n    }\n  }\n`,D=r.createElement("style",null,y);class I extends r.PureComponent{constructor(){super(...arguments),this.textAvatarContainerRef=r.createRef(),this._showPermissionsModal=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:f.FILE_PERMISSIONS_MODAL,data:{fileKey:this.props.editingFileKey}}))}),this._showMultiplayerUserDropdown=(()=>{this.props.dispatch(n.fileBrowser.showDropdown({type:I.MULTIPLAYER_USERS_DROPDOWN}))})}renderMultiplayerUsersDropdown(e){return this.props.dropdownShown&&this.props.dropdownShown.type===I.MULTIPLAYER_USERS_DROPDOWN&&this.textAvatarContainerRef.current?r.createElement(l.PointingDropdown,{targetRect:this.textAvatarContainerRef.current.getBoundingClientRect(),maxHeight:window.innerHeight-70,maxWidth:200,className:m.overflowDropdown},e.map(e=>{const t=()=>{this.props.handleMultiplayerUserClick(e)};return r.createElement("div",{key:e.sessionID,className:m.overflowRow,onClick:t},r.createElement(g,{onClick:t,sessionID:this.props.multiplayer.sessionID,observingSessionID:this.props.multiplayer.observingSessionID,user:e,shouldShowColorIndicator:!1}),r.createElement("div",{className:m.overflowName},e.name))})):null}renderMultiplayerUsers(){const e=this.props.multiplayer,t=e.observingSessionID;let s=e.allUsers;if(!s)return null;e.deviceNameFilter&&(s=s.filter(t=>t.deviceName===e.deviceNameFilter)),s.length&&s[0].sessionID!==e.sessionID&&(s=s.slice()).unshift(s.pop()),s=s.filter(e=>"editor"!=e.deviceName||void 0===e.sawMouse||!0===e.sawMouse);const n=this.props.threshold||4;let i=[];return s.length>n&&(i=s.slice(n-1),s=s.slice(0,n-1)),i.forEach((e,n)=>{if(e.sessionID===t){const t=s[s.length-1];s[s.length-1]=e,i[n]=t}}),i.sort((e,t)=>e.name===t.name?e.sessionID-t.sessionID:"Anonymous"===e.name?1:"Anonymous"===t.name?-1:e.name>t.name?1:-1),r.createElement("span",{className:m.users},s.map(n=>{return r.createElement(g,{key:n.sessionID,onClick:()=>{this.props.handleMultiplayerUserClick(n)},sessionID:e.sessionID,observingSessionID:t,user:n,shouldShowColorIndicator:s.length>1})}),i.length>0&&r.createElement(r.Fragment,null,r.createElement("span",{className:m.textAvatarContainer,ref:this.textAvatarContainerRef,onMouseDown:this._showMultiplayerUserDropdown,onClick:x},r.createElement(o.TextAvatar,{className:m.overflowTextAvatar,text:`${i.length}`}),r.createElement("div",{className:m.overflowColoredLine})),this.textAvatarContainerRef.current&&this.renderMultiplayerUsersDropdown(i)))}render(){return r.createElement("div",{className:m.multiplayerView},D,this.renderMultiplayerUsers(),this.props.user&&this.props.editingFileKey&&r.createElement(_,{onClick:this._showPermissionsModal},"Share"))}}t.MultiplayerView=I,I.displayName="MultiplayerView",I.MULTIPLAYER_USERS_DROPDOWN="multiplayer-users-dropdown";const _=w.asTrackedClickable(e=>r.createElement("div",{className:`${h.shareButton} ${h.textButton}`,onClick:e.onClick,"data-onboarding-key":"share"},e.children))}),
(function(l,o,e){l.exports={src:'<svg width="12" height="18" viewBox="0 0 12 18" xmlns="http://www.w3.org/2000/svg"><path d="M6 9c0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3 0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3z" fill-rule="nonzero" fill-opacity="1" fill="#1abcfe" stroke="none"/><path d="M0 15c0-1.657 1.343-3 3-3h3v3c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3z" fill-rule="nonzero" fill-opacity="1" fill="#0acf83" stroke="none"/><path d="M6 0v6h3c1.657 0 3-1.343 3-3 0-1.657-1.343-3-3-3H6z" fill-rule="nonzero" fill-opacity="1" fill="#ff7262" stroke="none"/><path d="M0 3c0 1.657 1.343 3 3 3h3V0H3C1.343 0 0 1.343 0 3z" fill-rule="nonzero" fill-opacity="1" fill="#f24e1e" stroke="none"/><path d="M0 9c0 1.657 1.343 3 3 3h3V6H3C1.343 6 0 7.343 0 9z" fill-rule="nonzero" fill-opacity="1" fill="#a259ff" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="51" height="18" viewBox="0 0 51 18" xmlns="http://www.w3.org/2000/svg"><path d="M0 0v14.048l1.807.006v-6.69h4.358V5.596H1.807V1.768h5.676V0H0zm10.736 2.852c.651 0 1.18-.527 1.18-1.178 0-.651-.529-1.18-1.18-1.18-.65 0-1.178.529-1.178 1.18 0 .65.527 1.178 1.178 1.178zm-.919 1.769v9.43h1.807v-9.43H9.817z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M18.328 4.346c-2.4 0-4.075 2.03-4.075 4.44 0 2.41 1.675 4.44 4.075 4.44 1.1 0 2.005-.426 2.664-1.118v1.255c0 1.563-1.227 2.869-2.829 2.869-.576 0-1.148-.223-1.604-.537l-.905 1.568c.723.466 1.584.737 2.509.737 2.56 0 4.637-2.076 4.637-4.637V4.621h-1.808v.843c-.659-.693-1.565-1.118-2.664-1.118zm-2.267 4.44c0-1.496 1.144-2.672 2.464-2.672 1.32 0 2.464 1.176 2.464 2.672 0 1.496-1.144 2.672-2.464 2.672-1.32 0-2.464-1.176-2.464-2.672z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/><path d="M29.312 6.114c-1.068 0-1.935.905-1.935 1.974v5.963H25.57v-9.43h1.807v.864c.53-.685 1.31-1.14 2.328-1.14 1.267 0 2.239.63 2.802 1.592.626-.93 1.647-1.591 2.876-1.591 2.057 0 3.338 1.66 3.35 3.713v5.992h-1.807V8.088c0-1.069-.867-1.974-1.936-1.974-1.069 0-1.935.905-1.935 1.974v5.963h-1.807V8.088c0-1.069-.867-1.974-1.936-1.974z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M48.36 5.69c-.804-.83-1.905-1.344-3.183-1.344-2.689 0-4.597 2.276-4.597 4.99 0 2.713 1.908 4.99 4.597 4.99 1.278 0 2.379-.514 3.183-1.344v1.069h1.807v-9.43H48.36V5.69zm-5.973 3.646c0-1.8 1.379-3.222 2.987-3.222 1.607 0 2.986 1.422 2.986 3.222 0 1.8-1.379 3.222-2.986 3.222-1.608 0-2.987-1.422-2.987-3.222z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.944 16.75l1.696-2.758.287-.465-.237-.493c-.465-.951-.697-1.91-.69-3.034 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7 0 3.866-3.134 7-7 7-1.14.007-2.112-.232-3.074-.709l-.268-.131-.296.037-4.418.552zm4.543.44c1.06.518 2.253.81 3.513.81 4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 1.243.283 2.419.789 3.468l-2.117 3.44L0 18l1.272-.159 5.215-.652z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M14.54 4.168l-3.187 3.186-.708-.708 3.197-3.197.753-.449H11V2h5v5h-1V3.334l-.46.834zM3.46 13.832l3.186-3.186.708.708-3.198 3.197-.752.449H7v1H2v-5h1v3.666l.46-.834z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,h,v){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M12.465 4.836l.01-.018L15.65 1.65l.707.707-3.196 3.196-.754.45h3.597v1h-5v-5h1V5.67l.46-.834h.001zm-6.922 8.335l-.01.018-3.176 3.168-.707-.707 3.196-3.196.754-.45H2.004v-1h5v5h-1v-3.667l-.461.835v-.001z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,r){e.exports={nav:"header--nav--2njKm",header:"header--header--3d0kA",headerClear:"header--headerClear--14eAa",headerDark:"header--headerDark--2JGe3",loadingHeader:"header--loadingHeader--q7YEu header--header--3d0kA",headerHidden:"header--headerHidden--PE8nn",column:"header--column--_eCKx",sideColumn:"header--sideColumn--11Nzb header--column--_eCKx",leftColumn:"header--leftColumn--3jpUC header--sideColumn--11Nzb header--column--_eCKx",centerColumn:"header--centerColumn--47wW2 header--column--_eCKx",rightColumn:"header--rightColumn--18A7d header--sideColumn--11Nzb header--column--_eCKx",commentsButton:"header--commentsButton--12w33 action--root--1ClVW header--commentsButton--12w33 action--root--1ClVW",commentsButtonSelected:"header--commentsButtonSelected--2r1YM header--commentsButton--12w33 action--root--1ClVW",fullScreenButtonBase:"header--fullScreenButtonBase--cV4ap action--root--1ClVW",fullScreenButton:"header--fullScreenButton--1CTah header--fullScreenButtonBase--cV4ap action--root--1ClVW",fullScreenButtonDisabled:"header--fullScreenButtonDisabled--32pSD header--fullScreenButtonBase--cV4ap action--root--1ClVW",settingsDropdownTarget:"header--settingsDropdownTarget--2FttJ",settingsDropdown:"header--settingsDropdown--24rOd",dropdownCaret:"header--dropdownCaret--3a-5I",topLeftIcon:"header--topLeftIcon--3XnCO",topLeftWordMark:"header--topLeftWordMark--1O59R",title:"header--title--4aIq1 ellipsis--ellipsis--1RWY6",titleWithCaret:"header--titleWithCaret--31Npo header--title--4aIq1 ellipsis--ellipsis--1RWY6",rightNavButton:"header--rightNavButton--2a8p9"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(2,1    ),i=t(6,1        ),r=t(706                                   ),n=t(113                                     ),p=t(207                                   ),a=t(342                                  ),l=t(421                                ),c=t(449                                  ),h=t(112          ),d=t(141              ),m=t(232                       ),u=t(1337            ),g=t(147                                            ),f=t(409                                  ),w=t(104              ),v=t(1338       ),S=t(1341                                                                       ),y=t(398               ),D=t(146                        ),_=t(112          ),C=t(1342                                  ),E=t(1343                                 ),I=t(1344                                                 ),b=t(417                         ),k=t(1345                                               ),T=t(1346                                              ),N=t(1347          ),M=t(400            ),O=t(874                                    );s.SETTINGS_DROPDOWN_TYPE="PROTOTYPE_SETTINGS_DROPDOWN";class B extends o.PureComponent{constructor(){super(...arguments),this.headerDivRef=(e=>{e&&(this.headerDiv=i.findDOMNode(e))}),this.startObservingUser=(e=>{const s=this.props.multiplayer;if(!s)return;const t=s.observingSessionID===e.sessionID||s.sessionID===e.sessionID?-1:e.sessionID,o=-1!==s.observingSessionID,i=s.observingSessionID!==e.sessionID&&s.sessionID!==e.sessionID;o&&this.props.dispatch(a.prototype.trackEvent({name:"Prototype Observation Ended",params:{multiplayerObservingSessionID:s.observingSessionID,multiplayerSessionID:s.sessionID}})),i&&(this.props.dispatch(a.prototype.trackEvent({name:"Prototype Observation Started",params:{multiplayerObservingSessionID:e.sessionID,multiplayerSessionID:s.sessionID}})),this.props.dispatch(c.userFlags.put({name:"aware_of_observation_mode"}))),this.props.dispatch(p.fullscreen.updateMultiplayerState(Object.assign(Object.assign({},s),{observingSessionID:t})))}),this.onClickSettings=(e=>{e.stopPropagation(),this.isSettingsDropdownShown()?this.props.dispatch(n.fileBrowser.hideDropdown()):this.props.dispatch(n.fileBrowser.showDropdown({type:s.SETTINGS_DROPDOWN_TYPE}))}),this.isSettingsDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===s.SETTINGS_DROPDOWN_TYPE),this.renderSettingsDropdown=(()=>this.isSettingsDropdownShown()?o.createElement(f.dropdown.Dropdown,{className:N.settingsDropdown},o.createElement(f.dropdown.Option,{onClick:this.openFileFromDropdown},"Open in Editor")):null),this.toggleComments=(()=>{this.props.prototype.showComments?this.props.dispatch(a.prototype.hideComments()):this.props.dispatch(a.prototype.showComments())}),this.handleClickComments=(()=>{this.props.user?this.toggleComments():this.props.showAuthCommentsModal()}),this.openFileFromDropdown=(()=>{const e=this.props.prototype.currentIndex,s=e>=0?this.props.prototype.frameIds[e]:void 0;this.props.dispatch(n.fileBrowser.selectView({view:"fullscreen",fileKey:this.props.file.key,nodeId:s})),this.props.dispatch(a.prototype.trackEvent({name:"Prototype Original Source Clicked"}))}),this.onClickLogo=(e=>{this.props.dispatch(a.prototype.trackEvent({name:"Prototype Logo Clicked"})),h.isInIframe()?h.redirect("/","_blank"):this.props.user?this.props.dispatch(n.fileBrowser.selectView({view:"recentFiles"})):h.redirect("/")}),this.showPermissionsModal=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:O.FILE_PERMISSIONS_MODAL,data:{fileKey:this.props.file.key}}))}),this.renderDefaultAuthModal=(()=>{this.props.dispatch(y.authActions.init({origin:"prototype_header_nav"})),this.props.dispatch(n.fileBrowser.showModal({type:M.AUTH_MODAL}))}),this.renderTopLeftIcon=(()=>{const e=h.isInIframe()&&null==w.parse(location.search).fullscreen;return o.createElement("a",{onClick:this.onClickLogo,className:e?N.topLeftWordMark:N.topLeftIcon},e&&o.createElement(D.Svg,{svg:E}),!e&&o.createElement(D.Svg,{svg:C,useOriginalSrcFills:!0}))}),this.getRightButtonText=((e,s)=>this.headerDiv&&this.headerDiv.getBoundingClientRect().width<970?e:s),this.renderRightNavButton=(()=>this.props.user?o.createElement(g.ButtonPrimary,{className:N.rightNavButton,onClick:this.showPermissionsModal},this.getRightButtonText("Share","Share Prototype")):o.createElement(g.ButtonGreen,{className:N.rightNavButton,onClick:this.renderDefaultAuthModal},this.getRightButtonText("Log in","Log in or Create Account"))),this.onMouseDown=(e=>{e.stopPropagation()}),this.renderFullHeader=(()=>{const e=this.props.user&&this.props.canViewInEditor,s=e?N.titleWithCaret:N.title,t=h.isInIframe(),i=t&&null==w.parse(location.search).fullscreen;let r=N.header;if(i){const e=this.props.prototypeBGColor;r=v.isDark({r:e.r/255,g:e.g/255,b:e.g/255,a:e.a/255},!0)?N.headerClear:N.headerDark}return this.props.shouldShowUI||(r+=` ${N.headerHidden}`),o.createElement("div",{className:r,ref:this.headerDivRef,onMouseMove:this.props.onMouseMove,onMouseDown:this.onMouseDown},o.createElement("div",{className:N.leftColumn},this.renderTopLeftIcon(),!t&&o.createElement(P,{recordingKey:d.joinKeys(this.props,"comments-button"),selected:this.props.prototype.showComments,onClick:this.handleClickComments})),o.createElement("div",{className:N.centerColumn},!t&&o.createElement("span",{className:s},this.props.file.name),t&&o.createElement("a",{className:N.title,target:"_blank",rel:"noopener",href:`/proto/${this.props.file.key}`},this.props.file.name),!t&&e&&o.createElement("div",{className:N.settingsDropdownTarget,onClick:this.onClickSettings},o.createElement(D.Svg,{svg:b,className:N.dropdownCaret}),this.renderSettingsDropdown())),o.createElement("div",{className:N.rightColumn},!t&&this.props.multiplayer&&o.createElement(S.MultiplayerView,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,editingFileKey:null,handleMultiplayerUserClick:this.startObservingUser,threshold:3}),!t&&this.renderRightNavButton(),o.createElement(u.OptionsMenu,{isEmbed:i,device:this.props.device,showHotspots:this.props.showHotspots,setHideUI:this.props.setHideUI,recordingKey:d.joinKeys(this.props,"options-menu")}),o.createElement(F,{inFullScreenMode:this.props.appWindow.inFullScreenMode,dispatch:this.props.dispatch})))}),this.renderLoadingHeader=(()=>o.createElement("div",{className:N.loadingHeader},this.renderTopLeftIcon()))}render(){return this.props.shouldShowUI&&this.props.prototype.showProgressBar?this.renderLoadingHeader():this.renderFullHeader()}}s.Header=B,B.displayName="Header";class P extends d.PureComponent{constructor(){super(...arguments),this.onClick=d.mouseEvent(this,"click",()=>{this.props.onClick()})}render(){return o.createElement("a",{className:this.props.selected?N.commentsButtonSelected:N.commentsButton,onClick:this.onClick,"data-tooltip-type":m.TooltipType.TEXT,"data-tooltip":"Add Comment (C)"},o.createElement(D.Svg,{svg:I}),this.props.children)}}s.ToggleCommentsButton=P,P.displayName="ToggleCommentsButton";class F extends o.PureComponent{constructor(){super(...arguments),this.onClick=_.capabilities.fullscreen?()=>{this.props.dispatch(r.appWindow.toggleFullScreen({})),this.props.dispatch(l.tooltip.hide())}:()=>{}}render(){let e;return e=_.capabilities.fullscreen?this.props.inFullScreenMode?"Exit Full Screen (F)":"Enter Full Screen (F)":"Full Screen is not supported by this browser",o.createElement("a",{onClick:this.onClick,className:_.capabilities.fullscreen?N.fullScreenButton:N.fullScreenButtonDisabled,"data-tooltip-type":m.TooltipType.TEXT,"data-tooltip":e},o.createElement(D.Svg,{svg:this.props.inFullScreenMode?T:k}),this.props.children)}}s.ToggleFullScreenButton=F,F.displayName="ToggleFullScreenButton"}),
(function(e,s,h){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=h(503               ),t=h(129           ),d=h(138      );let o=!1;var n;s.disablePrototypeUIFadeForTests=function(){o=!0},function(e){e[e.HANDLED_BY_PROTOTYPE_VIEW=0]="HANDLED_BY_PROTOTYPE_VIEW",e[e.NOT_HANDLED=1]="NOT_HANDLED"}(n=s.KeyDown||(s.KeyDown={}));class a{constructor(e,s){this._isUIShown=e,this._inCommentsMode=!1,this._hideUITask=new i.DelayedTask,this.handleProgressBarStoppedShowing=(()=>{this.showUiAndScheduleFade()}),this.onWindowFocus=(()=>{this.showUiAndScheduleFade()}),this.didEnterCommentsMode=(()=>{this._hideUITask.reset(),this._setUIShown(!0),this._inCommentsMode=!0}),this.didLeaveCommentsMode=(()=>{this._inCommentsMode&&(this._inCommentsMode=!1,this.showUiAndScheduleFade())}),this.handleUnhideUI=(()=>{this.showUiAndScheduleFade()}),this.handlePageMouseDownOrTouchStart=(e=>{"CURRENT_TLF"===e.type||"DEVICE_FRAME"===e.type?this._setUIShown(!1):"PROTOTYPE_BACKGROUND"===e.type&&(this._hideUITask.reset(),this._isUIShown()?this._setUIShown(!1):this.showUiAndScheduleFade())}),this.handleHotspotClicked=(()=>{this._setUIShown(!1)}),this.handlePageMouseMove=(e=>{const s=e.clientY,h=window.innerHeight-e.clientY,i=window.innerWidth/2,t=Math.abs(i-e.clientX)<85&&h<60;s<10?this.showUiAndScheduleFade():t?this.showUiAndScheduleFade():this.scheduleFadeIfNecessary()}),this.handleHeaderOrFooterMove=(e=>{this._hideUITask.reset(),this._isUIShown()||this._setUIShown(!0),e.stopPropagation()}),this.handleTouchTapOnNonHotspot=(()=>{this.showUiAndScheduleFade()}),this.handleKeyDown=((e,s)=>{s!=n.HANDLED_BY_PROTOTYPE_VIEW?e.keyCode===d.Key.ESCAPE&&this.showUiAndScheduleFade():this._isUIShown()&&this.showUiAndScheduleFade()}),this.teardown=(()=>{this._hideUITask.reset()}),this.showUiAndScheduleFade=(()=>{this._isUIShown()||this._setUIShown(!0),this._hideUITask.reset(),this.scheduleFadeIfNecessary()}),this.scheduleFadeIfNecessary=(()=>{o||this._hideUITask.isScheduled()||this._hideUITask.scheduleOnce(()=>{this._setUIShown(!1)},a.FADE_DELAY_MS)}),this._setUIShown=(e=>{!e&&this._inCommentsMode||s(e)})}}s.ImmersiveFadeBehavior=a,a.FADE_DELAY_MS=t.isMobileBrowser?1e3:2e3}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=n(2,1    ),s=n(90             ),d=n(691         );o.useCommentsThreadInfo=s.livegraphCommentsLaunchState.livelaunch?(e,o,n,m,r,c,i,a,l)=>{const u=s.useSubscription(s.FileWithComments,{fileKey:e}),f=((e,o)=>{const n=t.useMemo(()=>{if("loaded"!==e.status||!e.data.file)return{commentNodeInfoById:{},commentNodeIds:new Set,commentThreads:[],anchorPositionById:{}};const o=e.data.file,{comments:n}=o,t=Object.create(null),s=new Set,d=n.filter(e=>null===e.parentId);for(const e of d)if(e.clientMeta){const{x:o,y:n,nodeId:d,nodeOffset:m}=e.clientMeta;t[e.id]={canvasPosition:{x:o,y:n},nodeId:d,nodeOffset:m},null!=d&&s.add(d)}return{commentNodeInfoById:t,commentNodeIds:s,commentThreads:d}},[e]),s=o(n.commentNodeInfoById,Array.from(n.commentNodeIds)),d=n.commentThreads;return t.useMemo(()=>({commentThreads:d,anchorPositionById:s}),[d,s])})(u,a);return t.useMemo(()=>d.livegraphCommentThreadsInfo(u,r,c,f,l),[u,r,c,f,l])}:(e,o,n,s,m,r,c,i,a)=>{const l=((e,o,n)=>{const s=t.useMemo(()=>{const n=Object.create(null),t=new Set;for(const s in o){const o=e[s];if(o&&o.client_meta){const{x:e,y:s,node_id:d,node_offset:m}=o.client_meta;n[o.id]={canvasPosition:{x:e,y:s},nodeId:d||null,nodeOffset:m||null},null!=d&&t.add(d)}}return{commentNodeInfoById:n,commentNodeIds:t}},[e,o]),d=n(s.commentNodeInfoById,Array.from(s.commentNodeIds));return t.useMemo(()=>({anchorPositionById:d}),[d])})(s,n,i);return t.useMemo(()=>d.commentThreadInfos(o,n,s,m,r,c,l,a),[o,n,s,m,r,c,l,a])};o.useUsersOnFileInfo=s.livegraphPrototypeLaunchState.livelaunch?(e,o,n,m)=>{const r=s.useSubscription(s.FilePermittedUsers,{fileKey:e});return t.useMemo(()=>d.livegraphFilePermittedUsers(r),[r])}:(e,o,n,s)=>t.useMemo(()=>d.filePermittedUsers(o,n,s),[o,n,s])}),
(function(n,o,t){n.exports={}}),
(function(o,e,t){o.exports={documentationFooter:"embed_documentation_footer--documentationFooter--2gpG4",documentationFooterIcon:"embed_documentation_footer--documentationFooterIcon--1K_Je",documentationFooterLeft:"embed_documentation_footer--documentationFooterLeft--rcexg",documentationFooterRight:"embed_documentation_footer--documentationFooterRight--2afUY",documentationFooterTitle:"embed_documentation_footer--documentationFooterTitle--1ApF5 ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",documentationFooterUpdatedAt:"embed_documentation_footer--documentationFooterUpdatedAt--1c63B text--fontPos11--RSei3 text--_fontBase--YWDo0",documentationAccessLevel:"embed_documentation_footer--documentationAccessLevel--FtU-b",documentationAccessLevelIcon:"embed_documentation_footer--documentationAccessLevelIcon--3dBd-",documentationAccessLevelReason:"embed_documentation_footer--documentationAccessLevelReason--1Y4Ht ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0"}}),
(function(c,h,t){c.exports={src:'<svg width="12" height="17" viewBox="0 0 12 17" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 1.5h-2c-1.105 0-2 .895-2 2 0 1.105.895 2 2 2h2v-4zm-5 2c0 1.043.533 1.963 1.341 2.5C1.033 6.537.5 7.457.5 8.5c0 1.043.533 1.963 1.341 2.5C1.033 11.537.5 12.457.5 13.5c0 1.657 1.343 3 3 3 1.657 0 3-1.343 3-3V10.736c.53.475 1.232.764 2 .764 1.657 0 3-1.343 3-3 0-1.043-.533-1.963-1.341-2.5.808-.537 1.341-1.457 1.341-2.5 0-1.657-1.343-3-3-3h-5c-1.657 0-3 1.343-3 3zm1 5c0-1.105.895-2 2-2h2v4h-2c-1.105 0-2-.895-2-2zm0 5c0-1.105.895-2 2-2h2v2c0 1.105-.895 2-2 2-1.105 0-2-.895-2-2zm7-3c-1.105 0-2-.895-2-2 0-1.105.895-2 2-2 1.105 0 2 .895 2 2 0 1.105-.895 2-2 2zm0-5h-2v-4h2c1.105 0 2 .895 2 2 0 1.105-.895 2-2 2z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(2,1    ),a=o(146                        );o(1351                            );const n=o(1352                              ),c=o(1353                                         ),i=o(516                                           ),r=e=>{const{access_type:t,accessed_via:o}=e,c=s.useMemo(()=>{const t={icon:i,message:`Visible to people invited to this ${e.type}`},s={icon:i,message:o?`Visible to ${o.name}`:"Visible to everyone in your org"};return{edit:null,view:null,org_edit:s,org_view:s,inherit:t}},[o,e.type]);if(!t)return null;const r=c[t];if(!r)return null;const{icon:l,message:m}=r;return s.createElement("div",{className:n.documentationAccessLevel},s.createElement(a.Svg,{className:n.documentationAccessLevelIcon,svg:l}),s.createElement("span",{className:n.documentationAccessLevelReason},m))};t.DocumentationFooter=(e=>{const t=`/${e.isPrototype?"proto":"file"}/${e.fileKey}${e.params.startsWith("?")?e.params:`?${e.params}`}`,o=e;return s.createElement("a",{className:n.documentationFooter,target:"_blank",rel:"noopener",href:t},s.createElement("div",{className:n.documentationFooterRight},s.createElement(r,Object.assign({},o,{type:e.isPrototype?"prototype":"file"}))),s.createElement("div",{className:n.documentationFooterLeft},s.createElement(a.Svg,{className:n.documentationFooterIcon,svg:c}),s.createElement("span",{className:n.documentationFooterTitle},e.fileName),e.updatedAt&&s.createElement("span",{className:n.documentationFooterUpdatedAt},"Edited ",e.updatedAt)))})}),
(function(s,e,n){s.exports={splashScreen:"splash_screen--splashScreen--3QqTr",hiddenSplashScreen:"splash_screen--hiddenSplashScreen--NKZd5 splash_screen--splashScreen--3QqTr",splashScreenSvg:"splash_screen--splashScreenSvg--2AQKI",splashScreenLoadingBar:"splash_screen--splashScreenLoadingBar--1QiVf"}}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=a(2,1    ),t=a(112          ),n=a(857                           ),c=a(146                        ),l=a(1355                 ),i=a(393                            );s.SplashScreen=function({selectedView:e,sceneCompletedInitialLoad:s}){const[a,o]=r.useState(!1),[g]=r.useState(!!e.hideUI&&!t.isInIframe());r.useEffect(()=>{setTimeout(()=>{o(!0)},2e3)},[]);const m=g&&!(a&&s);return r.createElement("div",{className:m?l.splashScreen:l.hiddenSplashScreen},r.createElement(n.ProgressBarRelative,{className:l.splashScreenLoadingBar}),r.createElement("div",{className:l.splashScreenSvg},r.createElement(c.Svg,{svg:i,useOriginalSrcFills:!0})),r.createElement("div",null,"Opening Figma Prototype..."))}}),
(function(r,n,t){"use strict";var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(r,n){return Object.prototype.hasOwnProperty.call(r,n)}n.assign=function(r){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var t=n.shift();if(t){if("object"!=typeof t)throw new TypeError(t+"must be non-object");for(var e in t)a(t,e)&&(r[e]=t[e])}}return r},n.shrinkBuf=function(r,n){return r.length===n?r:r.subarray?r.subarray(0,n):(r.length=n,r)};var f={arraySet:function(r,n,t,e,a){if(n.subarray&&r.subarray)r.set(n.subarray(t,t+e),a);else for(var f=0;f<e;f++)r[a+f]=n[t+f]},flattenChunks:function(r){var n,t,e,a,f,u;for(e=0,n=0,t=r.length;n<t;n++)e+=r[n].length;for(u=new Uint8Array(e),a=0,n=0,t=r.length;n<t;n++)f=r[n],u.set(f,a),a+=f.length;return u}},u={arraySet:function(r,n,t,e,a){for(var f=0;f<e;f++)r[a+f]=n[t+f]},flattenChunks:function(r){return[].concat.apply([],r)}};n.setTyped=function(r){r?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,f)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,u))},n.setTyped(e)}),
(function(e,t,n){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
var _=n(1357),r=4,a=0,i=1,l=2;function d(e){for(var t=e.length;--t>=0;)e[t]=0}var f=0,o=1,b=2,u=29,c=256,s=c+1+u,p=30,h=19,v=2*s+1,y=15,g=16,m=7,w=256,x=16,A=17,k=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(s+2));d(B);var C=new Array(2*p);d(C);var D=new Array(512);d(D);var E=new Array(256);d(E);var F=new Array(u);d(F);var G,H,I,J=new Array(p);function K(e,t,n,_,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=_,this.max_length=r,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?D[e]:D[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,n){e.bi_valid>g-n?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=n-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function P(e,t,n){O(e,n[2*t],n[2*t+1])}function Q(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function R(e,t,n){var _,r,a=new Array(y+1),i=0;for(_=1;_<=y;_++)a[_]=i=i+n[_-1]<<1;for(r=0;r<=t;r++){var l=e[2*r+1];0!==l&&(e[2*r]=Q(a[l]++,l))}}function T(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<p;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function U(e){e.bi_valid>8?N(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,n,_){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&_[t]<=_[n]}function W(e,t,n){for(var _=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&V(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!V(t,_,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=_}function X(e,t,n){var _,r,a,i,l=0;if(0!==e.last_lit)do{_=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===_?P(e,r,t):(P(e,(a=E[r])+c+1,t),0!==(i=z[a])&&O(e,r-=F[a],i),P(e,a=M(--_),n),0!==(i=S[a])&&O(e,_-=J[a],i))}while(l<e.last_lit);P(e,w,t)}function Y(e,t){var n,_,r,a=t.dyn_tree,i=t.stat_desc.static_tree,l=t.stat_desc.has_stree,d=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=v,n=0;n<d;n++)0!==a[2*n]?(e.heap[++e.heap_len]=f=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[r]=0,e.opt_len--,l&&(e.static_len-=i[2*r+1]);for(t.max_code=f,n=e.heap_len>>1;n>=1;n--)W(e,a,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],W(e,a,1),_=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=_,a[2*r]=a[2*n]+a[2*_],e.depth[r]=(e.depth[n]>=e.depth[_]?e.depth[n]:e.depth[_])+1,a[2*n+1]=a[2*_+1]=r,e.heap[1]=r++,W(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,_,r,a,i,l,d=t.dyn_tree,f=t.max_code,o=t.stat_desc.static_tree,b=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,c=t.stat_desc.extra_base,s=t.stat_desc.max_length,p=0;for(a=0;a<=y;a++)e.bl_count[a]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<v;n++)(a=d[2*d[2*(_=e.heap[n])+1]+1]+1)>s&&(a=s,p++),d[2*_+1]=a,_>f||(e.bl_count[a]++,i=0,_>=c&&(i=u[_-c]),l=d[2*_],e.opt_len+=l*(a+i),b&&(e.static_len+=l*(o[2*_+1]+i)));if(0!==p){do{for(a=s-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[s]--,p-=2}while(p>0);for(a=s;0!==a;a--)for(_=e.bl_count[a];0!==_;)(r=e.heap[--n])>f||(d[2*r+1]!==a&&(e.opt_len+=(a-d[2*r+1])*d[2*r],d[2*r+1]=a),_--)}}(e,t),R(a,f,e.bl_count)}function Z(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),t[2*(n+1)+1]=65535,_=0;_<=n;_++)r=i,i=t[2*(_+1)+1],++l<d&&r===i||(l<f?e.bl_tree[2*r]+=l:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*x]++):l<=10?e.bl_tree[2*A]++:e.bl_tree[2*k]++,l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4))}function $(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),_=0;_<=n;_++)if(r=i,i=t[2*(_+1)+1],!(++l<d&&r===i)){if(l<f)do{P(e,r,e.bl_tree)}while(0!=--l);else 0!==r?(r!==a&&(P(e,r,e.bl_tree),l--),P(e,x,e.bl_tree),O(e,l-3,2)):l<=10?(P(e,A,e.bl_tree),O(e,l-3,3)):(P(e,k,e.bl_tree),O(e,l-11,7));l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4)}}d(J);var ee=!1;function te(e,t,n,r){O(e,(f<<1)+(r?1:0),3),function(e,t,n,r){U(e),r&&(N(e,n),N(e,~n)),_.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(function(){var e,t,n,_,r,a=new Array(y+1);for(n=0,_=0;_<u-1;_++)for(F[_]=n,e=0;e<1<<z[_];e++)E[n++]=_;for(E[n-1]=_,r=0,_=0;_<16;_++)for(J[_]=r,e=0;e<1<<S[_];e++)D[r++]=_;for(r>>=7;_<p;_++)for(J[_]=r<<7,e=0;e<1<<S[_]-7;e++)D[256+r++]=_;for(t=0;t<=y;t++)a[t]=0;for(e=0;e<=143;)B[2*e+1]=8,e++,a[8]++;for(;e<=255;)B[2*e+1]=9,e++,a[9]++;for(;e<=279;)B[2*e+1]=7,e++,a[7]++;for(;e<=287;)B[2*e+1]=8,e++,a[8]++;for(R(B,s+1,a),e=0;e<p;e++)C[2*e+1]=5,C[2*e]=Q(e,5);G=new K(B,z,c+1,s,y),H=new K(C,S,0,p,y),I=new K(new Array(0),j,0,h,m)}(),ee=!0),e.l_desc=new L(e.dyn_ltree,G),e.d_desc=new L(e.dyn_dtree,H),e.bl_desc=new L(e.bl_tree,I),e.bi_buf=0,e.bi_valid=0,T(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,_){var d,f,u=0;e.level>0?(e.strm.data_type===l&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return i;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return i;return a}(e)),Y(e,e.l_desc),Y(e,e.d_desc),u=function(e){var t;for(Z(e,e.dyn_ltree,e.l_desc.max_code),Z(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=h-1;t>=3&&0===e.bl_tree[2*q[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),d=e.opt_len+3+7>>>3,(f=e.static_len+3+7>>>3)<=d&&(d=f)):d=f=n+5,n+4<=d&&-1!==t?te(e,t,n,_):e.strategy===r||f===d?(O(e,(o<<1)+(_?1:0),3),X(e,B,C)):(O(e,(b<<1)+(_?1:0),3),function(e,t,n,_){var r;for(O(e,t-257,5),O(e,n-1,5),O(e,_-4,4),r=0;r<_;r++)O(e,e.bl_tree[2*q[r]+1],3);$(e,e.dyn_ltree,t-1),$(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),X(e,e.dyn_ltree,e.dyn_dtree)),T(e),_&&U(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(E[n]+c+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){O(e,o<<1,3),P(e,w,B),function(e){16===e.bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}}),
(function(e,r,t){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
e.exports=function(e,r,t,n){for(var o=65535&e|0,i=e>>>16&65535|0,u=0;0!==t;){t-=u=t>2e3?2e3:t;do{i=i+(o=o+r[n++]|0)|0}while(--u);o%=65521,i%=65521}return o|i<<16|0}}),
(function(r,n,t){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
var o=function(){for(var r,n=[],t=0;t<256;t++){r=t;for(var o=0;o<8;o++)r=1&r?3988292384^r>>>1:r>>>1;n[t]=r}return n}();r.exports=function(r,n,t,f){var u=o,a=f+t;r^=-1;for(var v=f;v<a;v++)r=r>>>8^u[255&(r^n[v])];return-1^r}}),
(function(r,e,i){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}}),
(function(t,a,e){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
var s,i=e(1357),n=e(1358),r=e(1359),h=e(1360),l=e(1361),_=0,d=1,o=3,u=4,g=5,f=0,c=1,m=-2,p=-3,w=-5,v=-1,k=1,z=2,b=3,x=4,y=0,B=2,S=8,I=9,A=15,C=8,R=286,j=30,D=19,E=2*R+1,H=15,K=3,N=258,q=N+K+1,F=32,G=42,J=69,L=73,M=91,O=103,P=113,Q=666,T=1,U=2,V=3,W=4,X=3;function Y(t,a){return t.msg=l[a],a}function Z(t){return(t<<1)-(t>4?9:0)}function $(t){for(var a=t.length;--a>=0;)t[a]=0}function tt(t){var a=t.state,e=a.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(i.arraySet(t.output,a.pending_buf,a.pending_out,e,t.next_out),t.next_out+=e,a.pending_out+=e,t.total_out+=e,t.avail_out-=e,a.pending-=e,0===a.pending&&(a.pending_out=0))}function at(t,a){n._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,a),t.block_start=t.strstart,tt(t.strm)}function et(t,a){t.pending_buf[t.pending++]=a}function st(t,a){t.pending_buf[t.pending++]=a>>>8&255,t.pending_buf[t.pending++]=255&a}function it(t,a){var e,s,i=t.max_chain_length,n=t.strstart,r=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-q?t.strstart-(t.w_size-q):0,_=t.window,d=t.w_mask,o=t.prev,u=t.strstart+N,g=_[n+r-1],f=_[n+r];t.prev_length>=t.good_match&&(i>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(e=a)+r]===f&&_[e+r-1]===g&&_[e]===_[n]&&_[++e]===_[n+1]){n+=2,e++;do{}while(_[++n]===_[++e]&&_[++n]===_[++e]&&_[++n]===_[++e]&&_[++n]===_[++e]&&_[++n]===_[++e]&&_[++n]===_[++e]&&_[++n]===_[++e]&&_[++n]===_[++e]&&n<u);if(s=N-(u-n),n=u-N,s>r){if(t.match_start=a,r=s,s>=h)break;g=_[n+r-1],f=_[n+r]}}}while((a=o[a&d])>l&&0!=--i);return r<=t.lookahead?r:t.lookahead}function nt(t){var a,e,s,n,l,_,d,o,u,g,f=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-q)){i.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,a=e=t.hash_size;do{s=t.head[--a],t.head[a]=s>=f?s-f:0}while(--e);a=e=f;do{s=t.prev[--a],t.prev[a]=s>=f?s-f:0}while(--e);n+=f}if(0===t.strm.avail_in)break;if(_=t.strm,d=t.window,o=t.strstart+t.lookahead,u=n,g=void 0,(g=_.avail_in)>u&&(g=u),e=0===g?0:(_.avail_in-=g,i.arraySet(d,_.input,_.next_in,g,o),1===_.state.wrap?_.adler=r(_.adler,d,g,o):2===_.state.wrap&&(_.adler=h(_.adler,d,g,o)),_.next_in+=g,_.total_in+=g,g),t.lookahead+=e,t.lookahead+t.insert>=K)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+K-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<K)););}while(t.lookahead<q&&0!==t.strm.avail_in)}function rt(t,a){for(var e,s;;){if(t.lookahead<q){if(nt(t),t.lookahead<q&&a===_)return T;if(0===t.lookahead)break}if(e=0,t.lookahead>=K&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==e&&t.strstart-e<=t.w_size-q&&(t.match_length=it(t,e)),t.match_length>=K)if(s=n._tr_tally(t,t.strstart-t.match_start,t.match_length-K),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=K){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else s=n._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(s&&(at(t,!1),0===t.strm.avail_out))return T}return t.insert=t.strstart<K-1?t.strstart:K-1,a===u?(at(t,!0),0===t.strm.avail_out?V:W):t.last_lit&&(at(t,!1),0===t.strm.avail_out)?T:U}function ht(t,a){for(var e,s,i;;){if(t.lookahead<q){if(nt(t),t.lookahead<q&&a===_)return T;if(0===t.lookahead)break}if(e=0,t.lookahead>=K&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=K-1,0!==e&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-q&&(t.match_length=it(t,e),t.match_length<=5&&(t.strategy===k||t.match_length===K&&t.strstart-t.match_start>4096)&&(t.match_length=K-1)),t.prev_length>=K&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-K,s=n._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-K),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=K-1,t.strstart++,s&&(at(t,!1),0===t.strm.avail_out))return T}else if(t.match_available){if((s=n._tr_tally(t,0,t.window[t.strstart-1]))&&at(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return T}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(s=n._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<K-1?t.strstart:K-1,a===u?(at(t,!0),0===t.strm.avail_out?V:W):t.last_lit&&(at(t,!1),0===t.strm.avail_out)?T:U}function lt(t,a,e,s,i){this.good_length=t,this.max_lazy=a,this.nice_length=e,this.max_chain=s,this.func=i}function _t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*E),this.dyn_dtree=new i.Buf16(2*(2*j+1)),this.bl_tree=new i.Buf16(2*(2*D+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(H+1),this.heap=new i.Buf16(2*R+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*R+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function dt(t){var a;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=B,(a=t.state).pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?G:P,t.adler=2===a.wrap?0:1,a.last_flush=_,n._tr_init(a),f):Y(t,m)}function ot(t){var a,e=dt(t);return e===f&&((a=t.state).window_size=2*a.w_size,$(a.head),a.max_lazy_match=s[a.level].max_lazy,a.good_match=s[a.level].good_length,a.nice_match=s[a.level].nice_length,a.max_chain_length=s[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=K-1,a.match_available=0,a.ins_h=0),e}function ut(t,a,e,s,n,r){if(!t)return m;var h=1;if(a===v&&(a=6),s<0?(h=0,s=-s):s>15&&(h=2,s-=16),n<1||n>I||e!==S||s<8||s>15||a<0||a>9||r<0||r>x)return Y(t,m);8===s&&(s=9);var l=new _t;return t.state=l,l.strm=t,l.wrap=h,l.gzhead=null,l.w_bits=s,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=n+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+K-1)/K),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<n+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=a,l.strategy=r,l.method=e,ot(t)}s=[new lt(0,0,0,0,function(t,a){var e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(nt(t),0===t.lookahead&&a===_)return T;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var s=t.block_start+e;if((0===t.strstart||t.strstart>=s)&&(t.lookahead=t.strstart-s,t.strstart=s,at(t,!1),0===t.strm.avail_out))return T;if(t.strstart-t.block_start>=t.w_size-q&&(at(t,!1),0===t.strm.avail_out))return T}return t.insert=0,a===u?(at(t,!0),0===t.strm.avail_out?V:W):(t.strstart>t.block_start&&(at(t,!1),t.strm.avail_out),T)}),new lt(4,4,8,4,rt),new lt(4,5,16,8,rt),new lt(4,6,32,32,rt),new lt(4,4,16,16,ht),new lt(8,16,32,32,ht),new lt(8,16,128,128,ht),new lt(8,32,128,256,ht),new lt(32,128,258,1024,ht),new lt(32,258,258,4096,ht)],a.deflateInit=function(t,a){return ut(t,a,S,A,C,y)},a.deflateInit2=ut,a.deflateReset=ot,a.deflateResetKeep=dt,a.deflateSetHeader=function(t,a){return t&&t.state?2!==t.state.wrap?m:(t.state.gzhead=a,f):m},a.deflate=function(t,a){var e,i,r,l;if(!t||!t.state||a>g||a<0)return t?Y(t,m):m;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===Q&&a!==u)return Y(t,0===t.avail_out?w:m);if(i.strm=t,e=i.last_flush,i.last_flush=a,i.status===G)if(2===i.wrap)t.adler=0,et(i,31),et(i,139),et(i,8),i.gzhead?(et(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),et(i,255&i.gzhead.time),et(i,i.gzhead.time>>8&255),et(i,i.gzhead.time>>16&255),et(i,i.gzhead.time>>24&255),et(i,9===i.level?2:i.strategy>=z||i.level<2?4:0),et(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(et(i,255&i.gzhead.extra.length),et(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=h(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=J):(et(i,0),et(i,0),et(i,0),et(i,0),et(i,0),et(i,9===i.level?2:i.strategy>=z||i.level<2?4:0),et(i,X),i.status=P);else{var p=S+(i.w_bits-8<<4)<<8;p|=(i.strategy>=z||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(p|=F),p+=31-p%31,i.status=P,st(i,p),0!==i.strstart&&(st(i,t.adler>>>16),st(i,65535&t.adler)),t.adler=1}if(i.status===J)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=h(t.adler,i.pending_buf,i.pending-r,r)),tt(t),r=i.pending,i.pending!==i.pending_buf_size));)et(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=h(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=L)}else i.status=L;if(i.status===L)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=h(t.adler,i.pending_buf,i.pending-r,r)),tt(t),r=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,et(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>r&&(t.adler=h(t.adler,i.pending_buf,i.pending-r,r)),0===l&&(i.gzindex=0,i.status=M)}else i.status=M;if(i.status===M)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=h(t.adler,i.pending_buf,i.pending-r,r)),tt(t),r=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,et(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>r&&(t.adler=h(t.adler,i.pending_buf,i.pending-r,r)),0===l&&(i.status=O)}else i.status=O;if(i.status===O&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&tt(t),i.pending+2<=i.pending_buf_size&&(et(i,255&t.adler),et(i,t.adler>>8&255),t.adler=0,i.status=P)):i.status=P),0!==i.pending){if(tt(t),0===t.avail_out)return i.last_flush=-1,f}else if(0===t.avail_in&&Z(a)<=Z(e)&&a!==u)return Y(t,w);if(i.status===Q&&0!==t.avail_in)return Y(t,w);if(0!==t.avail_in||0!==i.lookahead||a!==_&&i.status!==Q){var v=i.strategy===z?function(t,a){for(var e;;){if(0===t.lookahead&&(nt(t),0===t.lookahead)){if(a===_)return T;break}if(t.match_length=0,e=n._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(at(t,!1),0===t.strm.avail_out))return T}return t.insert=0,a===u?(at(t,!0),0===t.strm.avail_out?V:W):t.last_lit&&(at(t,!1),0===t.strm.avail_out)?T:U}(i,a):i.strategy===b?function(t,a){for(var e,s,i,r,h=t.window;;){if(t.lookahead<=N){if(nt(t),t.lookahead<=N&&a===_)return T;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=K&&t.strstart>0&&(s=h[i=t.strstart-1])===h[++i]&&s===h[++i]&&s===h[++i]){r=t.strstart+N;do{}while(s===h[++i]&&s===h[++i]&&s===h[++i]&&s===h[++i]&&s===h[++i]&&s===h[++i]&&s===h[++i]&&s===h[++i]&&i<r);t.match_length=N-(r-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=K?(e=n._tr_tally(t,1,t.match_length-K),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=n._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(at(t,!1),0===t.strm.avail_out))return T}return t.insert=0,a===u?(at(t,!0),0===t.strm.avail_out?V:W):t.last_lit&&(at(t,!1),0===t.strm.avail_out)?T:U}(i,a):s[i.level].func(i,a);if(v!==V&&v!==W||(i.status=Q),v===T||v===V)return 0===t.avail_out&&(i.last_flush=-1),f;if(v===U&&(a===d?n._tr_align(i):a!==g&&(n._tr_stored_block(i,0,0,!1),a===o&&($(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),tt(t),0===t.avail_out))return i.last_flush=-1,f}return a!==u?f:i.wrap<=0?c:(2===i.wrap?(et(i,255&t.adler),et(i,t.adler>>8&255),et(i,t.adler>>16&255),et(i,t.adler>>24&255),et(i,255&t.total_in),et(i,t.total_in>>8&255),et(i,t.total_in>>16&255),et(i,t.total_in>>24&255)):(st(i,t.adler>>>16),st(i,65535&t.adler)),tt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?f:c)},a.deflateEnd=function(t){var a;return t&&t.state?(a=t.state.status)!==G&&a!==J&&a!==L&&a!==M&&a!==O&&a!==P&&a!==Q?Y(t,m):(t.state=null,a===P?Y(t,p):f):m},a.deflateSetDictionary=function(t,a){var e,s,n,h,l,_,d,o,u=a.length;if(!t||!t.state)return m;if(2===(h=(e=t.state).wrap)||1===h&&e.status!==G||e.lookahead)return m;for(1===h&&(t.adler=r(t.adler,a,u,0)),e.wrap=0,u>=e.w_size&&(0===h&&($(e.head),e.strstart=0,e.block_start=0,e.insert=0),o=new i.Buf8(e.w_size),i.arraySet(o,a,u-e.w_size,e.w_size,0),a=o,u=e.w_size),l=t.avail_in,_=t.next_in,d=t.input,t.avail_in=u,t.next_in=0,t.input=a,nt(e);e.lookahead>=K;){s=e.strstart,n=e.lookahead-(K-1);do{e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+K-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++}while(--n);e.strstart=s,e.lookahead=K-1,nt(e)}return e.strstart+=e.lookahead,e.block_start=e.strstart,e.insert=e.lookahead,e.lookahead=0,e.match_length=e.prev_length=K-1,e.match_available=0,t.next_in=_,t.input=d,t.avail_in=l,e.wrap=h,f},a.deflateInfo="pako deflate (from Nodeca project)"}),
(function(r,n,t){"use strict";var e=t(1357),f=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(h){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){o=!1}for(var u=new e.Buf8(256),a=0;a<256;a++)u[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function i(r,n){if(n<65534&&(r.subarray&&o||!r.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(r,n));for(var t="",u=0;u<n;u++)t+=String.fromCharCode(r[u]);return t}u[254]=u[254]=1,n.string2buf=function(r){var n,t,f,o,u,a=r.length,i=0;for(o=0;o<a;o++)55296==(64512&(t=r.charCodeAt(o)))&&o+1<a&&56320==(64512&(f=r.charCodeAt(o+1)))&&(t=65536+(t-55296<<10)+(f-56320),o++),i+=t<128?1:t<2048?2:t<65536?3:4;for(n=new e.Buf8(i),u=0,o=0;u<i;o++)55296==(64512&(t=r.charCodeAt(o)))&&o+1<a&&56320==(64512&(f=r.charCodeAt(o+1)))&&(t=65536+(t-55296<<10)+(f-56320),o++),t<128?n[u++]=t:t<2048?(n[u++]=192|t>>>6,n[u++]=128|63&t):t<65536?(n[u++]=224|t>>>12,n[u++]=128|t>>>6&63,n[u++]=128|63&t):(n[u++]=240|t>>>18,n[u++]=128|t>>>12&63,n[u++]=128|t>>>6&63,n[u++]=128|63&t);return n},n.buf2binstring=function(r){return i(r,r.length)},n.binstring2buf=function(r){for(var n=new e.Buf8(r.length),t=0,f=n.length;t<f;t++)n[t]=r.charCodeAt(t);return n},n.buf2string=function(r,n){var t,e,f,o,a=n||r.length,h=new Array(2*a);for(e=0,t=0;t<a;)if((f=r[t++])<128)h[e++]=f;else if((o=u[f])>4)h[e++]=65533,t+=o-1;else{for(f&=2===o?31:3===o?15:7;o>1&&t<a;)f=f<<6|63&r[t++],o--;o>1?h[e++]=65533:f<65536?h[e++]=f:(f-=65536,h[e++]=55296|f>>10&1023,h[e++]=56320|1023&f)}return i(h,e)},n.utf8border=function(r,n){var t;for((n=n||r.length)>r.length&&(n=r.length),t=n-1;t>=0&&128==(192&r[t]);)t--;return t<0?n:0===t?n:t+u[r[t]]>n?t:n}}),
(function(t,i,s){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}),
(function(t,i,n){"use strict";var s=n(1362),e=n(1357),r=n(1363),o=n(1361),a=n(1364),u=Object.prototype.toString,h=0,d=-1,l=0,f=8;function c(t){if(!(this instanceof c))return new c(t);this.options=e.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},t||{});var i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(n!==h)throw new Error(o[n]);if(i.header&&s.deflateSetHeader(this.strm,i.header),i.dictionary){var w;if(w="string"==typeof i.dictionary?r.string2buf(i.dictionary):"[object ArrayBuffer]"===u.call(i.dictionary)?new Uint8Array(i.dictionary):i.dictionary,(n=s.deflateSetDictionary(this.strm,w))!==h)throw new Error(o[n]);this._dict_set=!0}}function w(t,i){var n=new c(i);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}c.prototype.push=function(t,i){var n,o,a=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=i===~~i?i:!0===i?4:0,"string"==typeof t?a.input=r.string2buf(t):"[object ArrayBuffer]"===u.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new e.Buf8(d),a.next_out=0,a.avail_out=d),1!==(n=s.deflate(a,o))&&n!==h)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(r.buf2binstring(e.shrinkBuf(a.output,a.next_out))):this.onData(e.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===o?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h):2!==o||(this.onEnd(h),a.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=c,i.deflate=w,i.deflateRaw=function(t,i){return(i=i||{}).raw=!0,w(t,i)},i.gzip=function(t,i){return(i=i||{}).gzip=!0,w(t,i)}}),
(function(i,e,o){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
i.exports=function(i,e){var o,t,a,n,d,l,s,f,r,c,b,u,v,w,h,m,k,_,x,g,p,z,j,q,y;o=i.state,t=i.next_in,q=i.input,a=t+(i.avail_in-5),n=i.next_out,y=i.output,d=n-(e-i.avail_out),l=n+(i.avail_out-257),s=o.dmax,f=o.wsize,r=o.whave,c=o.wnext,b=o.window,u=o.hold,v=o.bits,w=o.lencode,h=o.distcode,m=(1<<o.lenbits)-1,k=(1<<o.distbits)-1;i:do{v<15&&(u+=q[t++]<<v,v+=8,u+=q[t++]<<v,v+=8),_=w[u&m];e:for(;;){if(u>>>=x=_>>>24,v-=x,0===(x=_>>>16&255))y[n++]=65535&_;else{if(!(16&x)){if(0==(64&x)){_=w[(65535&_)+(u&(1<<x)-1)];continue e}if(32&x){o.mode=12;break i}i.msg="invalid literal/length code",o.mode=30;break i}g=65535&_,(x&=15)&&(v<x&&(u+=q[t++]<<v,v+=8),g+=u&(1<<x)-1,u>>>=x,v-=x),v<15&&(u+=q[t++]<<v,v+=8,u+=q[t++]<<v,v+=8),_=h[u&k];o:for(;;){if(u>>>=x=_>>>24,v-=x,!(16&(x=_>>>16&255))){if(0==(64&x)){_=h[(65535&_)+(u&(1<<x)-1)];continue o}i.msg="invalid distance code",o.mode=30;break i}if(p=65535&_,v<(x&=15)&&(u+=q[t++]<<v,(v+=8)<x&&(u+=q[t++]<<v,v+=8)),(p+=u&(1<<x)-1)>s){i.msg="invalid distance too far back",o.mode=30;break i}if(u>>>=x,v-=x,p>(x=n-d)){if((x=p-x)>r&&o.sane){i.msg="invalid distance too far back",o.mode=30;break i}if(z=0,j=b,0===c){if(z+=f-x,x<g){g-=x;do{y[n++]=b[z++]}while(--x);z=n-p,j=y}}else if(c<x){if(z+=f+c-x,(x-=c)<g){g-=x;do{y[n++]=b[z++]}while(--x);if(z=0,c<g){g-=x=c;do{y[n++]=b[z++]}while(--x);z=n-p,j=y}}}else if(z+=c-x,x<g){g-=x;do{y[n++]=b[z++]}while(--x);z=n-p,j=y}for(;g>2;)y[n++]=j[z++],y[n++]=j[z++],y[n++]=j[z++],g-=3;g&&(y[n++]=j[z++],g>1&&(y[n++]=j[z++]))}else{z=n-p;do{y[n++]=y[z++],y[n++]=y[z++],y[n++]=y[z++],g-=3}while(g>2);g&&(y[n++]=y[z++],g>1&&(y[n++]=y[z++]))}break}}break}}while(t<a&&n<l);t-=g=v>>3,u&=(1<<(v-=g<<3))-1,i.next_in=t,i.next_out=n,i.avail_in=t<a?a-t+5:5-(t-a),i.avail_out=n<l?l-n+257:257-(n-l),o.hold=u,o.bits=v}}),
(function(r,f,i){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
var o=i(1357),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],e=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(r,f,i,s,l,b,c,a){var w,m,v,B,d,h,k,p,x,g=a.bits,j=0,q=0,y=0,z=0,A=0,C=0,D=0,E=0,F=0,G=0,H=null,I=0,J=new o.Buf16(16),K=new o.Buf16(16),L=null,M=0;for(j=0;j<=15;j++)J[j]=0;for(q=0;q<s;q++)J[f[i+q]]++;for(A=g,z=15;z>=1&&0===J[z];z--);if(A>z&&(A=z),0===z)return l[b++]=20971520,l[b++]=20971520,a.bits=1,0;for(y=1;y<z&&0===J[y];y++);for(A<y&&(A=y),E=1,j=1;j<=15;j++)if(E<<=1,(E-=J[j])<0)return-1;if(E>0&&(0===r||1!==z))return-1;for(K[1]=0,j=1;j<15;j++)K[j+1]=K[j]+J[j];for(q=0;q<s;q++)0!==f[i+q]&&(c[K[f[i+q]]++]=q);if(0===r?(H=L=c,h=19):1===r?(H=n,I-=257,L=t,M-=257,h=256):(H=u,L=e,h=-1),G=0,q=0,j=y,d=b,C=A,D=0,v=-1,B=(F=1<<A)-1,1===r&&F>852||2===r&&F>592)return 1;for(;;){k=j-D,c[q]<h?(p=0,x=c[q]):c[q]>h?(p=L[M+c[q]],x=H[I+c[q]]):(p=96,x=0),w=1<<j-D,y=m=1<<C;do{l[d+(G>>D)+(m-=w)]=k<<24|p<<16|x|0}while(0!==m);for(w=1<<j-1;G&w;)w>>=1;if(0!==w?(G&=w-1,G+=w):G=0,q++,0==--J[j]){if(j===z)break;j=f[i+c[q]]}if(j>A&&(G&B)!==v){for(0===D&&(D=A),d+=y,E=1<<(C=j-D);C+D<z&&!((E-=J[C+D])<=0);)C++,E<<=1;if(F+=1<<C,1===r&&F>852||2===r&&F>592)return 1;l[v=G&B]=A<<24|C<<16|d-b|0}}return 0!==G&&(l[d+G]=j-D<<24|64<<16|0),a.bits=A,0}}),
(function(e,a,t){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
var i=t(1357),n=t(1359),s=t(1360),o=t(1366),r=t(1367),d=0,l=1,f=2,c=4,h=5,k=6,b=0,m=1,w=2,u=-2,g=-3,v=-4,x=-5,_=8,p=1,y=2,z=3,B=4,S=5,C=6,I=7,R=8,j=9,A=10,D=11,E=12,G=13,H=14,K=15,N=16,q=17,F=18,J=19,L=20,M=21,O=22,P=23,Q=24,T=25,U=26,V=27,W=28,X=29,Y=30,Z=31,$=32,ee=852,ae=592,te=15;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ne(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function se(e){var a;return e&&e.state?(a=e.state,e.total_in=e.total_out=a.total=0,e.msg="",a.wrap&&(e.adler=1&a.wrap),a.mode=p,a.last=0,a.havedict=0,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new i.Buf32(ee),a.distcode=a.distdyn=new i.Buf32(ae),a.sane=1,a.back=-1,b):u}function oe(e){var a;return e&&e.state?((a=e.state).wsize=0,a.whave=0,a.wnext=0,se(e)):u}function re(e,a){var t,i;return e&&e.state?(i=e.state,a<0?(t=0,a=-a):(t=1+(a>>4),a<48&&(a&=15)),a&&(a<8||a>15)?u:(null!==i.window&&i.wbits!==a&&(i.window=null),i.wrap=t,i.wbits=a,oe(e))):u}function de(e,a){var t,i;return e?(i=new ne,e.state=i,i.window=null,(t=re(e,a))!==b&&(e.state=null),t):u}var le,fe,ce=!0;function he(e){if(ce){var a;for(le=new i.Buf32(512),fe=new i.Buf32(32),a=0;a<144;)e.lens[a++]=8;for(;a<256;)e.lens[a++]=9;for(;a<280;)e.lens[a++]=7;for(;a<288;)e.lens[a++]=8;for(r(l,e.lens,0,288,le,0,e.work,{bits:9}),a=0;a<32;)e.lens[a++]=5;r(f,e.lens,0,32,fe,0,e.work,{bits:5}),ce=!1}e.lencode=le,e.lenbits=9,e.distcode=fe,e.distbits=5}function ke(e,a,t,n){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),n>=o.wsize?(i.arraySet(o.window,a,t-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>n&&(s=n),i.arraySet(o.window,a,t-n,s,o.wnext),(n-=s)?(i.arraySet(o.window,a,t-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}a.inflateReset=oe,a.inflateReset2=re,a.inflateResetKeep=se,a.inflateInit=function(e){return de(e,te)},a.inflateInit2=de,a.inflate=function(e,a){var t,ee,ae,te,ne,se,oe,re,de,le,fe,ce,be,me,we,ue,ge,ve,xe,_e,pe,ye,ze,Be,Se=0,Ce=new i.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;(t=e.state).mode===E&&(t.mode=G),ne=e.next_out,ae=e.output,oe=e.avail_out,te=e.next_in,ee=e.input,se=e.avail_in,re=t.hold,de=t.bits,le=se,fe=oe,ye=b;e:for(;;)switch(t.mode){case p:if(0===t.wrap){t.mode=G;break}for(;de<16;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(2&t.wrap&&35615===re){t.check=0,Ce[0]=255&re,Ce[1]=re>>>8&255,t.check=s(t.check,Ce,2,0),re=0,de=0,t.mode=y;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&re)<<8)+(re>>8))%31){e.msg="incorrect header check",t.mode=Y;break}if((15&re)!==_){e.msg="unknown compression method",t.mode=Y;break}if(de-=4,pe=8+(15&(re>>>=4)),0===t.wbits)t.wbits=pe;else if(pe>t.wbits){e.msg="invalid window size",t.mode=Y;break}t.dmax=1<<pe,e.adler=t.check=1,t.mode=512&re?A:E,re=0,de=0;break;case y:for(;de<16;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(t.flags=re,(255&t.flags)!==_){e.msg="unknown compression method",t.mode=Y;break}if(57344&t.flags){e.msg="unknown header flags set",t.mode=Y;break}t.head&&(t.head.text=re>>8&1),512&t.flags&&(Ce[0]=255&re,Ce[1]=re>>>8&255,t.check=s(t.check,Ce,2,0)),re=0,de=0,t.mode=z;case z:for(;de<32;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}t.head&&(t.head.time=re),512&t.flags&&(Ce[0]=255&re,Ce[1]=re>>>8&255,Ce[2]=re>>>16&255,Ce[3]=re>>>24&255,t.check=s(t.check,Ce,4,0)),re=0,de=0,t.mode=B;case B:for(;de<16;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}t.head&&(t.head.xflags=255&re,t.head.os=re>>8),512&t.flags&&(Ce[0]=255&re,Ce[1]=re>>>8&255,t.check=s(t.check,Ce,2,0)),re=0,de=0,t.mode=S;case S:if(1024&t.flags){for(;de<16;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}t.length=re,t.head&&(t.head.extra_len=re),512&t.flags&&(Ce[0]=255&re,Ce[1]=re>>>8&255,t.check=s(t.check,Ce,2,0)),re=0,de=0}else t.head&&(t.head.extra=null);t.mode=C;case C:if(1024&t.flags&&((ce=t.length)>se&&(ce=se),ce&&(t.head&&(pe=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),i.arraySet(t.head.extra,ee,te,ce,pe)),512&t.flags&&(t.check=s(t.check,ee,ce,te)),se-=ce,te+=ce,t.length-=ce),t.length))break e;t.length=0,t.mode=I;case I:if(2048&t.flags){if(0===se)break e;ce=0;do{pe=ee[te+ce++],t.head&&pe&&t.length<65536&&(t.head.name+=String.fromCharCode(pe))}while(pe&&ce<se);if(512&t.flags&&(t.check=s(t.check,ee,ce,te)),se-=ce,te+=ce,pe)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=R;case R:if(4096&t.flags){if(0===se)break e;ce=0;do{pe=ee[te+ce++],t.head&&pe&&t.length<65536&&(t.head.comment+=String.fromCharCode(pe))}while(pe&&ce<se);if(512&t.flags&&(t.check=s(t.check,ee,ce,te)),se-=ce,te+=ce,pe)break e}else t.head&&(t.head.comment=null);t.mode=j;case j:if(512&t.flags){for(;de<16;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(re!==(65535&t.check)){e.msg="header crc mismatch",t.mode=Y;break}re=0,de=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=E;break;case A:for(;de<32;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}e.adler=t.check=ie(re),re=0,de=0,t.mode=D;case D:if(0===t.havedict)return e.next_out=ne,e.avail_out=oe,e.next_in=te,e.avail_in=se,t.hold=re,t.bits=de,w;e.adler=t.check=1,t.mode=E;case E:if(a===h||a===k)break e;case G:if(t.last){re>>>=7&de,de-=7&de,t.mode=V;break}for(;de<3;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}switch(t.last=1&re,de-=1,3&(re>>>=1)){case 0:t.mode=H;break;case 1:if(he(t),t.mode=L,a===k){re>>>=2,de-=2;break e}break;case 2:t.mode=q;break;case 3:e.msg="invalid block type",t.mode=Y}re>>>=2,de-=2;break;case H:for(re>>>=7&de,de-=7&de;de<32;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if((65535&re)!=(re>>>16^65535)){e.msg="invalid stored block lengths",t.mode=Y;break}if(t.length=65535&re,re=0,de=0,t.mode=K,a===k)break e;case K:t.mode=N;case N:if(ce=t.length){if(ce>se&&(ce=se),ce>oe&&(ce=oe),0===ce)break e;i.arraySet(ae,ee,te,ce,ne),se-=ce,te+=ce,oe-=ce,ne+=ce,t.length-=ce;break}t.mode=E;break;case q:for(;de<14;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(t.nlen=257+(31&re),re>>>=5,de-=5,t.ndist=1+(31&re),re>>>=5,de-=5,t.ncode=4+(15&re),re>>>=4,de-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=Y;break}t.have=0,t.mode=F;case F:for(;t.have<t.ncode;){for(;de<3;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}t.lens[Ie[t.have++]]=7&re,re>>>=3,de-=3}for(;t.have<19;)t.lens[Ie[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ze={bits:t.lenbits},ye=r(d,t.lens,0,19,t.lencode,0,t.work,ze),t.lenbits=ze.bits,ye){e.msg="invalid code lengths set",t.mode=Y;break}t.have=0,t.mode=J;case J:for(;t.have<t.nlen+t.ndist;){for(;ue=(Se=t.lencode[re&(1<<t.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(ge<16)re>>>=we,de-=we,t.lens[t.have++]=ge;else{if(16===ge){for(Be=we+2;de<Be;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(re>>>=we,de-=we,0===t.have){e.msg="invalid bit length repeat",t.mode=Y;break}pe=t.lens[t.have-1],ce=3+(3&re),re>>>=2,de-=2}else if(17===ge){for(Be=we+3;de<Be;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}de-=we,pe=0,ce=3+(7&(re>>>=we)),re>>>=3,de-=3}else{for(Be=we+7;de<Be;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}de-=we,pe=0,ce=11+(127&(re>>>=we)),re>>>=7,de-=7}if(t.have+ce>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=Y;break}for(;ce--;)t.lens[t.have++]=pe}}if(t.mode===Y)break;if(0===t.lens[256]){e.msg="invalid code -- missing end-of-block",t.mode=Y;break}if(t.lenbits=9,ze={bits:t.lenbits},ye=r(l,t.lens,0,t.nlen,t.lencode,0,t.work,ze),t.lenbits=ze.bits,ye){e.msg="invalid literal/lengths set",t.mode=Y;break}if(t.distbits=6,t.distcode=t.distdyn,ze={bits:t.distbits},ye=r(f,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ze),t.distbits=ze.bits,ye){e.msg="invalid distances set",t.mode=Y;break}if(t.mode=L,a===k)break e;case L:t.mode=M;case M:if(se>=6&&oe>=258){e.next_out=ne,e.avail_out=oe,e.next_in=te,e.avail_in=se,t.hold=re,t.bits=de,o(e,fe),ne=e.next_out,ae=e.output,oe=e.avail_out,te=e.next_in,ee=e.input,se=e.avail_in,re=t.hold,de=t.bits,t.mode===E&&(t.back=-1);break}for(t.back=0;ue=(Se=t.lencode[re&(1<<t.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(ue&&0==(240&ue)){for(ve=we,xe=ue,_e=ge;ue=(Se=t.lencode[_e+((re&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}re>>>=ve,de-=ve,t.back+=ve}if(re>>>=we,de-=we,t.back+=we,t.length=ge,0===ue){t.mode=U;break}if(32&ue){t.back=-1,t.mode=E;break}if(64&ue){e.msg="invalid literal/length code",t.mode=Y;break}t.extra=15&ue,t.mode=O;case O:if(t.extra){for(Be=t.extra;de<Be;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}t.length+=re&(1<<t.extra)-1,re>>>=t.extra,de-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=P;case P:for(;ue=(Se=t.distcode[re&(1<<t.distbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(0==(240&ue)){for(ve=we,xe=ue,_e=ge;ue=(Se=t.distcode[_e+((re&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}re>>>=ve,de-=ve,t.back+=ve}if(re>>>=we,de-=we,t.back+=we,64&ue){e.msg="invalid distance code",t.mode=Y;break}t.offset=ge,t.extra=15&ue,t.mode=Q;case Q:if(t.extra){for(Be=t.extra;de<Be;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}t.offset+=re&(1<<t.extra)-1,re>>>=t.extra,de-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=Y;break}t.mode=T;case T:if(0===oe)break e;if(ce=fe-oe,t.offset>ce){if((ce=t.offset-ce)>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=Y;break}ce>t.wnext?(ce-=t.wnext,be=t.wsize-ce):be=t.wnext-ce,ce>t.length&&(ce=t.length),me=t.window}else me=ae,be=ne-t.offset,ce=t.length;ce>oe&&(ce=oe),oe-=ce,t.length-=ce;do{ae[ne++]=me[be++]}while(--ce);0===t.length&&(t.mode=M);break;case U:if(0===oe)break e;ae[ne++]=t.length,oe--,t.mode=M;break;case V:if(t.wrap){for(;de<32;){if(0===se)break e;se--,re|=ee[te++]<<de,de+=8}if(fe-=oe,e.total_out+=fe,t.total+=fe,fe&&(e.adler=t.check=t.flags?s(t.check,ae,fe,ne-fe):n(t.check,ae,fe,ne-fe)),fe=oe,(t.flags?re:ie(re))!==t.check){e.msg="incorrect data check",t.mode=Y;break}re=0,de=0}t.mode=W;case W:if(t.wrap&&t.flags){for(;de<32;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(re!==(4294967295&t.total)){e.msg="incorrect length check",t.mode=Y;break}re=0,de=0}t.mode=X;case X:ye=m;break e;case Y:ye=g;break e;case Z:return v;case $:default:return u}return e.next_out=ne,e.avail_out=oe,e.next_in=te,e.avail_in=se,t.hold=re,t.bits=de,(t.wsize||fe!==e.avail_out&&t.mode<Y&&(t.mode<V||a!==c))&&ke(e,e.output,e.next_out,fe-e.avail_out)?(t.mode=Z,v):(le-=e.avail_in,fe-=e.avail_out,e.total_in+=le,e.total_out+=fe,t.total+=fe,t.wrap&&fe&&(e.adler=t.check=t.flags?s(t.check,ae,fe,e.next_out-fe):n(t.check,ae,fe,e.next_out-fe)),e.data_type=t.bits+(t.last?64:0)+(t.mode===E?128:0)+(t.mode===L||t.mode===K?256:0),(0===le&&0===fe||a===c)&&ye===b&&(ye=x),ye)},a.inflateEnd=function(e){if(!e||!e.state)return u;var a=e.state;return a.window&&(a.window=null),e.state=null,b},a.inflateGetHeader=function(e,a){var t;return e&&e.state?0==(2&(t=e.state).wrap)?u:(t.head=a,a.done=!1,b):u},a.inflateSetDictionary=function(e,a){var t,i=a.length;return e&&e.state?0!==(t=e.state).wrap&&t.mode!==D?u:t.mode===D&&n(1,a,i,0)!==t.check?g:ke(e,a,i,i)?(t.mode=Z,v):(t.havedict=1,b):u},a.inflateInfo="pako inflate (from Nodeca project)"}),
(function(_,E,Z){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
_.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}}),
(function(t,s,i){"use strict";
// (C) 1995-2013 Jean-loup Gailly and Mark Adler
// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}),
(function(t,i,n){"use strict";var s=n(1368),o=n(1357),r=n(1363),e=n(1369),a=n(1361),u=n(1364),h=n(1370),_=Object.prototype.toString;function w(t){if(!(this instanceof w))return new w(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,0===i.windowBits&&(i.windowBits=-15)),!(i.windowBits>=0&&i.windowBits<16)||t&&t.windowBits||(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&0==(15&i.windowBits)&&(i.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=s.inflateInit2(this.strm,i.windowBits);if(n!==e.Z_OK)throw new Error(a[n]);if(this.header=new h,s.inflateGetHeader(this.strm,this.header),i.dictionary&&("string"==typeof i.dictionary?i.dictionary=r.string2buf(i.dictionary):"[object ArrayBuffer]"===_.call(i.dictionary)&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(n=s.inflateSetDictionary(this.strm,i.dictionary))!==e.Z_OK))throw new Error(a[n])}function d(t,i){var n=new w(i);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}w.prototype.push=function(t,i){var n,a,u,h,w,d=this.strm,l=this.options.chunkSize,f=this.options.dictionary,c=!1;if(this.ended)return!1;a=i===~~i?i:!0===i?e.Z_FINISH:e.Z_NO_FLUSH,"string"==typeof t?d.input=r.binstring2buf(t):"[object ArrayBuffer]"===_.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new o.Buf8(l),d.next_out=0,d.avail_out=l),(n=s.inflate(d,e.Z_NO_FLUSH))===e.Z_NEED_DICT&&f&&(n=s.inflateSetDictionary(this.strm,f)),n===e.Z_BUF_ERROR&&!0===c&&(n=e.Z_OK,c=!1),n!==e.Z_STREAM_END&&n!==e.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==e.Z_STREAM_END&&(0!==d.avail_in||a!==e.Z_FINISH&&a!==e.Z_SYNC_FLUSH)||("string"===this.options.to?(u=r.utf8border(d.output,d.next_out),h=d.next_out-u,w=r.buf2string(d.output,u),d.next_out=h,d.avail_out=l-h,h&&o.arraySet(d.output,d.output,u,h,0),this.onData(w)):this.onData(o.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(c=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==e.Z_STREAM_END);return n===e.Z_STREAM_END&&(a=e.Z_FINISH),a===e.Z_FINISH?(n=s.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===e.Z_OK):a!==e.Z_SYNC_FLUSH||(this.onEnd(e.Z_OK),d.avail_out=0,!0)},w.prototype.onData=function(t){this.chunks.push(t)},w.prototype.onEnd=function(t){t===e.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=w,i.inflate=d,i.inflateRaw=function(t,i){return(i=i||{}).raw=!0,d(t,i)},i.ungzip=d}),
(function(i,t,l){"use strict";var s={};(0,l(1357).assign)(s,l(1365),l(1371),l(1369)),i.exports=s}),
(function(e,i,t){"use strict";function n(e,i,t){switch(i){case"bool":return{type:"bool ",name:t};case"byte":return{type:"uint8_t ",name:t};case"int":return{type:"int32_t ",name:t};case"uint":return{type:"uint32_t ",name:t};case"float":return{type:"float ",name:t};case"string":return{type:"const char *",name:t};default:{let n=e[i];return"ENUM"===n.kind?{type:n.name+" ",name:t}:null}}}function s(e,i,t,u){let r=[];for(let a=0;a<t.length;a++){let l=t[a],p=i+l.name;if(l.isArray&&!u)return null;let h=n(e,l.type,p);if(null!==h){r.push(h);continue}let o=e[l.type];if("STRUCT"!==o.kind)return null;let f=s(e,p+"_",o.fields,!1);if(null===f)return null;r.push.apply(r,f)}return r}function u(e){return e.type+e.name}function r(e){return e.name}function a(e){switch(e.type){case"bool ":case"uint8_t ":return"!bb.readByte("+e.name+")";case"int32_t ":return"!bb.readVarInt("+e.name+")";case"uint32_t ":return"!bb.readVarUint("+e.name+")";case"float ":return"!bb.readVarFloat("+e.name+")";case"const char *":return"!bb.readString("+e.name+")";default:return"!bb.readVarUint(reinterpret_cast<uint32_t &>("+e.name+"))"}}function l(e){switch(e.type){case"bool ":case"uint8_t ":return"_bb.writeByte("+e.name+")";case"int32_t ":return"_bb.writeVarInt("+e.name+")";case"uint32_t ":return"_bb.writeVarUint("+e.name+")";case"float ":return"_bb.writeVarFloat("+e.name+")";case"const char *":return"_bb.writeString("+e.name+")";default:return"_bb.writeVarUint(static_cast<uint32_t>("+e.name+"))"}}function p(e,i,t,n,l){let p=n.name;if(n.isArray){let i="_"+p+"_count";e.push(l+"uint32_t "+i+";"),e.push(l+"if (!bb.readVarUint("+i+")) return false;"),n.isDeprecated||e.push(l+"visitor.visit"+t.name+"_"+n.name+"_count("+i+");"),e.push(l+"while ("+i+"-- > 0) {"),l+="  ",p+="_element"}let h=s(i,"",[n],!0);if(null!==h){for(let i=0;i<h.length;i++)e.push(l+u(h[i])+";");e.push(l+"if ("+h.map(a).join(" || ")+") return false;"),n.isDeprecated||e.push(l+"visitor.visit"+t.name+"_"+p+"("+h.map(r).join(", ")+");")}else{n.isDeprecated||e.push(l+"visitor.visit"+t.name+"_"+p+"();");let s=i[n.type];e.push(l+"if (!parse"+s.name+"(bb, visitor)) return false;")}n.isArray&&e.push(l.slice(2)+"}")}Object.defineProperty(i,"__esModule",{value:!0}),i.compileSchemaCallbackCPP=function(e){let i={},t=[];for(let n=0;n<e.definitions.length;n++){let t=e.definitions[n];i[t.name]=t}null!==e.package&&(t.push("#ifndef INCLUDE_"+e.package.toUpperCase()+"_H"),t.push("#define INCLUDE_"+e.package.toUpperCase()+"_H"),t.push("")),t.push('#include "kiwi.h"'),t.push(""),null!==e.package&&(t.push("namespace "+e.package+" {"),t.push(""));for(let n=0;n<e.definitions.length;n++){let i=e.definitions[n];if("ENUM"===i.kind){t.push("enum class "+i.name+" : uint32_t {");for(let e=0;e<i.fields.length;e++){let n=i.fields[e];n.isDeprecated||t.push("  "+n.name+" = "+n.value+",")}t.push("};"),t.push("")}}for(let n=0;n<2;n++){let r=") = 0;";0===n?(t.push("class Visitor {"),t.push("public:")):(t.push("class Writer : public Visitor {"),t.push("private:"),t.push("  kiwi::ByteBuffer &_bb;"),t.push("public:"),t.push("  Writer(kiwi::ByteBuffer &bb) : _bb(bb) {}"),r=") override;");for(let n=0;n<e.definitions.length;n++){let a=e.definitions[n];if("STRUCT"===a.kind){let e=s(i,"",a.fields,!1);if(null!==e){t.push("  virtual void visit"+a.name+"("+e.map(u).join(", ")+r);continue}}if("STRUCT"===a.kind||"MESSAGE"===a.kind){t.push("  virtual void begin"+a.name+"("+r);for(let e=0;e<a.fields.length;e++){let n=a.fields[e];if(n.isDeprecated)continue;let l=n.name;n.isArray&&(t.push("  virtual void visit"+a.name+"_"+n.name+"_count(uint32_t size"+r),l+="_element");let p=s(i,"",[n],!0);null!==p?t.push("  virtual void visit"+a.name+"_"+l+"("+p.map(u).join(", ")+r):t.push("  virtual void visit"+a.name+"_"+l+"("+r)}t.push("  virtual void end"+a.name+"("+r)}}t.push("};"),t.push("")}for(let n=0;n<e.definitions.length;n++){let i=e.definitions[n];"STRUCT"!==i.kind&&"MESSAGE"!==i.kind||t.push("bool parse"+i.name+"(kiwi::ByteBuffer &bb, Visitor &visitor);")}t.push(""),t.push("#ifdef IMPLEMENT_SCHEMA_H"),t.push("");for(let n=0;n<e.definitions.length;n++){let l=e.definitions[n];if("STRUCT"===l.kind){let e=s(i,"",l.fields,!1);if(null!==e){t.push("bool parse"+l.name+"(kiwi::ByteBuffer &bb, Visitor &visitor) {");for(let i=0;i<e.length;i++)t.push("  "+u(e[i])+";");t.push("  if ("+e.map(a).join(" || ")+") return false;"),t.push("  visitor.visit"+l.name+"("+e.map(r).join(", ")+");"),t.push("  return true;"),t.push("}"),t.push("")}else{t.push("bool parse"+l.name+"(kiwi::ByteBuffer &bb, Visitor &visitor) {"),t.push("  visitor.begin"+l.name+"();");for(let e=0;e<l.fields.length;e++)p(t,i,l,l.fields[e],"  ");t.push("  visitor.end"+l.name+"();"),t.push("  return true;"),t.push("}"),t.push("")}}else if("MESSAGE"===l.kind){t.push("bool parse"+l.name+"(kiwi::ByteBuffer &bb, Visitor &visitor) {"),t.push("  visitor.begin"+l.name+"();"),t.push("  while (true) {"),t.push("    uint32_t _type;"),t.push("    if (!bb.readVarUint(_type)) return false;"),t.push("    switch (_type) {"),t.push("      case 0: {"),t.push("        visitor.end"+l.name+"();"),t.push("        return true;"),t.push("      }");for(let e=0;e<l.fields.length;e++){let n=l.fields[e];t.push("      case "+n.value+": {"),p(t,i,l,n,"        "),t.push("        break;"),t.push("      }")}t.push("      default: return false;"),t.push("    }"),t.push("  }"),t.push("}"),t.push("")}}for(let n=0;n<e.definitions.length;n++){let r=e.definitions[n];if("STRUCT"===r.kind){let e=s(i,"",r.fields,!1);if(null!==e){t.push("void Writer::visit"+r.name+"("+e.map(u).join(", ")+") {");for(let i=0;i<e.length;i++)t.push("  "+l(e[i])+";");t.push("}"),t.push("");continue}}if("STRUCT"===r.kind||"MESSAGE"===r.kind){t.push("void Writer::begin"+r.name+"() {"),t.push("}"),t.push("");for(let e=0;e<r.fields.length;e++){let n=r.fields[e];if(n.isDeprecated)continue;let a=n.name;n.isArray&&(t.push("void Writer::visit"+r.name+"_"+n.name+"_count(uint32_t size) {"),"MESSAGE"===r.kind&&t.push("  _bb.writeVarUint("+n.value+");"),t.push("  _bb.writeVarUint(size);"),t.push("}"),t.push(""),a+="_element");let p=s(i,"",[n],!0);if(null!==p){t.push("void Writer::visit"+r.name+"_"+a+"("+p.map(u).join(", ")+") {"),"MESSAGE"!==r.kind||n.isArray||t.push("  _bb.writeVarUint("+n.value+");");for(let e=0;e<p.length;e++)t.push("  "+l(p[e])+";");t.push("}"),t.push("")}else t.push("void Writer::visit"+r.name+"_"+a+"() {"),"MESSAGE"!==r.kind||n.isArray||t.push("  _bb.writeVarUint("+n.value+");"),t.push("}"),t.push("")}t.push("void Writer::end"+r.name+"() {"),"MESSAGE"===r.kind&&t.push("  _bb.writeVarUint(0);"),t.push("}"),t.push("")}}return t.push("#endif"),t.push(""),null!==e.package&&(t.push("}"),t.push(""),t.push("#endif"),t.push("")),t.join("\n")}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(216);function i(e,t,n){let i;switch(t.type){case"bool":i="bool";break;case"byte":i="uint8_t";break;case"int":i="int32_t";break;case"uint":i="uint32_t";break;case"float":i="float";break;case"string":i="kiwi::String";break;default:{let n=e[t.type];n||s.error("Invalid type "+s.quote(t.type)+" for field "+s.quote(t.name),t.line,t.column),i=n.name;break}}return n&&(i="kiwi::Array<"+i+">"),i}function u(e){return"_data_"+e.name}function a(e){return e>>5}function r(e){return 1<<e%32>>>0}function p(e,t){return!t.isArray&&t.type in e&&"ENUM"!==e[t.type].kind}t.compileSchemaCPP=function(e){let t={},n=[];n.push('#include "kiwi.h"'),n.push(""),null!==e.package&&(n.push("namespace "+e.package+" {"),n.push(""),n.push("#ifndef INCLUDE_"+e.package.toUpperCase()+"_H"),n.push("#define INCLUDE_"+e.package.toUpperCase()+"_H"),n.push(""));for(let s=0;s<e.definitions.length;s++){let n=e.definitions[s];t[n.name]=n}n.push("class BinarySchema {"),n.push("public:"),n.push("  bool parse(kiwi::ByteBuffer &bb);"),n.push("  const kiwi::BinarySchema &underlyingSchema() const { return _schema; }");for(let s=0;s<e.definitions.length;s++){let t=e.definitions[s];"MESSAGE"===t.kind&&n.push("  bool skip"+t.name+"Field(kiwi::ByteBuffer &bb, uint32_t id) const;")}n.push(""),n.push("private:"),n.push("  kiwi::BinarySchema _schema;");for(let s=0;s<e.definitions.length;s++){let t=e.definitions[s];"MESSAGE"===t.kind&&n.push("  uint32_t _index"+t.name+" = 0;")}n.push("};"),n.push("");for(let i=0;i<e.definitions.length;i++){let t=e.definitions[i];if("ENUM"===t.kind){n.push("enum class "+t.name+" : uint32_t {");for(let e=0;e<t.fields.length;e++){let s=t.fields[e];n.push("  "+s.name+" = "+s.value+",")}n.push("};"),n.push("")}else"STRUCT"!==t.kind&&"MESSAGE"!==t.kind&&s.error("Invalid definition kind "+s.quote(t.kind),t.line,t.column)}for(let l=0;l<3;l++){let h=!1;if(2===l){null!==e.package&&n.push("#endif"),n.push("#ifdef IMPLEMENT_SCHEMA_H"),n.push(""),n.push("bool BinarySchema::parse(kiwi::ByteBuffer &bb) {"),n.push("  if (!_schema.parse(bb)) return false;");for(let t=0;t<e.definitions.length;t++){let s=e.definitions[t];"MESSAGE"===s.kind&&n.push('  _schema.findDefinition("'+s.name+'", _index'+s.name+");")}n.push("  return true;"),n.push("}"),n.push("");for(let t=0;t<e.definitions.length;t++){let s=e.definitions[t];"MESSAGE"===s.kind&&(n.push("bool BinarySchema::skip"+s.name+"Field(kiwi::ByteBuffer &bb, uint32_t id) const {"),n.push("  return _schema.skipField(bb, _index"+s.name+", id);"),n.push("}"),n.push(""))}}for(let o=0;o<e.definitions.length;o++){let f=e.definitions[o];if("ENUM"===f.kind)continue;let c=f.fields;if(0===l)n.push("class "+f.name+";"),h=!0;else if(1===l){n.push("class "+f.name+" {"),n.push("public:"),n.push("  "+f.name+"() { (void)_flags; }"),n.push("");for(let l=0;l<c.length;l++){let e=c[l];if(e.isDeprecated)continue;u(e);let s=i(t,e,e.isArray);a(l),r(l),p(t,e)?(n.push("  "+s+" *"+e.name+"();"),n.push("  const "+s+" *"+e.name+"() const;"),n.push("  void set_"+e.name+"("+s+" *value);")):e.isArray?(n.push("  "+s+" *"+e.name+"();"),n.push("  const "+s+" *"+e.name+"() const;"),n.push("  "+s+" &set_"+e.name+"(kiwi::MemoryPool &pool, uint32_t count);")):(n.push("  "+s+" *"+e.name+"();"),n.push("  const "+s+" *"+e.name+"() const;"),n.push("  void set_"+e.name+"(const "+s+" &value);")),n.push("")}n.push("  bool encode(kiwi::ByteBuffer &bb);"),n.push("  bool decode(kiwi::ByteBuffer &bb, kiwi::MemoryPool &pool, const BinarySchema *schema = nullptr);"),n.push(""),n.push("private:"),n.push("  uint32_t _flags["+(c.length+31>>5)+"] = {};");let e={bool:1,byte:1,int:4,uint:4,float:4},s=c.slice().sort(function(t,n){let s=!t.isArray&&e[t.type]||8,i=!n.isArray&&e[n.type]||8;return s!==i?i-s:c.indexOf(t)-c.indexOf(n)});for(let a=0;a<s.length;a++){let e=s[a];if(e.isDeprecated)continue;let r=u(e),l=i(t,e,e.isArray);p(t,e)?n.push("  "+l+" *"+r+" = {};"):n.push("  "+l+" "+r+" = {};")}n.push("};"),n.push("")}else{for(let e=0;e<c.length;e++){let s=c[e],l=u(s),h=i(t,s,s.isArray),o=a(e),d=r(e);s.isDeprecated||(p(t,s)?(n.push(h+" *"+f.name+"::"+s.name+"() {"),n.push("  return "+l+";"),n.push("}"),n.push(""),n.push("const "+h+" *"+f.name+"::"+s.name+"() const {"),n.push("  return "+l+";"),n.push("}"),n.push(""),n.push("void "+f.name+"::set_"+s.name+"("+h+" *value) {"),n.push("  "+l+" = value;"),n.push("}"),n.push("")):s.isArray?(n.push(h+" *"+f.name+"::"+s.name+"() {"),n.push("  return _flags["+o+"] & "+d+" ? &"+l+" : nullptr;"),n.push("}"),n.push(""),n.push("const "+h+" *"+f.name+"::"+s.name+"() const {"),n.push("  return _flags["+o+"] & "+d+" ? &"+l+" : nullptr;"),n.push("}"),n.push(""),n.push(h+" &"+f.name+"::set_"+s.name+"(kiwi::MemoryPool &pool, uint32_t count) {"),n.push("  _flags["+o+"] |= "+d+"; return "+l+" = pool.array<"+i(t,s,!1)+">(count);"),n.push("}"),n.push("")):(n.push(h+" *"+f.name+"::"+s.name+"() {"),n.push("  return _flags["+o+"] & "+d+" ? &"+l+" : nullptr;"),n.push("}"),n.push(""),n.push("const "+h+" *"+f.name+"::"+s.name+"() const {"),n.push("  return _flags["+o+"] & "+d+" ? &"+l+" : nullptr;"),n.push("}"),n.push(""),n.push("void "+f.name+"::set_"+s.name+"(const "+h+" &value) {"),n.push("  _flags["+o+"] |= "+d+"; "+l+" = value;"),n.push("}"),n.push("")))}n.push("bool "+f.name+"::encode(kiwi::ByteBuffer &_bb) {");for(let e=0;e<c.length;e++){let l=c[e];if(l.isDeprecated)continue;let h,o=u(l),d=l.isArray?"_it":o;switch(a(e),r(e),l.type){case"bool":case"byte":h="_bb.writeByte("+d+");";break;case"int":h="_bb.writeVarInt("+d+");";break;case"uint":h="_bb.writeVarUint("+d+");";break;case"float":h="_bb.writeVarFloat("+d+");";break;case"string":h="_bb.writeString("+d+".c_str());";break;default:{let e=t[l.type];e?h="ENUM"===e.kind?"_bb.writeVarUint(static_cast<uint32_t>("+d+"));":"if (!"+d+(p(t,l)?"->":".")+"encode(_bb)) return false;":s.error("Invalid type "+s.quote(l.type)+" for field "+s.quote(l.name),l.line,l.column)}}let b="  ";"STRUCT"===f.kind?n.push("  if ("+l.name+"() == nullptr) return false;"):(n.push("  if ("+l.name+"() != nullptr) {"),b="    "),"MESSAGE"===f.kind&&n.push(b+"_bb.writeVarUint("+l.value+");"),l.isArray?(n.push(b+"_bb.writeVarUint("+o+".size());"),n.push(b+"for ("+i(t,l,!1)+" &_it : "+o+") "+h)):n.push(b+h),"STRUCT"!==f.kind&&n.push("  }")}"MESSAGE"===f.kind&&n.push("  _bb.writeVarUint(0);"),n.push("  return true;"),n.push("}"),n.push(""),n.push("bool "+f.name+"::decode(kiwi::ByteBuffer &_bb, kiwi::MemoryPool &_pool, const BinarySchema *_schema) {");for(let e=0;e<c.length;e++)if(c[e].isArray){n.push("  uint32_t _count;");break}"MESSAGE"===f.kind&&(n.push("  while (true) {"),n.push("    uint32_t _type;"),n.push("    if (!_bb.readVarUint(_type)) return false;"),n.push("    switch (_type) {"),n.push("      case 0:"),n.push("        return true;"));for(let e=0;e<c.length;e++){let a,r=c[e],l=u(r),h=r.isArray?"_it":l,o=p(t,r);switch(r.type){case"bool":case"byte":a="_bb.readByte("+h+")";break;case"int":a="_bb.readVarInt("+h+")";break;case"uint":a="_bb.readVarUint("+h+")";break;case"float":a="_bb.readVarFloat("+h+")";break;case"string":a="_bb.readString("+h+", _pool)";break;default:{let e=t[r.type];e?a="ENUM"===e.kind?"_bb.readVarUint(reinterpret_cast<uint32_t &>("+h+"))":h+(o?"->":".")+"decode(_bb, _pool, _schema)":s.error("Invalid type "+s.quote(r.type)+" for field "+s.quote(r.name),r.line,r.column)}}let d=i(t,r,!1),b="  ";"MESSAGE"===f.kind&&(n.push("      case "+r.value+": {"),b="        "),r.isArray?(n.push(b+"if (!_bb.readVarUint(_count)) return false;"),r.isDeprecated?n.push(b+"for ("+d+" &_it : _pool.array<"+i(t,r,!1)+">(_count)) if (!"+a+") return false;"):n.push(b+"for ("+d+" &_it : set_"+r.name+"(_pool, _count)) if (!"+a+") return false;")):r.isDeprecated?(o?n.push(b+d+" *"+l+" = _pool.allocate<"+d+">();"):n.push(b+d+" "+l+" = {};"),n.push(b+"if (!"+a+") return false;")):(o&&n.push(b+l+" = _pool.allocate<"+d+">();"),n.push(b+"if (!"+a+") return false;"),o||n.push(b+"set_"+r.name+"("+l+");")),"MESSAGE"===f.kind&&(n.push("        break;"),n.push("      }"))}"MESSAGE"===f.kind?(n.push("      default: {"),n.push("        if (!_schema || !_schema->skip"+f.name+"Field(_bb, _type)) return false;"),n.push("        break;"),n.push("      }"),n.push("    }"),n.push("  }")):n.push("  return true;"),n.push("}"),n.push("")}}2===l?(n.push("#endif"),n.push("")):h&&n.push("")}return null!==e.package&&(n.push("}"),n.push("")),n.join("\n")}}),
(function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=n(216);function t(e){""===e[e.length-1]&&e.pop()}function i(e,s){if(s.isArray)return"null";switch(s.type){case"bool":return"false";case"byte":case"int":case"uint":return"0";case"float":return"0.0";case"string":return"null"}let n=e[s.type];return"ENUM"===n.kind?n.fields.length>0?"."+n.fields[0].name:"0 as "+s.type:"null"}function u(e){let s;switch(e.type){case"bool":s="bool";break;case"byte":case"int":case"uint":s="int";break;case"float":s="double";break;case"string":s="string";break;default:s=e.type}return e.isArray&&(s="List<"+s+">"),s}s.compileSchemaSkew=function(e){let s={},n="",r=[];null!==e.package&&(r.push("namespace "+e.package+" {"),n+="  ");for(let a=0;a<e.definitions.length;a++){let n=e.definitions[a];s[n.name]=n}r.push(n+"class BinarySchema {"),r.push(n+"  var _schema = Kiwi.BinarySchema.new");for(let a=0;a<e.definitions.length;a++){let s=e.definitions[a];"MESSAGE"===s.kind&&r.push(n+"  var _index"+s.name+" = 0")}r.push(""),r.push(n+"  def parse(bytes Uint8Array) {"),r.push(n+"    _schema.parse(Kiwi.ByteBuffer.new(bytes))");for(let a=0;a<e.definitions.length;a++){let s=e.definitions[a];"MESSAGE"===s.kind&&r.push(n+"    _index"+s.name+' = _schema.findDefinition("'+s.name+'")')}r.push(n+"  }");for(let a=0;a<e.definitions.length;a++){let s=e.definitions[a];"MESSAGE"===s.kind&&(r.push(""),r.push(n+"  def skip"+s.name+"Field(bb Kiwi.ByteBuffer, id int) {"),r.push(n+"    _schema.skipField(bb, _index"+s.name+", id)"),r.push(n+"  }"))}r.push(n+"}"),r.push("");for(let p=0;p<e.definitions.length;p++){let h=e.definitions[p];switch(h.kind){case"ENUM":{let e={},s={};r.push(n+"enum "+h.name+" {");for(let a=0;a<h.fields.length;a++){let t=h.fields[a];e[t.name]=t.value,s[t.value]=t.name,r.push(n+"  "+t.name)}r.push(n+"}"),r.push(""),r.push(n+"namespace "+h.name+" {"),r.push(n+"  const _encode = "+JSON.stringify(e,null,2).replace(/"/g,"").replace(/\n/g,"\n  "+n)),r.push(""),r.push(n+"  const _decode = "+JSON.stringify(s,null,2).replace(/"/g,"").replace(/\n/g,"\n  "+n)),r.push(""),r.push(n+"  def encode(value "+h.name+") int {"),r.push(n+"    return _encode[value]"),r.push(n+"  }"),r.push(""),r.push(n+"  def decode(value int) "+h.name+" {"),r.push(n+"    if !(value in _decode) {"),r.push(n+"      Kiwi.DecodeError.throwInvalidEnumValue("+a.quote(h.name)+")"),r.push(n+"    }"),r.push(n+"    return _decode[value]"),r.push(n+"  }"),r.push(n+"}"),r.push("");break}case"STRUCT":case"MESSAGE":{r.push(n+"class "+h.name+" {");for(let s=0;s<h.fields.length;s+=32)r.push(n+"  var _flags"+(s>>5)+" = 0");for(let a=0;a<h.fields.length;a++){let e=h.fields[a];e.isDeprecated||r.push(n+"  var _"+e.name+" "+u(e)+" = "+i(s,e))}r.push("");for(let s=0;s<h.fields.length;s++){let e=h.fields[s];if(e.isDeprecated)continue;let a=u(e),t="_flags"+(s>>5),i=""+(1<<s%32>>>0);r.push(n+"  def has_"+e.name+" bool {"),r.push(n+"    return ("+t+" & "+i+") != 0"),r.push(n+"  }"),r.push(""),r.push(n+"  def "+e.name+" "+a+" {"),r.push(n+"    assert(has_"+e.name+")"),r.push(n+"    return _"+e.name),r.push(n+"  }"),r.push(""),r.push(n+"  def "+e.name+"=(value "+a+") {"),r.push(n+"    _"+e.name+" = value"),r.push(n+"    "+t+" |= "+i),r.push(n+"  }"),r.push("")}r.push(n+"  def encode(bb Kiwi.ByteBuffer) {");for(let t=0;t<h.fields.length;t++){let e=h.fields[t];if(e.isDeprecated)continue;let i,u="_"+e.name;switch(e.isArray&&(u="value"),e.type){case"bool":i="bb.writeByte("+u+" as int)";break;case"byte":i="bb.writeByte("+u+")";break;case"int":i="bb.writeVarInt("+u+")";break;case"uint":i="bb.writeVarUint("+u+")";break;case"float":i="bb.writeVarFloat("+u+")";break;case"string":i="bb.writeString("+u+")";break;default:{let n=s[e.type];n?i="ENUM"===n.kind?"bb.writeVarUint("+n.name+".encode("+u+"))":u+".encode(bb)":a.error("Invalid type "+a.quote(e.type)+" for field "+a.quote(e.name),e.line,e.column)}}let p=n+"    ";"STRUCT"===h.kind?r.push(p+"assert(has_"+e.name+")"):(r.push(p+"if has_"+e.name+" {"),p+="  "),"MESSAGE"===h.kind&&r.push(p+"bb.writeVarUint("+e.value+")"),e.isArray?(r.push(p+"bb.writeVarUint(_"+e.name+".count)"),r.push(p+"for value in _"+e.name+" {"),r.push(p+"  "+i),r.push(p+"}")):r.push(p+i),"STRUCT"!==h.kind&&r.push(n+"    }"),r.push("")}"MESSAGE"===h.kind?r.push(n+"    bb.writeVarUint(0)"):t(r),r.push(n+"  }"),r.push(""),r.push(n+"  def encode Uint8Array {"),r.push(n+"    var bb = Kiwi.ByteBuffer.new"),r.push(n+"    encode(bb)"),r.push(n+"    return bb.toUint8Array"),r.push(n+"  }"),r.push(n+"}"),r.push(""),r.push(n+"namespace "+h.name+" {"),r.push(n+"  def decode(bytes Uint8Array) "+h.name+" {"),r.push(n+"    return decode(Kiwi.ByteBuffer.new(bytes), null)"),r.push(n+"  }"),r.push(""),r.push(n+"  def decode(bytes Uint8Array, schema BinarySchema) "+h.name+" {"),r.push(n+"    return decode(Kiwi.ByteBuffer.new(bytes), schema)"),r.push(n+"  }"),r.push(""),r.push(n+"  def decode(bb Kiwi.ByteBuffer, schema BinarySchema) "+h.name+" {"),r.push(n+"    var self = new");for(let s=0;s<h.fields.length;s++)if(h.fields[s].isArray){r.push(n+"    var count = 0");break}let e=n+"  ";"MESSAGE"===h.kind&&(r.push(n+"    while true {"),r.push(n+"      var type = bb.readVarUint"),r.push(n+"      switch type {"),r.push(n+"        case 0 {"),r.push(n+"          break"),r.push(n+"        }"),r.push(""),e+="      ");for(let n=0;n<h.fields.length;n++){let t,i=h.fields[n];switch(i.type){case"bool":t=i.isDeprecated?"bb.readByte":"bb.readByte as bool";break;case"byte":t="bb.readByte";break;case"int":t="bb.readVarInt";break;case"uint":t="bb.readVarUint";break;case"float":t="bb.readVarFloat";break;case"string":t="bb.readString";break;default:{let e=s[i.type];e?t="ENUM"===e.kind?e.name+".decode(bb.readVarUint)":e.name+".decode(bb, schema)":a.error("Invalid type "+a.quote(i.type)+" for field "+a.quote(i.name),i.line,i.column)}}"MESSAGE"===h.kind&&r.push(e+"case "+i.value+" {"),i.isArray?i.isDeprecated?(r.push(e+"  for i in 0..bb.readVarUint {"),r.push(e+"    "+t),r.push(e+"  }")):(r.push(e+"  count = bb.readVarUint"),r.push(e+"  self."+i.name+" = []"),r.push(e+"  for array = self._"+i.name+"; count != 0; count-- {"),r.push(e+"    array.append("+t+")"),r.push(e+"  }")):i.isDeprecated?r.push(e+"  "+t):r.push(e+"  self."+i.name+" = "+t),"MESSAGE"===h.kind&&(r.push(e+"}"),r.push(""))}"MESSAGE"===h.kind&&(r.push(n+"        default {"),r.push(n+"          if schema == null { Kiwi.DecodeError.throwInvalidMessage }"),r.push(n+"          else { schema.skip"+h.name+"Field(bb, type) }"),r.push(n+"        }"),r.push(n+"      }"),r.push(n+"    }")),r.push(n+"    return self"),r.push(n+"  }"),r.push(n+"}"),r.push("");break}default:a.error("Invalid definition kind "+a.quote(h.kind),h.line,h.column)}}return null!==e.package&&(t(r),r.push("}")),r.push(""),r.join("\n")}}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=i(216);n.compileSchemaTypeScript=function(e){var n="",i=[];null!==e.package&&(i.push("export namespace "+e.package+" {"),n+="  ");for(var t=0;t<e.definitions.length;t++)if("ENUM"===(p=e.definitions[t]).kind){i.push(n+"export type "+p.name+" =");for(var s=0;s<p.fields.length;s++)i.push(n+"  "+JSON.stringify(p.fields[s].name)+(s+1<p.fields.length?" |":";"));p.fields.length||i.push(n+"  any;"),i.push("")}for(t=0;t<e.definitions.length;t++)if("STRUCT"===(p=e.definitions[t]).kind||"MESSAGE"===p.kind){for(i.push(n+"export interface "+p.name+" {"),s=0;s<p.fields.length;s++){var r,o=p.fields[s];if(!o.isDeprecated){switch(o.type){case"bool":r="boolean";break;case"byte":case"int":case"uint":case"float":r="number";break;default:r=o.type}"byte"===o.type&&o.isArray?r="Uint8Array":o.isArray&&(r+="[]"),i.push(n+"  "+o.name+("MESSAGE"===p.kind?"?":"")+": "+r+";")}}i.push(n+"}"),i.push("")}else"ENUM"!==p.kind&&a.error("Invalid definition kind "+a.quote(p.kind),p.line,p.column);for(i.push(n+"export interface Schema {"),t=0;t<e.definitions.length;t++){var p;"ENUM"===(p=e.definitions[t]).kind?i.push(n+"  "+p.name+": any;"):"STRUCT"!==p.kind&&"MESSAGE"!==p.kind||(i.push(n+"  encode"+p.name+"(message: "+p.name+"): Uint8Array;"),i.push(n+"  decode"+p.name+"(buffer: Uint8Array): "+p.name+";"))}return i.push(n+"}"),null!==e.package&&i.push("}"),i.push(""),i.join("\n")}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(218);let i=["bool","byte","int","uint","float","string"],l=["ENUM","STRUCT","MESSAGE"];t.decodeBinarySchema=function(e){let t=e instanceof r.ByteBuffer?e:new r.ByteBuffer(e),n=t.readVarUint(),a=[];for(let r=0;r<n;r++){let e=t.readString(),n=t.readByte(),r=t.readVarUint(),i=[];for(let a=0;a<r;a++){let e=t.readString(),r=t.readVarInt(),a=!!(1&t.readByte()),f=t.readVarUint();i.push({name:e,line:0,column:0,type:"ENUM"===l[n]?null:r,isArray:a,isDeprecated:!1,value:f})}a.push({name:e,line:0,column:0,kind:l[n],fields:i})}for(let r=0;r<n;r++){let e=a[r].fields;for(let t=0;t<e.length;t++){let n=e[t],r=n.type;if(null!==r&&r<0){if(~r>=i.length)throw new Error("Invalid type "+r);n.type=i[~r]}else{if(null!==r&&r>=a.length)throw new Error("Invalid type "+r);n.type=null===r?null:a[r].name}}}return{package:null,definitions:a}},t.encodeBinarySchema=function(e){let t=new r.ByteBuffer,n=e.definitions,a={};t.writeVarUint(n.length);for(let r=0;r<n.length;r++)a[n[r].name]=r;for(let r=0;r<n.length;r++){let e=n[r];t.writeString(e.name),t.writeByte(l.indexOf(e.kind)),t.writeVarUint(e.fields.length);for(let n=0;n<e.fields.length;n++){let r=e.fields[n],l=i.indexOf(r.type);t.writeString(r.name),t.writeVarInt(-1===l?a[r.type]:~l),t.writeByte(r.isArray?1:0),t.writeVarUint(r.value)}}return t.toUint8Array()}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.prettyPrintSchema=function(e){let n=e.definitions,t="";null!==e.package&&(t+="package "+e.package+";\n");for(let a=0;a<n.length;a++){let l=n[a];(a>0||null!==e.package)&&(t+="\n"),t+=l.kind.toLowerCase()+" "+l.name+" {\n";for(let e=0;e<l.fields.length;e++){let n=l.fields[e];t+="  ","ENUM"!==l.kind&&(t+=n.type,n.isArray&&(t+="[]"),t+=" "),t+=n.name,"STRUCT"!==l.kind&&(t+=" = "+n.value),n.isDeprecated&&(t+=" [deprecated]"),t+=";\n"}t+="}\n"}return t}}),
(function(e,c,a){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var m=a(218);c.ByteBuffer=m.ByteBuffer;var r=a(219);c.compileSchema=r.compileSchema,c.compileSchemaJS=r.compileSchemaJS;var p=a(1373);c.compileSchemaCallbackCPP=p.compileSchemaCallbackCPP;var S=a(1374);c.compileSchemaCPP=S.compileSchemaCPP;var i=a(1375);c.compileSchemaSkew=i.compileSchemaSkew;var h=a(1376);c.compileSchemaTypeScript=h.compileSchemaTypeScript;var l=a(1377);c.decodeBinarySchema=l.decodeBinarySchema,c.encodeBinarySchema=l.encodeBinarySchema;var o=a(217);c.parseSchema=o.parseSchema;var t=a(1378);c.prettyPrintSchema=t.prettyPrintSchema}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=window.WebSocket;let o=[];t.addMockWebSocketHandler=function(e){o.push(e)},t.removeMockWebSocketHandler=function(e){const t=o.indexOf(e);-1!==t&&o.splice(t,1)},t.uninstallMockWebSocket=function(){window.WebSocket=s},t.installMockWebSocket=function(){window.WebSocket=i};class i{constructor(e){this.url=e,this.binaryType="blob",this.bufferedAmount=0,this.extensions="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.readyState=WebSocket.OPEN,this.CLOSED=WebSocket.CLOSED,this.CLOSING=WebSocket.CLOSING,this.CONNECTING=WebSocket.CONNECTING,this.OPEN=WebSocket.OPEN,this._listeners=new Map,this.protocol=new URL(e).protocol;let t=!1;for(let n of o)if(n(this)){t=!0,Promise.resolve().then(()=>{this.dispatchEvent(new Event("open"))});break}t||console.log("[MockWebSocket]","WebSocket connection to",e,"was not handled by any mock servers.")}close(e,t){this.dispatchEvent(new CloseEvent("client-closed-connection",{code:e,reason:t}))}send(e){this.dispatchEvent(new MessageEvent("client-sent-message",{data:e}))}dispatchEvent(e){var t,n,s,o;const i=this._listeners.get(e.type);return i&&i.forEach(t=>"handleEvent"in t?t.handleEvent(e):t.call(this,e)),"close"===e.type&&(null===(t=this.onclose)||void 0===t||t.call(this,e)),"error"===e.type&&(null===(n=this.onerror)||void 0===n||n.call(this,e)),"message"===e.type&&(null===(s=this.onmessage)||void 0===s||s.call(this,e)),"open"===e.type&&(null===(o=this.onopen)||void 0===o||o.call(this,e)),!e.cancelable||e.defaultPrevented}addEventListener(e,t,n){let s=this._listeners.get(e);null==s&&(s=[],this._listeners.set(e,s)),s.push(t)}removeEventListener(e,t,n){const s=this._listeners.get(e);if(null==s)return;const o=s.indexOf(t);-1!==o&&s.splice(o,1)}}t.MockWebSocket=i}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(1372  ),r=t(1379         ),s=t(1380               ),a="fig-wire\0\0\0",c=!1,i=["f","i","g","-","k","i","w","i"];function l(e,n){return e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24}function u(e,n){if(!f)return;const t=f.schema.encodeMessage(n);d(e,o.deflateRaw(t))}function d(e,n){e.dispatchEvent(new MessageEvent("message",{data:n.buffer}))}let f=null;n.setFileForMockMultiplayerServer=function(e){f=function(e){let n=i.length;l(e,n);const t=l(e,n+=4);n+=4;const s=e.subarray(n,n+t);n+=t;const a=o.inflateRaw(s),c=r.compileSchema(r.decodeBinarySchema(a)),u=l(e,n);n+=4;const d=e.subarray(n,n+u);n+=u;const f=o.inflateRaw(d),m=c.decodeMessage(f);return{compressedSchemaBytes:s,schema:c,message:m}}(e)};let m=!1;function h(e){if(-1===e.url.indexOf("/api/multiplayer"))return!1;if(null==f)throw new Error(`Got a multiplayer connection before a file was set: ${e.url}`);return e.addEventListener("open",()=>{if(m)return;if(null==f)throw new Error("Connect opened with no files loaded");const n=new TextEncoder,t=new Uint8Array(a.length+f.compressedSchemaBytes.length);t.set(n.encode(a),0),t.set(f.compressedSchemaBytes,a.length),d(e,t),u(e,{type:"JOIN_START"}),u(e,{type:"NODE_CHANGES",nodeChanges:f.message.nodeChanges,blobs:f.message.blobs}),u(e,{type:"JOIN_END"})}),e.addEventListener("client-sent-message",n=>{if(m)return;if(null==f)throw new Error("Got a message from client websocket with no file loaded");const t=o.inflateRaw(n.data),r=f.schema.decodeMessage(t);switch(c&&console.log("[MockMultiplayerServer]","received",r),r.type){case"SCENE_GRAPH_QUERY":requestAnimationFrame(()=>{u(e,{type:"SCENE_GRAPH_REPLY",sceneGraphQueries:r.sceneGraphQueries})})}}),!0}n.setShouldHangConnectionForMockMultiplayerServer=function(e){m=e},n.installMockMultiplayerServer=function(){s.addMockWebSocketHandler(h)},n.uninstallMockMultiplayerServer=function(){s.removeMockWebSocketHandler(h)}}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(179        ),n=i(111          ),r=0;function o(e){return e.join(",")}function h(){return performance&&performance.now?performance.now():Date.now()}s.IncrementalLoadTimer=class{constructor(e){this.eventName=e,this.fileKey=null,this.nodeChangesSizes=[],this.queriesSent={},this.timeToRespond=[],this.logEvent=(e=>{if(this.fileKey)switch(e.type){case"sendSceneGraphQuery":{const s=o(e.queries);this.queriesSent[s]=h();break}case"receiveNodeChanges":Object.keys(this.queriesSent).length>0&&this.nodeChangesSizes.push(e.size);break;case"receiveSceneGraphReply":{const s=o(e.queries);void 0!==this.queriesSent[s]&&(this.timeToRespond.push(Math.round(h()-this.queriesSent[s])),delete this.queriesSent[s]);break}case"finishIncrementalLoading":e.fileKey===this.fileKey?n.segmentTrackEvent(this.eventName,{version:r,fileKey:e.fileKey,nodeChangesSizes:this.nodeChangesSizes,sceneGraphQueryTimeToRespond:this.timeToRespond}):console.log(`IncrementalLoadTimer: file key mismatch ${e.fileKey} != ${this.fileKey}`),this.nodeChangesSizes=[],this.queriesSent={},this.timeToRespond=[];break;default:t.assertNever(e)}})}setFileKey(e){this.fileKey=e}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),i=s(93                                   ),r=s(113                                     ),n=s(280                             ),a=s(207                                   ),p=s(692                                 ),h=s(342                                  ),d=s(706                                   ),l=s(172                                              ),c=s(141              ),m=s(112          ),u=s(1130             ),w=s(104              ),g=s(125                        ),f=s(296         ),v=s(119                    ),y=s(443                      ),I=s(857                                        ),C=s(284                          ),_=s(138      ),P=s(646                           ),O=s(1132                                ),M=s(1327                                                             ),b=s(1306                                                               ),S=s(1334                                ),V=s(1348      ),T=s(228         ),E=s(139                        ),D=s(214         ),F=s(297                              ),B=s(129           ),R=s(1349              ),k=s(445                                    ),A=s(1350                          ),N=s(215                                          ),L=s(398               ),x=s(85                   ),U=s(1337                                    ),K=s(108     ),H=s(111          ),j=s(400            ),W=s(115                     ),Y=s(1354                                          ),$=s(1356             ),z=s(46,1    ),Z=s(1381                                                 ),G=s(1316                                                      ),q=s(1382                                    );var Q,X=!1;function J(e){const t=A.useCommentsThreadInfo(e.editingFileKey,e.comments.loaded,e.comments.commentIdsByThread,e.comments.commentsById,e.comments.threads,e.comments.activeId,e.comments.unreadIds,e.commentAnchorPositions,e.pageContainingNode),s=A.useUsersOnFileInfo(e.editingFileKey,e.file,e.permissionState.folders,e.permissionState.roles),i=G.useIsInViewport(e.viewportInfo);return x.getFeatureFlags().comments_perf_overlay?o.createElement(M.CommentsOverlay,{usersOnFile:s,pageId:e.pageId,activeId:e.comments.activeId,threads:t,showOnlyParticipatingComments:e.showOnlyParticipatingComments,showResolvedComments:e.showResolvedComments,isInViewport:i}):o.createElement(M.CommentsView,Object.assign({},e,{threads:t,usersOnFile:s}))}t.unsetPendingViewStateUpdate=function(){X=!1};class ee{constructor(){this.isCanceled=!1}}t.CanceledPrototypeView=ee,function(e){e[e.NO=0]="NO",e[e.YES=1]="YES"}(Q||(Q={}));class te extends c.Component{constructor(e){var t;super(e),this.isActiveThreadIdProcessed=!1,this.shouldShowThread=!0,this.jumpToCurrentIndex=!1,this.createdViewerAtMs=-1,this.sceneCompletedInitialLoad=!1,this.previousOverscrollBehavior="",this.incrementalLoadTimer=new q.IncrementalLoadTimer("Prototype Page Query"),this.state={showUI:!1},this.preventOverscrollRefreshEvent=(e=>{e.preventDefault()}),this.trackPrototypeViewedAtMostOnce=(e=>{if(this.createdViewerAtMs<0)return;const t=0!==e.numTransitions,s=B.isMobileBrowser,o=this.props.scalingMode,i=!!this.props.selectedView.hideUI,r=Object.assign({mobile:s,hasConnections:t,scalingMode:o,hideUI:i,numAnimatedTransitions:e.numTransitionsWithAnimation,timeSinceViewerCreatedMs:Date.now()-this.createdViewerAtMs},e);this.props.dispatch(h.prototype.trackEvent({name:"Prototype Viewed",params:r})),this.createdViewerAtMs=-1}),this.jumpToIndex=((e,t)=>{this.props.dispatch(h.prototype.setCurrentIndex({currentIndex:e}));const s=this.viewerOrNull();if(!s)return void(this.jumpToCurrentIndex=!0);const o=t[e],{selectedView:i}=this.props;o&&this.sceneCompletedInitialLoad&&(void 0!==s.getPages().find(e=>e.id===i.nodeId)?this.props.dispatch(r.fileBrowser.selectView(Object.assign(Object.assign({},i),{nodeId:o,forceReplaceState:!0}))):s.getBaseScreenId()!==o?(s.navigateToFrameAndCloseOverlays(o),this.updateViewState(e,t)):i.nodeId!==o&&this.props.dispatch(r.fileBrowser.selectView(Object.assign(Object.assign({},i),{nodeId:o,fromPopstate:!1,forceReplaceState:!1}))))}),this.showActiveCommentThread=(()=>{T.assertDev(!!this.props.user,"We shouldn't be trying to show comments for anonymous users."),this.props.dispatch(h.prototype.showComments()),this.shouldShowThread=!1}),this.handleCanvasMouseDown=(e=>{this.showCommentsView()&&F.handleMouseDown(e.x,e.y),this.tellFadeBehaviorAboutClickOrTouch(e)}),this.handleCanvasTouchDown=(e=>{this.tellFadeBehaviorAboutClickOrTouch(e)}),this.tellFadeBehaviorAboutClickOrTouch=(e=>{const t=this.viewerOrNull();if(!t)return;const s=this.lastViewport;if(!s)return;const o=this.viewportPositionToPrototypeCanvas(s,e);if(!o)return;const i=t.prototypeViewHitTest(o);this.fadeBehavior.handlePageMouseDownOrTouchStart(i),this.stopObserving()}),this.handleCanvasMouseMove=(e=>{this.showCommentsView()&&F.handleMouseMove(e.x,e.y)}),this.handleCanvasMouseDrag=(e=>{this.showCommentsView()&&F.handleMouseMove(e.x,e.y)}),this.handleCanvasMouseUp=(e=>{this.showCommentsView()&&F.handleMouseUp(e.x,e.y)}),this.updateViewerPadding=((e,t)=>{if(e.scalingMode===this.props.scalingMode&&t.device===this.state.device)return;if(B.isMobileBrowser)return;const s=this.viewerOrNull();if(!s)return;let o=0,i=0,r=0,n=0;const a=null!=this.state.device&&null!=this.state.device.presetIdentifier&&this.state.device.presetIdentifier.length>0;if("scale-down-width"===this.props.scalingMode||"fit-width"===this.props.scalingMode||"min-zoom"===this.props.scalingMode&&!a);else{const e=42,t=12,s=12;o=s,i=s,r=e+t,n=e+t}s.setScrollPadding({left:o,right:i,top:r,bottom:n})}),this._lastLoggedAnalyticsEventForZoomInFitMode="none",this.handleZoomAttempt=(e=>{if(this._lastLoggedAnalyticsEventForZoomInFitMode===this.props.scalingMode)return;this._lastLoggedAnalyticsEventForZoomInFitMode=this.props.scalingMode;const t={scalingMode:this.props.scalingMode,method:e};this.props.dispatch(h.prototype.trackEvent({name:"Prototype Zoom Attempted",params:t}))}),this.initViewer=(()=>{if(this.dangerouslyAccessibleViewer)return this.dangerouslyAccessibleViewer;const e=E.isRecording(),s=!E.isRecording()&&this.props.file.key===k.INTERACTION_TEST_FAKE_FILE_KEY,{selectedView:o}=this.props,r=o.nodeId||null;T.assertDev(!!this.viewerEl,"We can't initialize the viewer until we have a mounted container"),this.createdViewerAtMs=Date.now(),this.canceledPrototypeView=new ee,f.getOrCreateViewerInstance("PROTOTYPE",this.viewerEl,{isRecordingInteractionTest:e,isRunningInteractionTest:s,disablePrototypeDeviceFrames:B.isMobileBrowser,forceMobileOptimizations:o.mobileOptimizations}).then(async n=>{if(this.canceledPrototypeView.isCanceled)return;this.dangerouslyAccessibleViewer=n,n.setDeviceName("prototype"),n.on("sceneDidCompleteInitialLoad",this.handleSceneDidCompletedInitialLoad),n.on("sceneWillRebuildAfterReconnecting",this.handleSceneWillRebuildAfterReconnecting),n.on("sceneDidRebuildAfterReconnecting",this.handleSceneDidRebuildAfterReconnecting),n.on("baseScreenChanged",this.onBaseScreenChanged),n.on("viewportChanged",this.viewerViewportChanged),n.on("canvasResize",this.updateViewportInfoIfNecessary),n.on("disengageObservationMode",this.disengageObservationMode),n.on("urlClicked",m.openUrlInPrototype),n.on("navigateToPrototype",this.navigateToPrototype),n.on("topLevelFramesListInvalidated",this.loadFrames),n.on("transitionMapChange",this.loadFrames),n.on("watchedNodeBoundsChange",this.watchedNodeBoundsChange),n.on("prototypeBackgroundColorChange",this.setBackgroundColor),n.on("prototypeDeviceChanged",this.handlePrototypeDeviceChanged),n.on("multiplayerUserInfoChange",this.multiplayerUserInfoChange),n.on("redirectingToFirstPageDueToInvalidStartNode",this.handleInvalidStartNodeRedirect),n.on("canvasMouseDown",this.handleCanvasMouseDown),n.on("canvasMouseMove",this.handleCanvasMouseMove),n.on("canvasMouseDrag",this.handleCanvasMouseDrag),n.on("canvasMouseUp",this.handleCanvasMouseUp),n.on("canvasTouchDown",this.handleCanvasTouchDown),n.on("incrementalLoadingInfo",this.incrementalLoadTimer.logEvent),n.setUserDidAttemptZoom(this.handleZoomAttempt),n.setObservingSessionID(this.props.multiplayer.observingSessionID),n.setShowHotspots(!!this.props.showHotspots),n.setTransitionOnClick(!this.props.prototype.showComments),this.jumpToCurrentIndex&&(this.jumpToIndex(this.props.prototype.currentIndex,this.props.prototype.frameIds),this.jumpToCurrentIndex=!1);const a=w.parse(location.search);if(e||s){k.setViewerInstance(n);const e=k.fileForPrototypeView();e&&Z.setFileForMockMultiplayerServer(e)}if(this.props.file){const e=this.props.file.key,s=o.versionId;if(m.isInIframe()&&s){var p;try{p=await K.default.get(`/version/${s}/canvas`,null,{responseType:"arraybuffer"})}catch(t){return this.props.dispatch(i.flash.flash("This prototype isn't available.")),void H.segment.track("Prototype Version Load Failed",{file_key:e,version_id:s})}n.loadFile(p.data,r,`/file/${e}/image`)}else f.connectViewerToFile(n,this.props.file.key,r,a.oauth_token)}})}),this.handleSceneDidCompletedInitialLoad=(()=>{const e=this.viewerOrNull();if(!e)throw new Error("viewer is unexpectedly null when receiving sceneIsReady event");this.sceneCompletedInitialLoad=!0,this.loadFrames(),this.props.dispatch(h.prototype.setProgressBarMode({showProgress:!1})),this.trackPrototypeViewedAtMostOnce(e.prototypeStats());const t=E.isRecording(),s=!E.isRecording()&&this.props.file.key===k.INTERACTION_TEST_FAKE_FILE_KEY;(t||s)&&k.handlePrototypeViewLoaded()}),this.handleSceneWillRebuildAfterReconnecting=(()=>{this.props.dispatch(h.prototype.setIsReconnecting({isReconnecting:!0}))}),this.handleSceneDidRebuildAfterReconnecting=(()=>{this.loadFrames(),this.props.dispatch(h.prototype.setIsReconnecting({isReconnecting:!1}))}),this.multiplayerUserInfoChange=(e=>{const t=this.props.multiplayer,s=t&&t.observingSessionID;e=Object.assign({observingSessionID:s},e),this.props.dispatch(a.fullscreen.updateMultiplayerState(e))}),this.onBaseScreenChanged=(e=>{const t=this.viewerOrNull();T.assertDev(null!=t,"viewer is NULL in onCurrentTlfChanged in prototype.tsx");const s=t.getNodesToShowInPrototype(),o=s.indexOf(e.nodeId);-1!==o&&(this.props.dispatch(h.prototype.setCurrentIndex({currentIndex:o})),e.userInitiated&&this.fadeBehavior.handleHotspotClicked(),e.updateURL&&this.updateViewState(o,s))}),this.viewportPositionToPrototypeCanvas=((e,t)=>{const s=this.getCanvas(),o=s&&s.getBoundingClientRect();return o?D.Vector.rounded({x:(t.x-o.width/2)/e.zoomScale+e.offset.x,y:(t.y-o.height/2)/e.zoomScale+e.offset.y}):null}),this.getViewport=(()=>{const e=this.getCanvas(),t=e&&e.getBoundingClientRect();if(!t)return null;const s={x:t.left,y:t.top,width:t.width,height:t.height,offsetX:this.lastViewport&&-this.lastViewport.offset.x,offsetY:this.lastViewport&&-this.lastViewport.offset.y,zoomScale:this.lastViewport&&this.lastViewport.zoomScale};return N.fullscreen.viewport.trigger("onSetViewport",s),s}),this.viewerViewportChanged=(e=>{this.lastViewport=e,this.updateViewportInfoIfNecessary()}),this.updateViewportInfoIfNecessary=(()=>{const e=this.getCanvas();if(!e||!this.lastViewport)return;const t=e.getBoundingClientRect(),s={x:t.left,y:t.top,width:t.width,height:t.height,offsetX:-this.lastViewport.offset.x,offsetY:-this.lastViewport.offset.y,zoomScale:this.lastViewport.zoomScale};if(x.getFeatureFlags().comments_perf_redux){const e={value:s};N.fullscreen.viewport.trigger("onSetViewport",e.value)}else this.props.dispatch(p.comments.setViewportInfo({viewportInfo:s}))}),this.disengageObservationMode=(()=>{-1!==this.props.multiplayer.observingSessionID&&this.props.dispatch(a.fullscreen.stopObservingOtherUser())}),this.navigateToPrototype=(e=>{this.props.dispatch(r.fileBrowser.selectView({view:"prototype",fileKey:e.fileKey,nodeId:e.guid})),m.locationReload("Navigate to prototype")}),this.updatePrototypeDataInReduxState=(()=>{const e=this.viewerOrNull();if(!e)return;const t=e.getPrototypeStartNodeId(),s=e.getNodesToShowInPrototype(),o=e.getPages().map(e=>(T.assertDev(!!e.id&&!!e.name,"Either page id or name is not set"),{nodeId:e.id,name:e.name})),r=s[0],n=r?e.pageIdForNodeId(r):null,a=this.props.fileByKey[this.props.file.key];this.props.dispatch(h.prototype.setFrameIds({frameIds:s})),this.props.dispatch(h.prototype.setPages({pages:o})),this.props.dispatch(h.prototype.setCurrentPageId({currentPageId:n})),m.promiseTabVisibility().then(()=>{setTimeout(()=>{"prototype"!==this.props.selectedView.view||this.canceledPrototypeView.isCanceled||this.props.file.key!==a.key||void 0!==w.parse(window.location.search).embed_host||this.props.dispatch(h.prototype.markViewed({fileKey:this.props.file.key,pageId:n||""}))},4e3)});const{selectedView:p}=this.props;let d=-1;if(p.nodeId&&(d=s.indexOf(p.nodeId)),-1===d){const r=s.indexOf(t);-1!==r?(d=r,x.getFeatureFlags().prototype_toast&&null!=p.nodeId&&o.length>0&&void 0===o.find(e=>e.nodeId===p.nodeId)&&(e.pageIdForNodeId(p.nodeId)?this.props.dispatch(i.flash.flash("The frame you linked to is not a part of this prototype.")):this.props.dispatch(i.flash.flash("The frame you linked to was deleted.")))):d=0}this.jumpToIndex(d,s)}),this.updateViewState=((e,t)=>{const s=Object.assign({},this.props.selectedView);X=!1,delete s.reloadFrames,t.length&&(s.nodeId=t[e>=t.length?0:e]),this.props.dispatch(r.fileBrowser.selectView(s))}),this.setBackgroundColor=(e=>{e=null===e?P.DEFAULT_BG_COLOR:e,this.setState({bgColor:e}),this.props.dispatch(h.prototype.setBackgroundColor({color:e}))}),this.handlePrototypeDeviceChanged=(e=>{this.setState({device:e})}),this.watchedNodeBoundsChange=(()=>{this.forceUpdate()}),this.loadFrames=(()=>{const e=this.viewerOrNull();if(!e||!this.sceneCompletedInitialLoad||this.canceledPrototypeView.isCanceled)return;const t=this.props.scalingMode;this.props.dispatch(h.prototype.setScalingMode({scalingMode:t})),this.updatePrototypeDataInReduxState();const s=e?e.getPrototypeBackgroundColor():null;this.setBackgroundColor(s)}),this.handleInvalidStartNodeRedirect=(()=>{let e=!1;if(g.getRolesForUserAndFile(this.props.file.key,this.props.permissionState).forEach(t=>{t.level<=W.PermissionLevel.VIEW_PROTOTYPES&&(e=!0)}),this.props.file.link_access!=v.LinkAccess.INHERIT||this.props.file.proto_link_access!=v.LinkAccess.VIEW&&this.props.file.proto_link_access!=v.LinkAccess.ORG_VIEW||(e=!0),e)return this.canceledPrototypeView&&(this.canceledPrototypeView.isCanceled=!0),void m.redirect("/404")}),this.stopObserving=(()=>{-1!==this.props.multiplayer.observingSessionID&&(this.props.dispatch(a.fullscreen.stopObservingOtherUser()),this.props.dispatch(h.prototype.trackEvent({name:"Prototype Observation Ended",params:{multiplayerObservingSessionID:this.props.multiplayer.observingSessionID,multiplayerSessionID:this.props.multiplayer.sessionID}})))}),this.showNextFrame=(()=>{this.stopObserving();const e=this.viewerOrNull();e&&e.navigateForward()}),this.showPreviousFrame=(()=>{this.stopObserving();const e=this.viewerOrNull();e&&e.navigateBackward()}),this.restartPrototype=(()=>{this.props.dispatch(h.prototype.trackEvent({name:"Prototype Replay Clicked"}));const e=this.viewerOrNull();e&&e.restartPrototype()}),this.setHideUI=(e=>{const t=Object.assign(Object.assign({},this.props.selectedView),{hideUI:e});this.props.dispatch(r.fileBrowser.selectView(t)),e?(this.props.dispatch(l.visualBell.enqueue({type:"prototype-ui-hidden",message:`Press ${B.mac?"⌘":"Ctrl"} \\ to show toolbar again`,button:{text:"Copy Share Link",action:()=>{this.props.dispatch(n.file.copyLink({file:this.props.file,url:`${this.props.file.prototype_url}${y.urlQueryForPrototype(t)}`,skipVisualBell:!0}))}}})),this.props.dispatch(h.prototype.hideComments())):this.fadeBehavior.handleUnhideUI()}),this.handleKeyDown=c.keyboardEvent(this,"keydown",e=>{if(this.isAuthModalShown())return c.SKIP_RECORDING;let t=R.KeyDown.NOT_HANDLED;if(y.shouldShowPreviousFrame(e))this.showPreviousFrame(),t=R.KeyDown.HANDLED_BY_PROTOTYPE_VIEW;else if(y.shouldShowNextFrame(e)){if(this.props.comments.activeId)return;this.showNextFrame(),t=R.KeyDown.HANDLED_BY_PROTOTYPE_VIEW}else if(e.keyCode===_.Key.ESCAPE)if(this.props.prototype.showComments)null==this.props.comments.activeId?this.props.dispatch(h.prototype.hideComments()):this.props.comments.activeId&&this.props.dispatch(p.comments.deactivateActiveComment()),t=R.KeyDown.HANDLED_BY_PROTOTYPE_VIEW;else{m.isInIframe()||(this.setHideUI(!1),this.props.dispatch(h.prototype.trackEvent({name:"Prototype Shortcut",params:{type:"show UI"}})),t=R.KeyDown.HANDLED_BY_PROTOTYPE_VIEW)}else if(e.keyCode===_.Key.BACK_SLASH||e.keyCode===_.Key.PERIOD){let s;s=B.mac?e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey:e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey;const o=!this.props.selectedView.hideUI,i=m.isInIframe();s&&!i&&(this.setHideUI(o),this.props.dispatch(h.prototype.trackEvent({name:"Prototype Shortcut",params:{type:`${o?"hide":"show"} UI`}})),t=R.KeyDown.HANDLED_BY_PROTOTYPE_VIEW)}else if(e.keyCode!==_.Key.C||e.metaKey||e.shiftKey||e.ctrlKey){if(y.shouldReplayPrototype(e))this.props.dispatch(h.prototype.trackEvent({name:"Prototype Shortcut",params:{type:"replay"}})),this.restartPrototype(),t=R.KeyDown.HANDLED_BY_PROTOTYPE_VIEW;else if(y.shouldToggleFullscreen(e))this.props.dispatch(d.appWindow.toggleFullScreen({}));else if(e.keyCode===_.Key.Z&&!e.metaKey&&!e.ctrlKey){const t=y.getScalingMode(this.props.selectedView),s=U.scalingOptionsForMenu;let o=s.indexOf(t);-1==o?o=e.shiftKey?s.length-1:0:e.shiftKey?0==o?o=s.length-1:o--:o==s.length-1?o=0:o++;const i=s[o];this.props.dispatch(h.prototype.setScalingMode({scalingMode:i,userInitiated:!0})),this.props.dispatch(l.visualBell.enqueue({message:`Zoom: ${U.scalingStrings[i]}`}))}}else this.props.dispatch(h.prototype.trackEvent({name:"Prototype Shortcut",params:{type:"comments"}})),this.props.user?this.props.prototype.showComments?this.props.dispatch(h.prototype.hideComments()):this.props.dispatch(h.prototype.showComments()):this.showAuthCommentsModal(),t=R.KeyDown.HANDLED_BY_PROTOTYPE_VIEW;this.fadeBehavior.handleKeyDown(e,t)}),this.setViewerRef=(e=>{this.viewerEl=e}),this.getCanvas=(()=>{if(this.viewerEl){const e=this.viewerEl.getElementsByTagName("canvas");return 1===e.length?e[0]:null}return null}),this.isAuthModalShown=(()=>!!this.props.modalShown&&this.props.modalShown.type===j.AUTH_MODAL),this.showAuthCommentsModal=(()=>{const e=`Log in or create an account to leave comments on "${this.props.file.name}".`;this.props.dispatch(L.authActions.init({origin:"prototype_comment_signed_out"})),this.props.dispatch(r.fileBrowser.showModal({type:j.AUTH_MODAL,data:{headerText:e}}))}),this.handleClickCanvas=(()=>{this.props.showHotspots&&this.props.dispatch(h.prototype.setTriggerHotspots({triggerHotspots:!0}))}),this.pageContainingNode=(e=>{const t=this.viewerOrNull();return t?t.pageIdForNodeId(e):null}),this.jumpToIndexForPrototypeComments=(e=>{const t=this.props.prototype.frameIds.indexOf(e);return!(t<0)&&(this.jumpToIndex(t,this.props.prototype.frameIds),!0)}),this.renderCommentOverflowMenu=(()=>{if(!this.props.dropdownShown||!this.props.user)return null;if(this.props.dropdownShown.type===b.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU){const{comment:e,confirmDelete:t,parentRect:s}=this.props.dropdownShown.data;return o.createElement(b.ThreadCommentOverflowMenu,{dispatch:this.props.dispatch,comment:e,confirmDelete:t,parentRect:s,linkToPrototype:!0,currentUser:this.props.user})}return null}),this.stopPropagation=(e=>{e.stopPropagation()});this.fadeBehavior=new R.ImmersiveFadeBehavior(()=>this.state.showUI,e=>{this.setState({showUI:e})}),(null===(t=e.file)||void 0===t?void 0:t.key)&&this.incrementalLoadTimer.setFileKey(e.file.key)}componentDidMount(){this.props.dispatch(h.prototype.reset()),this.initViewer(),window.addEventListener("focus",this.fadeBehavior.onWindowFocus),window.addEventListener("keydown",this.handleKeyDown),window.focus(),x.getFeatureFlags().prototype_overscroll_norefresh&&this.preventOverscrollRefresh(),this.props.prototype.showComments?this.fadeBehavior.didEnterCommentsMode():this.fadeBehavior.didLeaveCommentsMode()}preventOverscrollRefresh(){this.previousOverscrollBehavior=document.body.style.overscrollBehavior,document.body.style.overscrollBehavior="none",window.addEventListener("touchmove",this.preventOverscrollRefreshEvent,{passive:!1})}viewerOrNull(e=Q.NO){return this.dangerouslyAccessibleViewer&&(e==Q.YES||this.dangerouslyAccessibleViewer.hasActiveScene())?this.dangerouslyAccessibleViewer:null}teardownOverscrollRefresh(){document.body.style.overscrollBehavior=this.previousOverscrollBehavior,window.removeEventListener("touchmove",this.preventOverscrollRefreshEvent)}componentWillUnmount(){super.componentWillUnmount(),this.canceledPrototypeView&&(this.canceledPrototypeView.isCanceled=!0);const e=this.viewerOrNull();e&&(e.off("sceneDidCompleteInitialLoad",this.handleSceneDidCompletedInitialLoad),e.off("sceneWillRebuildAfterReconnecting",this.handleSceneWillRebuildAfterReconnecting),e.off("sceneDidRebuildAfterReconnecting",this.handleSceneDidRebuildAfterReconnecting),e.off("viewportChanged",this.viewerViewportChanged),e.off("canvasResize",this.updateViewportInfoIfNecessary),e.off("disengageObservationMode",this.disengageObservationMode),e.off("urlClicked",m.openUrlInPrototype),e.off("navigateToPrototype",this.navigateToPrototype),e.off("baseScreenChanged",this.onBaseScreenChanged),e.off("transitionMapChange",this.loadFrames),e.off("topLevelFramesListInvalidated",this.loadFrames),e.off("watchedNodeBoundsChange",this.watchedNodeBoundsChange),e.off("prototypeBackgroundColorChange",this.setBackgroundColor),e.off("prototypeDeviceChanged",this.handlePrototypeDeviceChanged),e.off("multiplayerUserInfoChange",this.multiplayerUserInfoChange),e.off("redirectingToFirstPageDueToInvalidStartNode",this.handleInvalidStartNodeRedirect),e.off("canvasMouseDown",this.handleCanvasMouseDown),e.off("canvasMouseMove",this.handleCanvasMouseMove),e.off("canvasMouseDrag",this.handleCanvasMouseDrag),e.off("canvasMouseUp",this.handleCanvasMouseUp),e.off("canvasTouchDown",this.handleCanvasTouchDown),e.off("incrementalLoadingInfo",this.incrementalLoadTimer.logEvent),e.reset()),this.fadeBehavior.teardown(),x.getFeatureFlags().prototype_overscroll_norefresh&&this.teardownOverscrollRefresh(),window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("focus",this.fadeBehavior.onWindowFocus)}componentDidUpdate(e,t){if(this.canceledPrototypeView.isCanceled)return;super.componentDidUpdate(e,t);const{selectedView:s}=this.props;if(s.reloadFrames&&!X)return this.loadFrames(),void(X=!0);const o=this.viewerOrNull(),i=this.props.prototype,r=e.prototype;this.props.scalingMode===e.scalingMode&&this.state.device===t.device||this.updateViewerPadding(e,t);const n=s.commentThreadId;this.props.scalingMode===e.scalingMode&&i.currentIndex===r.currentIndex&&i.frameIds===r.frameIds&&this.state.device===t.device||(o&&o.setScalingMode(this.props.scalingMode),this.isActiveThreadIdProcessed&&this.shouldShowThread&&"-1"!==n&&this.showActiveCommentThread()),i.currentIndex===r.currentIndex&&i.frameIds===r.frameIds||this.jumpToIndex(i.currentIndex,i.frameIds);const a=this.props.prototype.frameIds.length>0&&"prototype"===this.props.selectedView.view&&!!n&&!this.isActiveThreadIdProcessed&&this.shouldShowThread;!this.props.prototype.showProgressBar&&e.prototype.showProgressBar&&this.fadeBehavior.handleProgressBarStoppedShowing(),a?(this.isActiveThreadIdProcessed=!0,this.showActiveCommentThread()):"-1"===n&&!this.isActiveThreadIdProcessed&&this.props.user&&(this.isActiveThreadIdProcessed=!0,this.props.dispatch(h.prototype.showComments())),o&&this.props.showHotspots!==e.showHotspots&&o.setShowHotspots(!!this.props.showHotspots),o&&this.props.prototype.showComments!==e.prototype.showComments&&o.setTransitionOnClick(!this.props.prototype.showComments),e.prototype.showComments!==this.props.prototype.showComments&&(this.props.prototype.showComments?this.fadeBehavior.didEnterCommentsMode():this.fadeBehavior.didLeaveCommentsMode())}showCommentsView(){return!B.isMobileBrowser&&this.props.prototype.showComments}render(){const e=this.props.appWindow.inFullScreenMode,t="min-zoom"===this.props.scalingMode||"scale-down-width"===this.props.scalingMode||B.isMobileBrowser||e?u.wrapperFullScale:u.wrapper,s=this.props.prototype.backgroundColor,i={backgroundColor:`rgba(${s.r}, ${s.g}, ${s.b}, ${s.a/255})`},r=!!this.props.user&&g.canViewFile(this.props.file.key,this.props.permissionState),n=this.viewerOrNull();n&&(n.setObservingSessionID(this.props.multiplayer.observingSessionID),void 0!==this.props.selectedView.backgroundColorHex&&n.setPrototypeBackgroundColorOverride(this.props.selectedView.backgroundColorHex));const a=this.props.selectedView.hideUI;let p=this.state.showUI&&!a;B.isMobileBrowser&&null!=n&&"HAS_CONNECTIONS"===n.prototypeType()&&(p=!1);const h=(e,t)=>null==n?{}:(n.watchBoundsForNodes(t),n.getCanvasSpaceCommentLocations(e)),d=this.showCommentsView()?u.commentsCursor+" viewer-cursors-disabled":"",l=m.isInIframe(),f=x.default(),v=this.props.file.touched_at&&z(this.props.file.touched_at).from(Date.now()),y=w.parse(location.search);delete y.embed_host,delete y["hide-ui"];const _=Object.keys(y).map(e=>`${e}=${y[e]||""}`).join("&");return o.createElement(o.Fragment,null,o.createElement("div",{className:u.documentationContainer},o.createElement("div",{className:`${u.background} ${d}`,onMouseMove:this.fadeBehavior.handlePageMouseMove,style:i},!B.isMobileBrowser&&o.createElement(V.Header,{file:this.props.file,user:this.props.user,dropdownShown:this.props.dropdownShown,prototype:this.props.prototype,selectedView:this.props.selectedView,multiplayer:this.props.multiplayer,dispatch:this.props.dispatch,canViewInEditor:r,shouldShowUI:p,setHideUI:this.setHideUI,showAuthCommentsModal:this.showAuthCommentsModal,prototypeBGColor:this.state.bgColor||P.DEFAULT_BG_COLOR,scalingMode:this.props.scalingMode,showHotspots:this.props.showHotspots,appWindow:this.props.appWindow,onMouseMove:this.fadeBehavior.handleHeaderOrFooterMove,device:this.state.device,recordingKey:c.joinKeys(this.props,"header")}),o.createElement("div",{className:t,onClick:this.handleClickCanvas},o.createElement("div",{id:"viewerContainer",className:u.viewer,ref:this.setViewerRef})),this.props.prototype.showProgressBar&&o.createElement(I.ProgressBar,{progressBarMode:C.ProgressBarMode.HIDE_UI}),o.createElement("div",{onMouseMove:this.fadeBehavior.handleHeaderOrFooterMove,onMouseDown:this.stopPropagation},o.createElement(S.Footer,{frameCount:this.props.prototype.frameIds.length,currentFrameIndex:this.props.prototype.currentIndex,shouldShowUI:p,showPreviousFrame:this.showPreviousFrame,showNextFrame:this.showNextFrame,restartPrototype:this.restartPrototype,recordingKey:c.joinKeys(this.props,"footer")})),!B.isMobileBrowser&&this.props.prototype.showComments&&o.createElement(o.Fragment,null,this.renderCommentOverflowMenu(),(()=>null!==this.props.prototype.currentPageId&&this.props.user?o.createElement(J,{viewportInfo:this.getViewport(),commentAnchorPositions:h,pageContainingNode:this.pageContainingNode,comments:this.props.comments,usersByEmail:this.props.contacts.usersByEmail,fileFollowers:this.props.fileFollowers,selectedView:this.props.selectedView,dropdownShown:this.props.dropdownShown,showOnlyParticipatingComments:this.props.prototype.showOnlyParticipatingComments,pickerShown:this.props.pickerShown,showResolvedComments:this.props.prototype.showResolvedComments,pageId:this.props.prototype.currentPageId,pagesList:this.props.prototype.pages,editingFileKey:this.props.file.key,org:this.props.org,orgDomains:this.props.orgDomains,user:this.props.user,jumpToIndexForPrototypeComments:this.jumpToIndexForPrototypeComments,setOnlyParticipatingComments:()=>{},toggleResolvedComments:()=>{},file:this.props.file,permissionState:this.props.permissionState}):null)()),this.props.prototype.isReconnecting&&o.createElement(O.ReconnectingModal,null)),this.props.file.key&&!a&&l&&x.getFeatureFlags().auth_embeds_viewer&&o.createElement(Y.DocumentationFooter,Object.assign({isPrototype:!0},f,{fileKey:this.props.file.key,params:_,fileName:this.props.file.name||"Loading...",updatedAt:v}))),o.createElement($.SplashScreen,{selectedView:this.props.selectedView,sceneCompletedInitialLoad:this.sceneCompletedInitialLoad}))}}t.PrototypeView=te,te.displayName="PrototypeView"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(620                                 ),i=o(205                             ),a=o(206                             ),r=o(692                                 ),p=o(93                                   ),c=o(280                             ),n=o(342                                  ),d=o(113                                     ),l=o(1383                                 ),m=o(186                      ),f=o(112          ),y=o(125                        ),g=o(468                                        ),h=o(119                    ),w=o(208                               ),u=o(874                                                 );let _,v,V=!1;t.prototypeMiddleware=(e=>t=>(function(o){const I=e.getState();if(d.fileBrowser.showModal.matches(o))return o.payload.type===u.FILE_PERMISSIONS_MODAL&&"prototype"===I.selectedView.view&&e.dispatch(n.prototype.trackEvent({name:"Prototype Share Opened"})),t(o);if(!d.fileBrowser.selectView.matches(o)){if(d.fileBrowser.handleUrlParamsForCurrentView.matches(o)){const{selectedView:t}=I;if("prototype"===t.view){const s=g.pathToSelectedView(I,`/proto/${t.fileKey}`,o.payload.params,o.payload.hash);s&&s.nodeId!==t.nodeId&&(s.reloadFrames=!0,l.unsetPendingViewStateUpdate(),e.dispatch(d.fileBrowser.selectView(s)))}}else if(n.prototype.setScalingMode.matches(o)){if(o.payload.userInitiated){const t={scalingMode:o.payload.scalingMode};e.dispatch(n.prototype.trackEvent({name:"Prototype Scale Changed",params:t}))}if("prototype"===I.selectedView.view){const t=Object.assign(Object.assign({},I.selectedView),{scalingMode:o.payload.scalingMode});e.dispatch(d.fileBrowser.selectView(t))}}else if(n.prototype.setShowHotspots.matches(o)){if(I.selectedView&&"prototype"===I.selectedView.view){const t=Object.assign(Object.assign({},I.selectedView),{showHotspots:o.payload.showHotspots});e.dispatch(d.fileBrowser.selectView(t))}}else if(n.prototype.showComments.matches(o))e.dispatch(n.prototype.trackEvent({name:"Prototype Comments Viewed"}));else if(n.prototype.trackEvent.matches(o)){const e=o.payload.params||{},t=w.editingFileKey(I.selectedView);m.trackEventForFile(o.payload.name,t,I,e)}else if(n.prototype.setCurrentIndex.matches(o))e.dispatch(n.prototype.disableHotspotsTemp()),e.dispatch(n.prototype.setHoverCursor({showHoverCursor:!1})),e.getState().prototype.currentIndex!==o.payload.currentIndex&&e.getState().comments.activeId&&e.dispatch(r.comments.deactivateActiveComment());else{if(a.team.put.matches(o)||c.file.put.matches(o)||i.role.batchPut.matches(o)||i.role.put.matches(o)||i.role.post.matches(o)||i.role.del.matches(o)||s.orgUser.put.matches(o)){if(I.selectedView&&"prototype"===I.selectedView.view){if(I.user){t(o);const s=e.getState(),i=w.editingFileKey(s.selectedView);return void(i&&!y.canViewPrototypes(i,s)&&f.redirect("/"))}if(c.file.put.matches(o)&&o.payload.file.link_access!==h.LinkAccess.VIEW&&o.payload.file.link_access!==h.LinkAccess.EDIT)return void f.locationReload("link access revoked, user is logged out and viewing prototype")}return t(o)}if(n.prototype.setTriggerHotspots.matches(o)){if(o.payload.triggerHotspots){if(V)return;if(!o.payload.deferred)return e.dispatch(n.prototype.trackEvent({name:"Prototype Hotspots Revealed"})),clearTimeout(_),clearTimeout(v),e.dispatch(n.prototype.setTriggerHotspots({triggerHotspots:!1})),_=setTimeout(()=>{e.dispatch(n.prototype.setTriggerHotspots({triggerHotspots:!0,deferred:!0}))},20),void(v=setTimeout(()=>{e.dispatch(n.prototype.setTriggerHotspots({triggerHotspots:!1}))},1e3))}}else n.prototype.disableHotspotsTemp.matches(o)&&(clearTimeout(_),clearTimeout(v),e.dispatch(n.prototype.setTriggerHotspots({triggerHotspots:!1})),V=!0,setTimeout(()=>{V=!1},10))}return t(o)}{t(o);const s=e.getState();if(!s.selectedView||!I.selectedView)return;if("prototype"!==s.selectedView.view)return;const i=s.selectedView,a="prototype"===I.selectedView.view?I.selectedView:null;if(s.prototype.currentIndex===I.prototype.currentIndex&&i&&a&&a.nodeId!==i.nodeId&&o.payload.fromPopstate){const t=s.prototype.frameIds.indexOf(i.nodeId),o=s.prototype.currentPageId===i.nodeId;if(t>=0)e.dispatch(n.prototype.setCurrentIndex({currentIndex:t}));else if(o)e.dispatch(n.prototype.setCurrentIndex({currentIndex:0}));else{const t="That frame is no longer available as a part of this prototype.";e.dispatch(p.flash.error(t))}}}}))}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const i=t(113                                     ),l=t(112          );let n=!1;o.reloadMiddleware=(e=>o=>(function(t){if(i.fileBrowser.reloadWhenConvenient.matches(t)){const a=t.payload&&t.payload.now?2e3:120*Math.random()*1e3;return setTimeout(()=>{const o=e.getState().selectedView;if("fullscreen"===o.view)n=!0;else if("orgSelfServe"===o.view){const t=o;e.dispatch(i.fileBrowser.selectView({view:t.view,step:t.step,orgMigrated:!0}))}else l.locationReload("Reloading when convenient")},a),o(t)}return i.fileBrowser.selectView.matches(t)&&"fullscreen"!==t.payload.view?(n&&l.locationReload("Reloading after leaving fullscreen"),o(t)):o(t)}))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(933                                     ),l=n(207                                   ),a=n(172                                              ),i=n(265                                    ),c=n(261                               ),o=n(111          );let u=null,r=!1,_=null;t.returnToInstanceMiddleware=(e=>t=>(function(n){const i=t(n);if(s.symbolToast.returnToInstance.matches(n))u=n.payload,r=!1;else if(l.fullscreen.updateMirror.matches(n)){const t=e.getState(),n=Object.keys(t.mirror.sceneGraphSelection),s=u&&1===n.length&&n[0]===u.masterGUID;s&&!r?(e.dispatch(a.visualBell.enqueue(p())),r=!0,clearTimeout(_)):!s&&r&&(e.dispatch(a.visualBell.dequeue({type:"return_to_instance"})),r=!1,_=setTimeout(()=>{u=null},12e4))}return i}));const p=()=>({type:"return_to_instance",message:"",icon:i.VisualBellIcon.RETURN_TO_INSTANCE,button:{text:"Return to instance",action:()=>{u&&(c.Fullscreen.returnToInstances(u.instanceGUIDs.join(",")),u=null,r=!1,o.segment.track("Return to instance"))}},onDismiss:()=>{u=null,r=!1}})}),
(function(e,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=o(173                                        ),s=o(206                             ),t=o(188                               ),l=o(280                             ),r=o(205                             ),d=o(113                                     ),c=o(115                     ),_=o(209                ),f=o(125                        ),n=o(112          ),p=o(324                  ),m=o(874                                                 ),y=o(877                                                   ),g=o(85                   ),h=o(124                      ),u=o(357                  );i.default=(e=>i=>(function(o){if(!d.fileBrowser.selectView.matches(o)){if(d.fileBrowser.showModal.matches(o)){const a=e.getState();if(o.payload.type===m.FILE_PERMISSIONS_MODAL){const i=a.fileByKey[o.payload.data.fileKey];if(p.fetchFileRoles(i,e),g.getFeatureFlags().branching_and_merging){const o=h.getRepo(i,a.repos);o&&p.fetchRepoRoles(o,e)}const s=u.getRepoAwareFolderId(i,a.repos);if(s&&a.folders[s]){const i=a.folders[s];p.fetchFolderRoles(i,e)}if(i.team_id&&i.team_id in a.roles.byTeamId){const o=a.teams[i.team_id];o&&p.fetchTeamRoles(o,e)}}else if(o.payload.type===y.FOLDER_PERMISSIONS_MODAL){const i=a.folders[o.payload.data.folderId];if(i&&p.fetchFolderRoles(i,e),i&&i.team_id&&i.team_id in a.roles.byTeamId){const o=a.teams[i.team_id];o&&p.fetchTeamRoles(o,e)}}return i(o)}if(r.role.del.matches(o)){i(o);let r=e.getState(),_=o.payload.role;switch(_.resource_type){case c.ResourceType.FILE:if(!f.canViewFile(_.resource_id_or_key,r)){r.modalShown&&r.modalShown.type===m.FILE_PERMISSIONS_MODAL&&r.modalShown.data.fileKey===_.resource_id_or_key&&e.dispatch(d.fileBrowser.hideModal());let i=r.fileByKey[_.resource_id_or_key];i&&e.dispatch(l.file.deleteFilesForever({fileKeys:{[i.key]:!0},userInitiated:!1})),e.dispatch(a.library.deleteComponentsForFile({fileKey:_.resource_id_or_key}))}break;case c.ResourceType.FOLDER:if(!f.canViewFolder(_.resource_id_or_key,r)){r.modalShown&&r.modalShown.type===y.FOLDER_PERMISSIONS_MODAL&&r.modalShown.data.folderId===_.resource_id_or_key&&e.dispatch(d.fileBrowser.hideModal()),e.dispatch(t.folder.del({folderIds:[_.resource_id_or_key]}));const i=r.fileKeysByFolderId[_.resource_id_or_key]||[];for(let o of i)e.dispatch(a.library.deleteComponentsForFile({fileKey:o}))}break;case c.ResourceType.TEAM:if(!f.canViewTeam(_.resource_id_or_key,r)){let i=r.teams[_.resource_id_or_key];i&&e.dispatch(s.team.del({userInitiated:!1,team:i}))}}}return i(o)}{i(o);let a=e.getState(),s=_.getEditingFile(a);if(a.user&&s){if(p.fetchFileRoles(s,e),g.getFeatureFlags().branching_and_merging){const i=h.getRepo(s,a.repos);i&&p.fetchRepoRoles(i,e)}}else if("teamAdmin"===a.selectedView.view){const i=a.selectedView.teamId,o=a.teams[i];p.fetchTeamRoles(o,e)}else if("team"===a.selectedView.view){const s=a.selectedView.teamId,t=a.teams[s];if(!t)return n.locationReload("missing team data, doing full reload to fix"),i(o);p.fetchTeamRoles(t,e)}}}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(172                                              ),n=a(207                                   ),l=a(261                               ),i=a(305             );const u=new class{constructor(){this.interval=0,this.intervalCount=0,this.bellShown=!1}start(e,t){0==this.interval&&(this.interval=setInterval(()=>{++this.intervalCount>=4&&(this.bellShown||(t(),this.bellShown=!0),e())},5e3))}clear(){const e=this.bellShown;return clearInterval(this.interval),this.interval=0,this.intervalCount=0,this.bellShown=!1,e}};t.saveStatusMiddleware=(e=>t=>(function(a){if(n.fullscreen.setSaveStatus.matches(a)){const n=e.getState(),r=n.editingFileKey;return r&&(n.saveStatus&&!n.saveStatus.hasUnsavedChanges&&a.payload.hasUnsavedChanges?u.start(()=>{e.dispatch(s.visualBell.enqueue({type:"unsaved_changes",message:"The document has unsaved changes. Reconnecting...",button:{text:"Try now",action:()=>l.Multiplayer.updateConnectionStateIfNeeded(!0)},timeoutOverride:1/0}))},()=>{i.reportUnsavedChangesBell(r)}):n.saveStatus&&n.saveStatus.hasUnsavedChanges&&!a.payload.hasUnsavedChanges&&(e.dispatch(s.visualBell.dequeue({type:"unsaved_changes"})),u.clear()&&navigator.onLine&&e.dispatch(s.visualBell.enqueue({message:"Changes saved"})))),t(a)}return n.fullscreen.close.matches(a)?(e.dispatch(s.visualBell.dequeue({type:"unsaved_changes"})),u.clear(),t(a)):t(a)}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(86            ),s=r(111          ),i=r(108     ),c=r(85                   ),l=r(355                                ),n=r(357                  ),o=r(280                             ),h=r(113                                     ),u=r(402                               ),f=r(322                           );let d,p=Date.now();function y(e){let t=e.getState(),r=[];for(let a in t.fileByKey)n.isTrashed(a,e.getState())||r.push(t.fileByKey[a]);return r}const m=a.debounce(async(e,t)=>{let r=Date.now(),a=e.getState();if(!t)return e.dispatch(h.fileBrowser.setFileSearchResults({results:[]})),void(p=r);try{let l={query:t};a.currentOrgId&&(l.org_id=a.currentOrgId);let n=await i.default.get("/api/search/files",l);if(r>p){let t=[];for(let e of n.data.meta)e.key in a.fileByKey&&t.push(a.fileByKey[e.key]);e.dispatch(h.fileBrowser.setFileSearchResults({results:t})),p=r}}catch(c){s.segmentTrackEvent("ServerSideSearch-Error: An uncaught error returned during search retrieval",{query:t}),r>p&&e.dispatch(h.fileBrowser.setFileSearchResults({results:[]}))}},100,!1);let g=!1,S=!1;function w(e,t){const r=Date.now();let a=c.getFeatureFlags(),i=a&&a.server_side_search_live_launch;i&&m(e,t),i||e.dispatch(h.fileBrowser.setFileSearchResults({results:function(e){return e.length>32&&(e=e.replace(/[|\\{}()[\]^$+*?.]/,"\\$&")),d.search(e)}(t)})),s.segmentTrackEvent("file-search-time",{useSSS:null!=i,elapsedTime:Date.now()-r})}t.search=(e=>t=>(function(r){if(h.fileBrowser.hydrate.matches(r))return t(r),d=new f.SearchLibrary(y(e),{keys:["name"],threshold:.3}),r;if(!h.fileBrowser.selectView.matches(r)){if(o.file.post.matches(r)||o.file.put.matches(r)||o.file.recentFilePost.matches(r)||o.file.recentFilePut.matches(r)||o.file.deleteFiles.matches(r)||o.file.restoreTrashedFiles.matches(r))return t(r),d.set(y(e)),r;if(h.fileBrowser.setFileSearchQuery.matches(r))return t(r),w(e,r.payload.query),r;if(h.fileBrowser.searchResultClicked.matches(r))return s.segment.track("Search Result Clicked",{index:r.payload.index}),S=!0,t(r);if(u.searchActions.setResponse.matches(r)){let a=e.getState().search;if(a.parameters.query!==r.payload.parameters.query)return t(r);t(r),(a=e.getState().search).parameters.searchModelType===r.payload.parameters.searchModelType&&l.Search.Session.trackResult(a)}return t(r)}{const{view:a}=e.getState().selectedView;if("search"===a&&"search"!==r.payload.view&&e.dispatch(u.searchActions.endSession()),"search"!==a&&"search"===r.payload.view&&e.dispatch(u.searchActions.startSession({entryPoint:r.payload.entryPoint})),t(r),"searchDeprecated"!==e.getState().selectedView.view&&g&&(s.segment.track("Search Mode Closed",{anyResultsClicked:S}),g=!1,S=!1),"searchDeprecated"===e.getState().selectedView.view){let t=e.getState().fileSearch.query;t&&w(e,t),g||(g=!0,S=!1)}}})),t.default=t.search}),
(function(o,t,n){o.exports={input:"shared_fonts_modal_content--input--1ZrkP",bigInput:"shared_fonts_modal_content--bigInput--1M3Ci shared_fonts_modal_content--input--1ZrkP",textInput:"shared_fonts_modal_content--textInput--C0wWA shared_fonts_modal_content--input--1ZrkP",bigTextInput:"shared_fonts_modal_content--bigTextInput--2QGBS shared_fonts_modal_content--textInput--C0wWA shared_fonts_modal_content--input--1ZrkP shared_fonts_modal_content--bigInput--1M3Ci shared_fonts_modal_content--input--1ZrkP",checkboxContainer:"shared_fonts_modal_content--checkboxContainer--3WuC0",checkbox:"shared_fonts_modal_content--checkbox--1kp37",checkboxShowFocus:"shared_fonts_modal_content--checkboxShowFocus--qm0IB",mixedCheckbox:"shared_fonts_modal_content--mixedCheckbox--30YoW",label:"shared_fonts_modal_content--label--3L5gR",btn:"shared_fonts_modal_content--btn--2XG-l ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",btnBig:"shared_fonts_modal_content--btnBig--3PIo7 ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts_modal_content--bigInput--1M3Ci shared_fonts_modal_content--input--1ZrkP",primaryBtn:"shared_fonts_modal_content--primaryBtn--2I63j shared_fonts_modal_content--btn--2XG-l ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",primaryBtnBig:"shared_fonts_modal_content--primaryBtnBig--2xfv_ shared_fonts_modal_content--primaryBtn--2I63j shared_fonts_modal_content--btn--2XG-l ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts_modal_content--btnBig--3PIo7 ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts_modal_content--bigInput--1M3Ci shared_fonts_modal_content--input--1ZrkP",negativeBtn:"shared_fonts_modal_content--negativeBtn--1n3MQ shared_fonts_modal_content--btn--2XG-l ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",secondaryNegativeBtn:"shared_fonts_modal_content--secondaryNegativeBtn--eUhYx shared_fonts_modal_content--btn--2XG-l ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",negativeBtnBig:"shared_fonts_modal_content--negativeBtnBig--38ZsI shared_fonts_modal_content--negativeBtn--1n3MQ shared_fonts_modal_content--btn--2XG-l ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts_modal_content--btnBig--3PIo7 ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts_modal_content--bigInput--1M3Ci shared_fonts_modal_content--input--1ZrkP",greenBtn:"shared_fonts_modal_content--greenBtn--QpMj3 shared_fonts_modal_content--btn--2XG-l ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",whiteBtn:"shared_fonts_modal_content--whiteBtn--DdB2x shared_fonts_modal_content--btn--2XG-l ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",greenBtnBig:"shared_fonts_modal_content--greenBtnBig--3glRQ shared_fonts_modal_content--greenBtn--QpMj3 shared_fonts_modal_content--btn--2XG-l ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts_modal_content--btnBig--3PIo7 ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts_modal_content--bigInput--1M3Ci shared_fonts_modal_content--input--1ZrkP",secondaryBtnBig:"shared_fonts_modal_content--secondaryBtnBig--12jUr shared_fonts_modal_content--btn--2XG-l ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts_modal_content--btnBig--3PIo7 ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts_modal_content--bigInput--1M3Ci shared_fonts_modal_content--input--1ZrkP",link:"shared_fonts_modal_content--link--1Q7T6 blue_link--blueLink--22X56",inlineLink:"shared_fonts_modal_content--inlineLink--vVmYJ blue_link--blueLink--22X56",bigSelect:"shared_fonts_modal_content--bigSelect--36Kjg shared_fonts_modal_content--bigTextInput--2QGBS shared_fonts_modal_content--textInput--C0wWA shared_fonts_modal_content--input--1ZrkP shared_fonts_modal_content--bigInput--1M3Ci shared_fonts_modal_content--input--1ZrkP",container:"shared_fonts_modal_content--container--2iuVP",modalInfo:"shared_fonts_modal_content--modalInfo--1fvL1",modalCheckbox:"shared_fonts_modal_content--modalCheckbox--1bpf3",modalCheckboxInfo:"shared_fonts_modal_content--modalCheckboxInfo--2HZhj",scrollContainer:"shared_fonts_modal_content--scrollContainer--1MISX",collisionScrollContainer:"shared_fonts_modal_content--collisionScrollContainer--m2N_9 shared_fonts_modal_content--scrollContainer--1MISX",applyAll:"shared_fonts_modal_content--applyAll--6MLA5",column:"shared_fonts_modal_content--column--1oEfm table--column--CuH34",actionColumn:"shared_fonts_modal_content--actionColumn--1b18n table--column--CuH34",actionColumnInactive:"shared_fonts_modal_content--actionColumnInactive--3ohxQ shared_fonts_modal_content--actionColumn--1b18n table--column--CuH34",familyColumn:"shared_fonts_modal_content--familyColumn--2wT__ shared_fonts_modal_content--column--1oEfm table--column--CuH34",sourceColumn:"shared_fonts_modal_content--sourceColumn--2SHQi shared_fonts_modal_content--column--1oEfm table--column--CuH34",dateColumn:"shared_fonts_modal_content--dateColumn--3GeHe shared_fonts_modal_content--column--1oEfm table--column--CuH34",row:"shared_fonts_modal_content--row--3zZKW members_table--row--1Vyr4",headerRow:"shared_fonts_modal_content--headerRow--1H44a members_table--headerRow--1jhAn members_table--row--1Vyr4 shared_fonts_modal_content--row--3zZKW members_table--row--1Vyr4",rowInactive:"shared_fonts_modal_content--rowInactive--1QfnQ shared_fonts_modal_content--row--3zZKW members_table--row--1Vyr4",collisionRow:"shared_fonts_modal_content--collisionRow--efD8P shared_fonts_modal_content--row--3zZKW members_table--row--1Vyr4",existingRow:"shared_fonts_modal_content--existingRow--2IoOo shared_fonts_modal_content--collisionRow--efD8P shared_fonts_modal_content--row--3zZKW members_table--row--1Vyr4",uploadInProgress:"shared_fonts_modal_content--uploadInProgress--EhTDd",uploadIndicator:"shared_fonts_modal_content--uploadIndicator--1ejwP",uploadFont:"shared_fonts_modal_content--uploadFont--1sP7a",sample:"shared_fonts_modal_content--sample--2bd_Y",actions:"shared_fonts_modal_content--actions--1ecS9",errorColumnFile:"shared_fonts_modal_content--errorColumnFile--3x-GZ",errorColumnMessage:"shared_fonts_modal_content--errorColumnMessage--1fr0g",licenseModalInfo:"shared_fonts_modal_content--licenseModalInfo--3_sVn",licenseModalActionsContainer:"shared_fonts_modal_content--licenseModalActionsContainer--AE-o6",fontsContainer:"shared_fonts_modal_content--fontsContainer--2jyCV",fontsContainerWithFooter:"shared_fonts_modal_content--fontsContainerWithFooter--zfIMb shared_fonts_modal_content--fontsContainer--2jyCV",noSearchResultsInfo:"shared_fonts_modal_content--noSearchResultsInfo--RRlca",nullContainer:"shared_fonts_modal_content--nullContainer--3t7Bk",nullMessagesContainer:"shared_fonts_modal_content--nullMessagesContainer--3JiUk",primaryNullMessage:"shared_fonts_modal_content--primaryNullMessage--2YcxZ",orgNullMessageAdmin:"shared_fonts_modal_content--orgNullMessageAdmin--36Bte",orgNullMessage:"shared_fonts_modal_content--orgNullMessage--2pkZA shared_fonts_modal_content--orgNullMessageAdmin--36Bte",footerBorderInvisible:"shared_fonts_modal_content--footerBorderInvisible--3Gexf",footerBorder:"shared_fonts_modal_content--footerBorder--9W6N3",footer:"shared_fonts_modal_content--footer--2eRj2",blueLink:"shared_fonts_modal_content--blueLink--1gI_a blue_link--blueLink--22X56",uploadFooterMessage:"shared_fonts_modal_content--uploadFooterMessage--2bNOz",uploadFooterMessageOrg:"shared_fonts_modal_content--uploadFooterMessageOrg--3FpO9",progress:"shared_fonts_modal_content--progress--2Fks6 shared_fonts_modal_content--footer--2eRj2",action:"shared_fonts_modal_content--action--3N6Xq",progressFailure:"shared_fonts_modal_content--progressFailure--2k3OE shared_fonts_modal_content--progress--2Fks6 shared_fonts_modal_content--footer--2eRj2",errorActionContainer:"shared_fonts_modal_content--errorActionContainer--215KF shared_fonts_modal_content--progress--2Fks6 shared_fonts_modal_content--footer--2eRj2",errorAction:"shared_fonts_modal_content--errorAction--2x31O shared_fonts_modal_content--action--3N6Xq",searchContainer:"shared_fonts_modal_content--searchContainer--3umQA modal--searchContainer--itrA5"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,s,r){this.compileHighlightForMenuItem=(()=>{let e="";for(let t=0;t<this.result.length;t++){const s=this.result[t],r=t%2?"1":"0";e+=Array(s.length+1).join(r)}return e}),this.equals=(e=>JSON.stringify(this)===JSON.stringify(e)),this.result=e,this.score=t,this.text=s,this.highlight=r}}t.FuzzyStringMatch=r;t.FuzzyStringMatcher=class{constructor(e){this.isValidQuery=(()=>!!this.forwardRegex||!!this.backwardRegex),this.matchAgainst=(e=>{const t=[];return e.forEach(e=>{const s=this.matchAgainstText(e);s&&(s.highlight=s.compileHighlightForMenuItem(),t.push(s))}),t.sort((e,t)=>e.score>t.score||e.score===t.score&&e.text<t.text?-1:1)}),this.matchAgainstText=(e=>{if(!this.isValidQuery())return null;const t=this.forwardRegex.exec(e),s=this.backwardRegex.exec(this.reverseText(e));if(!t||!s)return null;const i=t.slice(1);let h=s.slice(1).map(e=>this.reverseText(e)).reverse();const c=this.scoreMatch(i),l=this.scoreMatch(h),o=Math.max(c,l);return new r(c>=l?i:h,o,e)}),this.compileRegularExpression=(e=>{let t="^(.*?)",s=!1;for(let r of e)(r>="A"&&r<="Z"||r>="a"&&r<="z"||r>="0"&&r<="9")&&(t+=`(${r})(.*?)`,s=!0);return s?(t+="$",new RegExp(t,"i")):null}),this.reverseText=(e=>{let t="";for(let s=e.length-1;s>=0;s--)t+=e[s];return t}),this.scoreMatch=(e=>{let t="",s=0;for(let r=0;r<e.length;r++){const i=e[r];r%2&&(""===t?(s+=10,1===r&&s++):" "===t.slice(-1)&&(s+=10)),t=i}return s}),this.forwardRegex=this.compileRegularExpression(e),this.backwardRegex=this.compileRegularExpression(this.reverseText(e))}}}),
(function(o,c,e){o.exports={childrenContainer:"checkbox_confirm_modal--childrenContainer--13xo4",label:"checkbox_confirm_modal--label--2xraL text--fontPos11--RSei3 text--_fontBase--YWDo0",buttonBox:"checkbox_confirm_modal--buttonBox--16qtQ",checkbox:"checkbox_confirm_modal--checkbox--1Y3B8"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2,1    ),c=n(113                                     ),a=n(758                           ),s=n(147                                            ),i=n(1392                          ),r=e=>o.createElement("div",{style:{height:e.height}});t.CheckboxConfirmModal=function(e){const t=e.onHide||(()=>{e.dispatch(c.fileBrowser.popModalStack())});return o.createElement(a.HeaderModal,Object.assign({},e,{isCloseHidden:!0}),o.createElement(r,{height:18}),e.children&&o.createElement("div",{className:i.childrenContainer},e.children,o.createElement(r,{height:18})),o.createElement(h,{onConfirm:e.onConfirm,onCancel:t,confirmButtonText:e.buttonText,hideCancelButton:e.hideCancelButton,makeButtonAppearNegative:e.makeButtonAppearNegative},e.checkboxText))};class h extends o.PureComponent{constructor(e){super(e),this.onCheck=(()=>{this.setState({checked:!this.state.checked})}),this.state={checked:!1}}render(){return o.createElement("div",{className:this.props.className},o.createElement(s.Label,{className:i.label},o.createElement(s.Checkbox,{checked:this.state.checked,onChange:this.onCheck,className:i.checkbox}),this.props.children),o.createElement("div",{className:i.buttonBox},!this.props.hideCancelButton&&o.createElement(s.ButtonSecondary,{onClick:this.props.onCancel},this.props.cancelButtonText||"Cancel"),this.props.makeButtonAppearNegative?o.createElement(s.ButtonNegative,{disabled:!this.state.checked,onClick:this.props.onConfirm},this.props.confirmButtonText||"Confirm"):o.createElement(s.ButtonPrimary,{disabled:!this.state.checked,onClick:this.props.onConfirm},this.props.confirmButtonText||"Confirm")))}}t.CheckboxConfirmButtons=h,h.displayName="CheckboxConfirmButtons"}),
(function(o,t,i){o.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M6 12c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0-.667C3.054 11.333.667 8.946.667 6 .667 3.054 3.054.667 6 .667c2.946 0 5.333 2.387 5.333 5.333 0 2.946-2.387 5.333-5.333 5.333zm-.666-6h1.333v4H5.334v-4zm0-2c0-.368.298-.666.667-.666.368 0 .666.298.666.666 0 .369-.298.667-.666.667-.369 0-.667-.298-.667-.667z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,l){t.exports={actionBar:"multi_select_list--actionBar--w9kQz",actionBarVisible:"multi_select_list--actionBarVisible--2H29r multi_select_list--actionBar--w9kQz",actionIcon:"multi_select_list--actionIcon--2ISjp",scrollContainer:"multi_select_list--scrollContainer--2yEJo",tableWrapper:"multi_select_list--tableWrapper--2QH60",actionBarContentContainer:"multi_select_list--actionBarContentContainer--1wprE _overlayBase--_overlayBase--1sCqN text--fontNeg11--1EuEG text--_fontBase--YWDo0 text--_whiteText--2PkdM",actionBarContentContainerVisible:"multi_select_list--actionBarContentContainerVisible--2V0-T multi_select_list--actionBarContentContainer--1wprE _overlayBase--_overlayBase--1sCqN text--fontNeg11--1EuEG text--_fontBase--YWDo0 text--_whiteText--2PkdM",menuBar:"multi_select_list--menuBar--1YEc9",menuBarBody:"multi_select_list--menuBarBody--U0X8w",menuBarLeft:"multi_select_list--menuBarLeft--FIXxm",menuBarRight:"multi_select_list--menuBarRight--iuaYt",menuBarDivider:"multi_select_list--menuBarDivider--3X8_a",menuBarDropdown:"multi_select_list--menuBarDropdown--3Wn8k",stickyHeader:"multi_select_list--stickyHeader--3hCbJ",headerRow:"multi_select_list--headerRow--2HzIC text--fontPos11--RSei3 text--_fontBase--YWDo0",checkboxColumn:"multi_select_list--checkboxColumn--1Lx_J",row:"multi_select_list--row--2qfx9",unselectedCheckbox:"multi_select_list--unselectedCheckbox--2Vsrx",hiddenCheckbox:"multi_select_list--hiddenCheckbox--1yS3f",menuIcon:"multi_select_list--menuIcon--5R3lo",tableRow:"multi_select_list--tableRow--2Pr86 multi_select_list--row--2qfx9",selectedRow:"multi_select_list--selectedRow--2AESf multi_select_list--tableRow--2Pr86 multi_select_list--row--2qfx9",emptyState:"multi_select_list--emptyState--14MOp",_menuButtonBase:"multi_select_list--_menuButtonBase--ThyJ1",menuButton:"multi_select_list--menuButton--2exDr multi_select_list--_menuButtonBase--ThyJ1",disabledMenuButton:"multi_select_list--disabledMenuButton--3n6tY multi_select_list--_menuButtonBase--ThyJ1",batchActionCount:"multi_select_list--batchActionCount--2fR53",batchActionClear:"multi_select_list--batchActionClear--1jRtN",actionButton:"multi_select_list--actionButton--1O3X-",chevron:"multi_select_list--chevron--1SVnd",dropdownColumn:"multi_select_list--dropdownColumn--2aiPu table--column--CuH34",dropdownColumnDisabled:"multi_select_list--dropdownColumnDisabled--1sz0X table--column--CuH34",searchBar:"multi_select_list--searchBar--17dcx"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),o=s(411                                                  ),l=s(147                                            ),r=s(105        ),n=s(122          ),a=s(406                           ),c=s(146                        ),h=s(232                       ),p=s(1394                             ),m=s(405                               ),d=s(1395                                         );class u extends i.PureComponent{render(){const e=this.props.isReversed?"↑":"↓";return i.createElement("div",{className:`${m.sortableField} ${this.props.className||""}`,onClick:this.props.onClick},this.props.name,this.props.isSelected&&i.createElement("div",{className:m.arrow},e))}}u.displayName="MultiSelectHeader";const g=40;class v extends i.Component{constructor(e){super(e),this.rangeSelectAnchorRowKey=null,this.onResize=(()=>this.forceUpdate()),this.setScrollTopState=(()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequest=null}),this.onScroll=(e=>{this.nextScrollTop=e,null==this.frameRequest&&(this.frameRequest=requestAnimationFrame(this.setScrollTopState)),this.props.onScroll&&this.props.onScroll()}),this.selectableItemKeys=(()=>this.props.items.map(e=>this.props.getItemKey(e)).filter(e=>{var t;return!(null===(t=this.props.unselectableItemKeys)||void 0===t?void 0:t.has(e))})),this.toggleSelectAll=(()=>{if(0===this.props.selectedItemKeys.size){const e=this.selectableItemKeys();this.props.onSelectionChange(new Set(e))}else this.props.onSelectionChange(new Set)}),this.isItemSelected=(e=>this.props.selectedItemKeys.has(this.props.getItemKey(e))),this.toggleSelect=(e=>{var t;const s=this.props.getItemKey(e);if(null===(t=this.props.unselectableItemKeys)||void 0===t?void 0:t.has(s))return;const i=new Set(this.props.selectedItemKeys);this.isItemSelected(e)?i.delete(s):(i.add(s),this.rangeSelectAnchorRowKey=s),this.props.onSelectionChange(i)}),this.selectRowsInRange=((e,t)=>{if(e===t)return;const s=this.sortedItems(this.props.items,this.state.sortConfig).map(e=>this.props.getItemKey(e)).filter(e=>{var t;return!(null===(t=this.props.unselectableItemKeys)||void 0===t?void 0:t.has(e))}),i=s.indexOf(e),o=s.indexOf(t);if(-1===i||-1===o)return;const l=Math.min(i,o),r=Math.max(i,o),n=s.slice(l,r+1),a=new Set(this.props.selectedItemKeys);n.forEach(e=>{this.props.selectedItemKeys.has(e)||a.add(e)}),this.props.onSelectionChange(a)}),this.onRowClick=((e,t)=>{var s;const i=this.props.getItemKey(t);if(null===(s=this.props.unselectableItemKeys)||void 0===s||!s.has(i)){if(e.shiftKey){let e=null;if(1===this.props.selectedItemKeys.size?e=[...this.props.selectedItemKeys][0]:this.rangeSelectAnchorRowKey&&this.props.selectedItemKeys.has(this.rangeSelectAnchorRowKey)&&(e=this.rangeSelectAnchorRowKey),e)return this.selectRowsInRange(e,i),void(this.rangeSelectAnchorRowKey=i)}this.toggleSelect(t)}}),this.rowWithCheckbox=(e=>{var t;const s=this.isItemSelected(e),o=this.props.getItemKey(e),r=(null===(t=this.props.unselectableItemKeys)||void 0===t?void 0:t.has(o))?i.createElement(c.Svg,{svg:p,"data-tooltip-type":h.TooltipType.TEXT,"data-tooltip":this.props.unselectableExplanation,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0}):i.createElement(l.Checkbox,{className:s?void 0:d.unselectedCheckbox,checked:s,onChange:()=>{}});return i.createElement(a.TableRow,{className:s?d.selectedRow:d.tableRow,_top:e._top,key:o,onClick:this.props.rowClicksDisabled?void 0:t=>this.onRowClick(t,e)},i.createElement("div",{className:d.checkboxColumn},r),this.props.columns.map(t=>i.createElement("div",{className:t.className,key:t.name},t.cellComponent(e))))}),this.itemsWithTops=n.memoizeLast(e=>{const t=[];let s=0;for(let i=0;i<e.length;i++)t.push(Object.assign(Object.assign({},e[i]),{_top:s})),s+=this.props.rowHeight;return t}),this.sortedItems=n.memoizeLast((e,t)=>{const s=[...e],i=this.props.columns.find(e=>e.name===t.columnName);if(i&&i.getSortValue){let e=t.isReversed;i.sortReversed&&(e=!e),i.sortNumerically?r.sortNumericallyByFn(s,i.getSortValue,e):r.sortAlphabeticallyByFn(s,i.getSortValue,e)}return s}),this.virtualizedSubList=(()=>{var e,t,s,i,o;const l=this.sortedItems(this.props.items,this.state.sortConfig),r=this.itemsWithTops(l);let n=this.state.scrollTop;n-=(null===(t=null===(e=this.scrollAwayRef.current)||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.height)||0,n=Math.max(0,n);const a=(null===(o=null===(i=null===(s=this.scrollContainerRef)||void 0===s?void 0:s.getClipContainer())||void 0===i?void 0:i.getBoundingClientRect())||void 0===o?void 0:o.height)||this.props.rowHeight*g,c=Math.floor(n/this.props.rowHeight),h=Math.ceil((n+a)/this.props.rowHeight);return r.slice(c,h+1)}),this.render=(()=>{const e=this.props.selectedItemKeys.size>0&&this.props.actionBar,t=this.virtualizedSubList();return i.createElement("div",{className:d.tableWrapper},i.createElement(o.ScrollContainer,{className:d.scrollContainer,showScrollbar:!0,onScroll:this.onScroll,ref:e=>this.scrollContainerRef=e},i.createElement("div",{ref:this.scrollAwayRef},this.props.scrollAwayContent),i.createElement("div",{className:d.stickyHeader},this.props.stickyContent,this.renderColumnHeaders()),0===t.length&&i.createElement("div",{className:d.emptyState},"No items to display."),i.createElement("div",{className:m.longList,style:{height:this.props.items.length*this.props.rowHeight}},t.map(e=>this.rowWithCheckbox(e)))),i.createElement("div",{className:e?d.actionBarVisible:d.actionBar},i.createElement("div",{className:e?d.actionBarContentContainerVisible:d.actionBarContentContainer},this.props.actionBar)))}),this.state={scrollTop:0,sortConfig:e.defaultSortConfig},this.scrollAwayRef=i.createRef()}componentDidMount(){window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}onHeaderClick(e){this.setState(t=>t.sortConfig.columnName===e?{sortConfig:Object.assign(Object.assign({},t.sortConfig),{isReversed:!t.sortConfig.isReversed})}:{sortConfig:{columnName:e,isReversed:!1}})}renderColumnHeaders(){const e=this.props.selectedItemKeys.size===this.selectableItemKeys().length;return i.createElement("div",{className:d.headerRow},i.createElement("div",{className:d.checkboxColumn},this.selectableItemKeys().length>0&&i.createElement(l.MixedCheckbox,{allChecked:e,someChecked:this.props.selectedItemKeys.size>0,onChange:this.toggleSelectAll})),this.props.columns.map(e=>i.createElement("div",{className:e.className,key:e.name},i.createElement(u,{className:e.headerClassName,name:e.name,isReversed:this.state.sortConfig.isReversed,isSelected:e.name===this.state.sortConfig.columnName,onClick:e.getSortValue?()=>this.onHeaderClick(e.name):void 0}))))}}t.MultiSelectList=v,v.displayName="MultiSelectList"}),
(function(e,r,u){e.exports={menuBarBody:"resources_section_menubar--menuBarBody--1K717 multi_select_list--menuBarBody--U0X8w",menuBarLeft:"resources_section_menubar--menuBarLeft--2X0Ob multi_select_list--menuBarLeft--FIXxm",menuBarRight:"resources_section_menubar--menuBarRight--oLm0m multi_select_list--menuBarRight--iuaYt",menuBar:"resources_section_menubar--menuBar--3rdDi multi_select_list--menuBar--1YEc9",menuBarDivider:"resources_section_menubar--menuBarDivider--3h9HC multi_select_list--menuBarDivider--3X8_a"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(2,1    ),i=t(1397                             ),n=t(113                                     ),r=t(462                                       ),c=t(755                      );class m extends c.Tab{}s.OrgAdminResourcesSectionMenuBar=(e=>{const s=s=>{e.dispatch(n.fileBrowser.selectView({view:"orgAdminSettings",orgAdminSettingsViewTab:r.OrgAdminSettingsViewTab.RESOURCES,orgAdminSettingsResourcesViewTab:s}))},t=[r.OrgAdminSettingsResourcesViewTab.LIBRARIES,r.OrgAdminSettingsResourcesViewTab.SHARED_FONTS,r.OrgAdminSettingsResourcesViewTab.APPROVED_PLUGINS].map(t=>a.createElement(m,{key:t,tab:t,selectedTab:e.selectedTab,onClick:s},r.OrgAdminResourcesTabDisplayName[t]));return a.createElement("div",{className:i.menuBar},a.createElement("div",{className:i.menuBarBody},a.createElement("div",{className:i.menuBarLeft},t),a.createElement("div",{className:i.menuBarRight},e.rightContent)),a.createElement("div",{className:i.menuBarDivider}))})}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(2,1    ),p=o(6,1        ),r=o(113                                     ),n=o(146                        ),i=o(409                                  ),l=o(1395                                         ),a=o(164                                );t.MenuButton=(e=>s.createElement("div",{className:l.menuButton,onClick:e.onClick},e.label));class d extends s.PureComponent{constructor(){super(...arguments),this.defaultDisplayValue="All",this.isDropdownShown=(()=>{var e;return(null===(e=this.props.dropdownShown)||void 0===e?void 0:e.type)===this.props.dropdownType})}render(){const e=null===this.props.selectedValue?this.defaultDisplayValue:this.props.getDisplayText(this.props.selectedValue);return s.createElement(h,{dispatch:this.props.dispatch,type:this.props.dropdownType,showingDropdown:this.isDropdownShown()},s.createElement("div",null,this.props.label,": ",e),this.isDropdownShown()&&s.createElement(i.dropdown.Dropdown,{className:l.menuBarDropdown,style:this.props.dropdownShown.data.position},s.createElement(i.dropdown.CheckableOption,{checked:null===this.props.selectedValue,onClick:()=>this.props.updateFilter(null)},this.defaultDisplayValue),s.createElement(i.dropdown.Separator,null),this.props.values.map(e=>s.createElement(i.dropdown.CheckableTwoColumnOption,{key:this.props.getDisplayText(e),checked:this.props.selectedValue===e,onClick:()=>this.props.updateFilter(e),primaryText:this.props.getDisplayText(e),secondaryText:null===this.props.selectedValue?this.props.getCount(e).toString():""}))))}}t.MenuBarFilter=d,d.displayName="MenuBarFilter";class h extends s.PureComponent{constructor(){super(...arguments),this.toggleDropdown=(e=>{if(e.preventDefault(),e.stopPropagation(),this.props.showingDropdown)this.props.dispatch(r.fileBrowser.hideDropdown());else{const e=p.findDOMNode(this).getBoundingClientRect(),t=e.top>=window.innerHeight-200;this.props.dispatch(r.fileBrowser.showDropdown({type:this.props.type,data:{position:{top:t?"auto":e.top,bottom:t?36:"auto",left:Math.min(e.left,window.innerWidth-180),right:"auto"}}}))}})}render(){return s.createElement("div",{className:`${this.props.isDisabled?l.dropdownColumnDisabled:l.dropdownColumn} ${this.props.className?this.props.className:""}`,onClick:this.toggleDropdown},this.props.children,!this.props.isDisabled&&!this.props.hideChevron&&s.createElement(n.Svg,{className:l.chevron,svg:a}))}}t.DropdownSelector=h}),
(function(e,o,n){e.exports={column:"shared_fonts_table--column--3uVvN table--column--CuH34",fontColumn:"shared_fonts_table--fontColumn--cFw4H shared_fonts_table--column--3uVvN table--column--CuH34",versionColumn:"shared_fonts_table--versionColumn--2yQ6H shared_fonts_table--column--3uVvN table--column--CuH34",sampleColumn:"shared_fonts_table--sampleColumn--3sCtF shared_fonts_table--column--3uVvN table--column--CuH34",sample:"shared_fonts_table--sample--2c3w1",iconColumn:"shared_fonts_table--iconColumn--UPxFZ",menuIcon:"shared_fonts_table--menuIcon--3kD8d",dropdown:"shared_fonts_table--dropdown--H3jiC",menuSelectedCount:"shared_fonts_table--menuSelectedCount--Tqb8X",menuButton:"shared_fonts_table--menuButton--2DxmD",buttonIcon:"shared_fonts_table--buttonIcon--2wsYv",modalContainer:"shared_fonts_table--modalContainer--ITqtg",scrollContainer:"shared_fonts_table--scrollContainer--tJ5Z5",row:"shared_fonts_table--row--Z-m90 members_table--row--1Vyr4",actionColumnInactive:"shared_fonts_table--actionColumnInactive--2V4Qe",modalHeaderRow:"shared_fonts_table--modalHeaderRow--1GaI9 members_table--headerRow--1jhAn members_table--row--1Vyr4 shared_fonts_table--row--Z-m90 members_table--row--1Vyr4",actionColumn:"shared_fonts_table--actionColumn--j_eFs",errorColumnFile:"shared_fonts_table--errorColumnFile--_Ml40",errorColumnMessage:"shared_fonts_table--errorColumnMessage--2w4IC",actions:"shared_fonts_table--actions--2d1lW"}}),
(function(e,a,t){e.exports={avatarHandle:"header--avatarHandle--1wsCK text--fontPos13--1DoEt text--_fontBase--YWDo0",divider:"header--divider--2eGaN",headerContainer:"header--headerContainer--1yicY",headerRight:"header--headerRight--2_sSp",avatarContainer:"header--avatarContainer--3xSnc",title:"header--title--1TiSG text--fontPos24--2l6xY text--_fontBase--YWDo0"}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=t(2,1    ),s=t(1401          ),n=t(475                            );a.OrgAdminSettingsHeader=(e=>r.createElement("div",{className:s.headerContainer},r.createElement("h1",{className:s.title},e.title),r.createElement("div",{className:s.headerRight},e.headerItem,e.headerItem&&r.createElement("div",{className:s.divider}),r.createElement("div",{className:s.avatarContainer},r.createElement(n.Avatar,{entity:e.org,size:40}),r.createElement("span",{className:s.avatarHandle},e.org.name)))))}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 1.293L4.646 4.646l.708.707L7.5 3.207V11h1V3.207l2.146 2.146.708-.707L8 1.293zM2 12H1v3h14v-3h-1v2H2v-2z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 1.293L4.146 4.646l.708.707L7 3.207V11h1V3.207l2.146 2.146.708-.707L7.5 1.293zM2 12H1v3h14v-3h-1v2H2v-2z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),n=a(122          ),o=a(43,1         ),l=a(661                             ),r=a(113                                     ),c=a(147                                            ),i=a(1072                                                           ),m=a(409                                  ),d=a(123         ),u=a(406                           ),p=a(154                                 ),g=a(1396                                     ),h=a(146                        ),f=a(234                                                    ),_=a(1398                                                                                     ),v=a(462                                       ),E=a(136                                 ),w=a(411                                                  ),b=a(1015                             ),S=a(172                                              ),N=a(265                                    ),F=a(1399             ),y=a(1400                      ),C=a(1395                                         ),O=a(1402              ),I=a(1403                                 ),R=a(1404                                   ),k=a(509                        ),D=a(975                           );t.OrgAdminSharedFontsTable=(e=>{const t=new Set(Object.keys(e.sharedFonts.fontsToDelete)),{sortedAndSearchFilteredFamilyNames:a,sortedAndSearchFilteredFamilyNamesToStyleNames:r}=e.getSearchFilteredFonts(e.uniqueResourceId),c=()=>Object.keys(e.sharedFonts.fontsToDelete).length,u=c()>0,p=o.useSelector(t=>t.orgById[e.orgId]),E=t=>{const a=w(e.sharedFonts.fontsByResourceId),s=[...t];e.dispatch(l.sharedFonts.clearFontsToDelete()),s.forEach(t=>e.dispatch(l.sharedFonts.toggleFontsToDelete({fonts:[a[t]]})))},w=n.memoizeLast(t=>{const s=t[`org-${e.orgId}`];if(!s)return{};const n={};for(const e of Object.keys(s))for(const t of Object.keys(s[e]))if(a.includes(e)&&r[e].includes(t)){const a=s[e][t];n[a.id]=a}return n}),T=e=>e.fontInfo.id,{uploadsLaunched:A,successfulUploads:B,unsuccessfulUploads:M,uploadsRemaining:U}=e.sharedFonts;return 0!==A&&Object.keys(U).length>0&&e.dispatch(S.visualBell.enqueue({type:"shared-fonts",message:`Importing ${B.length+M.length+1} of ${A} font files...`,icon:N.VisualBellIcon.SPINNER})),s.createElement(g.MultiSelectList,{items:(()=>{const t=w(e.sharedFonts.fontsByResourceId),a=[];for(const e of Object.values(t))a.push({fontInfo:e,displayName:`${e.family} ${e.style}`,sortValue:`${e.family} ${e.italic?"italic":""} ${e.weight||400}`});return a})(),getItemKey:T,columns:(()=>{const t=[],a=()=>s.createElement(s.Fragment,null,"–");return t.push({name:"Font",className:y.fontColumn,getSortValue:e=>e.sortValue,cellComponent:e=>s.createElement(i.CenterTruncatedText,{text:e.displayName})}),t.push({name:"Version",className:y.versionColumn,cellComponent:e=>e.fontInfo.version?s.createElement(s.Fragment,null,e.fontInfo.version):s.createElement(a,null)}),t.push({name:"Sample",className:y.sampleColumn,cellComponent:e=>s.createElement("img",{className:y.sample,src:e.fontInfo.sampleUrl})}),t.push({name:"",className:y.iconColumn,cellComponent:t=>{var a;if(u)return s.createElement(s.Fragment,null);const n=`MENU_DROPDOWN-${t.displayName}`,o=(null===(a=e.dropdownShown)||void 0===a?void 0:a.type)===n;return s.createElement(F.DropdownSelector,{className:C.actionButton,dispatch:e.dispatch,showingDropdown:o,type:n,hideChevron:!0},s.createElement(h.Svg,{svg:k,className:y.menuIcon}),o&&s.createElement(m.dropdown.Dropdown,{className:y.dropdown,style:e.dropdownShown.data.position},s.createElement(m.dropdown.Option,{onClick:()=>{E(new Set([T(t)])),e.onShowDeleteFontsModal()}},"Delete font")))}}),t})(),defaultSortConfig:{columnName:"Font",isReversed:!1},scrollAwayContent:s.createElement(O.OrgAdminSettingsHeader,{org:p,title:v.OrgAdminTabDisplayName[v.OrgAdminSettingsViewTab.RESOURCES]}),selectedItemKeys:t,onSelectionChange:E,rowHeight:60,stickyContent:(()=>{const t=s.createElement(s.Fragment,null,s.createElement("div",{className:C.actionButton,onClick:e.onUploadClick},s.createElement(f.SvgWithFallback,{className:y.buttonIcon,svg:I,fallbackSvg:R}),"Upload fonts"),s.createElement(b.SearchBar,{className:C.searchBar,onChange:e.setQuery,focusOnMount:!1,query:e.query,hideXIcon:!0,clearSearch:()=>{},placeholder:"Search fonts"}));return s.createElement(_.OrgAdminResourcesSectionMenuBar,{dispatch:e.dispatch,currentOrgId:e.orgId,selectedTab:v.OrgAdminSettingsResourcesViewTab.SHARED_FONTS,rightContent:t})})(),actionBar:(()=>{if(c()<1)return;const t=d.getPluralOrSingular(c(),"font");return s.createElement(s.Fragment,null,s.createElement("div",{className:C.batchActionCount},c()," ",t," selected:"),s.createElement("div",{className:C.menuButton,onClick:e.onShowDeleteFontsModal},"Delete ",t),s.createElement(h.Svg,{className:C.batchActionClear,svg:D,onClick:()=>E(new Set)}))})()})});t.FONT_UPLOAD_REVIEW_ERRORS_MODAL=E.registerModal(()=>{const e=o.useDispatch(),t=o.useSelector(e=>e.sharedFonts.unsuccessfulUploads);return s.createElement(p.Modal,{dispatch:e,size:600,title:"Font upload errors"},s.createElement("div",{className:y.modalContainer},s.createElement(w.ScrollContainer,{width:600,showScrollbar:!0,className:y.scrollContainer},s.createElement(u.TableRow,{header:!0,className:y.modalHeaderRow},s.createElement(u.HeaderCell,{className:y.errorColumnFile},"File"),s.createElement(u.HeaderCell,{className:y.errorColumnMessage},"Error")),t.map(e=>s.createElement(u.TableRow,{className:y.row,key:e.filename},s.createElement("div",{className:y.errorColumnFile},s.createElement(i.CenterTruncatedText,{text:e.filename})),s.createElement("div",{className:y.errorColumnMessage},s.createElement("span",null,e.message)))))),s.createElement("div",{className:y.actions},s.createElement(c.ButtonPrimary,{onClick:()=>{e(l.sharedFonts.clearFontUploadResults()),e(r.fileBrowser.hideModal())}},"Okay")))},"FontUploadReviewErrorsModal")}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2,1    ),o=a(1390                                                                                 ),l=a(123         ),r=a(232                       ),s=a(147                                            ),c=a(1072                                                           ),i=a(406                           ),m=a(483                                                                  ),d=a(411                                                  ),u=a(1015                             ),h=a(146                        ),p=a(181                                       ),g=a(450                                              ),f=a(1020                                               );t.SharedFontsModalContent=(e=>{const{canAdmin:t,fontLoadPromise:a,dispatch:h,getSortedAndSearchFilteredFonts:p,onClearFontUploadResults:C,onDismissUploadErrors:v,onFontListScroll:N,onFontListCanScrollChange:k,onReviewUploadErrors:y,onToggleCheckFont:w,onUploadClick:b,onShowDeleteFontsModal:S,onViewOrgFontsClick:F,org:T,orgById:O,orgFonts:_,query:R,resourceType:I,resourceId:x,setQuery:B,sharedFonts:P,shouldShowFooterBorder:U,shouldShowUploadErrors:D,teams:j,toggleCheckAllFontIDs:M,width:A,uniqueResourceId:z}=e,H=(e,t,a)=>{const o=P.fontsByResourceId[e];if(!o)return[];const l=[],{sortedAndSearchFilteredFamilyNames:r,sortedAndSearchFilteredFamilyNamesToStyleNames:s}=p(e);for(const c of r)for(const r of s[c]){const s=o[c][r],i=!!(a&&a[c]&&a[c][r]);l.push(n.createElement(E,{key:`${c}-${r}-${e}`,fontInfo:s,dispatch:h,canCheck:t,orgById:O,teams:j,shouldShowCheckbox:Object.keys(P.fontsToDelete).length>0,isChecked:s.id in P.fontsToDelete,handleToggleCheck:w,isOverridden:i}))}return l},L=()=>{const e=Object.keys(P.fontsToDelete).length;return n.createElement("div",{className:o.footer,key:"shared-fonts-delete-footer"},n.createElement("span",null,e," ",l.getPluralOrSingular(e,"font")," selected"),n.createElement(s.ButtonSecondary,{onClick:S},"Delete"))},$=()=>{let e=n.createElement("div",null);if("team"===I&&T&&_&&Object.keys(_).length>0){let t=0;Object.keys(_).forEach(e=>{t+=Object.keys(_[e]).length}),e=n.createElement("div",null,n.createElement("div",{className:o.uploadFooterMessage},n.createElement("span",{onClick:F,className:o.blueLink},"View ",t," shared ",l.getPluralOrSingular(t,"font"))," available to this team"),n.createElement("div",{className:o.uploadFooterMessageOrg},"from ",T.name," Organization."))}const a=t?n.createElement(s.ButtonPrimary,{onClick:b},"Upload Fonts"):null;return a||e?n.createElement("div",{className:o.footer,key:"shared-fonts-upload-footer"},e,a):null},V=n.createRef();if(D)return n.createElement("div",{className:o.container},n.createElement(d.ScrollContainer,{width:A,showScrollbar:!0,className:o.scrollContainer},n.createElement(i.TableRow,{header:!0,className:o.headerRow},n.createElement(i.HeaderCell,{className:o.errorColumnFile},"File"),n.createElement(i.HeaderCell,{className:o.errorColumnMessage},"Error")),P.unsuccessfulUploads.map(e=>n.createElement(i.TableRow,{className:o.row,key:e.filename},n.createElement("div",{className:o.errorColumnFile},n.createElement(c.CenterTruncatedText,{text:e.filename})),n.createElement("div",{className:o.errorColumnMessage},n.createElement("span",null,e.message))))),n.createElement("div",{className:o.errorActionContainer},n.createElement(s.ButtonSecondary,{className:o.errorAction,onClick:v},"Dismiss")));const{uploadsRemaining:q}=P,X=(()=>{const{fontsByResourceId:a}=e.sharedFonts;if(!a[z])return[];if("org"===I)return H(z,t);{const e=j[x].org_id;return H(z,t,a[`org-${e}`])}})(),K=!a&&0===X.length&&!R;return n.createElement("div",{className:o.container},n.createElement("div",{className:o.searchContainer},n.createElement(u.SearchBar,{focusOnMount:!0,extraSpacing:!0,query:R,clearSearch:()=>B(""),onChange:B,useDeprecatedStyles:!0})),n.createElement("div",{className:K?o.fontsContainer:o.fontsContainerWithFooter},n.createElement(i.TableRow,{header:!0,className:o.headerRow},n.createElement(i.HeaderCell,{className:o.actionColumn},t&&n.createElement(s.Checkbox,{checked:Object.keys(P.fontsToDelete).length>0,onChange:M})),n.createElement(i.HeaderCell,{className:o.familyColumn},"Font"),n.createElement(i.HeaderCell,{className:o.column},"Version"),n.createElement(i.HeaderCell,{className:o.column},"Sample"),n.createElement(i.HeaderCell,{className:o.actionColumn},t&&n.createElement(m.IconButton,{svg:g,fallbackSvg:f,onClick:b,"data-tooltip-type":r.TooltipType.TEXT,"data-tooltip":"Upload New Shared Font"}))),K?(()=>{let e=null,a=null,l=0;_&&Object.keys(_).forEach(e=>{l+=Object.keys(_[e]).length}),"team"===I?t?e="Upload fonts you own to share with your team.":(e="No fonts have been uploaded to this team.",a="Only team admins have permission to upload fonts."):t?e="Upload fonts you own to share with your organization.":(e="No fonts have been uploaded to this organization.",a="Only organization admins have permission to upload fonts.");const r="team"===I&&l>0;return n.createElement("div",{className:o.nullContainer},n.createElement("div",{className:o.nullMessagesContainer},e&&n.createElement("div",{className:o.primaryNullMessage},e),a&&n.createElement("div",null,a),T&&r&&n.createElement("div",{className:t?o.orgNullMessageAdmin:o.orgNullMessage},n.createElement("span",{onClick:F,className:o.blueLink},"View ",l," Shared Fonts")," from ",T.name," Organization")),t&&n.createElement(s.ButtonPrimary,{onClick:b},"Upload Fonts"))})():n.createElement(n.Fragment,null,n.createElement(d.ScrollContainer,{width:A,showScrollbar:!0,className:o.scrollContainer,onScroll:N,onCanScrollChange:k,key:"shared-fonts-scroll-container"},a&&n.createElement(i.LoadingRow,null),Object.keys(q).sort().map((e,t)=>{const a=P.uploadsRemaining[e];return n.createElement(i.TableRow,{className:o.row,key:e},n.createElement("div",{className:o.actionColumn}),n.createElement("div",{className:o.uploadInProgress,ref:0===t?V:void 0},n.createElement(c.CenterTruncatedText,{text:a.file.name}),n.createElement("div",{className:o.uploadIndicator,style:{width:`${100*a.progress}%`}})),n.createElement("div",{className:o.actionColumn}))}),X.length>0&&X,0===X.length&&R&&n.createElement("div",{className:o.noSearchResultsInfo},"No results for ",R)),a?null:(()=>n.createElement(n.Fragment,null,n.createElement("div",{className:U?o.footerBorder:o.footerBorderInvisible,key:"footer-border"}),Object.keys(P.fontsToDelete).length>0?L():$()))())),(()=>{const{uploadsLaunched:e,successfulUploads:t,unsuccessfulUploads:a}=P;return 0===e?null:e-t.length-a.length>0?n.createElement("div",{className:o.progress},n.createElement("span",null,"Importing ",t.length+a.length+1,"/",e," font files...")):0===a.length?null:n.createElement("div",{className:o.progressFailure},n.createElement("span",null,"Import complete, with ",a.length," ",l.getPluralOrSingular(a.length,"error")),n.createElement("div",null,n.createElement(s.ButtonSecondary,{className:o.action,onClick:y},"Review ",l.getPluralOrSingular(a.length,"error")),n.createElement(s.ButtonSecondary,{className:o.action,onClick:C},"OK")))})())});class E extends n.PureComponent{constructor(){super(...arguments),this.handleRowClick=(e=>{this.props.handleToggleCheck(this.props.fontInfo),e.stopPropagation()}),this.handleCheck=(e=>{this.props.handleToggleCheck(this.props.fontInfo),e.stopPropagation()}),this.handleCheckboxClick=(e=>{e.stopPropagation()})}render(){const{family:e,style:t,version:a,sampleUrl:l}=this.props.fontInfo;return n.createElement(i.TableRow,{className:this.props.isOverridden?o.rowInactive:o.row,onClick:this.props.canCheck?this.handleRowClick:void 0},n.createElement("div",{className:this.props.shouldShowCheckbox?o.actionColumn:o.actionColumnInactive},this.props.canCheck&&n.createElement(s.Checkbox,{checked:this.props.isChecked,onChange:this.handleCheck,onClick:this.handleCheckboxClick})),n.createElement("div",{className:o.familyColumn},n.createElement(c.CenterTruncatedText,{text:`${e} ${t}`})),n.createElement("div",{className:o.column},a||"—"),n.createElement("div",{className:o.column},n.createElement("img",{className:o.sample,src:l})),n.createElement("div",{className:o.actionColumn},this.props.isOverridden&&n.createElement("div",{"data-tooltip-type":r.TooltipType.TEXT,"data-tooltip":"This font style was uploaded to your Organization. Any new text objects will use the Organization font."},n.createElement(h.Svg,{svg:p}))))}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),i=s(175                            ),r=s(46,1    ),n=s(141              ),a=s(1390                                                                                 ),l=s(125                        ),h=s(316                                   ),d=s(315       ),p=s(1391                    ),c=s(123         ),m=s(113                                     ),u=s(661                             ),g=s(189                             ),f=s(661                             ),F=s(172                                              ),S=s(265                                    ),y=s(147                                            ),w=s(1393                                                                 ),C=s(154                                 ),_=s(1405                                                                              ),I=s(411                                                  ),E=s(1406                                                                             ),b=s(406                           );class v extends n.Component{constructor(e){super(e),this.fileInput=document.createElement("input"),this.files=[],this.handleFontListScroll=((e,t)=>{this.setState({shouldShowFooterBorder:e+t.trackHeight!==t.scrollHeight})}),this.handleFontListCanScrollChange=(e=>{this.setState({shouldShowFooterBorder:e})}),this.resourceId=(()=>"team"===this.props.resourceType?this.props.teamId:this.props.orgId),this.uniqueResourceId=(()=>`${this.props.resourceType}-${this.resourceId()}`),this.canAdmin=(()=>"team"===this.props.resourceType?l.canAdminTeam(this.props.teamId,this.props.permissionsState):l.canAdminOrg(this.props.orgId,this.props.permissionsState)),this.toggleApplyToAll=(()=>this.setState({applyToAll:!this.state.applyToAll})),this.skipCollision=(()=>{(this.state.applyToAll?this.props.sharedFonts.collisions:[this.props.sharedFonts.collisions[0]]).forEach(()=>{this.props.dispatch(f.sharedFonts.dismissFontCollision())}),this.setState({applyToAll:!1})}),this.replaceCollision=(()=>{(this.state.applyToAll?this.props.sharedFonts.collisions:[this.props.sharedFonts.collisions[0]]).forEach(e=>{this.props.dispatch(f.sharedFonts.uploadFonts({fonts:{[u.getFontUploadId()]:e.file},resourceType:this.props.resourceType,resourceId:this.resourceId(),overwrite:!0})),this.props.dispatch(f.sharedFonts.dismissFontCollision())}),this.setState({applyToAll:!1})}),this.reviewUploadErrors=(()=>{this.setState({shouldShowUploadErrors:!0})}),this.dismissUploadErrors=(()=>{this.props.dispatch(f.sharedFonts.clearFontUploadResults()),this.setState({shouldShowUploadErrors:!1})}),this.clearFontUploadResults=(()=>this.props.dispatch(f.sharedFonts.clearFontUploadResults())),this.onUploadConfirm=(()=>{const{uploadsRemaining:e}=this.props.sharedFonts;0===Object.keys(e).length&&this.clearFontUploadResults();const t={};for(const s of this.files)t[u.getFontUploadId()]=s;this.fileInput.value="",this.props.dispatch(f.sharedFonts.uploadFonts({fonts:t,resourceType:this.props.resourceType,resourceId:this.resourceId(),overwrite:!1})),this.resetUpload()}),this.onUploadClick=(()=>{this.fileInput.click()}),this.getOrgFontsForTeam=(()=>{if("team"!==this.props.resourceType)return null;const e=this.getOrgForTeam();return e&&this.props.sharedFonts.fontsByResourceId[`org-${e.id}`]}),this.getSortedAndSearchFilteredFonts=(e=>{let t=[],s={};const o=this.props.sharedFonts.fontsByResourceId[e];if(!o)return{sortedAndSearchFilteredFamilyNames:t,sortedAndSearchFilteredFamilyNamesToStyleNames:s};if(this.state.query){const e=new p.FuzzyStringMatcher(this.state.query),i=[];for(const r in o){const n=[];let a=e.matchAgainstText(r);for(const t in o[r]){const s=e.matchAgainstText(`${r} ${t}`);if(s){a||(a=new p.FuzzyStringMatch(s.result,s.score,r));const e=new p.FuzzyStringMatch(s.result,s.score,t);n.push(e)}}n.length>0?(a?i.push(a):t.push(r),s[r]=n.sort((e,t)=>t.score-e.score).map(e=>e.text)):a&&(i.push(a),s[r]=Object.keys(o[r]).sort())}t=[...i.sort((e,t)=>t.score-e.score).map(e=>e.text),...t]}else{t=Object.keys(o).sort();for(const e of t)s[e]=Object.keys(o[e]).sort(function(t,s){const i=!!o[e][t].italic,r=!!o[e][s].italic;if(!i&&r)return-1;if(i&&!r)return 1;return(o[e][t].weight||400)-(o[e][s].weight||400)})}return{sortedAndSearchFilteredFamilyNames:t,sortedAndSearchFilteredFamilyNamesToStyleNames:s}}),this.updateUploadRef=o.createRef(),this.dismissWarning=(()=>{this.props.dispatch(f.sharedFonts.dismissFontWarning())}),this.showDeleteFontsModal=(()=>{this.setState({shouldShowDeleteModal:!0})}),this.resetUpload=(()=>{this.files=[],this.setState({shouldShowLicenseModal:!1})}),this.deleteCheckedFonts=(()=>{this.props.dispatch(f.sharedFonts.deleteFonts()),this.setState({shouldShowDeleteModal:!1})}),this.resetDelete=(()=>{this.setState({shouldShowDeleteModal:!1})}),this.toggleCheckAllFontIDs=(()=>{const e=this.props.sharedFonts.fontsByResourceId[this.uniqueResourceId()],{sortedAndSearchFilteredFamilyNames:t,sortedAndSearchFilteredFamilyNamesToStyleNames:s}=this.getSortedAndSearchFilteredFonts(this.uniqueResourceId()),o=[];for(const i of t)for(const t of s[i])o.push(e[i][t]);this.props.dispatch(f.sharedFonts.toggleFontsToDelete({fonts:o,checked:Object.keys(this.props.sharedFonts.fontsToDelete).length<o.length}))}),this.toggleCheckFont=(e=>{this.props.dispatch(f.sharedFonts.toggleFontsToDelete({fonts:[e]}))}),this.onSearchQueryChange=(e=>{this.setState({query:e})}),this.onViewOrgFontsClick=(()=>{this.props.dispatch(m.fileBrowser.showModal({type:i.ORG_DASHBOARD_MODAL})),this.props.dispatch(g.orgs.selectAdminView({view:"fonts"}))}),this.renderCollision=(()=>{const e=this.props.sharedFonts.collisions[0];return e?o.createElement(C.Modal,{size:400,dispatch:this.props.dispatch,title:"You already have a font with this name."},o.createElement(I.ScrollContainer,{width:352,showScrollbar:!1,className:a.collisionScrollContainer},o.createElement(b.TableRow,{className:a.existingRow},o.createElement("div",{className:a.familyColumn},e.existing.family,", ",e.existing.style," ",e.existing.version&&`(v${e.existing.version})`),o.createElement("div",{className:a.dateColumn},e.existing.updatedAt&&r(e.existing.updatedAt).format("M/D/YYYY"))),o.createElement(b.TableRow,{className:a.collisionRow},o.createElement("div",{className:a.familyColumn},e.existing.family,", ",e.existing.style," ",e.uploaded.version&&`(v${d.parseVersion(e.uploaded.version)})`),o.createElement("div",{className:a.dateColumn},"Just now"))),this.props.sharedFonts.collisions.length>1&&o.createElement("div",{className:a.applyAll},o.createElement(y.Checkbox,{checked:this.state.applyToAll,onChange:this.toggleApplyToAll}),o.createElement("span",{onClick:this.toggleApplyToAll},"Apply to All ",this.props.sharedFonts.collisions.length," Remaining")),o.createElement("div",{className:a.actions},o.createElement(y.ButtonSecondary,{onClick:this.skipCollision},"Skip"),o.createElement(y.ButtonPrimary,{onClick:this.replaceCollision},"Replace"))):null}),this.renderWarning=(()=>{if(this.props.sharedFonts.collisions.length>0)return null;const e=this.props.sharedFonts.warnings[0];if(!e)return null;const t=e.collisions.filter(e=>e.teamId&&this.props.permissionsState.teams[e.teamId]).map(e=>this.props.permissionsState.teams[e.teamId]).map(e=>e.name);return t.length?o.createElement(C.Modal,{size:400,dispatch:this.props.dispatch,title:"Team Fonts will be Overridden"},o.createElement("div",{className:a.modalInfo},e.font.family," ",e.font.style," has already been added to ",c.joinWordsNaturally(t),". In new text objects, the font shared with the organization will be used instead of fonts uploaded to teams."),o.createElement("div",{className:a.modalInfo},"Organization Fonts take precedence over Fonts uploaded to individual Teams; any text objects created using this font will use the Organization Shared Font."),o.createElement("div",{className:a.modalInfo},"To use the Team version of the Font, you will need to remove the Font from the Organization."),o.createElement("div",{className:a.actions},o.createElement(y.ButtonPrimary,{onClick:this.dismissWarning},"Okay"))):null}),this.renderUploadModal=(()=>o.createElement(w.CheckboxConfirmModal,{checkboxText:"I own the fonts I am uploading, or have the right to distribute copies to others and to authorize the use of copies with Figma.",buttonText:"Upload",onConfirm:this.onUploadConfirm,onHide:this.resetUpload,hideCancelButton:!1,dispatch:this.props.dispatch,title:`Uploading ${this.files.length} ${c.getPluralOrSingular(this.files.length,"Font")}`})),this.renderDeleteModal=(()=>{const e=Object.keys(this.props.sharedFonts.fontsToDelete).length;return o.createElement(C.Modal,{size:"small",dispatch:this.props.dispatch,title:"Confirm Delete"},o.createElement("div",{className:a.modalInfo},"Are you sure you want to delete ",e," ",c.getPluralOrSingular(e,"font"),"?"),o.createElement("div",{className:a.licenseModalActionsContainer},o.createElement(y.ButtonPrimary,{className:a.action,onClick:this.deleteCheckedFonts},"Confirm"),o.createElement(y.ButtonSecondary,{className:a.action,onClick:this.resetDelete},"Cancel")))}),this.fileInput.type="file",this.fileInput.multiple=!0,this.fileInput.accept="font/opentype,font/ttf,.otf,.ttf",this.fileInput.onchange=(e=>{this.files=e.target.files,this.setState({shouldShowLicenseModal:!0})}),this.state={applyToAll:!1,shouldShowUploadErrors:e.sharedFonts.unsuccessfulUploads.length>0,shouldShowLicenseModal:!1,shouldShowDeleteModal:!1,query:"",shouldShowFooterBorder:!1}}componentDidUpdate(e){const t=this.updateUploadRef.current;Object.keys(this.props.sharedFonts.uploadsRemaining).length>0&&0===Object.keys(e.sharedFonts.uploadsRemaining).length&&t&&t.scrollIntoView({behavior:"smooth",block:"start"})}componentWillUnmount(){this.props.dispatch(f.sharedFonts.clearFontsToDelete());const{uploadsLaunched:e,uploadsRemaining:t}=this.props.sharedFonts;0!==e&&(Object.keys(t).length>0?this.props.dispatch(F.visualBell.enqueue({type:"shared-fonts",message:"Importing shared fonts",icon:S.VisualBellIcon.SPINNER})):this.clearFontUploadResults())}static loadSharedFonts(e){v.fontLoadPromise||v.loadedFonts||(v.fontLoadPromise=h.fetchSharedFonts(),v.fontLoadPromise.then(t=>{e(f.sharedFonts.updateSharedFontList(t)),v.fontLoadPromise=null,v.loadedFonts=!0}))}getOrgForTeam(){if(!this.props.permissionsState.teams[this.resourceId()])return null;const e=this.props.permissionsState.teams[this.resourceId()].org_id;return e?this.props.permissionsState.orgById[e]:null}renderContent(){return this.props.useDeprecatedViewComponent?o.createElement(E.SharedFontsModalContent,{dispatch:this.props.dispatch,canAdmin:this.canAdmin(),fontLoadPromise:v.fontLoadPromise,getSortedAndSearchFilteredFonts:this.getSortedAndSearchFilteredFonts,onClearFontUploadResults:this.clearFontUploadResults,onDismissUploadErrors:this.dismissUploadErrors,onFontListScroll:this.handleFontListScroll,onFontListCanScrollChange:this.handleFontListCanScrollChange,onReviewUploadErrors:this.reviewUploadErrors,onShowDeleteFontsModal:this.showDeleteFontsModal,onToggleCheckFont:this.toggleCheckFont,onUploadClick:this.onUploadClick,onViewOrgFontsClick:this.onViewOrgFontsClick,org:this.getOrgForTeam(),orgById:this.props.permissionsState.orgById,orgFonts:this.getOrgFontsForTeam(),query:this.state.query,resourceType:this.props.resourceType,resourceId:this.resourceId(),setQuery:this.onSearchQueryChange,sharedFonts:this.props.sharedFonts,shouldShowFooterBorder:this.state.shouldShowFooterBorder,shouldShowUploadErrors:this.state.shouldShowUploadErrors,teams:this.props.permissionsState.teams,toggleCheckAllFontIDs:this.toggleCheckAllFontIDs,width:this.props.width,uniqueResourceId:this.uniqueResourceId()}):o.createElement(_.OrgAdminSharedFontsTable,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,fontLoadPromise:v.fontLoadPromise,getSearchFilteredFonts:this.getSortedAndSearchFilteredFonts,onClearFontUploadResults:this.clearFontUploadResults,onDismissUploadErrors:this.dismissUploadErrors,onReviewUploadErrors:this.reviewUploadErrors,onShowDeleteFontsModal:this.showDeleteFontsModal,onUploadClick:this.onUploadClick,setQuery:this.onSearchQueryChange,sharedFonts:this.props.sharedFonts,shouldShowUploadErrors:this.state.shouldShowUploadErrors,orgId:this.props.orgId,query:this.state.query,uniqueResourceId:this.uniqueResourceId()})}render(){return o.createElement(o.Fragment,null,this.renderContent(),this.renderCollision(),this.renderWarning(),this.state.shouldShowLicenseModal&&this.renderUploadModal(),this.state.shouldShowDeleteModal&&this.renderDeleteModal())}}t.SharedFonts=v,v.displayName="SharedFonts",v.fontLoadPromise=null,v.loadedFonts=!1}),
(function(l,e,s){l.exports={userDetailsModal:"user_details_modal--userDetailsModal--2X-AD",scrollContainer:"user_details_modal--scrollContainer--3eiqC",userDetailsContent:"user_details_modal--userDetailsContent--dapxA",avatar:"user_details_modal--avatar--1H9IU",loadingRoles:"user_details_modal--loadingRoles--3U98l",downgradeButton:"user_details_modal--downgradeButton--PhB0r",roles:"user_details_modal--roles--3zPE_",allAccess:"user_details_modal--allAccess--2CU6W",roleLink:"user_details_modal--roleLink--1JZdb ellipsis--ellipsis--1RWY6",roleLinkDisabled:"user_details_modal--roleLinkDisabled--1Fm1B",confirmModal:"user_details_modal--confirmModal--1Z6EN",confirmActions:"user_details_modal--confirmActions--25c4l"}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(2,1    ),s=t(609                                   ),r=t(113                                     ),l=t(232                       ),i=t(154                                 ),n=t(475                            ),d=t(147                                            ),m=t(411                                                  ),c=t(271                                        ),p=t(125                        ),_=t(420              ),h=t(1408                      ),E=t(422                                        ),f=t(137                                    ),u=t(136                                 ),g=_.pxToInt(E.userDetailsModalWidth);a.TEAM_ADMIN_USER_DETAILS_MODAL="team-admin-user-details-modal",u.registerUnsafeModal(a.TEAM_ADMIN_USER_DETAILS_MODAL,e=>{const{editor:a}=e.modalShown.data;return f.asTrackedElement(o.createElement(v,Object.assign({},e)),"Team Admin User Details Modal",{teamId:a.team_id,editorId:a.id})});class v extends o.PureComponent{constructor(){super(...arguments),this.onRemove=(()=>{const{editor:e}=this.props.modalShown.data;this.props.dispatch(r.fileBrowser.showModal({type:a.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR,data:{editor:e}}))})}render(){var e;const{editor:a}=this.props.modalShown.data,{loading:t,roles:s}=this.props.teamAdmin.userDetails,r=s.team_roles||[],_=s.folder_roles||[],E=_.filter(e=>p.canViewFolder(e.resource_id_or_key,this.props)),u=_.length-E.length,v=s.file_roles||[],M=v.filter(e=>p.canViewFile(e.resource_id_or_key,this.props)),T=v.length-M.length,w=r.length>0;return o.createElement(f.TrackingContext,{name:"User Details Modal",disableViewTracking:!0},o.createElement(i.Modal,Object.assign({className:h.userDetailsModal},this.props),o.createElement(m.ScrollContainer,{className:h.scrollContainer,showScrollbar:!0,width:g},o.createElement("div",{className:h.userDetailsContent},o.createElement(n.Avatar,{entity:a,size:100,className:h.avatar}),o.createElement("div",null,a.name,o.createElement("br",null),o.createElement("a",{href:`mailto:${a.email}`},a.email)),o.createElement(d.ButtonSecondaryTracked,{onClick:this.onRemove,className:h.downgradeButton,disabled:a.id===(null===(e=this.props.user)||void 0===e?void 0:e.id)},"Downgrade to Viewer"),t&&o.createElement(c.LoadingSpinner,{className:h.loadingRoles}),!t&&o.createElement("div",{className:h.roles},o.createElement("div",null,"Files with edit access",w&&o.createElement("div",{className:h.allAccess},"All team files"),!w&&0===v.length&&o.createElement("div",{className:h.allAccess},"None"),!w&&M.map((e,a)=>{const t=`/file/${e.resource_id_or_key}`;return o.createElement("a",{target:"_blank",rel:"noopener",className:h.roleLink,href:t,key:a},e.name||"Untitled")}),!w&&T>0&&o.createElement("div",{"data-tooltip-type":l.TooltipType.TEXT,"data-tooltip":"Files in team invite only folders you do not have access to.",className:h.roleLinkDisabled},T," ",M.length>0?"other":""," file",T>1?"s ":"")),o.createElement("div",null,"Projects with edit access",w&&o.createElement("div",{className:h.allAccess},"All team projects"),!w&&0===_.length&&o.createElement("div",{className:h.allAccess},"None"),!w&&E.map((e,a)=>{const t=`/files/project/${e.resource_id_or_key}`;return o.createElement("a",{target:"_blank",rel:"noopener",className:h.roleLink,href:t,key:a},e.name)}),!w&&u>0&&o.createElement("div",{"data-tooltip-type":l.TooltipType.TEXT,"data-tooltip":"Team invite only folders you do not have access to.",className:h.roleLinkDisabled},u," ",E.length>0?"other":""," folder",u>1?"s ":"")))))))}}v.displayName="UserDetailsModal",a.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR="team-admin-confirm-remove-editor",u.registerUnsafeModal(a.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR,e=>{const{editor:a}=e.modalShown.data;return f.asTrackedElement(o.createElement(M,Object.assign({},e)),"Team Admin Confirm Remove Editor Modal",{teamId:a.team_id,editorId:a.id})});class M extends o.PureComponent{constructor(){super(...arguments),this.onRemove=(()=>{const{editor:e}=this.props.modalShown.data;this.props.dispatch(s.teamAdmin.demoteUserRoles({editor:e})),this.props.dispatch(r.fileBrowser.hideModal())})}render(){const{editor:e}=this.props.modalShown.data;return o.createElement(f.TrackingContext,{name:"Confirm Remove Editor Modal",disableViewTracking:!0},o.createElement(i.ConfirmationModal,Object.assign({confirmText:`Downgrade ${e.name}`,onConfirm:this.onRemove,size:"small"},this.props),o.createElement("div",{className:h.confirmModal},o.createElement("p",null,"Are you sure you want to downgrade ",e.name,"? This will convert all of their edit permissions to view-only."))))}}M.displayName="ConfirmRemoveEditorModal"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(108     ),s=a(45,1            ),d=a(205                             ),m=a(93                                   ),r=a(206                             ),n=a(113                                     ),o=a(609                                   ),l=a(1407                                                               ),c=a(86            ),p=a(111          ),h=a(322                           ),u=a(125                        ),f=a(99                      ),y=a(135                     ),A=a(175                            ),g=a(176                       ),_=a(1409                                                        ),w=new h.SearchLibrary([],{keys:["name","email"],threshold:.3,tokenize:!0,shouldSort:!0}),S={[g.LibraryPreferencesModalTab.FONTS]:A.SHARED_FONTS_MODAL,[g.LibraryPreferencesModalTab.LIBRARIES]:A.LIBRARY_PREFERENCES_MODAL};t.fetchSummary=(e=>i.default.get(`/api/subscriptions/team/${e}/summary`).then(({data:e})=>e.meta)),t.fetchEditors=(e=>i.default.get(`/api/teams/${e}/editors`).then(({data:t})=>{const a=t.meta.editors;for(let i of a)i.team_id=e;return a})),t.fetchRoles=((e,t)=>i.default.get(`/api/teams/${e}/users/${t}/editor_roles`).then(({data:e})=>{return e.meta})),t.demoteUserRoles=((e,t)=>i.default.post(`/api/teams/${e}/users/${t}/revoke_editor`));const I=c.debounce((e,t)=>{e.dispatch(o.teamAdmin.setSearchResults({searchResults:w.search(t)}))},200);t.teamAdminMiddleware=(e=>a=>(function(i){if(n.fileBrowser.selectView.matches(i)&&"teamAdmin"===i.payload.view){const t=i.payload.teamId,s=e.getState();return u.canAdminTeam(t,s)?(e.dispatch(o.teamAdmin.initBillingDetails({teamId:t})),a(i)):void e.dispatch(n.fileBrowser.selectView({view:"team",teamId:t}))}if(n.fileBrowser.selectView.matches(i)&&"team"===i.payload.view&&i.payload.teamPreferencesModalTab)return a(i),void e.dispatch(n.fileBrowser.showModal({type:S[i.payload.teamPreferencesModalTab]}));if(r.team.put.matches(i)){const t=i.payload.team.id,s=e.getState().teams[t];a(i);const d=e.getState(),m=e.getState().teams[t];return!i.payload.userInitiated&&m.subscription&&s&&null==s.subscription&&("teamUpgrade"===d.selectedView.view&&d.selectedView.teamId===m.id?e.dispatch(o.teamAdmin.fetchSummary({teamId:m.id})):"teamAdmin"===d.selectedView.view&&d.selectedView.teamId===m.id&&e.dispatch(o.teamAdmin.fetchSummary({teamId:m.id}))),void(!i.payload.userInitiated&&null==m.subscription&&s&&s.subscription&&("teamAdmin"===d.selectedView.view&&d.selectedView.teamId===m.id?e.dispatch(o.teamAdmin.setBillingSummary({summary:null})):"addAnnualPlan"===d.selectedView.view&&d.selectedView.teamId===m.id&&(e.dispatch(n.fileBrowser.selectView({view:"teamAdmin",teamId:m.id})),e.dispatch(o.teamAdmin.setBillingSummary({summary:null})))))}if(o.teamAdmin.initBillingDetails.matches(i)){e.dispatch(o.teamAdmin.fetchEditors({teamId:i.payload.teamId}));const t=e.getState().teams[i.payload.teamId];return y.isTeamPro(t)&&e.dispatch(o.teamAdmin.fetchSummary({teamId:i.payload.teamId})),a(i)}if(o.teamAdmin.fetchEditors.matches(i))return t.fetchEditors(i.payload.teamId).then(t=>{e.dispatch(o.teamAdmin.setEditors({editors:t}))}).catch(()=>{e.dispatch(m.flash.error("An error occurred while retrieving your team editors."))}),a(i);if(o.teamAdmin.fetchSummary.matches(i))return t.fetchSummary(i.payload.teamId).then(t=>{e.dispatch(o.teamAdmin.setBillingSummary({summary:t}))}).catch(()=>{e.dispatch(m.flash.error("An error occurred while retrieving your billing summary."))}),a(i);if(o.teamAdmin.setEditors.matches(i))return w.set(i.payload.editors),e.dispatch(o.teamAdmin.getAdmins()),a(i);if(!(o.teamAdmin.getAdmins.matches(i)||o.teamAdmin.setBillingSummary.matches(i)||d.role.post.matches(i))){if(o.teamAdmin.setQuery.matches(i))return I(e,i.payload.query),a(i);if(n.fileBrowser.showModal.matches(i)&&i.payload.type===_.TEAM_ADMIN_USER_DETAILS_MODAL){const{editor:t}=i.payload.data;return e.dispatch(o.teamAdmin.initUserDetails({editor:t})),a(i)}if(n.fileBrowser.showModal.matches(i)&&i.payload.type===A.SHARED_FONTS_MODAL)return l.SharedFonts.loadSharedFonts(e.dispatch),a(i);if(o.teamAdmin.initUserDetails.matches(i)){const{editor:s}=i.payload;return t.fetchRoles(s.team_id,s.id).then(t=>{e.dispatch(o.teamAdmin.setUserRoles({roles:t}))}),a(i)}if(o.teamAdmin.demoteUserRoles.matches(i)){const{editor:d}=i.payload;p.segment&&p.segment.track("Team Editor Demoted",{teamId:d.team_id,editorId:d.id});let r=f.getOptimisticTransactionID();return t.demoteUserRoles(d.team_id,d.id).then(()=>{e.dispatch({type:null,optimist:{type:s.COMMIT,id:r}})}).catch(()=>{e.dispatch(m.flash.error("An error occurred while downgrading this user's permissions.")),e.dispatch({type:null,optimist:{type:s.REVERT,id:r}}),e.dispatch(o.teamAdmin.getAdmins())}),(i=Object.assign({},i)).optimist={type:s.BEGIN,id:r},a(i),void e.dispatch(o.teamAdmin.getAdmins())}return a(i)}{const t=e.getState().selectedView;if("teamAdmin"!=t.view)return a(i);const s=t.teamId;a(i);const m=e.getState(),r=m.teamAdmin.billingDetails;if(!r.loadingSummary&&!r.loadingEditors){if(d.role.post.matches(i)&&u.getResourceTeamId(i.payload.role,m)!==s)return;const t={};u.getTeamAdmins(s,m).forEach(e=>{t[e.id]=!0});const a=r.editors.filter(e=>t[e.id]||!1);e.dispatch(o.teamAdmin.setAdmins({admins:a}))}}}))}),
(function(r,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=t(102              ),o="fig-kiwi\0\0\0";var n=null;function a(r){return String.fromCharCode.apply(String,Array.prototype.slice.call(r,0,o.length))!==o}i.needsMigration=a,i.migrateOldFigFile=function(r){return a(r)?(n||(n=e.loadScript(Fig.figMigratorURL).then(()=>{const r=window.fig_migrator;if(!r||"function"!=typeof r.upgrade)throw new Error(`Failed to load migration script from ${JSON.stringify(Fig.figMigratorURL)}`);return i=>r.upgrade(i)}).catch(r=>(n=null,Promise.reject(r)))),n.then(i=>i(r))):Promise.resolve(r)}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=t(46,1    ),r=t(207                                   ),n=t(113                                     ),o=t(93                                   ),a=t(281                                        ),l=t(208                               ),c=t(915                             ),d=t(283                                 ),f=t(215                                          ),u=t(1411                                   ),g=t(282             );function p(e,i=g.NEXT_PAGE){const t=e.getState(),s=l.editingFileKey(t.selectedView);if(!s)return;if(t.versionHistory.loading)return;e.dispatch(a.versionHistory.toggleLoading({loading:!0}));g.paginate(`/api/versions/${s}`,30,t.versionHistory,i).then(t=>{if(s!==l.editingFileKey(e.getState().selectedView))return;const r=t;e.dispatch(a.versionHistory.append({history:r,direction:i}))})}function v(e,i){let t=null,s=new XMLHttpRequest;return s.open("GET",e),s.onload=(()=>{t=new Uint8Array(s.response)}),s.onloadend=(()=>{null!=t&&i(t)}),s.responseType="arraybuffer",s.send(),s}let y=null;i.default=(e=>i=>(function(t){if(n.fileBrowser.selectView.matches(t)){const s=e.getState(),r=s.selectedView&&l.editingFileKey(s.selectedView),n=i(t),o=e.getState();return(o.selectedView&&l.editingFileKey(o.selectedView))!==r&&e.dispatch(a.versionHistory.reset()),n}if(r.fullscreen.enterVersionHistoryMode.matches(t)){const r=e.getState();let n=s(r.versionHistory.lastFetched);return s(new Date).diff(n,"minutes")>30&&(e.dispatch(a.versionHistory.reset()),p(e,g.PREV_PAGE)),i(t)}if(a.versionHistory.loadMore.matches(t))return p(e),i(t);if(!a.versionHistory.setActive.matches(t)){if(a.versionHistory.setLinkedVersion.matches(t)){if(!t.payload.version.canvas_url)return void e.dispatch(o.flash.error("Couldn't get this version from version history."));{const e=v(t.payload.version.canvas_url,async i=>{if(e===y){y=null;const e=await u.migrateOldFigFile(i);f.fullscreen.DEPRECATED_sendMessage("loadFigFileForPreview",void 0,e)}});y=e}}return i(t)}{if(t.payload.id===d.CURRENT_VERSION)return f.fullscreen.DEPRECATED_sendMessage("loadFigFileForPreview",{}),i(t);i(t);const s=e.getState();let r=d.getActiveVersion(s.versionHistory);if(!r)return;if(r.canvas_url){let i=v(r.canvas_url,t=>{i===y&&(y=null,e.getState().mirror.appModel.topLevelMode===c.TopLevelMode.HISTORY&&u.migrateOldFigFile(t).then(e=>{f.fullscreen.DEPRECATED_sendMessage("loadFigFileForPreview",void 0,e)}))});y=i}else e.dispatch(o.flash.error("Couldn't get this version from version history."))}}))}),
(function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const i=e(421                                ),a=e(232                       );o.default=(t=>o=>(function(e){if(i.tooltip.showAfterDelay.matches(e)){let l=setTimeout(()=>{t.dispatch(i.tooltip.showImmediately({target:e.payload.target,targetRect:e.payload.targetRect,position:e.payload.position,maxWidth:e.payload.maxWidth,interactive:e.payload.interactive}))},e.payload.timeoutDelay);return t.dispatch(i.tooltip.update({tooltip:{state:a.TooltipState.PENDING,position:e.payload.position,target:e.payload.target,targetRect:e.payload.targetRect,timeoutID:l,maxWidth:e.payload.maxWidth,interactive:e.payload.interactive}})),o(e)}if(i.tooltip.showImmediately.matches(e))return t.dispatch(i.tooltip.update({tooltip:{state:a.TooltipState.SHOWING,position:e.payload.position,target:e.payload.target,targetRect:e.payload.targetRect,timeoutID:null,maxWidth:e.payload.maxWidth,interactive:e.payload.interactive}})),o(e);if(i.tooltip.hide.matches(e))return t.dispatch(i.tooltip.update({tooltip:{state:a.TooltipState.NONE,position:a.TooltipPosition.BELOW,target:null,targetRect:void 0,timeoutID:null,interactive:!1}})),o(e);if(i.tooltip.hideAfterDelay.matches(e)){let a=t.getState();if(null===a.tooltip.timeoutID){let o=setTimeout(()=>{t.dispatch(i.tooltip.hide())},e.payload.timeoutDelay);t.dispatch(i.tooltip.update({tooltip:Object.assign(Object.assign({},a.tooltip),{timeoutID:o})}))}return o(e)}if(i.tooltip.cancelHideAfterDelay.matches(e)){let a=t.getState();return t.dispatch(i.tooltip.update({tooltip:Object.assign(Object.assign({},a.tooltip),{timeoutID:null})})),o(e)}if(i.tooltip.update.matches(e)){let i=t.getState();return null!==i.tooltip.timeoutID&&i.tooltip.timeoutID!=e.payload.tooltip.timeoutID&&clearTimeout(i.tooltip.timeoutID),o(e)}return o(e)}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(280                             ),o=i(207                                   ),p=i(113                                     ),l=i(211              ),r=i(468                                        );t.default=(e=>t=>(function(i){if(!l.desktopApp)return t(i);if(p.fileBrowser.selectView.matches(i)){const s=e.getState(),o=i.payload;if("fullscreen"===o.view||l.desktopApp.isFileBrowserTab()&&"prototype"===o.view){const{fileKey:e,commentThreadId:t}=o;if(l.desktopApp.isFileBrowserTab()||s.selectedView&&"prototype"===s.selectedView.view||s.editingFileKey&&s.editingFileKey!==e){let e=r.selectedViewToPath(s,o);return"fullscreen"===o.view&&t&&(e+=`#${t}`),void(window.location.href=e)}}if(!l.desktopApp.isFileBrowserTab()){if(!o||"fullscreen"!==o.view&&"prototype"!==o.view){const e=r.selectedViewToPath(s,o);return void(e&&(window.location.href=e))}if("fullscreen"===o.view){const{fileKey:e}=o;e&&l.desktopApp.setFileKey(e)}else"prototype"===o.view&&l.desktopApp.setLoading(!1)}return t(i)}if(!o.fullscreen.attemptClose.matches(i)){if(o.fullscreen.setSaveStatus.matches(i)){if(!l.desktopApp.isFileBrowserTab()){const e=!i.payload.hasUnsavedChanges;l.desktopApp.setSaved(e)}return t(i)}if(o.fullscreen.documentLoaded.matches(i))return l.desktopApp.isFileBrowserTab()||l.desktopApp.setLoading(!1),t(i);if(s.file.deleteFiles.matches(i)){let t=e.getState();t.editingFileKey&&i.payload.fileKeys[t.editingFileKey]&&l.desktopApp.close(!0)}return t(i)}l.desktopApp.showFileBrowser()}))}),
(function(E,_,T){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),function(E){E[E.TEXT=0]="TEXT",E[E.FILE_COMMENT=1]="FILE_COMMENT",E[E.FILE_COMMENT_REPLY=2]="FILE_COMMENT_REPLY",E[E.INVITE_FILE=3]="INVITE_FILE",E[E.INVITE_FOLDER=4]="INVITE_FOLDER",E[E.INVITE_TEAM=5]="INVITE_TEAM",E[E.AT_MENTION_INVITE=7]="AT_MENTION_INVITE",E[E.AT_MENTION=8]="AT_MENTION",E[E.TEAM_ROLE_REQUEST_APPROVED=9]="TEAM_ROLE_REQUEST_APPROVED",E[E.TEAM_ROLE_REQUEST_DENIED=10]="TEAM_ROLE_REQUEST_DENIED",E[E.TEAM_ROLE_REQUEST_CREATED=11]="TEAM_ROLE_REQUEST_CREATED",E[E.ORG_ACCOUNT_TYPE_REQUEST_CREATED=12]="ORG_ACCOUNT_TYPE_REQUEST_CREATED",E[E.ORG_ACCOUNT_TYPE_REQUEST_APPROVED=13]="ORG_ACCOUNT_TYPE_REQUEST_APPROVED",E[E.ORG_ACCOUNT_TYPE_REQUEST_DENIED=14]="ORG_ACCOUNT_TYPE_REQUEST_DENIED",E[E.HUB_FILE_DUPLICATED=15]="HUB_FILE_DUPLICATED",E[E.HUB_PLUGIN_INSTALLED=16]="HUB_PLUGIN_INSTALLED",E[E.HUB_FILE_LIKED=17]="HUB_FILE_LIKED",E[E.HUB_PLUGIN_LIKED=18]="HUB_PLUGIN_LIKED",E[E.HUB_FILE_REMIXED=19]="HUB_FILE_REMIXED",E[E.FILE_COMMENT_REACTION=20]="FILE_COMMENT_REACTION",E[E.HUB_PROFILE_FOLLOWED=21]="HUB_PROFILE_FOLLOWED"}(_.UserNotificationType||(_.UserNotificationType={})),_.PERSONAL_BELL_ID="0"}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t(108     ),a=t(93                                   ),s=t(599                                          ),r=t(113                                     ),c=t(189                             ),n=t(1415                                 ),l=t(86            ),d=t(99                      ),f=t(186                      ),u=t(115                     ),_=t(753                             ),p=(e,i,t)=>{const o=i.locals.file_key;e.dispatch(c.orgs.selectViewAndLoadItsResources({orgId:i.parent_org_id,selectedView:{view:"fullscreen",fileKey:o}}))},m=(e,i,t)=>{const{file_key:o,node_id:a}=i.locals;e.dispatch(c.orgs.selectViewAndLoadItsResources({orgId:i.parent_org_id,selectedView:{view:"prototype",fileKey:o,nodeId:a}}))},g=(e,i,t)=>{const o=i.locals.folder_id;e.dispatch(c.orgs.selectViewAndLoadItsResources({orgId:i.parent_org_id,selectedView:r.fileBrowser.selectViewByFolderId(o).payload}))},E=(e,i,t)=>{const o=i.locals.team_id;e.dispatch(c.orgs.selectViewAndLoadItsResources({orgId:i.parent_org_id,selectedView:r.fileBrowser.selectViewByTeamId(o).payload}))},I=(e,i,t)=>{const o=i.locals.parent_org_id;e.dispatch(c.orgs.selectViewAndLoadItsResources({orgId:o,selectedView:r.fileBrowser.selectView({view:"recentFiles"}).payload}))},h=(e,i,t,o,a)=>{let s;s=a?{view:"prototype",fileKey:i,commentThreadId:o,nodeId:a}:{view:"fullscreen",commentThreadId:o,fileKey:i},e.dispatch(c.orgs.selectViewAndLoadItsResources({orgId:t,selectedView:s}))};i.goToComment=((e,i,t)=>{const a=i.locals,s=a.comment_parent_id||a.comment_id;let r=null,c=!1;a.prototype&&(c=!0,o.default.get(`/api/file/${a.file_key}/comments/${s}`).then(({data:t})=>{r=t.meta&&t.meta.client_meta&&t.meta.client_meta.node_id,h(e,a.file_key,i.parent_org_id,s,r)}).catch(t=>{h(e,a.file_key,i.parent_org_id,s,null)})),c||h(e,a.file_key,i.parent_org_id,s,r)});const N=(e,i)=>{e.dispatch(r.fileBrowser.selectView({view:"communityHub",subView:"hubFile",hubFileId:i.locals.hub_file_id}))},w=(e,i)=>{e.dispatch(r.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:i.locals.plugin_id}))},y=e=>{var i;const t=null===(i=e.getState().user)||void 0===i?void 0:i.community_profile_handle;t&&e.dispatch(r.fileBrowser.selectView({view:"communityHub",subView:"handle",handle:t,followsModalTab:_.FollowsListModalTabView.FOLLOWERS}))};function T(e,t,o){switch(t.view){case n.UserNotificationType.AT_MENTION:case n.UserNotificationType.AT_MENTION_INVITE:case n.UserNotificationType.FILE_COMMENT:case n.UserNotificationType.FILE_COMMENT_REPLY:case n.UserNotificationType.FILE_COMMENT_REACTION:return i.goToComment(e,t,o);case n.UserNotificationType.INVITE_FILE:const{userNotifications:a}=e.getState();return a.roles[t.locals.role_id].level===u.PermissionLevel.VIEW_PROTOTYPES?m(e,t,o):p(e,t,o);case n.UserNotificationType.INVITE_FOLDER:return g(e,t,o);case n.UserNotificationType.INVITE_TEAM:case n.UserNotificationType.TEAM_ROLE_REQUEST_CREATED:case n.UserNotificationType.TEAM_ROLE_REQUEST_APPROVED:return E(e,t,o);case n.UserNotificationType.TEAM_ROLE_REQUEST_DENIED:return I(e,t,o);case n.UserNotificationType.HUB_FILE_DUPLICATED:case n.UserNotificationType.HUB_FILE_LIKED:case n.UserNotificationType.HUB_FILE_REMIXED:return N(e,t);case n.UserNotificationType.HUB_PLUGIN_INSTALLED:case n.UserNotificationType.HUB_PLUGIN_LIKED:return w(e,t);case n.UserNotificationType.HUB_PROFILE_FOLLOWED:return y(e);default:return}}i.goToView=T;const L=l.debounce(e=>{const i=e.getState();let t,c=i.currentOrgId,l=c||n.PERSONAL_BELL_ID;if(t=i.userNotifications.bellStates[l]){let i={isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:l};e.dispatch(s.userNotifications.setBell(i))}let d={current_org_id:c||""};o.default.get("/api/user_notifications",d).then(({data:i})=>{const t=i.meta;e.dispatch(s.userNotifications.insertNotifications({notifications:t}))}).catch(()=>{e.dispatch(a.flash.flash("An error occurred while fetching your notifications")),e.dispatch(r.fileBrowser.hideDropdown()),e.dispatch(s.userNotifications.reset())})},800,!0);i.userNotificationsMiddleware=(e=>i=>(function(t){if(s.userNotifications.get.matches(t))f.trackEventForUser("Notification Dropdown Opened",e.getState()),L(e);else{if(s.userNotifications.resolve.matches(t)){const a=e.getState().userNotifications.feed.byId[t.payload.notificationId];return f.trackEventForUserNotification("Notification Resolved",a.id,e.getState()),d.optimisticRequestWithErrorHandling({requestPromise:o.default.put("/api/user_notifications",{id:a.id,resolved_at:"true"}).then(i=>{T(e,a,{fromResolve:!0})}),fallbackError:"An error occurred while removing this notification.",store:e,next:i,action:t})}if(s.userNotifications.selectView.matches(t)){const o=e.getState().userNotifications.feed.byId[t.payload.notificationId];return T(e,o,{fromResolve:!1}),f.trackEventForUserNotification("Notification Clicked",o.id,e.getState()),i(t)}if(s.userNotifications.reject.matches(t)){if(t.payload.userInitiated){const a=t.payload.notificationId;return f.trackEventForUserNotification("Notification Rejected",a,e.getState()),d.optimisticRequestWithErrorHandling({requestPromise:o.default.put("/api/user_notifications",{id:a,rejected_at:"true"}),fallbackError:"An error occurred while removing this notification.",store:e,next:i,action:t})}}else{if(s.userNotifications.markAllAsRead.matches(t)){let a=e.getState(),s=a.currentOrgId;f.trackEventForUser("All Notifications Read",a);let r={current_org_id:s};return d.optimisticRequestWithErrorHandling({requestPromise:o.default.post("/api/user_notifications/mark_read",r),fallbackError:"An error occurred while marking all the notifications as read.",store:e,next:i,action:t})}if(s.userNotifications.setBell.matches(t)&&t.payload.userInitiated){let a="0"==t.payload.notificationSpaceId?null:t.payload.notificationSpaceId,s={bell:t.payload.isBellStateHigh,current_org_id:a};return d.optimisticRequestWithErrorHandling({requestPromise:o.default.put("/api/user_notifications_bell",s),fallbackError:"An error occurred while marking all the notifications as read.",store:e,next:i,action:t})}}}return i(t)}))}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=i(706                                   ),l=i(112          );n.appWindowMiddleware=(e=>{if(!l.capabilities.fullscreen)return e=>(function(n){return e(n)});const n=[];function i(){for(const e of n)e();n.splice(0,n.length)}function c(e,i){const t=i.payload&&i.payload.element?i.payload.element:document.documentElement;t?(n.push(()=>e(i)),l.capabilities.requestFullscreenFunc.call(t)):e(i)}function a(i,c){l.capabilities.getFullscreenElement()?(n.push(()=>i(c)),l.capabilities.exitFullscreenFunc()):(e.dispatch(t.appWindow.didExitFullScreen()),i(c))}return document.addEventListener(l.capabilities.fullscreenChangeEventName,function(n){const c=e.getState();l.capabilities.getFullscreenElement()&&!c.appWindow.inFullScreenMode?e.dispatch(t.appWindow.didEnterFullScreen()):c.appWindow.inFullScreenMode&&e.dispatch(t.appWindow.didExitFullScreen()),i()}),document.addEventListener(l.capabilities.fullscreenErrorEventName,function(n){console.warn("failed to enter fullscreen:",n),e.getState().appWindow.inFullScreenMode&&e.dispatch(t.appWindow.didExitFullScreen()),i()}),n=>(function(i){const l=e.getState();if(!t.appWindow.toggleFullScreen.matches(i)){if(t.appWindow.enterFullScreen.matches(i)){if(l.appWindow.inFullScreenMode)return void c(n,i)}else if(t.appWindow.exitFullScreen.matches(i)&&!l.appWindow.inFullScreenMode)return void a(n,i);return n(i)}l.appWindow.inFullScreenMode?a(n,i):c(n,i)})})}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(108     ),o=a(111          ),r=a(206                             ),i=a(93                                   ),c=a(612                                          ),n=a(189                             ),d=a(279                             ),l=a(100                               ),p=a(534                                  );e.getPendingTeamRoleRequests=l.asyncActionCreator("ORG_FETCH_PENDING_TEAM_ROLE_REQUESTS",(t,e)=>{const a=t.getState().currentOrgId;s.default.get(`/api/team_role_requests?org_id=${a}`).then(e=>{t.dispatch(c.teamRoleRequests.updateTeamRoleRequests({teamRoleRequests:e.data.meta}))}).catch(e=>{t.dispatch(i.flash.flash(e.message||"An error occurred while trying to fetch pending requests to join teams."))})}),e.requestToJoinTeam=l.asyncActionCreator("ORG_REQUEST_TO_JOIN_TEAM",(t,e)=>{const a={team_id:e.teamId,level:e.level,message:e.message},o=t.getState().user;s.default.post("/api/team_role_requests",a).then(e=>{const a=e.data.meta;a.status===p.RoleRequestStatus.APPROVED?t.dispatch(r.team.onJoin({teamId:a.team_id,joinedUser:o||void 0})):t.dispatch(i.flash.flash("You've requested to join this team."))}).catch(e=>{t.dispatch(i.flash.error(e.message||"An error occurred."))})}),e.withdrawTeamRoleRequest=l.asyncActionCreator("ORG_WITHDRAW_TEAM_JOIN_REQUEST",(t,e)=>{s.default.del(`/api/team_role_requests/${e.requestId}`).then(e=>{t.dispatch(i.flash.flash("Request withdrawn"))}).catch(e=>{t.dispatch(i.flash.error(e.message||"An error occurred."))})}),e.optInToPublicPlugins=l.optimisticActionCreator("ORGS_OPT_IN_TO_PUBLIC_PLUGINS",(t,{orgId:e},a)=>{s.default.put(`/api/orgs/${e}`,{public_plugins_allowed:!0}).then(e=>{t.dispatch(l.optimistActions.commit(a)),t.dispatch(n.orgs.put({org:e.data.meta}))}).catch(()=>{t.dispatch(l.optimistActions.revert(a))})}),e.update=l.optimisticActionCreator("ORGS_UPDATE",(t,{payload:e,successMessage:a},o)=>{const r=t.getState().currentOrgId;s.default.put(`/api/orgs/${r}`,e).then(e=>{t.dispatch(l.optimistActions.commit(o)),t.dispatch(n.orgs.put({org:e.data.meta})),a&&t.dispatch(d.visualBellActions.enqueue({message:a,type:"orgs.update",error:!1}))}).catch(()=>{t.dispatch(l.optimistActions.revert(o))})}),e.setWhitelistEnabled=l.asyncActionCreator("ORGS_SET_WHITELIST_ENABLED",(t,{orgId:e})=>{s.default.put(`/api/orgs/${e}`,{plugins_whitelist_enforced:!0}).then(a=>{t.dispatch(n.orgs.put({org:a.data.meta})),o.segment.track("Hub Org Admin Enable Whitelist",{orgId:e})}).catch(t=>{console.error(t)})}),e.setGoogleSSO=l.asyncActionCreator("ORGS_SET_GOOGLE_SSO",(t,{orgId:e,googleSsoOnly:a})=>{s.default.put(`/api/orgs/${e}`,{google_sso_only:a}).then(e=>{t.dispatch(i.flash.flash("Updated authentication settings")),t.dispatch(n.orgs.put({org:e.data.meta}))}).catch(e=>{var a;t.dispatch(i.flash.error((null===(a=e.data)||void 0===a?void 0:a.message)||"An error occurred.",5e3))})}),e.setSamlSSO=l.asyncActionCreator("ORGS_SET_SAML_SSO",(t,{orgId:e,samlSsoOnly:a})=>{s.default.put(`/api/orgs/${e}`,{saml_sso_only:a}).then(e=>{t.dispatch(i.flash.flash("Updated authentication settings")),t.dispatch(n.orgs.put({org:e.data.meta}))}).catch(e=>{var a;t.dispatch(i.flash.error((null===(a=e.data)||void 0===a?void 0:a.message)||"An error occurred.",5e3))})}),e.updateDescription=l.asyncActionCreator("ORGS_UPDATE_DESCRIPTION",(t,{orgId:e,description:a})=>{s.default.put(`/api/orgs/${e}`,{description:a}).then(e=>{t.dispatch(n.orgs.put({org:e.data.meta}))}).catch(t=>{console.error(t)})}),e.setWhitelistDisabled=l.asyncActionCreator("ORGS_SET_WHITELIST_DISABLED",(t,{orgId:e,enabled:a})=>{s.default.put(`/api/orgs/${e}`,{plugins_whitelist_enforced:!1}).then(a=>{t.dispatch(n.orgs.put({org:a.data.meta})),o.segment.track("Hub Org Admin Disable Whitelist",{orgId:e})}).catch(t=>{console.error(t)})})}),
(function(i,o,a){i.exports={radioGroup:"radio--radioGroup--2fRK0",radioOption:"radio--radioOption--1NPPl",radioOptionDisabled:"radio--radioOptionDisabled--cjhgu radio--radioOption--1NPPl",icon:"radio--icon--3kaoX",iconChecked:"radio--iconChecked--1sG9i radio--icon--3kaoX",label:"radio--label--359sT",labelDisabled:"radio--labelDisabled--1EU2w radio--label--359sT"}}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=o(2,1    ),t=o(138      ),n=o(1419         );class a extends i.Component{render(){return i.createElement("div",{className:`${n.radioGroup} ${this.props.className||""}`},i.Children.map(this.props.children,(e,s)=>(null==e?void 0:e.type)===p?i.cloneElement(e,{_isChecked:this.props.value===e.props.value,_onChange:this.props.onChange}):e))}}s.RadioGroup=a,a.displayName="RadioGroup";class p extends i.PureComponent{constructor(){super(...arguments),this.documentKeyDown=(e=>{!this.props._onChange||e.keyCode!==t.Key.SPACE&&e.keyCode!==t.Key.ENTER||this.props._onChange(this.props.value)}),this.onClick=(()=>{this.props._onChange&&!this.props.disabled&&this.props._onChange(this.props.value)})}render(){let e=this.props.disabled?n.labelDisabled:n.label;return this.props.labelClassName&&(e+=` ${this.props.labelClassName}`),i.createElement("div",{className:`${this.props.disabled?n.radioOptionDisabled:n.radioOption} ${this.props.className||""}`,onClick:this.onClick},i.createElement("div",{className:this.props._isChecked?n.iconChecked:n.icon,tabIndex:this.props.disabled?-1:0,onFocus:()=>{document.addEventListener("keydown",this.documentKeyDown)},onBlur:()=>{document.removeEventListener("keydown",this.documentKeyDown)}}),i.createElement("div",{className:e},this.props.children))}}s.RadioOption=p,p.displayName="RadioOption"}),
(function(n,i,r){n.exports={container:"configure_saml--container--3e-jr",section:"configure_saml--section--22spN",lastSection:"configure_saml--lastSection--1hEi5",h2:"configure_saml--h2--7iHV8",blueLink:"configure_saml--blueLink--Dr4Wu blue_link--blueLink--22X56",error:"configure_saml--error--fNjfo",radioGroup:"configure_saml--radioGroup--yuUW0",idpMetadataUrlInput:"configure_saml--idpMetadataUrlInput--1cFs4",important:"configure_saml--important--FTIwk",idpMetadata:"configure_saml--idpMetadata--GRzrv",buttonBox:"configure_saml--buttonBox--1UQP2",spinnerContainer:"configure_saml--spinnerContainer--1g7V4"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(2,1    ),s=a(108     ),o=a(138      ),r=a(634                                        ),n=a(113                                     ),d=a(147                                            ),l=a(1420                                      ),p=a(758                                              ),c=a(1393                                                                 ),m=a(1421                  ),h=a(271                                        ),_=a(136                    ),u=a(114                              );class f extends i.PureComponent{constructor(e){super(e),this.onIdpNameChange=(e=>{this.setState({idp_name:e})}),this.onIdpMetadataUrlChange=(e=>{this.setState({idp_metadata_url:e.currentTarget.value})}),this.onIdpSSOEntityIDChange=(e=>{this.setState({idp_entity_id:e.currentTarget.value})}),this.onIdpSSOTargetURLChange=(e=>{this.setState({idp_sso_target_url:e.currentTarget.value})}),this.onCertificateChange=(e=>{const t=e.target.files?e.target.files[0]:null;this.setState({certificate:t})}),this.onCancel=(()=>{this.props.dispatch(n.fileBrowser.hideModal())}),this.onConfirm=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:t.CONFIGURE_SAML_CONFIRMATION_MODAL,data:{certificate:this.state.certificate,idp_entity_id:this.state.idp_entity_id,idp_name:this.state.idp_name,idp_metadata_url:this.state.idp_metadata_url,idp_sso_target_url:this.state.idp_sso_target_url}}))}),this.onKeyDown=(e=>{e.keyCode===o.Key.ENTER&&(e.preventDefault(),this.onConfirm())}),this.state={certificate:null,idp_entity_id:"",idp_metadata_url:e.idp_metadata_url||"",idp_name:e.idp_name||null,idp_sso_target_url:""}}render(){let e;e="other"===this.state.idp_name?!this.state.idp_sso_target_url||!this.state.certificate||!this.state.idp_entity_id:!this.state.idp_metadata_url;const t=([{value:"okta",text:"Okta",placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"},{value:"azure",text:"Microsoft Azure Active Directory",placeholder:"https://login.microsoftonline.com/fedcba09-8765-4321-abcd-ef1234567890/federationmetadata/2007-06/federationmetadata.xml?appid=567890ab-cdef-1234-5678-90abcdef1234"},{value:"onelogin",text:"OneLogin",placeholder:"https://app.onelogin.com/saml/metadata/123-abc-456a-bcd4-789abc"},{value:"other",text:"Other",placeholder:""}].find(e=>e.value===this.state.idp_name)||{value:"okta",text:"Okta",placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"}).placeholder;return i.createElement(p.HeaderModal,{title:"Configure SAML SSO",maxWidth:459,onClose:this.onCancel,fixedTop:!0},i.createElement("div",{className:m.container},i.createElement("div",null,"SAML Single Sign-On allows you to manage your users with a third-party identity provider (IdP). For more information on where to find this information, view ",i.createElement("a",{className:m.blueLink,href:"https://help.figma.com/hc/en-us/articles/360040532333",target:"_blank",rel:"noopener"},"this help article"),"."),i.createElement("div",null,i.createElement("div",{className:m.h2},"Identity Provider (IdP)"),i.createElement(l.RadioGroup,{className:m.radioGroup,value:this.state.idp_name,onChange:this.onIdpNameChange},[{value:"okta",text:"Okta",placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"},{value:"azure",text:"Microsoft Azure Active Directory",placeholder:"https://login.microsoftonline.com/fedcba09-8765-4321-abcd-ef1234567890/federationmetadata/2007-06/federationmetadata.xml?appid=567890ab-cdef-1234-5678-90abcdef1234"},{value:"onelogin",text:"OneLogin",placeholder:"https://app.onelogin.com/saml/metadata/123-abc-456a-bcd4-789abc"},{value:"other",text:"Other",placeholder:""}].map(e=>i.createElement(l.RadioOption,{key:e.value,value:e.value},e.text)))),i.createElement("div",{className:m.section},"other"===this.state.idp_name&&i.createElement(i.Fragment,null,i.createElement("div",{className:m.h2},"IdP Entity ID"),i.createElement(d.TextInput,{type:"url",className:m.idpMetadataUrlInput,placeholder:"https://idp.com/saml/metadata/abc123",onChange:this.onIdpSSOEntityIDChange,value:this.state.idp_entity_id,onKeyDown:this.onKeyDown}),i.createElement("div",{className:m.h2},"IdP SSO Target URL"),i.createElement(d.TextInput,{type:"url",className:m.idpMetadataUrlInput,placeholder:"https://sso.idp.com/abc123/saml2",onChange:this.onIdpSSOTargetURLChange,value:this.state.idp_sso_target_url,onKeyDown:this.onKeyDown}),i.createElement("div",{className:m.h2},"Signing Certificate"),i.createElement("input",{type:"file",onChange:this.onCertificateChange})),this.state.idp_name&&"other"!==this.state.idp_name&&i.createElement(i.Fragment,null,i.createElement("div",{className:m.h2},"IdP Metadata URL"),i.createElement(d.TextInput,{type:"url",className:m.idpMetadataUrlInput,placeholder:`Eg: ${t}`,onChange:this.onIdpMetadataUrlChange,value:this.state.idp_metadata_url,onKeyDown:this.onKeyDown}))),this.props.error&&i.createElement("div",{className:m.section},i.createElement("div",{className:m.error},this.props.error)),i.createElement("div",{className:m.buttonBox},i.createElement(d.ButtonSecondary,{onClick:()=>this.props.dispatch(n.fileBrowser.popModalStack())},"Cancel"),i.createElement(d.ButtonPrimary,{disabled:e,onClick:this.onConfirm},"Review"))))}}t.ConfigureSAMLModal=f,f.displayName="ConfigureSAMLModal",t.EDIT_SAML_CONFIG_MODAL=_.registerModal(f,"EDIT_SAML_CONFIG_MODAL"),t.CONFIGURE_SAML_CONFIRMATION_MODAL="CONFIGURE_SAML_CONFIRMATION_MODAL",_.registerUnsafeModal(t.CONFIGURE_SAML_CONFIRMATION_MODAL,e=>i.createElement(g,Object.assign({dispatch:e.dispatch,currentOrgId:e.currentOrgId},e.modalShown.data)));class g extends i.PureComponent{constructor(e){super(e),this.onEdit=(()=>{this.props.dispatch(n.fileBrowser.popModalStack()),this.props.dispatch(n.fileBrowser.popModalStack()),this.props.dispatch(u.showModal({type:t.EDIT_SAML_CONFIG_MODAL,data:{dispatch:this.props.dispatch,idp_name:this.props.idp_name,idp_metadata_url:this.props.idp_metadata_url}}))}),this.onCancel=(()=>{this.props.dispatch(n.fileBrowser.hideModal())}),this.updateSAMLConfig=(e=>{s.default.post("/api/org_saml_config",{certificate:e,idp_entity_id:this.props.idp_entity_id,idp_name:this.props.idp_name,metadata_url:this.props.idp_metadata_url,org_id:this.props.currentOrgId,sso_target_url:this.props.idp_sso_target_url}).then(e=>{this.setState({busy:!1}),this.props.dispatch(r.orgSamlConfig.set({orgSamlConfig:e.data.meta})),this.onCancel()}).catch(e=>{var a;this.setState({busy:!1}),this.props.dispatch(u.showModal({type:t.EDIT_SAML_CONFIG_MODAL,data:{dispatch:this.props.dispatch,idp_name:this.props.idp_name,idp_metadata_url:this.props.idp_metadata_url,error:(null===(a=e.data)||void 0===a?void 0:a.message)||"An error occurred while configuring SAML SSO."}}))})}),this.onConfirm=(()=>{if(this.setState({busy:!0}),"other"===this.props.idp_name){const e=new FileReader;e.addEventListener("load",()=>{this.updateSAMLConfig(e.result)}),e.readAsText(this.props.certificate)}else this.updateSAMLConfig(null)}),this.state={busy:!1}}render(){const e=[{value:"okta",text:"Okta",placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"},{value:"azure",text:"Microsoft Azure Active Directory",placeholder:"https://login.microsoftonline.com/fedcba09-8765-4321-abcd-ef1234567890/federationmetadata/2007-06/federationmetadata.xml?appid=567890ab-cdef-1234-5678-90abcdef1234"},{value:"onelogin",text:"OneLogin",placeholder:"https://app.onelogin.com/saml/metadata/123-abc-456a-bcd4-789abc"},{value:"other",text:"Other",placeholder:""}].reduce((e,t)=>(e[t.value]=t.text,e),{});return i.createElement(p.HeaderModal,{title:"Configure SAML SSO",maxWidth:459,onClose:this.onCancel,disableClickOutsideToHide:this.state.busy,isCloseHidden:this.state.busy},i.createElement("div",{className:m.container},i.createElement("div",null,"Please review the information you entered."),i.createElement("div",{className:m.h2},"Identity Provider (IdP)"),i.createElement("div",{className:m.idpMetadata},e[this.props.idp_name]),i.createElement("div",{className:m.lastSection},"other"===this.props.idp_name&&i.createElement(i.Fragment,null,i.createElement("div",{className:m.h2},"IdP Entity ID"),i.createElement("div",{className:m.idpMetadata},this.props.idp_entity_id),i.createElement("div",{className:m.h2},"IdP SSO Target URL"),i.createElement("div",{className:m.idpMetadata},this.props.idp_sso_target_url),i.createElement("div",{className:m.h2},"Signing Certificate"),i.createElement("div",{className:m.idpMetadata},this.props.certificate.name)),"other"!==this.props.idp_name&&i.createElement(i.Fragment,null,i.createElement("div",{className:m.h2},"IdP Metadata URL"),i.createElement("div",{className:m.idpMetadata},this.props.idp_metadata_url)))),this.state.busy&&i.createElement("div",{className:m.spinnerContainer},i.createElement(h.LoadingSpinner,null)),!this.state.busy&&i.createElement(c.CheckboxConfirmButtons,{onConfirm:this.onConfirm,onCancel:this.onEdit,confirmButtonText:"Configure SAML SSO",cancelButtonText:"Edit"},i.createElement("div",null,"This information is correct.")))}}t.ConfigureSAMLConfirmationModal=g}),
(function(o,n,e){o.exports={page:"configure_sso--page--3Ubsw",section:"configure_sso--section--3-UTi",header:"configure_sso--header--3hpBx",sectionHeader:"configure_sso--sectionHeader--1dZK0",sectionInstruction:"configure_sso--sectionInstruction--37SqD",sectionInstructionMarginTop:"configure_sso--sectionInstructionMarginTop--1hjwd configure_sso--sectionInstruction--37SqD",important:"configure_sso--important--3YppM modal--important--1ZRxD",blueLink:"configure_sso--blueLink--nMSfW blue_link--blueLink--22X56",copyTenantId:"configure_sso--copyTenantId--2soOz configure_sso--blueLink--nMSfW blue_link--blueLink--22X56",configureButton:"configure_sso--configureButton--3RDAb",token:"configure_sso--token--uG4WN",table:"configure_sso--table--3dh78",modalContent:"configure_sso--modalContent--2ifJk",modalDone:"configure_sso--modalDone--1wFFY"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(2,1    ),a=o(43,1         ),i=o(211              ),r=o(634                                        ),s=o(271                                        ),l=o(172                                              ),c=o(189                             ),m=o(1418                                 ),d=o(113                                     ),p=o(126                    ),g=o(802                 ),h=o(147                                            ),u=o(1420                                      ),S=o(819                                              ),f=o(175                            ),_=o(454                                                           ),E=o(1393                                                                 ),C=o(492                                  ),M=o(102              ),I=o(146                        ),k=o(136                    ),O=o(1422              ),N=o(114                              ),v=o(758                                 ),A=o(1423                 ),y=o(151                           );class b extends n.PureComponent{constructor(){super(...arguments),this.onClickBack=(()=>{this.props.dispatch(d.fileBrowser.selectView(history.state&&history.state.previousSelectedView||{view:"recentFiles"})),this.props.dispatch(c.orgs.selectAdminView({view:"general"})),this.props.dispatch(d.fileBrowser.showModal({type:f.ORG_DASHBOARD_MODAL}))})}render(){const e=this.props.orgById[this.props.currentOrgId],o=n.createElement(I.Svg,{svg:y,onClick:this.onClickBack});return this.props.orgSamlConfig.config&&0!=this.props.orgDomains.domains.length?n.createElement("div",null,n.createElement(_.FullWidthPageContent,{menu:o},n.createElement("div",{className:A.page},n.createElement("div",{className:A.section},n.createElement("h1",{className:A.header},"Configure Authentication, SAML SSO and SCIM Provisioning")),n.createElement("div",{className:A.section},n.createElement("h2",{className:A.sectionHeader},"Authentication"),n.createElement(t.ConfigureSignInMethod,{dispatch:this.props.dispatch,org:e,orgSamlConfig:this.props.orgSamlConfig.config})),n.createElement("div",{className:A.section},n.createElement("h2",{className:A.sectionHeader},"SAML SSO"),n.createElement(w,{dispatch:this.props.dispatch,org:e,orgDomains:this.props.orgDomains.domains,orgSamlConfig:this.props.orgSamlConfig.config})),n.createElement("div",{className:A.section},n.createElement("h2",{className:A.sectionHeader},"SCIM Provisioning"),n.createElement(T,{dispatch:this.props.dispatch,orgSamlConfig:this.props.orgSamlConfig.config}))))):n.createElement(s.LoadingSpinner,null)}}t.ConfigureSSOPage=b,b.displayName="ConfigureSSOPage",t.ConfigureSignInMethod=(e=>{const o=g.getSignInMethod(e.org),a=t=>{t===p.SignInMethod.GOOGLE?e.dispatch(m.setGoogleSSO({orgId:e.org.id,googleSsoOnly:!0})):t===p.SignInMethod.SAML?e.dispatch(m.setSamlSSO({orgId:e.org.id,samlSsoOnly:!0})):o===p.SignInMethod.GOOGLE?e.dispatch(m.setGoogleSSO({orgId:e.org.id,googleSsoOnly:!1})):e.dispatch(m.setSamlSSO({orgId:e.org.id,samlSsoOnly:!1}))};return n.createElement(n.Fragment,null,i.desktopApp&&n.createElement("div",{className:A.sectionInstruction},"You must use a web browser to modify Authentication settings"),n.createElement(u.RadioGroup,{value:o,onChange:n=>{n!==o&&(n===p.SignInMethod.ANY?a(n):e.dispatch(N.showModal({type:t.REQUIRE_SSO_MODAL,data:{signInMethod:n,onConfirm:()=>{e.dispatch(d.fileBrowser.popModalStack()),a(n)}}})))}},n.createElement(u.RadioOption,{value:p.SignInMethod.ANY,disabled:!!i.desktopApp},"Members may log in with any available method, including email and password (default)"),n.createElement(u.RadioOption,{value:p.SignInMethod.GOOGLE,disabled:!!i.desktopApp},"Members ",n.createElement("span",{className:A.important},"must")," log in with a Google account"),n.createElement(u.RadioOption,{value:p.SignInMethod.SAML,disabled:!!i.desktopApp||!(()=>!!e.orgSamlConfig.idp_name)()},"Members ",n.createElement("span",{className:A.important},"must")," sign in with SAML SSO (configure below)")))});function L(e){const t=a.useDispatch();let o=null;return e.signInMethod===p.SignInMethod.GOOGLE?o="Google":e.signInMethod===p.SignInMethod.SAML&&(o="SAML SSO"),o?n.createElement(E.CheckboxConfirmModal,{dispatch:t,onConfirm:e.onConfirm,buttonText:"Change Log In",title:"Change Log In",checkboxText:`I understand that members must log in with ${o} after confirming.`}):null}t.SIGN_IN_METHOD_MODAL=k.registerModal(()=>{const e=a.useDispatch(),o=a.useSelector(e=>e.orgById[e.currentOrgId]),i=a.useSelector(e=>e.orgSamlConfig),r=()=>e(d.fileBrowser.popModalStack());return n.createElement(v.HeaderModal,{title:"Authentication",onClose:r,maxWidth:536,minWidth:536},n.createElement("div",{className:A.modalContent},!i.config&&n.createElement(s.LoadingSpinner,null),i.config&&n.createElement(n.Fragment,null,n.createElement(t.ConfigureSignInMethod,{dispatch:e,org:o,orgSamlConfig:i.config}),n.createElement(h.ButtonWhite,{onClick:r,className:A.modalDone},"Done"))))},"SIGN_IN_METHOD_MODAL"),t.RequireSSOModal=L,t.REQUIRE_SSO_MODAL=k.registerModal(L,"REQUIRE_SSO_MODAL");class w extends n.PureComponent{constructor(){super(...arguments),this.onClickConfigureSAML=(()=>{this.props.dispatch(N.showModal({type:O.EDIT_SAML_CONFIG_MODAL,data:{dispatch:this.props.dispatch}}))})}copyToClipboard(e,t){M.copyText(e).then(()=>{this.props.dispatch(l.visualBell.enqueue({type:t,message:"Copied!"}))})}renderDomains(){const e=this.props.orgDomains.map(e=>e.domain);return n.createElement("p",{className:A.sectionInstruction},"SAML SSO users ",n.createElement("span",{className:A.important},"must")," have an email domain matching ",n.createElement(S.JoinNaturally,{includeOxfordDelimiter:!0,finalDelimiter:n.createElement("span",null," or ")},e.map(e=>n.createElement("span",{key:e,className:A.important},e))),". If you would like to add another domain, please ",n.createElement("a",{className:A.blueLink,href:"mailto:support@figma.com"},"contact support"),".")}renderSPSettings(){const e=this.props.orgSamlConfig,t=document.queryCommandSupported("copy")&&e&&n.createElement("a",{className:A.copyTenantId,onClick:()=>this.copyToClipboard(e.id,"saml_tenant_id_copied_to_clipboard")},"Copy"),o=[{rowName:"Tenant ID",value:e.id,action:t},{rowName:"SP Entity ID",value:e.sp_entity_id},{rowName:"SP ACS URL",value:e.sp_acs_target_url}];return n.createElement("table",{className:A.table},n.createElement("tbody",null,o.map(e=>n.createElement("tr",{key:`row-${e.rowName}`},n.createElement("th",null,e.rowName),n.createElement("td",null,e.value||"Not configured",e.action)))))}isSamlConfigured(){return!!this.props.orgSamlConfig.idp_name}renderConfigureIdp(){const e=g.getSignInMethod(this.props.org)===p.SignInMethod.SAML;return n.createElement(h.ButtonPrimary,{className:A.configureButton,disabled:e,onClick:this.onClickConfigureSAML},this.isSamlConfigured()?"Edit configuration":"Configure SAML")}renderIdpSettings(){const e=this.props.orgSamlConfig.idp_name,t=[{rowName:"IdP",value:e&&{okta:"Okta",azure:"Azure",onelogin:"OneLogin",other:"Other"}[e]||e},{rowName:"IdP Entity ID",value:this.props.orgSamlConfig.idp_entity_id},{rowName:"IdP SSO URL",value:this.props.orgSamlConfig.idp_sso_target_url}];return n.createElement("div",null,n.createElement("p",{className:A.sectionInstructionMarginTop},"Your configuration details are:"),n.createElement("table",{className:A.table},n.createElement("tbody",null,t.map(e=>n.createElement("tr",{key:`row-${e.rowName}`},n.createElement("th",null,e.rowName),n.createElement("td",null,e.value||"Not configured",e.action))))))}render(){return n.createElement(n.Fragment,null,n.createElement("p",{className:A.sectionInstruction}," SAML Single Sign-On allows you to manage your users with a third-party identity provider (IdP). For more information, view ",n.createElement("a",{className:A.blueLink,href:"https://help.figma.com/hc/en-us/articles/360040532333",target:"_blank"},"this help article"),". "),n.createElement("div",null,this.renderDomains(),this.renderSPSettings(),this.renderIdpSettings(),!this.props.hideEditButton&&this.renderConfigureIdp()))}}t.SamlConfigSection=w,w.displayName="SamlConfigSection";t.VIEW_SAML_CONFIG_MODAL=k.registerModal(()=>{const e=a.useDispatch(),t=a.useSelector(e=>e.orgById[e.currentOrgId]),o=a.useSelector(e=>e.orgSamlConfig),i=a.useSelector(e=>e.orgDomains),r=!o.config||0==i.domains.length,l=()=>e(d.fileBrowser.popModalStack());return n.createElement(v.HeaderModal,{title:"SAML SSO",onClose:l,maxWidth:536,minWidth:536},n.createElement("div",{className:A.modalContent},r&&n.createElement(s.LoadingSpinner,null),!r&&n.createElement(n.Fragment,null,n.createElement(w,{dispatch:e,hideEditButton:!0,org:t,orgDomains:i.domains,orgSamlConfig:o.config}),n.createElement("div",{className:A.modalDone},n.createElement(h.ButtonWhite,{onClick:()=>{e(N.showModal({type:O.EDIT_SAML_CONFIG_MODAL,data:{dispatch:e}}))}},"Edit configuration"),n.createElement(h.ButtonPrimary,{onClick:l},"Done")))))},"VIEW_SAML_CONFIG_MODAL");class D extends n.PureComponent{copyTokenToClipboard(e){M.copyText(e).then(()=>{this.props.dispatch(l.visualBell.enqueue({type:"scim_api_token_copied_to_clipboard",message:"Copied!"}))})}render(){const e=e=>document.queryCommandSupported("copy")&&n.createElement(h.Link,{className:A.blueLink,onClick:this.copyTokenToClipboard.bind(this,e)},"Copy");return this.props.provisioningApiToken?n.createElement(E.CheckboxConfirmModal,{disableClickOutsideToHide:!0,dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,onHide:this.props.onCancel,buttonText:"Close",title:"Your provisioning API Token",hideCancelButton:!0,checkboxText:n.createElement("div",null,"I understand that this is the ",n.createElement("span",{className:A.important},"only time I will see")," this token, and I have copied it to a safe place. ")},n.createElement("div",{className:A.token},n.createElement("span",null,this.props.provisioningApiToken),e(this.props.provisioningApiToken))):n.createElement(E.CheckboxConfirmModal,{dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,onHide:this.props.onCancel,buttonText:"Revoke Access",title:"Revoke Token Access",size:"small",checkboxText:n.createElement("div",null,"I understand that any API requests made using the API token ",n.createElement("span",{className:A.important},"will be denied"),". ")})}}t.ProvisioningApiTokenModal=D,D.displayName="ProvisioningApiTokenModal",t.PROVISIONING_API_TOKEN_MODAL=k.registerModal(D,"PROVISIONING_API_TOKEN_MODAL");class T extends n.PureComponent{constructor(){super(...arguments),this.generateTokenMethod=(()=>{this.props.dispatch(r.orgSamlConfig.generateToken({orgSamlConfigId:this.props.orgSamlConfig.id}))}),this.revokeTokenMethod=(()=>{this.props.dispatch(r.orgSamlConfig.revokeToken({orgSamlConfigId:this.props.orgSamlConfig.id}))}),this.confirmRevokeTokenMethod=(()=>{this.props.dispatch(N.showModal({type:t.PROVISIONING_API_TOKEN_MODAL,data:{dispatch:this.props.dispatch,onConfirm:()=>{this.props.dispatch(d.fileBrowser.hideModal()),this.revokeTokenMethod()},onCancel:()=>{this.props.dispatch(d.fileBrowser.hideModal())}}}))})}isSamlConfigured(){return!!this.props.orgSamlConfig.idp_name}render(){const e=this.props.orgSamlConfig.sp_scim_bearer_token_at;return n.createElement(n.Fragment,null,n.createElement("p",{className:A.sectionInstruction}," SCIM allows you to automatically update, provision, and deprovision users. For more information, view ",n.createElement("a",{className:A.blueLink,href:"https://help.figma.com/hc/en-us/articles/360040532333-Getting-Started-with-SAML-SSO#h_d0220c93-18fa-4c1f-b965-69a5c8113f05",target:"_blank"},"this help article"),". "),n.createElement("table",{className:A.table},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("th",null,"API Token"),e&&n.createElement("td",null,"Generated ",n.createElement(C.FromNow,{date:e})),n.createElement("td",null,!this.isSamlConfigured()&&"SAML SSO must be configured",this.isSamlConfigured()&&e&&n.createElement(h.Link,{onClick:this.confirmRevokeTokenMethod,className:A.blueLink},"Revoke Token Access..."),this.isSamlConfigured()&&!e&&n.createElement(h.Link,{onClick:this.generateTokenMethod,className:A.blueLink},"Generate API Token"))))))}}t.ScimProvisioningSection=T,T.displayName="ScimProvisioningSection";t.EDIT_SCIM_MODAL=k.registerModal(()=>{const e=a.useDispatch(),t=a.useSelector(e=>e.orgSamlConfig),o=!t.config,i=()=>e(d.fileBrowser.popModalStack());return n.createElement(v.HeaderModal,{title:"SCIM Provisioning",onClose:i,maxWidth:492,minWidth:492},n.createElement("div",{className:A.modalContent},o&&n.createElement(s.LoadingSpinner,null),!o&&n.createElement(n.Fragment,null,n.createElement(T,{dispatch:e,orgSamlConfig:t.config}),n.createElement(h.ButtonWhite,{className:A.modalDone,onClick:i},"Done"))))},"EDIT_SCIM_MODAL")}),
(function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=a(710                                   ),s=a(536                                 ),i=a(594                                         ),o=a(621                                   ),d=a(620                                 ),g=a(93                                   ),n=a(634                                        ),c=a(685                                 ),l=a(113                                     ),p=a(189                             ),h=a(1418                                 ),f=a(125                        ),m=a(317                       ),_=a(121                        ),u=a(465                          ),w=a(208                               ),y=a(1407                                                               ),I=a(179        ),O=a(111          ),v=a(108     ),S=a(175                            ),A=a(126                    ),B=a(459                          ),b=a(176                       ),D=a(1424                                        ),R=a(342                                  ),T=a(114                              );r.orgsMiddleware=(e=>r=>(function(a){var V;if(p.orgs.switchActiveOrgAndSetCurrentOrgId.matches(a)){e.dispatch(l.fileBrowser.setFileBrowserLoading({show:!0})),null!=(null===(V=e.getState().modalShown)||void 0===V?void 0:V.type)&&e.dispatch(l.fileBrowser.hideModal());const r=e.getState().currentOrgId;m.setLastSelectedOrgId(a.payload.orgId),O.segmentTrackEvent("file-browser-hydrate",{location:"switchActiveOrg"}),m.getUserStateRequest().then(t=>{e.dispatch(c.realtime.reset()),e.dispatch(l.fileBrowser.hydrate(t.data.meta)),e.dispatch(R.prototype.setRecents({orgId:a.payload.orgId})),a.payload.orgId===r||B.isUserAccountSettingsView(e.getState().selectedView)||e.dispatch(l.fileBrowser.selectView({view:"recentFiles"})),e.dispatch(p.orgs.setCurrentOrgId({orgId:a.payload.orgId})),e.dispatch(l.fileBrowser.setFileBrowserLoading({show:!1}))})}else if(p.orgs.selectViewAndLoadItsResources.matches(a)){const r=e.getState();w.selectedViewHasMissingResources(a.payload.selectedView,r)?(m.setLastSelectedOrgId(a.payload.orgId),O.segmentTrackEvent("file-browser-hydrate",{location:"selectViewAndLoadItsResources"}),m.getUserStateRequest().then(r=>{e.dispatch(c.realtime.reset()),e.dispatch(l.fileBrowser.hydrate(r.data.meta)),e.dispatch(l.fileBrowser.selectView(a.payload.selectedView))})):(a.payload.actionsIfNotHydrating&&a.payload.actionsIfNotHydrating.forEach(e.dispatch),e.dispatch(l.fileBrowser.selectView(a.payload.selectedView)))}else{if(n.orgSamlConfig.generateToken.matches(a))return v.default.post(`/api/org_saml_config/${a.payload.orgSamlConfigId}/scim_api_token`).then(r=>{e.dispatch(T.showModal({type:D.PROVISIONING_API_TOKEN_MODAL,data:{dispatch:e.dispatch,provisioningApiToken:r.data.meta.scim_api_token,onConfirm:()=>{e.dispatch(l.fileBrowser.hideModal())},onCancel:()=>{e.dispatch(l.fileBrowser.hideModal())}}})),e.dispatch(n.orgSamlConfig.set({orgSamlConfig:r.data.meta.org_saml_config}))}).catch(r=>{var a;e.dispatch(g.flash.flash((null===(a=r.data)||void 0===a?void 0:a.message)||"An error occurred while generating scim api token.",5e3)),console.error(r)}),r(a);if(n.orgSamlConfig.revokeToken.matches(a))return v.default.del(`/api/org_saml_config/${a.payload.orgSamlConfigId}/scim_api_token`).then(r=>{e.dispatch(n.orgSamlConfig.set({orgSamlConfig:r.data.meta}))}).catch(r=>{var a;e.dispatch(g.flash.flash((null===(a=r.data)||void 0===a?void 0:a.message)||"An error occurred while revoking scim api token.",5e3)),console.error(r)}),r(a);if(l.fileBrowser.hydrate.matches(a)){r(a),e.dispatch(t.orgDomains.getAll({force:!1}));const s=e.getState(),i=s.orgById[s.currentOrgId],o=s.user&&s.orgUsersByOrgId.orgUsers[s.currentOrgId]&&s.orgUsersByOrgId.orgUsers[s.currentOrgId][s.user.id];if(!i||!o)return;if(i.standing===A.OrgStanding.GOOD&&"members"!==s.orgDashboard.selectedAdminView)return;if(o.permission===_.OrgPermissionType.GUEST)return;return void e.dispatch(d.orgUser.getAll({orgId:s.currentOrgId}))}if(p.orgs.selectAdminView.matches(a)){const d=e.getState(),g=f.canAdminOrg(d.currentOrgId,f.getPermissionsState(d)),n=()=>{if(!(d.orgUsersByOrgId.isFetching||d.idpUserById.isFetching||d.orgUsersByOrgId.fetched||d.idpUserById.fetched)){const r=!g;e.dispatch(o.orgRoster.get({orgId:d.currentOrgId,ignoreIdpUsers:r}))}},c=d.orgById[d.currentOrgId];return g&&c.stripe_customer_id&&null==d.orgBillingData.data&&e.dispatch(i.orgBillingData.get({org_id:d.currentOrgId})),"general"===a.payload.view?(d.orgTeams.isFetching||"org"===d.selectedView.view||e.dispatch(s.orgTeam.get({})),e.dispatch(t.orgDomains.getAll({force:!0})),n()):"members"===a.payload.view?(n(),e.dispatch(o.orgRoster.clearUserIds()),a.payload.sortType===u.OrgRosterSortType.UPGRADED_DATE&&e.dispatch(o.orgRoster.setSortConfig({type:u.OrgRosterSortType.UPGRADED_DATE,isDescending:!1}))):"billing"===a.payload.view?e.dispatch(i.orgBillingData.get({org_id:d.currentOrgId})):"teams"===a.payload.view?(d.orgTeams.isFetching||"org"===d.selectedView.view||e.dispatch(s.orgTeam.get({includeProjectCount:!0,includeMemberCount:!0})),e.dispatch(h.getPendingTeamRoleRequests())):"library"===a.payload.view||("fonts"===a.payload.view?y.SharedFonts.loadSharedFonts(e.dispatch):"plugins"===a.payload.view||I.assertNever(a.payload.view)),r(a)}if(p.orgs.deleteOrg.matches(a))return v.default.post(`/api/org/${a.payload.orgId}/deletion_request`).then(r=>{e.dispatch(g.flash.flash("Deletion request enqueued"))}).catch(r=>{var a;e.dispatch(g.flash.error((null===(a=r.data)||void 0===a?void 0:a.message)||"An error occurred while enqueeing a deletion request.",5e3)),console.error(r)}),r(a);if(p.orgs.deleteOrgUser.matches(a))return v.default.post(`/api/org/${a.payload.orgId}/user_deletion_request`,{email:a.payload.email}).then(r=>{e.dispatch(g.flash.flash("Deletion request enqueued"))}).catch(r=>{var a;e.dispatch(g.flash.error((null===(a=r.data)||void 0===a?void 0:a.message)||"An error occurred while enqueeing a deletion request.",5e3)),console.error(r)}),r(a);if(l.fileBrowser.selectView.matches(a)){if("configureSSO"===a.payload.view)e.dispatch(t.orgDomains.getAll({force:!0})),e.dispatch(n.orgSamlConfig.get());else{if("recentFiles"===a.payload.view&&a.payload.orgDashboardTab)return r(a),e.dispatch(l.fileBrowser.showModal({type:S.ORG_DASHBOARD_MODAL})),void e.dispatch(p.orgs.selectAdminView({view:a.payload.orgDashboardTab,sortType:a.payload.sortType}));if("org"===a.payload.view){const t=e.getState();if(!f.canMemberOrg(t.currentOrgId,f.getPermissionsState(t)))return r(a);const s=f.canAdminOrg(t.currentOrgId,f.getPermissionsState(t));if("settings"===a.payload.orgViewTab&&(e.dispatch(p.orgs.selectAdminView({view:"general"})),e.dispatch(l.fileBrowser.showModal({type:S.ORG_DASHBOARD_MODAL}))),"libraries"===a.payload.orgViewTab&&(e.dispatch(p.orgs.selectAdminView({view:"library"})),e.dispatch(l.fileBrowser.showModal({type:S.ORG_DASHBOARD_MODAL,data:{tab:b.LibraryPreferencesModalTab.LIBRARIES}}))),!t.orgUsersByOrgId.isFetching&&!t.idpUserById.isFetching&&!t.orgDashboard.fetchedRoster){const r=!s;e.dispatch(o.orgRoster.get({orgId:t.currentOrgId,ignoreIdpUsers:r}))}}}return r(a)}}return r(a)}))}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(1405                                                                              ),n=t(114                              ),o=t(265                                    ),l=t(111          ),i=t(172                                              ),r=t(661                             ),d=t(175                            );s.sharedFonts=(e=>s=>(function(t){const c=()=>{e.dispatch(n.showModal({type:a.FONT_UPLOAD_REVIEW_ERRORS_MODAL}))};if(r.sharedFonts.uploadFontSuccess.matches(t)||r.sharedFonts.uploadFontFailure.matches(t)){if(s(t),r.sharedFonts.uploadFontSuccess.matches(t))l.segmentTrackEvent("shared_fonts_upload_success");else if(r.sharedFonts.uploadFontFailure.matches(t))switch(t.payload.status){case 403:l.segmentTrackEvent("shared_fonts_upload_invalid_permissions");break;case 409:l.segmentTrackEvent("shared_fonts_upload_collision",{canOverwrite:!!t.payload.collision});break;case 422:l.segmentTrackEvent("shared_fonts_upload_invalid_font");break;default:l.segmentTrackEvent("shared_fonts_upload_failure",{status:t.payload.status})}const{uploadsRemaining:a,unsuccessfulUploads:n,collisions:u,warnings:h}=e.getState().sharedFonts,_=e.getState().modalShown,p=_&&(_.type===d.SHARED_FONTS_MODAL||_.type===d.ORG_DASHBOARD_MODAL);0===Object.keys(a).length&&(p||(0===n.length?e.dispatch(i.visualBell.enqueue({type:"shared-fonts",message:"Shared font import complete",icon:o.VisualBellIcon.CHECK})):e.dispatch(i.visualBell.enqueue({type:"shared-fonts",message:`Shared font import complete with ${n.length} ${n.length>1?"errors":"error"}`,icon:o.VisualBellIcon.EXCLAMATION,error:!0,button:{text:"Review",action:c},onDismiss:()=>{r.sharedFonts.clearFontUploadResults()}}))),0===n.length&&0===u.length&&0===h.length&&e.dispatch(r.sharedFonts.clearFontUploadResults()))}else{if(!r.sharedFonts.deleteFontComplete.matches(t))return r.sharedFonts.uploadFonts.matches(t)?t.payload.overwrite?l.segmentTrackEvent("shared_fonts_overwrite_collision"):l.segmentTrackEvent("shared_fonts_upload",{count:t.payload.fonts.length}):r.sharedFonts.deleteFonts.matches(t)?l.segmentTrackEvent("shared_fonts_delete_font",{count:Object.keys(e.getState().sharedFonts.fontsToDelete).length}):r.sharedFonts.dismissFontCollision.matches(t)&&l.segmentTrackEvent("shared_fonts_skip_collision"),s(t);{s(t);const{unsuccessfulDeletes:a,successfulDeletes:n}=e.getState().sharedFonts,l=a.length,r=a.length+n.length;l>0?e.dispatch(i.visualBell.enqueue({type:"font_deleted",message:`Unable to delete ${l} of ${r} ${r>1?"fonts":"font"}.`,icon:o.VisualBellIcon.EXCLAMATION,error:!0})):e.dispatch(i.visualBell.enqueue({type:"font_deleted",message:`Deleted ${r} ${r>1?"fonts":"font"}.`,icon:o.VisualBellIcon.CHECK}))}}}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(621                                   ),r=s(105        ),o=s(86            ),a=s(322                           ),n=s(465                          ),l=s(121                        ),c=s(133        );var m;!function(e){e[e.IDP_USER=0]="IDP_USER",e[e.ORG_USER=1]="ORG_USER"}(m||(m={}));const u=[{name:"name",weight:1},{name:"email",weight:1},{name:"domain",weight:1},{name:"first_name",weight:1},{name:"last_name",weight:1}];class p{constructor(){this.items=[],this.filter=(e=>{const t=e.orgRoster.filters,s=[];if(!t.accountTypeFilter&&!t.permissionFilter)return this.items;if(t.permissionFilter===n.OrgPermissionExtendedFilters.IDP)return s;for(const i of this.items){let e=!t.accountTypeFilter||t.accountTypeFilter===i.account_type,r=!t.permissionFilter||t.permissionFilter===i.permission;e&&r&&s.push(i)}return s}),this.getItems=(e=>this.filter(e))}setItems(e){this.items=[];for(let t in e.orgUsersByOrgId.orgUsers[e.currentOrgId]){const s=e.orgUsersByOrgId.orgUsers[e.currentOrgId][t],i={id:s.id,permission:s.permission,account_type:s.account_type,name:s.user.handle,email:s.user.email||"",domain:s.user.email&&s.user.email.split("@")[1]&&"@"+c.getEmailDomain(s.user.email),first_name:s.user.handle&&s.user.handle.split(" ",2)[0],last_name:s.user.handle&&s.user.handle.split(" ",2)[1],user_id:s.user_id,type:m.ORG_USER,account_type_upgraded_at:s.account_type===l.OrgUserAccountType.FULL?s.account_type_changed_at:"",last_edit:s.last_edit||"",last_seen:s.last_seen||""};this.items.push(i)}}}class d{constructor(){this.items=[],this.filter=(e=>{const t=e.orgRoster.filters;return t.permissionFilter&&t.permissionFilter!==n.OrgPermissionExtendedFilters.IDP?[]:t.accountTypeFilter?this.items.filter(e=>t.accountTypeFilter===e.account_type):this.items}),this.getItems=(e=>this.filter(e))}setItems(e){this.items=[];for(let t in e.idpUserById.idpUsers){const s=e.idpUserById.idpUsers[t],i={account_type:s.account_type,id:s.id,name:s.name,first_name:s.name&&s.name.split(" ",2)[0],last_name:s.name&&s.name.split(" ",2)[1],email:s.email,domain:s.email&&s.email.split("@")[1]&&"@"+c.getEmailDomain(s.email),type:m.IDP_USER};this.items.push(i)}}}t.orgRosterResults=new class{constructor(){this.searchLib=new a.ScoredSearchLibrary([],{keys:u,threshold:.1,matchAllTokens:!0,tokenize:!1,shouldSort:!0,distance:300}),this.filteredResults=[],this.updateSources=(e=>{this._debouncedComputeResults.cancel(),this.dataSources.forEach(t=>t.setItems(e.getState())),this.filteredResults=[].concat(...this.dataSources.map(t=>t.getItems(e.getState()))),this.searchLib.set(this.filteredResults),this._computeResults(e)}),this.computeResults=((e,t)=>{t?(this._debouncedComputeResults.cancel(),this._computeResults(e)):this._debouncedComputeResults(e)}),this._debouncedComputeResults=o.debounce(e=>{this._computeResults(e)},200),this._computeResults=(e=>{(async t=>{let s=[];if(t.orgRoster.searchQuery)s=await this.searchLib.search(t.orgRoster.searchQuery);else for(let e of this.filteredResults)s.push({item:e,score:0});let o=n.zeroFilterCounts();s.forEach(e=>{if(e.item.type===m.ORG_USER){const t=e.item;o.accountType[t.account_type]+=1,o.permission[t.permission]+=1}else e.item.type===m.IDP_USER&&(o.permission.provisional+=1)}),e.dispatch(i.orgRoster.setFilterCounts({filterCounts:o}));const a=t.orgRoster.sort;a.type===n.OrgRosterSortType.NAME?r.sortAlphabeticallyByFn(s,e=>e.item.name||e.item.email,a.isDescending):a.type===n.OrgRosterSortType.EMAIL?r.sortAlphabeticallyByFn(s,e=>e.item.email,a.isDescending):a.type===n.OrgRosterSortType.UPGRADED_DATE?r.sortAlphabeticallyByFn(s,e=>e.item.account_type_upgraded_at,!a.isDescending):a.type===n.OrgRosterSortType.LAST_EDIT?r.sortAlphabeticallyByFn(s,e=>e.item.last_edit,!a.isDescending):a.type===n.OrgRosterSortType.LAST_SEEN&&r.sortAlphabeticallyByFn(s,e=>e.item.last_seen,!a.isDescending);const l=s.map(e=>e.item.type===m.ORG_USER?{id:e.item.id,user_id:e.item.user_id}:{id:e.item.id,user_id:null});e.dispatch(i.orgRoster.setRosterMembers({members:l}))})(e.getState())}),this.dataSources=[new p,new d]}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(621                                   ),o=r(189                             ),i=r(618                                 ),a=r(620                                 ),g=r(619                                   ),c=r(1427                              ),n=r(1088                     ),d=r(111          );t.orgRosterResultsMiddleware=(e=>t=>(function(r){if(a.orgUser.set.matches(r)||i.idpUser.batchPost.matches(r)||o.orgs.selectAdminView.matches(r)){t(r);const s=e.getState();"members"!==s.orgDashboard.selectedAdminView||s.orgUsersByOrgId.isFetching||s.idpUserById.isFetching||c.orgRosterResults.updateSources(e)}else{if(g.orgInvites.set.matches(r)||g.orgInvites.del.matches(r))return t(r),void c.orgRosterResults.updateSources(e);if(a.orgUser.put.matches(r)){t(r);const s=e.getState();n.getOrgUserForId(s.orgUsersByOrgId.orgUsers[s.currentOrgId],r.payload.orgUser.id)&&"members"===s.orgDashboard.selectedAdminView&&c.orgRosterResults.updateSources(e)}else{if(s.orgRoster.setQuery.matches(r))return d.segmentTrackEvent("Org Roster Action",{org_id:e.getState().currentOrgId,action:"search"}),t(r),void c.orgRosterResults.computeResults(e,!1);if(s.orgRoster.setSortConfig.matches(r))return d.segmentTrackEvent("Org Roster Action",{org_id:e.getState().currentOrgId,action:"sort",sortField:r.payload.type,sortIsDescending:r.payload.isDescending}),t(r),void c.orgRosterResults.computeResults(e,!0);if(s.orgRoster.setFilters.matches(r))return d.segmentTrackEvent("Org Roster Action",{org_id:e.getState().currentOrgId,action:"filter",permissionFilter:r.payload.permissionFilter,accountTypeFilter:r.payload.accountTypeFilter}),t(r),void c.orgRosterResults.updateSources(e);if(!a.orgUser.batchDel.matches(r))return t(r);{t(r);const s=e.getState();s.currentOrgId===r.payload.orgId&&"members"===s.orgDashboard.selectedAdminView&&c.orgRosterResults.updateSources(e)}}}}))}),
(function(e,t,l){e.exports={modal:"file_template_modal--modal--2nmTU",hidden:"file_template_modal--hidden--3f4v8",sidebar:"file_template_modal--sidebar--2lIGE",sidebarHidden:"file_template_modal--sidebarHidden--1nN0g file_template_modal--sidebar--2lIGE",sidebarSection:"file_template_modal--sidebarSection--2W1TJ sidebar--sidebarSection--3XvYF text--fontPos11--RSei3 text--_fontBase--YWDo0 text--fontPos13--1DoEt text--_fontBase--YWDo0",sidebarSectionSubtitle:"file_template_modal--sidebarSectionSubtitle--1IG1m sidebar--sidebarSection--3XvYF text--fontPos11--RSei3 text--_fontBase--YWDo0 text--fontPos11--RSei3 text--_fontBase--YWDo0",selected:"file_template_modal--selected--3AW1q sidebar--selected--BMSeP",divider:"file_template_modal--divider--1A6ay",tilesArea:"file_template_modal--tilesArea--3d6n7",scrollContainer:"file_template_modal--scrollContainer--1bM6K",scrollContainerHidden:"file_template_modal--scrollContainerHidden--tc8mc file_template_modal--scrollContainer--1bM6K",categoryTitle:"file_template_modal--categoryTitle--3ETxq text--fontPos16--24Ikw text--_fontBase--YWDo0",tileGrid:"file_template_modal--tileGrid--jUYsH",footer:"file_template_modal--footer--3ZgYJ",buttons:"file_template_modal--buttons--2SrAm",ctaButton:"file_template_modal--ctaButton--1ro1p",embedWrapper:"file_template_modal--embedWrapper--3F0zx",embedInView:"file_template_modal--embedInView--1Dg69 file_template_modal--embedWrapper--3F0zx",embedOutOfView:"file_template_modal--embedOutOfView--TAjRP file_template_modal--embedWrapper--3F0zx",embed:"file_template_modal--embed--1pjNK",backButtonSection:"file_template_modal--backButtonSection--vmiO-",backButton:"file_template_modal--backButton--2z5MM",backButtonIcon:"file_template_modal--backButtonIcon--n5YtA",checkboxSection:"file_template_modal--checkboxSection--Ifw_D",folderMenu:"file_template_modal--folderMenu--19B84 text--fontPos11--RSei3 text--_fontBase--YWDo0",folderMenuPreview:"file_template_modal--folderMenuPreview--1ROM5 file_template_modal--folderMenu--19B84 text--fontPos11--RSei3 text--_fontBase--YWDo0"}}),
(function(e,t,l){e.exports={tile:"template_tiles--tile--1ReC8",selectedTile:"template_tiles--selectedTile--njtVU template_tiles--tile--1ReC8",framePresetContent:"template_tiles--framePresetContent--AV4Yj",framePresetIcon:"template_tiles--framePresetIcon--3tqsY",plusIcon:"template_tiles--plusIcon--3v1-9",phoneIcon:"template_tiles--phoneIcon--5S0xR",desktopIcon:"template_tiles--desktopIcon--4Yf08",presetTileFooter:"template_tiles--presetTileFooter--28_-X text--fontPos11--RSei3 text--_fontBase--YWDo0",dropdownContainer:"template_tiles--dropdownContainer--3D4Jc template_tiles--presetTileFooter--28_-X text--fontPos11--RSei3 text--_fontBase--YWDo0",caret:"template_tiles--caret--1Vrnh",caretContainer:"template_tiles--caretContainer--3JtxY",dropdownOption:"template_tiles--dropdownOption--ewTa_",presetDimension:"template_tiles--presetDimension--1ROmB",hubTile:"template_tiles--hubTile--23OTh",hubTileWrapper:"template_tiles--hubTileWrapper--2Kyqj",hubTileCoverImage:"template_tiles--hubTileCoverImage--_jmld",hubTileTitle:"template_tiles--hubTileTitle--1Zr2O text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",hubTileBannerDivider:"template_tiles--hubTileBannerDivider--3dg-S",hubTileCoverImageWrapper:"template_tiles--hubTileCoverImageWrapper--2LB1Y",hubTileBanner:"template_tiles--hubTileBanner--2EuvH",hubTileBannerBottom:"template_tiles--hubTileBannerBottom--2PZr-",authorLink:"template_tiles--authorLink--21eH4 ellipsis--ellipsis--1RWY6",previewButton:"template_tiles--previewButton--f8fYl"}}),
(function(t,e,h){t.exports={src:'<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 10.5V0h1v10.5H22v1H11.5V22h-1V11.5H0v-1h10.5z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(c,h,t){c.exports={src:'<svg width="26" height="42" viewBox="0 0 26 42" xmlns="http://www.w3.org/2000/svg"><path d="M20 1h2c1.657 0 3 1.343 3 3v34c0 1.657-1.343 3-3 3H4c-1.657 0-3-1.343-3-3V4c0-1.657 1.343-3 3-3h2c0 1.105.895 2 2 2h10c1.105 0 2-.895 2-2zm0-1h2c2.21 0 4 1.79 4 4v34c0 2.21-1.79 4-4 4H4c-2.21 0-4-1.79-4-4V4c0-2.21 1.79-4 4-4h16z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(c,t,e){c.exports={src:'<svg width="48" height="36" viewBox="0 0 48 36" xmlns="http://www.w3.org/2000/svg"><path d="M4 1h40c1.657 0 3 1.343 3 3v28c0 1.657-1.343 3-3 3H4c-1.657 0-3-1.343-3-3V4c0-1.657 1.343-3 3-3zM0 4c0-2.21 1.79-4 4-4h40c2.21 0 4 1.79 4 4v28c0 2.21-1.79 4-4 4H4c-2.21 0-4-1.79-4-4V4zm5.5 3C6.328 7 7 6.328 7 5.5 7 4.672 6.328 4 5.5 4 4.672 4 4 4.672 4 5.5 4 6.328 4.672 7 5.5 7zM15 5.5c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zM9.5 7c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5C8.672 4 8 4.672 8 5.5 8 6.328 8.672 7 9.5 7z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),r=s(43,1         ),o=s(146                        ),a=s(409                                  ),n=s(414                                                             ),l=s(572                                            ),p=s(147                                            ),c=s(1104                                                                     ),d=s(360                     ),m=s(113                                     ),h=s(357                  ),u=s(1430                                                                 ),T=s(1431                             ),g=s(1432                             ),v=s(1433                               ),E=s(417                         );var w,f,b;!function(e){e[e.BLANK_PRESET=0]="BLANK_PRESET",e[e.TEMPLATE=1]="TEMPLATE"}(w=t.FileType||(t.FileType={})),function(e){e.ALL="All Templates",e.BLANK_PRESETS="Blank Presets"}(f=t.FileTemplateCategory||(t.FileTemplateCategory={})),t.BaseTemplateTile=(e=>i.createElement("div",{className:`${e.isSelected?u.selectedTile:u.tile} ${e.className||""}`,onClick:e.onClick,onDoubleClick:e.onDoubleClick},e.children));class P extends i.Component{constructor(){super(...arguments),this.onClick=(()=>{const e={fileType:w.BLANK_PRESET,category:f.BLANK_PRESETS,framePresetType:b.BLANK};this.props.onSelectTile(e)})}render(){return i.createElement(t.BaseTemplateTile,{isSelected:this.props.isSelected,onClick:this.onClick,onDoubleClick:this.props.onDoubleClick},i.createElement("div",{className:u.framePresetContent},i.createElement("div",{className:u.framePresetIcon},i.createElement(o.Svg,{className:u.plusIcon,svg:T})),i.createElement("div",{className:u.presetTileFooter},"Blank Canvas")))}}t.BlankCanvasTile=P,P.displayName="BlankCanvasTile",function(e){e.BLANK="",e.PHONE="phone",e.DESKTOP="desktop"}(b=t.FramePresetTileType||(t.FramePresetTileType={}));class _ extends i.Component{constructor(){super(...arguments),this.dropdownId=`frame-preset-tile-${this.props.presetType}`,this.dropdownTargetRef=i.createRef(),this.state={selectedPreset:c.presetsList[`${this.props.presetType}Presets`][0]||{}},this.onClick=(()=>{const e={fileType:w.BLANK_PRESET,category:f.BLANK_PRESETS,framePresetType:this.props.presetType,framePresetName:this.state.selectedPreset.name};this.props.onSelectTile(e)}),this.isDropdownShown=(()=>{var e;return(null===(e=this.props.dropdownShown)||void 0===e?void 0:e.type)===this.dropdownId}),this.toggleDropdown=(()=>{var e;const t=null===(e=this.dropdownTargetRef.current)||void 0===e?void 0:e.getBoundingClientRect();this.isDropdownShown()?this.props.dispatch(m.fileBrowser.hideDropdown()):t&&this.props.dispatch(m.fileBrowser.showDropdown({type:this.dropdownId,data:{targetRect:t}}))}),this.handlePresetSelection=(e=>{this.state.selectedPreset!==e&&this.setState({selectedPreset:e},()=>this.onClick())}),this.getPresetDimensionString=(e=>`${e.width}x${e.height}`),this.renderDropdown=(()=>{const e=c.presetsList[`${this.props.presetType}Presets`];return this.isDropdownShown()&&e?i.createElement(n.PointingDropdown,{targetRect:this.props.dropdownShown.data.targetRect,displayAboveTarget:!1,showPoint:!1,lean:"center"},e.map((e,t)=>i.createElement(a.dropdown.CheckableOption,{key:t,onClick:()=>this.handlePresetSelection(e),checked:this.state.selectedPreset===e},i.createElement("div",{className:u.dropdownOption},i.createElement("div",null,e.name),i.createElement("div",{className:u.presetDimension},this.getPresetDimensionString(e)))))):i.createElement("div",null)}),this.getIcon=(()=>this.props.presetType===b.DESKTOP?i.createElement(o.Svg,{className:u.desktopIcon,svg:v}):i.createElement(o.Svg,{className:u.phoneIcon,svg:g}))}render(){const e=this.state.selectedPreset.name;return i.createElement(t.BaseTemplateTile,{isSelected:this.props.isSelected,onClick:this.onClick,onDoubleClick:this.props.onDoubleClick},i.createElement("div",{className:u.framePresetContent},i.createElement("div",{className:u.framePresetIcon,ref:this.dropdownTargetRef},this.getIcon()),i.createElement("div",{className:u.dropdownContainer,onClick:this.toggleDropdown,onDoubleClick:e=>{e.stopPropagation()}},e,i.createElement("div",{className:u.caretContainer},i.createElement(o.Svg,{svg:E,className:u.caret})),this.renderDropdown())))}}_.displayName="FramePresetTile";t.FramePresetTile=r.connect(e=>({dropdownShown:e.dropdownShown}))(_);class k extends i.Component{constructor(){super(...arguments),this.onClick=(()=>{const e={fileType:w.TEMPLATE,category:this.props.category,hubFile:this.props.hubFile};this.props.onSelectTile(e)})}render(){const e=`url(${this.props.hubFile.redirect_thumbnail_url})`,s=h.fileBackgroundColor(this.props.hubFile.client_meta);return i.createElement(t.BaseTemplateTile,{className:u.hubTile,isSelected:this.props.isSelected,onClick:this.onClick},i.createElement("div",{className:u.hubTileWrapper},i.createElement("div",{className:u.hubTileCoverImageWrapper},i.createElement("div",{className:u.hubTileCoverImage,style:{backgroundImage:e,backgroundColor:s},onDoubleClick:this.props.onDoubleClick})),i.createElement("div",{className:u.hubTileBanner},i.createElement("div",{className:u.hubTileTitle},d.getHubFileVersion(this.props.hubFile).name),i.createElement("div",{className:u.hubTileBannerDivider}),i.createElement("div",{className:u.hubTileBannerBottom},i.createElement(l.UnderlineAuthorLink,{publisher:this.props.hubFile,showAvatar:!0,avatarSize:16,className:u.authorLink}),i.createElement(p.ButtonSecondaryTracked,{onClick:this.props.startPreview,className:u.previewButton,trackingProperties:{hubFileId:this.props.hubFile.id}},"Preview")))))}}t.HubFileTemplateTile=k,k.displayName="HubFileTemplateTile"}),
(function(e,o,r){e.exports={dropdownContainer:"select_folder_dropdown--dropdownContainer--TIVd0",caret:"select_folder_dropdown--caret--2qh6K",showHover:"select_folder_dropdown--showHover--1L8vh",caretContainer:"select_folder_dropdown--caretContainer--2poy4",ellipsis:"select_folder_dropdown--ellipsis--2VxE6 ellipsis--ellipsis--1RWY6"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),d=s(146                        ),r=s(1435                                                                         ),a=s(113                                     ),i=s(43,1         ),l=s(118                    ),n=s(125                        ),p=s(135                     ),c=s(232                       ),h=s(482                              ),m=s(449                                  ),_=s(521                                                                 ),f=s(284                          ),w=s(417                         );t.getFirstAlphabeticNameFolderId=(e=>Object.keys(e).length>0?(e.sort((e,t)=>e.name<t.name?-1:1),e[0].id):"");class u extends o.Component{constructor(e){super(e),this.dropdownId="select-folder-dropdown",this.dropdownTargetRef=o.createRef(),this.isDropdownShown=(()=>{var e;return(null===(e=this.props.dropdownShown)||void 0===e?void 0:e.type)===this.dropdownId}),this.toggleDropdown=(()=>{var e;this.props.seenTooltip||this.props.dispatch(m.userFlags.put({name:"seen_file_template_dropdown_tooltip"}));const t=null===(e=this.dropdownTargetRef.current)||void 0===e?void 0:e.getBoundingClientRect();this.isDropdownShown()?this.props.dispatch(a.fileBrowser.hideDropdown()):t&&this.props.dispatch(a.fileBrowser.showDropdown({type:this.dropdownId,data:{targetRect:t}}))}),this.setSelectedFolderAndTeam=(e=>{e&&(this.props.updateFolderId(e.id),this.state.selectedFolderId!==e.id&&this.setState({selectedFolderName:e.name,selectedFolderId:e.id,selectedTeamName:e.team_id?this.props.teamNamesById[e.team_id]:"",selectedTeamId:e.team_id?e.team_id:""}))}),this.multilevelDropdownItems=(()=>{const e=[],s={displayText:"",disabled:!0,separator:!0},o=this.state.selectedFolderId;if(this.props.draftsFolder){const t={displayText:this.props.draftsFolder.name,isChecked:o===this.props.draftsFolder.id,callback:()=>this.setSelectedFolderAndTeam(this.props.draftsFolder)};e.push(t),e.push(s)}return Object.keys(this.props.foldersByTeamId).sort().forEach((d,r)=>{const a=this.props.foldersByTeamId[d];if(a.length>0){const r={displayText:this.props.teamNamesById[d],children:[]};d==t.SHARED_FOLDERS_WITHOUT_SHARED_TEAM?r.isChecked=!(!this.state.selectedTeamId||this.state.selectedTeamId in this.props.foldersByTeamId):r.isChecked=this.state.selectedTeamId===d,a.forEach((e,t)=>{var s;null===(s=r.children)||void 0===s||s.push({displayText:e.name,isChecked:o===e.id,alwaysShowCheckMarkOffset:!0,callback:()=>this.setSelectedFolderAndTeam(e)})}),e.push(r),e.push(s)}}),e}),this.onSelectDropdownItem=(e=>{e.callback&&e.callback("",null,this.props.dispatch)}),this.shouldRenderDropdown=(()=>{let e=0;return Object.keys(this.props.foldersByTeamId).forEach((t,s)=>{e+=this.props.foldersByTeamId[t].length}),e>0}),this.renderDropdown=(()=>this.isDropdownShown()&&this.shouldRenderDropdown()?o.createElement(_.MultilevelDropdown,{items:this.multilevelDropdownItems(),onSelectItem:this.onSelectDropdownItem,parentRect:this.props.dropdownShown.data.targetRect,showPoint:!1,dispatch:this.props.dispatch,rootAndSubmenuMaxWidth:208,displayOverTarget:!0}):o.createElement("div",null)),this.renderCaret=(()=>this.shouldRenderDropdown()?o.createElement("div",{className:r.caretContainer,ref:this.dropdownTargetRef},o.createElement(d.Svg,{svg:w,className:r.caret})):o.createElement("div",null));const s=this.props.defaultFolder;e.updateFolderId(null==s?void 0:s.id),this.state={selectedFolderName:s?s.name:"",selectedFolderId:s?s.id:"",selectedTeamName:(null==s?void 0:s.team_id)?this.props.teamNamesById[s.team_id]:"",selectedTeamId:(null==s?void 0:s.team_id)?s.team_id:""}}render(){const e=this.props.defaultFolder;return o.createElement(o.Fragment,null,o.createElement("div",{className:`${r.dropdownContainer} ${this.props.className} ${this.shouldRenderDropdown()&&e?r.showHover:""}`,onClick:this.toggleDropdown,ref:this.dropdownTargetRef,"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Choose where to create the file","data-tooltip-show-right":!0,"data-tooltip-ignore-mouse":!0,"data-tooltip-key":"templates-folder-dropdown"},o.createElement("div",{className:r.ellipsis},e?this.state.selectedTeamName?"Create file in "+this.state.selectedTeamName+" / "+this.state.selectedFolderName:"Create file in "+this.state.selectedFolderName:"Please create a project first"),this.renderCaret()),o.createElement(h.TooltipView,{visible:this.shouldRenderDropdown()&&!this.props.seenTooltip,tooltipKey:"templates-folder-dropdown"}),this.renderDropdown())}}u.displayName="SelectFolderDropdown",t.SHARED_FOLDERS_WITHOUT_SHARED_TEAM="Shared Projects";const T=(e,t)=>!p.isTeamLockedForUser(e,t),F=(e,s,o,d)=>{let r="";const a=e.folderId;return(e=>e===f.NewFileFrom.FILE_BROWSER_FOLDER_CONTEXT_MENU||e===f.NewFileFrom.FILE_BROWSER_EMPTY_FOLDER||e===f.NewFileFrom.FILE_BROWSER_TOOLBAR_FOLDER)(s)&&a&&d.find(e=>e.id===a)&&(r=a),r||o||t.getFirstAlphabeticNameFolderId(d)},E=(e,t)=>{const s=[];return Object.keys(e.folders).forEach(o=>{const d=Object.assign({},e.folders[o]);((e,t)=>n.canEditFolder(e.id,t)&&!p.isFolderEditingLockedForUser(e,t))(d,e)&&(t&&d.id===t.id?s.push(Object.assign(Object.assign({},d),{name:"Drafts"})):""!==d.name&&s.push(d))}),s};t.SelectFolderDropdown=i.connect((e,s)=>{const o=l.getUserDraftsFolderOrNull(e.folders,e.currentOrgId,e.roles,e.user,e.orgUsersByOrgId.orgUsers),d=E(e,o),r=F(s.selectedView,s.newFileFrom,null==o?void 0:o.id,d);return{dropdownShown:e.dropdownShown,teamNamesById:(e=>{const s={};return s[t.SHARED_FOLDERS_WITHOUT_SHARED_TEAM]=t.SHARED_FOLDERS_WITHOUT_SHARED_TEAM,Object.keys(e.teams).forEach(t=>{s[t]=e.teams[t].name}),s})(e),draftsFolder:o?Object.assign(Object.assign({},o),{name:"Drafts"}):null,seenTooltip:!!e.userFlags.seen_file_template_dropdown_tooltip,foldersByTeamId:((e,s,o)=>{const d={};for(let t in e.roles.byTeamId)T(t,e)&&(d[t]=[]);return d[t.SHARED_FOLDERS_WITHOUT_SHARED_TEAM]=[],s.forEach(s=>{s.team_id&&n.canViewTeam(s.team_id,e)?d[s.team_id].push(s):o&&o.id!==s.id&&d[t.SHARED_FOLDERS_WITHOUT_SHARED_TEAM].push(s)}),d})(e,d,o),defaultFolder:d.find(e=>e.id===r)}})(u)}),
(function(l,t,e){l.exports={src:'<svg width="15" height="14" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg"><path d="M14 6.5H2.71l3.4-3.388-.706-.709L.792 7l4.612 4.597.706-.708L2.71 7.5H14v-1z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2,1    ),l=i(154                                 ),a=i(1429                                                                      ),r=i(113                                     ),o=i(136                                 ),c=i(411                                                  ),n=i(147                                            ),p=i(284                          ),d=i(1434                                                             ),m=i(859                                           ),h=i(43,1         ),T=i(401                                               ),u=i(207                                   ),F=i(449                                  ),g=i(138      ),y=i(209                ),_=i(1436                      ),b=i(137                                    ),f=i(360                     ),E=i(146                        ),S=i(360                     ),C=i(1437                             ),w=e=>s.createElement(s.Fragment,null,s.createElement("div",{className:a.categoryTitle},e.category),s.createElement("div",{className:a.tileGrid},e.children));class v extends s.Component{constructor(e){super(e),this.hideModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.onCreateFile=(e=>{const t=this.state.selectedTile;if(!t)return;const i=this.state.selectedFolderId,s=g.shouldUseDefaultOpenBehavior(e);if(t.fileType===d.FileType.BLANK_PRESET){let e=y.getNewFileInfo(this.props,s,this.props.from===p.NewFileFrom.FILE_BROWSER_SIDEBAR_DRAFTS,{from:this.props.from,selectedView:this.props.selectedView});e.framePresetName=t.framePresetName,i&&(e.folder_id=i),this.props.dispatch(u.fullscreen.new_(e))}else if(t.fileType===d.FileType.TEMPLATE){const e=t.hubFile.id;this.props.dispatch(T.createFileFromTemplate({hubFileId:e,openInNewTab:s,folderId:i}))}this.hideModal()}),this.onSelectCategory=(e=>{this.shouldResetSelectedTile(e)&&this.resetSelectedTile(),this.state.selectedCategory!==e&&this.setState({selectedCategory:e})}),this.updateFolderId=(e=>{this.state.selectedFolderId!==e&&this.setState({selectedFolderId:e})}),this.renderSidebarLink=(e=>{const t=this.state.selectedCategory===e,i=`${a.sidebarSection} ${t?a.selected:void 0}`;return s.createElement("div",{className:i,onClick:()=>this.onSelectCategory(e),key:e},e)}),this.renderSidebarLinksForCustomCategories=(()=>Object.keys(this.props.templateFilesByCategory).map(e=>this.renderSidebarLink(e))),this.onSelectTile=(e=>{this.setState({selectedTile:e})}),this.isSelectedFramePresetTile=(e=>{const t=this.state.selectedTile;return!!t&&t.fileType===d.FileType.BLANK_PRESET&&t.framePresetType===e}),this.isSelectedHubFileTemplateTile=(e=>{const t=this.state.selectedTile;return!!t&&t.fileType===d.FileType.TEMPLATE&&t.hubFile===e}),this.onTilesAreaMouseDown=(()=>{this.state.previewingHubFile||this.resetSelectedTile()}),this.resetSelectedTile=(()=>{this.setState({selectedTile:null})}),this.shouldShowTileGroup=(e=>[d.FileTemplateCategory.ALL,e].indexOf(this.state.selectedCategory)>-1),this.startPreview=((e,t)=>{this.setState({previewingHubFile:!0,selectedTile:{fileType:d.FileType.TEMPLATE,hubFile:e,category:t}}),this.props.seenTooltip||this.props.dispatch(F.userFlags.put({name:"seen_file_template_dropdown_tooltip"}))}),this.renderTilesForCategory=(e=>this.props.templateFilesByCategory[e].map(t=>s.createElement(d.HubFileTemplateTile,{key:t.id,category:e,hubFile:t,startPreview:()=>this.startPreview(t,e),isSelected:this.isSelectedHubFileTemplateTile(t),onSelectTile:this.onSelectTile,onDoubleClick:this.onCreateFile}))),this.renderTileGroupsForCustomCategories=(()=>this.customCategories().map(e=>this.shouldShowTileGroup(e)&&s.createElement(w,{key:e,category:e},this.renderTilesForCategory(e)))),this.customCategories=(()=>Object.keys(this.props.templateFilesByCategory)),this.toggleOptedOut=(()=>{this.setState({optedOut:!this.state.optedOut})}),this.onKeyDown=(e=>{e.stopPropagation(),e.keyCode===g.Key.ENTER&&this.state.selectedTile&&this.onCreateFile(e)}),this.getTemplateTrackingProperties=(()=>{const e=this.state.selectedTile;return e?e.fileType===d.FileType.BLANK_PRESET&&e.framePresetType===d.FramePresetTileType.BLANK?{selectedTemplateType:"preset_blank"}:e.fileType===d.FileType.BLANK_PRESET?{selectedTemplateType:"preset_device_frame",presetDeviceName:e.framePresetName}:e.fileType===d.FileType.TEMPLATE?{selectedTemplateType:"hub_template",hubFileId:e.hubFile.id}:void 0:{}}),this.state={selectedCategory:d.FileTemplateCategory.ALL,selectedTile:{fileType:d.FileType.BLANK_PRESET,category:d.FileTemplateCategory.BLANK_PRESETS,framePresetType:d.FramePresetTileType.BLANK},previewingHubFile:!1,optedOut:!1,selectedFolderId:void 0}}componentWillUnmount(){this.state.optedOut&&this.props.dispatch(F.userFlags.put({name:"opted_out_remote_work_templates"})),this.props.seenTooltip||this.props.dispatch(F.userFlags.put({name:"seen_file_template_dropdown_tooltip"}))}shouldResetSelectedTile(e){const t=this.state.selectedTile;return!(this.state.selectedCategory===e||!t)&&-1===[d.FileTemplateCategory.ALL,t.category].indexOf(e)}render(){var e;return s.createElement(l.ModalView,{size:840,className:a.modal,disableClickOutsideToHide:!1,hide:this.hideModal,onKeyDown:this.onKeyDown},s.createElement("div",{className:this.state.previewingHubFile?a.sidebarHidden:a.sidebar},this.renderSidebarLink(d.FileTemplateCategory.ALL),this.renderSidebarLink(d.FileTemplateCategory.BLANK_PRESETS),s.createElement("div",{className:a.divider}),s.createElement("div",{className:a.sidebarSectionSubtitle},"Team Templates"),this.renderSidebarLinksForCustomCategories(),s.createElement("div",{className:a.checkboxSection},s.createElement(n.Checkbox,{id:"file-template-opt-out-checkbox",onClick:this.toggleOptedOut}),s.createElement(n.Label,{htmlFor:"file-template-opt-out-checkbox"},"Don't show this again"))),s.createElement("div",{className:a.tilesArea},s.createElement(c.ScrollContainer,{className:this.state.previewingHubFile?a.scrollContainerHidden:a.scrollContainer,showScrollbar:!1,scrollingDisabled:!1,onMouseDown:this.onTilesAreaMouseDown},s.createElement(n.Spacing,{multiple:3}),this.shouldShowTileGroup(d.FileTemplateCategory.BLANK_PRESETS)&&s.createElement(w,{category:d.FileTemplateCategory.BLANK_PRESETS},s.createElement(d.BlankCanvasTile,{isSelected:this.isSelectedFramePresetTile(d.FramePresetTileType.BLANK),onSelectTile:this.onSelectTile,onDoubleClick:this.onCreateFile}),s.createElement(d.FramePresetTile,{presetType:d.FramePresetTileType.PHONE,isSelected:this.isSelectedFramePresetTile(d.FramePresetTileType.PHONE),onSelectTile:this.onSelectTile,onDoubleClick:this.onCreateFile}),s.createElement(d.FramePresetTile,{presetType:d.FramePresetTileType.DESKTOP,isSelected:this.isSelectedFramePresetTile(d.FramePresetTileType.DESKTOP),onSelectTile:this.onSelectTile,onDoubleClick:this.onCreateFile})),this.renderTileGroupsForCustomCategories()),s.createElement("div",{className:this.state.previewingHubFile?a.embedInView:a.embedOutOfView},this.state.previewingHubFile&&(null===(e=this.state.selectedTile)||void 0===e?void 0:e.fileType)===d.FileType.TEMPLATE&&s.createElement(m.HubFileEmbed,{hubFile:this.state.selectedTile.hubFile,className:a.embed}))),s.createElement("div",{className:a.footer},s.createElement("div",{className:a.backButtonSection},s.createElement("div",{className:a.backButton,onClick:()=>{this.setState({previewingHubFile:!1})}},s.createElement(E.Svg,{svg:C,className:a.backButtonIcon}),"Back")),s.createElement("div",null,s.createElement(_.SelectFolderDropdown,{className:this.state.previewingHubFile?a.folderMenuPreview:a.folderMenu,newFileFrom:this.props.from,updateFolderId:this.updateFolderId,selectedView:this.props.selectedView})),s.createElement("div",{className:a.buttons},s.createElement(n.ButtonSecondaryTracked,{className:a.ctaButton,onClick:this.hideModal,trackingProperties:{optedOut:this.state.optedOut}},"Cancel"),s.createElement(n.ButtonPrimaryTracked,{className:a.ctaButton,onClick:this.onCreateFile,disabled:!this.state.selectedTile,trackingProperties:this.getTemplateTrackingProperties(),autoFocus:!0},"Create File"))))}}v.displayName="FileTemplateModal";t.FileTemplateModal=h.connect((e,t)=>{const i={},s=e.templateFiles;return Object.keys(s).forEach(t=>{const l=s[t].map(t=>f.getHubFileById(t,e.hubFiles)).filter(e=>e!==S.emptyHubFile);(null==l?void 0:l.length)>0&&(i[t]=l)}),Object.assign(Object.assign({templateFilesByCategory:i,seenTooltip:!!e.userFlags.seen_file_template_dropdown_tooltip},y.getNewFileInfoState(e)),t)})(b.asTrackedContext(v)),t.FILE_TEMPLATE_MODAL=o.registerModal(t.FileTemplateModal,"File Template Modal")}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const l=t(113                                     ),o=t(1438                                                                  );i.fileTemplateModal=(e=>i=>(function(t){if(l.fileBrowser.selectView.matches(t)){const{selectedView:i,modalShown:a}=e.getState();(null==i?void 0:i.view)!==t.payload.view&&(null==a?void 0:a.type)===o.FILE_TEMPLATE_MODAL.type&&e.dispatch(l.fileBrowser.hideModal())}return i(t)}))}),
(function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=s(113                                     ),a=s(207                                   ),t=s(468                                        ),l=s(211              ),p=s(85                   ),r=s(215                                          ),o=s(209                ),u=s(797                              ),c=s(440                          ),d=s(764                                       ),g=s(304              ),f=s(1118                               ),_=s(111          );l.desktopApp&&l.desktopApp.isFileBrowserTab()&&p.default().user_data&&p.default().user_data.id&&l.desktopApp.setUser(p.default().user_data.id),i.initializeDesktopAppMessageHandler=function(e){l.desktopApp&&l.desktopApp.setMessageHandler((i,s)=>{if("newFile"===i){let i=s.info;i||(i=o.getNewFileInfo(e.getState(),!0,!0)),e.dispatch(a.fullscreen.new_(i))}else if("openFile"===i&&l.desktopApp.isFileTab())e.dispatch(n.fileBrowser.selectView({view:"fullscreen",fileKey:s.fileKey}));else if("handleAction"===i&&l.desktopApp.isFileTab()){const e={};s.source&&(e.source=s.source),r.fullscreen.triggerAction(s.action,e)}else if("handleUrl"===i){f.parseAndCacheQueryParams(s.params);const i=t.pathToSelectedView(e.getState(),s.path,s.params);i&&e.dispatch(n.fileBrowser.selectView(i))}else if("handleUrlParams"===i)e.dispatch(n.fileBrowser.handleUrlParamsForCurrentView({params:s.params,hash:s.hash}));else if("handlePluginMenuAction"===i){let i=e.getState();if(!s.pluginMenuAction||!d.PluginMenu.isMenuAction(s.pluginMenuAction))return;u.runPluginMenuAction({editingFileKey:i.editingFileKey,publishedPlugins:i.publishedPlugins,installedPluginVersions:c.getInstalledPluginVersions(i),localPlugins:i.localPlugins,orgEntity:g.getOrgPermissionEntity(i)},"osmenu",s.pluginMenuAction)}else"segmentTrackEvent"===i&&_.segmentTrackEvent(s.event,s.params||void 0)})}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.batchedSubscribe=function(e){let t=[],n=t;function c(){n===t&&(n=t.slice())}function s(e){let t=!0;return c(),n.push(e),function(){if(!t)return;t=!1,c();const s=n.indexOf(e);n.splice(s,1)}}function i(){const e=t=n;for(let t=0;t<e.length;t++)e[t]()}return t=>(n,c)=>{const u=t(n,c);return Object.assign(Object.assign({},u),{dispatch:t=>{const n=u.dispatch(t);return e(i),n},subscribe:s,subscribeImmediate:u.subscribe})}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=a(1441                   ),l=a(307           );t.frameReduxBatcher=function(e,t){let a=!1,n=null;function r(){if(l.setLastFrameCallback(r),a=!0,e&&e(),n){const e=n;n=null,e()}t&&t()}return c.batchedSubscribe(e=>{a||(l.setLastFrameCallback(r),a=!0),n=e})}}),
(function(t,i,e){t.exports={container:"desktop_app_interstitial--container--2yR19",logo:"desktop_app_interstitial--logo--1wbd4",message:"desktop_app_interstitial--message--13TB9",link:"desktop_app_interstitial--link--2R1dS",fadeIn:"desktop_app_interstitial--fadeIn--3yMQE"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(2,1    ),i=s(1443                            ),a=s(287                ),p=s(111          );class o extends n.PureComponent{constructor(e){super(e),this.onOpenHereInstead=(()=>{this.props.onDismiss(),p.segment.track("desktop_links",{action:"interstitial_manually_opened_in_browser"})}),this.state={opened:!1},a.openUrlInDesktopApp(location.href).then(e=>{e?(this.setState({opened:!0}),p.segment.track("desktop_links",{action:"opened_in_app",source:"interstitial"})):(this.props.onDismiss(),p.segment.track("desktop_links",{action:"open_in_app_rejected",source:"interstitial"}))}).catch(()=>{p.segment.track("desktop_links",{action:"open_in_app_failed",source:"interstitial"})})}render(){const e=this.state.opened;return n.createElement("div",{className:i.container},n.createElement("img",{className:i.logo,src:"https://static.figma.com/uploads/4b89b0019d5bf132ee5a6e2d8bec2ed29b5256ed"}),n.createElement("div",{className:i.message},e?"Opened":"Opening"," “",this.props.file.name,"” in Figma app",e?"":"…"),n.createElement("div",{className:i.link,onClick:this.onOpenHereInstead},"Open here instead"))}}t.DesktopAppInterstitial=o,o.displayName="DesktopAppInterstitial"}),
(function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e(2,1    ),s=e(141              ),n=e(421                                ),p=e(113                                     ),r=e(232                       );e(1351                            );const d=e(775                );class h extends s.Component{constructor(o){super(o),this.hideTooltips=(()=>{this.props.reduxState&&this.props.reduxState.tooltip.state===r.TooltipState.SHOWING&&this.props.reduxState.dispatch(n.tooltip.hide())}),this.dropdownShowing=(()=>this.props.reduxState&&this.props.reduxState.dropdownShown),this.hideDropdown=(()=>{this.props.reduxState&&this.dropdownShowing()&&this.props.reduxState.dispatch(p.fileBrowser.hideDropdown())}),this.hideDropdownsIfShowing=s.mouseEvent(this,"click",o=>{if(this.hideTooltips(),!this.dropdownShowing())return s.SKIP_RECORDING;this.hideDropdown()})}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),window.addEventListener("blur",this.hideDropdownsIfShowing)}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("blur",this.hideDropdownsIfShowing)}render(){return i.createElement("div",{className:d.app,onClick:this.hideDropdownsIfShowing,onMouseDown:this.hideDropdownsIfShowing,onTouchStart:this.hideDropdownsIfShowing},i.createElement("div",{className:d.content},this.props.children))}}t.InAppPage=h,h.displayName="InAppPage"}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.EventState=class{constructor(t){this.id=t.id,this.definition=t}onEnter(){return this.id}matchesConditional(t,e){return!t.conditions||t.conditions.map(t=>e.properties&&("EQUALS"===t.operator&&e.properties[t.field]===t.value||"NOT_EQUALS"===t.operator&&e.properties[t.field]!==t.value||"GREATER_THAN"===t.operator&&e.properties[t.field]>t.value||"LESS_THAN"===t.operator&&e.properties[t.field]<t.value)).reduce((t,e)=>t&&e,!0)}onEvent(t){for(const e in this.definition.transitions){const i=this.definition.transitions[e];if(i.eventId===t.id&&this.matchesConditional(i,t))return i.destinationStateId}return this.id}awaitingEventIds(){return new Set(this.definition.transitions.map(t=>t.eventId))}category(){}}}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ActionState=class{constructor(t,e){this.id=t.id,this.definition=t,this.actionInterpreter=e}onEnter(t){return this.actionInterpreter.handleAction(this.definition.payload,t),this.definition.destinationStateId}onEvent(t){throw new Error("Illegal State: Should not receive events in ")}awaitingEventIds(){return new Set}category(){return this.definition.category}}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DataState=class{constructor(t,e){this.id=t.id,this.definition=t,this.queryProcessor=e}onEnter(){const t=this.queryProcessor.execute(this.definition.query);for(let e of this.definition.transitions){let i=e.value;if("function"==typeof e.value&&(i=e.value()),"EQUALS"===e.operator&&i===t)return e.destinationStateId;if("NOT_EQUALS"===e.operator&&i!==t)return e.destinationStateId;if("GREATER_THAN"===e.operator&&i<t)return e.destinationStateId;if("LESS_THAN"===e.operator&&i>t)return e.destinationStateId}}onEvent(t){throw new Error("Illegal State: Should not receive events in ")}awaitingEventIds(){return new Set}category(){}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1446),a=s(1447),n=s(1448);class c{constructor(t){this.machines={};for(const e of t)this.machines[e.id]=e}static fromJson(t,e,s){return new c(t.map(t=>{const c={};return t.states.forEach(t=>{switch(t.type){case"ACTION":return void(c[t.id]=new a.ActionState(t,s));case"EVENT":return void(c[t.id]=new i.EventState(t));case"DATA":return void(c[t.id]=new n.DataState(t,e))}}),{id:t.id,initialState:c[t.initialStateId],resetState:t.resetStateId?c[t.resetStateId]:void 0,states:c}}))}get(t){return this.machines[t]}getTriggeredMachines(t){const e=[];for(const s in this.machines)this.machines[s].initialState.awaitingEventIds().has(t)&&e.push(this.machines[s]);return e}getResettableMachines(){const t=[];for(const e in this.machines)this.machines[e].resetState&&t.push(this.machines[e]);return t}allMachines(){return Object.keys(this.machines).map(t=>this.machines[t])}}e.JsonMachineProvider=c}),
(function(e,t,s){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ACTIVE="active",e.COMPLETED="complete"}(n=t.MachineProgress||(t.MachineProgress={}));t.InMemoryUserMachineContextProvider=class{constructor(){this.userToContexts=new Map}getActive(e,t){return this.getContexts(e).filter(e=>e.progress===n.ACTIVE&&e.awaitingEventIds&&e.awaitingEventIds.has(t)).map(e=>Object.assign({},e))}getActiveOrCompletedMachineIds(e){return new Set(this.getContexts(e).map(e=>e.machineId))}persist(e){const t=this.getContexts(e.userId).filter(t=>t.machineId!==e.machineId);t.push(e),this.userToContexts.set(e.userId,t)}getContexts(e){return this.userToContexts.get(e)||[]}}}),
(function(t,n,r){"use strict";
// The MIT License (MIT)
// Copyright (c) 2010-2016 Robert Kieffer and other contributors
// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
Object.defineProperty(n,"__esModule",{value:!0});const e=[];for(var o=0;o<256;++o)e[o]=(o+256).toString(16).substr(1);const u=new Uint8Array(16);n.uuidv4=function(){let t=0;for(let n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),u[n]=t>>>((3&n)<<3)&255;return u[6]=15&u[6]|64,u[8]=63&u[8]|128,function(t){let n=0;return[e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]]].join("")}(u)}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(1450),s=i(1451);t.Handler=class{constructor(e,t,i){this.machineProvider=e,this.userMachineContextProvider=t,this.userCategoryContextProvider=i,this.logLevel=void 0,this.trace=((e,...t)=>{"trace"===this.logLevel&&console.log(e,...t)}),this.debug=((e,...t)=>{"debug"!==this.logLevel&&"trace"!==this.logLevel||console.log(e,...t)})}actionCompleted(e,t){this.newHandler().actionCompleted(e,t)}handle(e){this.newHandler().handle(e)}reset(e){this.newHandler().reset(e)}newHandler(){return new o(this.machineProvider,this.userMachineContextProvider,this.userCategoryContextProvider,this.trace,this.debug)}};class o{constructor(e,t,i,r,s){this.machineProvider=e,this.userMachineContextProvider=t,this.userCategoryContextProvider=i,this.trace=r,this.debug=s,this.categoryToActions=new Map}handle(e){if(this.debug("[RCS] received event",e),!e.userId)return;this.userMachineContextProvider.getActive(e.userId,e.id).forEach(t=>{this.processFlowStateFromEvent(this.machineProvider.get(t.machineId),t,e)});const t=this.userMachineContextProvider.getActiveOrCompletedMachineIds(e.userId);this.machineProvider.getTriggeredMachines(e.id).forEach(i=>{if(t.has(i.id))return;const s={userId:e.userId,machineId:i.id,progress:r.MachineProgress.ACTIVE,currentStateId:i.initialState.id};this.processFlowStateFromEvent(i,s,e)}),this.processQueuedActions(e.userId)}processQueuedActions(e){this.trace("[RCS] Processing queued actions.",this.categoryToActions),this.categoryToActions.forEach((t,i)=>{let r=this.categoryToActions.get(i);this.categoryToActions.delete(i),r&&this.processQueuedActionsInCategory(e,i,r)}),this.trace("[RCS] Finished processing queued actions.")}processQueuedActionsInCategory(e,t,i){const s=this.userCategoryContextProvider.get(e,t);let o=!1;for(;i.length>0&&null===s.currentAction;){i.sort((e,t)=>t.priority-e.priority);const n=i.shift();if(n){this.trace("[RCS] Found action to do: ",n);const c=n.state.onEnter(n.uuid),a=()=>{s.currentAction={machineId:n.machine.id,stateId:n.state.id,actionUuid:n.uuid,nextStateId:c}},d=()=>{this.processFlow(n.machine,{userId:e,machineId:n.machine.id,progress:r.MachineProgress.ACTIVE},n.state,c);const s=this.categoryToActions.get(t);s&&(this.categoryToActions.delete(t),i.push(...s))},h=n.state.category();h&&"UNTIL_COMPLETE"===h.blocking?(this.trace(`[RCS] Blocking for category=${t}`,s.currentAction),a(),this.userMachineContextProvider.persist({machineId:n.machine.id,currentStateId:n.state.id,progress:r.MachineProgress.ACTIVE,userId:e})):h&&"ONCE"===h.blocking?(this.trace(`[RCS] Blocking ONCE for category=${t} and processing flow for machine=${n.machine.id}`,s.currentAction),o=!0,a(),d()):(this.trace(`[RCS] Action not blocking stateId=${n.state.id}, processing flow for machine=${n.machine.id}`),d())}}i.forEach(t=>{t.previousStateId?this.processFlow(t.machine,{userId:e,progress:r.MachineProgress.ACTIVE,currentStateId:t.previousStateId,machineId:t.machine.id,awaitingEventIds:t.machine.states[t.previousStateId].awaitingEventIds()},t.state,t.previousStateId):s.actionQueue.push({machineId:t.machine.id,stateId:t.state.id,actionUuid:t.uuid})}),this.trace(`[RCS] Persisting ${s.actionQueue.length} actions queued for category=${s.category}`,s),this.userCategoryContextProvider.persist(e,s),o&&s.currentAction&&s.currentAction.actionUuid&&this.actionCompleted(e,s.currentAction.actionUuid)}actionCompleted(e,t){const i=this.userCategoryContextProvider.getFromActionUuid(t);this.trace(`[RCS] actionCompleted userId=${e} uuid=${t}`,i),i&&(this.enqueueSavedActionsFromCategory(e,i),i.currentAction&&this.processFlowAfterAction(e,i.currentAction),this.processQueuedActions(e))}processFlowAfterAction(e,t){const i=this.machineProvider.get(t.machineId),s=i.states[t.stateId];this.processFlow(i,{userId:e,progress:r.MachineProgress.ACTIVE,machineId:i.id},s,t.nextStateId)}enqueueSavedActionsFromCategory(e,t){const i=t.actionQueue.map(e=>{const t=this.machineProvider.get(e.machineId),i=t.states[e.stateId],r=i.category();return{uuid:e.actionUuid||s.uuidv4(),machine:t,state:i,priority:r.priority}});this.trace(`[RCS] Enqueueing ${i.length} saved actions.`,i),this.categoryToActions.set(t.category,i),this.userCategoryContextProvider.persist(e,{category:t.category,currentAction:null,actionQueue:[]})}processFlowStateFromEvent(e,t,i){if(!t.currentStateId)return;this.trace("[RCS] Processing event:",i," for machine:",e);let r=e.states[t.currentStateId];this.trace(`[RCS] machine=${e.id} currentState=${r.id}`);let s=r.onEvent(i);this.processFlow(e,t,r,s)}checkForActionAndEnqueue(e,t,i){const r=t.category();if(void 0!==r){let o=this.categoryToActions.get(r.name);return o||(o=[]),o.push({machine:e,state:t,priority:r.priority,uuid:s.uuidv4(),previousStateId:r.whenBlockedStateId||("BACK"===r.whenBlocked?i:void 0)}),this.categoryToActions.set(r.name,o),!0}return!1}processFlow(e,t,i,o){const n=i.id;for(;o&&o!==i.id&&(this.trace(`[RCS] machine=${e.id} currentState=${o}`),i=e.states[o],!this.checkForActionAndEnqueue(e,i,n));)o=i.onEnter(s.uuidv4());o?(t.currentStateId=i.id,t.awaitingEventIds=i.awaitingEventIds()):(t.currentStateId=void 0,t.awaitingEventIds=void 0,t.progress=r.MachineProgress.COMPLETED),this.userMachineContextProvider.persist(t),this.trace("[RCS] finished processing flow. Current context:",t)}reset(e){this.trace("[RCS] Processing reset for userId:",e);const t=this.machineProvider.getResettableMachines();this.trace("[RCS] resetting machines: ",t.map(e=>e.id));for(let i of t){let t=i.resetState;if(t){const o={userId:e,machineId:i.id,progress:r.MachineProgress.ACTIVE,currentStateId:t.id};this.trace(`[RCS] machine=${i.id} currentState=${t.id}`);const n=t.onEnter(s.uuidv4());this.processFlow(i,o,t,n)}}this.processQueuedActions(e)}}}),
(function(t,e,i){"use strict";var n,s;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.UNREACHABLE_STATE="Unreachable State",t.DANGLING_TRANSITION="Dangling Transition",t.BLOCKED_ACTION_ERROR="Blocked Action Error"}(n=e.ValidationError||(e.ValidationError={})),function(t){t.MISSING_INITIAL_STATE="initialStateId is specified but no corresponding state exists",t.MISSING_RESET_STATE="resetStateId is specified but no corresponding state exists",t.MISSING_DESTINATION_STATE="destinationStateId or whenBlockedStateId is specified but no corresponding state exists",t.UNREACHABLE_STATE="state is unreachable",t.INFINITE_LOOP_WHEN_BLOCKED="whenBlockedStateId specifies a node that can lead back to this node which could result in an infinite loop",t.NO_SAME_CATEGORY_ACTION_AFTER_BLOCK_WITH_BACK="You may not have an ACTION state with whenBlocked=BACK following a blocking action, this will result in your machine never completing the second action."}(s||(s={}));class a{constructor(t,e,i){this.errorType=t,this.message=e,this.stateId=i}static missingInitialState(t){return new a(n.DANGLING_TRANSITION,s.MISSING_INITIAL_STATE,t)}static missingResetState(t){return new a(n.DANGLING_TRANSITION,s.MISSING_RESET_STATE,t)}static missingDestinationState(t){return new a(n.DANGLING_TRANSITION,s.MISSING_DESTINATION_STATE,t)}static unreachableState(t){return new a(n.UNREACHABLE_STATE,s.UNREACHABLE_STATE,t)}static infiniteLoop(t){return new a(n.BLOCKED_ACTION_ERROR,s.INFINITE_LOOP_WHEN_BLOCKED,t)}static blockFollowingBlock(t){return new a(n.BLOCKED_ACTION_ERROR,s.NO_SAME_CATEGORY_ACTION_AFTER_BLOCK_WITH_BACK,t)}toString(){return`[${this.errorType}] ${this.message} stateId=${this.stateId}`}}e.MachineError=a;e.MachineValidator=class{constructor(t){this.machine=t}existsStateWithId(t){return this.machine.states.some(e=>e.id===t)}getOutEdges(t){const e=new Set;switch(t.type){case"EVENT":case"DATA":const i=t;for(const t of i.transitions)t.destinationStateId&&e.add(t.destinationStateId);break;case"ACTION":const n=t;n.destinationStateId&&e.add(n.destinationStateId),n.category&&n.category.whenBlockedStateId&&e.add(n.category.whenBlockedStateId)}return e}findErrors(){const t=[];return this.existsStateWithId(this.machine.initialStateId)||t.push(a.missingInitialState(this.machine.initialStateId)),this.machine.resetStateId&&!this.existsStateWithId(this.machine.resetStateId)&&t.push(a.missingResetState(this.machine.resetStateId)),this.findDanglingTransitions().forEach(e=>t.push(a.missingDestinationState(e))),this.findUnreachableStates().forEach(e=>t.push(a.unreachableState(e))),this.findInfiniteLoops().forEach(e=>t.push(a.infiniteLoop(e))),this.findBackActionsAfterBlockingActions().forEach(e=>t.push(a.blockFollowingBlock(e))),t}findDanglingTransitions(){const t=new Set;for(let e of this.machine.states)this.getOutEdges(e).forEach(e=>{this.existsStateWithId(e)||t.add(e)});return t}findUnreachableStates(){const t=new Set(this.machine.states.map(t=>t.id)),e=new Set,i=[this.machine.initialStateId];for(this.machine.resetStateId&&i.push(this.machine.resetStateId);0!==i.length;){const n=i.pop();if(n&&!e.has(n)){t.delete(n);const s=this.machine.states.find(t=>t.id===n);s&&this.getOutEdges(s).forEach(t=>i.push(t)),e.add(n)}}return t}findInfiniteLoops(){const t=new Set,e=(t,i,n=new Set)=>{let s=!1;const a=this.getState(i);if(!a)return!1;for(let r of this.getOutEdges(a)){if(r===t)return!0;if(n.has(r))return!1;n.add(r),s=s||e(t,r,n)}return s};return this.machine.states.filter(t=>"ACTION"===t.type&&t.category&&t.category.whenBlockedStateId).forEach(i=>{e(i.id,i.id)&&t.add(i.id)}),t}findBackActionsAfterBlockingActions(){const t=new Set,e=(t,i=new Set)=>{for(let n of this.getOutEdges(t)){const t=this.getState(n);if(t){if("ACTION"===t.type&&t.category&&"BACK"===t.category.whenBlocked&&!t.category.whenBlockedStateId)return!0;if(i.has(n)||"EVENT"===t.type)return!1;if(i.add(n),e(t,i))return!0}}return!1};return this.machine.states.filter(t=>"ACTION"===t.type&&t.category&&t.category.blocking).forEach(i=>{e(i)&&t.add(i.id)}),t}getState(t){return this.machine.states.filter(e=>e.id===t)[0]}}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.InMemoryUserCategoryContextProvider=class{constructor(){this.categoryToUuid=new Map,this.uuidToContext=new Map,this.userToCategoryToContext=new Map}get(t,e){const o=this.userToCategoryToContext.get(t);if(o){const t=o.get(e);if(t)return JSON.parse(JSON.stringify(t))}return{category:e,currentAction:null,actionQueue:[]}}persist(t,e){let o=this.userToCategoryToContext.get(t);o||(o=new Map,this.userToCategoryToContext.set(t,o));const r=JSON.parse(JSON.stringify(e));o.set(e.category,r);const i=this.categoryToUuid.get(e.category);i&&this.uuidToContext.delete(i),null!==e.currentAction&&e.currentAction.actionUuid?(this.uuidToContext.set(e.currentAction.actionUuid,r),this.categoryToUuid.set(e.category,e.currentAction.actionUuid)):this.categoryToUuid.delete(e.category)}getFromActionUuid(t){return this.uuidToContext.get(t)}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(1456);var n;!function(e){e.GREEN="#0FA958",e.BLUE="#699BF7",e.PURPLE="#A259FF"}(n=t.NodeColors||(t.NodeColors={}));t.MachineVisualizer=class{constructor(){this.generateActionCategoryLabel=(e=>`<font point-size="12"><b>category</b> <br />name: ${e.name}, <br />`+`priority: ${e.priority}, <br />`+`blocking: ${e.blocking}, <br />`+`whenBlocked: ${e.whenBlocked}</font>`),this.drawEdge=((e,t,i)=>{let a=`\n"${e}" -> "${t}"`;return i&&(a+=` [label=${i}]`),a}),this.getNextState=((e,t)=>{let i;do{i=t.shift()}while(i&&e.has(i));return[i,t]}),this.applyStyleToNodes=((e,t)=>{let i="";return Array.from(e).forEach(e=>{const a=t.reduce((e,t)=>`${e} ${t}`);i+=`\n"${e}" [${a}]`}),i})}generateGraphViz(e){if(new a.MachineValidator(e).findErrors().length>0)throw new Error(`Cannot generate visualization: ${e.id} has errors!`);let t=new Set,i=[],o=new Set,r=new Set,d=new Set,s="";for(i.push(e.initialStateId),s+=`digraph "${e.id}" {`,s+="\nnode [fontsize=14]",s+="\nedge [fontsize=10]";i.length>0;){let[a,n]=this.getNextState(t,i);i=n;const l=!!a&&e.states.find(e=>e.id===a);if(!l)continue;let c=[];switch(l.type){case"EVENT":c=l.transitions.map(e=>e.destinationStateId).filter(e=>void 0!==e),l.transitions.forEach(e=>{let t="";e.conditions&&e.conditions.forEach(e=>{t+=`${e.operator} ${e.value} `}),e.destinationStateId&&(s+=this.drawEdge(l.id,e.destinationStateId,`"${e.eventId} ${t}"`))}),d.add(l.id);break;case"DATA":c=l.transitions.map(e=>e.destinationStateId).filter(e=>void 0!==e),l.transitions.forEach(e=>{const t=`"${l.query.constructor.name}(${this.attributesForDataQuery(l.query)}) `+`${e.operator} ${e.value}"`;s+=this.drawEdge(l.id,e.destinationStateId,t)}),o.add(l.id);break;case"ACTION":const e=l.category;e&&(s+=`\n"${l.id}" [label=<${l.id}<br /><br />${this.generateActionCategoryLabel(e)}>]`,e.whenBlockedStateId&&(s+=this.drawEdge(l.id,e.whenBlockedStateId,"whenBlocked"))),l.destinationStateId&&(c.push(l.destinationStateId),s+=this.drawEdge(l.id,l.destinationStateId)),r.add(l.id)}c.forEach(e=>{t.has(e)||i.push(e)}),t.add(l.id)}return s+=this.applyStyleToNodes(r,["shape=triangle","style=filled",`fillcolor="${n.GREEN}"`]),s+=this.applyStyleToNodes(o,["shape=circle","style=filled",`fillcolor="${n.BLUE}"`]),s+=this.applyStyleToNodes(d,["shape=square","style=filled",`fillcolor="${n.PURPLE}"`]),s+='\nlabelloc="t"',s+=`\nlabel="${e.id}"`,s+="\n}"}attributesForDataQuery(e){const t=Object.values(e);return t.reduce((e,i,a)=>(e+=`${i}`,a<t.length-1&&(e+=", "),e),"")}}}),
(function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=o(1449);r.JsonMachineProvider=n.JsonMachineProvider;const i=o(1452);r.Handler=i.Handler;const t=o(1450);r.InMemoryUserMachineContextProvider=t.InMemoryUserMachineContextProvider;const a=o(1453);r.MachineValidator=a.MachineValidator;const c=o(1454);r.InMemoryUserCategoryContextProvider=c.InMemoryUserCategoryContextProvider;const s=o(1455);r.MachineVisualizer=s.MachineVisualizer}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(830                                                  ),n=o(1115                                         ),i=o(1116                                 ),r=o(1119                                              ),s={id:"onboard_orgs_welcome",initialStateId:"await_file_browser",states:[{id:"await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:a.TrackedContext.FILE_BROWSER}],destinationStateId:"check_in_org_space"}]},{id:"check_in_org_space",type:"DATA",query:new r.UserSpaceQuery,transitions:[{operator:"EQUALS",value:a.UserSpace.ORG,destinationStateId:"data_check_have_shown_before"},{operator:"NOT_EQUALS",value:a.UserSpace.PERSONAL,destinationStateId:"await_file_browser"}]},{id:"data_check_have_shown_before",type:"DATA",query:new r.UserFlagQuery(n.OrgWelcome.userFlag),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.OrgWelcome]}},category:{blocking:"UNTIL_COMPLETE",name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.DEFAULT_ONBOARDING_MODAL,whenBlocked:"BACK"}}]};t.default=s}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(1115                                         ),n=a(1116                                 ),o=a(1119                                              ),d={id:"onboard_smart_selection",initialStateId:"await_select",resetStateId:"reset_await_select",states:[{id:"await_select",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"NOT_EQUALS",field:"detectableListAxis",value:null},{operator:"NOT_EQUALS",field:"detectableListAxis",value:void 0}],destinationStateId:"data_check_have_shown_before"}]},{id:"reset_await_select",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"NOT_EQUALS",field:"detectableListAxis",value:null},{operator:"NOT_EQUALS",field:"detectableListAxis",value:void 0}],destinationStateId:"show_onboarding"}]},{id:"data_check_have_shown_before",type:"DATA",query:new o.UserFlagQuery("smart_selection_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"data_check_user_can_edit"},{operator:"EQUALS",value:!0,destinationStateId:"await_reset_onboarding"}]},{id:"data_check_user_can_edit",type:"DATA",query:new o.InEditorAndCanEditQuery,transitions:[{operator:"EQUALS",value:!1,destinationStateId:"await_select"},{operator:"EQUALS",value:!0,destinationStateId:"show_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[i.TidyUp]}},destinationStateId:"await_deselect",category:{blocking:"NEVER",name:n.RcsCategories.ONBOARDING_MODAL,priority:n.RcsPriorities.SECONDARY_ONBOARDING_MODAL,whenBlocked:"BACK"}},{id:"await_deselect",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"EQUALS",field:"detectableListAxis",value:null}],destinationStateId:"hide_onboarding"},{eventId:"CTA Clicked",conditions:[{operator:"EQUALS",field:"trackingContext",value:"Smart Selections Onboarding Modal"}],destinationStateId:"await_reset_onboarding"}]},{id:"hide_onboarding",type:"ACTION",payload:{type:"hide_content"},destinationStateId:"await_reset_onboarding"},{id:"await_reset_onboarding",type:"EVENT",transitions:[{eventId:"Reset Onboarding",destinationStateId:"await_select"}]}]};t.default=d}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=l(113                                     ),a=l(130                     ),i=l(207                                   ),s=l(209                );t.OPEN_CREATE_TEAM_PAGE=(()=>a.globalReduxStore.dispatch(o.fileBrowser.selectView({view:"teamCreation"}))),t.OPEN_NEW_FILE=(()=>{const e=a.globalReduxStore.getState();a.globalReduxStore.dispatch(i.fullscreen.new_(s.getNewFileInfo(e,!1)))}),t.OPEN_CREATE_PROJECT_MODAL=(()=>{const e=a.globalReduxStore.getState();"teamId"in e.selectedView&&e.selectedView.teamId&&a.globalReduxStore.dispatch(o.fileBrowser.openNewFolderModal({where:"folder-list-view",teamId:e.selectedView.teamId}))}),t.REDIRECT_TO_PLUGINS=(()=>{a.globalReduxStore.dispatch(o.fileBrowser.selectView({view:"communityHub",subView:"dashboard"}))})}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(830                                                  ),n=a(1115                                         ),i=a(1120                                                   ),r=a(85                   ),d=a(1119                                              );function s(e){const t=e.filter(e=>!e.featureFlag||r.getFeatureFlags()[e.featureFlag]),a=i.createDataBranch(t,[]);return{id:"onboard_file_browser_updates",initialStateId:"await_file_browser",states:[{id:"await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.FILE_BROWSER}],destinationStateId:"has_onboarded_file_browser"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.TEAM_PAGE}],destinationStateId:"has_onboarded_file_browser"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.ORG_PAGE}],destinationStateId:"has_onboarded_file_browser"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.COMMUNITY_HUB}],destinationStateId:"has_onboarded_file_browser"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.USER_DETAILS}],destinationStateId:"has_onboarded_file_browser"}]},{id:"has_onboarded_file_browser",type:"DATA",query:new d.UserFlagQuery("file_browser_onboarded"),transitions:[{operator:"EQUALS",value:!0,destinationStateId:a.initialStateId}]},...a.states]}}t.createFileBrowserUpdateMachine=s,t.FileBrowserUpdates=[{userFlag:n.CoCoLanding.userFlag,steps:[n.CoCoLanding]}];const _=s(t.FileBrowserUpdates);t.default=_}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(830                                                  ),n=a(1120                                                   ),i=a(1115                                         ),r=a(1459                                           ),d=a(1119                                              ),s=a(1460                                                                        ),_=["file_browser_onboarded","community_hub_onboarded"].concat(s.FileBrowserUpdates.map(e=>e.userFlag)),c=n.welcomeOnboardingSequenceMachine({initialStateId:"onboarding_team",sequence:{steps:[i.CreateTeam],onComplete:r.OPEN_CREATE_TEAM_PAGE,userFlagsOnComplete:_},exitStateId:"completed_team_await_file_browser"}),l=n.welcomeOnboardingSequenceMachine({initialStateId:"onboard_file",sequence:{steps:[i.Import,i.OpenFile],onComplete:r.OPEN_NEW_FILE,userFlagsOnComplete:_}}),p=n.welcomeOnboardingSequenceMachine({initialStateId:"onboard_org",sequence:{steps:[i.OrgWelcome,i.Import,i.OpenFile],onComplete:r.OPEN_NEW_FILE,userFlagsOnComplete:_}}),S=n.welcomeOnboardingSequenceMachine({initialStateId:"onboard_file_after_editor",sequence:{steps:[i.Import],userFlagsOnComplete:_}}),u=n.welcomeOnboardingSequenceMachine({initialStateId:"onboard_org_after_editor",sequence:{steps:[i.OrgWelcome,i.Import],userFlagsOnComplete:_}}),m={id:"onboard_file_browser",initialStateId:"await_file_browser",resetStateId:"check_current_view",states:[{id:"await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.FILE_BROWSER}],destinationStateId:"data_check_have_shown_before"}]},{id:"check_current_view",type:"DATA",query:new d.SelectedViewQuery,transitions:[{operator:"EQUALS",value:o.TrackedContext.FILE_BROWSER,destinationStateId:"check_in_org_space"},{operator:"NOT_EQUALS",value:o.TrackedContext.FILE_BROWSER,destinationStateId:"reset_await_file_browser"}]},{id:"reset_await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.FILE_BROWSER}],destinationStateId:"check_in_org_space"}]},{id:"data_check_have_shown_before",type:"DATA",query:new d.UserFlagQuery("file_browser_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"check_in_org_space"}]},{id:"check_in_org_space",type:"DATA",query:new d.UserSpaceQuery,transitions:[{operator:"EQUALS",value:o.UserSpace.ORG,destinationStateId:"data_check_editor_onboarded_for_org"},{operator:"NOT_EQUALS",value:o.UserSpace.ORG,destinationStateId:"check_needs_team"}]},{id:"data_check_editor_onboarded",type:"DATA",query:new d.UserFlagQuery("editor_onboarded"),transitions:[{operator:"EQUALS",value:!0,destinationStateId:S.initialStateId},{operator:"EQUALS",value:!1,destinationStateId:l.initialStateId}]},{id:"data_check_editor_onboarded_for_org",type:"DATA",query:new d.UserFlagQuery("editor_onboarded"),transitions:[{operator:"EQUALS",value:!0,destinationStateId:u.initialStateId},{operator:"EQUALS",value:!1,destinationStateId:p.initialStateId}]},{id:"check_needs_team",type:"DATA",query:new d.TeamCountQuery,transitions:[{operator:"NOT_EQUALS",value:0,destinationStateId:"data_check_editor_onboarded"},{operator:"EQUALS",value:0,destinationStateId:c.initialStateId}]},{id:"completed_team_await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.FILE_BROWSER}],destinationStateId:"data_check_editor_onboarded"}]},...c.states,...l.states,...p.states,...S.states,...u.states]};t.default=m}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(1115                                         ),n=a(1459                                           ),i=a(830                                                  ),r=a(1116                                 ),_=a(1119                                              ),d={id:"onboard_create_page",initialStateId:"await_team_page",resetStateId:"check_current_view",states:[{id:"await_team_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.TEAM_PAGE},{operator:"EQUALS",field:"numProjects",value:0}],destinationStateId:"data_check_have_shown_before"}]},{id:"data_check_have_shown_before",type:"DATA",query:new _.UserFlagQuery("create_project_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_onboarding"}]},{id:"check_current_view",type:"DATA",query:new _.SelectedViewQuery,transitions:[{operator:"EQUALS",value:i.TrackedContext.TEAM_PAGE,destinationStateId:"show_onboarding"},{operator:"NOT_EQUALS",value:i.TrackedContext.TEAM_PAGE,destinationStateId:"reset_await_team_page"}]},{id:"reset_await_team_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.TEAM_PAGE},{operator:"EQUALS",field:"numProjects",value:0}],destinationStateId:"show_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[o.CreateProject],onComplete:n.OPEN_CREATE_PROJECT_MODAL}},category:{blocking:"UNTIL_COMPLETE",name:r.RcsCategories.ONBOARDING_MODAL,priority:r.RcsPriorities.DEFAULT_ONBOARDING_MODAL,whenBlocked:"BACK"}}]};t.default=d}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(1116                                 ),a=n(1115                                         ),i={id:"onboard_opentype",initialStateId:"await_text",resetStateId:"reset_await_text",states:[{id:"await_text",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"NOT_EQUALS",field:"numSelectedTextNodes",value:0}],destinationStateId:"data_check_have_shown_before"}]},{id:"reset_await_text",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"NOT_EQUALS",field:"numSelectedTextNodes",value:0}],destinationStateId:"show_onboarding"}]},{id:"data_check_have_shown_before",type:"DATA",query:new(n(1119                                              ).UserFlagQuery)("opentype_onboarded"),transitions:[{operator:"EQUALS",value:!0,destinationStateId:"await_reset_onboarding"},{operator:"EQUALS",value:!1,destinationStateId:"show_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.OpenType]}},destinationStateId:"await_hide",category:{blocking:"NEVER",name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.SECONDARY_ONBOARDING_MODAL,whenBlocked:"BACK"}},{id:"await_hide",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"EQUALS",field:"numSelectedTextNodes",value:0}],destinationStateId:"hide_onboarding"},{eventId:"CTA Clicked",conditions:[{operator:"EQUALS",field:"trackingContext",value:"OpenType Onboarding Modal"}],destinationStateId:"hide_onboarding"}]},{id:"hide_onboarding",type:"ACTION",payload:{type:"hide_content"},destinationStateId:"await_reset_onboarding"},{id:"await_reset_onboarding",type:"EVENT",transitions:[{eventId:"Reset Onboarding",destinationStateId:"reset_await_text"}]}]};t.default=i}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(830                                                  ),n=a(1115                                         ),i=a(1116                                 ),r=a(1119                                              ),_={id:"onboard_smart_animate",initialStateId:"await_prototype_panel",states:[{id:"await_prototype_panel",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.PROTOTYPE_PANEL}],destinationStateId:"data_check_has_onboarded_editor"}]},{id:"data_check_has_onboarded_editor",type:"DATA",query:new r.UserFlagQuery("editor_onboarded"),transitions:[{operator:"EQUALS",value:!0,destinationStateId:"data_check_have_shown_before"}]},{id:"data_check_have_shown_before",type:"DATA",query:new r.UserFlagQuery("smart_animate_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.SmartAnimate]}},category:{blocking:"UNTIL_COMPLETE",name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.DEFAULT_ONBOARDING_MODAL,whenBlocked:"BACK"}}]};t.default=_}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=o(1116                                 ),r=o(1120                                                   ),s=o(1115                                         ),a=o(1119                                              ),t=r.awaitEditor("warning_chrome_version","check_browser_version");n.WarningChromeVersionMachine={initialStateId:t.initialStateId,id:"warning_chrome_version_machine",states:[...t.states,{id:"check_browser_version",type:"DATA",query:new a.BrowserVersionQuery,transitions:[{operator:"EQUALS",value:"Chrome/77.0.3865.75",destinationStateId:"check_has_seen"},{operator:"EQUALS",value:"Chrome/77.0.3865.90",destinationStateId:"check_has_seen"},{operator:"EQUALS",value:"Chrome/77.0.3865.105",destinationStateId:"check_has_seen"}]},{id:"check_has_seen",type:"DATA",query:new a.UserFlagQuery("seen_chrome_version_warning"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"show_modal"}]},{id:"show_modal",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[s.ChromeVersionWarning]}},category:{name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.URGENT_ALERT,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"}}]}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1116                                 ),n=o(1115                                         ),s=o(1119                                              );t.RdsDowntimeAlertMachine={initialStateId:"await_rds_downtime",id:"rds_downtime_alert_machine",states:[{id:"await_rds_downtime",type:"EVENT",transitions:[{eventId:"RCS Tick",conditions:[{field:"currentTimeMs",operator:"GREATER_THAN",value:1571526e6},{field:"currentTimeMs",operator:"LESS_THAN",value:15715305e5}],destinationStateId:"check_did_show_rds_downtime_modal"}]},{id:"check_did_show_rds_downtime_modal",type:"DATA",query:new s.UserFlagQuery("seen_rds_downtime_modal"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"show_modal"}]},{id:"show_modal",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.RdsDowntimeModal]}},category:{name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.URGENT_ALERT,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"}}]}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(830                                                  ),i=n(1116                                 ),a=n(1115                                         ),s=n(1119                                              );t.DSAOnboardingMachine={id:"dsa_onboarding_machine",initialStateId:"await_view",states:[{id:"await_view",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:o.TrackedContext.ORG_PAGE}],destinationStateId:"check_if_seen"}]},{id:"check_if_seen",type:"DATA",query:new s.UserFlagQuery("dsa_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"check_non_org_guest"}]},{id:"check_non_org_guest",type:"DATA",query:new s.UserSpaceQuery,transitions:[{operator:"NOT_EQUALS",value:o.UserSpace.ORG,destinationStateId:"await_view"},{operator:"EQUALS",value:o.UserSpace.ORG,destinationStateId:"show_onboarding_gif"}]},{id:"show_onboarding_gif",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.DSAOnboarding]}},category:{name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.SECONDARY_ONBOARDING_MODAL,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"}}]}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(830                        ),a=n(1115                                         ),i=n(1119                                              ),r=n(1116                                 );t.NewTeamCreatePointerMachine={id:"new_team_create_pointer",initialStateId:"await_file_browser",states:[{id:"await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.FILE_BROWSER}],destinationStateId:"data_check_have_shown_before"}]},{id:"data_check_have_shown_before",type:"DATA",query:new i.UserFlagQuery("has_seen_new_team_create_pointer"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_new_team_pointer"}]},{id:"show_new_team_pointer",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.NewTeamCreatePointer],persistBetweenContexts:()=>!0}},category:{blocking:"NEVER",name:r.RcsCategories.ONBOARDING_MODAL,priority:r.RcsPriorities.SECONDARY_ONBOARDING_MODAL,whenBlocked:"BACK"}}]}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(830                                                  ),n=o(1116                                 ),r=o(1119                                              ),s=o(1115                                         );t.UnifiedSearchInternalPointerMachine={id:"unified_search_more_results",initialStateId:"await_unified_search",states:[{id:"await_unified_search",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.UNIFIED_SEARCH},{operator:"EQUALS",field:"showInternalModal",value:!0}],destinationStateId:"data_check_have_shown_more_results_before"}]},{id:"data_check_have_shown_more_results_before",type:"DATA",query:new r.UserFlagQuery("has_seen_unified_search_more_results_pointer"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_more_results_pointer"}]},{id:"show_more_results_pointer",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[s.UnifiedSearchMoreResultsPointer]}},category:{blocking:"NEVER",name:n.RcsCategories.ONBOARDING_MODAL,priority:n.RcsPriorities.SECONDARY_ONBOARDING_MODAL,whenBlocked:"BACK"}}]}}),
(function(e,c,t){e.exports={expandedChecklist:"checklist--expandedChecklist--33TfM modal--modal--OAB3b modal--modalShadow--HbHkT",completedChecklistHeight:"checklist--completedChecklistHeight--3uVTl",expandedChecklistAnimating:"checklist--expandedChecklistAnimating--25ULl checklist--expandedChecklist--33TfM modal--modal--OAB3b modal--modalShadow--HbHkT",collapsedChecklist:"checklist--collapsedChecklist--3EAWM modal--modalShadow--HbHkT",collapsedChecklistAnimating:"checklist--collapsedChecklistAnimating--wRgQs checklist--collapsedChecklist--3EAWM modal--modalShadow--HbHkT",fadeOut:"checklist--fadeOut--1KfVd",fadeIn:"checklist--fadeIn--1Cps0",header:"checklist--header--aiMs3",leftHeader:"checklist--leftHeader--zQh8z",title:"checklist--title--3vjuN",subtext:"checklist--subtext--3bjWy",modalImg:"checklist--modalImg--2HHfe",dropdownIcon:"checklist--dropdownIcon--16wn5",dividingLine:"checklist--dividingLine--2gcYO",checklistItem:"checklist--checklistItem--xuX_g",checklistItemTextContainer:"checklist--checklistItemTextContainer--2dcz3",checklistItemText:"checklist--checklistItemText--2UFU7",step:"checklist--step--3hKHc checklist--checklistItemText--2UFU7",ctaButton:"checklist--ctaButton--6CaBb",taskImg:"checklist--taskImg--aEib1",greyText:"checklist--greyText--3DKmg",completedFooter:"checklist--completedFooter--3ekkK",completedText:"checklist--completedText--10RBY",completedButton:"checklist--completedButton--3p523",purpleCursor:"checklist--purpleCursor--2cUIg",redCursor:"checklist--redCursor--1HIxn",greenCursor:"checklist--greenCursor--21TPu",collapsedText:"checklist--collapsedText--2USPi",collapsedSvg:"checklist--collapsedSvg--pDEPm",clickableRegion:"checklist--clickableRegion--S1TO_"}}),
(function(l,t,e){l.exports={src:'<svg width="12" height="8" viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M6.354 6.353l5-5-.708-.707L6 5.293 1.354.646l-.708.707 5 5L6 6.707l.354-.354z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="8" height="5" viewBox="0 0 8 5" xmlns="http://www.w3.org/2000/svg"><path d="M3.646.647l-3 3 .708.707L4 1.707l2.646 2.647.708-.707-3-3L4 .293l-.354.354z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=a(2,1    ),s=a(43,1         ),i=a(1470             ),r=a(1109                                          ),c=a(1107                                                         ),o=a(146                        ),n=a(449                                  ),m=a(152                                          ),d=a(147                                            ),p=a(638                                   ),g=a(637                                            ),u=a(533                                 ),h=a(1118                               ),C=a(271                                        ),k=a(878                                                 ),f=a(113                                     ),_=a(135                     ),T=a(459                          ),E=a(98                  ),b=a(213                                   ),v=a(115                     ),S="https://static.figma.com/uploads/82e3b5309bce7fe280171de537d607bff44d7f05",N="https://static.figma.com/uploads/2250387b39197b0d0e24337bfd59dcb9e529f712",x="https://static.figma.com/uploads/c0302e93980bc60c6eed59b3df56800cebe770d6",y=a(1471                                 ),O=a(975                           ),P=[{text:"Start your free 14-day trial of Professional"},{text:"Publish your first Team Library with a sample file to get you started",ctaText:"Show me how",userFlag:"pro_trials_v2_published_team_library"},{text:"Use your new Team Library to build out a sample app",ctaText:"Show me how",userFlag:"pro_trials_v2_imported_component"},{text:"Invite all your teammates to share libraries and collaborate in Figma",ctaText:"Show me how",userFlag:"pro_trials_v2_invited_teammates"}],w=e=>({allTasksComplete:P.every(t=>!t.userFlag||!!e.userFlags[t.userFlag])});function L(e){const t=e.fadingOut?i.fadeOut:i.fadeIn;return l.createElement("div",{className:t},l.createElement(F,{setChecklistState:e.setChecklistState}),l.createElement(D,{setChecklistState:e.setChecklistState}))}t.Checklist=s.connect(e=>{const t=w(e),a=((e,t,a)=>{if(!e)return!1;const l=a.byTeamId,s=Object.keys(t).filter(e=>{const a=t[e].trial_period_end;return!!a&&new Date(a)>new Date&&!!l[e]});for(let i of s){const t=Object.keys(l[i]);for(let a of t){const t=l[i][a];if(t.user_id===e.id&&t.level>=v.PermissionLevel.EDITOR)return!0}}return!1})(e.user,e.teams,e.roles),l=e.proTrialChecklist,s=u.isLoading(e.loadingState,g.proTrialChecklist.getLoadingKey("FADING_OUT")),i=u.isLoading(e.loadingState,g.proTrialChecklist.getLoadingKey("ANIMATING"));return Object.assign(Object.assign({},t),{isEditorOnProTrialTeam:a,checklistState:l,fadingOut:s,animating:i})},e=>{return{setChecklistState:t=>{e(g.proTrialChecklist.setTransition({checklistState:t}))}}})(e=>{switch(l.useEffect(()=>{const t=h.getCachedQueryParam("proTrialChecklist");"expanded"===t?e.setChecklistState(p.ProTrialChecklistState.EXPANDED):"closed"===t&&e.setChecklistState(p.ProTrialChecklistState.CLOSED)},[]),l.useEffect(()=>{e.isEditorOnProTrialTeam||e.setChecklistState(p.ProTrialChecklistState.CLOSED)},[e.isEditorOnProTrialTeam]),e.checklistState){case p.ProTrialChecklistState.EXPANDED:const t=e.allTasksComplete?i.completedChecklistHeight+" ":"";return l.createElement(c.BottomRightModalContainer,null,l.createElement("div",{className:e.animating?t+i.expandedChecklistAnimating:t+i.expandedChecklist},l.createElement(L,{fadingOut:e.fadingOut,setChecklistState:e.setChecklistState})));case p.ProTrialChecklistState.COLLAPSED:return l.createElement(c.BottomRightModalContainer,null,l.createElement("div",{className:e.animating?i.collapsedChecklistAnimating:i.collapsedChecklist},l.createElement(H,{fadingOut:e.fadingOut,expandChecklist:()=>e.setChecklistState(p.ProTrialChecklistState.EXPANDED)})));case p.ProTrialChecklistState.CLOSED:return null}}),t.ProTrialsV2Checklist={trackingContextName:"Pro Trials V2 Checklist",element:()=>l.createElement(t.Checklist,null),modalType:r.ModalType.SELF_CONTAINED},t.ExpandedView=L;const I=e=>({putClosedChecklistFlag:()=>{e(n.userFlags.put({name:"pro_trials_v2_closed_checklist"}))}});const F=s.connect(w,I)(function(e){return l.createElement("div",{className:i.header},l.createElement("div",{className:i.leftHeader},l.createElement("div",{className:i.title},"Make the most of your trial"),l.createElement("div",{className:i.subtext},l.createElement("span",null,"Try out the following Team Library features.",l.createElement("br",null)),l.createElement("span",null,"We'll show you how."))),l.createElement("img",{className:i.modalImg,src:x}),e.allTasksComplete&&l.createElement(m.CloseButton,{onClick:()=>{e.setChecklistState(p.ProTrialChecklistState.CLOSED),e.putClosedChecklistFlag()},svg:O,className:i.dropdownIcon}),!e.allTasksComplete&&l.createElement(m.CloseButton,{onClick:()=>e.setChecklistState(p.ProTrialChecklistState.COLLAPSED),svg:y,className:i.dropdownIcon}))});const D=s.connect(w,I)(function(e){const t=P.map((e,t)=>l.createElement("li",{key:e.text},l.createElement(M,{text:e.text,ctaText:e.ctaText,userFlag:e.userFlag,stepNumber:t+1}),t<P.length-1?l.createElement("div",{className:i.dividingLine}):l.createElement("div",{style:{height:"4px"}})));return l.createElement("ul",null,t,e.allTasksComplete&&l.createElement("li",null,l.createElement(A,{closeChecklist:()=>{e.setChecklistState(p.ProTrialChecklistState.CLOSED),e.putClosedChecklistFlag()}})))});function A(e){return l.createElement("div",{className:i.completedFooter},l.createElement("div",{className:i.completedText},"You've completed the checklist"),l.createElement(d.ButtonSecondaryTracked,{className:i.completedButton,onClick:()=>e.closeChecklist(),trackingProperties:{checklistItem:"Completed checklist"},innerText:"Close"},"Close"))}const M=s.connect((e,t)=>{const a=t.userFlag,l=T.getTeamIdFromSelectedView(e);let s=_.earliestTrialTeam(Object.values(e.teams));return l&&e.teams[l]&&_.isProTrialActive(e.teams[l])&&(s=e.teams[l]),{itemComplete:!a||!!e.userFlags[a],loading:!!a&&u.isLoading(e.loadingState,g.proTrialChecklist.getLoadingKey(a)),trialTeam:s}},e=>({dispatch:e}),(e,t,a)=>Object.assign(Object.assign({},a),{itemComplete:e.itemComplete,loading:e.loading,onClickCta:a=>{!e.trialTeam||"pro_trials_v2_published_team_library"!==a&&"pro_trials_v2_imported_component"!==a?e.trialTeam&&"pro_trials_v2_invited_teammates"===a?(t.dispatch(f.fileBrowser.showModal({type:k.TEAM_PERMISSIONS_MODAL,data:{teamId:e.trialTeam.id,initialInviteLevel:v.PermissionLevel.EDITOR}})),t.dispatch(n.userFlags.put({name:a}))):(b.errorHandler.raiseError(`User clicked on Pro Trial checklist item ${a} but was in no trial.`),t.dispatch(E.flashActions.error("You do not currently have a team in a trial."))):t.dispatch(g.proTrialChecklist.startWalkThrough({walkThroughFlag:a,team:e.trialTeam}))}}))(function(e){let t=i.checklistItemTextContainer;return e.itemComplete&&(t+=" "+i.greyText),l.createElement("div",{className:i.checklistItem},l.createElement("img",{className:i.taskImg,src:e.itemComplete?S:N}),l.createElement("div",{className:t},l.createElement("div",{className:i.step},`Step ${e.stepNumber}:`),l.createElement("div",{className:i.checklistItemText},e.text)),!e.itemComplete&&l.createElement(d.ButtonSecondaryTracked,{className:i.ctaButton,onClick:()=>{e.userFlag&&e.onClickCta(e.userFlag)},trackingProperties:{checklistItem:e.text},innerText:e.ctaText,disabled:e.loading},e.loading?l.createElement(C.LoadingSpinner,null):e.ctaText))}),B=a(1472                               ),j="https://static.figma.com/uploads/a25f6362ffade3c638ec7ccb1abdbd0a651af56c",R="https://static.figma.com/uploads/c8ccfb307adbea560a7a438ad2a92e09acf414c9",V="https://static.figma.com/uploads/8bc291bd02a9f7e550a7da9ef6e65a6f22c21607";function H(e){const t=(e.fadingOut?i.fadeOut:i.fadeIn)+" "+i.clickableRegion;return l.createElement("div",{className:t,onClick:e.expandChecklist},l.createElement("img",{className:i.purpleCursor,src:j}),l.createElement("img",{className:i.greenCursor,src:V}),l.createElement("img",{className:i.redCursor,src:R}),l.createElement("div",{className:i.collapsedText},"Make the most of your trial"),l.createElement(o.Svg,{className:i.collapsedSvg,svg:B}))}t.CollapsedView=H}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(830                                                  ),r=o(1116                                 ),a=o(1473                                                            ),_=o(1119                       );t.ChecklistMachine={id:"pro_trials_v2_checklist_machine",initialStateId:"await_file_browser_or_team_page",states:[{id:"await_file_browser_or_team_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:i.TrackedContext.FILE_BROWSER},{field:"view",operator:"EQUALS",value:"project"}],destinationStateId:"is_owner_or_editor_on_pro_trial"},{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:i.TrackedContext.TEAM_PAGE}],destinationStateId:"is_owner_or_editor_on_pro_trial"}]},{id:"is_owner_or_editor_on_pro_trial",type:"DATA",query:new _.IsEditorOrOwnerOnProTrialQuery,transitions:[{operator:"EQUALS",value:!0,destinationStateId:"is_in_personal_user_space"},{operator:"NOT_EQUALS",value:!0,destinationStateId:"await_file_browser_or_team_page"}]},{id:"is_in_personal_user_space",type:"DATA",query:new _.UserSpaceQuery,transitions:[{operator:"EQUALS",value:i.UserSpace.PERSONAL,destinationStateId:"has_not_closed_checklist"},{operator:"NOT_EQUALS",value:i.UserSpace.PERSONAL,destinationStateId:"await_file_browser_or_team_page"}]},{id:"has_not_closed_checklist",type:"DATA",query:new _.UserFlagQuery("pro_trials_v2_closed_checklist"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"show_checklist"}]},{id:"show_checklist",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.ProTrialsV2Checklist],persistWhenAppModalShown:!0,persistBetweenContexts:e=>i.TrackedContext.TEAM_PAGE===e.trackedContext||i.TrackedContext.FILE_BROWSER===e.trackedContext&&"project"===e.view}},destinationStateId:"await_file_browser_or_team_page",category:{name:r.RcsCategories.ONBOARDING_MODAL,priority:r.RcsPriorities.PRO_TRIAL_MODAL,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"}}]}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(1116                                 ),n=a(830                                                  ),i=a(1119                                              ),r=a(1115                                         ),s={id:"onboard_desktop_beta",initialStateId:"await_file_browser",states:[{id:"await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:n.TrackedContext.FILE_BROWSER}],destinationStateId:"data_check_have_shown_before"}]},{id:"data_check_have_shown_before",type:"DATA",query:new i.UserFlagQuery("desktop_beta_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"data_check_created_thirty_days_ago"}]},{id:"data_check_created_thirty_days_ago",type:"DATA",query:new i.UserQuery("created_at"),transitions:[{operator:"LESS_THAN",value:()=>Date.now()-2592e6,destinationStateId:"show_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[r.DesktopBeta]}},category:{blocking:"NEVER",name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.SECONDARY_ONBOARDING_MODAL,whenBlocked:"BACK"}}]};t.default=s}),
(function(t,o,e){t.exports={container:"walkthrough_completion--container--23Cln draggable_modal--positionedContainerAnimated--3Exj_ draggable_modal--positionedContainer--1aHEn",modal:"walkthrough_completion--modal--2dte1",header:"walkthrough_completion--header--2Jz0c text--fontPos14--3UJ36 text--_fontBase--YWDo0",text:"walkthrough_completion--text--328cw text--fontPos11--RSei3 text--_fontBase--YWDo0",buttonRow:"walkthrough_completion--buttonRow--16TLl",ctaButton:"walkthrough_completion--ctaButton--3r_Or"}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=t(2,1    ),o=t(147                                            ),s=t(154                                 ),i=t(1476                                                                 ),l=t(43,1         ),n=t(637                                            ),c=t(209                ),m=t(135                     );class p extends r.Component{render(){const e=r.createElement(o.ButtonPrimaryTracked,{className:i.ctaButton,onClick:this.props.startNexWalkThrough},"Step 2: Use your Team Library");return r.createElement(s.ModalView,{size:380,className:i.modal,disableClickOutsideToHide:!0,hide:this.props.hide,backgroundClassName:i.container},r.createElement("div",{className:i.header},"Congrats on publishing your first Team Library!"),r.createElement("div",{className:i.text},"Your Team Library can now be used by any team member and across every file in your team for a more efficient workflow. The next step is to try it out!"),r.createElement("div",{className:i.buttonRow},r.createElement(o.ButtonSecondaryTracked,{className:i.ctaButton,onClick:this.props.hide},"Done"),this.props.shouldStartNextWalkThrough&&e))}}p.displayName="PublishTeamLibraryCompletionModal";a.PublishTeamLibraryCompletionModal=l.connect(e=>{var a;const t=null===(a=c.getEditingFile(e))||void 0===a?void 0:a.team_id,r=t?e.teams[t]:m.earliestTrialTeam(Object.values(e.teams));return{team:r,shouldStartNextWalkThrough:!e.userFlags.pro_trials_v2_imported_component&&!!r}},null,(e,a,t)=>{const{team:r,shouldStartNextWalkThrough:o}=e;return Object.assign({shouldStartNextWalkThrough:o,startNexWalkThrough:()=>{r&&a.dispatch(n.proTrialChecklist.startWalkThrough({walkThroughFlag:"pro_trials_v2_imported_component",team:r}))}},t)})(p)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const l=t(2,1    ),n=t(1109                                          ),r=t(1477                                                                             ),i=t(757                      ),o="Publish Library Walk Through";a.WalkThroughTrackingContexts={assetPanel:`${o} - Asset Panel`,teamLibrary:`${o} - Team Library`,publish:`${o} - Publish`,confirm:`${o} - Confirm`,complete:`${o} - Complete`},a.AssetPanelPointer={trackingContextName:a.WalkThroughTrackingContexts.assetPanel,key:i.WalkthroughDataOnboardingKeys.ASSETS_TAB,element:()=>l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("b",null,"Click the Assets Tab")," to see components available from enabled or local libraries."),l.createElement("h6",null,"Step 1 of 4")),height:104,width:232,modalType:n.ModalType.WALK_THROUGH},a.TeamLibraryPointer={trackingContextName:a.WalkThroughTrackingContexts.teamLibrary,key:i.WalkthroughDataOnboardingKeys.TEAM_LIBRARY,element:()=>l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("b",null,"Click the Team Library")," icon to open the Team Library modal and see all available libraries."),l.createElement("h6",null,"Step 2 of 4")),modalType:n.ModalType.WALK_THROUGH,height:104,width:232},a.PublishLibraryPointer={trackingContextName:a.WalkThroughTrackingContexts.publish,key:i.WalkthroughDataOnboardingKeys.PUBLISH_WALK_THROUGH_LIBRARY,element:()=>l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("b",null,"Click the Publish button")," to start the library publishing process. You'll have the chance to review."),l.createElement("h6",null,"Step 3 of 4")),modalType:n.ModalType.WALK_THROUGH,height:104,width:232},a.ConfirmPublishLibraryPointer={trackingContextName:a.WalkThroughTrackingContexts.confirm,key:i.WalkthroughDataOnboardingKeys.CONFIRM_PUBLISH_WALK_THROUGH_LIBRARY,element:()=>l.createElement(l.Fragment,null,l.createElement("p",null,"Add a description and review what will be published. When you’re ready, ",l.createElement("b",null,"click Publish.")),l.createElement("h6",null,"Step 4 of 4")),modalType:n.ModalType.WALK_THROUGH,height:104,width:232},a.PublishTeamLibraryCompletion={trackingContextName:a.WalkThroughTrackingContexts.complete,element:({dismissModal:e})=>l.createElement(r.PublishTeamLibraryCompletionModal,{hide:e}),modalType:n.ModalType.SELF_CONTAINED}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(1478                                                                  ),o=a(1116                                 ),n=a(830                                                  ),r=a(1119                                              ),s=a(261                               ),d=a(176                       ),l={name:o.RcsCategories.ONBOARDING_MODAL,blocking:"ONCE",priority:o.RcsPriorities.PRO_TRIAL_MODAL,whenBlocked:"WAIT"};t.PublishTeamLibraryWalkThrough={id:"pro_trial_publish_team_library_walkthrough",initialStateId:"await_editor",states:[{id:"await_editor",type:"EVENT",transitions:[{eventId:"Context Viewed",destinationStateId:"has_walk_through_query_param",conditions:[{operator:"EQUALS",value:n.TrackedContext.EDITOR,field:"name"}]}]},{id:"has_walk_through_query_param",type:"DATA",query:new r.URLParamQuery("walk_through_id"),transitions:[{operator:"EQUALS",value:"pro_trials_v2_published_team_library",destinationStateId:"show_asset_panel"}]},{id:"show_asset_panel",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[i.AssetPanelPointer],persistWhenAppModalShown:!0}},category:Object.assign(Object.assign({},l),{whenBlocked:"BACK"}),destinationStateId:"await_click_assets_or_hide"},{id:"await_click_assets_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",destinationStateId:"show_team_library",conditions:[{field:"text",value:"Assets",operator:"EQUALS"}]},{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"trackingContext",value:i.WalkThroughTrackingContexts.assetPanel,operator:"EQUALS"}]}]},{id:"show_team_library",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[i.TeamLibraryPointer],persistWhenAppModalShown:!0}},category:l,destinationStateId:"await_click_team_library_or_hide"},{id:"await_click_team_library_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",destinationStateId:"show_publish_library",conditions:[{field:"text",value:"Team Library",operator:"EQUALS"}]},{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"trackingContext",value:i.WalkThroughTrackingContexts.teamLibrary,operator:"EQUALS"}]},{eventId:"Lost DOM Target",destinationStateId:"show_asset_panel"}]},{id:"show_publish_library",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[i.PublishLibraryPointer],persistWhenAppModalShown:!0},skipHide:!0},category:l,destinationStateId:"await_publish_or_hide"},{id:"await_publish_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",destinationStateId:"show_confirm_publish_library",conditions:[{field:"text",value:"Publish",operator:"EQUALS"},{field:"trackingContext",value:"Library Preference Modal > LibrarySubscriptions",operator:"EQUALS"},{field:"isPublishingTrialsWalkThroughLibrary",value:!0,operator:"EQUALS"}]},{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"trackingContext",value:i.WalkThroughTrackingContexts.publish,operator:"EQUALS"}]},{eventId:"Library File Expanded",destinationStateId:"hide_publish"},{eventId:"Library Search Query Changed",destinationStateId:"hide_publish"},{eventId:"Library Preferences Modal Tab Changed",destinationStateId:"hide_publish",conditions:[{field:"tab",value:d.LibraryPreferencesModalTab.LIBRARIES,operator:"NOT_EQUALS"}]},{eventId:"Lost DOM Target",destinationStateId:"is_assets_panel_active"}]},{id:"is_assets_panel_active",type:"DATA",query:new r.FullscreenLeftPanelTabQuery,transitions:[{operator:"EQUALS",value:s.LeftPanelTab.PUBLISH,destinationStateId:"show_team_library"},{operator:"NOT_EQUALS",value:s.LeftPanelTab.PUBLISH,destinationStateId:"show_asset_panel"}]},{id:"hide_publish",type:"ACTION",payload:{type:"hide_content"},destinationStateId:"await_show_publish_or_hide"},{id:"has_active_library_search_query",type:"DATA",query:new r.TeamLibrarySearchQuery,transitions:[{operator:"EQUALS",value:!0,destinationStateId:"await_show_publish_or_hide"},{operator:"EQUALS",value:!1,destinationStateId:"show_publish_library"}]},{id:"await_show_publish_or_hide",type:"EVENT",transitions:[{eventId:"Library File Collapsed",destinationStateId:"has_active_library_search_query"},{eventId:"Library Search Query Changed",destinationStateId:"show_publish_library",conditions:[{field:"text",value:"",operator:"EQUALS"}]},{eventId:"CTA Clicked",destinationStateId:"is_assets_panel_active",conditions:[{field:"trackingContext",value:"Library Preference Modal",operator:"EQUALS"},{field:"text",value:"Close",operator:"EQUALS"}]},{eventId:"Library Preferences Modal Tab Changed",destinationStateId:"await_show_publish_or_hide",conditions:[{field:"tab",value:d.LibraryPreferencesModalTab.LIBRARIES,operator:"NOT_EQUALS"}]},{eventId:"Library Preferences Modal Tab Changed",destinationStateId:"has_active_library_search_query",conditions:[{field:"tab",value:d.LibraryPreferencesModalTab.LIBRARIES,operator:"EQUALS"}]}]},{id:"hide_publish",type:"ACTION",payload:{type:"hide_content"},destinationStateId:"await_show_publish_or_hide"},{id:"show_confirm_publish_library",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[i.ConfirmPublishLibraryPointer],persistWhenAppModalShown:!0},skipHide:!0},category:l,destinationStateId:"await_confirm_publish_or_hide"},{id:"await_confirm_publish_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",destinationStateId:"show_completion_modal",conditions:[{field:"text",value:"Publish",operator:"EQUALS"},{field:"trackingContext",value:"Publishing Modal",operator:"EQUALS"},{field:"isPublishingTrialsWalkThroughLibrary",value:!0,operator:"EQUALS"}]},{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"trackingContext",value:i.WalkThroughTrackingContexts.confirm,operator:"EQUALS"}]},{eventId:"Lost DOM Target",destinationStateId:"is_assets_panel_active"}]},{id:"show_completion_modal",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[i.PublishTeamLibraryCompletion],persistWhenAppModalShown:!0},skipHide:!0},category:l,destinationStateId:"await_next_step_or_hide"},{id:"await_next_step_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"trackingContext",value:i.WalkThroughTrackingContexts.complete,operator:"EQUALS"}]}]},{id:"end_walk_through",type:"ACTION",payload:{type:"hide_content"}}]}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(830                                                  ),o=a(1116                                 ),i=a(1115                                         ),r=a(1119                                              ),s={id:"start_pro_trial",initialStateId:"await_team_page",states:[{id:"await_team_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:n.TrackedContext.TEAM_PAGE},{operator:"EQUALS",value:!0,field:"canStartProTrial"}],destinationStateId:"check_has_seen"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:n.TrackedContext.FILE_BROWSER},{operator:"EQUALS",value:!0,field:"canUserStartProTrial"}],destinationStateId:"check_has_seen"}]},{id:"check_has_seen",type:"DATA",query:new r.UserFlagQuery("seen_start_pro_trial_in_app_message"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"show_content"}]},{id:"show_content",type:"ACTION",category:{name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.PRO_TRIAL_MODAL,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"},payload:{type:"show_content",onboardingSequence:{steps:[i.StartProTrialInAppMessage]}}}]};t.default=s}),
(function(e,u,r){e.exports={closeButton:"survey_view--closeButton--1Oc1z",surveyComplete:"survey_view--surveyComplete--2DWxq",progressText:"survey_view--progressText--8Ot4V",footer:"survey_view--footer--EbC86",submitButton:"survey_view--submitButton--2yT5p",multipleChoiceQuestionsView:"survey_view--multipleChoiceQuestionsView--YRidd",choiceGroup:"survey_view--choiceGroup--1lwtW",question:"survey_view--question--3l44o",header:"survey_view--header--31EZG",questionRow:"survey_view--questionRow--3b1rg",choice:"survey_view--choice--1Whe6",choiceLabel:"survey_view--choiceLabel--pdhuz",surveyOtherInput:"survey_view--surveyOtherInput--26i4o",inputError:"survey_view--inputError--1fdze",errorMessage:"survey_view--errorMessage--3BQBo",surveyContent:"survey_view--surveyContent--3CtTe text--fontPos11--RSei3 text--_fontBase--YWDo0",surveyButton:"survey_view--surveyButton--19qV2",fadeIn:"survey_view--fadeIn--OPBah",fadeOut:"survey_view--fadeOut--2wCQG",surveyModal:"survey_view--surveyModal--2Wvnf",slideUpAndFadeIn:"survey_view--slideUpAndFadeIn--1N6Ov",fadein:"survey_view--fadein--3lGLU",fadeout:"survey_view--fadeout--3NXbb"}}),
(function(l,t,c){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.5 12c0 5.799-4.701 10.5-10.5 10.5-5.799 0-10.5-4.701-10.5-10.5C1.5 6.201 6.201 1.5 12 1.5c5.799 0 10.5 4.701 10.5 10.5zm1.5 0c0 6.627-5.373 12-12 12-6.627 0-12-5.373-12-12C0 5.373 5.373 0 12 0c6.627 0 12 5.373 12 12zm-12.133 4.298l6-6.75-1.233-1.096-5.418 6.094-3.11-3.128-1.17 1.164 3.73 3.75.618.622.583-.656z" fill-rule="evenodd" fill-opacity="1" fill="#1bc47d" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(2,1    ),r=n(1481                                        ),s=n(152                                          ),l=n(146                        ),c=n(147                                            ),i=n(143                                      ),o=n(471                            ),u=n(1107                                                         ),m=n(406              ),p=n(1420                                      ),d=n(1482                                    );!function(e){const t=340,n=300;e.SurveyContent=(e=>a.createElement("div",{className:r.surveyContent,style:e.style},e.children)),e.SurveyButton=(e=>a.createElement(c.ButtonSecondaryTracked,{className:r.surveyButton,onClick:()=>e.onClickAnswer(e.answer)},e.answer.answer)),e.SurveyLink=(e=>a.createElement(c.LinkInlineTracked,{className:r.surveyButton,onClick:()=>e.onClickAnswer(e.answer)},e.answer.answer)),e.QuestionView=(t=>{const n=t.surveyAnswers.length>2?e.SurveyLink:e.SurveyButton;return a.createElement(a.Fragment,null,a.createElement("h1",null,t.question),a.createElement(c.Spacing,{multiple:2}),t.surveyAnswers.map((e,r)=>a.createElement(a.Fragment,{key:e.answer},a.createElement(n,{answer:e,onClickAnswer:()=>t.onClickAnswer(e)}),r!==t.surveyAnswers.length-1&&a.createElement(c.Spacing,{multiple:2}))))});const g=e=>a.createElement(m.TableRow,{className:r.header},a.createElement("div",{className:r.question}),e.choices.map(e=>a.createElement("p",{key:e,className:r.choice},e))),h=e=>a.createElement(m.TableRow,{className:r.questionRow},a.createElement("p",{className:r.question},e.question),a.createElement(p.RadioGroup,{value:e.currentChoice,onChange:e.onClickChoice,className:r.choiceGroup},e.choices.map(e=>a.createElement(p.RadioOption,{key:e,className:r.choice,labelClassName:r.choiceLabel,value:e}))));e.MultipleChoiceQuestionsView=(e=>{let t=Array(e.questions.length).fill(e.defaultChoice.displayValue),n={};for(let a of e.questions)n[a.trackingValue]=e.defaultChoice.trackingValue;const[s,l]=a.useState(t),[i,o]=a.useState(n);return a.createElement("div",{className:r.multipleChoiceQuestionsView},a.createElement("h1",null,e.header),a.createElement(c.Spacing,{multiple:1}),e.subHeader&&a.createElement("p",null,e.subHeader),a.createElement(g,{choices:e.choices.map(e=>e.displayValue)}),e.questions.map((t,n)=>a.createElement(h,{key:n,question:t.displayValue,choices:e.choices.map(e=>e.displayValue),currentChoice:s[n],onClickChoice:t=>((t,n)=>{l(e=>{let a=[...e];return a[t]=n,a}),o(a=>{let r=Object.assign({},a),s=e.choices.find(e=>e.displayValue==n)||e.defaultChoice;return r[e.questions[t].trackingValue]=s.trackingValue,r})})(n,t)})),a.createElement(c.Spacing,{multiple:2}),a.createElement("div",{className:r.footer},e.progress&&a.createElement("p",{className:r.progressText},"Step ",e.progress.currentStep," of ",e.progress.totalSteps),a.createElement(c.ButtonSecondaryTracked,{onClick:e.onSubmit,trackingProperties:Object.assign(Object.assign({},e.trackingProperties),i),innerText:"Submit Opinions"},"Next")))}),e.EnterFreeFormView=(e=>{const[t,n]=a.useState(""),[s,l]=a.useState(void 0),u=a.useRef(null);a.useEffect(()=>{u.current&&u.current.focus()},[]);return a.createElement(a.Fragment,null,e.badge_text&&a.createElement(a.Fragment,null,a.createElement(o.Badge,{color:o.BadgeColor.GRAY,text:e.badge_text}),a.createElement(c.Spacing,{multiple:1.5})),a.createElement("div",{className:r.surveyOtherInput},a.createElement("h1",null,e.question),a.createElement(c.Spacing,{multiple:2}),e.subtext&&a.createElement(a.Fragment,null,a.createElement("p",null,e.subtext),a.createElement(c.Spacing,{multiple:1.5})),a.createElement(i.LazyInput,{type:"textarea",placeholder:e.placeholder_text||"We'd love to know...",ref:u,rows:5,className:`${s&&r.inputError||""}`,value:t,onChange:e=>{n(e.target.value),l(void 0)},maxLength:500}),s&&a.createElement("p",{className:r.errorMessage},s),a.createElement(c.Spacing,{multiple:2}),a.createElement("div",{className:r.footer},e.progress&&a.createElement("p",{className:r.progressText},"Step ",e.progress.currentStep," of ",e.progress.totalSteps),a.createElement(c.ButtonSecondaryTracked,{onClick:()=>{!e.required||t?e.onSubmit():l("This field is required")},trackingProperties:Object.assign(Object.assign({},e.trackingProperties),{freeFormInput:t,initialAnswer:e.subtext}),innerText:"Submit Free Form",className:r.submitButton},"Submit"))))}),e.CompleteView=(e=>a.createElement(a.Fragment,null,a.createElement("div",{className:r.surveyComplete},a.createElement(l.Svg,{svg:d,useOriginalSrcFills:!0}),a.createElement(c.Spacing,{direction:"x",multiple:1.5}),a.createElement("h1",null,e.children)))),e.useSurveyState=function(e){const[r,s]=a.useState(e.initialState),[l,c]=a.useState(""),[i,o]=a.useState(!1),[u,m]=a.useState(e.heightProvider(r)),[p,d]=a.useState(e.widthProvider?e.widthProvider(r):t),g=a=>{o(!0),setTimeout(()=>{m(e.heightProvider(a)),d(e.widthProvider?e.widthProvider(a):t)},n),setTimeout(()=>{s(a),o(!1)},2*n),e.completeStates.some(e=>e===a)&&setTimeout(e.dismissModal,2e3)};return{state:r,mostRecentAnswer:l,setNextState:g,clickAnswer:e=>{var t;c(e.answer),g(e.nextState),null===(t=e.onSubmit)||void 0===t||t.call(e)},fadingOut:i,height:u,width:p}},e.ModalView=(n=>{const l=n.height-40,c=(n.width||t)-40,i=a.createElement(e.SurveyContent,{style:{height:l,width:c}},n.children);return a.createElement(u.BottomRightModalContainer,null,a.createElement("div",{className:r.surveyModal},n.fadingOut?a.createElement("div",{className:r.fadeOut},i):a.createElement("div",{className:r.fadeIn},i),a.createElement(s.CloseButton,{className:r.closeButton,onMouseDown:e=>e.stopPropagation(),onClick:n.dismissModal,innerText:"close"})))})}(t.Survey||(t.Survey={}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2,1    ),i=a(1109                                          ),s=a(1483                                    ),n=a(43,1         );var o;!function(e){e[e.OPINION_QUESTION=0]="OPINION_QUESTION",e[e.IMPROVEMENT_QUESTION=1]="IMPROVEMENT_QUESTION",e[e.COMPLETE=2]="COMPLETE"}(o||(o={}));const l={[o.OPINION_QUESTION]:380,[o.IMPROVEMENT_QUESTION]:236,[o.COMPLETE]:236},u={[o.OPINION_QUESTION]:514,[o.IMPROVEMENT_QUESTION]:340,[o.COMPLETE]:340},g=[{displayValue:"Strongly Disagree",trackingValue:1},{displayValue:"Disagree",trackingValue:2},{displayValue:"Neither agree nor disagree",trackingValue:3},{displayValue:"Agree",trackingValue:4},{displayValue:"Strongly Agree",trackingValue:5}],d=[{displayValue:"Figma's billing model is fair",trackingValue:"billingModal"},{displayValue:"Figma makes it efficient to give users the access they need",trackingValue:"userAccess"},{displayValue:"Figma makes it easy to manage costs",trackingValue:"costManagement"}];t.OrgAdminSurvey={trackingContextName:"Org Admin Survey Modal",trackingProperties:{surveyVersion:1},element:n.connect(e=>({orgId:e.currentOrgId}))(({dismissModal:e,orgId:t})=>{const{state:a,setNextState:i,fadingOut:n,height:c,width:E}=s.Survey.useSurveyState({initialState:o.OPINION_QUESTION,heightProvider:e=>l[e],widthProvider:e=>u[e],completeStates:[o.COMPLETE],dismissModal:e});return r.createElement(s.Survey.ModalView,{width:E,height:c,fadingOut:n,dismissModal:e},(e=>{switch(e){case o.OPINION_QUESTION:return r.createElement(s.Survey.MultipleChoiceQuestionsView,{choices:g,defaultChoice:{displayValue:"Not answered",trackingValue:0},questions:d,header:"Can you tell us about your experience using Figma?",subHeader:"Rate your level of agreement with the following statements:",progress:{currentStep:1,totalSteps:2},trackingProperties:{orgId:t},onSubmit:()=>i(o.IMPROVEMENT_QUESTION)});case o.IMPROVEMENT_QUESTION:return r.createElement(s.Survey.EnterFreeFormView,{question:"What would improve your experience?",progress:{currentStep:2,totalSteps:2},trackingProperties:{orgId:t},onSubmit:()=>i(o.COMPLETE)});case o.COMPLETE:return r.createElement(s.Survey.CompleteView,null,"Thanks for your feedback!")}})(a))}),modalType:i.ModalType.SELF_CONTAINED,userFlag:"seen_org_admin_survey"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(830                                                  ),i=a(1484                                                                    ),o=a(1119                                              ),s=a(1116                                 ),r=()=>Date.now()-7776e6;t.OrgAdminSurveyMachine={id:"org_admin_survey_machine",initialStateId:"await_admin_panel",states:[{id:"await_admin_panel",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:n.TrackedContext.ORG_SETTINGS}],destinationStateId:"await_close_modal"}]},{id:"await_close_modal",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:n.TrackedContext.ORG_PAGE},{field:"orgViewTab",operator:"EQUALS",value:"HOME"}],destinationStateId:"has_seen_this_survey"}]},{id:"has_seen_this_survey",type:"DATA",query:new o.UserFlagTimestampQuery("seen_org_admin_survey"),transitions:[{operator:"EQUALS",value:void 0,destinationStateId:"is_org_admin"},{operator:"LESS_THAN",value:r,destinationStateId:"is_org_admin"},{operator:"GREATER_THAN",value:r,destinationStateId:"await_admin_panel"}]},{id:"is_org_admin",type:"DATA",query:new o.IsAdminOnOrgQuery,transitions:[{operator:"EQUALS",value:!0,destinationStateId:"has_not_seen_survey_recently"},{operator:"NOT_EQUALS",value:!0,destinationStateId:"await_admin_panel"}]},{id:"has_not_seen_survey_recently",type:"DATA",query:new o.MsSinceLastSurveyQuery,transitions:[{operator:"GREATER_THAN",value:6048e5,destinationStateId:"show_question"},{operator:"LESS_THAN",value:6048e5,destinationStateId:"await_admin_panel"}]},{id:"show_question",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[i.OrgAdminSurvey],persistBetweenContexts:()=>!0}},category:{name:s.RcsCategories.ONBOARDING_MODAL,priority:s.RcsPriorities.SECONDARY_ONBOARDING_MODAL,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"}}]}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(2,1    ),o=n(1109                                          ),r=n(1483                                    );var s;!function(e){e[e.WHY_ABANDON_QUESTION=0]="WHY_ABANDON_QUESTION",e[e.FREE_FORM_INPUT=1]="FREE_FORM_INPUT",e[e.COMPLETE=2]="COMPLETE"}(s||(s={}));const i={[s.WHY_ABANDON_QUESTION]:240,[s.FREE_FORM_INPUT]:256,[s.COMPLETE]:240};t.OrgCartAbandonSurvey={trackingContextName:"Org Cart Abandon Survey",trackingProperties:{surveyVersion:1},element:({dismissModal:e})=>{const{state:t,setNextState:n,clickAnswer:o,fadingOut:u,height:E}=r.Survey.useSurveyState({initialState:s.WHY_ABANDON_QUESTION,heightProvider:e=>i[e],completeStates:[s.COMPLETE],dismissModal:e});return a.createElement(r.Survey.ModalView,{height:E,fadingOut:u,dismissModal:e},(e=>{switch(e){case s.WHY_ABANDON_QUESTION:return a.createElement(r.Survey.QuestionView,{question:"Looks like you decided not to upgrade. What stopped you?",surveyAnswers:[{answer:"Not enough value to justify the additional cost",nextState:s.COMPLETE},{answer:"The true-up billing method is too complicated",nextState:s.COMPLETE},{answer:"I prefer to pay monthly, not annually",nextState:s.COMPLETE},{answer:"I was just looking around",nextState:s.COMPLETE},{answer:"Other",nextState:s.FREE_FORM_INPUT}],onClickAnswer:o});case s.FREE_FORM_INPUT:return a.createElement(r.Survey.EnterFreeFormView,{question:"Looks like you decided not to upgrade. What stopped you?",onSubmit:()=>n(s.COMPLETE)});case s.COMPLETE:return a.createElement(r.Survey.CompleteView,null,"Thanks for your feedback!")}})(t))},modalType:o.ModalType.SELF_CONTAINED,userFlag:"seen_org_cart_abandon_survey"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(830                                                  ),n=o(1116                                 ),i=o(1486                                                                ),r=o(1119                                              );t.OrgCartAbandonSurveyMachine={id:"org_cart_abandon_survey_machine",initialStateId:"await_enter_org_cart",states:[{id:"await_enter_org_cart",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:a.TrackedContext.ORG_CART}],destinationStateId:"await_file_browser_or_team_page"}]},{id:"await_file_browser_or_team_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:a.TrackedContext.FILE_BROWSER}],destinationStateId:"has_not_completed_org_cart_flow"},{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:a.TrackedContext.TEAM_PAGE}],destinationStateId:"has_not_completed_org_cart_flow"}]},{id:"has_not_completed_org_cart_flow",type:"DATA",query:new r.UserFlagQuery("completed_org_cart_flow"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"is_using_work_email"}]},{id:"is_using_work_email",type:"DATA",query:new r.UserEmailIsKnownDomainQuery,transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"has_not_seen_this_survey"}]},{id:"has_not_seen_this_survey",type:"DATA",query:new r.UserFlagQuery("seen_org_cart_abandon_survey"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"has_not_seen_survey_recently"}]},{id:"has_not_seen_survey_recently",type:"DATA",query:new r.MsSinceLastSurveyQuery,transitions:[{operator:"GREATER_THAN",value:7776e6,destinationStateId:"notification_blocking"},{operator:"LESS_THAN",value:7776e6,destinationStateId:"await_enter_org_cart"}]},{id:"notification_blocking",type:"DATA",query:new r.NotificationCountQuery,transitions:[{operator:"GREATER_THAN",value:0,destinationStateId:"await_file_browser_or_team_page"},{operator:"EQUALS",value:0,destinationStateId:"show_question"}]},{id:"show_question",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[i.OrgCartAbandonSurvey],persistBetweenContexts:()=>!0}},category:{name:n.RcsCategories.ONBOARDING_MODAL,priority:n.RcsPriorities.SECONDARY_ONBOARDING_MODAL,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"}}]}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2,1    ),a=r(1109                                          ),i=r(1483           );var o;!function(e){e[e.FREE_FORM_INPUT=0]="FREE_FORM_INPUT",e[e.COMPLETE=1]="COMPLETE"}(o||(o={}));const s={[o.FREE_FORM_INPUT]:256,[o.COMPLETE]:240};t.ProCartAbandonSurvey={trackingContextName:"Pro Cart Abandon Survey",trackingProperties:{surveyVersion:3},element:({dismissModal:e})=>{const{state:t,setNextState:r,fadingOut:a,height:u}=i.Survey.useSurveyState({initialState:o.FREE_FORM_INPUT,heightProvider:e=>s[e],completeStates:[o.COMPLETE],dismissModal:e});return n.createElement(i.Survey.ModalView,{height:u,fadingOut:a,dismissModal:e},(e=>{switch(e){case o.FREE_FORM_INPUT:return n.createElement(i.Survey.EnterFreeFormView,{question:"Is there anything preventing you from upgrading your Figma plan?",onSubmit:()=>r(o.COMPLETE)});case o.COMPLETE:return n.createElement(i.Survey.CompleteView,null,"Thanks for your feedback!")}})(t))},userFlag:"seen_pro_cart_abandon_survey",modalType:a.ModalType.SELF_CONTAINED}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(1116                                 ),n=o(1488                                                                ),r=o(830                        ),i=o(1119                    );t.ProCartAbandonSurveyMachine={id:"pro_cart_abandon_survey_machine",initialStateId:"await_enter_pro_cart",states:[{id:"await_enter_pro_cart",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:r.TrackedContext.PRO_CART}],destinationStateId:"await_file_browser_or_team_page"}]},{id:"await_file_browser_or_team_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:r.TrackedContext.FILE_BROWSER}],destinationStateId:"has_not_completed_pro_cart_flow"},{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:r.TrackedContext.TEAM_PAGE}],destinationStateId:"has_not_completed_pro_cart_flow"}]},{id:"has_not_completed_pro_cart_flow",type:"DATA",query:new i.UserFlagQuery("completed_pro_cart_flow"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"has_not_seen_this_survey"}]},{id:"has_not_seen_this_survey",type:"DATA",query:new i.UserFlagQuery("seen_pro_cart_abandon_survey"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"has_not_seen_survey_recently"}]},{id:"has_not_seen_survey_recently",type:"DATA",query:new i.MsSinceLastSurveyQuery,transitions:[{operator:"GREATER_THAN",value:7776e6,destinationStateId:"notification_blocking"},{operator:"LESS_THAN",value:7776e6,destinationStateId:"await_enter_pro_cart"}]},{id:"notification_blocking",type:"DATA",query:new i.NotificationCountQuery,transitions:[{operator:"GREATER_THAN",value:0,destinationStateId:"await_file_browser_or_team_page"},{operator:"EQUALS",value:0,destinationStateId:"show_question"}]},{id:"show_question",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.ProCartAbandonSurvey],persistBetweenContexts:()=>!0}},category:{name:a.RcsCategories.ONBOARDING_MODAL,priority:a.RcsPriorities.SECONDARY_ONBOARDING_MODAL,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"}}]},t.default=t.ProCartAbandonSurveyMachine}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=e(830                                                  ),i=e(1119                                              );a.StartProTrialFromEmailMachine={id:"start_pro_trial_from_email",initialStateId:"await_team_page",states:[{id:"await_team_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:r.TrackedContext.TEAM_PAGE},{operator:"EQUALS",value:!0,field:"canStartProTrial"}],destinationStateId:"has_start_trial_query_param"}]},{id:"has_start_trial_query_param",type:"DATA",query:new i.URLParamQuery("startProTrial"),transitions:[{operator:"NOT_EQUALS",value:void 0,destinationStateId:"start_pro_trial"}]},{id:"start_pro_trial",type:"ACTION",payload:{type:"start_pro_trial"}}]}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(2,1    ),i=a(548                          ),s=a(147                                            ),r=a(154                                 ),n=a(1476                                                                 ),l=a(339                                    );class m extends o.Component{constructor(){super(...arguments),this.onImportClick=(()=>{this.props.dispatch(l.fileImport.openFileInput())})}render(){return o.createElement(r.ModalView,{size:408,className:n.modal,disableClickOutsideToHide:!0,hide:this.props.hide,backgroundClassName:n.container},o.createElement("div",{className:n.header},"You’ve completed using Team Library components!"),o.createElement("div",{className:n.text},"Many Figma designers also import Sketch files and libraries into Figma and publish them for your team to use. Give it a try. Simply drag and drop any Sketch file into Figma."),o.createElement("div",{className:n.buttonRow},o.createElement(s.ButtonSecondaryTracked,{className:n.ctaButton,onClick:this.onImportClick},"Import Sketch file"),o.createElement(s.ButtonPrimaryTracked,{className:n.ctaButton,onClick:this.props.hide},"Close")))}}m.displayName="ImportComponentCompletionModal",t.ImportComponentCompletionModal=i.withDispatch(m)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(2,1    ),l=n(1109                                          ),o=n(1107                                                         ),r=n(1491                                                                              ),i=n(757                      ),m="Import Component Walk Through";t.WalkThroughTrackingContexts={assetPanel:`${m} - Asset Panel`,teamLibrary:`${m} - Team Library`,enableLibrary:`${m} - Enable Library`,closeModal:`${m} - Close Modal`,dragComponent:`${m} - Drag Component`,complete:`${m} - Complete`,expandSectionHeaders:`${m} - Expand Section Headers`},t.AssetPanelPointer=(e=>({trackingContextName:t.WalkThroughTrackingContexts.assetPanel,key:i.WalkthroughDataOnboardingKeys.ASSETS_TAB,element:()=>a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement("b",null,"Click the Assets Tab")," to see components available from enabled or local libraries."),a.createElement("h6",null,"Step 1 of ",e)),height:104,width:232,modalType:l.ModalType.WALK_THROUGH})),t.TeamLibraryPointer={trackingContextName:t.WalkThroughTrackingContexts.teamLibrary,key:i.WalkthroughDataOnboardingKeys.TEAM_LIBRARY,element:()=>a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement("b",null,"Click the Team Library")," icon to open the Team Library modal and see all available libraries."),a.createElement("h6",null,"Step 2 of 6")),modalType:l.ModalType.WALK_THROUGH,height:104,width:232},t.EnableLibraryPointer=(e=>({trackingContextName:t.WalkThroughTrackingContexts.enableLibrary,key:e,element:()=>a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement("b",null,"Flip the toggle")," to enable the Music App Design Library you published."),a.createElement("h6",null,"Step 3 of 6")),modalType:l.ModalType.WALK_THROUGH,height:104,width:232})),t.CloseModalPointer={trackingContextName:t.WalkThroughTrackingContexts.closeModal,key:i.WalkthroughDataOnboardingKeys.MODAL_CLOSE_BUTTON,element:()=>a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement("b",null,"Close the Team Library modal.")),a.createElement("h6",null,"Step 4 of 6")),modalType:l.ModalType.WALK_THROUGH,height:72,width:232},t.ExpandToFindComponentPointer=((e,n,o)=>({trackingContextName:t.WalkThroughTrackingContexts.expandSectionHeaders,key:e,element:()=>a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement("b",null,"Expand to find your component.")),a.createElement("h6",null,"Step ",n," of ",o)),modalType:l.ModalType.WALK_THROUGH,height:72,width:232})),t.ComponentPointer=((e,n)=>({trackingContextName:t.WalkThroughTrackingContexts.dragComponent,key:e,element:()=>a.createElement(a.Fragment,null,a.createElement(o.OnboardingImg,{src:"https://static.figma.com/uploads/5fd600fec3059ff7c768a284059e0113e54211ec",width:320}),a.createElement("p",null,a.createElement("b",null,"Drag the Play Button component")," into the frame as shown to complete your design."),a.createElement("h6",null,"Step ",n," of ",n)),modalType:l.ModalType.WALK_THROUGH,height:288,width:320,pointerForegroundColor:"#E5E5E5"})),t.ImportComponentCompletion={trackingContextName:t.WalkThroughTrackingContexts.complete,element:({dismissModal:e})=>a.createElement(r.ImportComponentCompletionModal,{hide:e}),modalType:l.ModalType.SELF_CONTAINED}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(830                           ),o=a(1119                       ),n=a(1492                                                                   ),r=a(1116                                 ),d=a(757                      ),s=a(261                               ),_=a(176                       ),l={name:r.RcsCategories.ONBOARDING_MODAL,blocking:"ONCE",priority:r.RcsPriorities.PRO_TRIAL_MODAL,whenBlocked:"WAIT"},p={eventId:"Section Header Toggled",conditions:[{field:"headerTitle",value:d.proTrialLibraryName(),operator:"EQUALS"}],destinationStateId:"expand_published_library_section"},h={eventId:"Section Header Toggled",conditions:[{field:"headerTitle",value:d.WalkthroughSectionHeaders.MUSIC_CONTROLS,operator:"EQUALS"}],destinationStateId:"expand_music_controls_section"},c={eventId:"CTA Clicked",conditions:[{field:"text",value:"Layers",operator:"EQUALS"}],destinationStateId:"show_asset_panel"},y={eventId:"CTA Clicked",destinationStateId:"is_assets_panel_active",conditions:[{field:"trackingContext",value:"Library Preference Modal",operator:"EQUALS"},{field:"text",value:"Close",operator:"EQUALS"}]},S={eventId:"Library File Enabled",destinationStateId:"show_close_modal",conditions:[{field:"isTrialsWalkThroughLibrary",value:!0,operator:"EQUALS"}]},b=e=>({eventId:"CTA Clicked",conditions:[{field:"trackingContext",value:e,operator:"EQUALS"}],destinationStateId:"end_walk_through"}),u={eventId:"Library Preferences Modal Tab Changed",destinationStateId:"hide_enable_library_pointer",conditions:[{field:"tab",value:_.LibraryPreferencesModalTab.LIBRARIES,operator:"NOT_EQUALS"}]},I={eventId:"Library Preferences Modal Tab Changed",destinationStateId:"has_active_library_search_query",conditions:[{field:"tab",value:_.LibraryPreferencesModalTab.LIBRARIES,operator:"EQUALS"}]};t.ImportPublishedComponentWalkthrough={id:"pro_trial_import_published_component_walkthrough",initialStateId:"await_editor",states:[{id:"await_editor",type:"EVENT",transitions:[{eventId:"Context Viewed",destinationStateId:"has_walk_through_query_param",conditions:[{operator:"EQUALS",value:i.TrackedContext.EDITOR,field:"name"}]}]},{id:"has_walk_through_query_param",type:"DATA",query:new o.URLParamQuery("walk_through_id"),transitions:[{operator:"EQUALS",value:d.IMPORT_COMPONENT_WALKTHROUGH_USER_FLAG,destinationStateId:"has_published_component_walk_through_path_query_param"}]},{id:"has_published_component_walk_through_path_query_param",type:"DATA",query:new o.URLParamQuery("walk_through_path"),transitions:[{operator:"EQUALS",value:d.WalkthroughPaths.PUBLISHED_COMPONENTS,destinationStateId:"show_asset_panel"}]},{id:"show_asset_panel",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.AssetPanelPointer(6)],persistWhenAppModalShown:!0}},category:Object.assign(Object.assign({},l),{whenBlocked:"BACK"}),destinationStateId:"await_click_assets_or_hide"},{id:"await_click_assets_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",destinationStateId:"show_team_library",conditions:[{field:"text",value:"Assets",operator:"EQUALS"}]},b(n.WalkThroughTrackingContexts.assetPanel)]},{id:"show_team_library",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.TeamLibraryPointer],persistWhenAppModalShown:!0}},category:l,destinationStateId:"await_click_team_library_or_hide"},{id:"await_click_team_library_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",destinationStateId:"show_enable_library_list_view",conditions:[{field:"text",value:"Team Library",operator:"EQUALS"}]},{eventId:"Lost DOM Target",destinationStateId:"show_asset_panel"},b(n.WalkThroughTrackingContexts.teamLibrary)]},{id:"show_enable_library_list_view",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.EnableLibraryPointer(d.WalkthroughDataOnboardingKeys.TEAM_LIBRARY_TOGGLE_LIST_VIEW)],persistWhenAppModalShown:!0},skipHide:!0},category:l,destinationStateId:"await_enable_library_expand_file_or_hide"},{id:"await_enable_library_expand_file_or_hide",type:"EVENT",transitions:[{eventId:"Context Viewed",destinationStateId:"show_close_modal",conditions:[{field:"name",operator:"EQUALS",value:"Library Subscription Toggle"},{field:"trialsWalkThroughLibraryEnabled",value:!0,operator:"EQUALS"}]},{eventId:"Library File Expanded",destinationStateId:"show_enable_library_file_view",conditions:[{field:"fileName",value:d.proTrialLibraryName(),operator:"EQUALS"}]},{eventId:"Library File Expanded",destinationStateId:"hide_enable_library_pointer",conditions:[{field:"fileName",value:d.proTrialLibraryName(),operator:"NOT_EQUALS"}]},{eventId:"Library Search Query Changed",destinationStateId:"hide_enable_library_pointer"},{eventId:"Library Preferences Modal Tab Changed",destinationStateId:"hide_enable_library_pointer",conditions:[{field:"tab",value:_.LibraryPreferencesModalTab.LIBRARIES,operator:"NOT_EQUALS"}]},{eventId:"Lost DOM Target",destinationStateId:"is_assets_panel_active"},S,y,b(n.WalkThroughTrackingContexts.enableLibrary)]},{id:"hide_enable_library_pointer",type:"ACTION",payload:{type:"hide_content"},destinationStateId:"await_collapse_file_enable_library_or_hide"},{id:"has_active_library_search_query",type:"DATA",query:new o.TeamLibrarySearchQuery,transitions:[{operator:"EQUALS",value:!0,destinationStateId:"await_collapse_file_enable_library_or_hide"},{operator:"EQUALS",value:!1,destinationStateId:"show_enable_library_list_view"}]},{id:"show_enable_library_file_view",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.EnableLibraryPointer(d.WalkthroughDataOnboardingKeys.TEAM_LIBRARY_TOGGLE_FILE_VIEW)],persistWhenAppModalShown:!0},skipHide:!0},category:l,destinationStateId:"await_collapse_file_enable_library_or_hide"},{id:"await_collapse_file_enable_library_or_hide",type:"EVENT",transitions:[{eventId:"Library File Collapsed",destinationStateId:"has_active_library_search_query"},{eventId:"Library Search Query Changed",destinationStateId:"show_enable_library_list_view",conditions:[{field:"text",value:"",operator:"EQUALS"}]},S,u,I,y,{eventId:"Lost DOM Target",destinationStateId:"is_enable_library_toggle_visible"},b(n.WalkThroughTrackingContexts.enableLibrary)]},{id:"is_enable_library_toggle_visible",type:"DATA",query:new o.ElementWithDataOnboardingKeyVisibleQuery(d.WalkthroughDataOnboardingKeys.TEAM_LIBRARY_TOGGLE_LIST_VIEW),transitions:[{operator:"EQUALS",value:!0,destinationStateId:"show_enable_library_list_view"},{operator:"EQUALS",value:!1,destinationStateId:"is_assets_panel_active"}]},{id:"is_assets_panel_active",type:"DATA",query:new o.FullscreenLeftPanelTabQuery,transitions:[{operator:"EQUALS",value:s.LeftPanelTab.PUBLISH,destinationStateId:"show_team_library"},{operator:"NOT_EQUALS",value:s.LeftPanelTab.PUBLISH,destinationStateId:"show_asset_panel"}]},{id:"show_close_modal",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.CloseModalPointer],persistWhenAppModalShown:!0},skipHide:!0},category:l,destinationStateId:"await_close_modal_or_hide"},{id:"await_close_modal_or_hide",type:"EVENT",transitions:[{eventId:"Lost DOM Target",destinationStateId:"component_visible"},b(n.WalkThroughTrackingContexts.closeModal)]},{id:"component_visible",type:"DATA",query:new o.ElementWithDataOnboardingKeyVisibleQuery(d.WalkthroughDataOnboardingKeys.PUBLISHED_COMPONENT),transitions:[{operator:"EQUALS",value:!0,destinationStateId:"show_drag_component"},{operator:"EQUALS",value:!1,destinationStateId:"music_controls_visible"}]},{id:"music_controls_visible",type:"DATA",query:new o.ElementWithDataOnboardingKeyVisibleQuery(d.WalkthroughDataOnboardingKeys.PUBLISHED_MUSIC_CONTROLS_SECTION_HEADER),transitions:[{operator:"EQUALS",value:!0,destinationStateId:"expand_music_controls_section"},{operator:"EQUALS",value:!1,destinationStateId:"published_library_header_visible"}]},{id:"published_library_header_visible",type:"DATA",query:new o.ElementWithDataOnboardingKeyVisibleQuery(d.WalkthroughDataOnboardingKeys.PUBLISHED_LIBRARY_SECTION_HEADER),transitions:[{operator:"EQUALS",value:!0,destinationStateId:"expand_published_library_section"},{operator:"EQUALS",value:!1,destinationStateId:"show_completion_modal"}]},{id:"expand_published_library_section",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.ExpandToFindComponentPointer(d.WalkthroughDataOnboardingKeys.PUBLISHED_LIBRARY_SECTION_HEADER,5,6)]}},category:l,destinationStateId:"await_expand_published_library_or_hide"},{id:"await_expand_published_library_or_hide",type:"EVENT",transitions:[{eventId:"Section Header Toggled",destinationStateId:"await_published_music_controls_context_viewed",conditions:[{field:"headerTitle",value:d.proTrialLibraryName(),operator:"EQUALS"}]},c,b(n.WalkThroughTrackingContexts.expandSectionHeaders)]},{id:"await_published_music_controls_context_viewed",type:"EVENT",transitions:[{eventId:"Editor > Section Header",destinationStateId:"show_drag_component",conditions:[{field:"title",value:d.WalkthroughSectionHeaders.MUSIC_CONTROLS,operator:"EQUALS"},{field:"isExpanded",value:!0,operator:"EQUALS"}]},{eventId:"Editor > Section Header",destinationStateId:"expand_music_controls_section",conditions:[{field:"title",value:d.WalkthroughSectionHeaders.MUSIC_CONTROLS,operator:"EQUALS"},{field:"isExpanded",value:!1,operator:"EQUALS"}]}]},{id:"expand_music_controls_section",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.ExpandToFindComponentPointer(d.WalkthroughDataOnboardingKeys.PUBLISHED_MUSIC_CONTROLS_SECTION_HEADER,5,6)]}},category:l,destinationStateId:"await_expand_music_controls_or_hide"},{id:"await_expand_music_controls_or_hide",type:"EVENT",transitions:[{eventId:"Section Header Toggled",destinationStateId:"show_drag_component",conditions:[{field:"headerTitle",value:d.WalkthroughSectionHeaders.MUSIC_CONTROLS,operator:"EQUALS"}]},p,c,b(n.WalkThroughTrackingContexts.expandSectionHeaders)]},{id:"show_drag_component",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.ComponentPointer(d.WalkthroughDataOnboardingKeys.PUBLISHED_COMPONENT,6)],persistWhenAppModalShown:!0},skipHide:!0},category:l,destinationStateId:"await_drag_or_hide_component"},{id:"await_drag_or_hide_component",type:"EVENT",transitions:[{eventId:"Component Shared Symbol Inserted",destinationStateId:"show_completion_modal"},{eventId:"Section Header Toggled",destinationStateId:"expand_music_controls_section",conditions:[{field:"headerTitle",value:d.WalkthroughSectionHeaders.MUSIC_CONTROLS,operator:"EQUALS"}]},{eventId:"Section Header Toggled",destinationStateId:"expand_published_library_section",conditions:[{field:"headerTitle",value:d.proTrialLibraryName(),operator:"EQUALS"}]},h,p,c,b(n.WalkThroughTrackingContexts.dragComponent)]},{id:"show_completion_modal",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.ImportComponentCompletion],persistWhenAppModalShown:!0},skipHide:!0},category:l,destinationStateId:"await_import_or_hide"},{id:"await_import_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"text",value:"Import Sketch file",operator:"EQUALS"}]},b(n.WalkThroughTrackingContexts.complete)]},{id:"end_walk_through",type:"ACTION",payload:{type:"hide_content"}}]}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(830                                                  ),n=o(757                      ),i=o(1119                                              ),d=o(1492                                                                   ),r=o(1116                                 ),_=o(1492                                                                   ),s={name:r.RcsCategories.ONBOARDING_MODAL,blocking:"ONCE",priority:r.RcsPriorities.PRO_TRIAL_MODAL,whenBlocked:"WAIT"},l={eventId:"Section Header Toggled",conditions:[{field:"headerTitle",value:n.WalkthroughSectionHeaders.LOCAL_COMPONENTS,operator:"EQUALS"}],destinationStateId:"expand_local_components_section"},p={eventId:"Section Header Toggled",conditions:[{field:"headerTitle",value:n.WalkthroughSectionHeaders.MUSIC_CONTROLS,operator:"EQUALS"}],destinationStateId:"expand_music_controls_section"},c={eventId:"CTA Clicked",conditions:[{field:"text",value:"Layers",operator:"EQUALS"}],destinationStateId:"show_asset_panel"},h=e=>({eventId:"CTA Clicked",conditions:[{field:"trackingContext",value:e,operator:"EQUALS"}],destinationStateId:"end_walk_through"});t.ImportLocalComponentWalkthrough={id:"pro_trial_import_local_component_walkthrough",initialStateId:"await_editor",states:[{id:"await_editor",type:"EVENT",transitions:[{eventId:"Context Viewed",destinationStateId:"has_walk_through_query_param",conditions:[{operator:"EQUALS",value:a.TrackedContext.EDITOR,field:"name"}]}]},{id:"has_walk_through_query_param",type:"DATA",query:new i.URLParamQuery("walk_through_id"),transitions:[{operator:"EQUALS",value:n.IMPORT_COMPONENT_WALKTHROUGH_USER_FLAG,destinationStateId:"has_local_component_walk_through_path_query_param"}]},{id:"has_local_component_walk_through_path_query_param",type:"DATA",query:new i.URLParamQuery("walk_through_path"),transitions:[{operator:"EQUALS",value:n.WalkthroughPaths.LOCAL_COMPONENTS,destinationStateId:"show_asset_panel"}]},{id:"show_asset_panel",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[d.AssetPanelPointer(3)],persistWhenAppModalShown:!0}},category:Object.assign(Object.assign({},s),{whenBlocked:"BACK"}),destinationStateId:"await_click_assets_or_hide"},{id:"await_click_assets_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",destinationStateId:"await_local_component_header_viewed",conditions:[{field:"text",value:"Assets",operator:"EQUALS"}]},h(_.WalkThroughTrackingContexts.assetPanel)]},{id:"await_local_component_header_viewed",type:"EVENT",transitions:[{eventId:"Editor > Section Header",destinationStateId:"expand_local_components_section",conditions:[{field:"title",value:n.WalkthroughSectionHeaders.LOCAL_COMPONENTS,operator:"EQUALS"},{field:"isExpanded",value:!1,operator:"EQUALS"}]},{eventId:"Editor > Section Header",destinationStateId:"await_music_controls_header_viewed",conditions:[{field:"title",value:n.WalkthroughSectionHeaders.LOCAL_COMPONENTS,operator:"EQUALS"},{field:"isExpanded",value:!0,operator:"EQUALS"}]}]},{id:"expand_local_components_section",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[d.ExpandToFindComponentPointer(n.WalkthroughDataOnboardingKeys.LOCAL_COMPONENTS_SECTION_HEADER,2,3)]}},category:s,destinationStateId:"await_expand_local_components_or_hide"},{id:"await_expand_local_components_or_hide",type:"EVENT",transitions:[{eventId:"Section Header Toggled",destinationStateId:"await_music_controls_header_viewed",conditions:[{field:"headerTitle",value:n.WalkthroughSectionHeaders.LOCAL_COMPONENTS,operator:"EQUALS"}]},c,h(_.WalkThroughTrackingContexts.expandSectionHeaders)]},{id:"await_music_controls_header_viewed",type:"EVENT",transitions:[{eventId:"Editor > Section Header",destinationStateId:"expand_music_controls_section",conditions:[{field:"title",value:n.WalkthroughSectionHeaders.MUSIC_CONTROLS,operator:"EQUALS"},{field:"isExpanded",value:!1,operator:"EQUALS"}]},{eventId:"Editor > Section Header",destinationStateId:"show_drag_local_component",conditions:[{field:"title",value:n.WalkthroughSectionHeaders.MUSIC_CONTROLS,operator:"EQUALS"},{field:"isExpanded",value:!0,operator:"EQUALS"}]}]},{id:"expand_music_controls_section",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[d.ExpandToFindComponentPointer(n.WalkthroughDataOnboardingKeys.LOCAL_MUSIC_CONTROLS_SECTION_HEADER,2,3)]}},category:s,destinationStateId:"await_expand_music_controls_or_hide"},{id:"await_expand_music_controls_or_hide",type:"EVENT",transitions:[{eventId:"Section Header Toggled",destinationStateId:"show_drag_local_component",conditions:[{field:"headerTitle",value:n.WalkthroughSectionHeaders.MUSIC_CONTROLS,operator:"EQUALS"}]},l,c,h(_.WalkThroughTrackingContexts.expandSectionHeaders)]},{id:"show_drag_local_component",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[d.ComponentPointer(n.WalkthroughDataOnboardingKeys.LOCAL_COMPONENT,3)]}},category:s,destinationStateId:"await_drag_component_or_hide"},{id:"await_drag_component_or_hide",type:"EVENT",transitions:[{eventId:"Component Local Symbol Inserted",destinationStateId:"show_completion_modal"},p,l,c,h(_.WalkThroughTrackingContexts.dragComponent)]},{id:"show_completion_modal",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[d.ImportComponentCompletion],persistWhenAppModalShown:!0},skipHide:!0},category:s,destinationStateId:"await_import_or_hide"},{id:"await_import_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"text",value:"Import Sketch file",operator:"EQUALS"}]}]},{id:"end_walk_through",type:"ACTION",payload:{type:"hide_content"}}]}}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(830                                                  ),o=n(1119                                              ),a=n(1114                                                                        ),_=n(1116                                 ),d={name:_.RcsCategories.ONBOARDING_MODAL,priority:_.RcsPriorities.DEFAULT_ONBOARDING_MODAL,blocking:"ONCE",whenBlocked:"WAIT"},r=new Date(2020,5,10);e.CommunityHubOnboardingMachine={id:"community_hub_onboarding",initialStateId:"await_file_browser",states:[{id:"await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.FILE_BROWSER}],destinationStateId:"data_check_existing_user"}]},{id:"data_check_existing_user",type:"DATA",query:new o.UserQuery("created_at"),transitions:[{operator:"LESS_THAN",value:r,destinationStateId:"data_check_seen_community_hub_onboarding"}]},{id:"data_check_seen_community_hub_onboarding",type:"DATA",query:new o.ShowGeneralCommunityOnboardingQuery,transitions:[{operator:"EQUALS",value:!0,destinationStateId:"show_community_tab_pointer_step_1"}]},{id:"show_community_tab_pointer_step_1",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.CommunityHubSidebarPointer],persistWhenAppModalShown:!0}},category:d,destinationStateId:"await_community_hub_landing_or_hide"},{id:"await_community_hub_landing_or_hide",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.COMMUNITY_HUB_LANDING}],destinationStateId:"show_community_tab_pointer_step_2"},{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"trackingContext",value:a.WalkThroughTrackingContexts.step1,operator:"EQUALS"}]}]},{id:"show_community_tab_pointer_step_2",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.CommunityHubLandingPluginsTabPointer],persistWhenAppModalShown:!0}},category:d,destinationStateId:"await_plugins_tab_click_or_hide"},{id:"await_plugins_tab_click_or_hide",type:"EVENT",transitions:[{eventId:"CTA Clicked",conditions:[{operator:"EQUALS",field:"text",value:"Plugins"}],destinationStateId:"show_community_tab_pointer_step_3"},{eventId:"CTA Clicked",conditions:[{operator:"EQUALS",field:"trackingContext",value:a.WalkThroughTrackingContexts.step2}],destinationStateId:"show_community_tab_pointer_step_3"},{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"trackingContext",value:a.WalkThroughTrackingContexts.step2,operator:"EQUALS"}]}]},{id:"show_community_tab_pointer_step_3",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.CommunityHubUserPointer],persistWhenAppModalShown:!0}},category:d,destinationStateId:"await_user_page_or_hide"},{id:"await_user_page_or_hide",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.USER_DETAILS}],destinationStateId:"show_community_tab_pointer_step_4"},{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"trackingContext",value:a.WalkThroughTrackingContexts.step3,operator:"EQUALS"}]}]},{id:"show_community_tab_pointer_step_4",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.CommunityHubUserPluginPointer],persistWhenAppModalShown:!0}},category:d,destinationStateId:"await_user_plugins_page_or_hide"},{id:"await_user_plugins_page_or_hide",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.USER_DETAILS},{operator:"EQUALS",field:"view",value:i.TrackedContextView.PLUGINS}],destinationStateId:"end_walk_through"},{eventId:"Lost DOM Target",destinationStateId:"end_walk_through"},{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"trackingContext",value:a.WalkThroughTrackingContexts.step4,operator:"EQUALS"}]}]},{id:"end_walk_through",type:"ACTION",payload:{type:"hide_content"}}]}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(830                                                  ),a=n(351                      ),o=n(1116                                 ),r=n(1119                                              ),_=n(1114                                                                        );t.CommunityHubSearchOnboardingMachine={id:"community_hub_search_onboarding",initialStateId:"await_unified_search",states:[{id:"await_unified_search",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.UNIFIED_SEARCH}],destinationStateId:"data_check_seen_community_hub_search_onboarding"}]},{id:"data_check_seen_community_hub_search_onboarding",type:"DATA",query:new r.UserFlagQuery(_.COMMUNITY_HUB_SEARCH_ONBOARDING_USER_FLAG),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"await_internal_search_query"}]},{id:"await_internal_search_query",type:"EVENT",transitions:[{eventId:"search_query_result",conditions:[{operator:"EQUALS",field:"scope",value:a.SearchScope.PERSONAL}],destinationStateId:"show_community_search_pointer"}]},{id:"show_community_search_pointer",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[_.CommunitySearchPointer],persistWhenAppModalShown:!0}},category:{blocking:"NEVER",name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.SECONDARY_ONBOARDING_MODAL,whenBlocked:"BACK"}}]}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(830                                                  ),i=o(1116                                 ),a=o(1119                                              ),_=o(1114                                                                        );t.CommunityHubFollowFeedOnboardingMachine={id:"community_hub_follow_feed_onboarding",initialStateId:"await_community_hub_landing",states:[{id:"await_community_hub_landing",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:n.TrackedContext.COMMUNITY_HUB_LANDING}],destinationStateId:"data_check_seen_community_hub_follow_feed_onboarding"}]},{id:"data_check_seen_community_hub_follow_feed_onboarding",type:"DATA",query:new a.UserFlagQuery(_.COMMUNITY_HUB_FOLLOW_FEED_ONBOARDING_USER_FLAG),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"data_is_public_community_user"}]},{id:"data_is_public_community_user",type:"DATA",query:new a.UserCommunityProfileHandleQuery,transitions:[{operator:"NOT_EQUALS",value:"",destinationStateId:"show_follow_feed_pointer"}]},{id:"show_follow_feed_pointer",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[_.CommunityFollowFeedPointer]}},category:{blocking:"NEVER",name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.SECONDARY_ONBOARDING_MODAL,whenBlocked:"BACK"},destinationStateId:"await_dropdown_click_or_hide"},{id:"await_dropdown_click_or_hide",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"value",value:_.communityHubSortStateDropdownKey}],destinationStateId:"end_walk_through"},{eventId:"CTA Clicked",destinationStateId:"end_walk_through",conditions:[{field:"trackingContext",value:_.communityHubFollowFeedTrackingContext,operator:"EQUALS"}]}]},{id:"end_walk_through",type:"ACTION",payload:{type:"hide_content"}}]}}),
(function(e,r,o){e.exports={selfServePage:"org_self_serve--selfServePage--1BqBj",screenSizeWarning:"org_self_serve--screenSizeWarning--Dx6R5",logomark:"org_self_serve--logomark--3Xr7U",stepContainer:"org_self_serve--stepContainer--2pV2o",stepContent:"org_self_serve--stepContent--1kqYy",breadcrumbsPartial:"org_self_serve--breadcrumbsPartial--109VD step_breadcrumb--stepBreadcrumbs--1I2LW",breadcrumbsFull:"org_self_serve--breadcrumbsFull--1LNe2 step_breadcrumb--stepBreadcrumbs--1I2LW",pageTitle:"org_self_serve--pageTitle--21MTe",pageSubTitle:"org_self_serve--pageSubTitle--2f9R5",purchaseSummary:"org_self_serve--purchaseSummary--3vJss",sidebarScrollContainer:"org_self_serve--sidebarScrollContainer--1hd6C",summaryHeader:"org_self_serve--summaryHeader--2sjrg",summarySubheader:"org_self_serve--summarySubheader--3FysT",summaryDivider:"org_self_serve--summaryDivider--s8rAC",memberListInfo:"org_self_serve--memberListInfo--3nGa_",memberList:"org_self_serve--memberList--1uX5Z",memberColumn:"org_self_serve--memberColumn--HLjLe",columnHeader:"org_self_serve--columnHeader--27hwt",badge:"org_self_serve--badge--1R0ZC",userRow:"org_self_serve--userRow--2HI63 avatar--avatarWithHandle--2G2Vu",summaryFooter:"org_self_serve--summaryFooter--RtmBK",footerItem:"org_self_serve--footerItem--39CxW",footerLabel:"org_self_serve--footerLabel--1a2b5",footerValue:"org_self_serve--footerValue--1ouW2",bottomBuffer:"org_self_serve--bottomBuffer--qlVEj",nextStep:"org_self_serve--nextStep--K1roD",paymentForm:"org_self_serve--paymentForm--1lfGf",teamLargeTileContainer:"org_self_serve--teamLargeTileContainer--3PKNX",teamSmallTileContainer:"org_self_serve--teamSmallTileContainer--D-fxf org_self_serve--teamLargeTileContainer--3PKNX",teamTileLarge:"org_self_serve--teamTileLarge--2jwID team_tile--_largeTile--2JF-J team_tile--_teamTileBase--3vo66 text--fontPos14--3UJ36 text--_fontBase--YWDo0",content:"org_self_serve--content--3tB2B",teamTileSmall:"org_self_serve--teamTileSmall--3vCCV org_self_serve--teamTileLarge--2jwID team_tile--_largeTile--2JF-J team_tile--_teamTileBase--3vo66 text--fontPos14--3UJ36 text--_fontBase--YWDo0",teamInfo:"org_self_serve--teamInfo--1XW7_",showMoreContainer:"org_self_serve--showMoreContainer--32Nn5 visual_bell--messageContainer--3tSMR _overlayBase--_overlayBase--1sCqN text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",showMoreMessage:"org_self_serve--showMoreMessage--3AazR visual_bell--message--2RwJy",guestInfo:"org_self_serve--guestInfo--2nvH6",teamIcon:"org_self_serve--teamIcon--1dMgV team_tile--_teamIconBase--181PC",teamText:"org_self_serve--teamText--3XUsi",teamName:"org_self_serve--teamName--1oCYq text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",teamEditors:"org_self_serve--teamEditors--uhVHr text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",teamCheck:"org_self_serve--teamCheck--3nJLB",_greyBox:"org_self_serve--_greyBox--2zGyk",minEditorWarning:"org_self_serve--minEditorWarning--ApQWp org_self_serve--_greyBox--2zGyk",minEditorSvg:"org_self_serve--minEditorSvg--3o9uX",emptySeat:"org_self_serve--emptySeat--14NE6",detailsForm:"org_self_serve--detailsForm--1yJVD stripe--stripeCardAndAddress--2c5jf org_self_serve--paymentForm--1lfGf",boxBorder:"org_self_serve--boxBorder--2XIWu",stepRect:"org_self_serve--stepRect--ekkqq org_self_serve--boxBorder--2XIWu",reviewSummary:"org_self_serve--reviewSummary--3qcP3",reviewSummaryConfirmationPage:"org_self_serve--reviewSummaryConfirmationPage--3jhyP org_self_serve--reviewSummary--3qcP3",reviewSummaryReviewPage:"org_self_serve--reviewSummaryReviewPage--3kVAW org_self_serve--reviewSummary--3qcP3",reviewItem:"org_self_serve--reviewItem--1lw6x",billingDetails:"org_self_serve--billingDetails--3ZU3O",msaLabelText:"org_self_serve--msaLabelText--12imi",billingEduSubHeader:"org_self_serve--billingEduSubHeader--1Eeq2",billingText:"org_self_serve--billingText--1tEgp",billingSubText:"org_self_serve--billingSubText--3K_ZG",billingItem:"org_self_serve--billingItem--3yntJ",editorCounter:"org_self_serve--editorCounter--YhoYD",plusButton:"org_self_serve--plusButton--1YOed",counter:"org_self_serve--counter--35T1Y",counterDisabled:"org_self_serve--counterDisabled--jW4S6",textLink:"org_self_serve--textLink--38SjO org_self_serve--billingSubText--3K_ZG",confirmPaymentBox:"org_self_serve--confirmPaymentBox--1JBlH org_self_serve--_greyBox--2zGyk",msaCheck:"org_self_serve--msaCheck--1yAj3",confirmationBox:"org_self_serve--confirmationBox--2ugIp org_self_serve--boxBorder--2XIWu",flexBox:"org_self_serve--flexBox--3YIuG",confirmationPageTitle:"org_self_serve--confirmationPageTitle--2F69-",confirmationPageText:"org_self_serve--confirmationPageText--2Bxnj",confirmationPageSubTitle:"org_self_serve--confirmationPageSubTitle--Cj61s",confirmationPageSubText:"org_self_serve--confirmationPageSubText--eZN21",confirmationPageOrderDetails:"org_self_serve--confirmationPageOrderDetails--vyqln",confirmationCharge:"org_self_serve--confirmationCharge--3QU43",confirmationHR:"org_self_serve--confirmationHR--3tNik",confirmationDivider:"org_self_serve--confirmationDivider--rUxsQ org_self_serve--confirmationHR--3tNik",confirmationRow:"org_self_serve--confirmationRow--3boYv",confirmationHomeButton:"org_self_serve--confirmationHomeButton--2ngA_",confirmationPageH4:"org_self_serve--confirmationPageH4--_3zpB",confirmationAmountDue:"org_self_serve--confirmationAmountDue--1hlmm",confirmationHeading:"org_self_serve--confirmationHeading--1B7E5",greenCheck:"org_self_serve--greenCheck--3KCRW"}}),
(function(e,t,a){e.exports={closeButton:"universal_upgrade_sequence--closeButton--19ZfL",modalTitle:"universal_upgrade_sequence--modalTitle--NVvDT text--fontPos18--3M8-H text--_fontBase--YWDo0",modalSubtitle:"universal_upgrade_sequence--modalSubtitle--38EAB text--fontPos14--3UJ36 text--_fontBase--YWDo0",createTeamInput:"universal_upgrade_sequence--createTeamInput--20CQJ stripe--group--3HWZs text--fontPos14--3UJ36 text--_fontBase--YWDo0",whiteSpinner:"universal_upgrade_sequence--whiteSpinner--Nu1fq",tileUpgradeButton:"universal_upgrade_sequence--tileUpgradeButton--1AMoG upgrade_section--upgradeButton--1R-EG",nextButton:"universal_upgrade_sequence--nextButton--1uLJw",nextButtonSmall:"universal_upgrade_sequence--nextButtonSmall--k0J5M universal_upgrade_sequence--nextButton--1uLJw",createTeamSection:"universal_upgrade_sequence--createTeamSection--FfBW6",submissionError:"universal_upgrade_sequence--submissionError--3aOok",scrollContainer:"universal_upgrade_sequence--scrollContainer--1W8Ip",scrollContainerTopBorder:"universal_upgrade_sequence--scrollContainerTopBorder--1GYkM",scrollContainerBottomBorder:"universal_upgrade_sequence--scrollContainerBottomBorder--3OHzk",teamTileContainer:"universal_upgrade_sequence--teamTileContainer--1k991 org_self_serve--teamLargeTileContainer--3PKNX",teamTile:"universal_upgrade_sequence--teamTile--zNObs org_self_serve--teamTileLarge--2jwID team_tile--_largeTile--2JF-J team_tile--_teamTileBase--3vo66 text--fontPos14--3UJ36 text--_fontBase--YWDo0",lastTeamTile:"universal_upgrade_sequence--lastTeamTile--1rxgv universal_upgrade_sequence--teamTile--zNObs org_self_serve--teamTileLarge--2jwID team_tile--_largeTile--2JF-J team_tile--_teamTileBase--3vo66 text--fontPos14--3UJ36 text--_fontBase--YWDo0"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2,1    ),s=a(136                                 ),i=a(43,1         ),l=a(113                                     ),n=a(137                                    ),o=a(154                                 ),c=a(171                                ),m=a(147                                            ),d=a(475                            ),p=a(123         ),h=a(152                                          ),g=a(1498                                                            ),u=a(1499                              ),E=a(143                                      ),T=a(206                             ),S=a(271                                        ),v=a(125                        ),_=a(170                          ),N=a(411                                                  ),C=a(86            ),w=a(135                     ),b=436,B=480;t.UpgradePlan={PRO:"pro",ORG:"org"};class P extends r.Component{constructor(){super(...arguments),this.state={step:"choosePlan",upgradeTeamName:void 0,loading:void 0,apiError:void 0,showScrollContainerTopBorder:!1,showScrollContainerBottomBorder:!1},this.hideModal=(()=>{this.setState({loading:!1,apiError:!1}),this.props.dispatch(l.fileBrowser.hideModal())}),this.getEligibleUpgradeTeams=(()=>Object.values(this.props.teams).filter(e=>v.canEditTeam(e.id,this.props.permissionState)).filter(e=>!e.org_id).filter(e=>w.isProTrialActive(e)||!w.isTeamPro(e))),this.createTeam=C.debounce(()=>{this.setState({loading:!0},()=>{this.state.upgradeTeamName?this.props.dispatch(T.team.createToUpgrade({teamName:this.state.upgradeTeamName,selectedView:this.props.selectedView,onSuccess:this.hideModal,onError:()=>{this.setState({loading:!1,apiError:!0})}})):this.setState({loading:!1,apiError:!0})})}),this.selectTeam=(e=>{const t=this.props.selectedView;this.props.dispatch(c.payment.startProUpgradeFlow({teamId:e.id,selectedView:t,newTeam:!1})),this.hideModal()}),this.chooseProPlan=(()=>{const e=0===Object.keys(this.getEligibleUpgradeTeams()).length;this.setState({step:e?"createTeam":"selectTeam"})}),this.handleScroll=((e,t)=>{const a=this.getEligibleUpgradeTeams().length>=5,r=a&&0!==e,s=a&&e+t.trackHeight!==t.scrollHeight;s!=this.state.showScrollContainerBottomBorder&&this.setState({showScrollContainerBottomBorder:s}),r!=this.state.showScrollContainerTopBorder&&this.setState({showScrollContainerTopBorder:r})})}componentDidMount(){this.setState({showScrollContainerBottomBorder:this.getEligibleUpgradeTeams().length>=5}),this.props.plan===t.UpgradePlan.PRO&&this.chooseProPlan()}renderChoosePlanStep(){return r.createElement(_.UpgradeChoosePlanModal,{chooseProPlan:this.chooseProPlan,hideModal:this.hideModal})}renderSelectTeamStep(){var e;const t=this.getEligibleUpgradeTeams();let a=`${u.scrollContainer}`;this.state.showScrollContainerBottomBorder&&(a+=` ${u.scrollContainerBottomBorder}`),this.state.showScrollContainerTopBorder&&(a+=` ${u.scrollContainerTopBorder}`);const s=t[t.length-1],i=r.createElement("div",{className:u.teamTileContainer},t.map(e=>r.createElement("div",{key:e.id,className:e===s?u.lastTeamTile:u.teamTile},r.createElement("div",{className:g.teamInfo},r.createElement(d.TeamAvatar,{className:g.teamIcon,entity:e,size:40}),r.createElement("div",{className:g.teamText},r.createElement("div",{className:g.teamName},e.name),r.createElement("div",{className:g.teamEditors},p.pluralize(e.editors,"Editor")))),r.createElement(m.ButtonSecondaryTracked,{className:u.tileUpgradeButton,onClick:()=>this.selectTeam(e),trackingProperties:{teamId:e.id}},"Upgrade"))));return r.createElement(n.TrackingContext,{name:"Upgrade Select Team Modal"},r.createElement(o.ModalView,{hide:this.hideModal,size:b},r.createElement("div",{className:u.modalTitle},"Select a Team to upgrade"),r.createElement(h.CloseButton,{className:u.closeButton,onClick:this.hideModal,innerText:"close"}),r.createElement(m.Spacing,{multiple:2}),r.createElement(N.ScrollContainer,{onScroll:this.handleScroll,className:a,showScrollbar:!0,scrollingDisabled:!1},i),r.createElement(m.Spacing,{multiple:2}),r.createElement("div",{className:u.modalSubtitle},"Or create a new Team to upgrade"),this.state.apiError&&r.createElement(r.Fragment,null,r.createElement(m.Spacing,{multiple:2}),r.createElement("div",{className:u.submissionError},"There was an error processing your information. Please try again."),r.createElement(m.Spacing,{multiple:1})),r.createElement(m.Spacing,{multiple:2}),r.createElement("div",{className:u.createTeamSection},r.createElement("div",{className:u.createTeamInput},r.createElement(E.LazyInput,{placeholder:"Team name, e.g. Product Design",value:this.state.upgradeTeamName||"",onChange:e=>{this.setState({upgradeTeamName:e.target.value})},required:!0,maxLength:255})),r.createElement(m.ButtonPrimaryTracked,{className:u.nextButtonSmall,disabled:!(null===(e=this.state.upgradeTeamName)||void 0===e?void 0:e.length)||this.state.loading,onClick:this.createTeam},this.state.loading?r.createElement(S.LoadingSpinner,{className:u.whiteSpinner}):"Next"))))}renderCreateTeamStep(){var e;return r.createElement(n.TrackingContext,{name:"Upgrade Create Team Modal"},r.createElement(o.ModalView,{hide:this.hideModal,size:B},r.createElement("div",{className:u.modalTitle},"Create a Team to continue with your upgrade"),r.createElement(h.CloseButton,{className:u.closeButton,onClick:this.hideModal,innerText:"close"}),this.state.apiError&&r.createElement(r.Fragment,null,r.createElement(m.Spacing,{multiple:1.5}),r.createElement("div",{className:u.submissionError},"There was an error processing your information. Please try again."),r.createElement(m.Spacing,{multiple:1})),r.createElement(m.Spacing,{multiple:2}),r.createElement("div",{className:u.createTeamInput},r.createElement(E.LazyInput,{placeholder:"Enter Team name (you can always change this later)",value:this.state.upgradeTeamName||"",onChange:e=>{this.setState({upgradeTeamName:e.target.value})},required:!0,maxLength:255})),r.createElement(m.Spacing,{multiple:2}),r.createElement(m.ButtonPrimaryTracked,{className:u.nextButton,disabled:!(null===(e=this.state.upgradeTeamName)||void 0===e?void 0:e.length)||this.state.loading,onClick:this.createTeam},this.state.loading?r.createElement(S.LoadingSpinner,{className:u.whiteSpinner}):"Next")))}render(){return"choosePlan"===this.state.step?this.renderChoosePlanStep():"selectTeam"===this.state.step?this.renderSelectTeamStep():"createTeam"===this.state.step?this.renderCreateTeamStep():r.createElement(r.Fragment,null)}}P.displayName="UniversalUpgradeSequence";t.UniversalUpgradeSequence=i.connect(e=>({permissionState:e}))(P),t.UNIVERSAL_UPGRADE_SEQUENCE=s.registerModal(t.UniversalUpgradeSequence,"UniversalUpgradeSequence")}),
(function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=r(830                                                  ),i=r(1116                                 ),n=r(1119                                              ),s=r(1500                                                                       );a.UniversalUpgradeSequenceMachine={id:"upgrade_team",initialStateId:"await_file_browser",states:[{id:"await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:t.TrackedContext.FILE_BROWSER}],destinationStateId:"check_has_upgrade_query_param"}]},{id:"check_has_upgrade_query_param",type:"DATA",query:new n.URLParamQuery("upgrade"),transitions:[{operator:"EQUALS",value:"pro",destinationStateId:"check_in_personal_space"}]},{id:"check_in_personal_space",type:"DATA",query:new n.UserSpaceQuery,transitions:[{operator:"EQUALS",value:t.UserSpace.PERSONAL,destinationStateId:"show_pro_upgrade_sequence"}]},{id:"show_pro_upgrade_sequence",type:"ACTION",category:{name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.URGENT_ALERT,blocking:"ONCE",whenBlocked:"WAIT"},payload:{type:"show_upgrade_sequence",plan:s.UpgradePlan.PRO}}]}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(830                                                  ),o=n(1116                                 ),a=n(1119                                              ),_=n(1115                                         ),s=n(1114                                                                        ),d=new Date(2020,5,10);t.CommunityHubSignUpOnboardingMachine={id:"community_hub_sign_up_onboarding",initialStateId:"await_community_hub_landing",states:[{id:"await_community_hub_landing",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.COMMUNITY_HUB_LANDING}],destinationStateId:"data_check_existing_user"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.COMMUNITY_HUB_PROFILE}],destinationStateId:"data_check_existing_user"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.COMMUNITY_HUB_FILE}],destinationStateId:"data_check_existing_user"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.COMMUNITY_HUB_PLUGIN}],destinationStateId:"data_check_existing_user"}]},{id:"data_check_existing_user",type:"DATA",query:new a.UserQuery("created_at"),transitions:[{operator:"GREATER_THAN",value:d,destinationStateId:"data_check_seen_community_sign_up_nux_onboarding"}]},{id:"data_check_seen_community_sign_up_nux_onboarding",type:"DATA",query:new a.UserFlagQuery(s.COMMUNITY_HUB_SIGN_UP_ONBOARDING_USER_FLAG),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_sign_up_nux"}]},{id:"show_sign_up_nux",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[_.CommunityUserSignUpWelcome,_.CommunityUserSignUpProfile],persistWhenAppModalShown:!0}},category:{blocking:"UNTIL_COMPLETE",name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.DEFAULT_ONBOARDING_MODAL,whenBlocked:"BACK"}}]}}),
(function(e,o,t){e.exports={coverImage:"remote_templates_intro_modal--coverImage--3v8UY",footerText:"remote_templates_intro_modal--footerText--2Qzds",borderDiv:"remote_templates_intro_modal--borderDiv--1j56S"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(2,1    ),n=o(1109                             ),r=o(1503                                ),l=()=>a.createElement(a.Fragment,null,a.createElement("div",{className:r.coverImage,style:{backgroundImage:"url(https://static.figma.com/uploads/95ee2ee73ca0b3ebfb38468e344d0f14385b39ba)"}}),a.createElement("div",{className:r.borderDiv}),a.createElement("div",{className:r.footerText},"Check out these collaboration templates that teams are using to work together and stay connected."));t.RemoteTemplatesIntroModal={trackingContextName:"Remote Work Templates Introduction Modal",key:"new-file-icon",element:()=>a.createElement(l,null),modalType:n.ModalType.WALK_THROUGH,pointerForegroundColor:"#C7B9FF",highContrastCloseButton:!0,height:268,width:320,userFlag:"seen_remote_work_templates_intro"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const m=r(134                               );t.experimentRemoteWorkTemplates=m.experiment("exp_remote_work_templates_v1",m.getUserSeedFromEmailDomainIfPresent())}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(830                                                  ),a=o(1119                    ),r=o(1504                                                       ),i=o(1116                                 ),_=o(1505                                      ),s=o(134                               ),p=_.experimentRemoteWorkTemplates.defaultValue([]).treatment("variant",[r.RemoteTemplatesIntroModal]);t.RemoteTemplatesIntroMachine={id:"remote_templates_intro",initialStateId:"await_file_browser_or_team_page",states:[{id:"await_file_browser_or_team_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:n.TrackedContext.FILE_BROWSER}],destinationStateId:"has_not_seen_intro_before"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:n.TrackedContext.TEAM_PAGE}],destinationStateId:"has_not_seen_intro_before"}]},{id:"has_not_seen_intro_before",type:"DATA",query:new a.UserFlagQuery("seen_remote_work_templates_intro"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_intro_modal"}]},{id:"show_intro_modal",type:"ACTION",payload:{type:"show_content",onboardingSequence:{get steps(){return s.isNonOrgUser()?p.get():[]}}},category:{name:"remote_templates_intro_modal",blocking:"NEVER",priority:i.RcsPriorities.SECONDARY_ONBOARDING_MODAL,whenBlocked:"BACK"}}]}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(2,1    ),s=n(1109                                          ),r=n(1483                                    );var o;!function(e){e[e.WHY_OPT_OUT_QUESTION=0]="WHY_OPT_OUT_QUESTION",e[e.FREE_FORM_INPUT=1]="FREE_FORM_INPUT",e[e.COMPLETE=2]="COMPLETE"}(o||(o={}));const i={[o.WHY_OPT_OUT_QUESTION]:260,[o.FREE_FORM_INPUT]:276,[o.COMPLETE]:240};t.RemoteTemplatesOptOutSurvey={trackingContextName:"Remote Templates Opt-Out Survey",trackingProperties:{surveyVersion:1},element:({dismissModal:e})=>{const{state:t,setNextState:n,clickAnswer:s,fadingOut:l,height:u}=r.Survey.useSurveyState({initialState:o.WHY_OPT_OUT_QUESTION,heightProvider:e=>i[e],completeStates:[o.COMPLETE],dismissModal:e});return a.createElement(r.Survey.ModalView,{height:u,fadingOut:l,dismissModal:e},(e=>{switch(e){case o.WHY_OPT_OUT_QUESTION:return a.createElement(r.Survey.QuestionView,{question:"We noticed you chose to hide the file template options when creating a new file. Will you tell us why?",surveyAnswers:[{answer:"The templates provided aren’t relevant to me.",nextState:o.COMPLETE},{answer:"I already have templates that satisfy my needs.",nextState:o.COMPLETE},{answer:"It’s disruptive to my workflow.",nextState:o.COMPLETE},{answer:"I don’t understand how to use these templates.",nextState:o.COMPLETE},{answer:"Another reason.",nextState:o.FREE_FORM_INPUT}],onClickAnswer:s});case o.FREE_FORM_INPUT:return a.createElement(r.Survey.EnterFreeFormView,{question:"We noticed you chose to hide the file template options when creating a new file. Will you tell us why?",onSubmit:()=>n(o.COMPLETE)});case o.COMPLETE:return a.createElement(r.Survey.CompleteView,null,"Thanks for your feedback!")}})(t))},modalType:s.ModalType.SELF_CONTAINED,userFlag:"seen_remote_templates_opt_out_survey"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const _=o(830                                                  ),a=o(1116                                 ),n=o(1507                                                                                              ),i=o(1119                                              );t.RemoteTemplatesOptOutSurveyMachine={id:"remote_templates_opt_out_survey_machine",initialStateId:"await_file_browser_or_team_page_or_opt_out",states:[{id:"await_file_browser_or_team_page_or_opt_out",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:_.TrackedContext.FILE_BROWSER}],destinationStateId:"has_recently_opted_out_of_remote_templates"},{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:_.TrackedContext.TEAM_PAGE}],destinationStateId:"has_recently_opted_out_of_remote_templates"},{eventId:"CTA Clicked",conditions:[{field:"trackingContext",operator:"EQUALS",value:"FileTemplateModal"},{field:"optedOut",operator:"EQUALS",value:!0}],destinationStateId:"has_not_seen_this_survey"}]},{id:"has_recently_opted_out_of_remote_templates",type:"DATA",query:new i.UserFlagTimestampQuery("opted_out_remote_work_templates"),transitions:[{operator:"EQUALS",value:void 0,destinationStateId:"await_file_browser_or_team_page_or_opt_out"},{operator:"GREATER_THAN",value:()=>Date.now()-864e5,destinationStateId:"has_not_seen_this_survey"}]},{id:"has_not_seen_this_survey",type:"DATA",query:new i.UserFlagQuery("seen_remote_templates_opt_out_survey"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"has_not_seen_survey_recently"}]},{id:"has_not_seen_survey_recently",type:"DATA",query:new i.MsSinceLastSurveyQuery,transitions:[{operator:"GREATER_THAN",value:7776e6,destinationStateId:"notification_blocking"},{operator:"LESS_THAN",value:7776e6,destinationStateId:"await_file_browser_or_team_page_or_opt_out"}]},{id:"notification_blocking",type:"DATA",query:new i.NotificationCountQuery,transitions:[{operator:"GREATER_THAN",value:0,destinationStateId:"await_file_browser_or_team_page_or_opt_out"},{operator:"EQUALS",value:0,destinationStateId:"show_question"}]},{id:"show_question",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.RemoteTemplatesOptOutSurvey],persistBetweenContexts:e=>e.trackedContext!==_.TrackedContext.EDITOR}},category:{name:a.RcsCategories.ONBOARDING_MODAL,priority:a.RcsPriorities.SECONDARY_ONBOARDING_MODAL,blocking:"UNTIL_COMPLETE",whenBlocked:"BACK"}}]}}),
(function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=n(87      ),_=n(129           ),o=n(1121                                                                     ),t=n(1457                                                                   ),r=n(1458                                                                      ),m=n(1461                                                                   ),c=n(1462                                                                     ),s=n(1124                                                             ),p=n(1460                                                                        ),h=n(1463                                                               ),l=n(1464                                                                    ),g=n(1465                                                                  ),d=n(1466                                                              ),u=n(1467                                                          ),b=n(1468                                                                   ),v=n(1469                                                                           ),f=n(1474                                                                                 ),w=n(1475                                                                   ),F=n(1479                                                                                                    ),y=n(1480                                                           ),M=n(1485                        ),k=n(1487                                                                   ),C=n(1489                                                                   ),O=n(85                   ),S=n(211              ),x=n(1490                                  ),A=n(1493                                                            ),B=n(1494                                                        ),H=n(1495                                                                    ),P=n(1496                                                                           ),T=n(1497                                                                                ),E=n(303                             ),I=n(1501                                                                      ),U=n(1502                                       ),W=n(1506                              ),R=n(1508                                       ),j=[{machine:m.default},{machine:c.default},{machine:s.default},{machine:r.default},{machine:t.default},{machine:o.default},{machine:p.default},{machine:g.WarningChromeVersionMachine},{machine:d.RdsDowntimeAlertMachine},{machine:h.default},{machine:u.DSAOnboardingMachine},{machine:l.default},{machine:I.UniversalUpgradeSequenceMachine},{machine:v.UnifiedSearchInternalPointerMachine},{machine:M.OrgAdminSurveyMachine},{machine:b.NewTeamCreatePointerMachine,enabled:()=>!!O.getFeatureFlags().new_team_create},{machine:H.CommunityHubOnboardingMachine,enabled:()=>!!E.communityHubBrowsingEnabled()&&!_.isMobileBrowser},{machine:U.CommunityHubSignUpOnboardingMachine,enabled:()=>!!E.communityHubBrowsingEnabled()&&!_.isMobileBrowser},{machine:P.CommunityHubSearchOnboardingMachine,enabled:()=>!!E.communityHubBrowsingEnabled()&&!_.isMobileBrowser},{machine:T.CommunityHubFollowFeedOnboardingMachine,enabled:()=>!!E.communityHubBrowsingEnabled()&&!_.isMobileBrowser},{machine:y.default,enabled:()=>!!O.getFeatureFlags().exp_pro_trials_v2},{machine:x.StartProTrialFromEmailMachine,enabled:()=>!!O.getFeatureFlags().exp_pro_trials_v2},{machine:f.ChecklistMachine,enabled:()=>!!O.getFeatureFlags().exp_pro_trials_v2},{machine:F.PublishTeamLibraryWalkThrough,enabled:()=>!!O.getFeatureFlags().exp_pro_trials_v2},{machine:A.ImportPublishedComponentWalkthrough,enabled:()=>!!O.getFeatureFlags().exp_pro_trials_v2},{machine:B.ImportLocalComponentWalkthrough,enabled:()=>!!O.getFeatureFlags().exp_pro_trials_v2},{machine:k.OrgCartAbandonSurveyMachine,enabled:()=>!!O.getFeatureFlags().survey_org_cart_abandon},{machine:C.ProCartAbandonSurveyMachine,enabled:()=>!!O.getFeatureFlags().survey_pro_cart_abandon},{machine:w.default,enabled:()=>!!O.getFeatureFlags().desktop_beta_rcs&&!!S.desktopApp&&(i.mac||i.windows)},{machine:W.RemoteTemplatesIntroMachine,enabled:()=>!!O.getFeatureFlags().exp_remote_work_templates_v1},{machine:R.RemoteTemplatesOptOutSurveyMachine,enabled:()=>!!O.getFeatureFlags().exp_remote_work_templates_v1}];a.ActiveMachines=j.filter(e=>void 0===e.enabled||e.enabled()).map(e=>e.machine),a.AllMachines=j.map(e=>e.machine)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(722                                           ),a=s(206                             ),o=s(114                              ),n=s(1113                                                 ),r=s(113                                     ),c=s(1500                                                                       );t.default=class{constructor(e){this.store=e}handleAction(e,t){if("show_content"===e.type&&(e.skipHide||this.store.dispatch(i.responsiveContentActions.hideOnboardingSequence()),this.store.dispatch(i.responsiveContentActions.showOnboardingSequence({onboardingSequence:e.onboardingSequence,onboardingModalActionUuid:t}))),"hide_content"===e.type&&this.store.dispatch(i.responsiveContentActions.hideOnboardingSequence()),"start_pro_trial"===e.type){const e=this.store.getState();if(e&&"team"===e.selectedView.view){const t=e.selectedView.teamId;this.store.dispatch(a.team.startProTrial({teamId:t})),this.store.dispatch(o.showModal({type:n.PRO_TRIAL_WELCOME_MODAL,data:{hide:()=>this.store.dispatch(r.fileBrowser.hideModal()),teamId:t,entryPoint:n.ProTrialEntryPoint.NUDGE_EMAIL}}))}}if("show_upgrade_sequence"===e.type){const t=this.store.getState(),s={teams:t.teams,selectedView:t.selectedView,dispatch:this.store.dispatch,plan:e.plan};this.store.dispatch(o.showModal({type:c.UNIVERSAL_UPGRADE_SEQUENCE,data:Object.assign({},s)}))}}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(88           ),r=i(722                                           );class a{constructor(){this.interTabId=void 0,this.dispatch=void 0,this.handleEvent=(e=>{this.interTabId&&this.dispatch&&e.key===this.storageKey&&e.oldValue===a.STORAGE_FLAG&&null===e.newValue&&(this.dispatch(r.responsiveContentActions.hideOnboardingSequenceFromOtherTab({interTabId:this.interTabId})),this.interTabId=void 0,this.removeStorageListener())}),this.awaitHideFromOtherTabs=(e=>{this.interTabId=e,s.localStorageOrNull&&this.storageKey&&(s.localStorageOrNull.setItem(this.storageKey,a.STORAGE_FLAG),this.addStorageListner())}),this.hideInOtherTabs=(()=>{if(!this.interTabId)return;const e=this.storageKey;this.interTabId=void 0,s.localStorageOrNull&&e&&(s.localStorageOrNull.removeItem(e),this.removeStorageListener())})}initialize(e){this.dispatch=e}get storageKey(){if(this.interTabId)return`onboarding_seq::${this.interTabId}`}addStorageListner(){window.addEventListener("storage",this.handleEvent)}removeStorageListener(){window.removeEventListener("storage",this.handleEvent)}}a.STORAGE_FLAG="true";const n=new a;t.default=n}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(1456                       ),o=t(1509                     ),i=t(1119                   ),s=t(1510                      ),a=t(109                                                           ),c=t(212                ),d=t(1511                                                         );t(1118                               );class l{constructor(e,r=new c.ErrorHandler({sourceLanguage:c.SourceLanguage.TYPESCRIPT,executionContext:c.ExecutionContext.WEB_CLIENT})){this.delegate=e,this.errorHandler=r}reset(e){try{this.delegate.reset(e)}catch(r){this.errorHandler.raiseError(r)}}actionCompleted(e,r){try{this.delegate.actionCompleted(e,r)}catch(t){this.errorHandler.raiseError(t)}}handle(e){try{this.delegate.handle(e)}catch(r){this.errorHandler.raiseError(r)}}}r.initializeResponsiveContentEventHandler=function(e){const r=n.JsonMachineProvider.fromJson(o.ActiveMachines,new i.WebQueryProcessor(e),new s.default(e)),t=new n.Handler(r,new n.InMemoryUserMachineContextProvider,new n.InMemoryUserCategoryContextProvider),c=new l(t);!function(e,r){setInterval(()=>{const t=e.getState().user;r.handle({id:"RCS Tick",userId:t?t.id:void 0,properties:{currentTimeMs:(new Date).getTime()}})},6e4)}(e,c),a.setGlobalResponsiveContentHandler(c),d.default.initialize(e.dispatch)}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(108     ),s=a(448                                         ),l=a(205                             ),i=a(115                     ),c=a(449                                  ),r=a(113                                     ),n=a(93                                   ),d=a(206                             ),m=a(280                             ),f=a(188                               ),u=a(118                    );function p(e,t){o.default.post(`/api/folders/${e.id}/templates`).then(({data:e})=>{e.meta.files.forEach(e=>t(m.file.post({file:e})))}).catch(e=>{})}function _(e){e(c.userFlags.post({flags:{completed_welcome_sequence:!0,welcome_onboarded:!0,file_browser_onboarded:!0,community_hub_onboarded:!0,coco_onboarded:!0}}))}t.welcomeSequence=(e=>t=>(function(a){if(s.welcomeSequenceActions.submitTeamCreate.matches(a)){const i=t(a),m=e.getState(),u=m.user;if(!u)return i;const h=u.email_validated_at?3:4,w=m.welcomeSequence;return w.teamName&&w.folderName&&(w.teamId&&m.teams[w.teamId]&&w.folderId&&m.folders[w.folderId]?function(e,t,a,l,i,c,r,m){const u=[];a!==l?u.push(o.default.put(`/api/teams/${t}`,{name:l})):u.push(Promise.resolve(null)),c!==r?u.push(o.default.put("/api/folders/rename",{folder_id:i,name:r})):u.push(Promise.resolve(null)),Promise.all(u).then(t=>{const a=t[0];a&&e(d.team.put({team:a.data.meta,userInitiated:!1}));const o=t[1];if(o){let t=o.data.meta;for(let a of t)a.id===i&&e(f.folder.put({folder:a}))}}).catch(t=>{t&&t.data&&t.data.message&&e(n.flash.flash(t.data.message))}).then(()=>{e(s.welcomeSequenceActions.teamCreateSuccess({teamId:t,folderId:i})),e(s.welcomeSequenceActions.goToStep(m))})}(e.dispatch,w.teamId,m.teams[w.teamId].name,w.teamName,w.folderId,m.folders[w.folderId].name,w.folderName,h):async function(e,t,a,i){try{const u=(await o.default.post("/api/teams/create",{team_name:t.trim()})).data.meta;e(d.team.post({team:u}));let h=(await o.default.get(`/api/roles/team/${u.id}`)).data.meta;for(let t of h)e(l.role.post({role:t}));a=a.trim();let w=(await o.default.post("/api/folders",{team_id:u.id,path:a,is_invite_only:!1,is_view_only:!1})).data.meta,g=null;for(let e of w)e.name===a&&(g=e);g&&(e(f.folder.post(g)),p(g,e),e(s.welcomeSequenceActions.teamCreateSuccess({teamId:u.id,folderId:g.id}))),e(s.welcomeSequenceActions.goToStep(i)),_(e)}catch(m){console.error(m),e(c.userFlags.post({flags:{completed_welcome_sequence:!0}})),e(r.fileBrowser.selectView({view:"recentFiles"})),e(s.welcomeSequenceActions.teamCreateError()),e(n.flash.flash("Team could not be created. Try again later"))}}(e.dispatch,w.teamName,w.folderName,h)),i}if(s.welcomeSequenceActions.submitAddCollaborators.matches(a)){const o=e.getState().welcomeSequence;if(o.teamId&&o.collaborators){const t=o.collaborators.filter(e=>e).map(e=>e.trim());t.length>0&&o.teamId&&e.dispatch(l.role.sendInvites({emails:t,resourceType:i.ResourceType.TEAM,resourceIdOrKey:o.teamId,level:i.PermissionLevel.EDITOR}))}return t(a)}if(s.welcomeSequenceActions.exit.matches(a)){const t=e.getState().welcomeSequence;if(t.teamId&&t.folderId)e.dispatch(r.fileBrowser.selectViewByFolderId(t.folderId));else{const t=e.getState().folders;for(let a in t)u.isADraftsFolder(t,a)&&p(t[a],e.dispatch);_(e.dispatch),e.dispatch(r.fileBrowser.selectView({view:"recentFiles"}))}e.dispatch(c.userFlags.post({flags:{should_see_template_file_highlights:!0}}))}return t(a)}))}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(207                                   ),i=t(109                                                           ),s=t(113                                     ),r=t(1119                                              ),a=t(722                                           ),d=t(1511                                                         );n.rcsMiddleware=(e=>n=>(function(t){var c,p;if(o.fullscreen.updateMirror.matches(t)){const o=t.payload&&t.payload.selectionProperties&&t.payload.selectionProperties.derivedProperties.changes;if(o){const{user:n}=e.getState();i.getResponsiveContentHandler().handle({id:"Selection Changed",userId:null==n?void 0:n.id,properties:Object.assign(Object.assign({},o),{numSelectedTextNodes:o.numSelectedByType&&o.numSelectedByType.TEXT||0})})}return n(t)}if(s.fileBrowser.selectView.matches(t)){const o=e.getState(),i=r.getTrackedContext(o),s=n(t),d=e.getState(),c=r.getTrackedContextDetails(d),p=o.responsiveContent.onboardingSequence;return(null==p?void 0:p.persistBetweenContexts)?p.persistBetweenContexts(c)||e.dispatch(a.responsiveContentActions.hideOnboardingSequence()):i!==c.trackedContext&&e.dispatch(a.responsiveContentActions.hideOnboardingSequence()),s}if(a.responsiveContentActions.hideOnboardingSequence.matches(t)){const{responsiveContent:o,user:s}=e.getState(),r=n(t);return o.onboardingModalActionUuid&&s&&i.getResponsiveContentHandler().actionCompleted(s.id,o.onboardingModalActionUuid),(null===(c=o.onboardingSequence)||void 0===c?void 0:c.interTabId)&&d.default.hideInOtherTabs(),r}if(a.responsiveContentActions.showOnboardingSequence.matches(t))return(null===(p=t.payload.onboardingSequence)||void 0===p?void 0:p.interTabId)&&d.default.awaitHideFromOtherTabs(t.payload.onboardingSequence.interTabId),n(t);if(s.fileBrowser.showModal.matches(t)){const o=e.getState().responsiveContent.onboardingSequence;return o&&!o.persistWhenAppModalShown&&e.dispatch(a.responsiveContentActions.hideOnboardingSequence()),n(t)}return n(t)}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(734                                      ),l=a(207                                   ),n=a(114                              ),s=a(209    ),p=a(284                          ),o=a(138      ),m=a(1438                                                                  ),r=a(1505                                      ),_=a(134                               );t.loadFileTemplates=r.experimentRemoteWorkTemplates.defaultValue(e=>{}).treatment("variant",function(e){e.dispatch(i.getTemplateFiles())}).disableTracking().get(),t.handleNewFileClick=function(e,t,a,i){return _.isNonOrgUser()?r.experimentRemoteWorkTemplates.defaultValue(f(e,t,a)).treatment("variant",c(e,t,a,i)).get():f(e,t,a)};const f=(e,t,a)=>l.fullscreen.new_(s.getNewFileInfo(t,o.shouldUseDefaultOpenBehavior(e),a===p.NewFileFrom.FILE_BROWSER_SIDEBAR_DRAFTS,{from:a,selectedView:t.selectedView})),c=(e,t,a,i)=>i?f(e,t,a):n.showModal({type:m.FILE_TEMPLATE_MODAL,data:{from:a,selectedView:t.selectedView}})}),
(function(e,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=i(2,1    ),r=i(6,1        ),d=i(9,1    ),l=i(43,1         ),s=i(90             ),o=i(171                                ),n=i(93                                   ),p=i(113                                     ),m=i(319                                              ),c=i(111          );i(89              );const f=i(108     ),_=i(745                     ),u=i(746          ),w=i(398               ),g=i(747                              ),h=i(749                                       ),b=i(750                              ),y=i(763                                            ),v=i(798                                      ),M=i(800                                             ),S=i(801                                         ),k=i(879                            ),T=i(883                                   ),E=i(893                            ),L=i(898                              ),O=i(899                           ),R=i(900                            ),A=i(905                            ),B=i(906                            ),H=i(907                              ),D=i(909                             ),I=i(910                            ),U=i(916                               ),F=i(468                                        ),x=i(917                                            ),P=i(918                             ),V=i(919                               ),j=i(98                  ),W=i(279                             ),C=i(920                                  ),N=i(921                         ),X=i(1125                             ),q=i(927                       ),z=i(1126                                     ),$=i(1128                                      ),G=i(1129                                  ),J=i(1384                                       ),Q=i(1385                                    ),Y=i(1386                                                ),K=i(1387                        ),Z=i(1388                              ),ee=i(1389                         ),ae=i(1410                                        ),ie=i(1412                                  ),te=i(1413                          ),re=i(1414                          ),de=i(1416                                     ),le=i(1417                                        ),se=i(1425                                  ),oe=i(1426                               ),ne=i(1428                                     ),pe=i(1439                                      ),me=i(294            ),ce=i(1440                               ),fe=i(310                                               ),_e=i(520                                   ),ue=i(1442                     ),we=i(482                              ),ge=i(1444                                                               ),he=i(941                                                                       ),be=i(1445                         ),ye=i(317                       ),ve=i(211              ),Me=i(287                ),Se=i(85                   ),ke=i(1512                                         ),Te=i(130                     ),Ee=i(1513                                   ),Le=i(1514                                 ),Oe=i(208                               ),Re=(i(89              ),i(1118                               )),Ae=i(930                       ),Be=i(1515                          ),He=async function(){try{if(!he.OpenDesktopAppModal.shouldAutoOpen())return;try{if(!(await Me.canOpenUrlInDesktopApp(location.href)))return void c.segment.track("desktop_links",{action:"can_open_in_app_denied",source:"interstitial"})}catch(e){throw c.segment.track("desktop_links",{action:"can_open_in_app_failed",source:"interstitial"}),e}await new Promise(e=>{r.render(t.createElement(be.InAppPage,null,t.createElement(ge.DesktopAppInterstitial,{file:Se.initialOptions().editing_file,onDismiss:e})),document.getElementById("react-page"))})}catch(e){return}}();function De(e){const a=window.performance.now();return e(),window.performance.now()-a}function Ie(){me.appTimer.start("react-render"),g.dispatchUpdateMirrorIfNecessary().sceneOrVersionHistoryChanged&&Te.globalReduxStore.dispatch(m.updateLibraryFromPublishedAndLocalData())}function Ue(){me.appTimer.stop("react-render"),_e.keyboardDispatcher.focusIfUnfocused()}function Fe(e,a){let i=l.connect(e=>Object.assign(Object.assign({},e),{optimist:void 0}))(e);return De(()=>{r.render(t.createElement(l.Provider,{store:a},t.createElement(s.LivegraphProvider,{userId:Se.initialOptions().user_data?Se.initialOptions().user_data.id:null},t.createElement(i,null))),document.getElementById("react-page"))})}a.start=async function(e,a){if(ve.desktopApp&&!ve.desktopApp.isFileBrowserTab()&&!Se.initialOptions().user_data)return ve.desktopApp.setLoading(!1),ve.desktopApp.showFileBrowser(),void console.error("Not signed in, aborting init!");Re.parseAndCacheQueryParams(),fe.reactLoadTimer.domContentLoadedMs=Math.round(window.performance.now()),fe.fullscreenLoadTimer.start("createStoreStart");let i=d.compose(d.applyMiddleware(u.default,se.orgsMiddleware,w.authMiddleware,T.emailSettingsMiddleware,k.default,j.flashMiddleware,W.visualBellMiddleware,N.default,I.realtime,L.default,E.default,re.default,X.default,O.default,R.default,A.default,H.userFlagsMiddleware,h.default,b.default,y.default,v.default,M.librarySearchMiddleware,S.default,de.userNotificationsMiddleware,U.default,F.default,x.fileFollowerMiddleware,Le.rcsMiddleware,ie.default,q.default,z.keyboardShortcutMiddleware,$.paymentsMiddleware,G.cartMiddleware,J.prototypeMiddleware,Q.reloadMiddleware,Y.returnToInstanceMiddleware,K.default,Z.saveStatusMiddleware,ee.default,ae.teamAdminMiddleware,V.default,te.default,P.default,C.default,D.default,le.appWindowMiddleware,oe.sharedFonts,ne.orgRosterResultsMiddleware,Ee.welcomeSequence,B.default,pe.fileTemplateModal),e=>e,ue.frameReduxBatcher(Ie,Ue));const t=d.createStore(_.combineAppReducers(),i);Te.setGlobalReduxStore(t);try{Se.getFeatureFlags().internal_only_figmascope&&Ae.init()}catch(m){console.error("figmascope init error:",m)}const r=window.userStateXHR;async function l(){let e,a=null;f.default.shouldRetryOnStatusCode(r.status)?(delete window.userStateXHR,a=(await ye.getUserStateRequest(10)).response):(a=r.responseText,delete window.userStateXHR),fe.reactLoadTimer.jsonParseDurationMs=Math.round(De(()=>{e=JSON.parse(a)}));const i=F.pathToSelectedView(t.getState(),window.location.pathname).view;"fullscreen"===i?fe.fullscreenLoadTimer.time(()=>t.dispatch(p.fileBrowser.hydrate(e.meta)),"hydrateActionWithUserStateStart","hydrateActionWithUserStateEnd"):"communityHub"===i?t.dispatch(p.fileBrowser.hydrate(e.meta)):s(e.meta),ye.userStateCallback(),t.dispatch(p.fileBrowser.setUserStateLoaded()),ke.initializeResponsiveContentEventHandler(t)}Be.loadFileTemplates(t);const s=i=>{if(fe.reactLoadTimer.fileBrowserInitDurationMs=Math.round(De(()=>{t.dispatch(p.fileBrowser.init())})),a&&X.loadBlankFile(t),fe.reactLoadTimer.hydrateDurationMs=Math.round(De(()=>{c.segmentTrackEvent("file-browser-hydrate",{location:"app_entry"}),t.dispatch(p.fileBrowser.hydrate(i))})||0),t.getState().selectedView===Oe.EMPTY_SELECTED_VIEW){const e='"selectedView" is missing after hydrate '+` fileBrowserHydrateWasHit=${F.fileBrowserHydrateWasHit}`+` selectedViewReducerWasSkipped=${E.selectedViewReducerWasSkipped}`;console.error(e),setTimeout(()=>{throw new Error(e)}),t.dispatch(p.fileBrowser.selectView({view:"recentFiles"}))}t.dispatch(n.flash.init()),Se.initialOptions().promo&&t.dispatch(o.payment.setPromo({promo:Se.initialOptions().promo||null})),ce.initializeDesktopAppMessageHandler(t);const r=fe.fullscreenLoadTimer.time(()=>Fe(e,t),"initialReactRenderStart","initialReactRenderEnd");fe.reactLoadTimer.initialRenderDurationMs=Math.round(r),we.initializeTooltipListener(t),fe.reactLoadTimer.timeToLoadMs=Math.round(performance.now()),fe.reactLoadTimer.userStateXHRDuration=Math.round(window.userStateXHRDuration||0),fe.reactLoadTimer.report()};if(await He,"fullscreen"===F.pathToSelectedView(t.getState(),window.location.pathname).view){const e=Se.initialOptions().editing_file,a=Object.assign(Object.assign({},Se.emptyUserState),{user_flags:Se.initialOptions().user_flags||void 0,files:[e]});fe.fullscreenLoadTimer.time(()=>s(a),"initAndHydrateActionNoUserStateStart","initAndHydrateActionNoUserStateEnd")}else if("communityHub"===F.pathToSelectedView(t.getState(),window.location.pathname).view){const e=Object.assign(Object.assign({},Se.emptyUserState),{user_flags:Se.initialOptions().user_flags||void 0});s(e)}4===r.readyState?l():(r.addEventListener(f.default.Events.ABORT,l,!1),r.addEventListener(f.default.Events.TIMEOUT,l,!1),r.addEventListener(f.default.Events.ERROR,l,!1),r.addEventListener(f.default.Events.LOAD,l,!1))}}),
(function(i,n,t){i.exports={buttonContainer:"email_validation_modal--buttonContainer--1Iuou",instructions:"email_validation_modal--instructions--ax5m3",settingsLink:"email_validation_modal--settingsLink--1Uek0 blue_link--blueLink--22X56"}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=t(203                             ),s=t(113                                     ),n=t(2,1    ),l=t(1517                          ),o=t(154                                 ),r=t(147                                            ),m=t(458                         );class c extends n.Component{constructor(e){super(e),this.state={validationEmailResent:!1}}onClickUpdateEmail(e){e.preventDefault(),this.props.dispatch(s.fileBrowser.selectView({view:"user",userId:this.props.user.id,userViewTab:m.UserViewTab.SETTINGS}))}onClickResend(e){e.preventDefault(),this.state.validationEmailResent||(this.setState({validationEmailResent:!0}),this.props.dispatch(a.user.sendValidationEmail()))}render(){return n.createElement(o.Modal,Object.assign({disableClickOutsideToHide:!0,title:"Please confirm your email address",size:"medium"},this.props),n.createElement("div",{className:l.instructions},`To continue using Figma, please click the confirmation link in the email we sent to\n          ${this.props.user.email}. Check your spam folder if the email isn't showing up in your\n          inbox.`,n.createElement("br",null),n.createElement("br",null),"If you need to update your email address, you can visit ",n.createElement("a",{onClick:this.onClickUpdateEmail.bind(this),className:l.settingsLink},"the settings page"),"."),!this.state.validationEmailResent&&n.createElement("div",{className:l.buttonContainer},n.createElement(r.ButtonPrimary,{onClick:this.onClickResend.bind(this)},"Resend Email")))}}i.EmailValidationModal=c,c.displayName="EmailValidationModal"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    );class n extends i.Component{constructor(e){super(e),this.tick=(()=>{this.setState({maxIndex:this.state.maxIndex+this.props.chunkSize}),this.frameRequest=null,this.tickIfNeeded()}),this.tickIfNeeded=(()=>{this.frameRequest||(i.Children.count(this.props.children)<this.state.maxIndex?this.props.onAllChunksRendered&&this.props.onAllChunksRendered():this.frameRequest=requestAnimationFrame(this.tick))}),this.state={maxIndex:0},this.frameRequest=null}componentDidMount(){this.tickIfNeeded()}UNSAFE_componentWillReceiveProps(e){this.props.listKey!==e.listKey&&(this.setState({maxIndex:this.props.chunkSize}),this.tickIfNeeded())}componentDidUpdate(){this.tickIfNeeded()}componentWillUnmount(){this.frameRequest&&cancelAnimationFrame(this.frameRequest)}render(){const e=i.Children.toArray(this.props.children).slice(0,this.state.maxIndex);return i.createElement("div",{className:this.props.className,ref:this.props.forwardedRef},e)}}t.RenderListByChunks=n,n.displayName="RenderListByChunks"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canShowSharedFonts=function(e){if("team"!==e.selectedView.view)return!1;const t=e.teams[e.selectedView.teamId];return!!t&&null!=t.org_id}}),
(function(e,t,o){e.exports={tileNoBg:"component_tile--tileNoBg--22oxb",tile:"component_tile--tile--3AL2h component_tile--tileNoBg--22oxb",tileWithBorder:"component_tile--tileWithBorder--28I0l component_tile--tile--3AL2h component_tile--tileNoBg--22oxb",thumbWrapper:"component_tile--thumbWrapper--1TJn_","border-deleted":"component_tile--border-deleted--3oVbn","border-new":"component_tile--border-new--qtK7o",thumb:"component_tile--thumb--2Yg4u",name:"component_tile--name--NlmqO ellipsis--ellipsis--1RWY6",statusIcon:"component_tile--statusIcon---18t1","icon-new":"component_tile--icon-new--3An-6","icon-deleted":"component_tile--icon-deleted--3lyXS",badge:"component_tile--badge--2IMHY",actionBadge:"component_tile--actionBadge--2maHh component_tile--badge--2IMHY",updateBadge:"component_tile--updateBadge--1vu0f",descriptionPopoutContainer:"component_tile--descriptionPopoutContainer--2ruV0 text--_whiteText--2PkdM",descriptionPopoutArrow:"component_tile--descriptionPopoutArrow--LAh68"}}),
(function(i,t,e){i.exports={localComponentsHeaderHeight:"40px",tilePaddingGrid:"12px",tilePaddingList:"6px",tileMargin:"16px",tileThumbHeightList:"24px",tileHeightList:"30px",tileHeightDraggingList:"128px",h1Height:"36px",h3Height:"30px"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(2,1    );class i extends r.PureComponent{constructor(){super(...arguments),this.state={requestNumber:null},this.timerHandle=null,this.reload=(()=>{this.clearTimer(),this.timerHandle=this.scheduleNextReload()}),this.updateRequestTime=(()=>{const e=null===this.state.requestNumber?1:this.state.requestNumber+1;this.setState({requestNumber:e})})}clearTimer(){null!==this.timerHandle&&(clearTimeout(this.timerHandle),this.timerHandle=null)}scheduleNextReload(){const{delayMultiplier:e=10}=this.props,t=Math.min(300,e*((this.state.requestNumber||0)+Math.random()));return setTimeout(this.updateRequestTime,1e3*t)}getSrc(){return null===this.state.requestNumber?this.props.src:`${this.props.src}?requestNumber=${this.state.requestNumber}`}imgProps(){let e=Object.assign({},this.props);return delete e.delayMultiplier,e}UNSAFE_componentWillReceiveProps(e){e.src!==this.props.src&&(this.clearTimer(),this.setState({requestNumber:null}))}componentWillUnmount(){this.clearTimer()}render(){return r.createElement("img",Object.assign({},this.imgProps(),{src:this.getSrc(),onError:this.reload}))}}t.ReloadingImage=i,i.displayName="ReloadingImage"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(2,1    ),a=i(43,1         ),r=i(260                                                  ),l=i(226                       ),s=i(176                       ),o=i(1523                                                                );var m;!function(e){class t extends n.PureComponent{fetchThumbnailUrl(){const e=this.props.item.node_id;requestAnimationFrame(()=>{if(!e)return;const t=l.getThumbnailUrlForComponent(e);null!=t&&this.props.updateThumbnails([{nodeId:e,url:t,type:this.props.item.type}])})}shouldFetchThumbnail(){const{item:e,localThumbnail:t}=this.props;if(!this.props.shouldFetch)return!1;if(!e.isLocal)return!1;if(!t)return!0;if(e.type===s.LibraryItemType.STATE_GROUP){if(e.version!==t.content_hash)return!0}else if(e.content_hash!==t.content_hash)return!0;return t.url===e.thumbnail_url}render(){const{item:e,className:t,localThumbnail:i}=this.props;this.shouldFetchThumbnail()&&this.fetchThumbnailUrl();const a=i&&l.isValidThumbnailUrl(i.url)?i.url:e.thumbnail_url;return n.createElement(o.ReloadingImage,{className:t,src:a||void 0})}}t.displayName="ComponentImage";e.ConnectedLibraryItemImage=a.connect((e,t)=>({localThumbnail:t.item.node_id&&e.library.local.thumbnails[t.item.node_id]||null}),e=>({updateThumbnails:t=>{e(r.libraryThumbnail.updateThumbnails(t))}}))(t)}(m||(m={})),t.LibraryItemImage=m.ConnectedLibraryItemImage}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(2,1    ),r=o(141              ),n=o(420              ),i=o(214         ),p=o(226                       ),a=o(176                       ),l=o(224                                       ),c=o(146                        ),h=o(1521                  ),u=o(1522                                 ),m=o(422                                        ),d=o(222                                      ),g=o(1524                   );t.DEFAULT_SIZE=120,t.THUMB_PADDING=n.pxToInt(u.tilePaddingGrid);const y=n.pxToInt(m.toolbarHeight),b=o(183                                 ),M=new l.ColorCSSFormatter;class w extends s.PureComponent{render(){const{item:e}=this.props,t={};let o=null;return e.type===a.LibraryItemType.COMPONENT&&(o=p.backgroundColorToUseForLibraryItem(e)),o&&(t.background=M.format(o)),s.createElement(f,Object.assign({backgroundColor:o},this.props),s.createElement(_,Object.assign({},this.props,{className:void 0})),this.props.showName&&s.createElement("div",{className:h.name,style:t},e.name))}}t.LibraryItemTile=w,w.displayName="LibraryItemTile";class C extends s.PureComponent{render(){return s.createElement(c.Svg,{svg:b,className:`${h.updateBadge} ${this.props.className||""}`})}}t.UpdateBadge=C,C.displayName="UpdateBadge";class f extends s.PureComponent{constructor(){super(...arguments),this.state={popoutStyle:null,popoutArrowStyle:null},this.ref=(e=>{this.el=e}),this.popoutRef=(e=>{this.popout=e}),this.onMouseEnter=(()=>{if(this.el&&this.popout){const e=this.el.getBoundingClientRect(),t=(e.top+e.bottom)/2,o=this.popout.offsetHeight,s=y+6,r=window.innerHeight-o-6;let n=t-o/2;n=Math.min(n,r),n=Math.max(n,s),this.setState({popoutStyle:{left:e.right+9,top:n},popoutArrowStyle:{left:e.right,top:t}})}}),this.onMouseLeave=(()=>{this.setState({popoutStyle:null,popoutArrowStyle:null})})}render(){let e=this.props.size||t.DEFAULT_SIZE;e%2==1&&(e-=1);let o=this.props.noBackground?h.tileNoBg:h.tile;const r=Object.assign({width:e,height:e},this.props.style);return!this.props.noBackground&&this.props.backgroundColor&&(d.shouldUseBorderForBackground(this.props.backgroundColor)&&(o=h.tileWithBorder),r.background=M.format(this.props.backgroundColor)),s.createElement("div",{ref:this.ref,className:`${o} ${this.props.className||""}`,style:r,onMouseUp:this.props.onMouseUp,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},this.props.children,this.props.item.description&&!this.props.contextMenuShown&&s.createElement("div",{className:h.descriptionPopoutContainer,style:this.state.popoutStyle||void 0,ref:this.popoutRef},this.props.item.description,s.createElement("div",{className:h.descriptionPopoutArrow,style:this.state.popoutArrowStyle||void 0})))}}f.displayName="LibraryItemWrapper";class _ extends r.Component{constructor(){super(...arguments),this.onMouseDown=r.mouseEvent(this,"mousedown",e=>{this.props.onItemMouseDown&&this.props.onItemMouseDown(e,this.props.item)},{recordMetadata:e=>{const t=e.currentTarget.getBoundingClientRect(),o=new i.Vector(t.left,t.top),s=new i.Vector(e.clientX,e.clientY).subtract(o);return{percentageMousePos:new i.Vector(s.x/t.width,s.y/t.height)}},playbackMetadata:e=>{const t=this.props.size||0,o=this.props.size||0;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:t,width:o})},clientX:0+e.percentageMousePos.x*o,clientY:0+e.percentageMousePos.y*t}}}),this.onClick=(e=>{this.props.onItemClick&&this.props.onItemClick(this.props.item)}),this.onContextMenu=r.mouseEvent(this,"contextmenu",e=>{this.props.onContextMenu&&this.props.onContextMenu(e)},{recordMetadata:e=>{const t=e.currentTarget.getBoundingClientRect(),o=new i.Vector(t.left,t.top),s=new i.Vector(e.clientX,e.clientY).subtract(o);return{percentageMousePos:new i.Vector(s.x/t.width,s.y/t.height)}},playbackMetadata:e=>{const t=this.props.size||0,o=this.props.size||0;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:t,width:o})},clientX:0+e.percentageMousePos.x*o,clientY:0+e.percentageMousePos.y*t}}})}recordingKey(){return`componentThumb.${this.props.recordingNodePath}`}render(){const{item:e}=this.props,o=this.props.size||t.DEFAULT_SIZE;let r=o;return o%2==1&&(r=o-1),s.createElement("div",{className:`${h.thumbWrapper} ${this.props.className||""}`,style:{width:2*r,height:2*r},onClick:this.onClick,onMouseDown:this.onMouseDown,onContextMenu:this.onContextMenu},s.createElement(g.LibraryItemImage,{className:h.thumb,item:e,shouldFetch:!1}))}}_.displayName="LibraryItemThumb"}),
(function(e,t,a){e.exports={scrollContainer:"updates--scrollContainer--2pkY7",updatesContent:"updates--updatesContent--fZ0Zt updates--scrollContainer--2pkY7",updatesTeamSection:"updates--updatesTeamSection--oIzVP",updatesTeamHeader:"updates--updatesTeamHeader--1SPa-",updateRow:"updates--updateRow--3D3bW",updateTile:"updates--updateTile--1e5VZ",updateDeets:"updates--updateDeets--1Cp6S",updateComponentName:"updates--updateComponentName--338bg",updateSubText:"updates--updateSubText--2t9vN",updateFooter:"updates--updateFooter--1JjnE",updateButton:"updates--updateButton--3lvlN"}}),
(function(e,r,o){e.exports={scrollContainer:"library_preferences_modal--scrollContainer--1ssqn",componentAvatar:"library_preferences_modal--componentAvatar--2UGRS",orgDashboardModal:"library_preferences_modal--orgDashboardModal--RLFhM",fileListView:"library_preferences_modal--fileListView--hKVBM",fileView:"library_preferences_modal--fileView--1kR_M",modal:"library_preferences_modal--modal--eeT9M",header:"library_preferences_modal--header--p1hw3",tabs:"library_preferences_modal--tabs--2RgSw",newBadge:"library_preferences_modal--newBadge--2hGUA",modalContentContainer:"library_preferences_modal--modalContentContainer--2XR4r",sharedFonts:"library_preferences_modal--sharedFonts--1hG-3",spinner:"library_preferences_modal--spinner--2kbHm",slidingPaneContainer:"library_preferences_modal--slidingPaneContainer--3oziB",slidingPane:"library_preferences_modal--slidingPane--2C_Nx",slidingPaneRight:"library_preferences_modal--slidingPaneRight---x1w_ library_preferences_modal--slidingPane--2C_Nx",slidingPaneLeft:"library_preferences_modal--slidingPaneLeft--2_5u7 library_preferences_modal--slidingPane--2C_Nx",searchContainer:"library_preferences_modal--searchContainer--1Vprg modal--searchContainer--itrA5",backCaret:"library_preferences_modal--backCaret--2ohIl",info:"library_preferences_modal--info--1a4bO",teamSubscriptionHint:"library_preferences_modal--teamSubscriptionHint--2YuvF text--fontPos11--RSei3 text--_fontBase--YWDo0",teamSectionsWrapper:"library_preferences_modal--teamSectionsWrapper--2cDFo",overviewStats:"library_preferences_modal--overviewStats--3caNW",statBlock:"library_preferences_modal--statBlock--3deUo",componentDescriptionAndImage:"library_preferences_modal--componentDescriptionAndImage--3MGH8",componentDescription:"library_preferences_modal--componentDescription--1dr6F text--fontPos14--3UJ36 text--_fontBase--YWDo0",componentImage:"library_preferences_modal--componentImage--3uPrq library_preferences_modal--componentAvatar--2UGRS",stat:"library_preferences_modal--stat--32g4T text--fontPos14--3UJ36 text--_fontBase--YWDo0",allComponentsTable:"library_preferences_modal--allComponentsTable--PSezM",headerRow:"library_preferences_modal--headerRow--2w5fH text--fontPos11--RSei3 text--_fontBase--YWDo0",headerRowOverview:"library_preferences_modal--headerRowOverview--2DYSH library_preferences_modal--headerRow--2w5fH text--fontPos11--RSei3 text--_fontBase--YWDo0",headerRowAllComponentTable:"library_preferences_modal--headerRowAllComponentTable--3S2i4 library_preferences_modal--headerRow--2w5fH text--fontPos11--RSei3 text--_fontBase--YWDo0",row:"library_preferences_modal--row--3Rf0P text--fontPos11--RSei3 text--_fontBase--YWDo0",statsColumn:"library_preferences_modal--statsColumn--vOBxb text--fontPos11--RSei3 text--_fontBase--YWDo0",statsColVal:"library_preferences_modal--statsColVal--1aEdu library_preferences_modal--statsColumn--vOBxb text--fontPos11--RSei3 text--_fontBase--YWDo0",selected:"library_preferences_modal--selected--Z2NAU",avatarColumn:"library_preferences_modal--avatarColumn--1Epfo text--fontPos11--RSei3 text--_fontBase--YWDo0",avatarColumnComponentName:"library_preferences_modal--avatarColumnComponentName--3xRWC ellipsis--ellipsis--1RWY6",caretColumn:"library_preferences_modal--caretColumn--1VjT4",sortableCol:"library_preferences_modal--sortableCol--3T4yM",nameCol:"library_preferences_modal--nameCol--2AEYT",numCol:"library_preferences_modal--numCol--2ED53",numColGray:"library_preferences_modal--numColGray--3qjVg",numColVal:"library_preferences_modal--numColVal--1L2qB library_preferences_modal--numCol--2ED53 library_preferences_modal--numColGray--3qjVg",componentNumCol:"library_preferences_modal--componentNumCol--NAFRZ library_preferences_modal--numCol--2ED53 text--fontPos11--RSei3 text--_fontBase--YWDo0",componentNumColVal:"library_preferences_modal--componentNumColVal--2grR8 library_preferences_modal--componentNumCol--NAFRZ library_preferences_modal--numCol--2ED53 text--fontPos11--RSei3 text--_fontBase--YWDo0",oneComponentViewFileNameCol:"library_preferences_modal--oneComponentViewFileNameCol--3QSZL text--fontPos11--RSei3 text--_fontBase--YWDo0",oneComponentViewTeamCol:"library_preferences_modal--oneComponentViewTeamCol--3o6Iz text--fontPos11--RSei3 text--_fontBase--YWDo0",oneComponentViewTeamColDrafts:"library_preferences_modal--oneComponentViewTeamColDrafts--39Cyl library_preferences_modal--oneComponentViewTeamCol--3o6Iz text--fontPos11--RSei3 text--_fontBase--YWDo0",teamSection:"library_preferences_modal--teamSection--1o2xv",sectionHeader:"library_preferences_modal--sectionHeader--2Ot7E",teamSectionHeader:"library_preferences_modal--teamSectionHeader--3-z3w library_preferences_modal--sectionHeader--2Ot7E",fileRowNoHover:"library_preferences_modal--fileRowNoHover--36k7n",fileRow:"library_preferences_modal--fileRow--3sAH9 library_preferences_modal--fileRowNoHover--36k7n",upsellRow:"library_preferences_modal--upsellRow--bf-40",upsell:"library_preferences_modal--upsell--1azW8",upsellIcon:"library_preferences_modal--upsellIcon--VzEtE",upsellMessage:"library_preferences_modal--upsellMessage--3W-qp text--fontPos11--RSei3 text--_fontBase--YWDo0",componentRowNoHover:"library_preferences_modal--componentRowNoHover--Xdkfq text--fontPos11--RSei3 text--_fontBase--YWDo0",componentRow:"library_preferences_modal--componentRow--1VKKe library_preferences_modal--componentRowNoHover--Xdkfq text--fontPos11--RSei3 text--_fontBase--YWDo0",fileRowCaretRightWrapper:"library_preferences_modal--fileRowCaretRightWrapper--3aXfJ",componentRowCaretRightWrapper:"library_preferences_modal--componentRowCaretRightWrapper--3JJun",updatesRow:"library_preferences_modal--updatesRow--1EDca library_preferences_modal--fileRow--3sAH9 library_preferences_modal--fileRowNoHover--36k7n",updateBadge:"library_preferences_modal--updateBadge--2As4y",nameAndToggle:"library_preferences_modal--nameAndToggle--os21t",longNameAndToggle:"library_preferences_modal--longNameAndToggle--3VVx1 library_preferences_modal--nameAndToggle--os21t",teamNameHover:"library_preferences_modal--teamNameHover--3uuwi text--fontPos12--3tEpz text--_fontBase--YWDo0",componentOrFileName:"library_preferences_modal--componentOrFileName--B2tBN ellipsis--ellipsis--1RWY6 text--fontPos14--3UJ36 text--_fontBase--YWDo0",componentOrFileViewHeader:"library_preferences_modal--componentOrFileViewHeader--2NAhE",fileItemCount:"library_preferences_modal--fileItemCount--V5-bP",countCols:"library_preferences_modal--countCols--3ebRK",subscriptionToggleContainer:"library_preferences_modal--subscriptionToggleContainer--cewHU",subscribeLabel:"library_preferences_modal--subscribeLabel--FJCFH",libraryModalHintSpacer:"library_preferences_modal--libraryModalHintSpacer--1wN3u",libraryModalHint:"library_preferences_modal--libraryModalHint--JLkri text--fontPos11--RSei3 text--_fontBase--YWDo0",libraryModalHintText:"library_preferences_modal--libraryModalHintText--3bKEc",prefixText:"library_preferences_modal--prefixText--1_bl7",link:"library_preferences_modal--link--2M16y blue_link--blueLink--22X56",dismissLibraryModalHint:"library_preferences_modal--dismissLibraryModalHint--3KReI",bestMatches:"library_preferences_modal--bestMatches--PTVEZ",bestMatchesSpacer:"library_preferences_modal--bestMatchesSpacer--2nyqG",currentFileView:"library_preferences_modal--currentFileView--1_-vn library_preferences_modal--fileView--1kR_M",fileViewDSA:"library_preferences_modal--fileViewDSA--3gnFX",fileViewDSAWithFooter:"library_preferences_modal--fileViewDSAWithFooter--2XXFk",fileViewDSANoTab:"library_preferences_modal--fileViewDSANoTab--KYKtC",fileViewDSAWithFooterNoTab:"library_preferences_modal--fileViewDSAWithFooterNoTab--1pt3p",fileViewTab:"library_preferences_modal--fileViewTab--2anQJ text--fontPos11--RSei3 text--_fontBase--YWDo0",fileViewTabActive:"library_preferences_modal--fileViewTabActive--2Ih3J library_preferences_modal--fileViewTab--2anQJ text--fontPos11--RSei3 text--_fontBase--YWDo0",fileViewTabsHeaderBordered:"library_preferences_modal--fileViewTabsHeaderBordered--hArvq pages_panel--tabsHeaderBordered--28fYc pages_panel--tabsHeader--p4Khp",dropdown:"library_preferences_modal--dropdown--2B9LM",durationText:"library_preferences_modal--durationText--3X7ec text--fontPos11--RSei3 text--_fontBase--YWDo0",duration:"library_preferences_modal--duration--3zlnh text--fontPos11--RSei3 text--_fontBase--YWDo0",dropdownIcon:"library_preferences_modal--dropdownIcon--1kuvX",currentFileLabel:"library_preferences_modal--currentFileLabel--3pHCM",fileViewFooter:"library_preferences_modal--fileViewFooter--2wikB",componentViewFooterInlineLink:"library_preferences_modal--componentViewFooterInlineLink--1zTvD",componentViewFooterLastUpdated:"library_preferences_modal--componentViewFooterLastUpdated--1wQZB",componentViewFooter:"library_preferences_modal--componentViewFooter--2Fd6Z library_preferences_modal--fileViewFooter--2wikB",componentViewFooterText:"library_preferences_modal--componentViewFooterText--DIB-_",libraryViewFooterNumText:"library_preferences_modal--libraryViewFooterNumText--33jSx text--fontPos11--RSei3 text--_fontBase--YWDo0",fileViewFooterText:"library_preferences_modal--fileViewFooterText--1r-d-",fileViewFooterButtons:"library_preferences_modal--fileViewFooterButtons--1KiTl",fileViewFooterButton:"library_preferences_modal--fileViewFooterButton---CYTg",libraryAnalyticsHeader:"library_preferences_modal--libraryAnalyticsHeader--nMWqq text--fontPos14--3UJ36 text--_fontBase--YWDo0",subheader:"library_preferences_modal--subheader--2JS8E",libraryComparison:"library_preferences_modal--libraryComparison--3tI3g text--fontPos11--RSei3 text--_fontBase--YWDo0",libraryComparisonText:"library_preferences_modal--libraryComparisonText--2kuZx",libraryComparisonDropdown:"library_preferences_modal--libraryComparisonDropdown--26mSs",libraryComparisonItem:"library_preferences_modal--libraryComparisonItem--3Gbk_ ellipsis--ellipsis--1RWY6",svgContainer:"library_preferences_modal--svgContainer--3I4gS",graphContainer:"library_preferences_modal--graphContainer--2Sl3z text--fontPos11--RSei3 text--_fontBase--YWDo0",graphLoading:"library_preferences_modal--graphLoading--3x5Fw library_preferences_modal--graphContainer--2Sl3z text--fontPos11--RSei3 text--_fontBase--YWDo0",graphLoadingInner:"library_preferences_modal--graphLoadingInner--1CZ4g",graphSpinner:"library_preferences_modal--graphSpinner--2bUXJ",xAxis:"library_preferences_modal--xAxis--3GrWU",xAxisTop:"library_preferences_modal--xAxisTop--30-sY library_preferences_modal--xAxis--3GrWU",xAxisBottom:"library_preferences_modal--xAxisBottom--PHU7D library_preferences_modal--xAxis--3GrWU",xLabel:"library_preferences_modal--xLabel--cqmsm",graphLine:"library_preferences_modal--graphLine--2RdL4",missingData:"library_preferences_modal--missingData--2kw1t",yAxis:"library_preferences_modal--yAxis--2rHyq",dotContainer:"library_preferences_modal--dotContainer--3VMtR",invisibleDot:"library_preferences_modal--invisibleDot--3EtKz",dotPadding:"library_preferences_modal--dotPadding--1OUqs",dot:"library_preferences_modal--dot--25ouD",dotSmall:"library_preferences_modal--dotSmall--3BVZF",comparisonDot:"library_preferences_modal--comparisonDot--1uLTN library_preferences_modal--dot--25ouD",teamUsageContainer:"library_preferences_modal--teamUsageContainer--Gkijz",teamUsage:"library_preferences_modal--teamUsage--guIb2",noTeamUsage:"library_preferences_modal--noTeamUsage--2VB4b",csvContainer:"library_preferences_modal--csvContainer--3M5Ho library_preferences_modal--teamUsage--guIb2 text--fontPos12--3tEpz text--_fontBase--YWDo0",csvLink:"library_preferences_modal--csvLink--3uEsY text--fontPos11--RSei3 text--_fontBase--YWDo0",teamUsageHeader:"library_preferences_modal--teamUsageHeader--2Rc_c text--fontPos14--3UJ36 text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",usageRow:"library_preferences_modal--usageRow--3A9N3",usageLoading:"library_preferences_modal--usageLoading--2qGUW",gradientLoading:"library_preferences_modal--gradientLoading--1JkYh",usageRowTeamName:"library_preferences_modal--usageRowTeamName--YpSn2 ellipsis--ellipsis--1RWY6",grayCell:"library_preferences_modal--grayCell--1gwMZ",stylesSection:"library_preferences_modal--stylesSection--2reYe",sectionWrapper:"library_preferences_modal--sectionWrapper--eeuOZ",styleThumb:"library_preferences_modal--styleThumb--1CsKY",emptyState:"library_preferences_modal--emptyState--nrq4e",emptyStateTitle:"library_preferences_modal--emptyStateTitle--2GMFD",emptyStateSubtitle:"library_preferences_modal--emptyStateSubtitle--1Ln44"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),r=a(113                                     ),p=a(319                                              ),i=a(46,1    ),l=a(176                       ),o=a(285                            ),n=a(411                                                  ),c=a(148                                  ),d=a(1525                                                               ),m=a(147                                            ),u=a(1526           ),h=a(1527                                                ),b=a(105        );class y extends s.PureComponent{constructor(){super(...arguments),this.onClickUpdateAll=(()=>{this.props.dispatch(p.updateSharedComponents({components:o.flattenLibraryItems(this.props.library.updates.components)})),this.props.dispatch(p.updateSharedStateGroups({stateGroups:o.flattenLibraryItems(this.props.library.updates.stateGroups)})),this.props.dispatch(p.updateSharedStyles({styles:o.flattenLibraryItems(this.props.library.updates.styles)})),this.props.dispatch(r.fileBrowser.hideModal())}),this.updateComponent=(e=>{this.props.dispatch(p.updateSharedComponents({components:[e]}))}),this.updateStateGroup=(e=>{this.props.dispatch(p.updateSharedStateGroups({stateGroups:[e]}))}),this.updateStyle=(e=>{this.props.dispatch(p.updateSharedStyles({styles:[e]}))})}render(){const e=this.props.library.updates.components,t=this.props.library.updates.stateGroups,a=this.props.library.updates.styles,r=Object.keys(Object.assign(Object.assign(Object.assign({},e),t),a)),p={id:l.NO_TEAM_ID,name:"Drafts"},i=r.map(e=>e===l.NO_TEAM_ID?p:this.props.teams[e]).filter(e=>!!e);b.sortAlphabeticallyByProperty(i,"name");const o=0===i.length;return s.createElement(c.TabLoop,null,s.createElement(n.ScrollContainer,{width:this.props.width,className:u.updatesContent,showScrollbar:!0},o&&s.createElement("div",{className:h.emptyState},s.createElement("div",{className:h.emptyStateTitle},"No updates available"),s.createElement("div",{className:h.emptyStateSubtitle},s.createElement("div",null,"Updates to components or styles"),s.createElement("div",null,"will show up here as they become available."))),!o&&i.map(r=>{const p=r.id,i=e[p]||{},l=t[p]||{},o=a[p]||{},n=Object.keys(Object.assign(Object.assign(Object.assign({},i),l),o));if(n.length)return s.createElement("div",{className:u.updatesTeamSection,key:p},s.createElement("div",{className:u.updatesTeamHeader},"Updates from ",r.name),n.map(e=>s.createElement(s.Fragment,{key:e},s.createElement(_,Object.assign({itemList:Object.values(i[e]||{}),onClickUpdate:this.updateComponent},this.props)),s.createElement(_,Object.assign({itemList:Object.values(l[e]||{}),onClickUpdate:this.updateStateGroup},this.props)),s.createElement(_,Object.assign({itemList:Object.values(o[e]||{}),onClickUpdate:this.updateStyle},this.props)))))})),s.createElement("div",{className:u.updateFooter},s.createElement(m.ButtonPrimary,{disabled:o,autoFocus:!0,className:u.updateButton,onClick:this.onClickUpdateAll},"Update all")))}}t.Updates=y,y.displayName="Updates";class _ extends s.PureComponent{render(){return this.props.itemList.map(e=>s.createElement(f,Object.assign({key:e.node_id,libraryItemToUpdate:e,onClickUpdate:this.props.onClickUpdate},this.props)))}}_.displayName="UpdateList";class f extends s.PureComponent{constructor(){super(...arguments),this.onClickUpdate=(()=>{this.props.onClickUpdate(this.props.libraryItemToUpdate)})}render(){const e=this.props.libraryItemToUpdate,t=this.props.fileByKey[e.file_key],a=t&&t.folder_id?this.props.folders[t.folder_id]:null;return s.createElement("div",{className:u.updateRow},s.createElement(d.LibraryItemTile,{size:82,className:u.updateTile,item:e}),s.createElement("div",{className:u.updateDeets},s.createElement("div",{className:u.updateComponentName},s.createElement("strong",null,e.name),t&&` in ${t.name}`),s.createElement("div",{className:u.updateSubText},s.createElement("div",null,"Updated",e.user&&` by ${e.user.handle}`),a&&s.createElement("div",null,"in ",a.name),i(e.updated_at).fromNow())),s.createElement(m.ButtonSecondary,{className:u.updateButton,onClick:this.onClickUpdate},"Update"))}}f.displayName="LibraryItemUpdate"}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const c=t(420              ),n=t(422                                        );s.ROW_HEIGHT=c.pxToInt(n.objectRowHeight),s.SECTION_ROW_HEIGHT=24}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=r(649                                        ),i=r(650                                              ),o=r(122          ),l=r(228         ),d=r(1529                               ),u=r(261                               );function s(e,n,r,t){return e.top+d.ROW_HEIGHT>t-n&&e.top<t+r+n||!!e.fixed}function a(e){return e/2}function c(e,n){const r=e.get(n);if(l.assertDev(null!=r,"node not found in scenegraph"),!(r.isExpanded||r.isTemporarilyExpanded)||0===r.reversedChildren.length)return d.ROW_HEIGHT;let t=d.ROW_HEIGHT;r.fixedChildrenCount>0&&(t+=2*d.SECTION_ROW_HEIGHT);for(let i of r.reversedChildren)t+=c(e,i);return t}function f(e,n,r,t,o=!1){let l=null,u=null,s=null;for(let i in r){const e=r[i],n=e+d.ROW_HEIGHT;if(t>=e&&t<=n){l=i;break}(!u||r[i]<r[u])&&(u=i),(!s||r[i]>r[s])&&(s=i)}if(l||(u&&t<r[u]?l=u:s&&t>r[s]+d.ROW_HEIGHT&&(l=s)),l&&o){const r=i.directlySelectedAncestorOrSelf(e,n,l);if(r)return r.guid}return l}n.isRowWithinDistanceOfViewport=s,n.shouldRenderRow=function(e,n,r){return s(e,a(n),n,r)},n.filterVisibleRows=function(e,n,r){if(!e.length)return[];const t=n=>{let r,t,i=e.length,o=0,u=i-1;if(n<=0)return 0;if(n>=e[i-1].top+d.ROW_HEIGHT)return i-1;for(l.assertDev(o<=u,"binary search min <= max predicate failed");o<=u;)if((t=e[r=(o+u)/2|0]).top+d.ROW_HEIGHT<n)o=r+1;else{if(!(t.top>n))return r;u=r-1}return r},i=a(n),o=r+n+i,u=t(r-i),s=t(o);return e.slice(u,s+1)},n.subtreeHeight=c,n.guidToPathFromRoot=function(e,n){const r=[];let t=n.get(e);for(l.assertDev(null!=t,"node not found in scenegraph");t&&"CANVAS"!==t.type;){const e=t.guid;t=null!=t.parent?n.get(t.parent):null,l.assertDev(null!=t,"parent node not found in scenegraph");const i=t.reversedChildren.indexOf(e);r.push(i)}return r.reverse(),r},n.pathFromRootToGuid=function(e,n,r){const t=e.reduce((e,r)=>n.get(e.reversedChildren[r]),n.get(r));return l.assertDev(null!=t,"node from path is not found in scenegraph"),t.guid},n.guidAtPosition=f;const p=16;function h(e,n){if("CANVAS"===n.parent.type||"DOCUMENT"===n.parent.type)return n;if(!(n.index===n.parent.reversedChildren.length))return n;if(n.section===u.ScrollBehavior.FIXED)return n;let r=t.getParent(e,n.parent.guid);l.assertDev(null!=r,"parent node not in scenegraph");let i=r.reversedChildren.indexOf(n.parent.guid);return{parent:r,index:i+1,section:i<r.fixedChildrenCount?u.ScrollBehavior.FIXED:u.ScrollBehavior.SCROLLS}}function g(e,n){if(0===n.index)return n;const r=e.get(n.parent.reversedChildren[n.index-1]);return l.assertDev(null!=r,"node not in scenegraph"),t.isNodeTypeWithChildren(r.type)?n.index===n.parent.fixedChildrenCount?n:!r.isExpanded&&!r.isTemporarilyExpanded&&r.reversedChildren.length>0?n:{parent:r,index:r.reversedChildren.length,section:u.ScrollBehavior.SCROLLS}:n}const C=o.memoizeLast((e,n)=>{let r=1/0;return i.forEachDirectlySelectedNode(e,n,n=>{n&&(r=Math.min(r,t.countParents(e,n.guid)))}),r===1/0&&(r=0),r});function v(e,n,r,i,o,l,s){const a=i>0?Math.floor(i/p):Math.ceil(i/p),f=C(e,n)+a,v=l<o.reversedChildren.length?r[o.reversedChildren[l]]+("before"===s?0:d.ROW_HEIGHT):r[o.guid]+c(e,o.guid);let x={parent:o,index:l+("before"===s?0:1),section:l<o.fixedChildrenCount?u.ScrollBehavior.FIXED:u.ScrollBehavior.SCROLLS},S=t.countParents(e,o.guid)+1;for(;S>f;){const n=h(e,x);if(n===x)break;x=n,S--}for(;S<f;){const n=g(e,x);if(n===x)break;x=n,S++}const H=x.parent.guid;return{parentGuid:H,index:x.index,section:x.section,parentTop:r[H],lineTop:v,lineIndent:S*p}}function x(e,n,r,o,s,a){const f=e.get(o);if(!f)return null;const p=r[o],h=t.getParent(e,o);l.assertDev(null!=h,"parent not found");const g=h.reversedChildren.indexOf(o),C=t.isNodeTypeWithChildren(f.type),x=(t,i,o)=>v(e,n,r,s,t,i,o);if(C&&i.isDirectlySelected(n,o)){return x(h,g,a>p+c(e,o)/2?"after":"before")}if(C){if(a<p+d.ROW_HEIGHT/3)return x(h,g,"before");if(a<p+2*d.ROW_HEIGHT/3){const n=e.get(o);return n?{parentGuid:o,index:n.fixedChildrenCount,section:u.ScrollBehavior.SCROLLS,parentTop:p}:null}return f.isExpanded||f.isTemporarilyExpanded?x(f,0,"before"):x(h,g,"after")}if(a>p+d.ROW_HEIGHT){let n=f;for(;"CANVAS"!==n.type;){const r=null!=n.parent?e.get(n.parent):null;l.assertDev(null!=r,"node not in scenegraph"),n=r}return x(n,n.reversedChildren.length,"before")}return x(h,g,a>p+d.ROW_HEIGHT/2?"after":"before")}n.findDropTarget=function(e,n,r,t,o,d,s){if(s){const n=e.get(s);return n?{parentGuid:s,index:n.fixedChildrenCount,section:u.ScrollBehavior.SCROLLS,parentTop:"sticky"}:null}{const s=function(e,n){let r=null;for(let t in e){const i=e[t];n>=i.top&&n<i.top+i.height&&(!r||i.top>r.top)&&(r=i)}return r}(t,d),a=f(e,n,r,d,!0);let c=null;return!a&&s?c=function(e,n,r,t,o,d){const s=i.directlySelectedAncestorOrSelf(e,n,t.parentGuid);if(s)return x(e,n,r,s.guid,o,d);{const i=e.get(t.parentGuid);return l.assertDev(null!=i,"parent node not in scenegraph"),v(e,n,r,o,i,t.type===u.ScrollBehavior.FIXED?0:i.fixedChildrenCount,"before")}}(e,n,r,s,o,d):a&&(c=x(e,n,r,a,o,d)),c&&s&&s.parentGuid===c.parentGuid&&(c.section=s.type),c}}}),
(function(e,n,t){e.exports={margin12:"component_tiles--margin12--22t3w",stickySectionHeader:"component_tiles--stickySectionHeader--3i5QD ellipsis--ellipsis--1RWY6",sectionHeader:"component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",subSectionHeader:"component_tiles--subSectionHeader--2uVsN component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",componentContainer:"component_tiles--componentContainer--3fJUP",section:"component_tiles--section--2WHrl",margin24:"component_tiles--margin24--s6TYe",stickySection:"component_tiles--stickySection--rqC96",componentTiles:"component_tiles--componentTiles--16rL2",draggingThumb:"component_tiles--draggingThumb--1c_L8",contextMenu:"component_tiles--contextMenu--3OVMD",stickySectionPage:"component_tiles--stickySectionPage--UcOwD component_tiles--stickySection--rqC96",expandingSectionHeader:"component_tiles--expandingSectionHeader--3Qonr component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",expandCaret:"component_tiles--expandCaret--3jdRX object_row--expandCaret--3nMet object_row--indent--2n1Cf",tallSectionHeader:"component_tiles--tallSectionHeader--2w5hs component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",expandCaretOpen:"component_tiles--expandCaretOpen--1org1 component_tiles--expandCaret--3jdRX object_row--expandCaret--3nMet object_row--indent--2n1Cf",sectionHeaderText:"component_tiles--sectionHeaderText--Q4whg ellipsis--ellipsis--1RWY6",expandedSection:"component_tiles--expandedSection--2nwRO"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(2,1    ),o=s(113                                     ),i=s(319                                              ),r=s(111          ),a=s(88           ),l=s(141              ),c=s(139                        ),p=s(141              ),d=s(215                                          ),m=s(261                               ),h=s(227                                ),u=s(226                       ),g=s(313                           ),y=s(209                ),b=s(650                                              ),f=s(1530                                                            ),S=s(214         ),_=s(420              ),v=s(176                       ),N=s(747                              ),E=s(1525              ),w=s(409                                  ),I=w.dropdown.Dropdown,C=w.dropdown.Option,P=s(146                        ),x=s(1519                                                           ),T=s(1531                   ),M=s(1522                                 ),L=s(105        ),k=s(123         ),O=s(1101                             ),D=s(1102                              ),K=_.pxToInt(M.tileMargin);class U extends n.Component{render(){let e=new Map,t=new Map;this.props.items.forEach(s=>{let n=s.containing_frame||{},o=n.pageId||"NO_PAGE",i=n.pageName||"";t.set(o,i);let r=e.get(o);r?r.push(s):e.set(o,[s])});const s=Array.from(e.keys()).sort((e,s)=>k.compareStringsNaturally(t.get(e),t.get(s))),o=s.length>1;return n.createElement("div",null,s.map(s=>{const i=e.get(s)||[],r=t.get(s)||"",a=o&&!!r;return n.createElement(G,{className:a?T.stickySectionPage:T.stickySection,key:s,showTitle:a,headerText:r},n.createElement(F,Object.assign({},this.props,{items:i})))}))}}t.LibraryItemTilesByPage=U,U.displayName="LibraryItemTilesByPage";class G extends n.PureComponent{render(){return n.createElement("div",{className:`${T.margin24} ${this.props.className||T.stickySection}`},this.props.showTitle&&n.createElement("div",{className:T.stickySectionHeader},this.props.headerText),this.props.children)}}t.StickySection=G,G.displayName="StickySection";class F extends n.PureComponent{constructor(){super(...arguments),this.CHUNK_SIZE=5}render(){const e={},t=[];for(const n of this.props.items){const s=n.containing_frame;s&&s.nodeId&&s.nodeId!==n.node_id?(e[s.nodeId]=e[s.nodeId]||[],e[s.nodeId].push(n)):t.push(n)}L.sortAlphabeticallyByProperty(t,"name");const s=Object.keys(e);s.sort((t,s)=>{var n,o;const i=(null===(n=e[t][0].containing_frame)||void 0===n?void 0:n.name)||"",r=(null===(o=e[s][0].containing_frame)||void 0===o?void 0:o.name)||"";return i.toLowerCase()<r.toLowerCase()?-1:1});const o=s.join(",");return n.createElement("div",{className:T.margin24},t.length>0&&n.createElement($,Object.assign({},this.props,{items:t})),n.createElement(x.RenderListByChunks,{chunkSize:this.CHUNK_SIZE,listKey:o},s.map(t=>{var s;const o=e[t];L.sortAlphabeticallyByProperty(o,"name");const i=o[0];return i?n.createElement(V,{key:t,title:(null===(s=i.containing_frame)||void 0===s?void 0:s.name)||"",localStorageKey:`${i.file_key}-${t}`,canCollapseSections:this.props.canCollapseSections},n.createElement($,Object.assign({},this.props,{items:o}))):null})))}}t.LibraryItemTilesByFrame=F,F.displayName="LibraryItemTilesByFrame";class V extends n.Component{constructor(e){super(e),this.localStorageKey=(()=>`library-section-expanded-${this.props.localStorageKey}`),this.toggleExpanded=(()=>{const e=!this.state.expanded;null!==a.localStorageOrNull&&a.localStorageOrNull.setItem(this.localStorageKey(),JSON.stringify(e)),this.setState({expanded:e})});let t=!1;const s=null===a.localStorageOrNull||void 0===a.localStorageOrNull?void 0:a.localStorageOrNull.getItem(this.localStorageKey());null!=s&&(t=JSON.parse(s)),this.state={expanded:!!t}}render(){return this.props.canCollapseSections?n.createElement("div",{className:T.section},n.createElement("div",{className:T.expandingSectionHeader,onMouseDown:this.toggleExpanded},n.createElement(P.Svg,{key:"expand-caret",className:this.state.expanded?T.expandCaretOpen:T.expandCaret,svg:this.state.expanded?O:D}),n.createElement("div",{className:T.sectionHeaderText},this.props.title)),this.state.expanded&&n.createElement("div",{className:T.expandedSection},this.props.children)):n.createElement(B,Object.assign({},this.props))}}t.ExpandingLibrarySection=V,V.displayName="ExpandingLibrarySection";class B extends n.Component{render(){return n.createElement("div",{className:T.section},n.createElement("div",{className:T.tallSectionHeader},this.props.title),this.props.children)}}t.LibrarySection=B,B.displayName="LibrarySection";class j extends n.Component{render(){return n.createElement("div",{className:T.section},n.createElement("div",{className:T.subSectionHeader},this.props.title),this.props.children)}}t.LibrarySubSection=j,j.displayName="LibrarySubSection";const A=(e,t)=>{const s=Math.floor(e/100);return(e+2-(s-1)*K-2*t)/s};class $ extends l.Component{constructor(e){super(e),this.CHUNK_SIZE=50,this.thumbSize=(()=>A(this.props.width,24)),this.thumbImage=null,this.onComponentMouseDown=((e,t)=>{if(2===e.button||e.ctrlKey)return;e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&document.activeElement.blur(),this.isClick=!0,u.teamLibraryItemSceneGraphCache.get(t),!t.isLocal&&t.component_key&&this.props.dispatch(i.getPublishedComponent({componentKey:t.component_key})),this.setState({draggingLibraryItem:t}),document.addEventListener("mouseup",this.onDocumentMouseUp);const s=e.currentTarget.getBoundingClientRect(),n=new S.Vector(s.left,s.top),o=new S.Vector(e.clientX,e.clientY);this.thumbImage=new Image,this.thumbImage.src=t.thumbnail_url||"",this.thumbImage.onload=(()=>{const e=this.thumbSize(),t=e-2*E.THUMB_PADDING;let s,i,r=this.thumbImage.naturalWidth/2,a=this.thumbImage.naturalHeight/2;r>a?i=(s=Math.min(r,t))*(a/r):s=(i=Math.min(a,t))*(r/a);const l=new S.Vector(e/2-s/2,e/2-i/2),c=o.subtract(n),p=new S.Vector((c.x-l.x)/s,(c.y-l.y)/i);this.state.draggingLibraryItem&&this.setState({dragOffset:c,componentMousePercentageOffset:p}),document.addEventListener("mousemove",this.onDocumentMouseMove)})}),this.onDocumentMouseMove=l.mouseEvent(this,"mousemove",e=>{const t=new S.Vector(e.clientX,e.clientY);this.state.dragPosition&&this.state.dragPosition.distanceTo(t)>5&&(this.isClick=!1),this.setState({dragPosition:t})},{recordMetadata:e=>{const t=d.fullscreen.getViewportInfo(),s=new S.Vector(t.x,t.y),n=new S.Vector(e.clientX,e.clientY).subtract(s);return{canvasPosition:h.viewportPositionToCanvas(t,n)}},playbackMetadata:e=>{const t=d.fullscreen.getViewportInfo(),s=new S.Vector(t.x,t.y),n=h.canvasPositionToViewport(t,e.canvasPosition),o=S.Vector.add(n,s);return{clientX:o.x,clientY:o.y}}}),this.onDocumentMouseUp=l.mouseEvent(this,"mouseup",e=>{const t=e.target,s=this.state.draggingLibraryItem;if(this.thumbImage&&(this.thumbImage.onload=null),this.isClick){if(this.props.sceneGraphSelection&&this.props.sceneGraph&&s){const t=s.node_id;e.shiftKey||e.metaKey?b.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,t)?N.removeFromSelection([t]):N.addToSelection([t]):(N.clearSelection(),m.Fullscreen.setCurrentPageFromNode(t),N.addToSelection([t])),d.fullscreen.commit()}}else if(s&&this.state.dragPosition&&("canvas"===t.tagName.toLowerCase()||t.getAttribute("data-allow-component-drop")||g.isMacDebugApp&&t.getAttribute("data-forward-events-to-fullscreen"))){const e=d.fullscreen.getViewportInfo(),t=new S.Vector(e.x,e.y),n=this.state.dragPosition.subtract(t),o=h.viewportPositionToCanvas(e,n),a=y.getEditingFile(this.props);if(r.segmentTrackEvent("Instance Dropped",{isLocal:(null==a?void 0:a.key)===s.file_key,searchQuery:this.props.library.librarySearchQuery,source:this.props.sourceForTracking}),s.type===v.LibraryItemType.STATE_GROUP)this.props.dispatch(i.insertSharedStateGroup({item:s,canvasPosition:o,percentageOffset:this.state.componentMousePercentageOffset||{x:0,y:0},insertAsChildOfCanvas:!1}));else{if(s.type!==v.LibraryItemType.COMPONENT)throw new Error(`Unexpected type for dragging library item: ${s.type}`);this.props.dispatch(i.insertSharedComponent({item:s,canvasPosition:o,percentageOffset:this.state.componentMousePercentageOffset||{x:0,y:0},insertAsChildOfCanvas:!1}))}}document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousemove",this.onDocumentMouseMove),this.setState({draggingLibraryItem:null,dragPosition:null})},{recordMetadata:e=>({shiftKey:e.shiftKey,metaKey:e.metaKey,targetTagName:e.target.tagName.toLowerCase()}),playbackMetadata:e=>({shiftKey:e.shiftKey,metaKey:e.metaKey,target:{tagName:e.targetTagName}})}),this.onContextMenu=((e,t)=>{t.preventDefault(),t.stopPropagation(),this.props.dispatch(o.fileBrowser.showDropdown({type:$.CONTEXT_MENU_ID,data:{component:e,position:{top:t.clientY,left:t.clientX}}})),this.props.sceneGraphSelection&&this.props.sceneGraph&&!b.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,e.node_id)&&(N.clearSelection(),m.Fullscreen.setCurrentPageFromNode(e.node_id),N.addToSelection([e.node_id]),d.fullscreen.commit())}),this.state={draggingLibraryItem:null,dragPosition:null,dragOffset:null,componentMousePercentageOffset:null}}componentDidUpdate(e,t){super.componentDidUpdate(e,t);const s=!!t.draggingLibraryItem,n=!!this.state.draggingLibraryItem;d.fullscreen.isReady()&&s!==n&&m.Fullscreen.setIsDraggingInstanceFromSidebar(n)}render(){let e=this.thumbSize(),t=null,s=!1;this.props.dropdownShown&&this.props.dropdownShown.type===$.CONTEXT_MENU_ID&&(t=this.props.dropdownShown.data.component);const o=[];for(const r of this.props.items){let i="";this.props.sceneGraph&&(c.isRecording()||p.isRunningInteractionTests())&&(i=f.guidToPathFromRoot(r.node_id,this.props.sceneGraph).join("-"));const a=!(!t||t.node_id!==r.node_id);s=s||a,o.push(n.createElement(E.LibraryItemTile,{key:`${r.file_key}.${r.node_id}`,item:r,showName:!0,size:e,onItemClick:this.props.onItemClick,onItemMouseDown:this.onComponentMouseDown,onContextMenu:this.onContextMenu.bind(this,r),contextMenuShown:a,recordingNodePath:i}))}const i=this.props.items.map(e=>e.type===v.LibraryItemType.COMPONENT?e.component_key:e.key).join(",");return n.createElement("div",{className:`${T.margin24} ${this.props.className?this.props.className:""}`},n.createElement("div",{className:T.componentContainer},n.createElement(x.RenderListByChunks,{chunkSize:this.CHUNK_SIZE,listKey:i,className:T.componentTiles},o)),n.createElement(R,{draggingLibraryItem:this.state.draggingLibraryItem,dragPosition:this.state.dragPosition,dragOffset:this.state.dragOffset,containerWidth:this.props.width}),s&&n.createElement(H,Object.assign({},this.props)))}}t.LibraryItemTiles=$,$.displayName="LibraryItemTiles",$.CONTEXT_MENU_ID="shared-component-library-component-context-menu";class H extends n.PureComponent{render(){var e,t;let s=null;if(this.props.dropdownShown&&this.props.dropdownShown.type===$.CONTEXT_MENU_ID&&(s=this.props.dropdownShown.data.component),!s)return null;const o=y.getEditingFile(this.props);if(!o)return null;const i=this.props.fileByKey[s.file_key],r=i.key===o.key;if(r&&!this.props.isFilePublished)return null;const a=s.isPublishable;return n.createElement(I,{className:T.contextMenu,style:null===(t=null===(e=this.props.dropdownShown)||void 0===e?void 0:e.data)||void 0===t?void 0:t.position},r&&this.props.isFilePublished&&n.createElement(C,{onClick:()=>{d.fullscreen.updateSelectionProperties({isSymbolPublishable:!(null==s?void 0:s.isPublishable)})}},a?"Remove from library":"Add to library"),!r&&n.createElement(C,{href:`${i.url}?node-id=${encodeURIComponent(s.node_id)}`,target:"_blank"},"Go to Main Component"))}}H.displayName="ComponentTileContextMenu";class R extends n.PureComponent{render(){if(!this.props.draggingLibraryItem||!this.props.dragPosition||!this.props.dragOffset)return null;const e=this.props.dragPosition.subtract(this.props.dragOffset);return n.createElement(E.LibraryItemTile,{className:T.draggingThumb,item:this.props.draggingLibraryItem,size:A(this.props.containerWidth,12),style:{top:e.y,left:e.x},showName:!1,noBackground:!0})}}R.displayName="DraggingLibraryItem"}),
(function(g,e,t){g.exports={toggleContainer:"toggle--toggleContainer--sGxes",disabledToggleContainer:"toggle--disabledToggleContainer--21N7d toggle--toggleContainer--sGxes",_toggleState:"toggle--_toggleState--2oyRv",toggleOff:"toggle--toggleOff--3eMRu toggle--_toggleState--2oyRv",toggle:"toggle--toggle--1xVb_",toggleOn:"toggle--toggleOn--1OfWb toggle--_toggleState--2oyRv"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(2,1    ),s=o(141              ),n=o(1533          ),i=o(232                       );t.Toggle=class extends s.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{this.props.onChange(!this.props.on,e)})}render(){let e=this.props.disabled?n.disabledToggleContainer:n.toggleContainer;return this.props.containerClassName&&(e+=` ${this.props.containerClassName}`),a.createElement("div",{className:e,onMouseDown:this.onChange,"data-onboarding-key":this.props.dataOnboardingKey,"data-tooltip-max-width":400,"data-tooltip-timeout-delay":50,"data-tooltip-type":i.TooltipType.TEXT,"data-tooltip":this.props.tooltipText},a.createElement("div",{className:this.props.on?n.toggleOn:n.toggleOff},a.createElement("div",{className:n.toggle})))}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(176                       ),n=s(105        ),r=s(264                                  ),a=s(285                            ),o=s(226                       );function u(e){const t=o.sortedLibraryItemsForFile(e),s=[],n=[],r=[];let a=0,u=0;for(let o of t)o.deletedFromSceneGraph||(s.push(o),o.status===i.LibraryStatus.NOT_STAGED||o.status===i.LibraryStatus.DELETED?r.push(o):n.push(o)),o.status!==i.LibraryStatus.CURRENT&&o.status!==i.LibraryStatus.NOT_STAGED&&a++,o.status!==i.LibraryStatus.CURRENT&&o.status!==i.LibraryStatus.CHANGED&&o.status!==i.LibraryStatus.DELETED&&o.status!==i.LibraryStatus.CAN_UPGRADE||u++;return{allItems:s,publishedItems:n,privateItems:r,numUpdates:a,numPublished:u}}function c(e,t,s){return l(e,e.published.components,t,s,e=>{var t;return null==(null===(t=e.containing_frame)||void 0===t?void 0:t.containingStateGroup)})}function l(e,t,s,i,r=(()=>!0)){const o=Object.create(null);for(const n in t){const u=t[n];for(let t in u){const n=i[t];if(s&&!a.isFileSubscribedTo(e,i[s],n))continue;const c=[];for(const e in u[t]){const s=u[t][e];r(s)&&c.push(s)}c.length>0&&(o[t]=c)}}const u=Object.keys(o).map(e=>i[e]);return n.sortAlphabeticallyByProperty(u,"name"),{fileKeyToSubscribedItems:o,subscribedFiles:u}}var b;t.SIDEBAR_TILES_CONTEXT_MENU_ID="sidebar-visitable-tiles-context-menu",t.itemsAllOnePageAndNoFrames=function(e){var t;if(!e.length)return!0;const s=null===(t=e.find(e=>e.type===i.LibraryItemType.COMPONENT&&e.containing_frame))||void 0===t?void 0:t.containing_frame;for(let n of e){if(n.type!==i.LibraryItemType.COMPONENT)continue;const e=r.containingFramePagesMatch(s,n.containing_frame),t=r.containingFrameNodeIdsMatch(s,n.containing_frame);if(!e||!t)return!1}return!0},t.getEmptyLocalLibraryItemsInfo=(()=>({allItems:[],publishedItems:[],privateItems:[],numUpdates:0,numPublished:0})),t.getEmptySubscribedItemsInfo=(()=>({subscribedFiles:[],fileKeyToSubscribedItems:{}})),t.getLocalComponentsAndStateGroupsInfo=function(e,s,i){const n=u(a.getComponentsWithoutStates(e)),r=a.isFileC2(i)?u(s):t.getEmptyLocalLibraryItemsInfo();return{allItems:Array().concat(n.allItems,r.allItems),publishedItems:Array().concat(n.publishedItems,r.publishedItems),privateItems:Array().concat(n.privateItems,r.privateItems),numUpdates:n.numUpdates+r.numUpdates,numPublished:n.numPublished+r.numPublished}},t.getLocalLibraryItemsInfo=u,t.getSubscribedComponentsAndStateGroupsInfo=function(e,s,i,n){const r=a.isFileC2(n)?l(e,e.published.stateGroups,s,i):t.getEmptySubscribedItemsInfo(),o=c(e,s,i),u={},b={};for(const t of o.subscribedFiles)u[t.key]=t,b[t.key]=(b[t.key]||[]).concat(o.fileKeyToSubscribedItems[t.key]);for(const t of r.subscribedFiles)u[t.key]=t,b[t.key]=(b[t.key]||[]).concat(r.fileKeyToSubscribedItems[t.key]);return{subscribedFiles:Object.values(u),fileKeyToSubscribedItems:b}},t.getSubscribedComponentInfo=c,function(e){e[e.Grid=0]="Grid",e[e.List=1]="List"}(b=t.ComponentsSidebarViewMode||(t.ComponentsSidebarViewMode={})),t.viewModeToString=(e=>e===b.Grid?"grid":"list")}),
(function(e,r,i){e.exports={expandCaret:"library_section_header--expandCaret--2Osx0 object_row--expandCaret--3nMet object_row--indent--2n1Cf object_row--expandCaret--3nMet object_row--indent--2n1Cf",expandCaretOpen:"library_section_header--expandCaretOpen--sA16m library_section_header--expandCaret--2Osx0 object_row--expandCaret--3nMet object_row--indent--2n1Cf library_section_header--expandCaret--2Osx0 object_row--expandCaret--3nMet object_row--indent--2n1Cf object_row--expandCaret--3nMet object_row--indent--2n1Cf",hiddenCaretSticky:"library_section_header--hiddenCaretSticky--1kXQi",sectionHeaderExpandable:"library_section_header--sectionHeaderExpandable--Apm4H",isFixed:"library_section_header--isFixed--yOy8q",sectionHeader1_sticky:"library_section_header--sectionHeader1_sticky--hgsnu ellipsis--ellipsis--1RWY6",sectionHeader1_redesign:"library_section_header--sectionHeader1_redesign--2tKT4 ellipsis--ellipsis--1RWY6",sectionHeader1_normal:"library_section_header--sectionHeader1_normal--236wJ",sectionHeaderH1:"library_section_header--sectionHeaderH1--376h0 ellipsis--ellipsis--1RWY6",sectionHeader3_redesign:"library_section_header--sectionHeader3_redesign--1OMVF ellipsis--ellipsis--1RWY6",sectionHeader3_normal:"library_section_header--sectionHeader3_normal--Anzqq",sectionHeaderH3:"library_section_header--sectionHeaderH3--1mPSU ellipsis--ellipsis--1RWY6",breadcrumbPath:"library_section_header--breadcrumbPath--33Wog",spacer12:"library_section_header--spacer12--Wms-0",spacer16:"library_section_header--spacer16--3Zu2m"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(2,1    ),r=t(420              ),i=t(146                        ),n=t(1536                          ),o=t(1522                                 ),p=t(137                                    ),d=t(757                      ),c=t(1101                             ),h=t(1102                              ),l=e=>"isExpandable"in e&&e.isExpandable,H=e=>{let s;return s=e==n.sectionHeaderH1?n.sectionHeader1_redesign:e==n.sectionHeaderH1?n.sectionHeader1_normal:e==n.sectionHeaderH3?n.sectionHeader3_redesign:n.sectionHeader3_normal},_=e=>{const s=[];if(e&&e.length){s.push(a.createElement("div",{className:n.sectionHeader1_sticky,key:e[0]},e[0]+" / "," "));const t=e.slice(1).join(" / ");s.push(a.createElement("div",{className:n.sectionHeader3_redesign,key:t},t," "))}return s},g=(e,s)=>e===d.WalkthroughSectionHeaders.LOCAL_COMPONENTS?d.WalkthroughDataOnboardingKeys.LOCAL_COMPONENTS_SECTION_HEADER:e===d.proTrialLibraryName()?d.WalkthroughDataOnboardingKeys.PUBLISHED_LIBRARY_SECTION_HEADER:e===d.WalkthroughSectionHeaders.MUSIC_CONTROLS?s.indexOf(d.proTrialLibraryName())>-1?d.WalkthroughDataOnboardingKeys.PUBLISHED_MUSIC_CONTROLS_SECTION_HEADER:d.WalkthroughDataOnboardingKeys.LOCAL_MUSIC_CONTROLS_SECTION_HEADER:void 0;class E extends a.Component{render(){const e="h1"===this.props.size?n.sectionHeaderH1:n.sectionHeaderH3,s=l(this.props)?n.sectionHeaderExpandable:"",t=H(e),r=l(this.props)&&this.props.isFixed?n.isFixed:"";return a.createElement(p.TrackingContext,{name:"Section Header",properties:{title:this.props.title,isExpanded:!!l(this.props)&&this.props.isExpanded},disableViewTracking:!0},a.createElement("div",{className:`${t} ${e} ${s} ${r}`},l(this.props)&&a.createElement(i.Svg,{className:this.props.isExpanded?n.expandCaretOpen:n.expandCaret,svg:this.props.isExpanded?c:h,"data-onboarding-key":g(this.props.title,this.props.stickyHeadertokens)}),l(this.props)&&this.props.breadcrumbPath&&!this.props.isFixed&&a.createElement("div",{className:n.breadcrumbPath},this.props.breadcrumbPath," "),l(this.props)&&this.props.isFixed&&this.props.stickyHeadertokens&&this.props.stickyHeadertokens.length?_(this.props.stickyHeadertokens):a.createElement("div",{className:t},this.props.title)))}}s.SectionHeader=E,E.H1_HEIGHT=r.pxToInt(o.h1Height),E.H3_HEIGHT=r.pxToInt(o.h3Height);class m extends a.Component{render(){return a.createElement("div",{className:12===this.props.size?n.spacer12:n.spacer16})}}s.SectionSpacer=m,m.HEIGHT=r.pxToInt(o.tileMargin)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=n(88           ),r=n(1537                                                                     ),i=n(757                      );var a;!function(e){e[e.ROW=0]="ROW",e[e.TILE=1]="TILE"}(a=t.RenderedItemType||(t.RenderedItemType={})),t.renderedElementIsStickyRow=(e=>e.type===a.ROW&&"isSticky"in e&&e.isSticky),t.renderedElementIsExpandableRow=(e=>e.type===a.ROW&&"isExpandable"in e&&e.isExpandable),t.renderedElementIsExpandableStickyRow=(e=>e.type===a.ROW&&"isExpandable"in e&&e.isExpandable&&"isSticky"in e&&e.isSticky&&"children"in e),t.renderedStickyElementIsExpanded=(e=>e.type===a.ROW&&"isExpanded"in e&&e.isExpanded),t.isProTrialsWalkThroughComponent=(e=>e.type===r.SectionHeader&&(e.props.title===i.WalkthroughSectionHeaders.LOCAL_COMPONENTS||e.props.title===i.WalkthroughSectionHeaders.MUSIC_CONTROLS||e.props.title===i.proTrialLibraryName()));class s{constructor(e){this.allElements=[],this.setExpandKey=((e,t)=>{null!==l.localStorageOrNull&&l.localStorageOrNull.setItem(s.localStorageKey(e),JSON.stringify(t))}),this.isExpanded=(e=>t.renderedElementIsExpandableRow(e)&&e.isExpanded),this.offsetTop=e}static getNextRenderedElementTop(e){if(!e||0===e.length)return 0;const t=e[e.length-1];return t.top+t.height}reset(){this.allElements=[]}getTotalHeight(){let e=0;for(const n of this.allElements)t.renderedElementIsExpandableRow(n)&&(e+=d(n));return s.getNextRenderedElementTop(this.allElements)+e}findExpandableElementWithKey(e){for(const n of function*e(n){for(const l of n)yield l,t.renderedElementIsExpandableRow(l)&&l.isExpanded&&(yield*e(l.children))}(this.allElements))if(t.renderedElementIsExpandableRow(n)&&n.key===e)return n;return null}getActualTop(e){let t=0;for(const n of this.allElements){if(n.key===e)return n.top+t;this.isExpanded(n)&&(t+=d(n))}return null}getRenderedElementsInView(e,n){const l=e-this.offsetTop,r=Math.ceil(n/2),i=Math.max(l-r,0),a=l+n+r,s=(e,t)=>!(e+t<i||e>a),o=(e,t)=>!(e+t<l||e>l+n),p=[],c={};for(const{element:y,actualTop:f}of function*e(n,l){for(const r of n){const n=l+r.top;if(yield{element:r,actualTop:n},t.renderedElementIsExpandableRow(r)&&r.isExpanded){const t=n+r.height;yield*e(r.children,t),l+=d(r)}}}(this.allElements,0))if(s(f,y.height)){c[y.key]=p.length;const e=Object.assign(Object.assign({},y),{top:f});p.push(e)}let E=null,h=0;for(const d of p)if(l>0&&o(d.top,d.height)){t.renderedStickyElementIsExpanded(d)?E=d:d.parent&&t.renderedElementIsExpandableStickyRow(d.parent)&&(E=Object.assign(Object.assign({},d.parent),{key:`${d.key}:parent`}),p.push(E));break}return null!=E&&t.renderedElementIsStickyRow(E)&&l>E.top&&(E.isFixed=!0,h=Math.max(l-E.top,0)),{elementsInView:p,stickyHeader:E&&E.isFixed?E:null,stickyHeaderOffset:h}}}t.RenderedElementTree=s,s.localStorageKey=(e=>`library-section-expanded-${e}`),s.isExpandedKey=((e,t=!1)=>{let n=null;try{n=JSON.parse(l.localStorageOrNull.getItem(s.localStorageKey(e)))}catch(r){}return null!=n?!!n:t});const d=e=>{let n=0;if(e.isExpanded){n+=s.getNextRenderedElementTop(e.children);for(const l of e.children)t.renderedElementIsExpandableRow(l)&&(n+=d(l))}return n}}),
(function(i,e,t){i.exports={tile:"library_item_tile--tile--3b_Gi",tileGrid:"library_item_tile--tileGrid--1FVZ2 library_item_tile--tile--3b_Gi",tileList:"library_item_tile--tileList--nuHBg library_item_tile--tile--3b_Gi",thumbWrapperNoBg:"library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperNoBgListView:"library_item_tile--thumbWrapperNoBgListView--3W4jt library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapper:"library_item_tile--thumbWrapper--UOgvP library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperListView:"library_item_tile--thumbWrapperListView--13vSr library_item_tile--thumbWrapperNoBgListView--3W4jt library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperWithBorder:"library_item_tile--thumbWrapperWithBorder--1Rhnq library_item_tile--thumbWrapper--UOgvP library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperWithBorderListView:"library_item_tile--thumbWrapperWithBorderListView--3j4NB library_item_tile--thumbWrapperListView--13vSr library_item_tile--thumbWrapperNoBgListView--3W4jt library_item_tile--thumbWrapperNoBg--3GaQg","border-deleted":"library_item_tile--border-deleted--17mOP","border-new":"library_item_tile--border-new--ko-A1",thumbAndNameWrapper:"library_item_tile--thumbAndNameWrapper--1_SxQ",thumbContainer:"library_item_tile--thumbContainer--3WpIW",thumb:"library_item_tile--thumb--1tV-_",name:"library_item_tile--name--1I8Wj ellipsis--ellipsis--1RWY6",nameGrid:"library_item_tile--nameGrid--38SiR library_item_tile--name--1I8Wj ellipsis--ellipsis--1RWY6",nameList:"library_item_tile--nameList--WKy2P library_item_tile--name--1I8Wj ellipsis--ellipsis--1RWY6",statusIcon:"library_item_tile--statusIcon--3_SlA","icon-new":"library_item_tile--icon-new--gnTKH","icon-deleted":"library_item_tile--icon-deleted--2gu1r",selectionGrid:"library_item_tile--selectionGrid--19XIu",popoutContainerTitle:"library_item_tile--popoutContainerTitle--39at_",descriptionPopoutContainer:"library_item_tile--descriptionPopoutContainer--2XEyP text--fontNeg11--1EuEG text--_fontBase--YWDo0 text--_whiteText--2PkdM",descriptionPopoutArrow:"library_item_tile--descriptionPopoutArrow--KXnZs",actionBadge:"library_item_tile--actionBadge--GrXIU",privateOutlineGrid:"library_item_tile--privateOutlineGrid--1Rwee",localComponentList:"library_item_tile--localComponentList--3pHjK",privateComponentGrid:"library_item_tile--privateComponentGrid--7bCoG",contextMenu:"library_item_tile--contextMenu--N4uYI",draggingThumbGrid:"library_item_tile--draggingThumbGrid--3J7rP",draggingThumbList:"library_item_tile--draggingThumbList--3sWW4 library_item_tile--draggingThumbGrid--3J7rP",draggingThumbListOverCanvas:"library_item_tile--draggingThumbListOverCanvas--1DX0y library_item_tile--draggingThumbList--3sWW4 library_item_tile--draggingThumbGrid--3J7rP",expand:"library_item_tile--expand--36ZxQ"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(2,1    ),r=s(6,1        ),i=s(141              ),n=s(420              ),a=s(1338       ),p=s(214         ),l=s(1522                                 ),h=s(422                                        ),c=s(409                                  ),d=s(215                                          ),m=s(209                ),u=s(222                                      ),g=s(176                       ),b=s(226                       ),y=s(261                               ),L=s(224                                       ),f=s(1535                         ),C=s(1539                     ),N=s(1524                                                   ),T=s(757                      ),w=c.dropdown.Dropdown,E=c.dropdown.Option;e.DEFAULT_SIZE=120,e.THUMB_PADDING=n.pxToInt(l.tilePaddingGrid);const M=n.pxToInt(h.toolbarHeight),S=n.pxToInt(l.localComponentsHeaderHeight),_=new L.ColorCSSFormatter;class I extends o.PureComponent{render(){const{item:t}=this.props,e={};let s;if(!this.props.noBackground&&(s=this.props.item.type===g.LibraryItemType.COMPONENT?b.backgroundColorToUseForLibraryItem(this.props.item):null)&&!this.props.isList){e.background=_.format(s);const t=a.blackOrWhiteContrastingColor(s);t.a=.6,e.color=_.format(t)}let r=this.props.showName;return this.props.usingSmallThumbLayout&&!this.props.isList&&(r=!1),o.createElement(k,Object.assign({},this.props),o.createElement(D,Object.assign({},this.props),o.createElement(x,Object.assign({},this.props,{backgroundColor:s,className:void 0,style:this.props.isDragged?void 0:this.props.style})),r&&o.createElement("div",{className:this.props.isList?C.nameList:C.nameGrid,style:e},this.props.isList&&!this.props.isSearch?b.getLastPartOfName(t.name):t.name)))}}e.LibraryItemTile=I,I.displayName="LibraryItemTile";class O extends i.Component{constructor(){super(...arguments),this.ref=(t=>{this.el=r.findDOMNode(t)}),this.onFullscreenScrollToNode=(({nodeId:t})=>{if(t===this.props.item.node_id&&this.el){const t=this.el.getBoundingClientRect();t.top<M+S?this.el.scrollIntoView():t.bottom>window.innerHeight-M&&this.el.scrollIntoView(!1)}}),this.onMouseUp=(t=>{t.stopPropagation()})}recordingKey(){return`componentTile.${this.props.recordingNodePath}`}componentDidMount(){d.fullscreen.fromFullscreen.on("scrollToNode",this.onFullscreenScrollToNode);const t=y.Fullscreen&&y.Fullscreen.getFirstSelectedNodeIdForCurrentPage();t&&this.onFullscreenScrollToNode({nodeId:t})}componentWillUnmount(){d.fullscreen.fromFullscreen.removeListener("scrollToNode",this.onFullscreenScrollToNode)}render(){const t=this.props.item,e=this.props.isFilePublished&&(t.status===g.LibraryStatus.NOT_STAGED||t.status===g.LibraryStatus.DELETED),s={},r=e?null:this.props.item.type===g.LibraryItemType.COMPONENT?b.backgroundColorToUseForLibraryItem(this.props.item):null;if(r&&!this.props.isList){s.background=_.format(r);const t=a.blackOrWhiteContrastingColor(r);t.a=.6,s.color=_.format(t)}let i;return this.props.isList?i=this.props.isSomeComponentBeingDragged?void 0:C.localComponentList:e&&(i=e?C.privateComponentGrid:void 0),o.createElement(k,Object.assign({ref:this.ref},this.props,{onMouseUp:this.onMouseUp,className:i}),o.createElement(D,Object.assign({},this.props),o.createElement(x,Object.assign({},this.props,{backgroundColor:r})),(!this.props.usingSmallThumbLayout||this.props.isList)&&o.createElement("div",{className:this.props.isList?C.nameList:C.nameGrid,style:s},this.props.isList&&!this.props.isSearch?b.getLastPartOfName(t.name):t.name),this.props.selected&&!this.props.isList&&o.createElement("div",{className:C.selectionGrid}),e&&!this.props.selected&&!this.props.isList&&o.createElement("div",{className:C.privateOutlineGrid})))}}e.LocalLibraryItemTile=O,O.displayName="LocalLibraryItemTile";class v extends o.PureComponent{constructor(){super(...arguments),this.togglePublishable=(t=>{d.fullscreen.updateSelectionProperties({isSymbolPublishable:!t.isPublishable})})}render(){if(!this.props.dropdownShown||this.props.dropdownShown.type!==f.SIDEBAR_TILES_CONTEXT_MENU_ID)return null;let t=this.props.dropdownShown.data.component;const e=m.getEditingFile(this.props);if(!e)return null;const s=this.props.fileByKey[t.file_key],r=s.key===e.key,i=t.isPublishable;return o.createElement(w,{className:C.contextMenu,style:this.props.dropdownShown.data.position},r&&o.createElement(E,{onClick:this.togglePublishable.bind(this,t)},i?"Remove from library":"Add to library"),!r&&o.createElement(E,{href:`${s.url}?node-id=${encodeURIComponent(t.node_id)}`,target:"_blank"},"Go to Main Component"))}}e.LibraryItemContextMenu=v,v.displayName="LibraryItemContextMenu";class P extends o.PureComponent{render(){const t=this.props.libraryItemDragState;if(!(t&&t.dragOffset&&t.draggingLibraryItem&&t.dragPosition))return null;const e=t.dragPosition.subtract(t.dragOffset),s={top:e.y,left:e.x};let r=C.draggingThumbGrid;if(this.props.isList){r=this.props.isMouseDraggedOverCanvas?C.draggingThumbListOverCanvas:C.draggingThumbList;const e=t.draggingLibraryItem.type===g.LibraryItemType.COMPONENT?b.backgroundColorToUseForLibraryItem(t.draggingLibraryItem):null;if(e&&!this.props.isPrivate&&!this.props.isMouseDraggedOverCanvas){s.backgroundColor=_.format(e);const t=a.blackOrWhiteContrastingColor(e);s.color=_.format(t)}}return o.createElement(I,{className:r,item:t.draggingLibraryItem,height:t.draggingThumbHeight,width:t.draggingThumbWidth,style:s,showName:this.props.isList,noBackground:!0,isList:this.props.isList,isDragged:!0,isSearch:this.props.isSearch})}}e.DraggingLibraryItem=P,P.displayName="DraggingLibraryItem";class k extends o.PureComponent{constructor(){super(...arguments),this.state={},this.ref=(t=>{this.el=t}),this.popoutRef=(t=>{this.popout=t}),this.onMouseEnter=(()=>{if(this.el&&this.popout){const t=this.el.getBoundingClientRect(),e=(t.top+t.bottom)/2,s=this.popout.offsetHeight,o=M+6,r=window.innerHeight-s-6;let i=e-s/2;i=Math.min(i,r),i=Math.max(i,o),this.setState({popoutStyle:{left:t.right+9,top:i},popoutArrowStyle:{left:t.right,top:e}})}}),this.onMouseLeave=(()=>{this.setState({popoutStyle:void 0,popoutArrowStyle:void 0})}),this.dataOnboardingKey=(()=>{if(this.props.item.name===T.proTrialComponentName){if(this.props.item.isLocal)return T.WalkthroughDataOnboardingKeys.LOCAL_COMPONENT;if(!this.props.item.isLocal)return T.WalkthroughDataOnboardingKeys.PUBLISHED_COMPONENT}})}render(){let t=this.props.height||e.DEFAULT_SIZE,s=this.props.width||e.DEFAULT_SIZE;t-=t%2,s-=s%2;const r=this.props.isList?this.props.style:Object.assign(Object.assign({},this.props.style),{width:s,height:t});let i=!1;return this.props.usingSmallThumbLayout&&!this.props.isList&&this.props.item.name&&(i=!0),o.createElement("div",{"data-onboarding-key":this.dataOnboardingKey(),ref:this.ref,className:`${this.props.isList?C.tileList:C.tileGrid} ${this.props.className||""}`,style:r,onMouseUp:this.props.onMouseUp,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},this.props.children,(this.props.item.description||i)&&!this.props.contextMenuShown&&o.createElement("div",{className:C.descriptionPopoutContainer,style:this.state.popoutStyle,ref:this.popoutRef},this.props.usingSmallThumbLayout&&!this.props.isList&&o.createElement("div",{className:C.popoutContainerTitle},b.getLastPartOfName(this.props.item.name)),this.props.item.description,o.createElement("div",{className:C.descriptionPopoutArrow,style:this.state.popoutArrowStyle})))}}k.displayName="ComponentWrapper";class D extends i.Component{constructor(){super(...arguments),this.onMouseDown=i.mouseEvent(this,"mousedown",t=>{this.props.onItemMouseDown&&this.props.onItemMouseDown(t,this.props.item)},{recordMetadata:t=>{const e=t.currentTarget.getBoundingClientRect(),s=new p.Vector(e.left,e.top),o=new p.Vector(t.clientX,t.clientY).subtract(s);return{percentageMousePos:new p.Vector(o.x/e.width,o.y/e.height)}},playbackMetadata:t=>{const e=this.props.height||0,s=this.props.width||0;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:e,width:s})},clientX:0+t.percentageMousePos.x*s,clientY:0+t.percentageMousePos.y*e}}}),this.onContextMenu=i.mouseEvent(this,"contextmenu",t=>{this.props.onContextMenu&&this.props.onContextMenu(t)},{recordMetadata:t=>{const e=t.currentTarget.getBoundingClientRect(),s=new p.Vector(e.left,e.top),o=new p.Vector(t.clientX,t.clientY).subtract(s);return{percentageMousePos:new p.Vector(o.x/e.width,o.y/e.height)}},playbackMetadata:t=>{const e=this.props.height||0,s=this.props.width||0;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:e,width:s})},clientX:0+t.percentageMousePos.x*s,clientY:0+t.percentageMousePos.y*e}}}),this.touchAdapter=this.props.createTouchAdapter&&this.props.createTouchAdapter(this.onMouseDown)}recordingKey(){return`componentThumb.${this.props.recordingNodePath}`}render(){return o.createElement("div",{className:C.thumbAndNameWrapper,onMouseDown:this.onMouseDown,onTouchStart:this.touchAdapter&&this.touchAdapter.onTouchStart,onContextMenu:this.onContextMenu},this.props.children)}}D.displayName="ComponentThumbAndNameWrapper";class x extends o.PureComponent{render(){const{item:t,isDragged:s,isList:r}=this.props,i=this.props.height||e.DEFAULT_SIZE,n=this.props.width||e.DEFAULT_SIZE,a=i-i%2,p=n-n%2;let l;l=this.props.isList?this.props.noBackground?C.thumbWrapperNoBgListView:C.thumbWrapperListView:this.props.noBackground?C.thumbWrapperNoBg:C.thumbWrapper;const h={width:p,height:a},c=Object.assign({width:2*p,height:2*a},this.props.style);return!this.props.noBackground&&this.props.backgroundColor&&(u.shouldUseBorderForBackgroundWithAlpha(this.props.backgroundColor,this.props.backgroundColor.a)&&(l=r?C.thumbWrapperWithBorderListView:C.thumbWrapperWithBorder),c.background=_.format(this.props.backgroundColor)),s&&(r?(c.width=void 0,c.height=void 0):c.background=void 0),o.createElement("div",{className:C.thumbContainer,style:s&&r?void 0:h},o.createElement("div",{className:`${l} ${this.props.className||""}`,style:c},o.createElement(N.LibraryItemImage,{className:C.thumb,item:t,shouldFetch:!0})))}}x.displayName="ComponentThumb"}),
(function(e,t,o){e.exports={container:"component_sidebar--container--3KRL4",stickySearchBuffer:"component_sidebar--stickySearchBuffer--3PuSi",_headerContainer:"component_sidebar--_headerContainer--2P898",headerContainer:"component_sidebar--headerContainer--4HQfk component_sidebar--_headerContainer--2P898",headerContainerWithShadow:"component_sidebar--headerContainerWithShadow--WIlIw component_sidebar--_headerContainer--2P898",searchWithViewModeToggle:"component_sidebar--searchWithViewModeToggle--121s7",scrollContainerFullHeight:"component_sidebar--scrollContainerFullHeight--3yKAM",topBuffer:"component_sidebar--topBuffer--2lHDU",emptyState:"component_sidebar--emptyState--1oV4E text--fontPos11--RSei3 text--_fontBase--YWDo0",emptyStateTitle:"component_sidebar--emptyStateTitle--1sc4j text--fontPos11--RSei3 text--_fontBase--YWDo0",emptyStateContent:"component_sidebar--emptyStateContent--2CumE",emptyStateIcon:"component_sidebar--emptyStateIcon--2f9u5",emptyStateText:"component_sidebar--emptyStateText--353a5",link:"component_sidebar--link--mHiBM blue_link--blueLink--22X56",text:"component_sidebar--text--1E5gA",toggleComponentSidebarViewMode:"component_sidebar--toggleComponentSidebarViewMode--2uP0X",teamLibraryIcon:"component_sidebar--teamLibraryIcon--3d-dn",teamLibraryUpdatesIndicator:"component_sidebar--teamLibraryUpdatesIndicator--jNhOs",selected:"component_sidebar--selected--1W_RG",rotate:"component_sidebar--rotate--1JDpJ"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(2,1    ),s=i(111          ),r=i(139                        ),o=i(141              ),a=i(176                       ),c=i(1530                                                            ),l=i(1538                                                                             ),d=i(1535                         ),y=i(1540                 ),h=i(420              ),k=i(1541                     ),m=i(1522                                 ),u=i(1537                      ),p=i(123         ),b=h.pxToInt(m.tileThumbHeightList),T=h.pxToInt(m.tileMargin),E=h.pxToInt(m.tileMargin)/2;function x(e,t,i,s){let a="";(r.isRecording()||o.isRunningInteractionTests())&&(a=c.guidToPathFromRoot(e.node_id,i.sceneGraphForTesting).join("-"));const l=!!s.contextMenuShownForComponent&&s.contextMenuShownForComponent.node_id===e.node_id;return t.isShowingLocalLibraryItems?n.createElement(y.LocalLibraryItemTile,{item:e,height:s.thumbHeight,width:s.thumbWidth,usingSmallThumbLayout:s.thumbLayout===g.SMALL,onItemMouseDown:s.onItemMouseDownWithTracking,createTouchAdapter:i.createTouchAdapter,onContextMenu:i.onContextMenu(e),contextMenuShown:l,isFilePublished:!!t.isFilePublished,recordingNodePath:a,isList:i.isList,isSearch:i.isSearch}):n.createElement(y.LibraryItemTile,{item:e,showName:!0,height:s.thumbHeight,width:s.thumbWidth,usingSmallThumbLayout:s.thumbLayout===g.SMALL,onItemMouseDown:s.onItemMouseDownWithTracking,createTouchAdapter:i.createTouchAdapter,onContextMenu:i.onContextMenu(e),contextMenuShown:l,recordingNodePath:a,isList:i.isList,isSearch:i.isSearch})}const S=(e,i,n,r,o,a)=>{let c=null;const{stickyKey:y}=r;a.dropdownShown&&a.dropdownShown.type===d.SIDEBAR_TILES_CONTEXT_MENU_ID&&(c=a.dropdownShown.data.component);const h=a.width,k=t.getLibraryItemTileLayout(n),m={containerWidth:h,isList:a.isList,layout:k},u=L(m),{width:p,height:b}=t.calcThumbSize(m,u),S=b+(a.isList?E:T),f=p+(a.isList?E:T),g=(e,t)=>{s.segmentTrackEvent("Component Tile Mouse Down",{sectionName:o.sectionNameForTracking,isList:a.isList,isSearch:a.isSearch}),a.onItemMouseDown(e,t,b,p)};let P=0;const H=l.RenderedElementTree.getNextRenderedElementTop(i)+E;for(const t of n){const n={nodeId:t.node_id,isLocal:!!o.isShowingLocalLibraryItems},s=a.isList?H+P*S:H+Math.floor(P/u)*S,d=a.isList?0:P%u*f;i.push({parent:e,type:l.RenderedItemType.TILE,top:s,left:d,height:S,key:`${r.keyPrefix}:${t.node_id}:${P}`,element:x(t,o,a,{contextMenuShownForComponent:c,thumbHeight:b,thumbWidth:p,thumbLayout:k,onItemMouseDownWithTracking:g}),nodeInfo:n,stickyKey:y}),P+=1}};t.appendStickySectionHeaderTo=((e,t,i)=>{const s=`${i.keyPrefix}:stickySection`,r=l.RenderedElementTree.getNextRenderedElementTop(t),o={parent:e,type:l.RenderedItemType.ROW,top:r,height:u.SectionHeader.H1_HEIGHT,key:s,element:n.createElement(u.SectionHeader,{size:"h1",title:i.title}),stickyKey:null,isSticky:!0,isFixed:!1};return t.push(o),o}),t.appendExpandableStickySectionHeaderTo=((e,t,i)=>{const s=`${i.keyPrefix}:stickySection`,r=l.RenderedElementTree.getNextRenderedElementTop(t),o={parent:e,type:l.RenderedItemType.ROW,top:r,height:"h1"==i.size?u.SectionHeader.H1_HEIGHT:u.SectionHeader.H3_HEIGHT,key:s,element:n.createElement(u.SectionHeader,{size:i.size,isExpandable:!0,isExpanded:i.isExpanded,title:i.title,breadcrumbPath:i.breadcrumbPath?i.breadcrumbPath:null,stickyHeadertokens:i.stickyHeaderTokens?i.stickyHeaderTokens:void 0,isFixed:!1}),stickyKey:null,isSticky:!0,isFixed:!1,children:[],isExpandable:!0,isExpanded:i.isExpanded,getExpandableElement:e=>n.createElement(u.SectionHeader,{size:i.size,isExpandable:!0,isExpanded:e,title:i.title,breadcrumbPath:i.breadcrumbPath?i.breadcrumbPath:null,stickyHeadertokens:i.stickyHeaderTokens?i.stickyHeaderTokens:void 0}),fixedElement:n.createElement(u.SectionHeader,{size:"h1",isExpandable:!0,isExpanded:i.isExpanded,title:i.title,breadcrumbPath:i.breadcrumbPath?i.breadcrumbPath:null,stickyHeadertokens:i.stickyHeaderTokens?i.stickyHeaderTokens:void 0,isFixed:!0})};return t.push(o),o}),t.appendSeparatorTo=((e,t,i)=>{const s=l.RenderedElementTree.getNextRenderedElementTop(t);t.push({parent:e,type:l.RenderedItemType.ROW,top:s,height:u.SectionSpacer.HEIGHT,key:`${i.keyPrefix}:separator`,element:n.createElement(u.SectionSpacer,{size:i.size}),stickyKey:i.stickyKey})}),t.appendSearchResultsTo=((e,t,i)=>{const{results:s,moreResults:r,showMoreResults:o}=t,{containerMetadata:a,renderingKeys:c,overallOptions:d}=i;if(s.length>0&&S(null,e,s,{stickyKey:c.stickyKey,keyPrefix:`${c.keyPrefix}:searchResults`},a,d),r.length>0){const t=l.RenderedElementTree.getNextRenderedElementTop(e);e.push({parent:null,type:l.RenderedItemType.ROW,top:t,height:40,key:`${c.keyPrefix}:moreResultsLink`,element:n.createElement("div",{className:k.text},o&&"Showing results from all libraries",!o&&n.createElement("a",{className:k.link,onClick:i.toggleShowMoreResults},r.length," more ",p.getPluralOrSingular(r.length,"result")," in all libraries")),stickyKey:c.stickyKey}),o&&S(null,e,r,{keyPrefix:`${c.keyPrefix}:moreSearchResults`,stickyKey:c.stickyKey},a,d)}});const f=(e,i,s,r,o,a,c)=>{const d=Object.assign({},a);null!=s.sectionNameForTracking&&(d.sectionNameForTracking=s.sectionNameForTracking),null!=s.isShowingLocalLibraryItems&&(d.isShowingLocalLibraryItems=s.isShowingLocalLibraryItems),null!=s.isFilePublished&&(d.isFilePublished=s.isFilePublished);const y=`${o.keyPrefix}:${s.key}`;let h=o.stickyKey||"";switch(s.type){case"FILE":{const e=""!==s.name;let n=i;if(e){const e=t.appendStickySectionHeaderTo(null,i,{keyPrefix:y,title:s.name});l.renderedElementIsExpandableStickyRow(e)&&(n=e.children),l.renderedElementIsStickyRow(e)&&(h=e.key)}S(null,n,s.items,{stickyKey:h,keyPrefix:y},d,c);for(const t of s.subtrees)f(null,n,t,s,{keyPrefix:y,stickyKey:h},d,c);e&&t.appendSeparatorTo(null,n,{keyPrefix:y,stickyKey:h,size:12});break}case"PAGE":{const e=r.subtrees.length>1;let n=i;if(e){h=t.appendStickySectionHeaderTo(null,i,{keyPrefix:y,title:s.name}).key}S(null,n,s.items,{stickyKey:h,keyPrefix:y},d,c);for(const t of s.subtrees)f(null,n,t,s,{keyPrefix:y,stickyKey:h},d,c);e&&t.appendSeparatorTo(null,n,{keyPrefix:y,stickyKey:h,size:12});break}case"NAME_GROUP":i.push({parent:null,type:l.RenderedItemType.ROW,top:l.RenderedElementTree.getNextRenderedElementTop(i),height:u.SectionHeader.H3_HEIGHT,key:`${y}${s.key}`,stickyKey:h,element:n.createElement(u.SectionHeader,{size:"h3",title:s.name})}),S(null,i,s.items,{keyPrefix:y,stickyKey:h},d,c);break;case"FRAME":{const e=l.RenderedElementTree.getNextRenderedElementTop(i),t=y,r=c.isExpanded(t,!1),o=e=>n.createElement(u.SectionHeader,{size:"h3",isExpandable:!0,isExpanded:e,title:s.name}),a={parent:null,type:l.RenderedItemType.ROW,top:e,height:u.SectionHeader.H3_HEIGHT,key:`${t}`,element:o(r),getExpandableElement:o,isExpandable:!0,isExpanded:r,children:[],stickyKey:h};i.push(a),S(null,a.children,s.items,{keyPrefix:y,stickyKey:h},d,c);break}case"FILE_V2":{const n=""!==s.name;let r=i;const o=`${y}:stickySection`;let a=null;n&&(r=(a=t.appendExpandableStickySectionHeaderTo(null,i,{keyPrefix:y,size:"h1",title:s.name,isExpanded:c.isExpanded(o,"Used in this file"!==s.sectionNameForTracking),stickyHeaderTokens:s.stickyHeaderTokens?s.stickyHeaderTokens:void 0})).children,h=a.key);const l=a||e;S(l,r,s.items,{stickyKey:h,keyPrefix:y},d,c);for(const e of s.subtrees)f(l,r,e,s,{keyPrefix:y,stickyKey:h},d,c);n&&t.appendSeparatorTo(l,r,{keyPrefix:y,stickyKey:h,size:16});break}case"PAGE_V2":{const n=`${y}:stickySection`;let o=i,a=null;r.subtrees.length>1&&(o=(a=t.appendExpandableStickySectionHeaderTo(e,i,{keyPrefix:y,title:s.name,size:"h3",isExpanded:c.isExpanded(n,!1),stickyHeaderTokens:s.stickyHeaderTokens?s.stickyHeaderTokens:void 0})).children,h=a.key);const l=a||e;S(l,o,s.items,{stickyKey:h,keyPrefix:y},d,c);for(const e of s.subtrees)f(l,o,e,s,{keyPrefix:y,stickyKey:h},d,c);break}case"NAME_GROUP_V2":{const n=`${y}:stickySection`;let r=i,o=null;if(!s.skipElementInRendering){r=(o=t.appendExpandableStickySectionHeaderTo(e,i,{keyPrefix:y,size:"h3",title:s.flattenedPath?s.flattenedPath:s.name,isExpanded:c.isExpanded(n,!1),breadcrumbPath:s.breadcrumbPath?s.breadcrumbPath:void 0,stickyHeaderTokens:s.stickyHeaderTokens?s.stickyHeaderTokens:void 0})).children,h=o.key,S(o||e,r,s.items,{stickyKey:h,keyPrefix:y},d,c)}const a=o||e;for(const e of s.subtrees)f(a,r,e,s,{keyPrefix:y,stickyKey:h},d,c);break}}};var g;t.appendComponentsTreeTo=((e,t,i,n)=>{t.items.length>0&&S(null,e,t.items,i,{},n);for(const s of t.subtrees)f(null,e,s,t,i,{},n)}),function(e){e[e.WIDE=0]="WIDE",e[e.SMALL=1]="SMALL",e[e.NORMAL=2]="NORMAL"}(g=t.ThumbLayout||(t.ThumbLayout={})),t.getLibraryItemTileLayout=(e=>{let t=!0,i=!0;for(const n of e){if(n.type===a.LibraryItemType.STYLE)continue;let e,s;if("min_node_width"in n)e=n.min_node_width,s=n.min_node_height;else{if(!("width"in n))continue;e=n.width,s=n.height}if(!e||!s)return g.NORMAL;if(e<3*s&&(t=!1),(e>=50||s>=50)&&(i=!1),!t&&!i)break}return t?g.WIDE:i?g.SMALL:g.NORMAL});const L=e=>{const{containerWidth:t,isList:i,layout:n}=e;if(i)return 1;switch(n){case g.WIDE:return t<=300?1:t<=450?2:3;case g.SMALL:const e=40+T;return Math.ceil((t-32+T)/e);case g.NORMAL:const i=100;return Math.floor(t/i)}};t.calcThumbSize=((e,t)=>{const{containerWidth:i,isList:n,layout:s}=e;if(n)return{width:b,height:b};const r=(i+2-(t-1)*T-32)/t;return{width:r,height:s===g.WIDE?Math.ceil(r/4):r}})}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(173                                        ),r=i(113                                     ),o=i(141              ),a=i(747                              ),n=i(319                                              ),c=i(111          ),p=i(214         ),l=i(176                       ),g=i(650                                              ),h=i(215                                          ),d=i(1535                         ),u=i(1522                                 ),m=i(420              ),y=i(226                       ),b=i(227                                ),f=i(209                ),v=i(1539                     ),_=i(261                               ),S=i(772                                   ),w=m.pxToInt(u.tileHeightDraggingList);class M extends o.Component{constructor(){super(...arguments),this.onContextMenu=(e=>t=>{t.preventDefault(),t.stopPropagation(),this.props.dispatch(r.fileBrowser.showDropdown({type:d.SIDEBAR_TILES_CONTEXT_MENU_ID,data:{component:e,position:{top:t.clientY,left:t.clientX}}})),this.props.sceneGraphSelection&&!g.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,e.node_id)&&(a.clearSelection(),_.Fullscreen.setCurrentPageFromNode(e.node_id),a.addToSelection([e.node_id]),h.fullscreen.commit())}),this.thumbImage=new Image,this.isMouseDraggedOverCanvas=!1,this.onComponentMouseDown=((e,t,i,r)=>{if(2===e.button||e.ctrlKey)return;e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&document.activeElement.blur(),this.isClick=!0,t.isLocal||(y.teamLibraryItemSceneGraphCache.get(t),t.type===l.LibraryItemType.COMPONENT&&t.component_key&&this.props.dispatch(n.getPublishedComponent({componentKey:t.component_key})),t.type===l.LibraryItemType.STATE_GROUP&&t.key&&this.props.dispatch(n.getPublishedStateGroup({stateGroupKey:t.key}))),this.props.dispatch(s.library.setSparseDragState({draggingLibraryItem:t,draggingThumbHeight:i,draggingThumbWidth:r})),document.addEventListener("mouseup",this.onDocumentMouseUp);const o=e.currentTarget,a=o.getBoundingClientRect(),c=new p.Vector(a.left,a.top),g=new p.Vector(e.clientX,e.clientY);t.isLocal?this.thumbImage.src=this.props.library.local.thumbnails[t.node_id].url||"":this.thumbImage.src=t.thumbnail_url||"";const h=this.props.viewMode===d.ComponentsSidebarViewMode.List;let u,m,b=this.thumbImage.naturalWidth/2,f=this.thumbImage.naturalHeight/2;b>f?m=(u=Math.min(b,r))*(f/b):u=(m=Math.min(f,i))*(b/f);const _=new p.Vector(r/2-u/2,i/2-m/2);let S=g.subtract(c);if(h){const e=o.querySelector(`.${v.nameList.replace(/\s/g,".")}`);if(e){const t=e.getBoundingClientRect();g.x>t.right&&(S=S.subtract(new p.Vector(g.x-t.right,0)))}}let w=new p.Vector((S.x-_.x)/u,(S.y-_.y)/m);this.originalDragOffset=S,this.originalDragPosition=g,h&&(w=new p.Vector(.5,.5)),this.props.dispatch(s.library.setSparseDragState({dragOffset:S,componentMousePercentageOffset:w,draggingThumbHeight:i,draggingThumbWidth:r})),document.addEventListener("mousemove",this.onDocumentMouseMove)}),this.onDocumentMouseMove=o.mouseEvent(this,"mousemove",e=>{const t=this.props.library.dragState.draggingLibraryItem,i=new p.Vector(e.clientX,e.clientY),r={dragPosition:i},o=this.props.viewMode===d.ComponentsSidebarViewMode.List;this.isClick&&this.props.library.dragState.dragPosition&&this.originalDragPosition.distanceTo(i)>5&&(this.props.sceneGraphSelection&&t&&(a.clearSelection(),h.fullscreen.commit()),this.isClick=!1),!this.isClick&&o&&(this.updateIsMouseDraggedOverCanvas(e.clientX,e.clientY),this.draggingLibraryItemEl&&(r.dragOffset=this.isMouseDraggedOverCanvas?new p.Vector(w/2,w/2):this.originalDragOffset)),this.props.dispatch(s.library.setSparseDragState(r))},{recordMetadata:e=>{const t=h.fullscreen.getViewportInfo(),i=new p.Vector(t.x,t.y),s=new p.Vector(e.clientX,e.clientY).subtract(i);return{canvasPosition:b.viewportPositionToCanvas(t,s)}},playbackMetadata:e=>{const t=h.fullscreen.getViewportInfo(),i=new p.Vector(t.x,t.y),s=b.canvasPositionToViewport(t,e.canvasPosition),r=p.Vector.add(s,i);return{clientX:r.x,clientY:r.y}}}),this.onDocumentMouseUp=o.mouseEvent(this,"mouseup",e=>{this.updateIsMouseDraggedOverCanvas(e.clientX,e.clientY);const t=this.props.library.dragState.draggingLibraryItem;if(t){if(this.thumbImage.onload=null,this.isClick){if(this.props.sceneGraphSelection){const i=t.node_id;e.shiftKey||e.metaKey?g.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,i)?a.removeFromSelection([i]):a.addToSelection([i]):(a.clearSelection(),_.Fullscreen.setCurrentPageFromNode(i),a.addToSelection([i])),h.fullscreen.commit()}}else if(this.isMouseDraggedOverCanvas&&this.props.library.dragState.dragPosition){const e=h.fullscreen.getViewportInfo(),i=new p.Vector(e.x,e.y),s=this.props.library.dragState.dragPosition.subtract(i),r=b.viewportPositionToCanvas(e,s),o=f.getEditingFile(this.props);if(c.segmentTrackEvent("Instance Dropped",{isLocal:!!o&&o.key===t.file_key,viewMode:this.props.viewMode===d.ComponentsSidebarViewMode.Grid?"GRID":"LIST",searchQuery:this.props.library.localSearch.components.query,source:this.props.sourceForTracking}),t.type===l.LibraryItemType.STATE_GROUP)this.props.dispatch(n.insertSharedStateGroup({item:t,canvasPosition:r,percentageOffset:this.props.library.dragState.componentMousePercentageOffset||{x:0,y:0},insertAsChildOfCanvas:!1}));else{if(t.type!==l.LibraryItemType.COMPONENT)throw new Error(`Unexpected type for dragging library item: ${t.type}`);this.props.dispatch(n.insertSharedComponent({item:t,canvasPosition:r,percentageOffset:this.props.library.dragState.componentMousePercentageOffset||{x:0,y:0},insertAsChildOfCanvas:!1}))}}document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousemove",this.onDocumentMouseMove),this.props.dispatch(s.library.setSparseDragState({draggingLibraryItem:void 0,dragPosition:void 0,draggingThumbHeight:void 0,draggingThumbWidth:void 0})),this.originalDragOffset=void 0,this.draggingLibraryItemEl=null,this.isMouseDraggedOverCanvas=!1}},{recordMetadata:e=>{const t=h.fullscreen.getViewportInfo(),i=new p.Vector(t.x,t.y),s=new p.Vector(e.clientX,e.clientY).subtract(i),r=b.viewportPositionToCanvas(t,s);return{shiftKey:e.shiftKey,metaKey:e.metaKey,canvasPosition:r}},playbackMetadata:e=>{const t=h.fullscreen.getViewportInfo(),i=new p.Vector(t.x,t.y),s=b.canvasPositionToViewport(t,e.canvasPosition),r=p.Vector.add(s,i);return{shiftKey:e.shiftKey,metaKey:e.metaKey,clientX:r.x,clientY:r.y}}}),this.createTouchAdapter=(e=>new S.TouchToMouseAdapter(this,e,this.onDocumentMouseMove,this.onDocumentMouseUp,{mustBeHorizontal:!0,observeInsideOverflowScroll:!0}))}updateIsMouseDraggedOverCanvas(e,t){const i=h.fullscreen.getViewportInfo();this.isMouseDraggedOverCanvas=!this.isClick&&!!this.props.library.dragState.draggingLibraryItem&&e>=i.x&&e<i.x+i.width&&t>=i.y&&t<i.y+i.height}}t.LibraryItemsContainer=M,M.displayName="LibraryItemsContainer"}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(2,1    ),a=s(6,1        ),t=s(141              ),c=s(792                                        ),n=s(1015                             ),h=s(215                                          );class o extends t.Component{constructor(){super(...arguments),this.clearSearch=(()=>{this.props.onChange("")}),this.librarySearchInputRef=(e=>{this.librarySearchInput=e,this.props.isVisible&&this.focusSearch()}),this.focusSearch=(()=>{if(this.librarySearchInput&&this.props.isVisible){if(a.findDOMNode(this.librarySearchInput).getBoundingClientRect().top<0)return;this.librarySearchInput.focus()}}),this.isSearchKeyDownHandled=(e=>!(!e.altKey||!h.fullscreen.isWebContextReady())&&(c.forwardKeyboardEvent(e),!0)),this.focus=(()=>{this.librarySearchInput&&this.librarySearchInput.focus()})}componentDidUpdate(e){!e.isVisible&&this.props.isVisible?this.focusSearch():e.isVisible&&!this.props.isVisible&&this.librarySearchInput.blur()}render(){return i.createElement(n.SearchBar,{ref:this.librarySearchInputRef,className:this.props.className,focusOnMount:!1,extraSpacing:this.props.extraSpacing,query:this.props.query,clearSearch:this.clearSearch,onChange:this.props.onChange,isKeyDownHandled:this.isSearchKeyDownHandled,useDeprecatedStyles:!0})}}r.LibrarySearch=o,o.displayName="LibrarySearch"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(105        ),o=s(176                       ),a=s(226                       ),r=s(1535                         );function i(e,t){const s={},n={},o=[];return e.forEach(e=>{const a=t(e);if(!a)return;const r=a.containing_frame;if(null==r?void 0:r.pageId){const t=r.pageId,o=r.pageName||"";n[t]=o,s[t]=s[t]||[],s[t].push(e)}else o.push(e)}),{itemsByPageId:s,pageNamesByPageId:n,itemsWithoutPage:o}}function m(e){return i(e,e=>e.type===o.LibraryItemType.COMPONENT?e:null)}t.consolidatePages=function(e,t,s,n){var o;for(const a of e.get(s)||[])null===(o=e.get(n))||void 0===o||o.push(a);e.delete(s),t.delete(s)},t.groupItemsByPageId=i,t.groupAnyLibraryItemsByPageId=m;const l="0:1";function c(e,t,s){if(0!==s.length)if(1===Object.keys(e).length&&1===Object.keys(t).length){e[Object.keys(e)[0]].push(...s),s.splice(0,s.length)}else t[l]&&e[l]&&(e[l].push(...s),s.splice(0,s.length))}t.moveItemsWithoutPageOntoMostLikelyPage=c;const d=(e,t)=>{var s;const r={},i=[];for(const n of t){let e=a.getNameParts(n.name);if(n.type===o.LibraryItemType.COMPONENT&&(null===(s=n.containing_frame)||void 0===s?void 0:s.name)&&(e=[n.containing_frame.name,...e]),e.length>1){e.pop();const t=e.join(" / ");r[t]=r[t]||[],r[t].push(n)}else i.push(n)}n.sortAlphabeticallyByProperty(i,"name");const m=Object.keys(r);if(n.sortAlphabeticallyByFn(m,e=>e),i.length>0)for(const n of i)e.items.push(n);for(const o of m){const t={type:"NAME_GROUP",name:o,key:o,items:[],subtrees:[]},s=r[o];n.sortAlphabeticallyByProperty(s,"name");for(const e of s)t.items.push(e);e.subtrees.push(t)}return e};t.addSortedComponentsByFrame=((e,t)=>{var s;const a={},r=[];for(const n of t){if(n.type!==o.LibraryItemType.COMPONENT){r.push(n);continue}const e=n.containing_frame;e&&e.nodeId&&e.nodeId!==n.node_id?(a[e.nodeId]=a[e.nodeId]||[],a[e.nodeId].push(n)):r.push(n)}n.sortAlphabeticallyByProperty(r,"name");const i=Object.keys(a);if(n.sortAlphabeticallyByFn(i,e=>{var t;return(null===(t=a[e][0].containing_frame)||void 0===t?void 0:t.name)||""}),r.length>0)for(const n of r)e.items.push(n);for(const o of i){const t=a[o];n.sortAlphabeticallyByProperty(t,"name");const r={type:"FRAME",name:(null===(s=t[0].containing_frame)||void 0===s?void 0:s.name)||"",key:o,items:[],subtrees:[]};for(const e of t)r.items.push(e);e.subtrees.push(r)}return e}),t.addSortedComponentsByPage=((e,s,o)=>{const{itemsByPageId:a,pageNamesByPageId:r,itemsWithoutPage:i}=m(s);c(a,r,i);const l=Object.keys(a);n.sortAlphabeticallyByFn(l,e=>r[e]);for(const n of l){const s=r[n],i=a[n];if(o.sortByName){const t={type:"PAGE",name:s,key:n,items:[],subtrees:[]};d(t,i),e.subtrees.push(t)}else{const o={type:"PAGE",name:s,key:n,items:[],subtrees:[]};t.addSortedComponentsByFrame(o,i),e.subtrees.push(o)}}return e}),t.getFormattedBreadcrumbPath=((e,t)=>{let s=[...e];if(t&&t.length&&e&&e.length){const n=e.length-t.length;for(let o=t.length-1;o>=0;--o)o+n<e.length&&e[o+n]===t[o]&&s.pop()}return s.length>0?s.join(" / ")+" /":""}),t.sortAndGroupItemsByPathName=((e,s,o,a)=>{var r,i;let m=[],l=new Map;for(const n of e)s&&(n.flattenedPath=s.concat(n.name||"").join(" / ")),o&&(n.breadcrumbPath=t.getFormattedBreadcrumbPath(o,s)),a&&(n.stickyHeaderTokens=a.concat(n.name||"")),l.has(n.name||"")?(n.subtrees&&n.subtrees.length&&(null===(r=l.get(n.name||""))||void 0===r||r.subtrees.push(...n.subtrees)),n.items&&n.items.length&&(null===(i=l.get(n.name||""))||void 0===i||i.items.push(...n.items))):l.set(n.name||"",n);for(let c of l.values()){let e=s,r=o,i=a.concat(c.name||"");const l=new Set;for(const t of c.subtrees)l.add(t.name);r=r.concat(c.name||""),"PAGE_V2"!==c.type&&(0==c.items.length&&1==l.size?(c.skipElementInRendering=!0,e=e.concat(c.name||"")):e=[]),c.subtrees=t.sortAndGroupItemsByPathName(c.subtrees,e,r,i),n.sortAlphabeticallyByProperty(c.subtrees,"name"),m.push(c)}return m}),t.addDeepNestedItemsByPath=((e,t)=>{n.sortAlphabeticallyByProperty(t,"name");const s=Object.create(null);for(const n of t){const t=a.getNameParts(n.name);let o="";for(let a=0;a<t.length;a++){const r=t[a],i=o,m=a<t.length-1;let l;if(o+=r+(m?"/":""),l=s[i]?s[i]:e,m&&!s[o]){let e={type:"NAME_GROUP_V2",name:r,key:r,items:[],subtrees:[]};s[o]=e,l.subtrees.push(e)}m||l.items.push(n)}}}),t.addDeepNestedItemsByFrame=((e,s)=>{var n;const a={},r=[],i={};for(const t of s)if(t.type===o.LibraryItemType.COMPONENT&&(null===(n=t.containing_frame)||void 0===n?void 0:n.nodeId)){const e=t.containing_frame.nodeId;a[e]=a[e]||[],a[e].push(t),i[e]=t.containing_frame}else r.push(t);const m=Object.keys(a).length;if(m>0||1===m&&r.length){for(const s in a){const n=i[s],o=a[s];let r={type:"NAME_GROUP_V2",name:n.name||"",key:s,items:[],subtrees:[]};e.subtrees.push(r),t.addDeepNestedItemsByPath(r,o)}t.addDeepNestedItemsByPath(e,r)}else t.addDeepNestedItemsByPath(e,s)}),t.addDeepNestedSortedItemsByPage=((e,s)=>{const{itemsByPageId:o,pageNamesByPageId:a,itemsWithoutPage:r}=m(s);c(o,a,r);const i=Object.keys(o);if(n.sortAlphabeticallyByFn(i,e=>a[e]),i.length>1||1===i.length&&r.length){for(const s of i){const n={type:"PAGE_V2",name:a[s],key:s,items:[],subtrees:[]};e.subtrees.push(n),t.addDeepNestedItemsByFrame(n,o[s])}t.addDeepNestedItemsByFrame(e,r)}else t.addDeepNestedItemsByFrame(e,s);e.subtrees=t.sortAndGroupItemsByPathName(e.subtrees,[],[],e.name?[e.name]:[]),n.sortAlphabeticallyByProperty(e.subtrees,"name")}),t.generateDeepNestSortedComponentsTreeForAssetsPanel=(e=>{const s={items:[],subtrees:[]},{allItems:n,publishedItems:o,privateItems:a,numPublished:i}=e.localLibraryItemsInfo,{fileKeyToSubscribedItems:m,subscribedFiles:l}=e.subscribedItemsInfo,c=i>0&&e.canPublish,d=c&&a.length>0,u=d?o:n,p={items:[],subtrees:[],key:"localComponents",name:n.length>0?"Local components":"",type:"FILE_V2",sectionNameForTracking:"Local components",isFilePublished:c,isShowingLocalLibraryItems:!0,stickyHeaderTokens:[]};if(s.subtrees.push(p),!d&&r.itemsAllOnePageAndNoFrames(u)?(t.addDeepNestedItemsByFrame(p,u),p.subtrees=t.sortAndGroupItemsByPathName(p.subtrees,[],[],p.name?[p.name]:[])):t.addDeepNestedSortedItemsByPage(p,u),d){const e={items:[],subtrees:[],key:"privateToThisFile",name:"Private to this file",type:"PAGE_V2",sectionNameForTracking:"Local private components",isFilePublished:c,isShowingLocalLibraryItems:!0,stickyHeaderTokens:[]};t.addDeepNestedSortedItemsByPage(e,a),p.subtrees.push(e)}if(e.otherUsedLibraryItems.length>0){const t={items:[],subtrees:[],key:"usedInThisFile",name:"Used in this file",type:"FILE_V2",isFilePublished:!0,isShowingLocalLibraryItems:!1,sectionNameForTracking:"Used in this file",stickyHeaderTokens:[]};for(const s of e.otherUsedLibraryItems)t.items.push(s);s.subtrees.push(t)}for(const r of l){const e=r.key,n={items:[],subtrees:[],key:`subscribedComponents:${e}`,name:r.name,type:"FILE_V2",isFilePublished:!0,isShowingLocalLibraryItems:!1,sectionNameForTracking:"Subscribed libraries",subscribedFileKey:e};t.addDeepNestedSortedItemsByPage(n,m[r.key]),s.subtrees.push(n)}return s})}),
(function(n,e,o){n.exports={element:"component_scroll_container--element--_k-Bq",rowElement:"component_scroll_container--rowElement--yfihS component_scroll_container--element--_k-Bq",stickyRowElement:"component_scroll_container--stickyRowElement--1tY_U component_scroll_container--rowElement--yfihS component_scroll_container--element--_k-Bq",stickyRowFixedElement:"component_scroll_container--stickyRowFixedElement--zdnPW component_scroll_container--rowElement--yfihS component_scroll_container--element--_k-Bq",selectedRow:"component_scroll_container--selectedRow--3Pcbt",scrollContentContainer:"component_scroll_container--scrollContentContainer--cTGAq"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),l=s(141              ),i=s(411                                                  ),n=s(1538                                                              ),r=s(1546                              ),c=s(150                         ),h=s(109                                                           );class a extends l.Component{constructor(e){super(e),this.elementsCache={allElementsTree:new n.RenderedElementTree(-1),elementsInView:[],totalHeight:0,isDirty:!1},this.heightFrameRequest=null,this.recalculateLayout=(()=>{this.nextHeight=window.innerHeight,null===this.heightFrameRequest&&(this.heightFrameRequest=requestAnimationFrame(this.setWindowHeight))}),this.setWindowHeight=(()=>{this.elementsCache.isDirty=!0,this.setState({windowHeight:this.nextHeight}),this.heightFrameRequest=null}),this.scrollContainerRef=o.createRef(),this.scrollFrameRequest=null,this.nextScrollTop=0,this.onScroll=(e=>{this.nextScrollTop=e,null===this.scrollFrameRequest&&(this.scrollFrameRequest=requestAnimationFrame(this.setScrollTop)),this.props.onScroll&&this.props.onScroll(e)}),this.setScrollTop=(()=>{this.elementsCache.isDirty=!0,this.setState({scrollTop:this.nextScrollTop}),this.scrollFrameRequest=null,this.props.setScrollTop&&this.props.setScrollTop(this.nextScrollTop)}),this.scrollPositionCache={previous:{key:null,top:0,offset:0,scrollTop:0},scrollToPositionAfterUpdate:null},this.toggleExpand=(e=>{const t=this.elementsCache.allElementsTree.findExpandableElementWithKey(e);if(t){const s=!t.isExpanded;t.isExpanded=s,t.element=t.getExpandableElement(s),this.elementsCache.allElementsTree.setExpandKey(e,s),this.elementsCache.isDirty=!0,this.forceUpdate()}}),this.state={scrollTop:0,windowHeight:0},this.recalculateLayout(),this.elementsCache.allElementsTree.allElements=e.scrollContent,this.elementsCache.isDirty=!0}componentDidMount(){window.addEventListener("resize",this.recalculateLayout)}componentWillUnmount(){window.removeEventListener("resize",this.recalculateLayout)}UNSAFE_componentWillUpdate(e){this.props.scrollContent!==e.scrollContent&&(this.elementsCache.allElementsTree.allElements=e.scrollContent,this.elementsCache.isDirty=!0)}componentDidUpdate(e,t){const s=this.scrollContainerRef.current;if(!s)return;const o=this.props.getViewportHeight(this.state.windowHeight);if(this.props.initialScrollToKey&&this.props.initialScrollToKey!==e.initialScrollToKey){const e=Math.min(this.elementsCache.allElementsTree.getActualTop(this.props.initialScrollToKey)||1/0,this.elementsCache.totalHeight-o),t=this.props.topOffset||0;return s.scrollTo(e+t+1),void(this.scrollPositionCache.scrollToPositionAfterUpdate=null)}return null!==this.scrollPositionCache.scrollToPositionAfterUpdate?(s.scrollTo(this.scrollPositionCache.scrollToPositionAfterUpdate),void(this.scrollPositionCache.scrollToPositionAfterUpdate=null)):void 0}recordingKey(){return this.props.recordingKey}refreshElementsInView(){if(!this.elementsCache.isDirty)return;const e=this.props.getViewportHeight(this.state.windowHeight);let{elementsInView:t,stickyHeader:s,stickyHeaderOffset:o}=this.elementsCache.allElementsTree.getRenderedElementsInView(this.state.scrollTop,e);if(this.restoreScrollPositionIfNecessary(s,o,this.state.scrollTop)){const s=this.scrollPositionCache.scrollToPositionAfterUpdate;t=this.elementsCache.allElementsTree.getRenderedElementsInView(s,e).elementsInView}this.elementsCache.elementsInView=t,this.elementsCache.totalHeight=this.elementsCache.allElementsTree.getTotalHeight(),this.elementsCache.isDirty=!1}restoreScrollPositionIfNecessary(e,t,s){this.scrollPositionCache.scrollToPositionAfterUpdate=null;const o=this.scrollPositionCache.previous,l={key:e&&e.key,top:e&&e.top,offset:t,scrollTop:s};if(this.scrollPositionCache.previous=l,l.scrollTop!==o.scrollTop)return!1;const i=o.key!==l.key||o.top!==l.top;if(!o.key||!i)return!1;const n=this.elementsCache.allElementsTree.getActualTop(o.key);if(null!==n){const e=this.props.topOffset||0;this.scrollPositionCache.scrollToPositionAfterUpdate=n+o.offset+e}return null!==this.scrollPositionCache.scrollToPositionAfterUpdate}getClassNameForRenderedElement(e){let t="",s="";switch(e.type){case n.RenderedItemType.TILE:const l=!!this.props.isTileSelected&&this.props.isTileSelected(e);this.props.isList?(t=r.rowElement,s=l?r.selectedRow:"",e.element=o.cloneElement(e.element,{isSomeComponentBeingDragged:this.props.isDragging||!1})):(t=r.element,e.element=o.cloneElement(e.element,{selected:l}));break;case n.RenderedItemType.ROW:t=r.rowElement,n.renderedElementIsStickyRow(e)&&(t=e.isFixed&&0!==this.state.scrollTop?r.stickyRowFixedElement:r.stickyRowElement)}return`${t} ${s}`}renderElementsInView(){const e=[];for(const[t,s]of this.elementsCache.elementsInView.entries()){const l={top:s.top,height:s.height};if(s.type===n.RenderedItemType.TILE)if(l.left=s.left,this.props.isList)s.element=o.cloneElement(s.element,{isSomeComponentBeingDragged:this.props.isDragging||!1});else{const e=!!this.props.isTileSelected&&this.props.isTileSelected(s);s.element=o.cloneElement(s.element,{selected:e})}s.type===n.RenderedItemType.ROW&&n.renderedElementIsStickyRow(s)&&s.isFixed&&0!==this.state.scrollTop&&(l.top=0,s.fixedElement&&(s.element=s.fixedElement));let i=n.renderedElementIsExpandableRow(s);i&&t>0&&(i=!(n.renderedElementIsStickyRow(s)&&s.isFixed));const r=i?()=>{this.toggleExpand(s.key),n.isProTrialsWalkThroughComponent(s.element)&&h.sendEventToResponsiveContentHandler({id:"Section Header Toggled",properties:{headerTitle:s.element.props.title}})}:void 0;e.push(o.createElement("div",{key:s.key,style:l,className:this.getClassNameForRenderedElement(s),onMouseDown:r},s.element))}return e}render(){return this.refreshElementsInView(),o.createElement(i.ScrollContainer,Object.assign({},this.props,{ref:this.scrollContainerRef,onScroll:this.onScroll}),this.props.renderEmptyState&&this.props.renderEmptyState(),o.createElement(c.RecordableDiv,{onMouseUp:this.props.onMouseUp,recordingKey:this.props.recordingKey,style:{height:this.elementsCache.totalHeight},className:r.scrollContentContainer},this.renderElementsInView()))}}t.ComponentScrollContainer=a,a.displayName="ComponentScrollContainer"}),
(function(l,L,t){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M5.063 3.938l.707.707 2.523 2.523.707.707.707-.707 2.523-2.523.707-.707-.707-.708L9.707.707 9 0l-.707.707L5.77 3.23l-.707.708zm6.46 0L9 6.46 6.477 3.937 9 1.414l2.523 2.524zm-6.46 10.124l.707.708 2.523 2.523L9 18l.707-.707 2.523-2.523.707-.707-.707-.708-2.523-2.523L9 10.125l-.707.707-2.523 2.523-.707.707zm6.46 0L9 16.587l-2.523-2.523L9 11.538l2.523 2.524zM.707 9.707L0 9l.707-.707L3.23 5.77l.708-.707.707.707 2.523 2.523.707.707-.707.707-2.523 2.523-.707.707-.708-.707L.707 9.707zm3.23 1.816L6.462 9 3.937 6.477 1.414 9l2.524 2.523zM10.125 9l.707.707 2.523 2.523.707.707.708-.707 2.523-2.523L18 9l-.707-.707L14.77 5.77l-.707-.707-.708.707-2.523 2.523-.707.707zm6.46 0l-2.523 2.523L11.54 9l2.524-2.523L16.585 9z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,v){l.exports={src:'<svg width="18" height="13" viewBox="0 0 18 13" xmlns="http://www.w3.org/2000/svg"><path d="M7.873 13h1.258c.28-.32.616-.597.995-.819 1.479-.862 4.005-.909 5.386.109H17v-9.2c0 0-.797-2.25-4.42-2.25-1.875 0-2.902.602-3.456 1.184-.389.407-.545.803-.6.976h-.049c-.054-.173-.21-.57-.599-.976C7.322 1.442 6.295.84 4.42.84.797.84 0 3.09 0 3.09v9.19h1.488c1.382-1.019 3.91-.97 5.388-.105.38.223.717.502.997.825zM9 3.289v8.457c.195-.158.403-.3.622-.428.927-.541 2.115-.796 3.241-.787 1.006.008 2.081.227 2.952.759H16V3.317l-.03-.05c-.086-.138-.236-.339-.475-.545-.46-.397-1.33-.882-2.915-.882-1.586 0-2.34.484-2.694.835-.189.186-.296.367-.353.49-.03.061-.046.107-.053.131l-.005.017.001-.006.002-.008v-.005l.001-.002V3.29l-.005-.001H9zm-1 0h-.474l-.006.001v.002l.001.002.001.005.002.008.001.006c0 .001 0-.005-.005-.017-.007-.024-.024-.07-.053-.131-.057-.123-.164-.304-.353-.49-.354-.351-1.108-.835-2.694-.835-1.585 0-2.455.485-2.916.882-.238.206-.388.407-.474.545l-.03.05v7.963h.185c.872-.532 1.948-.752 2.954-.759 1.128-.008 2.316.249 3.243.792.217.127.424.27.618.426V3.29z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2,1    ),s=r(6,1        ),i=r(113                                     ),a=r(173                                        ),n=r(141              ),l=r(111          ),c=r(146                        ),p=r(209                ),h=r(650                                              ),m=r(747                              ),d=r(138      ),y=r(87      ),g=r(1542                     ),b=r(1535                         ),u=r(1540                 ),S=r(420              ),_=r(422                                        ),C=r(176                       ),f=r(285                            ),w=r(226                       ),E=r(135                     ),v=r(261                               ),T=r(175                            ),L=r(1543                       ),I=r(1544                                                              ),M=r(150                         ),K=r(483                                                                  ),N=r(232                       ),D=r(1541                     ),k=r(234                                                    ),P=r(1545                       ),R=r(1547                                                                     ),O=r(1538                                                                             ),x=r(757                      ),F=r(1021                                 ),B=r(1022                                 ),A=S.pxToInt(_.searchInputHeight),U=S.pxToInt(_.toolbarHeight);class G extends L.LibraryItemsContainer{constructor(e){super(e),this.draggingLibraryItemRef=(e=>{this.draggingLibraryItemEl=s.findDOMNode(e)}),this.isDragging=((e=this.props)=>!!(e.library.dragState&&e.library.dragState.draggingLibraryItem&&e.library.dragState.dragPosition)),this.scrollContent=[],this.getComponentScrollContainerProps=(()=>{const e=this.props.viewMode===b.ComponentsSidebarViewMode.List;return{scrollContent:this.scrollContent,recordingKey:"componentsListContainer",isList:e,getViewportHeight:e=>e-2*U,topOffset:A,initialScrollToKey:this.initialScrollToKey,isDragging:this.isDragging(),isTileSelected:e=>e.nodeInfo.isLocal&&this.props.sceneGraphSelection&&h.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,e.nodeInfo.nodeId),onMouseUp:this.clearSelection,renderEmptyState:this.renderEmptyState,width:this.props.width,className:D.scrollContainerFullHeight,initialScrollTop:this.props.initialScrollTop,showScrollbar:!0,onScroll:this.props.onScroll}}),this.initializeScrollContents=(e=>{const t=b.getLocalComponentsAndStateGroupsInfo(e.library.local.components,e.library.local.stateGroups,e.fileVersion),r=b.getSubscribedComponentsAndStateGroupsInfo(e.library,e.editingFileKey,e.fileByKey,e.fileVersion),o=f.fetchOtherUsedStandaloneComponentsAndStateGroups(e.sceneGraph,e.subscribedComponents,e.subscribedStateGroups,e.library,e.fileVersion,e.fileByKey,e.dispatch),s=!!e.library.localSearch.components.query,i=e.viewMode===b.ComponentsSidebarViewMode.List,a=p.getEditingFile(e),n=(null==a?void 0:a.team_id)?e.teams[a.team_id]:null,l=!!n&&E.canAccessProFeature(n),c={scrollContent:[],scrollToKey:void 0},h={onContextMenu:this.onContextMenu,onItemMouseDown:this.onComponentMouseDown,createTouchAdapter:this.createTouchAdapter,isList:i,isSearch:s,width:e.width,dropdownShown:e.dropdownShown,sceneGraphForTesting:e.sceneGraph,canCollapseSections:!e.library.localSearch.components.query,isExpanded:O.RenderedElementTree.isExpandedKey,scrollToHeaderIfFileKeyMatches:(e,t)=>{X&&e.subscribedFileKey&&X===e.subscribedFileKey&&(c.scrollToKey=t.key,X=null)}};if(s){const{results:t,moreResults:r}=e.library.localSearch.components;return t.length+r.length===0?c:(g.appendSearchResultsTo(c.scrollContent,e.library.localSearch.components,{renderingKeys:{stickyKey:null,keyPrefix:"searchResults"},containerMetadata:{sectionNameForTracking:"Search results",isFilePublished:!0,isShowingLocalLibraryItems:!1},overallOptions:h,toggleShowMoreResults:this.toggleShowMoreResults}),c)}const m=P.generateDeepNestSortedComponentsTreeForAssetsPanel({localLibraryItemsInfo:t,subscribedItemsInfo:r,otherUsedLibraryItems:o,isList:i,canPublish:l});return g.appendComponentsTreeTo(c.scrollContent,m,{keyPrefix:"root",stickyKey:null},h),c}),this.clearSelection=(()=>{this.props.dropdownShown&&this.props.dropdownShown.type===b.SIDEBAR_TILES_CONTEXT_MENU_ID||m.clearSelection()}),this.renderEmptyState=(()=>{const{components:e,styles:t}=this.props.library.localSearch,r=!!e.query,s=e.isLoading||t.isLoading,i=0===this.scrollContent.length;return o.createElement("div",null,r&&o.createElement("div",{className:D.stickySearchBuffer}),r&&i&&o.createElement("div",{className:D.text},s?o.createElement(H,null,"Searching..."):o.createElement(H,null,"No results for '",e.query,"'")),!r&&i&&o.createElement(j,{dispatch:this.props.dispatch}))}),this.generatePrivateComponentsByID=((e=this.props)=>{const{privateItems:t}=b.getLocalLibraryItemsInfo(f.getComponentsWithoutStates(e.library.local.components));this.privateComponentsByID=t.reduce((e,t)=>(e[t.node_id]=t,e),{})}),this.librarySearch=null,this.librarySearchRef=(e=>{this.librarySearch=e}),this.handleKeyDown=(e=>{(y.chromeos?e.altKey&&e.shiftKey&&e.keyCode===d.Key.KEY_2:e.altKey&&e.keyCode===d.Key.KEY_2)&&this.librarySearch&&this.librarySearch.focus()}),this.toggleShowMoreResults=(()=>{this.props.dispatch(a.library.setLocalSearchShowMoreResults({type:C.LibraryItemType.COMPONENT,showMoreResults:!this.props.library.localSearch.components.showMoreResults}))}),this.onSearchQueryChange=(e=>{this.props.dispatch(a.library.setLocalQuery({query:e,type:C.LibraryItemType.COMPONENT}))}),this.state={scrollTop:0};const{scrollContent:t,scrollToKey:r}=this.initializeScrollContents(e);this.scrollContent=t,this.initialScrollToKey=r}componentDidMount(){this.generatePrivateComponentsByID(),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.handleKeyDown)}UNSAFE_componentWillUpdate(e){if(this.props.subscribedComponents!==e.subscribedComponents||this.props.library.local.components!==e.library.local.components||this.props.library.local.styles!==e.library.local.styles||this.props.library.published!==e.library.published||this.props.library.subscriptions!==e.library.subscriptions||this.props.library.localSearch!==e.library.localSearch||this.props.width!==e.width||this.props.viewMode!==e.viewMode){const{scrollContent:t,scrollToKey:r}=this.initializeScrollContents(e);this.scrollContent=t,this.initialScrollToKey=r}this.props.library.local.components===e.library.local.components&&this.props.library.local.styles===e.library.local.styles||this.generatePrivateComponentsByID(e),!this.isDragging()&&this.isDragging(e)&&l.segment.track("Component Sidebar Dragged",{viewMode:b.viewModeToString(e.viewMode)})}recordingKey(){return"componentsSidebar"}render(){const e=this.props.viewMode===b.ComponentsSidebarViewMode.List,t=this.props.library.localSearch.components,r=!!t.query,s=0===this.scrollContent.length,i=this.props.leftPanel.activeTab===v.LeftPanelTab.PUBLISH,{numPublished:a}=b.getLocalLibraryItemsInfo(f.getComponentsWithoutStates(this.props.library.local.components)),l=p.getEditingFile(this.props),c=!(null==l||!l.team_id)&&E.canAccessProFeature(this.props.teams[l.team_id]);let h=null;if(this.props.dropdownShown&&this.props.dropdownShown.type===b.SIDEBAR_TILES_CONTEXT_MENU_ID){h=this.props.dropdownShown.data.component}const m=w.hasPendingUpdatesToPublish(this.props),d=f.numUpdates(this.props.library)>0||m;return o.createElement(M.RecordableDiv,{recordingKey:"localComponents",className:D.container},o.createElement("div",{className:this.state.scrollTop>0?D.headerContainerWithShadow:D.headerContainer},o.createElement(I.LibrarySearch,Object.assign({},this.props,{query:t.query,onChange:this.onSearchQueryChange,isVisible:i,className:D.searchWithViewModeToggle,recordingKey:"componentsLibrarySearch",ref:this.librarySearchRef})),o.createElement("div",{className:D.toggleComponentSidebarViewMode},o.createElement(K.IconButton,{recordingKey:n.joinKeys(this.props,"toggleComponentsSidebarViewMode"),"data-tooltip-type":N.TooltipType.TEXT,"data-tooltip":`Show as ${e?"Grid":"List"}`,svg:e?B:F,onClick:this.props.toggleViewMode,disabled:s}),o.createElement("div",{className:D.teamLibraryIcon,"data-onboarding-key":"library"},d&&o.createElement("span",{className:`${this.props.isLibraryModalShown?D.selected:""} ${D.teamLibraryUpdatesIndicator}`}),o.createElement(K.IconButtonTracked,{recordingKey:n.joinKeys(this.props,"teamLibrary"),selected:this.props.isLibraryModalShown,"data-tooltip-type":N.TooltipType.TEXT,"data-tooltip":"Team Library","data-onboarding-key":x.WalkthroughDataOnboardingKeys.TEAM_LIBRARY,svg:q,fallbackSvg:W,onClick:this.props.toggleLibraryModal,innerText:"Team Library"})))),o.createElement(R.ComponentScrollContainer,Object.assign({},this.getComponentScrollContainerProps())),!!h&&o.createElement(u.LibraryItemContextMenu,Object.assign({},this.props)),this.isDragging()&&o.createElement(u.DraggingLibraryItem,{libraryItemDragState:this.props.library.dragState,isList:e,isMouseDraggedOverCanvas:this.isMouseDraggedOverCanvas,ref:this.draggingLibraryItemRef,isSearch:r,isPrivate:a>0&&c&&this.props.library.dragState.draggingLibraryItem&&!!this.privateComponentsByID[this.props.library.dragState.draggingLibraryItem.node_id]}))}}t.ComponentsSidebar=G,G.displayName="ComponentsSidebar";const V=r(1548                                                   ),q=r(180                                      ),W=r(1549                                       );class j extends o.PureComponent{constructor(){super(...arguments),this.openLibrary=(()=>{this.props.dispatch(i.fileBrowser.showModal({type:T.LIBRARY_PREFERENCES_MODAL}))})}render(){return o.createElement(H,null,o.createElement("div",{className:D.emptyStateTitle},"Components"),o.createElement("div",{className:D.emptyStateContent},o.createElement(c.Svg,{className:D.emptyStateIcon,svg:V}),o.createElement("div",{className:D.emptyStateText},'To create a component, select a layer and click the "Create Component" button in the toolbar.'," ",o.createElement("a",{className:D.link,href:"https://help.figma.com/hc/en-us/articles/360038662654",target:"_blank",rel:"noopener"},"Learn more…"))),o.createElement("div",{className:D.emptyStateContent},o.createElement(k.SvgWithFallback,{className:D.emptyStateIcon,svg:q,fallbackSvg:W}),o.createElement("div",{className:D.emptyStateText},"Use libraries for quick access to components from other files."," ",o.createElement("a",{className:D.link,onClick:this.openLibrary},"Explore libraries..."))))}}j.displayName="EmptyComponentState";class H extends o.PureComponent{render(){return o.createElement("div",Object.assign({className:D.emptyState},this.props))}}H.displayName="EmptyState";let X=null;t.scrollComponentPanelToLibraryFile=(e=>{X=e})}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const m=a(46,1    );e.formatDateDayMonth=function(t){return m(t).format("MMM D")},e.formatDateWithMinutes=function(t){let e,a=m(new Date),n=m(t);return e=n.isSame(a,"day")?n.format("h:mm a"):n.isSame(a,"year")?n.format("MMM D h:mm a"):n.format("MMM D, YYYY")}}),
(function(l,o,u){l.exports={buttonRow:"upsell_modals--buttonRow--w04iw modal--buttonRow--23IOU",confirmButton:"upsell_modals--confirmButton--7jAIA modal--confirmButton--3Mjew",styles:"upsell_modals--styles--3Nflb",blueLink:"upsell_modals--blueLink--1E0ej modal--blueLink--3juZ6 blue_link--blueLink--22X56"}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(2,1    ),i=t(135                     ),l=t(206                             ),o=t(171                                ),r=t(113                                     ),p=t(137                                    ),n=t(154                                 ),m=t(147                                            ),c=t(146                        ),d=t(191                              ),h=t(1090                                                       ),f=t(93                                   ),u=t(548                          ),g=t(151                           );class _ extends s.PureComponent{constructor(){super(...arguments),this.popModalStack=(()=>{this.props.dispatch(r.fileBrowser.popModalStack())}),this.hideModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.onClickSkip=(e=>{e.preventDefault(),this.hideModal(),null!=this.props.team&&this.props.dispatch(o.payment.startProUpgradeFlow({teamId:this.props.team.id,selectedView:this.props.selectedView||{view:"team",teamId:this.props.team.id}}))}),this.onClickStart=(e=>{e.preventDefault(),this.popModalStack(),null!=this.props.team&&this.props.dispatch(l.team.startProTrial({teamId:this.props.team.id,onSuccess:()=>this.props.dispatch(f.flash.flash("You're now in a trial of the Professional plan"))}))}),this.onClickClose=(e=>{e.preventDefault(),this.popModalStack()})}render(){const e=this.props.team;return null==e?null:s.createElement(p.TrackingContext,{name:`ProTrialPaywallModal > ${this.props.name}`,properties:{teamId:e.id,initiatorRoleLevel:this.props.teamPermissionLevel}},s.createElement(n.Modal,{className:h.modal,size:"medium",dispatch:this.props.dispatch},s.createElement("div",{className:h.modalBar},s.createElement(c.Svg,{className:h.modalCloseX,svg:g,onClick:this.onClickClose})),s.createElement("h3",null,this.props.title),s.createElement("p",null,"Start a free 14-day trial of Professional and get:"),s.createElement("ul",null,s.createElement("li",null,"Unlimited projects and add editors as needed"),s.createElement("li",null,"Shared components and assets with Team Libraries"),s.createElement("li",null,"Unlimited version history")),this.props.message&&s.createElement("p",null,this.props.message),s.createElement("div",{className:`${d.buttonRow} ${h.buttonRow}`},s.createElement(m.ButtonWhiteTracked,{onClick:this.onClickSkip,trackingProperties:{teamId:e.id}},"Upgrade Now"),s.createElement(m.ButtonPrimaryTracked,{onClick:this.onClickStart,trackingProperties:{teamId:e.id}},"Start a free trial"))))}}a.ProTrialPaywallModalImpl=_,_.displayName="TeamTrialModal",a.ProTrialPaywallModal=i.connectToProTeamTrials(u.withDispatch(_))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),l=s(113                                     ),i=s(285                            ),o=s(125                        ),r=s(135                     ),n=s(175                            ),p=s(154                                 ),c=s(152                                          ),m=s(147                                            ),d=s(191                              ),h=s(1552                 ),u=s(137                                    ),y=s(136                                 ),b=s(890                                        ),f=s(1553                                                         );class M extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(l.fileBrowser.hideModal())})}render(){return a.createElement(p.Modal,{title:"Shared Components",size:"small",dispatch:this.props.dispatch},a.createElement(c.ModalCloseButton,Object.assign({},this.props)),"Members of teams can access a library of shared components here. Create a new team or join an existing team to use this feature.",a.createElement("div",{className:d.buttonRow},a.createElement(m.ButtonSecondaryTracked,{onClick:this.closeModal},"Cancel"),a.createElement(m.ButtonLinkTracked,{href:"/files/create-team",target:"_blank",className:d.confirmButton,onClick:this.closeModal},"Create a team")))}}t.CreateTeamLibraryUpsell=M,M.displayName="CreateTeamLibraryUpsell",t.PUBLISH_COMPONENTS_UPSELL_MODAL="publish-components-upsell",y.registerUnsafeModal(t.PUBLISH_COMPONENTS_UPSELL_MODAL,e=>a.createElement(C,{localStyleLibrary:e.library.local.styles,editingFileKey:e.editingFileKey,modalShown:e.modalShown,permissionsState:o.getPermissionsState(e),dispatch:e.dispatch,selectedView:e.selectedView}));class C extends a.PureComponent{constructor(){super(...arguments),this.onStylesClick=(()=>{this.props.dispatch(l.fileBrowser.showModal({type:n.PUBLISH_COMPONENTS_MODAL}))})}render(){const e=this.props.modalShown.data.team,s=i.hasPendingItemChanges(this.props.localStyleLibrary);if(e&&o.canEditTeam(e.id,this.props.permissionsState))return a.createElement(_,{hasStyleUpdates:s,dispatch:this.props.dispatch,onStylesClick:this.onStylesClick,team:e,selectedView:this.props.selectedView});{let e=!1;const l=this.props.permissionsState.teams;for(let t in l)if(o.canEditTeam(t,this.props.permissionsState)&&r.canAccessProFeature(l[t])){e=!0;break}return e?a.createElement(t.MoveFilePublishUpsell,{hasStyleUpdates:s,modalShown:this.props.modalShown,editingFileKey:this.props.editingFileKey,onStylesClick:this.onStylesClick,dispatch:this.props.dispatch}):a.createElement(g,{hasStyleUpdates:s,onStylesClick:this.onStylesClick,dispatch:this.props.dispatch})}}}t.PublishUpsellModal=C,C.displayName="PublishUpsellModal";class k extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(l.fileBrowser.hideModal())}),this.renderFileMoveModal=(()=>{const e=this.props.modalShown.data;this.props.dispatch(l.fileBrowser.showModal({type:b.FILE_MOVE_MODAL,data:{fileKey:this.props.editingFileKey,isPublishing:!0,afterFileMove:e.afterFileMove}}))})}render(){return a.createElement(p.Modal,{title:"Move to Team to Publish Components",size:"small",dispatch:this.props.dispatch},a.createElement(c.ModalCloseButton,Object.assign({},this.props)),"Move this file to a Professional Team in order to publish components to that team's library.",a.createElement("div",{className:h.buttonRow},this.props.hasStyleUpdates&&a.createElement("div",{className:h.styles},a.createElement("a",{className:h.blueLink,onClick:this.props.onStylesClick},"Publish styles only")),a.createElement(m.ButtonSecondaryTracked,{onClick:this.closeModal},"Do Nothing"),a.createElement(m.ButtonLinkTracked,{href:"#",className:h.confirmButton,onClick:this.renderFileMoveModal},"Move to Team...")))}}k.displayName="MoveFilePublishUpsell",t.MoveFilePublishUpsell=u.asTrackedContext(k);class _ extends a.PureComponent{constructor(){super(...arguments),this.closeModalUpgrade=(()=>{this.props.dispatch(l.fileBrowser.hideModal())}),this.closeModalExit=(()=>{this.props.dispatch(l.fileBrowser.hideModal())})}render(){const{team:e}=this.props;if(r.isProTrialAvailableToStart(e)){const t="Team Library is available only on the Professional plan";return a.createElement(f.ProTrialPaywallModal,{name:_.displayName,teamId:e.id,title:t})}return a.createElement(u.TrackingContext,{name:_.displayName,properties:{teamId:this.props.team.id}},a.createElement(p.Modal,{title:"Team Library is a Professional plan-only feature",size:"small",dispatch:this.props.dispatch},a.createElement(c.ModalCloseButton,Object.assign({},this.props)),"Upgrade this team to publish components to the Team Library and use them across all files.",a.createElement("div",{className:h.buttonRow},this.props.hasStyleUpdates&&a.createElement("div",{className:h.styles},a.createElement("a",{className:h.blueLink,onClick:this.props.onStylesClick},"Publish styles only")),a.createElement(m.ButtonSecondaryTracked,{onClick:this.closeModalExit,trackingProperties:{teamId:this.props.team.id}},"Cancel"),a.createElement(m.ButtonLinkTracked,{href:`/files/upgrade-team/${this.props.team.id}`,target:"_blank",className:d.confirmButton,onClick:this.closeModalUpgrade,trackingProperties:{teamId:this.props.team.id}},"Upgrade team"))))}}t.UpgradeTeamPublishUpsell=_,_.displayName="UpgradeTeamPublishUpsell";class g extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(l.fileBrowser.hideModal())})}render(){return a.createElement(u.TrackingContext,{name:g.displayName},a.createElement(p.Modal,{title:"Create a Team to Publish Components",size:"small",dispatch:this.props.dispatch},a.createElement(c.ModalCloseButton,Object.assign({},this.props)),"Only members of Professional Teams can publish components to a shared library. Create a new team or join an existing team to use this feature.",a.createElement("div",{className:h.buttonRow},this.props.hasStyleUpdates&&a.createElement("div",{className:h.styles},a.createElement("a",{className:h.blueLink,onClick:this.props.onStylesClick},"Publish styles only")),a.createElement(m.ButtonSecondaryTracked,{onClick:this.closeModal},"Cancel"),a.createElement(m.ButtonLinkTracked,{href:"/files/create-team",target:"_blank",className:h.confirmButton,onClick:this.closeModal},"Create a team"))))}}t.CreateTeamPublishUpsell=g,g.displayName="CreateTeamPublishUpsell"}),
(function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=s(2,1    ),t=s(640                                        ),o=s(154                                 ),r=s(136                                 );i.CONFIRM_UNPUBLISH_COMPONENTS="confirm-unpublish-components",r.registerUnsafeModal(i.CONFIRM_UNPUBLISH_COMPONENTS,e=>n.createElement(l,Object.assign({},e)));class l extends n.Component{constructor(){super(...arguments),this.unpublishAll=(()=>this.props.dispatch(t.unpublishAll()))}render(){return n.createElement(o.ConfirmationModal,Object.assign({content:"This action will remove all of the components in this file from the library.",onConfirm:this.unpublishAll,confirmText:"Remove file from library"},this.props))}}l.displayName="ConfirmUnpublishModal"}),
(function(e,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=i(2,1    ),n=i(43,1         ),t=i(111          ),l=i(319                                              ),o=i(343                      ),c=i(154                                 ),s=i(136                                 );a.ORG_LIBRARY_SUBSCRIPTION_CONFIRM_MODAL=s.registerModal(e=>{let a,i;const s=n.useDispatch();return o.isFileOrgBrowsable(e.file)?(a="This library will show up in all organization files by default.",i="Enable library"):(a=r.createElement("div",null,"In order to enable this library for your organization, you'll need to give everyone access to it.",r.createElement("br",null),r.createElement("br",null),"This will change the privacy of '",e.file.name,"' to 'Everyone at ",e.org.name," can view.'"),i="Change privacy and enable"),r.createElement(c.ConfirmationModal,{confirmationTitle:"Enable Library for Organization?",content:a,confirmText:i,cancelText:"Cancel",onConfirm:()=>{s(l.postOrgSubscription({fileKey:e.file.key,userInitiated:!0})),t.segment.track("Org Library File Enabled")},dispatch:s})},"ORG_LIBRARY_SUBSCRIPTION_CONFIRM_MODAL")}),
(function(l,o,t){l.exports={src:'<svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"><path d="M6 6l.354.354L6.707 6l-.353-.354L6 6zM.646 1.354l5 5 .708-.708-5-5-.708.708zm5 4.292l-5 5 .708.708 5-5-.708-.708z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M6.207 8.5l6.647-6.646-.707-.708L4.792 8.5l7.353 7.354.708-.707L6.207 8.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.582 0 0 3.582 0 8c0 4.418 3.582 8 8 8 4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8zM1 8c0 3.866 3.134 7 7 7 3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/><path d="M7.063 9.7H8.18v-.075c.015-.898.273-1.3.937-1.71.7-.423 1.13-1.017 1.13-1.895 0-1.27-.962-2.13-2.395-2.13-1.317 0-2.372.77-2.422 2.176h1.187c.047-.828.637-1.191 1.235-1.191.664 0 1.203.441 1.203 1.133 0 .582-.364.992-.828 1.281-.727.445-1.157.887-1.165 2.336v.074zm.59 2.374c.425 0 .78-.347.78-.781 0-.426-.355-.777-.78-.777-.43 0-.782.351-.782.777 0 .434.352.781.781.781z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),r=s(108     ),a=s(105        ),n=s(492                                  ),o=s(137                                    ),l=s(207                                   ),p=s(172                                              ),c=s(173                                        ),m=s(113                                     ),h=s(449                                  ),d=s(141              ),u=s(214         ),y=s(420              ),b=s(308         ),g=s(147                                            ),f=s(1519                                                           ),w=s(111          ),S=s(123         ),_=s(85                   ),E=s(88           ),T=s(209                ),v=s(176                       ),N=s(285                            ),F=s(319                                              ),C=s(319                                              ),D=s(1520                        ),L=s(125                        ),I=s(114                              ),k=s(1113                                                 ),O=s(1118                               ),V=s(109                                                           ),P=s(232                       ),B=s(773                                                    ),A=s(1528                                                ),R=s(146                        ),M=s(271                                        ),U=s(406                           ),x=s(422                                        ),K=s(1407            ),$=s(411                                                  ),W=s(537                                     ),Y=s(1532                                                                ),H=s(259                                                                 ),j=s(1534                                                       ),G=s(755                      ),Q=s(175                            ),z=s(1535                                                                        ),X=s(1550                                                                ),q=s(135                     ),Z=s(409                                  ),J=s(915                             ),ee=s(115                     ),te=s(1544                                                              ),se=s(459                          ),ie=s(1551                 ),re=s(1527                             ),ae=s(1554              ),ne=s(1555                       ),oe=s(641                         ),le=s(830                                                  ),pe=s(757                      ),ce=s(1556                                                    ),me=y.pxToInt(x.toolbarHeight),he=s(417                         ),de=s(1557                                  ),ue=s(1558                                   ),ye=s(151                           ),be=s(1559                                ),ge=s(1394                             );class fe extends G.Tab{}class we extends d.Component{constructor(e){super(e),this.close=(()=>{this.props.dispatch(m.fileBrowser.hideModal())}),this.setTab=(e=>{K.SharedFonts.loadSharedFonts(this.props.dispatch),e!==this.state.tab&&w.segmentTrackEvent("Library Preferences Modal Tab Changed",{tab:e}),this.setState({tab:e})});let t=e.tab||v.LibraryPreferencesModalTab.LIBRARIES;"team"!==this.props.selectedView.view&&!se.isUserAccountSettingsView(this.props.selectedView)||e.tab===v.LibraryPreferencesModalTab.FONTS||(t=v.LibraryPreferencesModalTab.LIBRARIES),this.state={tab:t}}modalWidth(){return y.pxToInt(D.canShowSharedFonts(this.props)?x.sharedFontsModalWidth:x.libraryPreferencesModalWidth)}renderTabs(){if("team"===this.props.selectedView.view||se.isUserAccountSettingsView(this.props.selectedView))return i.createElement("div",{className:re.tabs},i.createElement(fe,{recordingKey:d.joinKeys(this.props,"libraryTab"),onClick:this.setTab,tab:v.LibraryPreferencesModalTab.LIBRARIES,selectedTab:this.state.tab},"Libraries"),D.canShowSharedFonts(this.props)&&i.createElement(fe,{recordingKey:d.joinKeys(this.props,"fontsTab"),onClick:this.setTab,tab:v.LibraryPreferencesModalTab.FONTS,selectedTab:this.state.tab},"Shared Fonts"));const e=N.numUpdates(this.props.library),t=L.canEditFile(this.props.editingFileKey,this.props);return i.createElement("div",{className:re.tabs},i.createElement(fe,{recordingKey:d.joinKeys(this.props,"libraryTab"),onClick:this.setTab,tab:v.LibraryPreferencesModalTab.LIBRARIES,selectedTab:this.state.tab,disabled:!t},"Libraries"),i.createElement(fe,{recordingKey:d.joinKeys(this.props,"updatesTab"),onClick:this.setTab,tab:v.LibraryPreferencesModalTab.UPDATES,selectedTab:this.state.tab,disabled:!t},"Updates",e>0&&i.createElement("div",{className:re.updateBadge},e)))}render(){const e=new u.Vector((window.innerWidth-this.modalWidth())/2,me+12),t="team"===this.props.selectedView.view&&this.props.selectedView.teamId||null,s="fullscreen"===this.props.selectedView.view&&!this.props.editingFileKey;let r=re.modalContentContainer;return D.canShowSharedFonts(this.props)&&(r+=` ${re.sharedFonts}`),i.createElement(o.TrackingContext,{name:"Library Preference Modal"},i.createElement(B.DraggableModal,{headerSize:"large",dragHeaderOnly:!0,onClose:this.close,title:this.renderTabs(),initialPosition:e},s&&i.createElement("div",{className:re.modalContentContainer},i.createElement("div",{className:re.spinner},i.createElement(M.LoadingSpinner,null))),!s&&i.createElement("div",{className:r},this.state.tab===v.LibraryPreferencesModalTab.LIBRARIES&&i.createElement(Se,Object.assign({showingDefaultSubscriptionsForTeamId:t,showingDefaultSubscriptionsForUser:se.isUserAccountSettingsView(this.props.selectedView),showingDefaultSubscriptionsForOrg:null,width:this.modalWidth()},this.props)),this.state.tab===v.LibraryPreferencesModalTab.FONTS&&t&&i.createElement(K.SharedFonts,Object.assign({},this.props,{teamId:t,width:this.modalWidth(),resourceType:"team",useDeprecatedViewComponent:!0,permissionsState:L.getPermissionsState(this.props)})),this.state.tab===v.LibraryPreferencesModalTab.UPDATES&&i.createElement(A.Updates,Object.assign({},this.props,{width:this.modalWidth()})))))}}t.LibraryPreferencesModal=we,we.displayName="LibraryPreferencesModal";class Se extends d.Component{constructor(e){super(e),this.viewFile=(e=>{this.setState({fileKey:e})}),this.backToList=(()=>{this.setState({fileKey:null,selectedLibraryItem:null}),setTimeout(()=>{V.sendEventToResponsiveContentHandler({id:"Library File Collapsed"})},200)}),this.onItemClick=(e=>{this.props.showingDefaultSubscriptionsForOrg&&this.setState({selectedLibraryItem:e})});let t=null;if(this.props.modalShown&&this.props.modalShown.type===Q.LIBRARY_PREFERENCES_MODAL){const e=this.props.modalShown.data;e&&e.fileKey&&(t=e.fileKey)}this.state={fileKey:t,isLoading:!0,libraries:v.DEFAULT_LIBRARIES,selectedLibraryItem:null}}componentDidMount(){this.props.dispatch(c.library.getLibraryState({})),C.getLibraryStats(this.props.currentOrgId,!!this.props.showingDefaultSubscriptionsForOrg,this.props.fileVersion).then(e=>this.setState({libraries:e,isLoading:!1}))}render(){const e=T.getEditingFile(this.props),t=z.getLocalLibraryItemsInfo(this.props.library.local.styles),s=z.getLocalLibraryItemsInfo(N.getComponentsWithoutStates(this.props.library.local.components)),r=z.getLocalLibraryItemsInfo(this.props.library.local.stateGroups);let a=!0;if(this.props.showingDefaultSubscriptionsForTeamId){const e=this.props.teams[this.props.showingDefaultSubscriptionsForTeamId];a=e&&L.canAdminTeam(e.id,this.props)}return this.props.showingDefaultSubscriptionsForUser&&(a=!!this.props.user),this.props.showingDefaultSubscriptionsForOrg&&(a=L.canAdminOrg(this.props.showingDefaultSubscriptionsForOrg.id,this.props)),i.createElement(o.TrackingContext,{name:le.TrackedContext.LIBRARY_SUBSCRIPTIONS},i.createElement("div",{className:`${re.slidingPaneContainer} ${this.props.inOrgDashboardModal?re.orgDashboardModal:""}`},i.createElement("div",{className:this.state.fileKey||this.state.selectedLibraryItem?re.slidingPaneLeft:re.slidingPane},i.createElement(_e,Object.assign({editingFile:e,editingFileStylesInfo:t,editingFileComponentsInfo:s,editingFileStateGroupsInfo:r,viewFile:this.viewFile,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,canEditSubscriptions:a,isLoading:this.state.isLoading,libraries:this.state.libraries,onItemClick:this.onItemClick},this.props))),!this.state.selectedLibraryItem&&this.state.fileKey&&i.createElement("div",{className:this.state.fileKey?re.slidingPane:re.slidingPaneRight},i.createElement(Re,Object.assign({editingFile:e,editingFileStylesInfo:t,editingFileComponentsInfo:s,editingFileStateGroupsInfo:r,libraries:this.state.libraries,isLoading:this.state.isLoading,libraryFile:this.props.fileByKey[this.state.fileKey],backToList:this.backToList,showingDefaultSubscriptionsForUser:this.props.showingDefaultSubscriptionsForUser,showingDefaultSubscriptionsForTeamId:this.props.showingDefaultSubscriptionsForTeamId,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,canEditSubscriptions:a,width:this.props.width},T.stateWithoutMirror(this.props)))),this.state.selectedLibraryItem&&i.createElement("div",{className:re.slidingPane},i.createElement(We,{selectedLibraryItem:this.state.selectedLibraryItem,backToFile:this.backToList,width:this.props.width,orgId:this.props.currentOrgId,fileVersion:this.props.fileVersion}))))}}t.LibrarySubscriptions=Se,Se.displayName="LibrarySubscriptions";class _e extends d.Component{constructor(e){super(e),this.storageKey="subscriptionListView:state",this.storage=E.getLocalOrMemoryStorage(),this.onSearchQueryChange=(e=>{this.props.dispatch(c.library.setLibraryQuery({query:e})),V.sendEventToResponsiveContentHandler({id:"Library Search Query Changed",properties:{text:e}})}),this.calcSearchResult=(()=>{const e=_.getFeatureFlags().sss_team_library_live_launch,t=[],s=this.props.library.publishedSearchResults,i={},r=s.components,a=s.styles,n=s.components.filteredByTeamId,o=s.styles.filteredByTeamId;for(const l of[n,o])for(const e in l)for(const t in l[e])i[t]=e;for(const l in i){const s=this.props.fileByKey&&this.props.fileByKey[l];if(!s)continue;const p=i[l],c=this.props.teams&&this.props.teams[p],m=n[p]&&n[p][l]||{},h=o[p]&&o[p][l]||{};t.push({library_file_key:l,library_file_name:s.name,team_name:c&&c.name,team_id:p,num_teams:0,num_components:e?r.numAssetsByFileKey[l]||0:Object.keys(m).length,num_state_groups:0,num_styles:e?a.numAssetsByFileKey[l]||0:Object.keys(h).length,num_weekly_insertions:0,min_search_score:Math.min(r.minScorePerFile[l]||1/0,a.minScorePerFile[l]||1/0)})}return t}),this.setSortByAndOrder=(e=>{const t=this.state.sortBy,s={sortBy:e,prevCol:t,isDescending:t!=e||!this.state.isDescending};this.setState(s),this.storage.set(this.storageKey,s)});const t=this.storage.get(this.storageKey);this.state=e.showingDefaultSubscriptionsForOrg&&t?t:{sortBy:e.library.librarySearchQuery?"search":"alpha",prevCol:null,isDescending:!0}}render(){const e=this.props.editingFile,t=this.props.libraries;let s=t.files,r=e&&!this.props.library.librarySearchQuery;const n=e?e.team_id:v.NO_TEAM_ID,o=this.props.showingDefaultSubscriptionsForTeamId||this.props.showingDefaultSubscriptionsForUser,l=this.props.showingDefaultSubscriptionsForUser?null:this.props.showingDefaultSubscriptionsForTeamId;function p(e,t){return e.team_id===n?-1:t.team_id===n?1:(e.team_name||"")<(t.team_name||"")?-1:1}switch(this.props.library.librarySearchQuery&&(s=this.calcSearchResult()),this.state.sortBy){case"alpha":s.sort((c=this.state.isDescending,(e,t)=>{if(e.team_id!==t.team_id)return p(e,t);const s=(e.library_file_name||"").localeCompare(t.library_file_name||"");return c?s:-s}));break;case"components":a.sortNumericallyByProperty(s,"num_components",this.state.isDescending);break;case"styles":a.sortNumericallyByProperty(s,"num_styles",this.state.isDescending);break;case"teams":a.sortNumericallyByProperty(s,"num_teams",this.state.isDescending);break;case"inserts":a.sortNumericallyByProperty(s,"num_weekly_insertions",this.state.isDescending);break;case"search":s.sort(function(e,t){return e.team_id!==t.team_id?p(e,t):e.min_search_score<t.min_search_score?-1:1})}var c;const m=this.props.library.librarySearchQuery&&0===s.length,h=r&&1===s.length,d=b.isEmpty(this.props.library.subscriptions.forCurrentUser);let u=null;if(e)for(const i of s)if(i.library_file_key===e.key){r=!0,u=i;break}let y=v.NO_TEAM_ID;const g=this.props.showingDefaultSubscriptionsForOrg&&!this.props.library.librarySearchQuery,f=[{header:"Total Teams",count:this.props.teams?Object.keys(this.props.teams).length:0,word:"team",plural:"teams"},{header:"Teams with Libraries",count:t.teamsWithLibraries,word:"team",plural:"teams"},{header:"Total Libraries",count:t.totalLibraries,word:"library",plural:"libraries"},{header:"Total Components",count:t.totalComponents,word:"component",plural:"components"},{header:"Total Styles",count:t.totalStyles,word:"style",plural:"styles"}],w=[{header:"Teams and Libraries",sortBy:"alpha",className:re.nameCol},{header:"Components",sortBy:"components",className:re.numCol},{header:"Styles",sortBy:"styles",className:re.numCol},{header:"Used by",sortBy:"teams",className:re.numCol},{header:"Inserts Last Week",sortBy:"inserts",className:re.numCol}];return i.createElement("div",null,i.createElement("div",{className:re.searchContainer},i.createElement(te.LibrarySearch,Object.assign({},this.props,{width:this.props.width,query:this.props.library.librarySearchQuery,onChange:this.onSearchQueryChange,extraSpacing:!0,isVisible:!0}))),this.props.isLoading&&i.createElement($.ScrollContainer,{className:re.fileListView,width:this.props.width},i.createElement(U.LoadingRow,null)),!this.props.isLoading&&i.createElement($.ScrollContainer,{className:re.fileListView,showScrollbar:!0,width:this.props.width},this.props.showingDefaultSubscriptionsForTeamId&&i.createElement(Ee,Object.assign({},this.props,{isEmpty:0===s.length})),this.props.showingDefaultSubscriptionsForUser&&i.createElement(Te,Object.assign({},this.props,{isEmpty:d})),m&&i.createElement("div",{className:re.info},"No results for '",this.props.library.librarySearchQuery,"'"),g&&i.createElement(Be,{isLoading:this.props.isLoading,stats:f}),g&&i.createElement(U.TableRow,{className:re.headerRowOverview},w.map(e=>i.createElement(U.SortableField,{className:`${e.className} ${re.sortableCol} ${this.state.sortBy===e.sortBy?re.selected:""}`,isDescending:this.state.isDescending,hasArrow:this.state.sortBy===e.sortBy,key:e.sortBy,field:e.sortBy,sortBy:this.setSortByAndOrder},e.header))),r&&e&&i.createElement("div",{className:re.teamSection},i.createElement("div",{className:re.sectionHeader},"Current file"),i.createElement(Fe,Object.assign({file:e,hasStats:!!g,numComponents:u?u.num_components:0,numStateGroups:0,numStyles:u?u.num_styles:0,numTeams:u?u.num_teams:0,numInserts:u?u.num_weekly_insertions:0},this.props,{isCurrentFile:!0})),i.createElement(Xe,Object.assign({},this.props))),i.createElement("div",{className:re.teamSectionsWrapper},s.map(t=>{const s=this.props.fileByKey&&this.props.fileByKey[t.library_file_key];if(!s||e&&t.library_file_key===e.key)return;if(s.team_id!==l&&!s.org_browsable&&o)return;const r=("alpha"===this.state.sortBy||"search"===this.state.sortBy)&&y!==t.team_id;y=t.team_id;const a=t.team_name||"Drafts";return i.createElement(i.Fragment,{key:s.key},r&&i.createElement("div",{className:re.teamSectionHeader},a),i.createElement(Fe,Object.assign({file:s,hasStats:!!g,numComponents:t.num_components,numStateGroups:0,numStyles:t.num_styles,numTeams:t.num_teams,numInserts:t.num_weekly_insertions,teamName:"alpha"!==this.state.sortBy?a:void 0,onItemClick:this.props.onItemClick},this.props)))}),!h&&i.createElement(ve,Object.assign({},this.props)))))}}_e.displayName="SubscriptionListView";class Ee extends i.PureComponent{render(){if(this.props.isEmpty)return i.createElement("div",{className:re.teamSubscriptionHint},"There are no published components or styles in your team.");if(this.props.canEditSubscriptions)return i.createElement("div",{className:re.teamSubscriptionHint},"Enabling a team library will make it show up in all team files.");{const e=[],t=this.props.showingDefaultSubscriptionsForTeamId&&this.props.roles.byTeamId[this.props.showingDefaultSubscriptionsForTeamId]||{};for(const i in t){const s=t[i];!1===s.pending&&s.level>=ee.PermissionLevel.ADMIN&&e.push(s.user)}let s="";return 1===e.length?s=`Your team admin is ${e[0].handle}.`:2===e.length?s=`Your team admins are ${e[0].handle} and ${e[1].handle}.`:3===e.length?s=`Your team admins are ${e[0].handle}, ${e[1].handle} and ${e[2].handle}.`:e.length>=4&&(s=`Your team admins include ${e[0].handle}, ${e[1].handle} and ${e.length-2} others.`),i.createElement("div",{className:re.teamSubscriptionHint},"Only team admins can enable libraries for the team.",s&&i.createElement("div",null,s))}}}Ee.displayName="TeamSubscriptionHint";class Te extends i.PureComponent{render(){return this.props.isEmpty?i.createElement("div",{className:re.teamSubscriptionHint},"There are no published styles in your drafts."):i.createElement("div",{className:re.teamSubscriptionHint},"Enabling a file will make its styles available in all personal drafts.")}}Te.displayName="UserSubscriptionHint";class ve extends i.PureComponent{constructor(){super(...arguments),this.dismissTeamHint=(()=>{this.props.dispatch(h.userFlags.post({flags:{dismissed_library_modal_hint:!0}}))}),this.dismissDraftHint=(()=>{this.props.dispatch(h.userFlags.post({flags:{dismissed_library_modal_draft_hint:!0}}))})}render(){if(this.props.showingDefaultSubscriptionsForOrg)return null;if(this.props.showingDefaultSubscriptionsForTeamId)return null;if(this.props.showingDefaultSubscriptionsForUser)return null;if(this.props.library.librarySearchQuery)return null;if(!this.props.user)return null;const e=this.props.userFlags;if(!e.dismissed_library_modal_hint){const e=T.getEditingFile(this.props),t=(null==e?void 0:e.team_id)?this.props.teams[e.team_id]:null;if(t&&L.canAdminTeam(t.id,this.props))return i.createElement(Ne,{dismiss:this.dismissTeamHint},"Enable libraries for all team files from your"," ",i.createElement("a",{target:"_blank",rel:"noopener",href:`/files/team/${t.id}`,className:re.link},"Team Settings"))}return!e.dismissed_library_modal_draft_hint&&b.isEmpty(this.props.roles.byTeamId)?i.createElement(Ne,{dismiss:this.dismissDraftHint},"Enable Libraries for all your drafts from your"," ",i.createElement("a",{target:"_blank",rel:"noopener",href:`/files/user/${this.props.user.id}`,className:re.link},"User Account Settings")):null}}ve.displayName="LibraryModalHint";class Ne extends i.PureComponent{render(){return i.createElement("div",null,i.createElement("div",{className:re.libraryModalHintSpacer}),i.createElement("div",{className:re.libraryModalHint},i.createElement("div",{className:re.libraryModalHintText},this.props.children),i.createElement("div",{className:re.dismissLibraryModalHint,onMouseDown:this.props.dismiss,"data-tooltip-type":P.TooltipType.TEXT,"data-tooltip":"Don’t show again"},i.createElement(R.Svg,{svg:ye}))))}}Ne.displayName="Hint";class Fe extends i.PureComponent{constructor(){super(...arguments),this.viewFile=(e=>{e.stopPropagation(),e.preventDefault(),this.isEmpty()||(this.props.viewFile(this.props.file.key),w.segmentTrackEvent("Library File Expanded",{fileName:this.props.file.name}))}),this.countCols=(()=>{const e=this.props.numComponents+this.props.numStateGroups,t=this.props.numStyles;if(this.props.hasStats)return i.createElement("div",{className:re.countCols},i.createElement("div",{className:re.numColVal},e.toLocaleString()),i.createElement("div",{className:re.numColVal},t.toLocaleString()),i.createElement("div",{className:re.numColVal},this.props.numTeams.toLocaleString()),i.createElement("div",{className:re.numColVal},this.props.numInserts.toLocaleString()));if(this.isEmpty())return"No components or styles";const s=[];return e>0&&s.push(S.pluralize(e,"component")),t>0&&s.push(S.pluralize(t,"style")),s.join(", ")}),this.matchString=(()=>{const e=this.props.numComponents,t=this.props.numStyles,s=[];return e>0&&s.push(1===e?"1 component match":`${e} component matches`),t>0&&s.push(1===t?"1 style match":`${t} style matches`),2===s.length?i.createElement("div",null,s[0],i.createElement("br",null),s[1]):1===s.length?s[0]:""})}isEmpty(){return this.props.numComponents+this.props.numStateGroups+this.props.numStyles===0}render(){const e=this.props.file,t=this.isEmpty();return i.createElement("div",null,i.createElement("div",{className:this.isEmpty()?re.fileRowNoHover:re.fileRow,onMouseDown:this.viewFile},i.createElement("div",{className:this.props.showingDefaultSubscriptionsForOrg?re.longNameAndToggle:re.nameAndToggle},!this.props.isCurrentFile&&i.createElement(Ce,{library:this.props.library,editingFile:this.props.editingFile,libraryFile:e,showingDefaultSubscriptionsForUser:!!this.props.showingDefaultSubscriptionsForUser,showingDefaultSubscriptionsForTeamId:this.props.showingDefaultSubscriptionsForTeamId,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,disabled:!this.props.canEditSubscriptions,dispatch:this.props.dispatch,isFileEmpty:t,parentView:"ListView"}),i.createElement("div",{className:re.componentOrFileName},e.name," ",i.createElement("span",{className:re.teamNameHover},this.props.teamName||""))),!this.props.isCurrentFile&&i.createElement("div",{className:re.fileItemCount},this.props.library.librarySearchQuery?this.matchString():this.countCols()),this.props.isCurrentFile&&i.createElement("div",{className:re.fileItemCount},i.createElement(ze,Object.assign({},this.props,{publishedState:i.createElement("div",null,"Published and up to date"),emptyState:i.createElement("div",{className:re.fileItemCount},this.countCols())}))),!t&&i.createElement("div",{className:re.fileRowCaretRightWrapper},i.createElement(R.Svg,{svg:de}))),this.props.library.librarySearchQuery&&i.createElement(Qe,Object.assign({},this.props,{libraryFile:this.props.file,inline:!0,onItemClick:this.props.onItemClick})))}}Fe.displayName="FileRow";class Ce extends i.PureComponent{constructor(){super(...arguments),this.showDisabledMessage=(()=>{this.props.showingDefaultSubscriptionsForTeamId&&this.props.dispatch(p.visualBell.enqueue({message:"Contact a team admin to enable default libraries for your team."}))}),this.toggle=((e,t)=>{e?this.toggleOn(t):this.toggleOff(t)}),this.toggleOn=(e=>{if(e&&e.stopPropagation&&e.stopPropagation(),this.props.disabled)return void this.showDisabledMessage();const t=this.props.libraryFile;if(this.props.showingDefaultSubscriptionsForOrg)this.props.dispatch(I.showModal({type:ce.ORG_LIBRARY_SUBSCRIPTION_CONFIRM_MODAL,data:{file:t,org:this.props.showingDefaultSubscriptionsForOrg}}));else if(this.props.showingDefaultSubscriptionsForTeamId)this.props.dispatch(F.postTeamSubscription({libraryTeamSubscription:{team_id:this.props.showingDefaultSubscriptionsForTeamId,file_key:t.key,is_subscribed:!0},userInitiated:!0})),w.segment.track("Team Library File Enabled");else if(this.props.showingDefaultSubscriptionsForUser)this.props.dispatch(F.postUserSubscription({libraryUserSubscription:{file_key:t.key,is_subscribed:!0},userInitiated:!0}));else{const e=this.props.editingFile;if(!e)return;this.props.dispatch(F.postFileSubscription({libraryFileSubscription:{file_key:e.key,library_file_key:t.key,is_subscribed:!0},userInitiated:!0})),w.segmentTrackEvent("Library File Enabled",{isTrialsWalkThroughLibrary:this.isTrialsWalkThroughLibrary}),N.publishedLibraryItemsForFileAsList(this.props.library.published.components,t).length>0&&(this.props.dispatch(l.fullscreen.setLeftPanelTab({tab:J.LeftPanelTab.PUBLISH})),X.scrollComponentPanelToLibraryFile(t.key))}}),this.toggleOff=(e=>{if(e.stopPropagation(),this.props.disabled)return void this.showDisabledMessage();const t=this.props.libraryFile;if(this.props.showingDefaultSubscriptionsForOrg)this.props.dispatch(F.deleteOrgSubscription({fileKey:t.key,userInitiated:!0})),w.segment.track("Org Library File Disabled");else if(this.props.showingDefaultSubscriptionsForTeamId)this.props.dispatch(F.postTeamSubscription({libraryTeamSubscription:{team_id:this.props.showingDefaultSubscriptionsForTeamId,file_key:t.key,is_subscribed:!1},userInitiated:!0})),w.segment.track("Team Library File Disabled");else if(this.props.showingDefaultSubscriptionsForUser)this.props.dispatch(F.postUserSubscription({libraryUserSubscription:{file_key:t.key,is_subscribed:!1},userInitiated:!0}));else{const e=this.props.editingFile;if(!e)return;this.props.dispatch(F.postFileSubscription({libraryFileSubscription:{file_key:e.key,library_file_key:t.key,is_subscribed:!1},userInitiated:!0})),w.segment.track("Library File Disabled")}}),this.isToggleOn=(()=>this.props.showingDefaultSubscriptionsForOrg?N.isCurrentOrgSubscribedTo(this.props.library,this.props.libraryFile):this.props.showingDefaultSubscriptionsForTeamId?N.isTeamSubscribedTo(this.props.library,this.props.showingDefaultSubscriptionsForTeamId,this.props.libraryFile):this.props.showingDefaultSubscriptionsForUser?N.isCurrentUserSubscribedTo(this.props.library,this.props.libraryFile):!!this.props.editingFile&&N.isFileSubscribedTo(this.props.library,this.props.editingFile,this.props.libraryFile))}get isTrialsWalkThroughLibrary(){return this.props.libraryFile.name===pe.proTrialLibraryName()}dataOnboardingKey(){if(this.isTrialsWalkThroughLibrary&&O.getCachedQueryParam("walk_through_id"))return"FileView"===this.props.parentView?pe.WalkthroughDataOnboardingKeys.TEAM_LIBRARY_TOGGLE_FILE_VIEW:"ListView"===this.props.parentView?pe.WalkthroughDataOnboardingKeys.TEAM_LIBRARY_TOGGLE_LIST_VIEW:void 0}render(){const e=this.isToggleOn(),t=e&&this.isTrialsWalkThroughLibrary;return i.createElement(o.TrackingContext,{name:"Library Subscription Toggle",properties:{trialsWalkThroughLibraryEnabled:t},disableViewTracking:!0},i.createElement("div",{className:re.subscriptionToggleContainer},this.props.includeLabel&&i.createElement("span",{className:re.subscribeLabel},"Enable"),i.createElement(j.Toggle,{on:e,onChange:this.toggle,disabled:this.props.disabled,dataOnboardingKey:this.dataOnboardingKey()})))}}function De(e){return Le(24*e)}function Le(e){return 300*Math.round((new Date).getTime()/3e5)-60*e*60}t.SubscriptionToggle=Ce,Ce.displayName="SubscriptionToggle";const Ie=3,ke=2;class Oe extends i.PureComponent{constructor(){super(...arguments),this.state={library1TimeSeries:null,library2TimeSeries:null,library1TeamUsage:null,library2TeamUsage:null}}componentDidMount(){this.fetchInsertions("primary"),this.props.comparisonFileKey&&this.fetchInsertions("comparison")}componentDidUpdate(e){e.libraryFile.key!==this.props.libraryFile.key&&this.fetchInsertions("primary"),null!==this.props.comparisonFileKey?e.comparisonFileKey!==this.props.comparisonFileKey&&this.fetchInsertions("comparison"):this.setState({library2TimeSeries:null,library2TeamUsage:null})}fetchInsertions(e){const t="primary"===e?this.props.libraryFile.key:this.props.comparisonFileKey,s={start_ts:De(this.props.numDays+7).toString(),end_ts:Le(1).toString(),fv:`${this.props.fileVersion||0}`};r.default.get(`/api/design_systems/library/${t}/weekly_insertions`,s).then(t=>{const s=t.data.meta.map(e=>({date:new Date(e.date),value:e.num_insertions}));"primary"===e?this.setState({library1TimeSeries:s}):this.setState({library2TimeSeries:s})}).catch(e=>{console.warn(`Unable to fetch insertions, error: ${e}`)}),s.start_ts=De(this.props.numDays).toString(),r.default.get(`/api/design_systems/library/${t}/team_usage`,s).then(t=>{const s=t.data.meta;let i=0;for(const e of s)i+=+e.num_insertions;for(const e of s)e.percent_insertions=`${Math.round(100*e.num_insertions/i)}%`;"primary"===e?this.setState({library1TeamUsage:s}):this.setState({library2TeamUsage:s})}).catch(e=>{console.warn(`Unable to fetch team usage, error: ${e}`)})}renderTeamUsage(e,t,s,r,a){return i.createElement("div",{className:re.teamUsage},null===t&&Array(r).fill(0).map((e,t)=>i.createElement("div",{key:t,className:re.usageRow},i.createElement("div",{className:re.grayCell},t+1,"."),i.createElement("div",{className:re.usageLoading}))),t&&i.createElement(i.Fragment,null,t.slice(s,s+r).map((e,t)=>i.createElement("div",{key:t,className:re.usageRow},i.createElement("div",{className:re.grayCell},s+t+1,"."),i.createElement("div",{className:re.usageRowTeamName},e.team_name),i.createElement("div",{className:re.numColGray},(+e.num_insertions).toLocaleString()," ",S.getPluralOrSingular(+e.num_insertions,"insert")),i.createElement("div",{className:re.numColGray},e.percent_insertions))),0===t.length&&0==s&&i.createElement("div",{className:re.noTeamUsage},i.createElement("div",null,"No usage recorded.")),a&&i.createElement("div",{className:re.usageRow},i.createElement("div",null),i.createElement("div",{className:re.grayCell},t.length>s+r&&i.createElement(i.Fragment,null,"+",t.length-s-r," more ",S.getPluralOrSingular(t.length-s-r,"team")),this.renderCSV(e,t)))))}renderCSV(e,t){if(!t||t.length<=Ie+ke)return null;let s="Team ID,Team Name,Insertions,Insertion %\r\n";for(const i of t)s+=`${i.team_id},${i.team_name},${i.num_insertions},${i.percent_insertions}\r\n`;return s="data:text/plain;charset=utf-8,"+encodeURIComponent(s),i.createElement(i.Fragment,null," (",i.createElement(g.LinkTracked,{href:s,download:`${e}-team-usage.csv`,className:re.csvLink,innerText:"DSAnalytics Download CSV"},"Download CSV"),")")}render(){const e=this.state.library1TimeSeries,t=this.state.library2TimeSeries||[];if(null===e||null===this.state.library1TeamUsage)return i.createElement(i.Fragment,null,i.createElement("div",{className:re.graphLoading},i.createElement("div",{className:re.graphLoadingInner},i.createElement("div",{className:re.graphSpinner},i.createElement(M.LoadingSpinner,null)),i.createElement("div",null,"Loading library activity"))),i.createElement("div",{className:re.teamUsageHeader},"Top Teams"),i.createElement("div",{className:re.teamUsageContainer},this.renderTeamUsage(this.props.libraryFile.name,null,0,Ie,!1)));const s=Math.max(0,...[...e,...t].map(e=>e.value));let r=10,a=20;for(;s>4*a;)s>4*a&&(r=a),s>5*a&&(r=2.5*a),s>15*a&&(r=5*a),a*=10;let n=1;this.props.numDays>60&&(n=3),this.props.numDays>120&&(n=6);const o=120,l=Math.floor(s/r)+1,p=l*r,c=(o-1)/l,m=Array.from(new Array(l+1),(e,t)=>1+Math.floor(t*c));function h(e){return o-Math.floor(e*o/p)}function d(e){return e.map(e=>e.join(",")).join(" ")}const u=e.length>0?+e[0].date:+Date.now(),y=(Date.now()-u)/864e5,b=Math.ceil((this.props.numDays-y)/7),g=new Array(b).fill(0),f=b-e.length,w=100/b,_=w/2;function E(e){let t=[],s="";if((e=[...e]).length>0){const s=[100-_,h(e[0].value)];t.push(s)}const i=[...t],r=[];for(let a=1;a<e.length;a++){const s=[100-_-a*w,h(e[a].value)];t.push(s),r.push(s),1===a&&i.push(s)}return s=d(t),s+=` ${100-_-(e.length-1)*w},${o+1} ${100-_},${o+1}`,f<0&&e.pop(),{data:e,dashed:i,restOfPts:r,polygon:s}}const{data:T,dashed:v,restOfPts:N,polygon:F}=E(e),{data:C,dashed:D,restOfPts:L}=E(t);function I(e,t,s){return i.createElement("polyline",{points:d(e),vectorEffect:"non-scaling-stroke",strokeLinejoin:"round",style:{fill:"none",stroke:t,strokeWidth:2,strokeDasharray:s}})}const k=365===this.props.numDays;function O(e,t){return i.createElement("div",{className:re.dotContainer},g.map((s,r)=>e.length>r?i.createElement("div",{key:r,style:{marginTop:h(e[r].value)-6.5},className:re.dotPadding,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-type":P.TooltipType.TEXT,"data-tooltip":`${S.pluralize(e[r].value,"insert")}\n${e[r].date.toLocaleDateString()}`},i.createElement("div",{className:k?re.dotSmall:re.dot,style:{backgroundColor:t}})):i.createElement("div",{key:r,className:re.invisibleDot})))}return i.createElement(i.Fragment,null,i.createElement("div",{className:re.graphContainer},i.createElement("div",{className:re.yAxis},m.map((e,t)=>i.createElement("div",{key:t},p-t*r))),O(T,"#18A0FB"),O(C,"black"),i.createElement("div",{className:re.svgContainer},i.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 100 120",preserveAspectRatio:"none"},T.length>1&&i.createElement(i.Fragment,null,i.createElement("polygon",{points:F,style:{fill:"#18A0FB",fillOpacity:.1}}),I(N,"#18A0FB",""),L&&I(L,"black",""),I(v,"#18A0FB","4 4"),D&&I(D,"black","4 4"),m.map(e=>i.createElement("polyline",{key:e,points:`0,${e} 100,${e}`,vectorEffect:"non-scaling-stroke",style:{fill:"none",stroke:"black",strokeOpacity:.05}})))),i.createElement("div",{className:re.xAxisTop},g.map((e,t)=>i.createElement("div",{className:re.xLabel,key:t},(t+Math.floor(n/2))%n==0&&i.createElement("div",{className:re.graphLine})))),i.createElement("div",{className:re.xAxisBottom},g.map((e,t)=>i.createElement("div",{className:re.xLabel,key:t},(t+Math.floor(n/2))%n==0&&i.createElement("div",null,ie.formatDateDayMonth(new Date(u-60*t*60*24*7*1e3)))))),f>=0&&i.createElement("div",{style:{width:`${Math.min(f*w+_,100)}%`},className:re.missingData},i.createElement("div",{className:re.dotPadding,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-type":P.TooltipType.TEXT,"data-tooltip":`No data before ${T.length>0?ie.formatDateDayMonth(T[T.length-1].date):ie.formatDateDayMonth(new Date)}`},i.createElement(R.Svg,{svg:be}))))),i.createElement("div",{className:re.teamUsageHeader},"Top Teams"),i.createElement("div",{className:re.teamUsageContainer},this.renderTeamUsage(this.props.libraryFile.name,this.state.library1TeamUsage,0,Ie,!1),this.renderTeamUsage(this.props.libraryFile.name,this.state.library1TeamUsage,Ie,ke,!0)))}}const Ve={[v.SubscriptionFileViewDuration.THIRTY_DAYS]:30,[v.SubscriptionFileViewDuration.SIXTY_DAYS]:60,[v.SubscriptionFileViewDuration.NINETY_DAYS]:90,[v.SubscriptionFileViewDuration.YEAR]:365};var Pe;!function(e){e.OVERVIEW="Overview",e.ANALYTICS="Library Analytics"}(Pe||(Pe={}));class Be extends i.PureComponent{renderDescriptionAndImage(e){return i.createElement("div",{className:re.componentDescriptionAndImage},i.createElement("img",{src:e.image_url,className:re.componentImage}),i.createElement("div",null,i.createElement("div",{className:re.sectionHeader},e.header),i.createElement("div",{className:re.componentDescription},e.content)))}renderCount(e){return e.word?i.createElement("div",{className:re.statBlock},i.createElement("div",{className:re.sectionHeader},e.header),i.createElement("div",{className:re.stat},null==e.count&&"",null!=e.count&&`${S.prettyRound(e.count)} ${S.getPluralOrSingular(e.count,e.word,e.plural)}`)):null}render(){return i.createElement("div",{className:re.overviewStats},this.props.stats.map(e=>i.createElement(W.WithLoading,{isLoading:this.props.isLoading,className:re.stat,key:e.header},()=>{switch(e.header){case"Description":return this.renderDescriptionAndImage(e);default:return this.renderCount(e)}})))}}Be.displayName="OverviewStatsView";class Ae extends i.PureComponent{constructor(){super(...arguments),this.state={statsData:null}}componentDidMount(){r.default.get(`/api/design_systems/library/${this.props.libraryFileKey}?fv=${this.props.fileVersion||0}`).then(e=>{const t=e&&e.data&&e.data.meta||null;this.setState({statsData:t})}).catch(()=>{})}render(){const e=[{header:"Teams Using This Library",count:this.state.statsData?this.state.statsData.num_teams:null,word:"team",plural:"teams"},{header:"Total Components",count:this.state.statsData?this.state.statsData.num_components:null,word:"component",plural:"components"},{header:"Total Styles",count:this.state.statsData?this.state.statsData.num_styles:null,word:"style",plural:"styles"},{header:"Activity This Week",count:this.state.statsData?this.state.statsData.num_weekly_insertions:null,word:"insert",plural:"inserts"}];return i.createElement(Be,{isLoading:null==this.state.statsData,stats:e})}}Ae.displayName="OneLibraryOverviewStatsView";class Re extends i.PureComponent{constructor(){super(...arguments),this.state={shownView:Pe.OVERVIEW,duration:v.SubscriptionFileViewDuration.THIRTY_DAYS,libraryStats:{stateGroups:[],components:[]},comparisonLibrary:"Select Library",comparisonLibraryKey:null,isLoading:!0,viewingLibraryItemStat:null},this.LIBRARY_COMPARISON_DROPDOWN="library-comparison-dropdown",this.unsetComparison=(()=>{this.setState({comparisonLibrary:"Select a library",comparisonLibraryKey:null})}),this.onDropdownClick=(e=>{e.stopPropagation(),e.preventDefault(),this.isComparisonDropdownShown()?this.props.dispatch(m.fileBrowser.hideDropdown()):this.props.dispatch(m.fileBrowser.showDropdown({type:this.LIBRARY_COMPARISON_DROPDOWN}))}),this.onItemClick=(e=>{this.props.showingDefaultSubscriptionsForOrg&&this.setState({viewingLibraryItemStat:e})}),this.selectDuration=(e=>{this.setState({duration:e})}),this.toggleShownView=(e=>{this.setState({shownView:e})}),this.backToFile=(()=>{this.setState({viewingLibraryItemStat:null})}),this.viewComponent=(e=>{e.component_key&&e.thumbnail_url&&this.setState({viewingLibraryItemStat:e})}),this.scrollContainerRef=i.createRef(),this.scrollTo=(e=>{var t;null===(t=this.scrollContainerRef.current)||void 0===t||t.scrollTo(e)})}isComparisonDropdownShown(){return this.props.dropdownShown&&this.props.dropdownShown.type==this.LIBRARY_COMPARISON_DROPDOWN}fetchComponents(){const e={start_ts:De(Ve[this.state.duration]).toString(),end_ts:De(0).toString(),fv:`${this.props.fileVersion||0}`};N.isFileC2(this.props.fileVersion)?r.default.get(`/api/design_systems/library/${this.props.libraryFile.key}/components_and_state_groups`,e).then(e=>{var t;const s=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.meta)||{state_groups:[],components:[]};this.setState({libraryStats:{components:oe.hydrateLibraryItemsWithType(s.components,v.LibraryItemType.COMPONENT),stateGroups:oe.hydrateLibraryItemsWithType(s.state_groups,v.LibraryItemType.STATE_GROUP)},isLoading:!1})}).catch(console.error):r.default.get(`/api/design_systems/library/${this.props.libraryFile.key}/components`,e).then(e=>{var t;let s=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.meta)||[];s=oe.hydrateLibraryItemsWithType(s,v.LibraryItemType.COMPONENT),this.setState({libraryStats:{components:s,stateGroups:[]},isLoading:!1})}).catch(console.error)}componentDidMount(){this.fetchComponents()}componentDidUpdate(e,t){t.duration!=this.state.duration&&this.fetchComponents()}fetchComparisonLibraries(){return a.sortAlphabeticallyByProperty(this.props.libraries.files,"library_file_name"),this.props.libraries.files.filter(e=>e.library_file_key!==this.props.libraryFile.key)}render(){const e=this.props.libraryFile,t=N.publishedLibraryItemsForFileAsList(this.props.library.published.styles,e),s=N.sortStylesByTypeAndPosition(t),r=this.state.libraryStats.components,a=[].concat(r,this.state.libraryStats.stateGroups),n=this.props.editingFile&&this.props.editingFile.key===this.props.libraryFile.key,l=s.length>0,p=N.isFileC2(this.props.fileVersion)?a.length>0:r.length>0,c=this.props.showingDefaultSubscriptionsForOrg?re.fileViewDSA:re.fileView,m=this.props.showingDefaultSubscriptionsForOrg;return i.createElement(o.TrackingContext,{name:"SubscriptionFileView",properties:{libraryKey:this.props.libraryFile.key}},i.createElement("div",{className:re.slidingPaneContainer},i.createElement("div",{className:this.state.viewingLibraryItemStat?re.slidingPaneLeft:re.slidingPane},i.createElement("div",{className:re.componentOrFileViewHeader},i.createElement(R.Svg,{svg:ue,className:re.backCaret,onMouseDown:this.props.backToList}),i.createElement("div",{className:re.componentOrFileName},this.props.libraryFile.name),!n&&this.props.user&&i.createElement(Ce,{library:this.props.library,editingFile:this.props.editingFile,libraryFile:this.props.libraryFile,showingDefaultSubscriptionsForTeamId:this.props.showingDefaultSubscriptionsForTeamId,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,showingDefaultSubscriptionsForUser:this.props.showingDefaultSubscriptionsForUser,dispatch:this.props.dispatch,includeLabel:!0,disabled:!this.props.canEditSubscriptions,parentView:"FileView"}),n&&i.createElement("div",{className:re.currentFileLabel},"Current file")),this.props.showingDefaultSubscriptionsForOrg&&i.createElement(Ke,{duration:this.state.duration,dispatch:this.props.dispatch,selectDuration:this.selectDuration,shownView:this.state.shownView,toggleShownView:this.toggleShownView,width:this.props.width,dropdownShown:this.props.dropdownShown}),this.state.shownView===Pe.OVERVIEW&&i.createElement($.ScrollContainer,{width:this.props.width,showScrollbar:!0,className:n?re.currentFileView:c},m&&i.createElement(Ae,{libraryFileKey:e.key,fileVersion:this.props.fileVersion}),i.createElement(Qe,Object.assign({inline:!1,onItemClick:this.onItemClick},this.props)),l&&i.createElement("div",{className:re.sectionWrapper},i.createElement("div",{className:re.stylesSection},s.map(e=>i.createElement(H.StyleIcon,{key:e.key,style:e,className:re.styleThumb,showTooltip:!0})))),p&&i.createElement("div",{className:re.sectionWrapper},i.createElement(Y.LibraryItemTilesByPage,{width:this.props.width,items:N.isFileC2(this.props.fileVersion)?a:r,sourceForTracking:"Library Modal",onItemClick:this.onItemClick,library:this.props.library,selectedView:this.props.selectedView,dispatch:this.props.dispatch,fileByKey:this.props.fileByKey,dropdownShown:this.props.dropdownShown}))),this.state.shownView===Pe.OVERVIEW&&n&&i.createElement($e,Object.assign({},this.props)),this.state.shownView===Pe.ANALYTICS&&i.createElement(o.TrackingContext,{name:"LibraryComponentViewAnalytics"},i.createElement("div",{className:re.fileViewDSA},i.createElement($.ScrollContainer,{width:this.props.width,ref:this.scrollContainerRef,showScrollbar:!0,className:re.fileViewDSAWithFooter},i.createElement("div",{className:re.libraryAnalyticsHeader},i.createElement("div",null,"Component Insertions"),i.createElement("div",{className:re.libraryComparison},this.state.comparisonLibraryKey&&i.createElement("span",{className:re.comparisonDot}),i.createElement("span",{className:re.libraryComparisonText},"Compare Insertions To"," "),i.createElement("span",{onClick:this.onDropdownClick,className:re.libraryComparisonDropdown},this.state.comparisonLibrary,i.createElement(R.Svg,{svg:he,className:re.dropdownIcon})),i.createElement("div",null,i.createElement(o.TrackingContext,{name:"ComparisonLibrary Dropdown"},this.isComparisonDropdownShown()&&i.createElement(Z.dropdown.Dropdown,{className:re.dropdown},i.createElement(Z.dropdown.CheckableOption,{key:"none",onClick:this.unsetComparison,checked:null===this.state.comparisonLibraryKey},"None"),this.fetchComparisonLibraries().map(e=>i.createElement(Z.dropdown.CheckableOptionTrackable,{key:e.library_file_key,onClick:()=>this.setState({comparisonLibrary:e.library_file_name,comparisonLibraryKey:e.library_file_key}),innerText:"DS Analytics Compare Libraries",checked:this.state.comparisonLibraryKey===e.library_file_key,trackingProperties:{libraryKeyToCompare:e.library_file_key}},i.createElement("div",{className:re.libraryComparisonItem},e.library_file_name)))))))),i.createElement(Oe,{key:this.state.duration,libraryFile:this.props.libraryFile,fileVersion:this.props.fileVersion,comparisonFileKey:this.state.comparisonLibraryKey,comparisonFileName:this.state.comparisonLibrary,numDays:Ve[this.state.duration]}),this.state.isLoading&&i.createElement(U.LoadingRow,null),!this.state.isLoading&&i.createElement(Ue,{itemStats:N.isFileC2(this.props.fileVersion)?a:r,duration:this.state.duration,viewItem:this.viewComponent,scrollTo:this.scrollTo,fileVersion:this.props.fileVersion})),!this.state.isLoading&&i.createElement(Me,{numComponents:N.isFileC2(this.props.fileVersion)?a.length:r.length})))),i.createElement("div",{className:this.state.viewingLibraryItemStat?re.slidingPane:re.slidingPaneRight},this.state.viewingLibraryItemStat&&i.createElement(We,{selectedLibraryItem:this.state.viewingLibraryItemStat,backToFile:this.backToFile,width:this.props.width,orgId:this.props.currentOrgId,fileVersion:this.props.fileVersion}))))}}Re.displayName="SubscriptionFileView";class Me extends i.PureComponent{render(){return i.createElement("div",{className:re.componentViewFooter},i.createElement("span",{className:re.libraryViewFooterNumText},S.pluralize(this.props.numComponents,"library component","library components")," shown. Figma doesn’t currently track style usage."))}}class Ue extends i.PureComponent{constructor(e){super(e),this.storageKey="subscriptionFileViewComponentStats:state",this.storage=E.getLocalOrMemoryStorage(),this.onSortScrollTargetRef=i.createRef(),this.setSortByAndOrder=(e=>{var t;const s=this.state.sortBy,i={sortBy:e,prevCol:s,isDescending:s!=e||!this.state.isDescending};this.setState(i),this.storage.set(this.storageKey,i),(null===(t=this.onSortScrollTargetRef.current)||void 0===t?void 0:t.offsetTop)&&this.props.scrollTo(this.onSortScrollTargetRef.current.offsetTop)}),this.CHUNK_SIZE=50;const t=this.storage.get(this.storageKey);this.state=t||{sortBy:"alpha",prevCol:null,isDescending:!0}}render(){const e=[{header:"Component Name",sortBy:"alpha",className:re.avatarColumn}];N.isFileC2(this.props.fileVersion)&&e.push({header:"Variants",sortBy:"states",className:re.statsColumn}),e.push(...[{header:"Instances (Total)",sortBy:"num_existing_instances",className:re.statsColumn},{header:`Inserts (Last ${this.props.duration})`,sortBy:"num_insertions",className:re.statsColumn},{header:`Detaches (Last ${this.props.duration})`,sortBy:"num_detachments",className:re.statsColumn}]);const t=this.props.itemStats;switch(this.state.sortBy){case"alpha":a.sortAlphabeticallyByProperty(t,"name",!this.state.isDescending);break;case"num_states":a.sortNumericallyByFn(t,e=>e.type===v.LibraryItemType.STATE_GROUP?e.num_states:0,this.state.isDescending);break;case"num_existing_instances":a.sortNumericallyByProperty(t,"num_existing_instances",this.state.isDescending);break;case"num_insertions":a.sortNumericallyByProperty(t,"num_insertions",this.state.isDescending);break;case"num_detachments":a.sortNumericallyByProperty(t,"num_detachments",this.state.isDescending)}const s=this.props.itemStats.map(e=>e.type===v.LibraryItemType.COMPONENT?e.component_key:e.key).join(",");return i.createElement("div",{className:re.allComponentsTable},i.createElement("div",{className:re.libraryAnalyticsHeader},"Component Statistics"),i.createElement("div",{ref:this.onSortScrollTargetRef}),i.createElement(U.TableRow,{className:re.headerRowAllComponentTable},e.map(e=>i.createElement(U.SortableField,{className:`${e.className} ${this.state.sortBy===e.sortBy?re.selected:""}`,isDescending:this.state.isDescending,hasArrow:this.state.sortBy===e.sortBy,key:e.sortBy,field:e.sortBy,sortBy:this.setSortByAndOrder},e.header)),i.createElement("div",{className:re.caretColumn})),i.createElement("div",null,i.createElement(f.RenderListByChunks,{chunkSize:this.CHUNK_SIZE,listKey:s},t.map(e=>i.createElement(xe,{stat:e,key:e.type===v.LibraryItemType.COMPONENT?e.component_key:e.key,viewItem:this.props.viewItem,fileVersion:this.props.fileVersion})))))}}class xe extends i.PureComponent{constructor(){super(...arguments),this.viewComponent=(e=>{e.stopPropagation(),e.preventDefault(),this.props.viewItem(this.props.stat)})}renderSplitName(e){const t=e.split("/");return t.length<=1?i.createElement("span",null,e):i.createElement("span",null,i.createElement("span",{className:re.prefixText},t.slice(0,t.length-1).join("/"),"/"),i.createElement("span",null,t[t.length-1]))}render(){const e=this.props.stat;return i.createElement(U.TableRow,{className:re.row,onMouseDown:this.viewComponent},i.createElement("div",{className:re.avatarColumn},i.createElement("img",{src:e.thumbnail_url,className:re.componentAvatar}),i.createElement("div",{className:re.avatarColumnComponentName},this.renderSplitName(e.name))),N.isFileC2(this.props.fileVersion)&&i.createElement("div",{className:re.statsColVal},e.type===v.LibraryItemType.STATE_GROUP?e.num_states:"n/a"),i.createElement("div",{className:re.statsColVal},e.num_existing_instances.toLocaleString()),i.createElement("div",{className:re.statsColVal},e.num_insertions.toLocaleString()),i.createElement("div",{className:re.statsColVal},e.num_detachments.toLocaleString()),i.createElement("div",{className:re.caretColumn},i.createElement(R.Svg,{svg:de,className:re.componentRowCaretRightWrapper})))}}xe.displayName="ComponentRow";class Ke extends i.PureComponent{constructor(){super(...arguments),this.DURATION_DROPDOWN="duration-dropdown",this.onDropdownClick=(e=>{e.stopPropagation(),e.preventDefault(),this.isDurationDropdownShown()?this.props.dispatch(m.fileBrowser.hideDropdown()):this.props.dispatch(m.fileBrowser.showDropdown({type:this.DURATION_DROPDOWN}))}),this.changeShownView=(e=>{const t=e.currentTarget.getAttribute("data-new-view-shown");null!=t&&(t===Pe.ANALYTICS?this.props.toggleShownView(Pe.ANALYTICS):this.props.toggleShownView(Pe.OVERVIEW))}),this.changeDuration=(e=>{const t=e.currentTarget.text;t===v.SubscriptionFileViewDuration.YEAR?this.props.selectDuration(v.SubscriptionFileViewDuration.YEAR):t===v.SubscriptionFileViewDuration.NINETY_DAYS?this.props.selectDuration(v.SubscriptionFileViewDuration.NINETY_DAYS):t===v.SubscriptionFileViewDuration.SIXTY_DAYS?this.props.selectDuration(v.SubscriptionFileViewDuration.SIXTY_DAYS):this.props.selectDuration(v.SubscriptionFileViewDuration.THIRTY_DAYS)})}isDurationDropdownShown(){return this.props.dropdownShown&&this.props.dropdownShown.type==this.DURATION_DROPDOWN}render(){return i.createElement("div",null,i.createElement("div",{className:re.fileViewTabsHeaderBordered},i.createElement("div",null,i.createElement("span",{className:this.props.shownView==Pe.OVERVIEW?re.fileViewTabActive:re.fileViewTab,style:{paddingRight:16},onClick:this.changeShownView,"data-new-view-shown":Pe.OVERVIEW},Pe.OVERVIEW),i.createElement("span",{className:this.props.shownView==Pe.ANALYTICS?re.fileViewTabActive:re.fileViewTab,onClick:this.changeShownView,"data-new-view-shown":Pe.ANALYTICS},Pe.ANALYTICS)),this.props.shownView==Pe.ANALYTICS&&i.createElement("div",null,i.createElement("span",{className:re.durationText},"Duration"),i.createElement("span",{onClick:this.onDropdownClick,className:re.duration},"Last ",this.props.duration,i.createElement(R.Svg,{svg:he,className:re.dropdownIcon})))),i.createElement("div",null,this.isDurationDropdownShown()&&i.createElement(Z.dropdown.Dropdown,{className:re.dropdown},i.createElement(Z.dropdown.Option,{onClick:this.changeDuration},v.SubscriptionFileViewDuration.THIRTY_DAYS),i.createElement(Z.dropdown.Option,{onClick:this.changeDuration},v.SubscriptionFileViewDuration.SIXTY_DAYS),i.createElement(Z.dropdown.Option,{onClick:this.changeDuration},v.SubscriptionFileViewDuration.NINETY_DAYS),i.createElement(Z.dropdown.Option,{onClick:this.changeDuration},v.SubscriptionFileViewDuration.YEAR))))}}Ke.displayName="SubscriptionFileViewStatsTab";class $e extends i.PureComponent{constructor(){super(...arguments),this.confirmUnpublish=(()=>{this.props.dispatch(m.fileBrowser.showModal({type:ne.CONFIRM_UNPUBLISH_COMPONENTS}))})}render(){var e,t;if((null===(e=this.props.editingFile)||void 0===e?void 0:e.key)!==this.props.libraryFile.key)return null;const s=this.props.editingFileStylesInfo,r=this.props.editingFileComponentsInfo,a=this.props.editingFileStateGroupsInfo;let n=s.numUpdates;const o=(null===(t=this.props.editingFile)||void 0===t?void 0:t.team_id)?this.props.teams[this.props.editingFile.team_id]:null;return q.canAccessProFeature(o)&&(n+=r.numUpdates+a.numUpdates),i.createElement("div",{className:re.fileViewFooter},i.createElement("div",{className:re.fileViewFooterText},n>0?"Current file has changes":"Current file is published"),i.createElement("div",{className:re.fileViewFooterButtons},i.createElement(g.ButtonSecondary,{onClick:this.confirmUnpublish,className:re.fileViewFooterButton},"Unpublish"),i.createElement("div",{className:re.fileViewFooterButton},i.createElement(ze,Object.assign({},this.props,{publishedState:i.createElement(g.ButtonPrimary,{disabled:!0},"Publish changes"),emptyState:i.createElement(g.ButtonPrimary,{disabled:!0},"Publish changes")})))))}}$e.displayName="SubscriptionFileViewFooter";class We extends i.PureComponent{constructor(){super(...arguments),this.state={fileStats:null},this.setFileStats=(e=>{this.setState({fileStats:e})})}render(){const e=this.props.selectedLibraryItem.type===v.LibraryItemType.COMPONENT?{componentKey:this.props.selectedLibraryItem.component_key}:{stateGroupKey:this.props.selectedLibraryItem.key};return i.createElement(o.TrackingContext,{name:"LibraryComponentView",properties:e},i.createElement("div",{className:re.fileViewDSANoTab},i.createElement("div",{className:re.componentOrFileViewHeader},i.createElement(R.Svg,{svg:ue,className:re.backCaret,onMouseDown:this.props.backToFile}),i.createElement("div",{className:re.componentOrFileName},this.props.selectedLibraryItem.name)),i.createElement($.ScrollContainer,{width:this.props.width,showScrollbar:!0,className:re.fileViewDSAWithFooterNoTab},i.createElement(Ge,{item:this.props.selectedLibraryItem,fileVersion:this.props.fileVersion}),i.createElement(He,{item:this.props.selectedLibraryItem,orgId:this.props.orgId,setFileStats:this.setFileStats,fileVersion:this.props.fileVersion})),i.createElement(Ye,{fileStats:this.state.fileStats})))}}We.displayName="LibraryComponentView";class Ye extends i.PureComponent{constructor(){super(...arguments),this.renderFooterText=(()=>this.props.fileStats?(a.sortByDate(this.props.fileStats,"last_modified"),i.createElement("div",{className:re.componentViewFooter},i.createElement("div",{className:re.componentViewFooterText},`${S.pluralize(this.props.fileStats.length,"file","files")} shown (open teams and teams you’re on). `,i.createElement("div",{className:re.componentViewFooterInlineLink},i.createElement(g.Link,{target:"_blank",href:"https://help.figma.com"},"Learn more"))),i.createElement("div",{className:re.componentViewFooterLastUpdated},this.props.fileStats&&this.props.fileStats.length>0?"Last updated ":"",this.props.fileStats&&this.props.fileStats.length>0&&i.createElement(n.FromNow,{date:this.props.fileStats[0].last_modified})))):null)}render(){return i.createElement(W.WithLoading,{isLoading:null==this.props.fileStats},this.renderFooterText)}}Ye.displayName="ComponentViewFooter";class He extends i.PureComponent{constructor(e){super(e),this.storageKey="listFilesByComponentView:state",this.storage=E.getLocalOrMemoryStorage(),this.setSortByAndOrder=(e=>{const t=this.state.sortBy,s={sortBy:e,prevCol:t,isDescending:t!=e||!this.state.isDescending};this.setState(s),this.storage.set(this.storageKey,s)});const t=this.storage.get(this.storageKey);this.state={loaded:!1,fileStats:[],sortBy:t?t.sortBy:"alpha",prevCol:t?t.prevCol:null,isDescending:!t||t.isDescending}}componentDidMount(){const e=this.props.item.type===v.LibraryItemType.COMPONENT?`/api/design_systems/component/${this.props.item.component_key}/file_usage`:`/api/design_systems/state_group/${this.props.item.key}/file_usage`;r.default.get(e,{org_id:this.props.orgId||"",fv:`${this.props.fileVersion||0}`}).then(e=>{var t;const s=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.meta)||[];this.setState({fileStats:s,loaded:!0}),this.props.setFileStats(s)}).catch(()=>{})}render(){let e=this.state.fileStats;switch(this.state.sortBy){case"alpha":a.sortAlphabeticallyByProperty(e,"file_name",!this.state.isDescending);break;case"teamNames":a.sortAlphabeticallyByProperty(e,"team_name",!this.state.isDescending);break;case"instances":a.sortNumericallyByProperty(e,"num_instances",this.state.isDescending);break;case"lastModified":a.sortByDate(e,"last_modified",this.state.isDescending)}const t=[{header:"File Name",sortBy:"alpha",className:re.oneComponentViewFileNameCol},{header:"Team",sortBy:"teamNames",className:re.oneComponentViewTeamCol},{header:"Instances (All Time)",sortBy:"instances",className:re.componentNumCol},{header:"Last Modified",sortBy:"lastModified",className:re.componentNumCol}];return i.createElement("div",null,!this.state.loaded&&i.createElement(U.LoadingRow,null),this.state.loaded&&i.createElement(i.Fragment,null,i.createElement(U.TableRow,{className:re.headerRow},t.map(e=>i.createElement(U.SortableField,{className:`${e.className} ${re.sortableCol} ${this.state.sortBy===e.sortBy?re.selected:""}`,isDescending:this.state.isDescending,hasArrow:this.state.sortBy===e.sortBy,key:e.sortBy,field:e.sortBy,sortBy:this.setSortByAndOrder},e.header))),e.map(e=>i.createElement(i.Fragment,{key:e.file_key},i.createElement(je,{fileName:e.file_name,fileKey:e.file_key,teamName:e.team_name,numInstances:e.num_instances,lastModified:e.last_modified})))))}}He.displayName="ListFilesByLibraryItemView";class je extends i.PureComponent{constructor(){super(...arguments),this.renderTeamNameField=(e=>null===e?i.createElement("div",{className:re.oneComponentViewTeamColDrafts},"Drafts"):i.createElement("div",{className:re.oneComponentViewTeamCol},e))}render(){const e=this.props.fileName?this.props.fileName:"Untitled",t=this.props.fileKey;return i.createElement(U.TableRow,{className:re.componentRow},i.createElement(i.Fragment,null,i.createElement("div",{className:re.oneComponentViewFileNameCol},i.createElement(g.LinkTracked,{target:"_blank",href:`/file/${t}/${encodeURIComponent(e)}`,innerText:"DSAnalytics File Open",trackingProperties:{libraryFileKey:t}},e)),this.renderTeamNameField(this.props.teamName),i.createElement("div",{className:re.componentNumColVal},this.props.numInstances.toLocaleString()),i.createElement("div",{className:re.componentNumColVal},i.createElement(n.FromNow,{date:this.props.lastModified}))))}}je.displayName="ComponentStatRow";class Ge extends i.PureComponent{constructor(){super(...arguments),this.state={statsData:null}}componentDidMount(){const e=this.props.item.type===v.LibraryItemType.COMPONENT?`/api/design_systems/component/${this.props.item.component_key}`:`/api/design_systems/state_group/${this.props.item.key}`;r.default.get(e,{fv:`${this.props.fileVersion||0}`}).then(e=>{var t;const s=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.meta)||null;this.setState({statsData:s})}).catch(()=>{})}render(){var e,t,s;const r=[{header:"Description",image_url:this.props.item.thumbnail_url,content:this.props.item.description||"N/A"},{header:"Total",count:(null===(e=this.state.statsData)||void 0===e?void 0:e.total_instances)||null,word:"instance"},{header:"Used by",count:(null===(t=this.state.statsData)||void 0===t?void 0:t.total_team_usage)||null,word:"team"},{header:"Used in",count:(null===(s=this.state.statsData)||void 0===s?void 0:s.total_file_usage)||null,word:"file"}];return i.createElement(Be,{isLoading:null==this.state.statsData,stats:r})}}Ge.displayName="OneLibraryItemStatsView";class Qe extends i.PureComponent{getBestMatches(e,t){const s=this.props.libraryFile;if(!(null==s?void 0:s.team_id))return null;if(s.team_id in e&&s.key in e[s.team_id]){const i=e[s.team_id][s.key],r=Object.keys(i).map(e=>i[e]);return r.sort((e,t)=>e.score-t.score),r.slice(0,t)}return null}render(){if(!this.props.library.librarySearchQuery)return null;const e=this.getBestMatches(this.props.library.publishedSearchResults.components.filteredByTeamId,8);let t=null;return this.props.inline||(t=this.getBestMatches(this.props.library.publishedSearchResults.styles.filteredByTeamId,14)),e||t?i.createElement("div",{className:this.props.inline?"":re.bestMatches},!this.props.inline&&i.createElement("div",{className:re.header},"Best matches for '",this.props.library.librarySearchQuery,"'"),this.props.inline&&i.createElement("div",{className:re.bestMatchesSpacer}),t&&i.createElement("div",{className:re.stylesSection},t.map(e=>i.createElement(H.StyleIcon,{key:e.key,style:e,className:re.styleThumb,showTooltip:!0}))),t&&i.createElement("div",{style:{height:12}}),e&&i.createElement(Y.LibraryItemTiles,Object.assign({width:this.props.width,items:e,onItemClick:this.props.onItemClick,sourceForTracking:"Library Modal"},this.props))):null}}Qe.displayName="BestMatches";class ze extends i.PureComponent{constructor(){super(...arguments),this.showPublishModal=(()=>{this.props.dispatch(m.fileBrowser.showModal({type:Q.PUBLISH_COMPONENTS_MODAL}))}),this.showUpsellModal=(()=>{var e;const t=null===(e=this.props.editingFile)||void 0===e?void 0:e.team_id,s=t?this.props.teams[t]:void 0;this.props.dispatch(m.fileBrowser.showModal({type:ae.PUBLISH_COMPONENTS_UPSELL_MODAL,data:{team:s,afterFileMove:this.showPublishModal}}))}),this.stopPropagation=(e=>e.stopPropagation())}get isPublishingTrialsWalkThroughLibrary(){return!!O.getCachedQueryParam("walk_through_id")}render(){if(!this.props.editingFile)return null;if(this.props.library.publishProgress.state!==v.PublishProgressState.NONE)return i.createElement(g.ButtonSecondary,{disabled:!0},"Publishing");const e=this.props.editingFileStylesInfo,t=this.props.editingFileComponentsInfo,s=this.props.editingFileStateGroupsInfo,r=this.props.editingFile.team_id,a=q.canAccessProFeature(r?this.props.teams[r]:void 0);if(!(e.numPublished>0||t.numPublished>0&&a)){if(e.numUpdates>0||t.numUpdates>0||s.numUpdates>0){let n=t.numUpdates+s.numUpdates>0&&!a;const o=!!(r&&n&&L.canEditTeam(r,this.props)&&0===e.numUpdates&&q.isProTrialAvailableToStart(this.props.teams[r]));return i.createElement(g.ButtonSecondaryTracked,{disabled:!this.props.userStateLoaded||o,onClick:n?this.showUpsellModal:this.showPublishModal,onMouseDown:this.stopPropagation,"data-onboarding-key":this.isPublishingTrialsWalkThroughLibrary?pe.WalkthroughDataOnboardingKeys.PUBLISH_WALK_THROUGH_LIBRARY:void 0,trackingProperties:{isPublishingTrialsWalkThroughLibrary:this.isPublishingTrialsWalkThroughLibrary}},"Publish")}return this.props.emptyState}let n=e.numUpdates;return a&&(n+=t.numUpdates+s.numUpdates),n>0?i.createElement(g.ButtonPrimary,{onClick:this.showPublishModal,onMouseDown:this.stopPropagation},`Publish ${S.pluralize(n,"change")}`):this.props.publishedState}}function Xe(e){var t;const s=null===(t=e.editingFile)||void 0===t?void 0:t.team_id;if(!s)return null;if(e.library.publishProgress.state!==v.PublishProgressState.NONE)return null;const r=q.canAccessProFeature(e.teams[s]),a=L.canEditTeam(s,e),n=e.editingFileStylesInfo.numPublished>0||e.editingFileComponentsInfo.numPublished>0&&r;return a&&!n&&(e.editingFileComponentsInfo.numUpdates>0||e.editingFileStateGroupsInfo.numUpdates>0)&&!r&&0===e.editingFileStylesInfo.numUpdates&&q.isProTrialAvailableToStart(e.teams[s])?i.createElement(o.TrackingContext,{name:"Team Library Upsell In-Place",properties:{teamId:s}},i.createElement("div",{className:re.upsellRow},i.createElement("div",{className:re.upsell},i.createElement(R.Svg,{svg:ge,className:re.upsellIcon}),i.createElement("div",{className:re.upsellMessage},i.createElement("span",null,"Your current plan does not include publishing Team Libraries. "),i.createElement("span",null,i.createElement(g.LinkInlineTracked,{href:`/files/upgrade-team/${s}`,target:"_blank",rel:"noopener",onClick:()=>{e.dispatch(m.fileBrowser.hideModal())}},"Upgrade")," or "),i.createElement("span",null,i.createElement(g.LinkInlineTracked,{target:"_blank",rel:"noopener",onClick:()=>{e.dispatch(I.showModal({type:k.START_PRO_TRIAL_MODAL,data:{hide:()=>{e.dispatch(m.fileBrowser.popModalStack())},teamId:s,entryPoint:k.ProTrialEntryPoint.TEAM_LIBRARY}}))}},"start a trial")," to publish and share components."))))):null}ze.displayName="PublishButton"}),
(function(i,l,o){i.exports={publishModal:"publishing_modal--publishModal--2KLXT",descriptionInput:"publishing_modal--descriptionInput--qMiuY",info:"publishing_modal--info--2Jkok",listExpander:"publishing_modal--listExpander--184cP",upsell:"publishing_modal--upsell--38j5W",link:"publishing_modal--link--372jk blue_link--blueLink--22X56",list:"publishing_modal--list--7mlut",title:"publishing_modal--title--HTuXJ",scrollContainer:"publishing_modal--scrollContainer--31UjM",section:"publishing_modal--section--_Nkoh",sectionHeader:"publishing_modal--sectionHeader--38Ghy",sectionSubheader:"publishing_modal--sectionSubheader--1Hz9L",libraryItemRow:"publishing_modal--libraryItemRow--1-5aH",libraryItemRowPrivate:"publishing_modal--libraryItemRowPrivate--2dGw9 publishing_modal--libraryItemRow--1-5aH",name:"publishing_modal--name--2KXGx ellipsis--ellipsis--1RWY6",changeCol:"publishing_modal--changeCol--3Zmxh",nameCol:"publishing_modal--nameCol--220dX",contextMenu:"publishing_modal--contextMenu--13_EG",itemThumbWrapper:"publishing_modal--itemThumbWrapper--2YTYU",itemThumb:"publishing_modal--itemThumb--1miTu",actionRow:"publishing_modal--actionRow--H5Hwk",assemblingProgress:"publishing_modal--assemblingProgress--1Yzbw",additionalActions:"publishing_modal--additionalActions--15ExB",actionButtons:"publishing_modal--actionButtons--3pJ7q",main:"publishing_modal--main--1oEot",betaLabel:"publishing_modal--betaLabel--2TAq3",btn:"publishing_modal--btn--2wfkU",footer:"publishing_modal--footer--2u9vZ"}}),
(function(l,t,e){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M11.44 8.5l-6.647 6.646.707.708L12.854 8.5 5.5 1.146l-.707.708L11.439 8.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M8.823 11.116L2.177 4.47l-.707.707 7.353 7.353 7.354-7.353-.707-.707-6.647 6.646z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2,1    ),r=s(113                                     ),a=s(280                             ),o=s(640                                        ),n=s(138      ),l=s(129           ),p=s(285                            ),d=s(209                ),h=s(343                      ),c=s(123         ),m=s(1118                               ),u=s(757                      ),b=s(122          ),y=s(176                       ),g=s(119                    ),E=s(747                              ),P=s(135                     ),f=s(154                                 ),S=s(259                                                                 ),T=s(137                                    ),_=s(147                                            ),C=s(146                        ),L=s(409                                  ),I=s(267                                 ),N=s(1524                   ),w=s(1538                                                                             ),v=s(1547                                                                     ),A=s(1561                    ),O=L.dropdown.Dropdown,x=L.dropdown.Option,M=438,k=48,F=s(1562                                    ),R=s(1563                                   ),D=e=>e!==y.LibraryStatus.DELETED&&e!==y.LibraryStatus.NOT_STAGED;class G extends i.PureComponent{constructor(e){super(e),this.localComponents=b.memoizeLast(e=>p.getComponentsWithoutStates(e)),this.toggleListExpanded=(()=>{this.setState({listExpanded:!this.state.listExpanded})}),this.publishText=((e,t,s)=>{if(e){const e=[];if(s>0&&e.push(c.pluralize(s,"style")),t>0&&e.push(c.pluralize(t,"component")),e.length)return e.join(" and ")+" will be included."}else{const e=s+t;if(e>0)return c.pluralize(e,"change")+"."}return"No components or styles will be included."}),this.upsellPrompt=(e=>i.createElement("div",{className:A.upsell},c.pluralize(e,"component")," will not be published. Only members of Professional Teams can publish components to a shared library. Create a new team or join an existing team to use this feature.")),this.publish=(()=>{const e=d.getEditingFile(this.props);if(e){if(this.props.currentOrgId){const t=h.isFileOrgBrowsable(e);(this.state.allowOrgAccess&&!t||!this.state.allowOrgAccess&&t)&&this.props.dispatch(a.file.put({file:{key:e.key,link_access:g.LinkAccess.ORG_VIEW,org_browsable:this.state.allowOrgAccess},userInitiated:!0}))}p.hasPendingChanges(this.props.library)?this.props.dispatch(o.publishChanges({savepointDescription:this.state.description})):this.props.dispatch(a.file.createSavepoint({file:e,label:"Components Published",description:this.state.description}))}}),this.onKeyDown=(e=>{if(!d.getEditingFile(this.props))return;const t=l.mac?e.metaKey:e.ctrlKey;e.keyCode===n.Key.ENTER&&t&&(this.publish(),e.preventDefault(),e.stopPropagation())}),this.closeModal=(()=>{this.stopActivePublish(),this.props.dispatch(r.fileBrowser.hideModal())}),this.stopActivePublish=(()=>{this.props.library.publishProgress.state===y.PublishProgressState.ASSEMBLING_COMPONENTS&&this.props.dispatch(o.publishRequestFinished())}),this.onDescriptionChange=(e=>{this.setState({description:e.target.value})}),this.toggleAllowOrgAccess=(e=>{const t=e.target.checked;this.setState({allowOrgAccess:t})}),this.state={listExpanded:!1,description:"",allowOrgAccess:h.isFileOrgBrowsable(d.getEditingFile(e))}}UNSAFE_componentWillReceiveProps(e){e.library.publishProgress.state===y.PublishProgressState.UPLOADING&&this.closeModal()}separateModifiedFromPublishedFromPrivate(e){const t=[],s=[],i=[];for(let r in e){const a=e[r];p.willChange(a.status)?t.push(a):p.isPublished(a.status)?s.push(a):i.push(a)}return[t,s,i]}getExpandedLibraryListProps(e,t,s){let[i,r,a]=[[],[],[]];e&&([i,r,a]=this.separateModifiedFromPublishedFromPrivate(this.localComponents(this.props.library.local.components)));let[o,n,l]=[[],[],[]];t&&([o,n,l]=this.separateModifiedFromPublishedFromPrivate(this.props.library.local.stateGroups));let[d,h,c]=[[],[],[]];return s&&([d,h,c]=this.separateModifiedFromPublishedFromPrivate(this.props.library.local.styles)),{modifiedComponents:p.sortItemsByPageAndFrameAndName(i),unmodifiedPublishedComponents:p.sortItemsByPageAndFrameAndName(r),unmodifiedPrivateComponents:p.sortItemsByPageAndFrameAndName(a),modifiedStyles:p.sortStylesByTypeAndPosition(d),unmodifiedPublishedStyles:p.sortStylesByTypeAndPosition(h),unmodifiedPrivateStyles:p.sortStylesByTypeAndPosition(c),modifiedStateGroups:p.sortItemsByPageAndFrameAndName(o),unmodifiedPrivateStateGroups:p.sortItemsByPageAndFrameAndName(l),unmodifiedPublishedStateGroups:p.sortItemsByPageAndFrameAndName(n)}}hasNewLibraryItems(e,t,s){const i=e=>Object.values(e).some(e=>e.status===y.LibraryStatus.NEW);return!(!e||!i(this.localComponents(this.props.library.local.components)))||(!(!t||!i(this.props.library.local.stateGroups))||!(!s||!i(this.props.library.local.styles)))}renderAssemblingComponents(){return i.createElement("div",{className:A.assemblingProgress},i.createElement(I.Progress,{fraction:this.props.library.publishProgress.progress||0,pathFill:"#4B4B4B"}),i.createElement("span",null,"Assembling components and styles"))}get isPublishingTrialsWalkThroughLibrary(){return!!m.getCachedQueryParam("walk_through_id")}render(){const e=this.props.library,t=d.getEditingFile(this.props);if(!t)return null;const s=t.team_id?this.props.teams[t.team_id]:null,r=P.canAccessProFeature(s),a=r&&p.isFileC2(this.props.fileVersion),o=this.getExpandedLibraryListProps(r,a,!0),n=this.hasNewLibraryItems(r,a,!0);let l=0;Object.values(this.localComponents(this.props.library.local.components)).forEach(e=>{D(e.status)&&l++}),Object.values(e.local.stateGroups).forEach(e=>{D(e.status)&&l++});const h=this.props.currentOrgId?this.props.orgById[this.props.currentOrgId]:null,c=this.props.library.publishProgress.state===y.PublishProgressState.ASSEMBLING_COMPONENTS;return i.createElement(f.Modal,{size:M,title:"Publish Library",className:A.publishModal,dispatch:this.props.dispatch,onKeyDown:this.onKeyDown,onHide:this.stopActivePublish},i.createElement("textarea",{className:A.descriptionInput,placeholder:"Optional description of changes",value:this.state.description,onChange:this.onDescriptionChange,autoFocus:!0}),i.createElement("div",{className:A.listExpander,onMouseDown:this.toggleListExpanded},i.createElement("div",null,i.createElement("div",{className:A.title},"Styles and Components"),i.createElement("div",{className:A.info},this.publishText(n,o.modifiedComponents.length+o.modifiedStateGroups.length,o.modifiedStyles.length))),i.createElement(C.Svg,{svg:this.state.listExpanded?R:F})),this.state.listExpanded&&i.createElement(B,Object.assign({},this.props,o)),!r&&l>0&&this.upsellPrompt(l),i.createElement("div",{className:A.actionRow},!c&&h&&i.createElement("div",{className:A.additionalActions},i.createElement(_.Checkbox,{id:"allow-org-access",checked:this.state.allowOrgAccess,onChange:this.toggleAllowOrgAccess}),i.createElement(_.Label,{htmlFor:"allow-org-access"},"Allow any member of ",h.name," to access this file")),!this.props.currentOrgId&&!r&&l>0&&i.createElement("div",{className:A.additionalActions},s?i.createElement("a",{className:A.link,target:"_blank",rel:"noopener",href:`/files/upgrade-team/${s.id}`},"Upgrade team"):i.createElement("a",{className:A.link,target:"_blank",rel:"noopener",href:"/files/create-team"},"Create a Professional Team")),c&&this.renderAssemblingComponents(),i.createElement("div",{className:A.actionButtons},i.createElement(_.ButtonSecondary,{onClick:this.closeModal},"Cancel"),i.createElement(_.ButtonPrimaryTracked,{disabled:this.props.library.publishProgress.state!==y.PublishProgressState.NONE,onClick:this.publish,"data-onboarding-key":this.isPublishingTrialsWalkThroughLibrary?u.WalkthroughDataOnboardingKeys.CONFIRM_PUBLISH_WALK_THROUGH_LIBRARY:void 0,trackingProperties:{isPublishingTrialsWalkThroughLibrary:this.isPublishingTrialsWalkThroughLibrary}},r?"Publish":"Publish Styles"))))}}G.displayName="PublishingModal",t.PublishingModal=T.asTrackedContext(G,"Publishing Modal");class B extends i.Component{constructor(e){super(e),this.appendLibraryItemsToScrollContent=((e,t,s)=>{for(const r of e){const e=i.createElement(W,{key:r.node_id,libraryItem:r,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown});this.appendElementToScrollContent(e,`library-item-row-${r.node_id}`,36,s)}}),this.appendElementToScrollContent=((e,t,s,i)=>{const r=w.RenderedElementTree.getNextRenderedElementTop(i);i.push({parent:null,type:w.RenderedItemType.ROW,top:r,element:e,key:t,height:s,stickyKey:null})}),this.getViewportHeight=(e=>e-464)}getLibraryListItems(){const{modifiedStyles:e,modifiedComponents:t,modifiedStateGroups:s,unmodifiedPublishedStyles:r,unmodifiedPublishedComponents:a,unmodifiedPublishedStateGroups:o,unmodifiedPrivateStyles:n,unmodifiedPrivateComponents:l,unmodifiedPrivateStateGroups:p}=this.props,d=[],h=e.length+t.length+s.length>0,c=r.length+a.length+o.length>0,m=n.length+l.length+p.length>0;return h&&(this.appendElementToScrollContent(i.createElement(U,{header:"Changed"}),"changed:header",32,d),this.appendLibraryItemsToScrollContent(e,y.LibraryItemType.STYLE,d),this.appendLibraryItemsToScrollContent(t,y.LibraryItemType.COMPONENT,d),this.appendLibraryItemsToScrollContent(s,y.LibraryItemType.STATE_GROUP,d)),c&&(this.appendElementToScrollContent(i.createElement(U,{header:"Unchanged"}),"unchanged:header",32,d),this.appendLibraryItemsToScrollContent(r,y.LibraryItemType.STYLE,d),this.appendLibraryItemsToScrollContent(a,y.LibraryItemType.COMPONENT,d),this.appendLibraryItemsToScrollContent(o,y.LibraryItemType.STATE_GROUP,d)),m&&(this.appendElementToScrollContent(i.createElement(U,{header:"Private to this file",subheader:"These components and styles will not be published"}),"private:header",56,d),this.appendLibraryItemsToScrollContent(n,y.LibraryItemType.STYLE,d),this.appendLibraryItemsToScrollContent(l,y.LibraryItemType.COMPONENT,d),this.appendLibraryItemsToScrollContent(p,y.LibraryItemType.STATE_GROUP,d)),d}render(){return i.createElement(v.ComponentScrollContainer,{scrollContent:this.getLibraryListItems(),isList:!0,recordingKey:"publishingModalLibraryList",getViewportHeight:this.getViewportHeight,width:M-k,className:`${A.scrollContainer} ${A.list}`,showScrollbar:!0})}}B.displayName="ExpandedLibraryList";class U extends i.Component{render(){return i.createElement("div",{className:A.sectionHeader},this.props.header,this.props.subheader&&i.createElement("div",{className:A.sectionSubheader},this.props.subheader))}}U.displayName="SectionHeader";class W extends i.Component{constructor(){super(...arguments),this.statusText=(()=>{switch(this.props.libraryItem.status){case y.LibraryStatus.CAN_UPGRADE:return"Upgraded";case y.LibraryStatus.CHANGED:return"Modified";case y.LibraryStatus.CURRENT:return"No changes";case y.LibraryStatus.DELETED:return"Removed";case y.LibraryStatus.NEW:return"Added";case y.LibraryStatus.NOT_STAGED:return"Private"}}),this.hasChanges=(()=>{switch(this.props.libraryItem.status){case y.LibraryStatus.CAN_UPGRADE:case y.LibraryStatus.CHANGED:case y.LibraryStatus.NEW:case y.LibraryStatus.DELETED:return!0;case y.LibraryStatus.CURRENT:case y.LibraryStatus.NOT_STAGED:return!1}}),this.toggleIsPublishable=(e=>{const t=!this.props.libraryItem.isPublishable;this.props.libraryItem.type===y.LibraryItemType.COMPONENT?E.setIsSymbolPublishable(this.props.libraryItem.node_id,t):E.setIsPublishable(this.props.libraryItem.node_id,t)}),this.contextMenuId=(()=>`library-item-row-${this.props.libraryItem.node_id}`),this.contextMenuShown=(()=>{var e;return(null===(e=this.props.dropdownShown)||void 0===e?void 0:e.type)===this.contextMenuId()}),this.onContextMenu=(e=>{e.preventDefault(),e.stopPropagation(),this.props.dispatch(r.fileBrowser.showDropdown({type:this.contextMenuId(),data:{position:{top:e.clientY,left:e.clientX}}}))})}render(){let e;return e=this.props.libraryItem.type===y.LibraryItemType.STYLE?i.createElement(S.StyleIcon,{style:this.props.libraryItem}):i.createElement(N.LibraryItemImage,{className:A.itemThumb,item:this.props.libraryItem,shouldFetch:!0}),i.createElement("div",{className:this.props.libraryItem.isPublishable?A.libraryItemRow:A.libraryItemRowPrivate,onContextMenu:this.onContextMenu},i.createElement("div",{className:A.nameCol},i.createElement("div",{className:A.itemThumbWrapper},e),i.createElement("div",{className:A.name},this.props.libraryItem.name)),this.hasChanges()&&i.createElement("div",{className:A.changeCol},this.statusText()),this.contextMenuShown()&&i.createElement(O,{className:A.contextMenu,style:this.props.dropdownShown.data.position},i.createElement(x,{onClick:this.toggleIsPublishable},this.props.libraryItem.isPublishable?"Remove from library":"Add to library")))}}W.displayName="LibraryItemRow"}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(2,1    ),o=r(113                                     ),a=r(203                             ),i=r(147                                            ),n=r(191          );class c extends t.PureComponent{constructor(){super(...arguments),this.forgotPassword=(()=>{this.props.dispatch(a.user.forgotPassword())}),this.verifyPassword=(e=>{e.preventDefault(),e.target.elements.password.select(),this.props.dispatch(a.user.verifyPassword({passwordForm:c.formId}))}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(o.fileBrowser.hideModal())}),this.inputRef=(e=>{e&&e.focus()})}render(){return t.createElement("form",{id:c.formId,onSubmit:this.verifyPassword},t.createElement("div",null,"For security purposes, please re-enter your password below."),t.createElement("input",{name:"password",type:"password",className:n.textInput,ref:this.inputRef,placeholder:"Current password"}),t.createElement("div",{className:n.error},this.props.twoFactorAuth.currentError||""),t.createElement("div",{className:n.buttonRow},t.createElement(i.Link,{onClick:this.forgotPassword,className:n.left},"Forgot password?"),t.createElement(i.ButtonSecondary,{onClick:this.cancel},"Cancel"),t.createElement(i.ButtonPrimary,{type:"submit",disabled:this.props.twoFactorAuth.loading,className:n.confirmButton},"Continue")))}}s.RequirePasswordModal=c,c.displayName="RequirePasswordModal",c.formId="verify-password-form"}),
(function(E,M,_){E.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}}),
(function(t,n,a){var e=a(1566);function o(t){this.mode=e.MODE_8BIT_BYTE,this.data=t}o.prototype={getLength:function(t){return this.data.length},write:function(t){for(var n=0;n<this.data.length;n++)t.put(this.data.charCodeAt(n),8)}},t.exports=o}),
(function(n,o,t){n.exports={L:1,M:0,Q:3,H:2}}),
(function(r,e,t){var n=t(1568);function o(r,e){this.totalCount=r,this.dataCount=e}o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(r,e){var t=o.getRsBlockTable(r,e);if(null==t)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+e);for(var n=t.length/3,a=new Array,u=0;u<n;u++)for(var c=t[3*u+0],l=t[3*u+1],s=t[3*u+2],B=0;B<c;B++)a.push(new o(l,s));return a},o.getRsBlockTable=function(r,e){switch(e){case n.L:return o.RS_BLOCK_TABLE[4*(r-1)+0];case n.M:return o.RS_BLOCK_TABLE[4*(r-1)+1];case n.Q:return o.RS_BLOCK_TABLE[4*(r-1)+2];case n.H:return o.RS_BLOCK_TABLE[4*(r-1)+3];default:return}},r.exports=o}),
(function(t,n,h){function i(){this.buffer=new Array,this.length=0}i.prototype={get:function(t){var n=Math.floor(t/8);return 1==(this.buffer[n]>>>7-t%8&1)},put:function(t,n){for(var h=0;h<n;h++)this.putBit(1==(t>>>n-h-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},t.exports=i}),
(function(E,r,L){for(var A={glog:function(E){if(E<1)throw new Error("glog("+E+")");return A.LOG_TABLE[E]},gexp:function(E){for(;E<0;)E+=255;for(;E>=256;)E-=255;return A.EXP_TABLE[E]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},o=0;o<8;o++)A.EXP_TABLE[o]=1<<o;for(o=8;o<256;o++)A.EXP_TABLE[o]=A.EXP_TABLE[o-4]^A.EXP_TABLE[o-5]^A.EXP_TABLE[o-6]^A.EXP_TABLE[o-8];for(o=0;o<255;o++)A.LOG_TABLE[A.EXP_TABLE[o]]=o;E.exports=A}),
(function(t,e,g){var n=g(1571);function r(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var g=0;g<t.length&&0==t[g];)g++;this.num=new Array(t.length-g+e);for(var n=0;n<t.length-g;n++)this.num[n]=t[n+g]}r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),g=0;g<this.getLength();g++)for(var h=0;h<t.getLength();h++)e[g+h]^=n.gexp(n.glog(this.get(g))+n.glog(t.get(h)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=n.glog(this.get(0))-n.glog(t.get(0)),g=new Array(this.getLength()),h=0;h<this.getLength();h++)g[h]=this.get(h);for(h=0;h<t.getLength();h++)g[h]^=n.gexp(n.glog(t.get(h))+e);return new r(g,0).mod(t)}},t.exports=r}),
(function(r,e,t){var a=t(1566),i=t(1572),n=t(1571),o=0,s=1,u=2,D=3,f=4,c=5,g=6,E=7,M={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(r){for(var e=r<<10;M.getBCHDigit(e)-M.getBCHDigit(M.G15)>=0;)e^=M.G15<<M.getBCHDigit(e)-M.getBCHDigit(M.G15);return(r<<10|e)^M.G15_MASK},getBCHTypeNumber:function(r){for(var e=r<<12;M.getBCHDigit(e)-M.getBCHDigit(M.G18)>=0;)e^=M.G18<<M.getBCHDigit(e)-M.getBCHDigit(M.G18);return r<<12|e},getBCHDigit:function(r){for(var e=0;0!=r;)e++,r>>>=1;return e},getPatternPosition:function(r){return M.PATTERN_POSITION_TABLE[r-1]},getMask:function(r,e,t){switch(r){case o:return(e+t)%2==0;case s:return e%2==0;case u:return t%3==0;case D:return(e+t)%3==0;case f:return(Math.floor(e/2)+Math.floor(t/3))%2==0;case c:return e*t%2+e*t%3==0;case g:return(e*t%2+e*t%3)%2==0;case E:return(e*t%3+(e+t)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}},getErrorCorrectPolynomial:function(r){for(var e=new i([1],0),t=0;t<r;t++)e=e.multiply(new i([1,n.gexp(t)],0));return e},getLengthInBits:function(r,e){if(1<=e&&e<10)switch(r){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:case a.MODE_KANJI:return 8;default:throw new Error("mode:"+r)}else if(e<27)switch(r){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+r)}else{if(!(e<41))throw new Error("type:"+e);switch(r){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+r)}}},getLostPoint:function(r){for(var e=r.getModuleCount(),t=0,a=0;a<e;a++)for(var i=0;i<e;i++){for(var n=0,o=r.isDark(a,i),s=-1;s<=1;s++)if(!(a+s<0||e<=a+s))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||0==s&&0==u||o==r.isDark(a+s,i+u)&&n++;n>5&&(t+=3+n-5)}for(a=0;a<e-1;a++)for(i=0;i<e-1;i++){var D=0;r.isDark(a,i)&&D++,r.isDark(a+1,i)&&D++,r.isDark(a,i+1)&&D++,r.isDark(a+1,i+1)&&D++,0!=D&&4!=D||(t+=3)}for(a=0;a<e;a++)for(i=0;i<e-6;i++)r.isDark(a,i)&&!r.isDark(a,i+1)&&r.isDark(a,i+2)&&r.isDark(a,i+3)&&r.isDark(a,i+4)&&!r.isDark(a,i+5)&&r.isDark(a,i+6)&&(t+=40);for(i=0;i<e;i++)for(a=0;a<e-6;a++)r.isDark(a,i)&&!r.isDark(a+1,i)&&r.isDark(a+2,i)&&r.isDark(a+3,i)&&r.isDark(a+4,i)&&!r.isDark(a+5,i)&&r.isDark(a+6,i)&&(t+=40);var f=0;for(i=0;i<e;i++)for(a=0;a<e;a++)r.isDark(a,i)&&f++;return t+=10*(Math.abs(100*f/e/e-50)/5)}};r.exports=M}),
(function(t,e,o){var r=o(1567),n=o(1569),i=o(1570),s=o(1573),u=o(1572);function h(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var a=h.prototype;a.addData=function(t){var e=new r(t);this.dataList.push(e),this.dataCache=null},a.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},a.getModuleCount=function(){return this.moduleCount},a.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=n.getRSBlocks(t,this.errorCorrectLevel),o=new i,r=0,u=0;u<e.length;u++)r+=e[u].dataCount;for(u=0;u<this.dataList.length;u++){var h=this.dataList[u];o.put(h.mode,4),o.put(h.getLength(),s.getLengthInBits(h.mode,t)),h.write(o)}if(o.getLengthInBits()<=8*r)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},a.makeImpl=function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[o][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=h.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},a.setupPositionProbePattern=function(t,e){for(var o=-1;o<=7;o++)if(!(t+o<=-1||this.moduleCount<=t+o))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+o][e+r]=0<=o&&o<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=r&&r<=4)},a.getBestMaskPattern=function(){for(var t=0,e=0,o=0;o<8;o++){this.makeImpl(!0,o);var r=s.getLostPoint(this);(0==o||t>r)&&(t=r,e=o)}return e},a.createMovieClip=function(t,e,o){var r=t.createEmptyMovieClip(e,o);this.make();for(var n=0;n<this.modules.length;n++)for(var i=1*n,s=0;s<this.modules[n].length;s++){var u=1*s;this.modules[n][s]&&(r.beginFill(0,100),r.moveTo(u,i),r.lineTo(u+1,i),r.lineTo(u+1,i+1),r.lineTo(u,i+1),r.endFill())}return r},a.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},a.setupPositionAdjustPattern=function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var o=0;o<t.length;o++){var r=t[e],n=t[o];if(null==this.modules[r][n])for(var i=-2;i<=2;i++)for(var u=-2;u<=2;u++)this.modules[r+i][n+u]=-2==i||2==i||-2==u||2==u||0==i&&0==u}},a.setupTypeNumber=function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var r=!t&&1==(e>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=r}for(o=0;o<18;o++){r=!t&&1==(e>>o&1);this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=r}},a.setupTypeInfo=function(t,e){for(var o=this.errorCorrectLevel<<3|e,r=s.getBCHTypeInfo(o),n=0;n<15;n++){var i=!t&&1==(r>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(n=0;n<15;n++){i=!t&&1==(r>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=i:n<9?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!t},a.mapData=function(t,e){for(var o=-1,r=this.moduleCount-1,n=7,i=0,u=this.moduleCount-1;u>0;u-=2)for(6==u&&u--;;){for(var h=0;h<2;h++)if(null==this.modules[r][u-h]){var a=!1;i<t.length&&(a=1==(t[i]>>>n&1)),s.getMask(e,r,u-h)&&(a=!a),this.modules[r][u-h]=a,-1==--n&&(i++,n=7)}if((r+=o)<0||this.moduleCount<=r){r-=o,o=-o;break}}},h.PAD0=236,h.PAD1=17,h.createData=function(t,e,o){for(var r=n.getRSBlocks(t,e),u=new i,a=0;a<o.length;a++){var l=o[a];u.put(l.mode,4),u.put(l.getLength(),s.getLengthInBits(l.mode,t)),l.write(u)}var m=0;for(a=0;a<r.length;a++)m+=r[a].dataCount;if(u.getLengthInBits()>8*m)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+8*m+")");for(u.getLengthInBits()+4<=8*m&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=8*m||(u.put(h.PAD0,8),u.getLengthInBits()>=8*m));)u.put(h.PAD1,8);return h.createBytes(u,r)},h.createBytes=function(t,e){for(var o=0,r=0,n=0,i=new Array(e.length),h=new Array(e.length),a=0;a<e.length;a++){var l=e[a].dataCount,m=e[a].totalCount-l;r=Math.max(r,l),n=Math.max(n,m),i[a]=new Array(l);for(var d=0;d<i[a].length;d++)i[a][d]=255&t.buffer[d+o];o+=l;var f=s.getErrorCorrectPolynomial(m),g=new u(i[a],f.getLength()-1).mod(f);h[a]=new Array(f.getLength()-1);for(d=0;d<h[a].length;d++){var v=d+g.getLength()-h[a].length;h[a][d]=v>=0?g.get(v):0}}var p=0;for(d=0;d<e.length;d++)p+=e[d].totalCount;var C=new Array(p),c=0;for(d=0;d<r;d++)for(a=0;a<e.length;a++)d<i[a].length&&(C[c++]=i[a][d]);for(d=0;d<n;d++)for(a=0;a<e.length;a++)d<h[a].length&&(C[c++]=h[a][d]);return C},t.exports=h}),
(function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){g(e,t,r[t])})}return e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?v(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r(2,1),y=r(1026),b=r(1574),C=r(1568);function m(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n<2048?(t+=String.fromCharCode(192|n>>6),t+=String.fromCharCode(128|63&n)):n<55296||n>=57344?(t+=String.fromCharCode(224|n>>12),t+=String.fromCharCode(128|n>>6&63),t+=String.fromCharCode(128|63&n)):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t+=String.fromCharCode(240|n>>18),t+=String.fromCharCode(128|n>>12&63),t+=String.fromCharCode(128|n>>6&63),t+=String.fromCharCode(128|63&n))}return t}var O={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1},w={value:y.string.isRequired,size:y.number,level:y.oneOf(["L","M","Q","H"]),bgColor:y.string,fgColor:y.string,includeMargin:y.bool};function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[];return e.forEach(function(e,n){var o=null;e.forEach(function(i,a){if(!i&&null!==o)return r.push("M".concat(o+t," ").concat(n+t,"h").concat(a-o,"v1H").concat(o+t,"z")),void(o=null);if(a!==e.length-1)i&&null===o&&(o=a);else{if(!i)return;null===o?r.push("M".concat(a+t,",").concat(n+t," h1v1H").concat(a+t,"z")):r.push("M".concat(o+t,",").concat(n+t," h").concat(a+1-o,"v1H").concat(o+t,"z"))}})}),r.join("")}var S=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}(),j=function(e){function t(){var e,r;l(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return g(v(v(r=f(this,(e=s(t)).call.apply(e,[this].concat(o))))),"_canvas",void 0),r}return p(t,d.PureComponent),u(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,r=e.size,n=e.level,o=e.bgColor,i=e.fgColor,a=e.includeMargin,l=new b(-1,C[n]);if(l.addData(m(t)),l.make(),null!=this._canvas){var c=this._canvas,u=c.getContext("2d");if(!u)return;var f=l.modules;if(null===f)return;var s=a?4:0,p=f.length+2*s,h=window.devicePixelRatio||1;c.height=c.width=r*h;var v=r/p*h;u.scale(v,v),u.fillStyle=o,u.fillRect(0,0,p,p),u.fillStyle=i,S?u.fill(new Path2D(P(f,s))):f.forEach(function(e,t){e.forEach(function(e,r){e&&u.fillRect(r+s,t+s,1,1)})})}}},{key:"render",value:function(){var e=this,t=this.props,r=(t.value,t.size),n=(t.level,t.bgColor,t.fgColor,t.style),l=(t.includeMargin,a(t,["value","size","level","bgColor","fgColor","style","includeMargin"])),c=i({height:r,width:r},n);return d.createElement("canvas",o({style:c,height:r,width:r,ref:function(t){return e._canvas=t}},l))}}]),t}();g(j,"defaultProps",O),g(j,"propTypes",w);var E=function(e){function t(){return l(this,t),f(this,s(t).apply(this,arguments))}return p(t,d.PureComponent),u(t,[{key:"render",value:function(){var e=this.props,t=e.value,r=e.size,n=e.level,i=e.bgColor,l=e.fgColor,c=e.includeMargin,u=a(e,["value","size","level","bgColor","fgColor","includeMargin"]),f=new b(-1,C[n]);f.addData(m(t)),f.make();var s=f.modules;if(null===s)return null;var p=c?4:0,h=P(s,p),v=s.length+2*p;return d.createElement("svg",o({shapeRendering:"crispEdges",height:r,width:r,viewBox:"0 0 ".concat(v," ").concat(v)},u),d.createElement("path",{fill:i,d:"M0,0 h".concat(v,"v").concat(v,"H0z")}),d.createElement("path",{fill:l,d:h}))}}]),t}();g(E,"defaultProps",O),g(E,"propTypes",w);var M=function(e){var t=e.renderAs,r=a(e,["renderAs"]),n="svg"===t?E:j;return d.createElement(n,r)};M.defaultProps=i({renderAs:"canvas"},O),e.exports=M}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(2,1    ),s=o(1575          ),r=o(113                                     ),i=o(203                             ),n=o(175                            ),l=o(154                                 ),c=o(147                                            ),p=o(1565                                    ),m=o(154                                 ),u=o(152                                          ),d=o(827                                 ),h=o(144                                                ),f=o(191          ),_=o(329                                 ),E=o(136                    );t.SETUP_TWO_FACTOR_MODAL="SETUP_TWO_FACTOR_MODAL",E.registerUnsafeModal(t.SETUP_TWO_FACTOR_MODAL,e=>a.createElement(b,Object.assign({},e)));class b extends a.PureComponent{constructor(){super(...arguments),this.verifyOTP=(e=>{e.preventDefault();let t=e.target.elements;t.otp.select(),this.props.dispatch(i.user.verifyOTP({otp:t.otp.value}))}),this.title=(()=>this.props.user.password_token?this.props.user.two_factor_secret_loaded?this.props.user.two_factor_app_enabled?"Two-factor authentication enabled!":"Scan QR code":"Download mobile app":"Set up two-factor authentication"),this.resendVerification=(()=>{this.props.dispatch(i.user.sendValidationEmail())}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(r.fileBrowser.hideModal())}),this.inputRef=(e=>{e&&e.focus()}),this.recoveryCodes=(()=>{this.props.dispatch(r.fileBrowser.showModal({type:n.TWO_FACTOR_RECOVERY_MODAL}))}),this.getCode=(()=>{this.props.user.password_token&&this.props.dispatch(i.user.setupTwoFactor({token:this.props.user.password_token}))}),this.setupSMS=(()=>{this.props.dispatch(r.fileBrowser.showModal({type:n.SETUP_PHONE_MODAL}))}),this.toggleQR=(()=>{this.setState({qrCode:!this.state.qrCode})})}UNSAFE_componentWillMount(){this.setState({qrCode:!0})}render(){return this.props.user.email_validated_at?a.createElement(l.Modal,Object.assign({size:400,title:this.title(),className:f.modal},this.props),a.createElement(u.ModalCloseButton,Object.assign({},this.props)),(()=>this.props.user.password_token?this.props.user.two_factor_secret_loaded?this.props.user.two_factor_app_enabled?a.createElement("div",null,"Hooray! Your account is now secure. You can continue on to view your recovery codes and set up a recovery phone.",a.createElement("div",{className:f.buttonRow},a.createElement(c.Link,{onClick:this.cancel,className:h.btn},"Close"),a.createElement(c.ButtonPrimary,{type:"submit",className:f.confirmButton,onClick:this.recoveryCodes},"Continue to recovery codes"))):a.createElement("form",{autoComplete:"off",onSubmit:this.verifyOTP},(()=>{var e,t;return this.state.qrCode?a.createElement("div",null,a.createElement("div",null,"Scan the QR code into your app."),a.createElement("div",{className:f.tfaQrCode},a.createElement(s,{value:_.getSecret().provisioning_uri||"",bgColor:"#f0f0f0",size:200})),a.createElement("div",null,a.createElement(c.Link,{onClick:this.toggleQR},"Click here to manually type the code instead."))):a.createElement("div",null,a.createElement("div",null,"Type the text code into your app."),a.createElement("div",{className:f.code},null===(t=null===(e=_.getSecret().secret)||void 0===e?void 0:e.match(/.{4}/g))||void 0===t?void 0:t.join(" ")),a.createElement("div",null,a.createElement(c.Link,{onClick:this.toggleQR},"Click here to scan a QR code instead.")))})(),a.createElement("div",{style:{marginTop:"20px"}},"Enter the 6-digit authentication code generated by your app:"),a.createElement("input",{name:"otp",type:"text",className:f.textInput,ref:this.inputRef,placeholder:"Authentication code"}),a.createElement("div",{className:f.error},this.props.twoFactorAuth.currentError||""),a.createElement("div",{className:f.buttonRow},a.createElement(c.Link,{onClick:this.cancel,className:h.btn},"Cancel"),a.createElement(c.ButtonPrimary,{type:"submit",disabled:this.props.twoFactorAuth.loading,className:f.confirmButton},"Verify"))):a.createElement("div",null,"You will need a mobile app to complete this process, such as one the following:",a.createElement("ul",{className:f.list},a.createElement("li",null,a.createElement("a",{className:d.blueLink,target:"_blank",rel:"noopener",href:"https://support.google.com/accounts/answer/1066447"},"Google Authenticator")),a.createElement("li",null,a.createElement("a",{className:d.blueLink,target:"_blank",rel:"noopener",href:"https://duo.com/product/trusted-users/two-factor-authentication/duo-mobile"},"Duo Mobile")),a.createElement("li",null,a.createElement("a",{className:d.blueLink,target:"_blank",rel:"noopener",href:"https://authy.com/features/"},"Authy")),a.createElement("li",null,a.createElement("a",{className:d.blueLink,target:"_blank",rel:"noopener",href:"https://www.microsoft.com/en-us/p/microsoft-authenticator/9nblgggzmcj6"},"2FA (Windows phone)"))),a.createElement("div",{className:f.buttonRow},a.createElement(c.Link,{onClick:this.setupSMS,className:f.left},"Send me an SMS instead"),a.createElement(c.Link,{onClick:this.cancel,className:h.btn},"Cancel"),a.createElement(c.ButtonPrimary,{onClick:this.getCode,type:"submit",disabled:this.props.twoFactorAuth.loading,className:f.confirmButton},"Continue"))):a.createElement(p.RequirePasswordModal,Object.assign({},this.props)))()):a.createElement(m.ConfirmationModal,Object.assign({confirmationTitle:"A verified email is required",content:"You must verify your email address before enabling two-factor authentication",onConfirm:this.resendVerification,confirmText:"Resend verification email",tintedModalBackground:!0},this.props))}}b.displayName="SetupTwoFactorModal"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),n=s(113                                     ),r=s(203                             ),a=s(175                            ),i=s(154                                 ),c=s(147                                            ),l=s(1565                                    ),p=s(154                                 ),h=s(1576                                    ),m=s(152                                          ),u=s(144                                                ),d=s(191          );class f extends o.PureComponent{constructor(){super(...arguments),this.addPhone=(e=>{e.preventDefault();let t=e.target.elements,s=this.props.user.temp_phone;s?this.setState({resent:!0}):(t.phone.select(),s=t.phone.value),s&&this.props.dispatch(r.user.changePhone({phone:s}))}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(n.fileBrowser.hideModal())}),this.inputRef=(e=>{e&&e.focus()}),this.recoveryCodes=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:a.TWO_FACTOR_RECOVERY_MODAL}))}),this.deletePhone=(()=>{this.setState({confirm:!1,resent:!1}),this.props.dispatch(r.user.deletePhone()),this.props.dispatch(n.fileBrowser.hideModal())}),this.onCancel=(()=>{this.setState({confirm:!1})}),this.confirmDelete=(e=>{e.preventDefault(),this.setState({confirm:!0})}),this.confirmPhone=(e=>{e.preventDefault();let t=e.target.elements;t.code.select(),this.props.dispatch(r.user.confirmPhone({code:t.code.value}))}),this.setupApp=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:h.SETUP_TWO_FACTOR_MODAL}))}),this.title=(()=>this.props.user.phone_number&&this.props.user.password_token?"SMS two-factor authentication is enabled":"SMS two-factor authentication")}UNSAFE_componentWillMount(){this.setState({confirm:!1,resent:!1})}renderPhone(){return this.props.user.phone_number?o.createElement("div",null,"Your phone number is set to ",this.props.user.phone_number,". Authentication codes will be texted to this number for logging in.",o.createElement("div",{className:d.buttonRow},o.createElement(c.Link,{className:d.left,onClick:this.confirmDelete},"Unregister SMS number"),o.createElement(c.Link,{onClick:this.cancel,className:u.btn},"Close"),o.createElement(c.ButtonPrimary,{className:d.confirmButton,onClick:this.recoveryCodes},"Recovery codes"))):this.props.user.phone_token?o.createElement("div",null,"SMS sent to ",this.props.user.temp_phone,". Please allow up to a minute for the SMS to arrive, then enter the authentication code below.",o.createElement("form",{onSubmit:this.confirmPhone},o.createElement("input",{type:"text",name:"code",ref:this.inputRef,className:d.textInput,placeholder:"Authentication code"}),o.createElement("div",{className:d.error},this.props.twoFactorAuth.currentError||""),o.createElement("div",{className:d.buttonRow},this.state.resent?o.createElement("div",{className:d.left},"Code resent"):o.createElement(c.Link,{className:d.left,onClick:this.addPhone},"Resend code"),o.createElement(c.Link,{onClick:this.cancel,className:u.btn},"Cancel"),o.createElement(c.ButtonPrimary,{type:"submit",className:d.confirmButton},"Verify")))):o.createElement("div",null,"Enter a phone number where we can send an authentication code via SMS.",o.createElement("form",{onSubmit:this.addPhone},o.createElement("input",{type:"text",name:"phone",ref:this.inputRef,className:d.textInput,placeholder:"Phone number, e.g. +1 555 4443333"}),o.createElement("div",{className:d.error},this.props.twoFactorAuth.currentError||""),o.createElement("div",{className:d.buttonRow},!this.props.user.two_factor_app_enabled&&o.createElement(c.Link,{onClick:this.setupApp,className:d.left},"Use an authenticator app instead"),o.createElement(c.Link,{onClick:this.cancel,className:u.btn},"Close"),o.createElement(c.ButtonPrimary,{type:"submit",disabled:this.props.twoFactorAuth.loading,className:d.confirmButton},"Verify"))))}render(){return this.state.confirm?o.createElement(p.ConfirmationModal,Object.assign({confirmationTitle:"Are you sure?",content:this.props.user.two_factor_app_enabled?"You're about to remove your phone number, but app-based two-factor will still be on.":"This will disable two-factor authentication entirely.",onConfirm:this.deletePhone,onCancel:this.onCancel,confirmText:"Ok",dontClose:!0,tintedModalBackground:!0},this.props)):o.createElement(i.Modal,Object.assign({size:400,title:this.title(),className:d.modal},this.props),o.createElement(m.ModalCloseButton,Object.assign({},this.props)),(()=>this.props.user.password_token?this.renderPhone():o.createElement(l.RequirePasswordModal,Object.assign({},this.props)))())}}t.PhoneSetupModal=f,f.displayName="PhoneSetupModal"}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=o(154                                 ),a=o(1565                                    ),r=o(2,1    ),i=o(154                                 ),n=o(203                             ),l=o(152                                          ),p=o(191          );class c extends r.PureComponent{constructor(){super(...arguments),this.disable=(()=>{var e;(null===(e=this.props.user)||void 0===e?void 0:e.password_token)&&this.props.dispatch(n.user.disableTwoFactor({token:this.props.user.password_token}))})}render(){return this.props.user&&this.props.user.password_token?r.createElement(t.ConfirmationModal,Object.assign({confirmationTitle:"Are you sure?",content:this.props.user.phone_number?"You're about to turn off app-based two-factor, but SMS-based two-factor will still be on.":"This will disable two-factor authentication entirely.",onConfirm:this.disable,confirmText:"Ok",tintedModalBackground:!0},this.props)):r.createElement(i.Modal,Object.assign({size:"small",title:"Disable Two-factor Auth",className:p.modal},this.props),r.createElement(l.ModalCloseButton,Object.assign({},this.props)),r.createElement(a.RequirePasswordModal,Object.assign({},this.props)))}}s.DisableTwoFactorModal=c,c.displayName="DisableTwoFactorModal"}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(2,1    ),a=t(113                                     ),r=t(203                             ),n=t(175                            ),c=t(154                                 ),i=t(147                                            ),p=t(1565                                    ),l=t(191          );class d extends o.PureComponent{constructor(){super(...arguments),this.regenerateCodes=(()=>{this.props.dispatch(r.user.resetBackupCodes())}),this.setupPhone=(()=>{this.props.dispatch(a.fileBrowser.showModal({type:n.SETUP_PHONE_MODAL}))}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(a.fileBrowser.hideModal())})}UNSAFE_componentWillMount(){this.props.user.password_token&&this.props.dispatch(r.user.getBackupCodes({token:this.props.user.password_token}))}render(){return o.createElement(c.Modal,Object.assign({size:400,title:"Two-factor recovery codes",className:l.modal},this.props),(()=>{if(this.props.user.password_token){if(this.props.user.backup_codes){let e=this.props.user.backup_codes.map(e=>o.createElement("div",{key:e,className:l.code},e));return o.createElement("div",null,"In case you lose your phone, use these codes when prompted for 'Authentication Code' to log in. Once you use a code, it will no longer work.",o.createElement("div",{className:l.codes},e),o.createElement("div",{className:l.buttonRow},o.createElement(i.Link,{className:l.left,onClick:this.regenerateCodes},"Regenerate Codes"),o.createElement(i.ButtonSecondary,{className:l.confirmButton,onClick:this.cancel},"Close"),o.createElement(i.ButtonPrimary,{className:l.confirmButton,onClick:this.setupPhone},"SMS settings")))}return o.createElement("div",null,"Please wait...")}return o.createElement(p.RequirePasswordModal,Object.assign({},this.props))})())}}s.TwoFactorRecoveryModal=d,d.displayName="TwoFactorRecoveryModal"}),
(function(a,t,e){a.exports={scrollContainer:"teams_table--scrollContainer--Dj_EC",column:"teams_table--column--2Vu1i table--column--CuH34",teamRequest:"teams_table--teamRequest--2Xoqj teams_table--column--2Vu1i table--column--CuH34 teams_table--column--2Vu1i table--column--CuH34",joinSpinner:"teams_table--joinSpinner--3qidq",row:"teams_table--row--1kY_V",statsColumn:"teams_table--statsColumn--1neJC teams_table--column--2Vu1i table--column--CuH34",orgSettingsColumn:"teams_table--orgSettingsColumn--1qvEI teams_table--statsColumn--1neJC teams_table--column--2Vu1i table--column--CuH34",avatarColumn:"teams_table--avatarColumn--Xn2QS teams_table--column--2Vu1i table--column--CuH34",avatarName:"teams_table--avatarName--3ayHm ellipsis--ellipsis--1RWY6",avatar:"teams_table--avatar--3R8V0",link:"teams_table--link--130r5",newTeamIcon:"teams_table--newTeamIcon--3fkjg"}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(2,1    ),r=s(43,1         ),n=s(125                        ),o=s(105        ),l=s(113                                     ),m=s(146                        ),i=s(406                           ),c=s(411                                                  ),p=s(475                            ),d=s(147                                            ),g=s(541                                                                 ),u=s(1580               ),v=s(543                            );class E extends t.PureComponent{render(){const e=this.props.teamSortConfig,s=[...this.props.orgTeams.teams];return o.sortAlphabeticallyByProperty(s,e.property,e.isDescending),t.createElement(c.ScrollContainer,{className:u.scrollContainer,showScrollbar:!0},t.createElement(i.TableRow,{className:u.row,header:!0},t.createElement(i.HeaderCell,{className:u.avatarColumn},t.createElement(i.SortableField,{isDescending:e.isDescending,sortBy:this.props.onSort,field:"name",hasArrow:!0},"TEAM")),t.createElement(i.HeaderCell,{className:u.statsColumn},"PROJECTS"),t.createElement(i.HeaderCell,{className:u.statsColumn},"MEMBERS"),t.createElement(i.HeaderCell,{className:u.orgSettingsColumn},"ORG ACCESS"),t.createElement(i.HeaderCell,null)),this.props.orgTeams.isFetching?t.createElement(i.LoadingRow,null):t.createElement("div",null,s.map(e=>t.createElement(a.TeamRow,Object.assign({key:e.id},this.props,{team:e}))),t.createElement(i.TableRow,{className:u.row},t.createElement("div",{className:u.avatarColumn,onClick:this.props.onCreateTeam},t.createElement(m.Svg,{svg:v,className:u.newTeamIcon}),t.createElement(d.Link,{className:u.link},"Create New Team")))))}}a.DiscoverableTeamsTable=E,E.displayName="DiscoverableTeamsTable",a.TeamRow=(e=>{const a=e.team,s=`${a.projects} ${1===a.projects?"project":"projects"}`,o=`${a.member_count} ${1===a.member_count?"member":"members"}`,m=r.useSelector(e=>{const s=e.user,t=e.roles.byTeamId[a.id];return!(!s||!t)&&!!t[s.id]}),c=r.useDispatch();return t.createElement(i.TableRow,{className:u.row},t.createElement("div",{className:u.avatarColumn},t.createElement("div",{className:u.avatar},t.createElement(p.TeamAvatar,{entity:a,size:24})),t.createElement("div",{className:u.avatarName},a.name)),t.createElement("div",{className:u.statsColumn},s),t.createElement("div",{className:u.statsColumn},o),t.createElement("div",{className:u.orgSettingsColumn},a.org_access&&n.orgAccessStrings[a.org_access]),t.createElement(g.RedirectingOrgTeamAction,{team:a,isCurrentUserInTeam:m,isLoading:a.id in e.joiningTeamIds,onOpenTeam:()=>{c(l.fileBrowser.selectViewByTeamId(a.id)),c(l.fileBrowser.hideModal())},onJoin:e.onJoin,onLeave:e.onLeave,onJoinRequest:e.onJoinRequest,onBypassRequest:e.onBypassRequest,onWithdrawRequestForTeam:e.onWithdrawRequestForTeam,useLinks:!0,className:u.teamRequest,spinnerClassName:u.joinSpinner}))})}),
(function(a,e,r){a.exports={wrapper:"editable_avatar--wrapper--1h2oR",overlay:"editable_avatar--overlay--2PcaR",loading:"editable_avatar--loading--1VexM",circle:"editable_avatar--circle--1CY8I",square:"editable_avatar--square--3US3b",icon:"editable_avatar--icon--NDsCZ"}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(2,1    ),s=a(6,1        ),o=a(160                                  ),r=a(93                                   ),n=a(335                               ),l=a(113                                     ),h=a(336                             ),d=a(500                            ),c=a(154                                 ),m=a(147                                            ),p=a(191          ),g=a(537                                     ),v=a(136                    );let f=200,u=24,E=20,S=20,T=f-S,y=-.5,w=1,D=f,R=f+u+E;var I;!function(t){t[t.IMAGE=0]="IMAGE",t[t.SLIDER=1]="SLIDER"}(I||(I={}));const P=t=>{t.fillStyle=o.figmaLightestGray__DEPRECATED,t.beginPath(),t.moveTo(0,0),t.lineTo(f,0),t.lineTo(f,f),t.lineTo(0,f),t.lineTo(0,0),t.moveTo(0,f/2),t.arc(f/2,f/2,f/2,0,2*Math.PI,!0),t.fill(),t.restore()},_={CIRCLE:P,SQUARE:t=>{t.fillStyle=o.figmaLightestGray__DEPRECATED;const e=Math.floor(.1*f);let a=new Path2D;const i=f-10;a.moveTo(10+e,10),a.lineTo(i-e,10),a.arcTo(i,10,i,10+e,e),a.lineTo(i,i-e),a.arcTo(i,i,i-e,i,e),a.lineTo(10+e,i),a.arcTo(10,i,10,i-e,e),a.lineTo(10,10+e),a.arcTo(10,10,10+e,10,e),a.moveTo(0,0),a.lineTo(f,0),a.lineTo(f,f),a.lineTo(0,f),a.lineTo(0,0),a.closePath(),t.fill(a,"evenodd"),t.restore()}};class x extends i.Component{constructor(){super(...arguments),this.mask=(this.props.avatarEditorState.shape?_[this.props.avatarEditorState.shape]:null)||P,this.sliderPosition=S+-y/(w-y)*(T-S),this.previewOffset={x:f/2,y:f/2},this.canvasStyle={background:`url('${d.default()}')`,width:D,height:R,display:"block",margin:"20px auto 10px auto",cursor:"move"},this.startUpload=(()=>{this.props.dispatch(l.fileBrowser.popModalStack()),this.props.dispatch(n.avatar.editorUpload({entity:this.props.avatarEditorState.entity,entityType:this.props.avatarEditorState.entityType,small:this.bytesFromDataURL(this.renderImageToDataURL(120)),large:this.bytesFromDataURL(this.renderImageToDataURL(500))}))}),this.hasAlpha=(t=>{return this.ctx.clearRect(0,0,f,f),this.ctx.drawImage(t,0,0,f,f),this.ctx.getImageData(0,0,1,1).data[3]<255}),this.mountCanvas=(t=>{if(t){this.canvas=t,this.ctx=t.getContext("2d");let e=window.devicePixelRatio||1;t.width=e*D,t.height=e*R,this.ctx.scale(e,e),this.loadFile()}}),this.onCanvasDown=(t=>{let e=t.nativeEvent;if(0!==e.button)return;t.preventDefault(),document.addEventListener("mousemove",this.onCanvasMove),document.addEventListener("mouseup",this.onCanvasUp);let a=this.canvas.getBoundingClientRect();this.dragState={target:e.pageY-a.top<f?I.IMAGE:I.SLIDER,dragStart:{x:e.pageX,y:e.pageY}},this.dragState.target===I.SLIDER&&(this.updateSliderPosition(e.pageX-a.left),this.renderCanvasContent())}),this.onCanvasMove=(t=>{if(t.preventDefault(),null!=this.dragState){let e=this.dragState.dragStart;switch(this.dragState.target){case I.IMAGE:this.previewOffset.x+=t.pageX-e.x,this.previewOffset.y+=t.pageY-e.y;break;case I.SLIDER:{let a=this.computeImageScaleFactor();this.updateSliderPosition(this.sliderPosition+t.pageX-e.x);let i=this.computeImageScaleFactor();this.previewOffset.x+=(f/2-this.previewOffset.x)*(1-i/a),this.previewOffset.y+=(f/2-this.previewOffset.y)*(1-i/a);break}}this.renderCanvasContent(),this.dragState.dragStart={x:t.pageX,y:t.pageY}}}),this.onCanvasUp=(t=>{t.preventDefault(),document.removeEventListener("mousemove",this.onCanvasMove),document.removeEventListener("mouseup",this.onCanvasMove),this.dragState=null}),this.buttonRef=(t=>{t&&s.findDOMNode(t).focus()})}loadFile(){this.image=new Image,this.image.onerror=(()=>{this.props.dispatch(r.flash.error("An error occurred while loading your image."))}),this.image.onload=(()=>{URL.revokeObjectURL(e);const t=this.hasAlpha(this.image)?Math.max(this.image.width,this.image.height)*Math.SQRT2:Math.min(this.image.width,this.image.height);this.previewScale=f/t,this.renderCanvasContent()});let t=this.props.avatarEditorState.file,e=URL.createObjectURL(t);this.image.src=e}updateSliderPosition(t){this.sliderPosition=t,this.sliderPosition=Math.max(S,Math.min(this.sliderPosition,T))}computeImageScaleFactor(){let t=T-S,e=(this.sliderPosition-S)/t;return e=e*(w-y)+y,this.previewScale*Math.pow(100,e)}computeImagePosition(t){let e=t/f,a=this.computeImageScaleFactor()*e,i=this.image.width*a,s=this.image.height*a;return{x:this.previewOffset.x*e-i/2,y:this.previewOffset.y*e-s/2,width:i,height:s}}renderCanvasContent(){let t=this.ctx;t.clearRect(0,0,D,R);let e=this.computeImagePosition(f);t.drawImage(this.image,e.x,e.y,e.width,e.height),t.save(),this.mask(t),t.fillStyle=o.figmaLightestGray__DEPRECATED,t.fillRect(0,f,f,u+E);let a=f+u,i=a+E/2;t.strokeStyle=o.figmaGray__DEPRECATED,t.beginPath(),t.moveTo(S,i),t.lineTo(T,i),t.closePath(),t.lineWidth=1,t.stroke();let s=a+2,r=a+E-2;t.fillStyle="#333",t.strokeStyle="#777",t.beginPath(),t.moveTo(this.sliderPosition-4,s),t.lineTo(this.sliderPosition+4,s),t.lineTo(this.sliderPosition+4,r-4),t.lineTo(this.sliderPosition,r),t.lineTo(this.sliderPosition-4,r-4),t.closePath(),t.fill(),t.stroke(),t.fillStyle=o.figmaDarkGray__DEPRECATED,t.font="20px Arial",t.textBaseline="top";let n=t.measureText("+");t.fillText("-",0,a-2),t.fillText("+",f-n.width,a-2)}renderImageToDataURL(t){let e=document.createElement("canvas"),a=e.getContext("2d");e.width=e.height=t;let i=this.computeImagePosition(t);return a.drawImage(this.image,i.x,i.y,i.width,i.height),e.toDataURL()}bytesFromDataURL(t){let e=atob(t.slice(t.indexOf(",")+1)),a=[];for(let i=0;i<e.length;i++)a.push(e[i].charCodeAt(0));return new Uint8Array(a)}render(){return i.createElement(c.Modal,Object.assign({size:296,className:p.modal},this.props),i.createElement(g.WithLoading,{isLoading:this.props.avatarEditorState.status!==h.AvatarEditorStatus.POSITIONING},()=>i.createElement("div",{className:p.modalContent,style:{textAlign:"center"}},i.createElement("div",{style:{width:"100%"}},i.createElement("canvas",{ref:this.mountCanvas,style:this.canvasStyle,onMouseDown:this.onCanvasDown})),i.createElement(m.ButtonPrimary,{onClick:this.startUpload,className:p.confirmButton,ref:this.buttonRef,style:{marginTop:24}},"Save photo"))))}}x.displayName="AvatarEditorModal";const A=(t=>e=>i.createElement(g.WithLoading,{isLoading:e.avatarEditorState.status!==h.AvatarEditorStatus.POSITIONING},()=>i.createElement(t,Object.assign({},e,{avatarEditorState:e.avatarEditorState}))))(x);e.AVATAR_EDITOR_MODAL="AVATAR_EDITOR_MODAL",v.registerUnsafeModal(e.AVATAR_EDITOR_MODAL,t=>i.createElement(A,{avatarEditorState:t.avatarEditorState,dispatch:t.dispatch}))}),
(function(l,z,m){l.exports={src:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M11.8 1.69l.353-.354L11.8.983l-.353.353.354.354zm2.12 2.121l.354.354.354-.354-.354-.353-.353.353zm-9.553 9.554l.12.485.135-.033.099-.098-.354-.354zm-2.121-2.121l-.354-.354-.098.098-.034.136.486.12zm-.7 2.82l-.485-.12-.2.805.806-.2-.12-.485zm9.9-12.02l2.121 2.12.707-.706-2.12-2.122-.708.708zM4.72 13.012L2.599 10.89l-.707.707 2.121 2.122.708-.707zm-2.122-1.415l7.794-7.794-.707-.707-7.794 7.794.707.707zm7.794-7.794l1.76-1.76-.707-.707-1.76 1.76.707.707zm3.174-.345l-1.76 1.76.707.707 1.76-1.76-.707-.707zm-1.76 1.76l-7.794 7.794.708.707 7.793-7.794-.707-.707zM9.686 3.803l2.121 2.122.707-.707-2.12-2.122-.708.707zm-7.926 7.32l-.699 2.821.97.24.7-2.82-.97-.24zm-.093 3.427l2.82-.7-.24-.97-2.82.7.24.97z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(2,1    ),s=a(113                                     ),r=a(335                               ),o=a(336                             ),n=a(146                        ),l=a(475                            ),p=a(537                                     ),d=a(1582                   ),c=a(1583                    ),h=a(1584                              );const v=(e,t={})=>{var a;return(a=class extends i.Component{constructor(e){super(e),this.triggerFileInputClick=(()=>{var e,t;null===(t=null===(e=this.forwardedRef)||void 0===e?void 0:e.current)||void 0===t||t.click()}),this.onImageSelected=(e=>{var a,i;const o=(null===(i=null===(a=this.forwardedRef)||void 0===a?void 0:a.current)||void 0===i?void 0:i.files)||null;if(null===o||0===o.length)return;this.props.dispatch(r.avatar.editorInit({entity:this.props.entity,entityType:this.props.entityType,file:o[0],shape:t.editorShape||"CIRCLE"})),this.props.dispatch(s.fileBrowser.showModal({type:c.AVATAR_EDITOR_MODAL}));const n=this.forwardedRef.current;n&&(n.value="")}),this.forwardedRef=this.props.forwardedRef||i.createRef(),this.size=null==e.size?120:e.size}render(){const a={width:`${this.size}px`,minWidth:`${this.size}px`,height:`${this.size}px`,minHeight:`${this.size}px`},s=this.props.avatarEditorState&&this.props.avatarEditorState.status===o.AvatarEditorStatus.UPLOADING&&this.props.entity===this.props.avatarEditorState.entity,r=t.className?t.className:"";return i.createElement("div",{className:`${d.wrapper} ${r}`,onClick:this.triggerFileInputClick,style:a},i.createElement("input",{type:"file",accept:"image/*",ref:this.forwardedRef,onChange:this.onImageSelected,style:{display:"none"}}),i.createElement(p.WithLoading,{isLoading:s,className:d.loading},()=>i.createElement(e,Object.assign({size:this.size},this.props))),i.createElement("div",{className:`${r} ${this.props.overlayClass||""}`},i.createElement(n.Svg,{className:`${d.overlay} ${d.icon} ${r} ${this.props.overlayClass||""}`,svg:this.props.icon||h,useOriginalSrcFills:!0})))}}).displayName="EditableAvatar",a},f=v(l.Avatar);t.EditableAvatar=i.forwardRef((e,t)=>i.createElement(f,Object.assign({},e,{forwardedRef:t})));const m=v(l.TeamAvatar,{editorShape:"SQUARE",className:d.square});t.SquareEditableAvatar=i.forwardRef((e,t)=>i.createElement(m,Object.assign({},e,{forwardedRef:t})))}),
(function(t,i,e){t.exports={container:"plugins_whitelist_section--container--30I87",header:"plugins_whitelist_section--header--3nXNK",headerLeft:"plugins_whitelist_section--headerLeft--eJVTy",headerRight:"plugins_whitelist_section--headerRight--2yzoi",subheader:"plugins_whitelist_section--subheader--1pBT7 text--fontPos14--3UJ36 text--_fontBase--YWDo0",description:"plugins_whitelist_section--description--39fLX text--fontPos11--RSei3 text--_fontBase--YWDo0",svg:"plugins_whitelist_section--svg--1Y-VA",labelActive:"plugins_whitelist_section--labelActive--wBhwV text--fontPos11--RSei3 text--_fontBase--YWDo0",labelInactive:"plugins_whitelist_section--labelInactive--1sZ1d text--fontPos11--RSei3 text--_fontBase--YWDo0",button:"plugins_whitelist_section--button--3AVbR",whitelistContainer:"plugins_whitelist_section--whitelistContainer--1TlMA",whitelistDisabledContainer:"plugins_whitelist_section--whitelistDisabledContainer--XIzVn plugins_whitelist_section--whitelistContainer--1TlMA",_rowBase:"plugins_whitelist_section--_rowBase--2n5HX",row:"plugins_whitelist_section--row--2eJjE plugins_whitelist_section--_rowBase--2n5HX",headerRow:"plugins_whitelist_section--headerRow--121bo plugins_whitelist_section--_rowBase--2n5HX",pluginCol:"plugins_whitelist_section--pluginCol--MOhf1",iconButtonCol:"plugins_whitelist_section--iconButtonCol--3AxzQ",pluginIcon:"plugins_whitelist_section--pluginIcon--3MT4w",whitelistInputDescription:"plugins_whitelist_section--whitelistInputDescription--gxZbi",whitelistInput:"plugins_whitelist_section--whitelistInput--1COG5",whitelistInputButtonContainer:"plugins_whitelist_section--whitelistInputButtonContainer--3-YBK",whitelistInputButton:"plugins_whitelist_section--whitelistInputButton--2Uxgb",pluginsOptInModalText:"plugins_whitelist_section--pluginsOptInModalText--3co6L text--fontPos11--RSei3 text--_fontBase--YWDo0"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(2,1    );t.ORG_ALLOW_PUBLIC_PLUGINS_COPY=a.createElement(a.Fragment,null,"AMENDMENT TO FIGMA MASTER SUBSCRIPTION AGREEMENT\n\nThis Amendment to the Figma Master Subscription Agreement (this “Amendment”) shall amend the Figma Master Subscription Agreement previously entered into and currently in effect between Figma, Inc. and Customer for use of the Figma Platform (the “Agreement”). Capitalized terms used and not defined herein will have the same meanings and definitions as set forth in the Agreement. In the event of a conflict or inconsistency between the terms of this Amendment and the Agreement, the terms of this Amendment will prevail. All provisions of the Agreement, except those which are explicitly changed below by this Third Amendment, shall remain in full force and effect.\n\nWHEREAS, Figma grants to Customer access to and use of the Figma Platform;\n\nWHEREAS, the parties wish to amend the Agreement in certain respects in accordance with the terms and conditions set forth herein;\n\nNOW THEREFORE, Figma and Customer hereby agree as follows:",a.createElement("ol",{style:{listStyleType:"decimal",listStylePosition:"outside",paddingLeft:"20px"}},a.createElement("li",null,"Section 1 of the Agreement is hereby amended by inserting the following definition as Section 1.H immediately after Section 1.G: “Applications and Materials” means any application(s) and/or material(s) that are developed by Customer, including, but not limited to, design files, plugins, component libraries, and code components that can be made available via, and published to, the Figma Platform for use by other Authorized users or other users of the Figma Platform outside of Customer’s organization, in accordance with the functionality of the Figma Platform."),a.createElement("li",null,"Section 2 of the Agreement is hereby amended by inserting the following Section 2.E immediately after Section 2.D: Applications and Materials. Customer may submit Applications and Materials to the Figma Platform for publication to and to be made available via the Figma Platform. Such Applications and Materials can be made available to Authorized Users only or publicly to other users of the Figma Platform outside of Customer’s organization, depending on the sharing permissions and designations selected by Customer at the time of submission of the Applications and Materials. The Figma Platform may also make available Applications and Materials that are created by third parties outside of Customer’s organization, but can be installed by Authorized Users for use with the Figma Platform (“Third-Party Applications and Materials”). Subject to Customer’s payment of all fees and compliance with the terms and conditions of this Agreement, Figma grants to Customer a limited, worldwide, non-exclusive, non-transferable, non-sublicensable right during the Order Term to install and use the Third-Party Applications and Materials and to permit its Authorized Users to install and use the Third-Party Applications and Materials, solely in connection with the functionality of the Figma Platform."),a.createElement("li",null,"Section 3.A of the Agreement is deleted in its entirety and replaced with the following: Use Restrictions. Except as otherwise explicitly provided in this Agreement or as may be expressly permitted by applicable law, Customer will not, and will not permit or authorize third parties to: (1) rent, lease, or otherwise permit third parties to use the Figma Platform, Third-Party Applications and Materials, or Documentation; (2) use the Figma Platform, Third-Party Applications and Materials, or Documentation to provide services to third parties (e.g., as a service bureau); (3) circumvent or disable any security or other technological features or measures of the Figma Platform; (4) reverse engineer, decompile, disassemble or otherwise attempt to discover the source code, object code or underlying structure, ideas, know-how or algorithms relevant to the Figma Platform or Third-Party Applications and Materials; (5) modify, translate, or create derivative works based on the Figma Platform, Third-Party Applications and Materials, or Documentation; or (6) remove any proprietary notices or labels from the Figma Platform, Third-Party Applications and Materials or Documentation."),a.createElement("li",null,"The first sentence of Section 3.B of the Agreement is deleted in its entirety and replaced with the following: Customer is responsible and liable for all actions and inactions by its Authorized Users or by any other person or entity to whom Customer or an Authorized User may, directly or indirectly, provide access to or permit to use the Figma Platform, Third-Party Applications and Materials or Documentation; in each case, as if such action or inaction were an action or inaction of Customer."),a.createElement("li",null,"Section 4 of the Agreement is hereby amended by inserting the following Section 4.C immediately after Section 4.B: Customer hereby grants Figma a worldwide, non-exclusive, royalty-free right and license (with the right to sublicense) to use, reproduce, distribute copies of, publicly perform, publicly display, use and make the Applications and Materials available via the Figma Platform for installation and use by Authorized Users or other users of the Figma Platform as permitted by the functionality of the Figma Platform."),a.createElement("li",null,"Section 5 of the Agreement is hereby amended by inserting the following Section 5.C immediately after Section 5.B: Subject to the rights granted to Figma under this Agreement, Customer owns all right, title, and interest in and to the Applications and Materials (excluding Third-Party Applications and Materials). No ownership rights in the Applications and Materials are transferred to Figma when Applications and Materials are published on the Figma Platform."),a.createElement("li",null,"Section 6.A of the Agreement is deleted in its entirety and replaced with the following: In addition to Third-Party Applications and Materials, third parties may make available third-party products or services, including, for example, mobile applications, integrations, and other services (“Third-Party Services”) that Customer may elect to purchase or use. Any acquisition by Customer of such Third-Party Services and any exchange of data between Customer and any Third-Party Service or Third-Party Service provider is solely between Customer and the applicable third-party provider. Figma does not warrant or provide support for Third-Party Services (including Third-Party Applications and Materials), whether or not they are designated by Figma as “recommended” “certified” or otherwise."),a.createElement("li",null,"Section 10 of the Agreement is hereby amended by inserting the following sentence to the end of Section 10.B. Figma makes no warranties with respect to the Third-Party Applications and Materials or Third-Party Services, including whether they will perform their intended functions or deliver any expected results. Customer acknowledges that Customer assumes all risk arising from use of the Third-Party Applications and Materials and Third-Party Services."),a.createElement("li",null,"Section 10.C of the Agreement is deleted in its entirety and replaced with the following: Customer Warranties. Customer represents and warrants to Figma that: (1) Customer is the creator and owner of the Customer Data and any Applications and Materials that are submitted to the Figma Platform, or has the necessary licenses, rights, consents, and permissions to authorize Figma to use the Customer Data and Applications and Materials as necessary to exercise the licenses granted by Customer in this Agreement; (2) Customer Data and Applications and Materials, and the use of Customer Data and Applications and Materials, as contemplated by this Agreement, do not and will not: (a) infringe, violate, or misappropriate any third-party right, including any copyright, trademark, patent, trade secret, moral right, privacy right, right of publicity, or any other intellectual property or proprietary right; or (b) violate any applicable law or regulation; and (3) Customer will use the Figma Platform in compliance with the Documentation, any instructions provided by Figma, and all applicable laws and regulations."),a.createElement("li",null,"Section 11.B(2) of the Agreement is hereby amended by inserting the following item (vi) immediately after item (v): ; or (vi) use of Third-Party Services, the Applications and Materials or Third-Party Applications and Materials that are made available on the Figma Platform."),a.createElement("li",null,"Miscellaneous. This Amendment may be executed in counterparts, each of which shall be deemed to be an original and together shall be deemed to be one and the same document. The parties agree the electronic signatures appearing on this Agreement shall be treated, for purposes of validity, enforceability, as well as admissibility, the same as hand-written signatures.")),a.createElement("br",null),"Customer and Figma hereby acknowledge and agree that although Section 16 of the Agreement requires that all modifications to the Agreement be in a writing signed by both parties, Figma’s presentation of this Amendment to Customer via the Figma Platform and Customer’s action of clicking “ACCEPT & CONTINUE” will satisfy the requirements for amending the Agreement and constitute such a writing signed by both parties. By clicking “ACCEPT & CONTINUE”, Customer agrees to be bound by the Agreement as amended herein by this Amendment and will not assert that this Amendment is unenforceable in the future. Figma also agrees to be bound by the Agreement as amended and will not assert that this Amendment is unenforceable in the future.")}),
(function(t,c,e){t.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M10 6v1h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H9V4.5C9 3.12 10.12 2 11.5 2 12.88 2 14 3.12 14 4.5V6h-1V4.5c0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5V6z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2,1    ),l=i(43,1         ),n=i(1418                                 ),a=i(147                                            ),o=i(146                        ),p=i(406                           ),r=i(483                                                                  ),c=i(232                       ),h=i(234                                                    ),u=i(440                          ),d=i(737                                                       ),m=i(154                                 ),g=i(279                             ),b=i(466                                                        ),_=i(152                                          ),v=i(1586                             ),w=i(411                                                  ),I=i(1587                             ),f=i(1588                                            ),S=i(516                                           ),E=i(517                                             ),C=i(450                                              ),P=i(1020                                               ),A=i(1045                                              ),k=i(1046                                                );t.PluginsWhitelistSection=l.connect(e=>({whitelistedPlugins:e.whitelistedPlugins}))(class extends s.PureComponent{constructor(){super(...arguments),this.state={shouldShowWhitelistInput:!1,whitelistInput:"",shouldShowMSAAmendment:!1},this.onEnableWhitelistClick=(()=>{this.props.org.public_plugins_allowed&&this.props.dispatch(n.setWhitelistEnabled({orgId:this.props.org.id}))}),this.closeMSAAmendment=(()=>{this.setState({shouldShowMSAAmendment:!1})}),this.onMSAAccept=(()=>{this.props.dispatch(n.optInToPublicPlugins({orgId:this.props.org.id})),this.props.dispatch(n.setWhitelistDisabled({orgId:this.props.org.id})),this.closeMSAAmendment()}),this.onDisableWhitelistClick=(()=>{this.props.org.public_plugins_allowed?this.props.dispatch(n.setWhitelistDisabled({orgId:this.props.org.id})):this.setState({shouldShowMSAAmendment:!0})}),this.onWhitelistPluginClick=(()=>{this.setState({shouldShowWhitelistInput:!0})}),this.onWhitelistPluginHide=(()=>{this.setState({shouldShowWhitelistInput:!1,whitelistInput:""})}),this.onWhitelistPluginSubmit=(()=>{const e=u.getPluginIdFromShareUrl(this.state.whitelistInput);e?(this.props.dispatch(d.whitelistPlugin({orgId:this.props.org.id,pluginId:e})),this.setState({shouldShowWhitelistInput:!1,whitelistInput:""})):this.props.dispatch(g.visualBellActions.enqueue({error:!0,message:"Invalid plugin URL"}))}),this.onWhitelistInputChange=(e=>{this.setState({whitelistInput:e.currentTarget.value})}),this.showWhitelistInputModal=(()=>s.createElement(m.Modal,{size:"small",dispatch:this.props.dispatch,title:"Approve a Plugin",onHide:this.onWhitelistPluginHide},s.createElement(_.ModalCloseButton,{dispatch:this.props.dispatch}),s.createElement("div",{className:v.whitelistInputDescription},"Please paste a link to the plugin you’d like to add to the approve list."),s.createElement("form",{onSubmit:this.onWhitelistPluginSubmit},s.createElement(a.TextInput,{onChange:this.onWhitelistInputChange,value:this.state.whitelistInput,className:v.whitelistInput,autoFocus:!0}),s.createElement("div",{className:v.whitelistInputButtonContainer},s.createElement(a.ButtonSecondary,{onClick:this.onWhitelistPluginHide,className:v.whitelistInputButton,type:"button"},"Cancel"),s.createElement(a.ButtonPrimary,{disabled:!u.getPluginIdFromShareUrl(this.state.whitelistInput),className:v.whitelistInputButton,type:"submit"},"Add")))))}render(){const e=this.props.org.plugins_whitelist_enforced,t=this.props.org.public_plugins_allowed&&!e;return s.createElement("div",{className:v.container},s.createElement("div",{className:v.header},s.createElement("div",{className:v.headerLeft},s.createElement("span",{className:v.subheader},"Approve List"),s.createElement("span",{className:v.description},"Gives you complete control over what plugins your members can use."),s.createElement("span",{className:v.description},"With the approve list enabled, your members will only be able to install and use plugins that you specify.")),s.createElement("div",{className:v.headerRight},s.createElement("div",{className:t?v.labelInactive:v.labelActive},t?s.createElement(s.Fragment,null,s.createElement(o.Svg,{className:v.svg,svg:f})," Inactive"):s.createElement(s.Fragment,null,s.createElement(h.SvgWithFallback,{className:v.svg,svg:S,fallbackSvg:E})," Active")),s.createElement(a.ButtonSecondary,{className:v.button,onClick:t?this.onEnableWhitelistClick:this.onDisableWhitelistClick,disabled:!this.props.canAdminOrg},t?"Enable":"Disable"))),s.createElement("div",{className:t?v.whitelistDisabledContainer:v.whitelistContainer},s.createElement(p.TableRow,{className:v.headerRow,header:!0},s.createElement(p.HeaderCell,{className:v.pluginCol},"PLUGIN"),s.createElement(p.HeaderCell,{className:v.iconButtonCol},this.props.canAdminOrg&&s.createElement(r.IconButton,{svg:C,fallbackSvg:P,onClick:this.onWhitelistPluginClick,disabled:!this.props.org.public_plugins_allowed,"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Add a plugin",tooltipForScreenReadersOnly:!0}))),Object.keys(this.props.whitelistedPlugins).map(e=>s.createElement(y,{key:e,pluginId:e,publishedPlugins:this.props.publishedPlugins,org:this.props.org,canAdminOrg:this.props.canAdminOrg,dispatch:this.props.dispatch}))),this.state.shouldShowWhitelistInput&&this.showWhitelistInputModal(),this.state.shouldShowMSAAmendment&&s.createElement(m.ConfirmationModal,{confirmationTitle:"Updated License Agreement",confirmText:"Accept & Continue",onCancel:this.closeMSAAmendment,onConfirm:this.onMSAAccept,dontClose:!0,disableClickOutsideToHide:!0,tintedModalBackground:!0,dispatch:this.props.dispatch,size:"medium"},s.createElement(w.ScrollContainer,{className:v.pluginsOptInModalText},I.ORG_ALLOW_PUBLIC_PLUGINS_COPY)))}});class y extends s.PureComponent{constructor(){super(...arguments),this.onUnwhitelistPluginClick=(()=>{this.props.dispatch(d.unwhitelistPlugin({orgId:this.props.org.id,pluginId:this.props.pluginId}))})}render(){const e=u.getPublishedPluginById(this.props.pluginId,this.props.publishedPlugins),t=u.getPluginVersion(e);return t.id?s.createElement(p.TableRow,{key:e.id,className:v.row},s.createElement("div",{className:v.pluginCol},s.createElement("a",{href:b.pluginShareURL(e.id,t.name),target:"_blank"},s.createElement("img",{className:v.pluginIcon,src:t.redirect_icon_url}),t.name)),s.createElement("div",{className:v.iconButtonCol},this.props.canAdminOrg&&s.createElement(r.IconButton,{svg:A,fallbackSvg:k,onClick:this.onUnwhitelistPluginClick,"data-tooltip-type":c.TooltipType.TEXT,"data-tooltip":"Remove plugin from a whitelist",tooltipForScreenReadersOnly:!0}))):null}}}),
(function(l,n,e){l.exports={row:"billing_table--row--81gqj",headerRow:"billing_table--headerRow--jsYL3 billing_table--row--81gqj",colDate:"billing_table--colDate--2Pr0Z",colDescription:"billing_table--colDescription--KP_Lo",colSeats:"billing_table--colSeats--1QcI7",colCharges:"billing_table--colCharges--f8QWH",colStatus:"billing_table--colStatus--3TmZa",billingStatusDue:"billing_table--billingStatusDue--2-qH0",billingStatusOverdue:"billing_table--billingStatusOverdue--XKqkQ",link:"billing_table--link--1HJDr blue_link--blueLink--22X56",container:"billing_table--container--1K3S0",footer:"billing_table--footer--1JTNp",hidden:"billing_table--hidden--23LlX",secondaryText:"billing_table--secondaryText--3ZoLv",banner:"billing_table--banner--196Sk",nextInvoice:"billing_table--nextInvoice--2spC3",billingInfo:"billing_table--billingInfo--2n9ND",billingContact:"billing_table--billingContact--3KE3E",planDetails:"billing_table--planDetails--9YSh5",editButtons:"billing_table--editButtons---a7j1",bannerHeader:"billing_table--bannerHeader--2ZUPV",bannerSecondaryText:"billing_table--bannerSecondaryText--1IMsG",bannerData:"billing_table--bannerData--2_VLg",bannerEditorCountContainer:"billing_table--bannerEditorCountContainer--2Nyyu",bannerTotalContainer:"billing_table--bannerTotalContainer--20exd billing_table--bannerEditorCountContainer--2Nyyu",containerContent:"billing_table--containerContent--1T7Wt",bannerNumber:"billing_table--bannerNumber--rJdaX",tableTitle:"billing_table--tableTitle--3XLy4 billing_table--bannerHeader--2ZUPV",helpIcon:"billing_table--helpIcon--3syDq"}}),
(function(t,e,a){t.exports={paymentModal:"change_payment_modal--paymentModal--fT1mb",paymentModalHeader:"change_payment_modal--paymentModalHeader--3j_Jt",paymentModalTitle:"change_payment_modal--paymentModalTitle--2Sc-x text--fontPos18--3M8-H text--_fontBase--YWDo0",buttonRow:"change_payment_modal--buttonRow--13Ofn modal--buttonRow--23IOU",buttonRowLeft:"change_payment_modal--buttonRowLeft--140ee undefined",closeButton:"change_payment_modal--closeButton--AfIZa"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),r=s(93                                   ),n=s(113                                     ),d=s(163                   ),i=s(444                       ),o=s(165                                     ),c=s(147                                            ),l=s(154       ),h=s(152                                          ),p=s(1591                        ),m=s(136                                 );class u extends a.PureComponent{constructor(e){super(e),this.hide=(()=>{this.props.dispatch(n.fileBrowser.hideModal()),this.props.onHide&&this.props.onHide()}),this.onCreateTokenSuccess=((e,t)=>{this.props.onSubmit(e,t).then(e=>{e&&(this.props.dispatch(r.flash.flash("Successfully updated your payment source.")),this.hide()),this.setState({pendingPut:!1})})}),this.onSubmitCardAndAddress=(e=>{if(e&&e.preventDefault(),!this.state.cardEl)return;this.setState({pendingPut:!0});const t="An error occurred while reading your card.";d.createToken(this.state.cardEl).then(e=>{e.error?(this.props.dispatch(r.flash.error(e.error.message||t)),this.setState({pendingPut:!1})):e&&e.token?this.onCreateTokenSuccess(e.token,this.state.address):this.props.dispatch(r.flash.error("Sorry, we're unable to change your payment source. Refresh and try again."))}).catch(()=>{this.props.dispatch(r.flash.error(t)),this.setState({pendingPut:!1})})}),this.state={address:i.getDefaultAddress(),cardEl:null,pendingPut:!1}}render(){return a.createElement(l.ModalView,{hide:this.hide,size:530,className:p.paymentModal},a.createElement("div",{className:p.paymentModalHeader},a.createElement("div",{className:p.paymentModalTitle},"Enter credit or debit card"),a.createElement(h.CloseButton,{className:p.closeButton,onClick:this.hide,innerText:"close"})),a.createElement("form",{onSubmit:this.onSubmitCardAndAddress},a.createElement(o.StripeCardAndAddress,{id:"change-payment-modal-form",cardId:"change-payment-modal-card",address:this.state.address,onCardReady:e=>this.setState({cardEl:e}),onAddressChange:e=>this.setState({address:e})}),a.createElement("div",{className:p.buttonRow},a.createElement("div",{className:p.buttonRowLeft}),a.createElement(c.ButtonPrimaryTracked,{tabIndex:0,type:"submit",disabled:this.state.pendingPut},"Use this card"))))}}t.ChangePaymentModal=u,u.displayName="ChangePaymentModal",t.ADMIN_CHANGE_PAYMENT_MODAL=m.registerModal(u,"ChangePaymentModal")}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2,1    ),i=a(108     ),s=a(46,1    ),l=a(135                     ),r=a(179        ),o=a(189                             ),c=a(594                                         ),m=a(113                                     ),d=a(465                          ),u=a(406                           ),p=a(147                                            ),E=a(98                  ),g=a(1590                 ),h=a(411                                                  ),v=a(146                        ),_=a(126                    ),b=a(123         ),N=a(1592                                ),D=a(114                              ),f=a(175                            ),y=a(232                       ),C=a(793                                              );var S;!function(e){e.OVERDUE="overdue",e.UNPAID="unpaid",e.FREEZE="freeze",e.LOCKED="locked",e.DEFAULT="default"}(S||(S={}));class T extends n.Component{constructor(e){super(e),this.onPaymentChangeSubmit=(async(e,t)=>{const a={source_token:e.id,address:t};let n=!1;return await i.default.put(`/api/orgs/${this.props.org.id}/billing_data`,a).then(({data:e})=>{n=!0}).catch(e=>{l.contactSupportFlash(e,this.props.dispatch),n=!1}),n}),this.openChangePaymentModal=(()=>{this.props.dispatch(D.showModal({type:N.ADMIN_CHANGE_PAYMENT_MODAL,data:{dispatch:this.props.dispatch,onHide:()=>{this.props.dispatch(m.fileBrowser.showModal({type:f.ORG_DASHBOARD_MODAL}))},onSubmit:this.onPaymentChangeSubmit}}))})}render(){if(!this.props.orgBillingData)return null;if(0===this.props.orgBillingData.invoices.length)return null;const e=this.props.orgBillingData.invoices.find(e=>"locked"===e.status||"upcoming"===e.status);return e?n.createElement("div",{className:g.container},n.createElement(h.ScrollContainer,{showScrollbar:!0},n.createElement("div",{className:g.banner},n.createElement(M,Object.assign({},this.props)),n.createElement("div",{className:g.billingInfo},n.createElement(w,Object.assign({},this.props)),this.props.org.billing==_.OrgBillingType.CHARGE_IMMEDIATELY?n.createElement("a",{className:g.link,onClick:this.openChangePaymentModal},"Change payment method"):null,n.createElement("div",{className:g.planDetails},n.createElement("div",{className:g.bannerHeader},"Plan Details"),n.createElement("div",{className:g.bannerSecondaryText},"Annual renewal on ",s(e.period_end_at).format("LL")),n.createElement("div",{className:g.bannerSecondaryText},e.quantity_full_members," total Editors as of today")))),n.createElement("div",{className:g.tableTitle},"Invoices"),n.createElement(u.TableRow,{className:g.headerRow},n.createElement(u.HeaderCell,{className:g.colDate},"Date"),n.createElement(u.HeaderCell,{className:g.colDescription},"Description"),n.createElement(u.HeaderCell,{className:g.colSeats},"Editors"),n.createElement(u.HeaderCell,{className:g.colCharges},"Amount"),n.createElement(u.HeaderCell,{className:g.colStatus},"Status")),this.props.orgBillingData.invoices.map(e=>{let t,a=void 0,i="";switch(e.status){case"locked":case"upcoming":return null;case"paid":t="Paid",i="View invoice";break;case"open":if(new Date(e.past_due_at)<new Date)a=g.billingStatusOverdue,t="Overdue";else{a=g.billingStatusDue;const n=new Date(e.past_due_at).getTime()-(new Date).getTime();t=`Due in ${Math.floor(n/1e3/60/60/24)} days`}i="Pay invoice";break;default:r.assertNever(e.status)}return n.createElement(u.TableRow,{className:g.row,key:e.id},n.createElement("div",{className:g.colDate},n.createElement("div",null,s(e.due_at).format("MMM DD, YYYY")),n.createElement("div",{className:g.hidden},"X")),1===e.quarter&&n.createElement("div",{className:g.colDescription},n.createElement("div",null,"Annual Subscription"),n.createElement("div",{className:g.secondaryText},s(e.due_at).format("MMM DD, YYYY"))),1!==e.quarter&&n.createElement("div",{className:g.colDescription},n.createElement("div",null,"Quarterly True-up"),n.createElement("div",{className:g.secondaryText},s(e.due_at).format("MMM DD, YYYY")," – ",s(e.period_end_at).format("MMM DD, YYYY"))),n.createElement("div",{className:g.colSeats},n.createElement("div",null,e.quantity_added),n.createElement("div",{className:g.hidden},"X")),n.createElement("div",{className:g.colCharges},n.createElement("div",null,l.formatMoney(e.amount_due,!0,void 0,e.currency)),n.createElement("div",{className:g.hidden},"X")),n.createElement("div",{className:g.colStatus},n.createElement("div",{className:a},0===e.amount_due?"–":t),e.invoice_url&&e.amount_due>0?n.createElement(p.LinkTracked,{className:g.link,href:e.invoice_url,rel:"noopener",target:"_blank"},i):n.createElement("div",{className:g.hidden},"X")))}))):null}}t.BillingTable=T,T.displayName="BillingTable";class M extends n.PureComponent{constructor(){super(...arguments),this.onMembersClick=(()=>{this.props.dispatch(o.orgs.selectAdminView({view:"members",sortType:d.OrgRosterSortType.UPGRADED_DATE}))})}mostRecentInvoice(e){return this.props.orgBillingData.invoices.find(t=>t.status===e)}bannerMode(){const e=this.mostRecentInvoice("locked"),t=this.mostRecentInvoice("upcoming"),a=this.mostRecentInvoice("open");return e?S.LOCKED:t&&s(t.due_at)<s().add(14,"days")?S.FREEZE:a?s(a.past_due_at)<s()?S.OVERDUE:S.UNPAID:S.DEFAULT}tooltipText(e){const t=l.formatMoney(e.amount_due,!0,void 0,e.currency),a=l.formatMoney(e.plan_amount/4,!0,void 0,e.currency),n=1===e.quarter?"total Editor":"new Editor";return`${t} = ${e.quantity_added} ${b.getPluralOrSingular(e.quantity_added,n)} * ${5-e.quarter} remaining quarters * ${a} per license per quarter`}render(){const e=this.bannerMode(),t=e===S.FREEZE||e===S.DEFAULT,a=e===S.UNPAID||e===S.OVERDUE;let i;if(!(i=t?this.mostRecentInvoice("upcoming"):a?this.mostRecentInvoice("open"):this.mostRecentInvoice("locked")))return null;const r=s(i.due_at)>s();let o=`Your ${1===i.quarter?"annual renewal":"next quarterly true-up"} invoice will be issued on `;return 1===i.quarter&&this.props.org.billing===_.OrgBillingType.DISABLED&&(o="Your current subscription ends on "),n.createElement("div",{className:g.nextInvoice},n.createElement("div",{className:g.bannerHeader},"Upcoming Invoice"),r&&n.createElement("div",null,n.createElement("span",{className:g.bannerSecondaryText},o,n.createElement("strong",null,s(i.due_at).format("LL")))),n.createElement("div",{className:g.bannerData},n.createElement("div",{className:g.bannerEditorCountContainer},n.createElement("div",{className:g.containerContent},n.createElement("span",{className:g.secondaryText},1===i.quarter?"Total Editors as of today":"New Editors this quarter"),t&&n.createElement("span",{className:g.secondaryText}," (",n.createElement("a",{className:g.link,onClick:this.onMembersClick},"manage"),")"),n.createElement("div",{className:g.bannerNumber},i.quantity_added))),n.createElement("div",{className:g.bannerTotalContainer},n.createElement("div",{className:g.containerContent},n.createElement("span",{className:g.secondaryText},t?"Projected total":"Total due"),i.amount_due>0&&n.createElement(v.Svg,{className:g.helpIcon,"data-tooltip-type":y.TooltipType.TEXT,"data-tooltip":this.tooltipText(i),"data-tooltip-timeout-delay":50,svg:C}),n.createElement("div",{className:g.bannerNumber},l.formatMoney(i.amount_due,!0,void 0,i.currency))))))}}t.BillingBanner=M;class w extends n.PureComponent{constructor(e){super(e),this.onEmailChange=(e=>{const t=e.target;this.setState({adminEmail:t.value})}),this.onEmailSubmit=(()=>{const e={admin_email:this.state.adminEmail};i.default.put(`/api/orgs/${this.props.org.id}/billing_data`,e).then(e=>{this.props.dispatch(c.orgBillingData.set(e.data.meta)),this.props.dispatch(E.flashActions.flash("Billing contact updated")),this.setState({isEditing:!1,isSubmitting:!1})}).catch(e=>{var t;this.props.dispatch(E.flashActions.error((null===(t=e.data)||void 0===t?void 0:t.message)||"An error occurred while updating the billing contact.",5e3)),console.error(e),this.setState({isSubmitting:!1})})}),this.onEmailReset=(()=>{this.setState({isEditing:!1,adminEmail:this.props.orgBillingData.admin_email})}),this.state={isEditing:!1,isSubmitting:!1,adminEmail:e.orgBillingData.admin_email}}render(){return n.createElement("div",{className:g.billingContact},n.createElement("div",{className:g.bannerHeader},"Billing Contact"),this.state.isEditing&&n.createElement(n.Fragment,null,n.createElement(p.TextInput,{value:this.state.adminEmail,disabled:this.state.isSubmitting,onChange:this.onEmailChange}),n.createElement("div",{className:g.editButtons},n.createElement(p.ButtonPrimary,{onClick:()=>this.setState({isSubmitting:!0},this.onEmailSubmit)},"Submit"),n.createElement(p.ButtonSecondary,{onClick:this.onEmailReset},"Cancel"))),!this.state.isEditing&&n.createElement(n.Fragment,null,n.createElement("div",{className:g.bannerSecondaryText},this.state.adminEmail," (",n.createElement("a",{className:g.link,onClick:()=>this.setState({isEditing:!0})},"update"),")")))}}t.BillingContact=w}),
(function(o,a,d){o.exports={container:"org_dashboard_modal--container--2f1Tr",tabs:"org_dashboard_modal--tabs--2nR0N",header:"org_dashboard_modal--header--D40Y8 text--fontPos14--3UJ36 text--_fontBase--YWDo0",generalContainer:"org_dashboard_modal--generalContainer--2O1rq",rightColumn:"org_dashboard_modal--rightColumn--2vdiW",rightColumnContent:"org_dashboard_modal--rightColumnContent--1uQkA",rightColumnSection:"org_dashboard_modal--rightColumnSection--1qPQX",leftColumn:"org_dashboard_modal--leftColumn--3WSvR",avatarContainer:"org_dashboard_modal--avatarContainer--3TGZD",destructionButton:"org_dashboard_modal--destructionButton--3Pouv",logsButton:"org_dashboard_modal--logsButton--1ekas",inviteButton:"org_dashboard_modal--inviteButton--25JLh",configureSSOButton:"org_dashboard_modal--configureSSOButton--Bpv75",inviteMembersButton:"org_dashboard_modal--inviteMembersButton--3G6l2",description:"org_dashboard_modal--description--uNVwG",profileHandleInfo:"org_dashboard_modal--profileHandleInfo--293qg",profileHandleButton:"org_dashboard_modal--profileHandleButton--1FHWb",info:"org_dashboard_modal--info--1zkuW",bold:"org_dashboard_modal--bold--1wR8I",normal:"org_dashboard_modal--normal--1Ods9",spinner:"org_dashboard_modal--spinner--1-rfn",infoIcon:"org_dashboard_modal--infoIcon--Ucc4V",additionalOptions:"org_dashboard_modal--additionalOptions--2LuxJ",forumLink:"org_dashboard_modal--forumLink--1smf6",centered:"org_dashboard_modal--centered--1rkDQ",link:"org_dashboard_modal--link--hKXE9"}}),
(function(e,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=o(2,1    ),r=o(575                                                    ),l=o(154                                 ),n=o(136                    );i.DELETE_PROFILE_MODAL=n.registerModal(class extends t.Component{constructor(){super(...arguments),this.deleteProfile=(()=>{this.props.dispatch(r.deleteCommunityProfile({profileId:this.props.profileId}))})}render(){return t.createElement(l.ConfirmationModal,Object.assign({destructive:!0,confirmationTitle:"Delete Community Profile",content:"Deleting your profile will remove all your published files, plugins, likes, and follow data from Figma Community and relinquish your profile handle. This action can not be undone.",onConfirm:this.deleteProfile,confirmText:"Delete"},this.props))}},"DeleteProfileModal")}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=a(2,1    ),s=a(43,1         ),o=a(113                                     ),r=a(189                             ),i=a(154                                 ),c=a(147                                            ),n=a(93                                   ),d=a(191           ),u=a(136                                 );function m(){const e=s.useDispatch(),t=s.useSelector(e=>e.orgById[e.currentOrgId]);return l.createElement(i.Modal,{title:"Are you sure you'd like to delete Figma?",dispatch:e,size:364},"Please confirm that you wish to permanently delete the ",t.name," Figma Organization and all data associated with it and its users. We will process this request within 30 days.",l.createElement("div",{className:d.buttonRow},l.createElement(c.ButtonSecondary,{className:d.left,onClick:()=>{e(o.fileBrowser.popModalStack()),e(n.flash.flash("Deletion request cancelled"))}},"Cancel"),l.createElement(c.ButtonNegative,{onClick:()=>{e(o.fileBrowser.popModalStack()),e(r.orgs.deleteOrg({orgId:t.id}))}},"Request to delete Organization")))}function p(){const e=s.useDispatch(),t=s.useSelector(e=>e.orgById[e.currentOrgId]),[a,u]=l.useState(""),m=0==a.length;return l.createElement(i.Modal,{title:"Who would you like to delete?",dispatch:e,size:364},"This will delete this user’s access to Figma and all data associated with their account. We will process this request within 30 days.",l.createElement("div",{className:d.buttonRow},l.createElement(c.TextInput,{className:d.textInput,onChange:e=>{u(e.currentTarget.value)},spellCheck:!1,placeholder:"Email",autoCorrect:"off",autoCapitalize:"off"})),l.createElement("div",{className:d.buttonRow},l.createElement(c.ButtonSecondary,{className:d.left,onClick:()=>{e(o.fileBrowser.popModalStack()),e(n.flash.flash("Deletion request cancelled"))}},"Cancel"),l.createElement(c.ButtonNegative,{onClick:()=>{e(o.fileBrowser.popModalStack()),e(r.orgs.deleteOrgUser({orgId:t.id,email:a}))},disabled:m},"Request to delete User")))}t.DeleteOrgModal=m,t.DELETE_ORG_MODAL=u.registerModal(m,"DELETE_ORG_MODAL"),t.DeleteOrgUserModal=p,t.DELETE_ORG_USER_MODAL=u.registerModal(p,"DELETE_ORG_USER_MODAL")}),
(function(i,o,e){i.exports={modalWrapper:"org_invite_modal--modalWrapper--2H50q",description:"org_invite_modal--description--2Cx7A",orgGuestEmails:"org_invite_modal--orgGuestEmails--2fT2C",orgGuestLink:"org_invite_modal--orgGuestLink--27GQZ blue_link--blueLink--22X56"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(2,1    ),i=a(43,1         ),n=a(113                                     ),r=a(619                                   ),l=a(133        ),s=a(125                        ),m=a(802                 ),c=a(123         ),p=a(202                            ),d=a(121                        ),u=a(320                              ),g=a(810                                                 ),_=a(758                                              ),E=a(154                                 ),f=a(819                                              ),I=a(147                                            ),T=a(114                              ),v=a(136                                 ),O=a(1597                    ),S=a(191           );function h(){const e=i.useDispatch(),a=i.useSelector(e=>e.orgById[e.currentOrgId]),c=i.useSelector(e=>e.orgDomains.domains),E=i.useSelector(e=>e.autocomplete),v=i.useSelector(e=>e.dropdownShown),S=i.useSelector(e=>e.idpUserById.isCreatingOrgInvite),h=a.domain_capture?d.OrgUserAccountType.FULL:d.OrgUserAccountType.STARTER,[w,y]=o.useState(h),[b,L]=o.useState(!1),N=()=>{e(n.fileBrowser.popModalStack())},M=t=>{e(r.orgInvites.postRequest({emails:u.toEmailList(t),accountType:w}))},k=e=>{const t=l.isEmail(e)&&a.domain_capture,o=l.isEmail(e)&&m.isEmailInOrgsDomain(c,e);return{email:e,state:t||o?p.AutocompleteTokenState.OK:p.AutocompleteTokenState.ERROR,user:null}},C=a=>{if(c.length>=1){let o=u.toEmailList(a).filter(e=>l.isEmail(e)&&!m.isEmailInOrgsDomain(c,e));if((o=[...new Set(o)]).length>0)return void e(T.showModal({type:t.CONFIRM_WHITELIST_ORG_GUEST_INVITE_MODAL,data:{emails:o,onConfirm:()=>{M(a)}}}))}M(a)};return a.domain_capture?o.createElement(_.HeaderModal,{title:"Invite members",onClose:N},o.createElement("div",{className:O.modalWrapper},o.createElement("p",{className:O.description},"New members will receive an email invitation to get started with Figma after you upload their information."),o.createElement(g.TokenForm,{autocomplete:E,buttonText:"Invite",dispatch:e,dropdownShown:v,dropdownKey:"org-invite-account-type-dropdown",getSelectText:s.getOrgAccountTypeString,inviteLevel:w,isSubmitting:S,onInviteLevelChange:y,options:[d.OrgUserAccountType.FULL,d.OrgUserAccountType.RESTRICTED],onSubmit:C,validateToken:k}))):o.createElement(_.HeaderModal,{title:"Invite members to "+a.name,onClose:N},o.createElement("div",{className:O.modalWrapper},(()=>{if(b)return o.createElement("div",null,o.createElement("p",{className:O.description},"You are only allowed to invite members with ",o.createElement(f.JoinNaturally,{includeOxfordDelimiter:!0},c.map(e=>o.createElement("span",{key:e.domain},"@",e.domain)))," email addresses."));{const e=c[0].domain,t=c.length-1;return o.createElement("p",{className:O.description},"You are only allowed to invite members with @",e," ",t>0&&o.createElement("span",null,"(",o.createElement(I.LinkInline,{onClick:()=>L(!0)},"+",t," more"),")")," email addresses.")}})(),o.createElement(g.TokenForm,{autocomplete:E,buttonText:"Send Invite",dispatch:e,dropdownShown:null,inviteLevel:w,isSubmitting:S,onSubmit:C,validateToken:k})))}function w(e){const t=i.useDispatch();return o.createElement(E.ConfirmationModal,{confirmationTitle:"Are you sure?",confirmText:"Invite",disableClickOutsideToHide:!0,dispatch:t,onConfirm:e.onConfirm,popStack:!0,size:400},o.createElement("div",{className:S.modalContent},o.createElement(o.Fragment,null,"You are inviting"," ",o.createElement(f.JoinNaturally,{className:O.orgGuestEmails},e.emails)," ","who ",c.getPluralOrSingular(e.emails.length,"is","are")," external to your Organization. ",o.createElement("a",{className:O.orgGuestLink,target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/en-us/articles/360039960434"},"Learn more"))))}t.OrgInviteModal=h,t.ConfirmWhitelistOrgGuestInviteModal=w,t.ORG_INVITE_MODAL=v.registerModal(h,"ORG_INVITE_MODAL"),t.CONFIRM_WHITELIST_ORG_GUEST_INVITE_MODAL=v.registerModal(w,"CONFIRM_WHITELIST_ORG_GUEST_INVITE_MODAL")}),
(function(e,s,t){e.exports={modal:"request_access_modal--modal--3k2Sj",title:"request_access_modal--title--32am0",inputRequestMessage:"request_access_modal--inputRequestMessage--2AVJQ",buttonRow:"request_access_modal--buttonRow--3_dBs",confirmButton:"request_access_modal--confirmButton--1_7Ov",cancelButton:"request_access_modal--cancelButton--OATKK",userName:"request_access_modal--userName--N8g6d",userRow:"request_access_modal--userRow--9TuXt",select:"request_access_modal--select--3W8_z"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(2,1    ),o=t(113                                     ),n=t(1418                                 ),c=t(475                            ),i=t(377                                                ),r=t(148                                  ),l=t(147                                            ),m=t(154                                 ),p=t(152                                          ),u=t(115                     ),h=t(138      ),d=t(1599                        ),v=t(136                                 );s.REQUEST_ACCESS_MODAL="REQUEST_ACCESS_MODAL",v.registerUnsafeModal(s.REQUEST_ACCESS_MODAL,e=>a.createElement(E,{dispatch:e.dispatch,team:e.modalShown.data.team,user:e.user}));class E extends a.PureComponent{constructor(e){super(e),this.close=(()=>{this.props.dispatch(o.fileBrowser.popModalStack())}),this.onKeyDown=(e=>{e.keyCode===h.Key.ENTER&&h.isExactModifierPressed(e,h.ModifierKey.SHIFT)&&(e.preventDefault(),e.stopPropagation(),this.submit())}),this.onSubmit=(e=>{e.preventDefault(),this.submit()}),this.submit=(()=>{this.props.dispatch(n.requestToJoinTeam({teamId:this.props.team.id,level:this.state.accessLevel,message:this.state.requestMessage})),this.close()}),this.onChangeAccessLevel=(e=>{this.setState({accessLevel:e})}),this.onChangeRequestMessage=(e=>{const s=e.currentTarget.value;this.setState({requestMessage:s})}),this.state={requestMessage:"",accessLevel:u.PermissionLevel.VIEWER}}render(){const e=this.state.accessLevel===u.PermissionLevel.EDITOR?"Request Edit Access":"Request View Access";return a.createElement(m.Modal,{size:"small",className:d.modal,dispatch:this.props.dispatch,popStack:!0,onKeyDown:this.onKeyDown},a.createElement(p.ModalCloseButton,Object.assign({},this.props)),a.createElement("div",{className:d.title},"Request to join team: ",this.props.team.name),a.createElement(g,{user:this.props.user,accessLevel:this.state.accessLevel,onChangeAccessLevel:this.onChangeAccessLevel}),a.createElement(r.TabLoop,{startTabIndex:1,endTabIndex:3},a.createElement("form",{onSubmit:this.onSubmit},a.createElement(i.TextInput,{className:d.inputRequestMessage,type:"textarea",maxLength:500,name:"message",value:this.state.requestMessage,placeholder:"Optional: Describe why you'd like access.",onChange:this.onChangeRequestMessage,tabIndex:1}),a.createElement("div",{className:d.buttonRow},a.createElement(l.ButtonSecondary,{type:"button",className:d.cancelButton,onClick:this.close,tabIndex:3},"Cancel"),a.createElement(l.ButtonPrimary,{type:"submit",className:d.confirmButton,tabIndex:2},e)))))}}s.RequestAccessModal=E,E.displayName="RequestAccessModal";class g extends a.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{const s=parseInt(e.currentTarget.value);this.props.onChangeAccessLevel(s)})}render(){const e=this.props.user;return a.createElement("div",{className:d.userRow},a.createElement(c.Avatar,{entity:e,size:24}),a.createElement("div",{className:d.userName},e.name," (You)"),a.createElement("select",{onChange:this.onChange,value:this.props.accessLevel,className:d.select},a.createElement("option",{value:`${u.PermissionLevel.VIEWER}`},"can view"),a.createElement("option",{value:`${u.PermissionLevel.EDITOR}`},"can edit")))}}s.RequestAccessPermissionRow=g,g.displayName="RequestAccessPermissionRow"}),
(function(o,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=t(2,1    ),r=t(113                                     ),n=t(594                                         ),s=t(154                                 ),a=t(135                     ),p=t(46,1    ),l=t(123         );class d extends e.Component{constructor(){super(...arguments),this.onConfirmEditors=(()=>{this.props.dispatch(n.orgBillingData.lockInvoice({locked_quantity_to_bill:this.props.lockedQuantityEditors})),this.onHide()}),this.onHide=(()=>{this.props.onHide?this.props.onHide():this.props.dispatch(r.fileBrowser.hideModal())}),this.getModalCopy=(()=>1===this.props.quarter?{title:`Start new subscription with ${this.props.lockedQuantityEditors} ${l.getPluralOrSingular(this.props.lockedQuantityEditors,"Editor")}?`,description:`Once you confirm, any Editors who join will be free until your next invoice. On ${p(this.props.dueAt).format("MMMM D")}, you'll be invoiced ${a.formatMoney(this.props.lockedAmountToPay,!0,void 0,this.props.currency)} for ${this.props.lockedQuantityEditors} ${l.getPluralOrSingular(this.props.lockedQuantityEditors,"Editor")} on your annual plan.`}:{title:`Add ${this.props.quantityNewEditors} ${l.getPluralOrSingular(this.props.quantityNewEditors,"new Editor")} to your plan?`,description:`Once you confirm, any Editors who join will be free until your next invoice. On ${p(this.props.dueAt).format("MMMM D")}, you'll be invoiced for ${a.formatMoney(this.props.lockedAmountToPay,!0,void 0,this.props.currency)}.`})}render(){const o=this.getModalCopy();return e.createElement(s.ConfirmationModal,{confirmationTitle:o.title,confirmText:"Confirm Invoice",onConfirm:this.onConfirmEditors,onCancel:this.props.onHide,dontClose:!0,onHide:this.props.onHide,disableClickOutsideToHide:!0,dispatch:this.props.dispatch},e.createElement("div",null,o.description))}}i.FreezeInvoiceConfirmModal=d,d.displayName="FreezeInvoiceConfirmModal"}),
(function(n,o,r){n.exports={bold:"confirm_org_user_actions--bold--3sTa8",spacing:"confirm_org_user_actions--spacing--2bw_4",warning:"confirm_org_user_actions--warning--dTsbM confirm_org_user_actions--spacing--2bw_4 confirm_org_user_actions--bold--3sTa8",link:"confirm_org_user_actions--link--19vqW"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(2,1    ),o=t(620                                 ),i=t(113                                     ),a=t(1088                     ),n=t(123         ),c=t(121                        ),p=t(1393                                                                 ),l=t(154                                 ),d=t(147                                            ),h=t(1602                            ),m=t(137                                    );class g extends r.PureComponent{constructor(){super(...arguments),this.onHide=(()=>{this.props.onHide?this.props.onHide():this.props.dispatch(i.fileBrowser.hideModal())}),this.deleteOrgUsers=(()=>{this.props.dispatch(o.orgUser.batchDel({orgId:this.props.org.id,params:{org_user_ids:this.props.orgUserIds},userInitiated:!0})),this.onHide()})}render(){const e=this.props.orgUserIds.length,s=a.getOrgUserForId(this.props.orgUsers,this.props.orgUserIds[0]),t=`Remove ${n.getPluralOrSingular(e,"member")}`,o=`Removing ${1!==e?`${e} members`:s.user.handle} will cause them to lose access to all teams, projects, and files in the ${this.props.org.name} organization. You cannot undo this action.`,i=`The Drafts folders associated with ${1!==e?"these":"this"} member ${n.getPluralOrSingular(e,"account")} will be reassigned to you. You can find them in Shared Projects and may reassign them from there.`;return r.createElement(p.CheckboxConfirmModal,{dispatch:this.props.dispatch,onConfirm:this.deleteOrgUsers,onHide:this.onHide,disableClickOutsideToHide:!0,buttonText:t,title:t,checkboxText:"I understand that this action isn't reversible",makeButtonAppearNegative:!0},r.createElement("div",null,r.createElement("p",{className:h.bold},o),r.createElement("p",{className:h.spacing},i)))}}s.ConfirmDeleteModal=g,g.displayName="ConfirmDeleteModal";class u extends r.PureComponent{constructor(){super(...arguments),this.onHide=(()=>{this.props.onHide?this.props.onHide():this.props.dispatch(i.fileBrowser.hideModal())}),this.updateAccountType=(()=>{this.props.dispatch(o.orgUser.batchPut({orgId:this.props.org.id,params:{org_user_ids:this.props.orgUserIds,account_type:this.props.accountType}})),this.onHide()})}render(){const e=this.props.orgUserIds.length,s=1===e?`${a.getOrgUserForId(this.props.orgUsers,this.props.orgUserIds[0]).user.handle}'s`:`${e} members'`;return r.createElement(m.TrackingContext,{name:"Confirm Account Change Modal",properties:{targetRole:this.props.accountType,orgId:this.props.org.id}},r.createElement(l.ConfirmationModal,{confirmationTitle:this.props.accountType===c.OrgUserAccountType.RESTRICTED?"Remove edit access?":"Grant edit access?",confirmText:"Confirm",onConfirm:this.updateAccountType,onCancel:this.props.onHide,dontClose:!0,onHide:this.props.onHide,disableClickOutsideToHide:!0,dispatch:this.props.dispatch},this.props.accountType===c.OrgUserAccountType.RESTRICTED&&r.createElement("div",null,r.createElement("p",null,"Restricting ",s," role will limit their ability to edit or create files outside of Drafts."),r.createElement("p",{className:h.warning},s," will not be able to share any new files. Any Draft files they've shared previously will be inaccessible to collaborators.")),this.props.accountType===c.OrgUserAccountType.FULL&&r.createElement("div",null,r.createElement("p",null,"Changing ",s," role to ",r.createElement("span",{className:h.bold},"Editor")," will grant them the ability to edit or create files outside of their Drafts."),r.createElement("p",{className:h.spacing},"This change may affect your bill."," ",r.createElement(d.Link,{className:h.link,target:"_blank",href:"https://help.figma.com/hc/en-us/articles/360039960434#Account_Types"},"Learn more")))))}}s.ConfirmAccountChangeModal=u,u.displayName="ConfirmDeleteModal"}),
(function(n,o,r){n.exports={chevronContainer:"chevron--chevronContainer--3xT09",svgChevron:"chevron--svgChevron--ttrRg",chevronDown:"chevron--chevronDown--1chcB"}}),
(function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=e(2,1    ),n=e(113                                     ),i=e(1604           ),r=e(141              ),p=e(232                       ),a=e(146                        ),l=e(958                                            );class h extends r.Component{constructor(){super(...arguments),this.chevronRef=s.createRef(),this._onChevronToggleDropdown=r.mouseEvent(this,this.props.toggleOnClick?"click":"mousedown",o=>{if(this.props.showingDropdown)return void this.props.dispatch(n.fileBrowser.hideDropdown());let t=this.chevronRef.current;const e=t.parentElement.getBoundingClientRect();this.props.dispatch(n.fileBrowser.showDropdown({type:this.props.dropdownKey,data:Object.assign({position:this.props.positionDynamically?{top:e.top,bottom:"auto",left:e.left,right:"auto"}:null,targetRect:this.props.positionDynamically?null:t.getBoundingClientRect()},this.props.additionalDispatchData)})),this.props.toggleOnClick&&o.stopPropagation()}),this._onChevronStopPropagation=(o=>{o.stopPropagation()})}render(){const o=[i.chevronContainer,this.props.showingDropdown?i.chevronDown:"",this.props.className||""].join(" ");return s.createElement("div",{className:o,ref:this.chevronRef,"data-tooltip-type":p.TooltipType.TEXT,"data-tooltip":this.props.tooltipText,onMouseDown:this.props.toggleOnClick?void 0:this._onChevronToggleDropdown,onClick:this.props.toggleOnClick?this._onChevronToggleDropdown:this._onChevronStopPropagation},s.createElement(a.Svg,{svg:this.props.iconOverride||l,className:i.svgChevron}),this.props.children)}}t.Chevron=h,h.displayName="Chevron"}),
(function(e,m,l){e.exports={container:"members_table--container--2GSw4",scrollContainer:"members_table--scrollContainer--32EBH",nonadminTable:"members_table--nonadminTable--1j3sK",row:"members_table--row--1Vyr4",rowContainer:"members_table--rowContainer--2HgPk",rows:"members_table--rows--3qFT1",unselectedCheckbox:"members_table--unselectedCheckbox--S-ABM",hiddenCheckbox:"members_table--hiddenCheckbox--2Rzb3",menuIcon:"members_table--menuIcon--GaWep",tableRow:"members_table--tableRow--2EkCL members_table--row--1Vyr4",headerRow:"members_table--headerRow--1jhAn members_table--row--1Vyr4",menuSelector:"members_table--menuSelector--pvm0s",roleCell:"members_table--roleCell--1lXTV",column:"members_table--column--1kUb- table--column--CuH34",checkboxColumn:"members_table--checkboxColumn--3n4_4",avatarColumn:"members_table--avatarColumn--D7V2p members_table--column--1kUb- table--column--CuH34",selectableColumn:"members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",dropdownColumn:"members_table--dropdownColumn--nmag9 members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",dropdownColumnDisabled:"members_table--dropdownColumnDisabled--gh683 members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",accountTypeColumn:"members_table--accountTypeColumn--2Mx2u members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",accountTypeColumnHeader:"members_table--accountTypeColumnHeader--1SFrP members_table--accountTypeColumn--2Mx2u members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",upgradedDateColumn:"members_table--upgradedDateColumn--3zRSK members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",lastEditColumn:"members_table--lastEditColumn--3Ixke members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",lastSeenColumn:"members_table--lastSeenColumn--2E-dh members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",iconColumn:"members_table--iconColumn--2u3FZ",avatarColumnNonAdmin:"members_table--avatarColumnNonAdmin--1w1JV",batchRow:"members_table--batchRow--284jZ members_table--tableRow--2EkCL members_table--row--1Vyr4",batchUsersColumn:"members_table--batchUsersColumn--3PeIk members_table--avatarColumn--D7V2p members_table--column--1kUb- table--column--CuH34",dropdown:"members_table--dropdown--3hJeF",wideDropdown:"members_table--wideDropdown--O5cW7",pointingDropdown:"members_table--pointingDropdown--GZOeW",menuContainer:"members_table--menuContainer--3xQIP",filterContainer:"members_table--filterContainer--2h7KM",indicator:"members_table--indicator--2GdCw",inactiveIndicator:"members_table--inactiveIndicator--1KCcB members_table--indicator--2GdCw",freezeBanner:"members_table--freezeBanner--3fJto",bannerBody:"members_table--bannerBody--3JPTY",bannerHeader:"members_table--bannerHeader--1EfXO",bannerDescription:"members_table--bannerDescription--3NllK",avatarWithHandle:"members_table--avatarWithHandle--cI2kv ellipsis--ellipsis--1RWY6",emptyState:"members_table--emptyState--1znk3",searchContainer:"members_table--searchContainer--12urM modal--searchContainer--itrA5",badgeRestricted:"members_table--badgeRestricted--1hloU undefined"}}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=t(2,1    ),n=t(414                                                ),p=t(409                                  );class s extends r.PureComponent{constructor(){super(...arguments),this.isDropdownShown=(()=>{var e;return(null===(e=this.props.dropdownShown)||void 0===e?void 0:e.type)===this.props.dropdownType})}render(){return r.createElement(r.Fragment,null,this.isDropdownShown()&&r.createElement(n.PointingDropdown,{targetRect:this.props.dropdownShown.data.targetRect,minWidth:132},r.createElement(p.dropdown.CheckableOption,{checked:null===this.props.selectedValue,onClick:()=>this.props.updateFilter(null)},"Show All"),r.createElement(p.dropdown.Separator,null),this.props.values.map(e=>r.createElement(p.dropdown.CheckableOption,{key:this.props.getDisplayText(e),checked:this.props.selectedValue===e,onClick:()=>this.props.updateFilter(e)},this.props.getDisplayText(e)))))}}o.FilterDropdown=s,s.displayName="FilterDropdown"}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(2,1    ),r=t(6,1        ),i=t(113                                     ),n=t(621                                   ),p=t(619                                   ),a=t(620                                 ),c=t(189                             ),l=t(111          ),d=t(86            ),h=t(420              ),m=t(308         ),g=t(112          ),u=t(123         ),E=t(469                                          ),y=t(147                                            ),T=t(409                                  ),w=t(471                            ),O=t(411                                                  ),D=t(1015                             ),C=t(146                        ),U=t(125                        ),R=t(465                          ),_=t(121                        ),N=t(406                           ),A=t(475                            ),S=t(1601                                          ),v=t(1603                                                                     ),f=t(104              ),b=t(492                                  ),I=t(1605                                        ),P=t(46,1    ),M=t(1606                 ),k=t(422                                        ),F=t(1088                     ),B=t(135                     ),x=t(1088                     ),L=t(594                                         ),H=t(1607                                   ),W=t(509                        ),q=t(873                                                          ),z=h.pxToInt(k.orgDashboardRowHeight),Y=h.pxToInt(k.orgDashboardModalContentHeight),G=3;var $,j;!function(e){e[e.DELETE=0]="DELETE",e[e.ACCOUNT=1]="ACCOUNT",e[e.FREEZE=2]="FREEZE"}($||($={})),function(e){e.FREEZE="freeze",e.LOCKED="locked"}(j||(j={}));class V extends N.LongList{}class Z extends o.PureComponent{constructor(e){super(e),this.BATCH_ACCOUNT_TYPE_DROPDOWN="BATCH_ACCOUNT_TYPE_DROPDOWN",this.BATCH_MENU_DROPDOWN="BATCH_MENU_DROPDOWN",this.HEADER_MENU_DROPDOWN="HEADER_MENU_DROPDOWN",this.PERMISSION_FILTER_DROPDOWN="PERMISSION_FILTER_DROPDOWN",this.ACCOUNT_TYPE_FILTER_DROPDOWN="ACCOUNT_TYPE_FILTER_DROPDOWN",this.accountDropdownRef=o.createRef(),this.permissionDropdownRef=o.createRef(),this.isDropdownShown=(e=>{var s;return(null===(s=this.props.dropdownShown)||void 0===s?void 0:s.type)===e}),this.toggleAccountDropdown=(()=>{this.toggleDropdown(this.ACCOUNT_TYPE_FILTER_DROPDOWN,this.accountDropdownRef)}),this.togglePermissionDropdown=(()=>{this.toggleDropdown(this.PERMISSION_FILTER_DROPDOWN,this.permissionDropdownRef)}),this.toggleDropdown=((e,s)=>{if(this.isDropdownShown(e))this.props.dispatch(i.fileBrowser.hideDropdown());else{const t=s.current&&s.current.getBoundingClientRect();this.props.dispatch(i.fileBrowser.showDropdown({type:e,data:{targetRect:t}}))}}),this.onToggleMemberSelect=(e=>{this.props.orgRoster.selectedOrgUserIds[e]?this.props.dispatch(n.orgRoster.unselectOrgUserIds({ids:[e]})):this.props.dispatch(n.orgRoster.selectOrgUserIds({ids:[e]}))}),this.toggleCheckAllUserIds=(()=>{const e=[];for(const s of this.props.orgRoster.orgRosterIds)s.user_id&&e.push(s.id);Object.keys(this.props.orgRoster.selectedOrgUserIds).length<e.length?this.props.dispatch(n.orgRoster.selectOrgUserIds({ids:e})):this.props.dispatch(n.orgRoster.unselectOrgUserIds({ids:e}))}),this.getAccountFilterText=(e=>{if(!e)return"Show All";const s=this.props.orgRoster.filters.accountTypeFilter,t=null===s||s===e?` (${this.props.orgRoster.filterCounts.accountType[e]})`:"";return _.OrgUserAccountTypeExtendedText[e]+t}),this.updateAccountFilter=(e=>{this.props.onFilter({accountTypeFilter:e,permissionFilter:this.props.orgRoster.filters.permissionFilter})}),this.confirmDelete=(e=>{this.setState({modal:{type:$.DELETE,orgUserIds:e}})}),this.confirmAccountChange=((e,s)=>{this.setState({modal:{type:$.ACCOUNT,orgUserIds:e,accountType:s}})}),this.confirmFreezeInvoice=((e,s,t,o,r,i)=>{0===e?this.props.dispatch(L.orgBillingData.lockInvoice({locked_quantity_to_bill:e})):this.setState({modal:{type:$.FREEZE,lockedQuantityEditors:e,quantityNewEditors:s,lockedAmountToPay:t,dueAt:o,quarter:r,currency:i}})}),this.viewActivityLogs=(()=>{const e=`/files/${this.props.org.id}/activity-logs`;g.redirect(e,"_blank")}),this.onExportClick=(()=>{this.props.dispatch(n.orgRoster.exportCSV({orgId:this.props.org.id}))}),this.onDeleteClick=(()=>{this.confirmDelete(this.getOrgUserIds())}),this.onFullClick=(()=>{this.confirmAccountChange(this.getOrgUserIds(),_.OrgUserAccountType.FULL)}),this.onRestrictedClick=(()=>{this.confirmAccountChange(this.getOrgUserIds(),_.OrgUserAccountType.RESTRICTED)}),this.hideModal=(()=>{this.setState({modal:null})}),this.getPermissionFilterText=(e=>{const s=this.props.orgRoster.filterCounts,t=this.props.orgRoster.filters.permissionFilter,o=null===t||t===e;switch(e){case R.OrgPermissionExtendedFilters.IDP:return"Provisional"+(o?` (${s.permission[R.OrgPermissionExtendedFilters.IDP]})`:"");case null:return"Show All";default:const t=o?` (${s.permission[e]})`:"";return U.orgPermissionName(e)+t}}),this.updatePermissionFilter=(e=>{this.props.onFilter({accountTypeFilter:this.props.orgRoster.filters.accountTypeFilter,permissionFilter:e})}),this.onSearch=d.debounce(e=>{this.props.onSearch(e)},200),this.getPermission=(e=>e.permission),this.getAccountType=(e=>e.account_type),this.getAccountTypeName=(e=>_.OrgUserAccountTypeDisplayText[e.account_type]),this.getOrgUserIds=(()=>Object.keys(this.props.orgRoster.selectedOrgUserIds)),this.batchToMember=(()=>{this.props.dispatch(a.orgUser.batchPut({orgId:this.props.org.id,params:{org_user_ids:this.getOrgUserIds(),account_type:void 0,permission:_.OrgPermissionType.MEMBER}}))}),this.batchToAdmin=(()=>{this.props.dispatch(a.orgUser.batchPut({orgId:this.props.org.id,params:{org_user_ids:this.getOrgUserIds(),account_type:void 0,permission:_.OrgPermissionType.ADMIN}}))}),this.getSelectedUserEmails=(()=>{return Object.keys(this.props.orgRoster.selectedOrgUserIds).filter(e=>{const s=F.getOrgUserForId(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],e);return s&&s.user.email}).map(e=>{return F.getOrgUserForId(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],e).user.email})}),this.onCopyEmailsToClipboard=(e=>{this.props.dispatch(E.copyToClipboard.copyEmailsToClipboard({emailList:e}))}),this.renderHeaderMenuDropdown=(()=>o.createElement(T.dropdown.Dropdown,{className:M.dropdown,style:this.props.dropdownShown.data.position},o.createElement(T.dropdown.Option,{onClick:this.viewActivityLogs},"View Activity Logs"),o.createElement(T.dropdown.Option,{onClick:this.onExportClick},"Request CSV"))),this.renderBatchMenuDropdown=(()=>{const e=Object.keys(this.props.orgRoster.selectedOrgUserIds).length,s=this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id][this.props.permissionsState.user.id],t=this.props.orgRoster.selectedOrgUserIds[s.id],r=this.getPropertySet(this.getPermission),i=1===r.size&&r.has(_.OrgPermissionType.ADMIN),n=r.has(_.OrgPermissionType.GUEST);return o.createElement(T.dropdown.Dropdown,{className:M.dropdown,style:this.props.dropdownShown.data.position},o.createElement(T.dropdown.Option,{onClick:()=>{this.onCopyEmailsToClipboard(this.getSelectedUserEmails())}},`Copy ${u.getPluralOrSingular(e,"Email",`${e} Emails`)}`),!n&&!i&&o.createElement(T.dropdown.Option,{onClick:this.batchToAdmin},"Grant Admin Access"),!n&&i&&!t&&o.createElement(T.dropdown.Option,{onClick:this.batchToMember},"Revoke Admin Access"),!t&&o.createElement(T.dropdown.Separator,null),!t&&o.createElement(T.dropdown.Option,{onClick:this.onDeleteClick},"Remove"))}),this.renderBatchAccountTypeDropdown=(()=>{const e=this.getPropertySet(this.getAccountType),s=Array.from(e)[0],t=[];return e.size>1&&t.push(o.createElement(T.dropdown.CheckableOption,{key:"mixed",checked:!0,onClick:void 0},"Mixed")),t.push(o.createElement(T.dropdown.CheckableOption,{key:"editor",checked:1===e.size&&s===_.OrgUserAccountType.FULL,onClick:this.onFullClick},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.FULL])),1===e.size&&s===_.OrgUserAccountType.STARTER&&t.push(o.createElement(T.dropdown.CheckableOption,{key:"starter",checked:!0,onClick:void 0},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.STARTER])),t.push(o.createElement(T.dropdown.CheckableOption,{key:"restricted",checked:1===e.size&&s===_.OrgUserAccountType.RESTRICTED,onClick:this.onRestrictedClick},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.RESTRICTED])),o.createElement(T.dropdown.Dropdown,{className:M.wideDropdown,style:this.props.dropdownShown.data.position},t)}),this.setScrollTopState=(()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequest=null}),this.onScroll=(e=>{this.nextScrollTop=e,null==this.frameRequest&&(this.frameRequest=requestAnimationFrame(this.setScrollTopState)),this.props.dispatch(i.fileBrowser.hideDropdown())}),this.renderBody=(()=>{const e=this.props.orgRoster.orgRosterIds,s=this.props.orgRoster.filters;if(this.props.permissionsState.orgUsersByOrgId.isFetching||this.props.idpUserById.isFetching)return o.createElement(N.LoadingRow,null);if(0===e.length&&this.props.orgRoster.searchQuery)return o.createElement("div",{className:M.emptyState},"No results for '",this.props.orgRoster.searchQuery,"'");if(0===e.length&&(s.accountTypeFilter||s.permissionFilter))return o.createElement("div",{className:M.emptyState},"No results found.");{const s=U.canAdminOrg(this.props.org.id,this.props.permissionsState);let t=e.map(e=>{if(e.user_id){const t=this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id][e.user_id];return{areDropdownsdisabled:!m.isEmpty(this.props.orgRoster.selectedOrgUserIds),canAdminOrg:s,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,isMe:this.props.permissionsState.user.id===t.user_id,isNewEditor:-1!==this.props.newEditorIds.indexOf(t.user_id),isOrgGuest:t.permission===_.OrgPermissionType.GUEST,isSelected:!!this.props.orgRoster.selectedOrgUserIds[t.id],onChangeAccountType:this.confirmAccountChange,onChangeMemberPermission:this.props.onChangeMemberPermission,onCopyEmailsToClipboard:this.onCopyEmailsToClipboard,onDelete:this.confirmDelete,onToggleMemberSelect:this.onToggleMemberSelect,org:this.props.org,orgUser:t}}return{areDropdownsDisabled:!m.isEmpty(this.props.orgRoster.selectedOrgUserIds),canAdminOrg:s,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,idpUser:this.props.idpUserById.idpUsers[e.id],onCopyEmailsToClipboard:this.onCopyEmailsToClipboard,org:this.props.org}});return t=t.filter(e=>!!e),o.createElement(V,{scrollTop:this.state.scrollTop,unfilteredItems:t,itemHeight:z,listHeight:Y,itemBufferCount:G,getItemKey:X,getItem:J})}}),this.state={scrollTop:0}}componentDidMount(){l.segmentTrackEvent("Org Roster Action",{org_id:this.props.org.id,action:"show"})}componentWillUnmount(){l.segmentTrackEvent("Org Roster Action",{org_id:this.props.org.id,action:"hide"})}getSelectedPropertyName(e){let s="";for(const t in this.props.orgRoster.selectedOrgUserIds){const o=F.getOrgUserForId(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],t);if(!o)continue;const r=e(o);if(s){if(s!==r)return"Mixed"}else s=r}return s}getPropertySet(e){const s=new Set;for(const t in this.props.orgRoster.selectedOrgUserIds){const o=F.getOrgUserForId(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],t);o&&s.add(e(o))}return s}render(){const e=this.props.org,s=U.canAdminOrg(e.id,this.props.permissionsState),t=Object.keys(this.props.orgRoster.selectedOrgUserIds).length,r=this.props.orgRoster.sort;return o.createElement("div",{className:M.container},o.createElement("div",{className:M.searchContainer},o.createElement(oe,{query:this.props.orgRoster.searchQuery,onChange:this.onSearch})),o.createElement(O.ScrollContainer,{className:M.scrollContainer,showScrollbar:!0,onScroll:this.onScroll},this.props.orgBillingData&&this.props.orgBillingData.invoices.length>0&&o.createElement(Q,{orgBillingData:this.props.orgBillingData,orgUsers:this.props.orgUsers,org:this.props.org,dispatch:this.props.dispatch,confirmFreezeInvoice:this.confirmFreezeInvoice}),o.createElement(N.TableRow,{className:M.headerRow,header:!0},s&&o.createElement(N.HeaderCell,{className:M.checkboxColumn},o.createElement(y.Checkbox,{checked:t>0,onChange:this.toggleCheckAllUserIds})),o.createElement(N.HeaderCell,{className:M.avatarColumn},o.createElement(N.SortableField,{isDescending:!r.isDescending,sortBy:this.props.onSort,field:R.OrgRosterSortType.NAME,hasArrow:r.type===R.OrgRosterSortType.NAME},"NAME")),o.createElement(N.HeaderCell,{className:M.lastEditColumn},o.createElement(N.SortableField,{isDescending:!r.isDescending,sortBy:this.props.onSort,field:R.OrgRosterSortType.LAST_EDIT,hasArrow:r.type===R.OrgRosterSortType.LAST_EDIT},"LAST EDIT")),o.createElement(N.HeaderCell,{className:M.lastSeenColumn},o.createElement(N.SortableField,{isDescending:!r.isDescending,sortBy:this.props.onSort,field:R.OrgRosterSortType.LAST_SEEN,hasArrow:r.type===R.OrgRosterSortType.LAST_SEEN},"LAST ACTIVE")),s&&o.createElement(N.HeaderCell,{className:M.upgradedDateColumn},o.createElement(N.SortableField,{isDescending:!r.isDescending,sortBy:this.props.onSort,field:R.OrgRosterSortType.UPGRADED_DATE,hasArrow:r.type===R.OrgRosterSortType.UPGRADED_DATE},"DATE UPGRADED")),o.createElement(N.HeaderCell,{className:M.accountTypeColumnHeader},o.createElement("div",{className:M.filterContainer,ref:this.accountDropdownRef,onClick:this.toggleAccountDropdown},o.createElement("span",null,"ROLE"),o.createElement("span",{className:this.props.orgRoster.filters.accountTypeFilter?M.indicator:M.inactiveIndicator}))),o.createElement(N.HeaderCell,{className:M.iconColumn},o.createElement("div",{className:M.menuContainer,ref:this.permissionDropdownRef,onClick:this.togglePermissionDropdown},o.createElement(C.Svg,{svg:q,className:M.menuIcon}))),s&&o.createElement(N.HeaderCell,{className:M.iconColumn},o.createElement(te,{className:M.menuSelector,dispatch:this.props.dispatch,showingDropdown:this.isDropdownShown(this.HEADER_MENU_DROPDOWN),hasPermission:!1,hideChevron:!0,type:this.HEADER_MENU_DROPDOWN},o.createElement(C.Svg,{svg:W,className:M.menuIcon})))),o.createElement(H.FilterDropdown,{dropdownShown:this.props.dropdownShown,dropdownType:this.ACCOUNT_TYPE_FILTER_DROPDOWN,values:[_.OrgUserAccountType.FULL,_.OrgUserAccountType.STARTER,_.OrgUserAccountType.RESTRICTED],selectedValue:this.props.orgRoster.filters.accountTypeFilter,getDisplayText:this.getAccountFilterText,updateFilter:this.updateAccountFilter}),o.createElement(H.FilterDropdown,{dropdownShown:this.props.dropdownShown,dropdownType:this.PERMISSION_FILTER_DROPDOWN,values:m.isEmpty(this.props.idpUserById.idpUsers)?[_.OrgPermissionType.ADMIN,_.OrgPermissionType.MEMBER,_.OrgPermissionType.GUEST]:[_.OrgPermissionType.ADMIN,_.OrgPermissionType.MEMBER,_.OrgPermissionType.GUEST,R.OrgPermissionExtendedFilters.IDP],selectedValue:this.props.orgRoster.filters.permissionFilter,getDisplayText:this.getPermissionFilterText,updateFilter:this.updatePermissionFilter}),this.isDropdownShown(this.HEADER_MENU_DROPDOWN)&&this.renderHeaderMenuDropdown(),o.createElement("div",{className:s?"":M.nonadminTable},this.renderBody())),t>0&&s&&o.createElement("div",{className:M.batchRow},o.createElement("div",{className:M.checkboxColumn}),o.createElement("p",{className:M.batchUsersColumn},t," ",t>1?"users":"user"," selected"),o.createElement("div",{className:M.lastEditColumn}),o.createElement("div",{className:M.lastSeenColumn}),o.createElement("div",{className:M.upgradedDateColumn}),o.createElement(te,{className:M.accountTypeColumn,dispatch:this.props.dispatch,showingDropdown:this.isDropdownShown(this.BATCH_ACCOUNT_TYPE_DROPDOWN),hasPermission:!1,type:this.BATCH_ACCOUNT_TYPE_DROPDOWN},this.getSelectedPropertyName(this.getAccountTypeName),this.isDropdownShown(this.BATCH_ACCOUNT_TYPE_DROPDOWN)&&this.renderBatchAccountTypeDropdown()),o.createElement("div",{className:M.iconColumn})," ",o.createElement("div",{className:M.iconColumn},o.createElement(te,{className:M.menuSelector,dispatch:this.props.dispatch,showingDropdown:this.isDropdownShown(this.BATCH_MENU_DROPDOWN),hasPermission:!1,hideChevron:!0,type:this.BATCH_MENU_DROPDOWN},o.createElement(C.Svg,{svg:W,className:M.menuIcon}),this.isDropdownShown(this.BATCH_MENU_DROPDOWN)&&this.renderBatchMenuDropdown()))),this.state.modal&&this.state.modal.type===$.DELETE&&o.createElement(v.ConfirmDeleteModal,{org:this.props.org,orgUsers:this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],orgUserIds:this.state.modal.orgUserIds,onHide:this.hideModal,dispatch:this.props.dispatch}),this.state.modal&&this.state.modal.type===$.ACCOUNT&&o.createElement(v.ConfirmAccountChangeModal,{org:this.props.org,orgUsers:this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],orgUserIds:this.state.modal.orgUserIds,onHide:this.hideModal,accountType:this.state.modal.accountType,dispatch:this.props.dispatch}),this.state.modal&&this.state.modal.type===$.FREEZE&&o.createElement(S.FreezeInvoiceConfirmModal,{lockedQuantityEditors:this.state.modal.lockedQuantityEditors,quantityNewEditors:this.state.modal.quantityNewEditors,lockedAmountToPay:this.state.modal.lockedAmountToPay,dueAt:this.state.modal.dueAt,quarter:this.state.modal.quarter,currency:this.state.modal.currency,org:this.props.org,onHide:this.hideModal,dispatch:this.props.dispatch}))}}s.MembersTable=Z,Z.displayName="MembersTable";class Q extends o.PureComponent{constructor(){super(...arguments),this.onBillingClick=(()=>{this.props.dispatch(c.orgs.selectAdminView({view:"billing"}))})}mostRecentInvoice(e){return this.props.orgBillingData.invoices.find(s=>s.status===e)}bannerMode(){const e=this.mostRecentInvoice("upcoming"),s=this.mostRecentInvoice("locked");return e&&P(e.due_at)>=P()&&P(e.due_at)<P().add(14,"days")?j.FREEZE:s&&P(s.due_at)>=P()?j.LOCKED:null}computedInvoiceToBill(e){let s=x.getBillableSeatCount(this.props.orgUsers),t=Math.max(s-e.quantity_paid,0);return 1!==e.quarter&&(s=t),{quantityEditorsToBill:s,quantityNewEditors:t,amountToPay:s*(5-e.quarter)*(e.plan_amount/4)}}render(){const e=this.bannerMode();if(null===e)return null;const s=e===j.FREEZE,t=s?this.mostRecentInvoice("upcoming"):this.mostRecentInvoice("locked");if(!t)return null;if(s){const e=this.computedInvoiceToBill(t),s=e.quantityEditorsToBill,r=e.amountToPay;return o.createElement("div",{className:M.freezeBanner},o.createElement("div",{className:M.bannerHeader},"Finalize your ",1===t.quarter?"annual subscription":"invoice"," by ",P(t.due_at).format("MMMM Do")),o.createElement("div",{className:M.bannerBody},o.createElement("div",{className:M.bannerDescription},o.createElement("span",null,1===t.quarter?"You'll be charged for all Editors, including new Editors who joined this quarter.":"You will be charged for all new Editors."," Manage your invoice by changing Editors who no longer need edit access to Viewers.")),o.createElement("div",null,o.createElement("strong",null,s),o.createElement("div",null,u.getPluralOrSingular(s,1===t.quarter?"Editor":"New Editor"))),o.createElement("div",null,o.createElement("strong",null,B.formatMoney(r,!0,void 0,t.currency)),o.createElement("div",null,"Projected Total")),o.createElement(y.ButtonSecondary,{onClick:()=>this.props.confirmFreezeInvoice(s,e.quantityNewEditors,r,t.due_at,t.quarter,t.currency)},"Confirm ",s," ",u.getPluralOrSingular(s,"Editor"))))}return o.createElement("div",{className:M.freezeBanner},o.createElement("div",{className:M.bannerHeader},`Your upcoming ${P(t.due_at).format("MMM Do")} invoice has been finalized`),o.createElement("div",{className:M.bannerDescription},o.createElement("span",null,"Find information about your upcoming invoice in the ",o.createElement(y.LinkInline,{onClick:this.onBillingClick},"Billing tab"),".")))}}function K(e){return!!e.orgUser}function J(e){const{itemProps:s}=e;return K(s)?o.createElement(ee,Object.assign({},s)):o.createElement(se,Object.assign({},s))}s.FreezeBanner=Q;const X=e=>K(e)?e.orgUser.id:e.idpUser.email;class ee extends o.PureComponent{constructor(e){super(e),this.isDropdownShown=(e=>{var s;return(null===(s=this.props.dropdownShown)||void 0===s?void 0:s.type)===e}),this.isAccountTypeDropdownShown=(()=>this.isDropdownShown(this.ACCOUNT_TYPE_DROPDOWN)),this.isMenuTypeDropdownShown=(()=>this.isDropdownShown(this.MENU_DROPDOWN)),this.confirmRemoval=(()=>{this.props.onDelete([this.props.orgUser.id])}),this.viewActivityLogs=(()=>{const e={initialEmail:this.props.orgUser.user.email},s=`/files/${this.props.org.id}/activity-logs?${f.encode(e)}`;g.redirect(s,"_blank")}),this.onFullClick=(()=>{this.props.orgUser.account_type!==_.OrgUserAccountType.FULL&&this.props.onChangeAccountType([this.props.orgUser.id],_.OrgUserAccountType.FULL)}),this.onRestrictedClick=(()=>{this.props.orgUser.account_type!==_.OrgUserAccountType.RESTRICTED&&this.props.onChangeAccountType([this.props.orgUser.id],_.OrgUserAccountType.RESTRICTED)}),this.onAdminGrant=(()=>{this.props.onChangeMemberPermission({id:this.props.orgUser.id,org_id:this.props.org.id,permission:_.OrgPermissionType.ADMIN})}),this.onAdminRevoke=(()=>{this.props.onChangeMemberPermission({id:this.props.orgUser.id,org_id:this.props.org.id,permission:_.OrgPermissionType.MEMBER})}),this.toggleMemberSelect=(()=>{this.props.onToggleMemberSelect(this.props.orgUser.id)}),this.renderAccountTypeCell=(e=>o.createElement("div",{className:M.roleCell},_.OrgUserAccountTypeDisplayText[e]," ",e===_.OrgUserAccountType.RESTRICTED&&o.createElement(w.Badge,{color:w.BadgeColor.GRAY,text:"Restricted"}),e===_.OrgUserAccountType.FULL&&this.props.isNewEditor&&o.createElement(w.Badge,{color:w.BadgeColor.BOLD_GREEN,text:"New"}))),this.renderAccountTypeDropdown=(()=>{const e=this.props.orgUser,s=e.account_type===_.OrgUserAccountType.STARTER,t=e.account_type===_.OrgUserAccountType.RESTRICTED,r=e.account_type===_.OrgUserAccountType.FULL;return o.createElement(T.dropdown.Dropdown,{className:M.wideDropdown,style:this.props.dropdownShown.data.position},o.createElement(T.dropdown.CheckableOption,{checked:r,onClick:this.onFullClick},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.FULL]),s&&o.createElement(T.dropdown.CheckableOption,{checked:!0,onClick:void 0},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.STARTER]),o.createElement(T.dropdown.CheckableOption,{checked:t,onClick:this.onRestrictedClick},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.RESTRICTED]))}),this.renderMenuDropdown=(()=>{const e=this.props.orgUser.permission===_.OrgPermissionType.ADMIN,s=this.props.orgUser.permission===_.OrgPermissionType.MEMBER;return o.createElement(T.dropdown.Dropdown,{className:M.dropdown,style:this.props.dropdownShown.data.position},o.createElement(T.dropdown.Option,{onClick:this.viewActivityLogs},"View Activity Logs"),!!this.props.orgUser.user.email&&o.createElement(T.dropdown.Option,{onClick:()=>{this.props.onCopyEmailsToClipboard([this.props.orgUser.user.email])}},"Copy Email"),!this.props.isMe&&o.createElement(o.Fragment,null,e&&o.createElement(T.dropdown.Option,{onClick:this.onAdminRevoke},"Revoke Admin Access"),s&&o.createElement(T.dropdown.Option,{onClick:this.onAdminGrant},"Grant Admin Access"),o.createElement(T.dropdown.Separator,null),o.createElement(T.dropdown.Option,{onClick:this.confirmRemoval},"Remove")))}),this.ACCOUNT_TYPE_DROPDOWN=`ACCOUNT_TYPE_DROPDOWN-${this.props.orgUser.user.email}`,this.MENU_DROPDOWN=`MENU_DROPDOWN-${this.props.orgUser.user.email}`}render(){const e=this.props.isMe;let s=void 0;return this.props.orgUser.permission===_.OrgPermissionType.ADMIN?s={color:w.BadgeColor.PURPLE,text:"Admin"}:this.props.orgUser.permission===_.OrgPermissionType.GUEST&&(s={color:w.BadgeColor.LIGHT_BLUE,text:"Guest"}),o.createElement(N.TableRow,{className:M.tableRow,_top:this.props._top},this.props.canAdminOrg&&o.createElement("div",{className:M.checkboxColumn},o.createElement(y.Checkbox,{className:this.props.isSelected?void 0:M.unselectedCheckbox,checked:this.props.isSelected,onChange:this.toggleMemberSelect})),o.createElement("div",{className:M.avatarColumn},o.createElement(A.CopyableAvatar,{className:M.avatarWithHandle,dispatch:this.props.dispatch,entity:this.props.orgUser.user,showIsMe:e,showTooltip:!0,size:24,badge:s})),o.createElement("div",{className:M.lastEditColumn},this.props.orgUser.last_edit?o.createElement(b.FromNow,{capitalize:!0,date:this.props.orgUser.last_edit}):"–"),o.createElement("div",{className:M.lastSeenColumn},this.props.orgUser.last_seen?o.createElement(b.FromNow,{capitalize:!0,date:this.props.orgUser.last_seen}):"–"),this.props.canAdminOrg&&o.createElement("div",{className:M.upgradedDateColumn}," ",this.props.orgUser.account_type===_.OrgUserAccountType.FULL&&this.props.orgUser.account_type_changed_at?P(this.props.orgUser.account_type_changed_at).format("MMM DD, YYYY"):"–"),this.props.canAdminOrg&&o.createElement(te,{className:M.accountTypeColumn,dispatch:this.props.dispatch,isDisabled:this.props.areDropdownsdisabled,type:this.ACCOUNT_TYPE_DROPDOWN,showingDropdown:this.isAccountTypeDropdownShown(),hasPermission:!this.props.canAdminOrg},this.renderAccountTypeCell(this.props.orgUser.account_type),this.isAccountTypeDropdownShown()&&this.renderAccountTypeDropdown()),!this.props.canAdminOrg&&o.createElement("div",{className:M.accountTypeColumn},this.renderAccountTypeCell(this.props.orgUser.account_type)),o.createElement("div",{className:M.iconColumn})," ",this.props.canAdminOrg&&!this.props.areDropdownsdisabled&&o.createElement("div",{className:M.iconColumn},o.createElement(te,{className:M.menuSelector,dispatch:this.props.dispatch,showingDropdown:this.isMenuTypeDropdownShown(),hasPermission:!1,type:this.MENU_DROPDOWN,hideChevron:!0},o.createElement(C.Svg,{svg:W,className:M.menuIcon}),this.isMenuTypeDropdownShown()&&this.renderMenuDropdown())),this.props.areDropdownsdisabled&&o.createElement("div",{className:M.iconColumn}))}}s.OrgUserRow=ee,ee.displayName="OrgUserRow";class se extends o.PureComponent{constructor(e){super(e),this.isMenuTypeDropdownShown=(()=>{var e;return(null===(e=this.props.dropdownShown)||void 0===e?void 0:e.type)===this.MENU_DROPDOWN}),this.onDelete=(()=>{this.props.dispatch(p.orgInvites.deleteRequest({idpUser:this.props.idpUser}))}),this.onResendEmailClick=(()=>{this.props.dispatch(p.orgInvites.postRequest({emails:[this.props.idpUser.email],accountType:this.props.idpUser.account_type,isResentInvite:!0}))}),this.renderMenuDropdown=(()=>o.createElement(T.dropdown.Dropdown,{className:M.dropdown,style:this.props.dropdownShown.data.position},o.createElement(T.dropdown.Option,{onClick:this.onResendEmailClick},"Resend Invite"),o.createElement(T.dropdown.Option,{onClick:()=>{this.props.onCopyEmailsToClipboard([this.props.idpUser.email])}},"Copy Email"),o.createElement(T.dropdown.Separator,null),o.createElement(T.dropdown.Option,{onClick:this.onDelete},"Remove"))),this.MENU_DROPDOWN=`MENU_DROPDOWN-${this.props.idpUser.email}`}render(){const e=this.props.canAdminOrg&&!this.props.areDropdownsDisabled&&this.props.idpUser.isOrgInvite;return o.createElement(N.TableRow,{className:M.tableRow,_top:this.props._top},o.createElement("div",{className:M.checkboxColumn}),o.createElement("div",{className:M.avatarColumn},o.createElement(A.CopyableAvatar,{className:M.avatarWithHandle,dispatch:this.props.dispatch,entity:this.props.idpUser,hideHandle:this.props.idpUser.isOrgInvite,showTooltip:!0,size:24})),o.createElement("div",{className:M.lastEditColumn},"–"),o.createElement("div",{className:M.lastSeenColumn},"–"),o.createElement("div",{className:M.upgradedDateColumn},"–"),o.createElement("div",{className:M.accountTypeColumn},"–"),o.createElement("div",{className:M.iconColumn}),e&&o.createElement("div",{className:M.iconColumn},o.createElement(te,{className:M.menuSelector,dispatch:this.props.dispatch,showingDropdown:this.isMenuTypeDropdownShown(),hasPermission:!1,type:this.MENU_DROPDOWN,hideChevron:!0},o.createElement(C.Svg,{svg:W,className:M.menuIcon}),this.isMenuTypeDropdownShown()&&this.renderMenuDropdown())),!e&&o.createElement("div",{className:M.iconColumn}))}}s.IdpUserRow=se,se.displayName="IdpUserRow";class te extends o.PureComponent{constructor(){super(...arguments),this.toggleDropdown=(()=>{if(this.props.showingDropdown)this.props.dispatch(i.fileBrowser.hideDropdown());else{const e=r.findDOMNode(this).getBoundingClientRect();this.props.dispatch(i.fileBrowser.showDropdown({type:this.props.type,data:{position:{top:e.top,bottom:"auto",left:Math.min(e.left,window.innerWidth-180),right:"auto"}}}))}})}render(){return o.createElement("div",{className:`${this.props.isDisabled?M.dropdownColumnDisabled:M.dropdownColumn} ${this.props.className?this.props.className:""}`,onClick:this.props.hasPermission?void 0:this.toggleDropdown},this.props.children,!this.props.hasPermission&&!this.props.isDisabled&&!this.props.hideChevron&&o.createElement(I.Chevron,{dispatch:this.props.dispatch,showingDropdown:this.props.showingDropdown,dropdownKey:this.props.type,toggleOnClick:!0,positionDynamically:!0}))}}s.DropdownSelector=te;class oe extends o.PureComponent{constructor(){super(...arguments),this.clearSearch=(()=>{this.props.onChange("")})}render(){return o.createElement(D.SearchBar,{focusOnMount:!0,extraSpacing:!0,query:this.props.query,clearSearch:this.clearSearch,onChange:this.props.onChange,useDeprecatedStyles:!0})}}oe.displayName="RosterSearch"}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(179        ),r=t(2,1    ),a=t(536                                 ),o=t(189                             ),n=t(113                                     ),p=t(1418                                 ),l=t(420              ),m=t(126                    ),d=t(755                      ),c=t(115                     ),h=t(1581                                                  ),g=t(271                                        ),u=t(758                                              ),_=t(422                                        ),E=t(475                            ),v=t(125                        ),b=t(1560                                                                            ),w=t(1407                                                               ),f=t(336                             ),S=t(1585                                    ),y=t(1589                         ),C=t(232                       ),T=t(147                                            ),O=t(819                                              ),D=t(1593                                                      ),N=t(737                                                       ),I=t(303                             ),B=t(457                        ),M=t(1594                       ),R=t(146                                    ),k=t(802                 ),A=t(114                              ),L=t(1595                                  ),U=t(1596                                  ),P=t(1598                            ),F=t(1600                                    ),q=t(201                                                   ),V=t(137                                    ),G=t(830                                                  ),H=t(577                                             ),j=t(621                                  ),x=t(620                                ),z=t(1608                                            ),J=t(1088                    ),W=t(85                   ),Q=l.pxToInt(_.orgModal);class X extends d.Tab{}const Y=t(1394                             );class $ extends r.PureComponent{constructor(){super(...arguments),this.onClose=(()=>{this.props.dispatch(n.fileBrowser.hideModal()),"org"!==this.props.selectedView.view?this.props.dispatch(o.orgs.resetDashboard()):this.props.dispatch(n.fileBrowser.selectView({view:"org",orgId:this.props.currentOrgId,orgViewTab:B.OrgViewTab.HOME}))}),this.onTabClick=(e=>{this.props.dispatch(o.orgs.selectAdminView({view:e}))}),this.renderAdminRefreshTabs=(()=>{const e=this.props.orgDashboard.selectedAdminView;return r.createElement("div",{className:M.tabs},[{name:"Libraries",view:"library"}].map(s=>r.createElement(X,{key:s.view,onClick:()=>this.onTabClick(s.view),tab:s.view,selectedTab:e},s.name)))}),this.renderTabs=(()=>{const e=this.props.orgDashboard.selectedAdminView,s=[{name:"General",view:"general"},{name:"Teams",view:"teams"},{name:"Members",view:"members"},{name:"Libraries",view:"library"},{name:"Shared Fonts",view:"fonts"}];return v.canAdminOrg(this.props.currentOrgId,v.getPermissionsState(this.props))&&this.props.orgBillingData.data&&this.props.orgBillingData.data.invoices.length>0&&s.push({name:"Billing",view:"billing"}),s.push({name:"Plugins",view:"plugins"}),r.createElement("div",{className:M.tabs},s.map(s=>r.createElement(X,{key:s.view,onClick:()=>this.onTabClick(s.view),tab:s.view,selectedTab:e},s.name)))}),this.renderView=(()=>{const e=v.getPermissionsState(this.props),s=this.props.orgById[this.props.currentOrgId];switch(this.props.orgDashboard.selectedAdminView){case"general":return r.createElement(K,{orgDomains:this.props.orgDomains,org:s,orgRoster:this.props.orgRoster,orgTeams:this.props.orgTeams,idpUserById:this.props.idpUserById,orgUsersByOrgId:this.props.orgUsersByOrgId,permissionsState:e,dispatch:this.props.dispatch,avatarEditorState:this.props.avatarEditorState});case"members":return r.createElement(ee,{dispatch:this.props.dispatch,orgBillingData:this.props.orgBillingData.data,orgRoster:this.props.orgRoster,orgUsersByOrgId:this.props.orgUsersByOrgId,permissionsState:e,org:s,idpUserById:this.props.idpUserById,dropdownShown:this.props.dropdownShown,orgUsers:this.props.orgUsersByOrgId.orgUsers[s.id]});case"teams":return r.createElement(Z,{org:s,teamRoleRequests:this.props.teamRoleRequests,joiningTeamIds:this.props.orgDashboard.joiningTeamIds,orgTeams:this.props.orgTeams,onClose:this.onClose,teamSortConfig:this.props.orgDashboard.teamSortConfig,permissionsState:e,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch});case"library":return r.createElement(b.LibrarySubscriptions,Object.assign({showingDefaultSubscriptionsForUser:!1,showingDefaultSubscriptionsForTeamId:null,showingDefaultSubscriptionsForOrg:s,width:Q,inOrgDashboardModal:!0},this.props));case"fonts":return r.createElement(w.SharedFonts,Object.assign({},this.props,{orgId:this.props.currentOrgId,width:Q,resourceType:"org",useDeprecatedViewComponent:!0,permissionsState:v.getPermissionsState(this.props)}));case"billing":return this.props.orgBillingData.data?r.createElement(D.BillingTable,{orgBillingData:this.props.orgBillingData.data,org:s,dispatch:this.props.dispatch}):null;case"plugins":return r.createElement(y.PluginsWhitelistSection,{org:s,publishedPlugins:this.props.publishedPlugins,canAdminOrg:v.canAdminOrg(this.props.currentOrgId,this.props)});default:i.assertNever(this.props.orgDashboard.selectedAdminView)}})}componentDidMount(){this.props.currentOrgId&&this.props.dispatch(N.initializeWhitelistedPlugins())}render(){let e=W.getFeatureFlags().admin_refresh?this.renderAdminRefreshTabs():this.renderTabs();return r.createElement(V.TrackingContext,{name:G.TrackedContext.ORG_SETTINGS,properties:{section:this.props.orgDashboard.selectedAdminView,orgId:this.props.currentOrgId}},r.createElement(u.HeaderModal,{headerSize:"large",disableClickOutsideToHide:!0,title:e,onClose:this.onClose,maxWidth:Q},r.createElement("div",{className:M.container},this.renderView())))}}s.OrgDashboardModal=$,$.displayName="OrgDashboardModal";class K extends r.Component{constructor(e){super(e),this.changeProfileHandle=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:H.CHANGE_PROFILE_HANDLE,data:{orgId:this.props.org.id,profileId:this.props.org.community_profile_id,profileHandle:this.props.org.community_profile_handle}}))}),this.deleteProfile=(()=>{this.props.dispatch(A.showModal({type:L.DELETE_PROFILE_MODAL,data:{dispatch:this.props.dispatch,profileId:this.props.org.community_profile_id}}))}),this.onActivityLogClick=(()=>{this.props.dispatch(n.fileBrowser.hideModal()),this.props.dispatch(n.fileBrowser.selectView({view:"activityLogs"}))}),this.onConfigureSSOClick=(()=>{this.props.dispatch(n.fileBrowser.hideModal()),this.props.dispatch(n.fileBrowser.selectView({view:"configureSSO"}))}),this.onInviteMembers=(()=>{this.props.dispatch(A.showModal({type:P.ORG_INVITE_MODAL}))}),this.onDeleteOrgClick=(()=>{this.props.dispatch(A.showModal({type:U.DELETE_ORG_MODAL}))}),this.onDeleteOrgUserClick=(()=>{this.props.dispatch(A.showModal({type:U.DELETE_ORG_USER_MODAL}))}),this.onAdditionalOptionsClick=(()=>{this.setState({showDeletingData:!0})}),this.renderDeletionSection=(()=>this.state.showDeletingData?r.createElement("div",{className:M.rightColumnSection},r.createElement("h1",{className:M.header},"Deleting Data"),r.createElement(T.Link,{className:M.destructionButton,onClick:this.onDeleteOrgClick},"Request to delete Figma organization"),r.createElement(T.Link,{className:M.destructionButton,onClick:this.onDeleteOrgUserClick},"Request to delete user data")):r.createElement("div",{className:M.additionalOptions,onClick:this.onAdditionalOptionsClick},"Show additional options")),this.state={showDeletingData:!1}}renderMembershipSettings(){const e=this.props.orgDomains.domains.map(e=>e.domain),s=this.props.org.domain_capture?"is a Member. Everyone else is a Guest.":"will join as a Member if invited to a file, project, or team. Everyone else is a Guest.";return r.createElement("div",null,e&&r.createElement("p",null,"Anyone with a verified ",r.createElement(O.JoinNaturally,{includeOxfordDelimiter:!0,finalDelimiter:r.createElement("span",null," or ")},e.map(e=>r.createElement("span",{key:e,className:M.bold},e)))," email ",s))}renderSSOSettings(){const e=this.props.org,s=k.getSignInMethod(e);return r.createElement("div",null,r.createElement("div",null,r.createElement("div",{className:M.description},"Members ",s===m.SignInMethod.ANY?"may":""," log in with ",K.SIGN_IN_METHOD_DESCRIPTIONS[s],"."),v.canAdminOrg(this.props.org.id,this.props.permissionsState)&&r.createElement(T.Link,{className:M.configureSSOButton,onClick:this.onConfigureSSOClick},"Update Log in Settings")),v.canAdminOrg(this.props.org.id,this.props.permissionsState)&&this.props.org.invite_whitelist_enforced&&r.createElement(T.Link,{className:M.inviteMembersButton,onClick:this.onInviteMembers},"Invite members"))}render(){const e=this.props.org,s=v.canAdminOrg(this.props.org.id,this.props.permissionsState),t=this.props.org.community_profile_handle,i=this.props.orgDomains.domains.map(({domain:e})=>e).join(", ");return r.createElement("div",{className:M.generalContainer},r.createElement("div",{className:M.leftColumn},r.createElement("div",{className:M.avatarContainer},s?r.createElement(S.EditableAvatar,{entity:e,entityType:f.EntityType.ORG,avatarEditorState:this.props.avatarEditorState,dispatch:this.props.dispatch,size:120}):r.createElement(E.Avatar,{entity:e,size:120})),r.createElement("div",{className:M.info},r.createElement("h1",null,"Organization name"),r.createElement("p",{className:M.header},e.name)),I.communityHubBrowsingEnabled()&&v.canAdminOrg(this.props.org.id,this.props.permissionsState)&&r.createElement("div",{className:t?M.info:M.profileHandleInfo},r.createElement("h1",null,"Organization Profile Handle"),t&&r.createElement("p",{className:M.header},`@${t}`),r.createElement("div",null,r.createElement(T.Link,{className:M.profileHandleButton,onClick:this.changeProfileHandle},t?"Change profile handle":"Set profile handle")),t&&r.createElement("div",null,r.createElement(T.Link,{className:M.profileHandleButton,onClick:this.deleteProfile},"Delete profile"))),r.createElement("div",{className:M.info},r.createElement("h1",null,"Total domains ",r.createElement(R.Svg,{className:M.infoIcon,"data-tooltip-type":C.TooltipType.TEXT,"data-tooltip":i,"data-tooltip-show-below":!0,svg:Y})),this.props.orgDomains.isFetching?r.createElement(g.LoadingSpinner,{className:M.spinner}):r.createElement("p",{className:M.header},this.props.orgDomains.domains.length)),r.createElement("div",{className:M.info},r.createElement("h1",null,"Total members"),this.props.orgUsersByOrgId.isFetching||this.props.idpUserById.isFetching?r.createElement(g.LoadingSpinner,{className:M.spinner}):r.createElement("p",{className:M.header},Object.keys(this.props.orgUsersByOrgId.orgUsers[e.id]).length)),r.createElement("div",{className:M.info},r.createElement("h1",null,"Total teams"),this.props.orgTeams.isFetching?r.createElement(g.LoadingSpinner,{className:M.spinner}):r.createElement("p",{className:M.header},this.props.orgTeams.teams.length))),r.createElement("div",{className:M.rightColumn},r.createElement("div",{className:M.rightColumnContent},!this.props.org.domain_capture&&v.canAdminOrg(this.props.org.id,this.props.permissionsState)&&r.createElement("div",{className:M.rightColumnSection},r.createElement("h1",{className:M.header},"Invite Members to ",this.props.org.name),r.createElement("div",{className:M.description},"An email invitation will be sent to invited members."),r.createElement("div",{className:M.inviteButton},r.createElement(T.ButtonSecondary,{onClick:this.onInviteMembers},"Invite Members"))),r.createElement("div",{className:M.rightColumnSection},r.createElement("h1",{className:M.header},"Membership"),this.props.orgDomains.isFetching?r.createElement(g.LoadingSpinner,{className:M.spinner}):this.renderMembershipSettings()),v.canAdminOrg(this.props.org.id,this.props.permissionsState)&&r.createElement("div",{className:M.rightColumnSection},r.createElement("h1",{className:M.header},"Activity Logs"),r.createElement("div",{className:M.description},"View a list of events related to the organization."),r.createElement(T.Link,{className:M.logsButton,onClick:this.onActivityLogClick},"View Activity Logs")),r.createElement("div",{className:M.rightColumnSection},r.createElement("h1",{className:M.header},"Log in and Provisioning"),this.props.orgDomains.isFetching?r.createElement(g.LoadingSpinner,{className:M.spinner}):this.renderSSOSettings()),v.canAdminOrg(this.props.org.id,this.props.permissionsState)&&this.renderDeletionSection())))}}s.GeneralSection=K,K.displayName="GeneralSection",K.SIGN_IN_METHOD_DESCRIPTIONS={google:"Google",saml:"SAML SSO",any:"any available method, including email and password"};class Z extends r.PureComponent{constructor(){super(...arguments),this.onSort=(e=>{const s=!1===this.props.teamSortConfig.isDescending;this.props.dispatch(o.orgs.sortTeamsBy({property:e,isDescending:s}))}),this.onCreateTeam=(()=>{this.props.onClose(),this.props.dispatch(n.fileBrowser.selectView({view:"teamCreation"}))}),this.onJoin=(e=>{this.props.dispatch(a.orgTeam.join({teamId:e}))}),this.onLeave=(e=>{this.props.dispatch(A.showModal({type:q.TEAM_CONFIRM_LEAVE_MODAL,data:{teamId:e.id}}))}),this.onJoinRequest=(e=>{this.props.dispatch(n.fileBrowser.showModal({type:F.REQUEST_ACCESS_MODAL,data:{team:e}}))}),this.onBypassRequest=(e=>{this.props.dispatch(p.requestToJoinTeam({teamId:e.id,level:c.PermissionLevel.EDITOR,message:""}))}),this.onWithdrawRequestForTeam=(e=>{const s=this.props.teamRoleRequests[e.id].id;this.props.dispatch(p.withdrawTeamRoleRequest({requestId:s}))})}render(){return this.props.orgTeams.isFetching||0!==this.props.orgTeams.teams.length?r.createElement(h.DiscoverableTeamsTable,{currentOrgId:this.props.org.id,joiningTeamIds:this.props.joiningTeamIds,teamRoleRequests:this.props.teamRoleRequests,orgTeams:this.props.orgTeams,onJoin:this.onJoin,onJoinRequest:this.onJoinRequest,onWithdrawRequestForTeam:this.onWithdrawRequestForTeam,onLeave:this.onLeave,onCreateTeam:this.onCreateTeam,teamSortConfig:this.props.teamSortConfig,onSort:this.onSort,onBypassRequest:this.onBypassRequest,permissionsState:this.props.permissionsState}):r.createElement("div",{className:M.centered},r.createElement("div",null,"This organization doesn't have any discoverable teams. ",r.createElement("br",null),r.createElement("a",{className:M.link,onClick:this.onCreateTeam},"Create New Team")))}}Z.displayName="TeamsSection";class ee extends r.PureComponent{constructor(){super(...arguments),this.onSort=(e=>{let{isDescending:s,type:t}=this.props.orgRoster.sort;t===e&&(s=!s),this.props.dispatch(j.orgRoster.setSortConfig({type:e,isDescending:s}))}),this.onFilter=(e=>{this.props.dispatch(j.orgRoster.setFilters(e))}),this.onSearch=(e=>{this.props.dispatch(j.orgRoster.setQuery({query:e}))}),this.onChangeMemberPermission=(e=>{this.props.dispatch(x.orgUser.put({orgUser:e,userInitiated:!0}))})}render(){const e=this.props.orgUsersByOrgId.orgUsers[this.props.org.id];return r.createElement(z.MembersTable,{idpUserById:this.props.idpUserById,newEditorIds:J.getNewEditorIds(e,this.props.orgBillingData),orgBillingData:this.props.orgBillingData,orgRoster:this.props.orgRoster,onSort:this.onSort,onFilter:this.onFilter,org:this.props.org,orgUsers:this.props.orgUsers,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChangeMemberPermission:this.onChangeMemberPermission,onSearch:this.onSearch,permissionsState:this.props.permissionsState})}}s.MembersSection=ee,ee.displayName="MembersSection"}),
(function(n,o,s){n.exports={admin:"suspension_modal--admin--1qNJf",contactText:"suspension_modal--contactText--7PHIb",memberText:"suspension_modal--memberText--7wsOs",bold:"suspension_modal--bold--1NDf-",loadingContainer:"suspension_modal--loadingContainer--1w3Rb"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(2,1    ),a=t(1088                     ),n=t(125                        ),i=t(475                            ),o=t(154                                 ),l=t(271                                        ),c=t(1610                    );class p extends r.PureComponent{constructor(){super(...arguments),this._render=(()=>{if(n.canAdminOrg(this.props.currentOrgId,this.props.permissionsState))return r.createElement("div",{className:c.contactText},r.createElement("p",null,"Please reach out to ",r.createElement("b",{className:c.bold},"support@figma.com")," to resolve the issue."),r.createElement("p",null,"Thank you!"));if(!n.canMemberOrg(this.props.currentOrgId,this.props.permissionsState))return r.createElement("div",{className:c.contactText},r.createElement("p",null,"Please reach out to your Organization admin(s) to resolve this billing issue."),r.createElement("p",null,"Thank you!"));const e=a.getContactableAdmins(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.currentOrgId]);return r.createElement("div",null,r.createElement("div",{className:c.memberText},"Please reach out to your Organization admin(s) to resolve this billing issue. Thank you!"),this.props.permissionsState.orgUsersByOrgId.isFetching?r.createElement("div",{className:c.loadingContainer},r.createElement(l.LoadingSpinner,null)):r.createElement("div",{className:c.admin},e.map(e=>r.createElement(i.AvatarWithHandle,{key:e.id,size:24,entity:e.user,includeUserEmailAddress:!0}))))})}render(){return r.createElement(o.Modal,{disableClickOutsideToHide:!0,dispatch:this.props.dispatch,size:434,title:"You no longer have access to your Organization"},this._render())}}s.OrgSuspensionModal=p,p.displayName="OrgSuspensionModal"}),
(function(i,s,n){i.exports={missingIcon__OLD:"missing_image--missingIcon__OLD--1CS50",missingIcon:"missing_image--missingIcon--3J7to",missingCover__OLD:"missing_image--missingCover__OLD--2CMdK",missingCover:"missing_image--missingCover--Pf3we"}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=s(2,1    ),l=s(234                                                    ),g=s(1612                 ),c=s(1404                                   ),t=s(1403                                 );a.MissingIcon=(()=>i.createElement("div",{className:g.missingIcon},i.createElement(l.SvgWithFallback,{svg:t,fallbackSvg:c}))),a.MissingCover=(()=>i.createElement("div",{className:g.missingCover},i.createElement(l.SvgWithFallback,{svg:t,fallbackSvg:c})))}),
(function(o,e,t){o.exports={_userSelectNone:"publish_modal--_userSelectNone--n-nxC",scrollContainer:"publish_modal--scrollContainer--30zHD",modalHeader:"publish_modal--modalHeader--13VVb",container__OLD:"publish_modal--container__OLD--12aQr",container:"publish_modal--container--21eGz",previewContainer:"publish_modal--previewContainer--3mIpT",tileContainer:"publish_modal--tileContainer--3Y_yg",previewLabel:"publish_modal--previewLabel--2MBPV publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",leftColumn:"publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",rightColumn:"publish_modal--rightColumn--3bMp_",rightColumnContentRow:"publish_modal--rightColumnContentRow--1MMgM",authorLeftColumn:"publish_modal--authorLeftColumn--3Rxvj publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",authorRightColumn:"publish_modal--authorRightColumn--1IeAl publish_modal--rightColumn--3bMp_",autocompleteInput:"publish_modal--autocompleteInput--3QBIy",coverFieldset:"publish_modal--coverFieldset--2ovwV publish_modal--rightColumn--3bMp_",coverImageContainer:"publish_modal--coverImageContainer--2nVpz",folderIcon:"publish_modal--folderIcon--2UYP7",textInput:"publish_modal--textInput--2Y-43 publish_modal--rightColumn--3bMp_ modal--textInput--q3dSz",lightText:"publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0",helperText:"publish_modal--helperText--sBDHO publish_modal--rightColumn--3bMp_ publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0 publish_modal--_userSelectNone--n-nxC",_row__OLD:"publish_modal--_row__OLD--20Zac",_row:"publish_modal--_row--Q0doT",contentRow__OLD:"publish_modal--contentRow__OLD--3IVFm publish_modal--_row__OLD--20Zac",contentRow:"publish_modal--contentRow--2hq49 publish_modal--_row--Q0doT",button:"publish_modal--button--2OpWW",tagsLeftColumn:"publish_modal--tagsLeftColumn--3J5ZW publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",tagsCount:"publish_modal--tagsCount--iD5hk",tagsCountError:"publish_modal--tagsCountError--1QMvQ publish_modal--tagsCount--iD5hk",infoBannerContainer:"publish_modal--infoBannerContainer--3MWlZ",infoBannerIcon:"publish_modal--infoBannerIcon--1EIdW",infoBannerHelperText:"publish_modal--infoBannerHelperText--2pMnQ publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",warningBannerContainer:"publish_modal--warningBannerContainer--2WK4a publish_modal--infoBannerContainer--3MWlZ",warningBannerIcon:"publish_modal--warningBannerIcon--20-ai publish_modal--infoBannerIcon--1EIdW",doneButton:"publish_modal--doneButton--LnCNU text--fontPos14--3UJ36 text--_fontBase--YWDo0",warningColumn:"publish_modal--warningColumn--2-PPR",errorsContainer:"publish_modal--errorsContainer--3kTft",errorsRow:"publish_modal--errorsRow--24MuZ publish_modal--contentRow--2hq49 publish_modal--_row--Q0doT",errorsLeftColumn:"publish_modal--errorsLeftColumn--2elAZ text--fontPos11--RSei3 text--_fontBase--YWDo0",errorsRightColumn:"publish_modal--errorsRightColumn--1RNIO",error:"publish_modal--error--3Bhfn",warningIcon:"publish_modal--warningIcon--YEIpM",footer:"publish_modal--footer--2W7Vp",footerText:"publish_modal--footerText--Y_o7h publish_modal--_userSelectNone--n-nxC",boldText:"publish_modal--boldText--1D_1S",errorText:"publish_modal--errorText--39m8Q",buttonGroup:"publish_modal--buttonGroup--Qp4j_",publishContainer:"publish_modal--publishContainer--1xeni",publishHeader:"publish_modal--publishHeader--JiYi1 text--fontPos14--3UJ36 text--_fontBase--YWDo0",spinner__OLD:"publish_modal--spinner__OLD--1j9kT",spinner:"publish_modal--spinner--1qd30",successContentScrollContainer:"publish_modal--successContentScrollContainer--14XWM publish_modal--scrollContainer--30zHD",successContentHeaderImage:"publish_modal--successContentHeaderImage--5Uj5u",successContentBody:"publish_modal--successContentBody--2yOby",successContentTitle:"publish_modal--successContentTitle--1FGCo publish_modal--_userSelectNone--n-nxC text--fontPos24Whyte--HMiux text--_fontBaseWhyte--e6y38",successContentDescription:"publish_modal--successContentDescription--sgbkE publish_modal--_userSelectNone--n-nxC text--fontPos14--3UJ36 text--_fontBase--YWDo0",successContentInputLabel:"publish_modal--successContentInputLabel--32wTG publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",successContentInputLabelError:"publish_modal--successContentInputLabelError--2w5YR publish_modal--successContentInputLabel--32wTG publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",successContentInput:"publish_modal--successContentInput--2M9gS",successContentParagraph:"publish_modal--successContentParagraph--2W-0t",borderTextInput:"publish_modal--borderTextInput--3wala",profileInfo:"publish_modal--profileInfo--1Rgvr text--fontPos11--RSei3 text--_fontBase--YWDo0",email:"publish_modal--email--3n6Od text--fontPos11--RSei3 text--_fontBase--YWDo0"}}),
(function(l,t,c){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0l8 14.5H0L8 0zm0 4.382c.497 0 .9.403.9.9V8.37c0 .497-.403.9-.9.9-.497 0-.9-.403-.9-.9V5.282c0-.497.403-.9.9-.9zm1.1 7.375c0-.608-.492-1.1-1.1-1.1-.607 0-1.1.492-1.1 1.1v.068c0 .608.493 1.1 1.1 1.1.608 0 1.1-.492 1.1-1.1v-.068z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2,1    ),s=a(43,1         ),i=a(575                                                    ),o=a(147                                            ),r=a(794                                                                        ),l=a(146                        ),c=a(411                                                  ),d=a(533                                 ),m=a(577                                                                ),u=a(385                                              ),h=a(1614                 );t.ButtonPrimaryFooter=(e=>n.createElement(o.ButtonPrimary,Object.assign({className:h.button},e))),t.ButtonSecondaryFooter=(e=>n.createElement(o.ButtonSecondary,Object.assign({className:h.button},e))),t.DoneButtonSecondaryFooter=(e=>n.createElement(o.ButtonSecondary,Object.assign({className:h.doneButton},e)));const p=a(1615                          );var g;t.FooterErrors=class extends n.Component{render(){const{errors:e,order:t}=this.props,a=t.filter(t=>!!e[t]);return 0==a.length?null:n.createElement("div",{className:h.errorsContainer},n.createElement(r.Row,{className:h.errorsRow},n.createElement("div",{className:h.errorsLeftColumn},n.createElement(l.Svg,{className:h.warningIcon,svg:p})),n.createElement("div",{className:h.errorsRightColumn},a.map((t,a)=>n.createElement("div",{key:`${t}`,className:h.error},e[t])))))}},t.extraPaddingForErrors=function(e){return 0===e?0:16+24*e},t.PublishSuccessContentView=(e=>n.createElement("div",null,n.createElement(c.ScrollContainer,{className:e.className||h.successContentScrollContainer},n.createElement("div",{className:h.successContentHeaderImage,style:{backgroundImage:`url(${e.headerImgSrc})`}}),n.createElement("div",{className:h.successContentBody},n.createElement("div",{className:h.successContentTitle},e.title),n.createElement("div",{className:h.successContentDescription},e.body))),n.createElement("div",{className:h.footer},n.createElement("div",{className:h.footerText},e.footerLeftSide),n.createElement("div",{className:h.buttonGroup},e.secondaryButton&&n.createElement(t.ButtonSecondaryFooter,{onClick:e.secondaryButton.onClick},e.secondaryButton.text),n.createElement(t.ButtonPrimaryFooter,{onClick:e.primaryButton.onClick,disabled:e.primaryButton.disabled},e.primaryButton.text))))),function(e){e.ConnectedPublishSuccessHandleContent=s.connect(e=>({loadingState:e.loadingState,currentUser:e.user}))(class extends n.PureComponent{constructor(e){super(e),this.saveHandle=(e=>{this.setState({handle:e})}),this.onHandleValidationSuccess=(()=>{this.setState({disableSubmit:!1})}),this.onHandleValidationFailure=(()=>{this.setState({disableSubmit:!0})}),this.loadingKey=(()=>i.updateCommunityProfile.loadingKeyForPayload({profileHandle:this.state.handle,onSuccess:m.popChangeProfileHandle,profileId:this.props.publisher.id,shouldSetPublic:!1})),this.onSaveHandleClick=(()=>{this.setState({didTriggerChangeProfileHandle:!0}),this.props.dispatch(i.updateCommunityProfile({profileHandle:this.state.handle,onSuccess:m.popChangeProfileHandle,profileId:this.props.publisher.id,shouldSetPublic:!1}))}),this._publishingEntity=(()=>this.props.publisher.team_id?`team ${this.props.publisher.name}'s`:this.props.publisher.org_id?`organization ${this.props.publisher.name}'s`:"personal"),this.state={handle:"",disableSubmit:!0,didTriggerChangeProfileHandle:!1}}UNSAFE_componentWillUpdate(e){this.state.didTriggerChangeProfileHandle&&(d.didSucceed(e.loadingState,this.loadingKey())?e.onHandleSet():d.didFail(e.loadingState,this.loadingKey())&&this.setState({didTriggerChangeProfileHandle:!1}))}getFooterText(){return n.createElement(n.Fragment,null,"Review our ",n.createElement(o.Link,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines",target:"_blank"},"Community Guidelines"))}render(){return n.createElement(t.PublishSuccessContentView,{className:this.props.className||"",title:`Set a unique handle for your ${this._publishingEntity()} new Community profile`,body:n.createElement(n.Fragment,null,n.createElement(u.ProfileHandleWithValidation,{saveHandle:this.saveHandle,onProfileHandleValidationSuccess:this.onHandleValidationSuccess,onProfileHandleValidationFailure:this.onHandleValidationFailure})),secondaryButton:this.props.secondaryButton,primaryButton:{onClick:this.onSaveHandleClick,text:"Save",disabled:this.state.disableSubmit||d.isLoading(this.props.loadingState,this.loadingKey())},footerLeftSide:this.getFooterText(),headerImgSrc:this.props.publisher.user_id?"https://static.figma.com/uploads/f3705186bf63741df6d081496237a0b525f9a6bb":"https://static.figma.com/uploads/cf3fa3f5b25723109a5864e9e87f5790c0c1e213"})}})}(g||(g={})),t.PublishSuccessHandleContent=g.ConnectedPublishSuccessHandleContent}),
(function(e,n,t){e.exports={singleOption:"publishing_metadata_author_select--singleOption--3yeZW publish_modal--_userSelectNone--n-nxC"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=s(2,1    ),i=s(43,1         ),o=s(304                          ),n=s(359                                             ),a=s(125                        ),p=s(959                                                        ),l=s(1617                                     );class h extends p.Select{}e.AuthorSelect=h;class u extends p.Option{}e.AuthorOption=u;const d="PUBLISHING_METADATA_AUTHOR_SELECT";class m extends r.PureComponent{constructor(){super(...arguments),this.formatter={format:t=>{var e;if("org_id"in t)return this.props.orgEntity?this.props.orgEntity.name:"Org";if("team_id"in t){const e=this.props.teams[t.team_id];return e?e.name:"Team"}return(null===(e=this.props.user)||void 0===e?void 0:e.handle)||"User"},isEqual:n.arePublishingMetadataAuthorsEqual},this.cmpOptions=((t,e)=>{const s=t=>"user_id"in t?3:"org_id"in t?2:1,r=s(t),i=s(e);return r===i?this.formatter.format(t)<this.formatter.format(e)?-1:1:i-r})}getOptions(){var t;const e=Object.assign(Object.assign({},this.props.permissionsState),{currentOrgId:(null===(t=this.props.orgEntity)||void 0===t?void 0:t.id)||null});return"hub_file"===this.props.resourceType?n.getAllowedAuthorsForHubFile(this.props.editingFile,e):n.getAllowedAuthorsForPlugin(this.props.roleToPublishAs,e)}render(){const t=this.getOptions();return 0===t.length?null:1===t.length?r.createElement("div",{className:l.singleOption},this.formatter.format(t[0])):r.createElement(h,{formatter:this.formatter,property:this.props.property,id:d,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown},t.sort(this.cmpOptions).map(t=>r.createElement(u,{value:t,key:"org_id"in t?`org-${t.org_id}`:"team_id"in t?`team-${t.team_id}`:"user"})))}}e.PublishingMetadataAuthorSelectInner=m,m.displayName="PublishingMetadataAuthorSelect";e.PublishingMetadataAuthorSelect=i.connect(t=>({teams:t.teams,dropdownShown:t.dropdownShown,user:t.user,orgEntity:o.getOrgPermissionEntity(t),fileByKey:t.fileByKey,permissionsState:a.getPermissionsState(t)}))(m)}),
(function(l,o,n){l.exports={semiBoldText:"plugin_publish_modal--semiBoldText--154ax",scrollContainer:"plugin_publish_modal--scrollContainer--20v5Y publish_modal--scrollContainer--30zHD",_textAreaInput:"plugin_publish_modal--_textAreaInput--2oPMd raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",releaseInput:"plugin_publish_modal--releaseInput--3wdEZ plugin_publish_modal--_textAreaInput--2oPMd raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",descriptionInput:"plugin_publish_modal--descriptionInput--1P6pc plugin_publish_modal--_textAreaInput--2oPMd raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",autocompleteInput:"plugin_publish_modal--autocompleteInput--xt6mU publish_modal--autocompleteInput--3QBIy",tagsLeftColumn:"plugin_publish_modal--tagsLeftColumn--3c79C publish_modal--tagsLeftColumn--3J5ZW publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",tagsCount:"plugin_publish_modal--tagsCount--3McKh publish_modal--tagsCount--iD5hk",tagsCountError:"plugin_publish_modal--tagsCountError--1MwqA publish_modal--tagsCountError--1QMvQ publish_modal--tagsCount--iD5hk",tagsInput:"plugin_publish_modal--tagsInput--2Za8l plugin_publish_modal--_textAreaInput--2oPMd raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",iconFieldset:"plugin_publish_modal--iconFieldset--TeWz5 publish_modal--rightColumn--3bMp_",folderIcon:"plugin_publish_modal--folderIcon--35q6x",selectedIcon:"plugin_publish_modal--selectedIcon--1lmGQ plugin--pluginIconBase--1x_Mv",roleHelperTextIcon:"plugin_publish_modal--roleHelperTextIcon--2H_TR",roleHelperText:"plugin_publish_modal--roleHelperText--1kUkb",radioGroup:"plugin_publish_modal--radioGroup--3rvJ3",radioRow:"plugin_publish_modal--radioRow--vYdVZ ellipsis--ellipsis--1RWY6",ellipsis:"plugin_publish_modal--ellipsis--2cv4V ellipsis--ellipsis--1RWY6",radioLabel:"plugin_publish_modal--radioLabel--1Cvru",radioIcon:"plugin_publish_modal--radioIcon--1yETP",idRow:"plugin_publish_modal--idRow--22cFi publish_modal--_userSelectNone--n-nxC publish_modal--rightColumnContentRow--1MMgM",idRowWarning:"plugin_publish_modal--idRowWarning--1wnzF",idRowWarningIcon:"plugin_publish_modal--idRowWarningIcon--1YpUC",idPendingRow:"plugin_publish_modal--idPendingRow--3R-Ax publish_modal--rightColumnContentRow--1MMgM",pendingReview:"plugin_publish_modal--pendingReview--orocJ publish_modal--rightColumn--3bMp_",publishing:"plugin_publish_modal--publishing--1mui0",spinner:"plugin_publish_modal--spinner--2iaSK publish_modal--spinner--1qd30",previewScrollContainer:"plugin_publish_modal--previewScrollContainer--9gL7F plugin_publish_modal--scrollContainer--20v5Y publish_modal--scrollContainer--30zHD",previewContainer:"plugin_publish_modal--previewContainer--3lKee publish_modal--previewContainer--3mIpT",tileContainer:"plugin_publish_modal--tileContainer--3OjX0 publish_modal--tileContainer--3Y_yg",previewLabel:"plugin_publish_modal--previewLabel--1T70o publish_modal--previewLabel--2MBPV publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",previewMetadataContainer:"plugin_publish_modal--previewMetadataContainer--EIdvs plugin_detail_view--metadataContainerMobile--3z56g detail_view--metadataContainerMobile--1U0ev",publishBody:"plugin_publish_modal--publishBody--OHFR2 text--fontPos14--3UJ36 text--_fontBase--YWDo0",lastPublished:"plugin_publish_modal--lastPublished--2VTft",warningBannerContainer:"plugin_publish_modal--warningBannerContainer--2_qf5 publish_modal--warningBannerContainer--2WK4a publish_modal--infoBannerContainer--3MWlZ",warningBannerIcon:"plugin_publish_modal--warningBannerIcon--k_MhW publish_modal--warningBannerIcon--20-ai publish_modal--infoBannerIcon--1EIdW",modalHeader:"plugin_publish_modal--modalHeader--23ONt publish_modal--modalHeader--13VVb",container:"plugin_publish_modal--container--17okx publish_modal--container--21eGz",leftColumn:"plugin_publish_modal--leftColumn--MPdc3 publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",rightColumn:"plugin_publish_modal--rightColumn--2dMCp publish_modal--rightColumn--3bMp_",rightColumnContentRow:"plugin_publish_modal--rightColumnContentRow--17yUu publish_modal--rightColumnContentRow--1MMgM",authorLeftColumn:"plugin_publish_modal--authorLeftColumn--HNkqX publish_modal--authorLeftColumn--3Rxvj publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",authorRightColumn:"plugin_publish_modal--authorRightColumn--3JvWW publish_modal--authorRightColumn--1IeAl publish_modal--rightColumn--3bMp_",coverFieldset:"plugin_publish_modal--coverFieldset--3CjDB publish_modal--coverFieldset--2ovwV publish_modal--rightColumn--3bMp_",coverImageContainer:"plugin_publish_modal--coverImageContainer--2gV_m publish_modal--coverImageContainer--2nVpz",textInput:"plugin_publish_modal--textInput--2I9_A publish_modal--textInput--2Y-43 publish_modal--rightColumn--3bMp_ modal--textInput--q3dSz",lightText:"plugin_publish_modal--lightText--22Jop publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0",helperText:"plugin_publish_modal--helperText--3udIL publish_modal--helperText--sBDHO publish_modal--rightColumn--3bMp_ publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0 publish_modal--_userSelectNone--n-nxC",row:"plugin_publish_modal--row--D-ThJ undefined",contentRow:"plugin_publish_modal--contentRow--2Chfq publish_modal--contentRow--2hq49 publish_modal--_row--Q0doT",button:"plugin_publish_modal--button--2Fw3e publish_modal--button--2OpWW",infoBannerContainer:"plugin_publish_modal--infoBannerContainer--3Pnmc publish_modal--infoBannerContainer--3MWlZ",infoBannerIcon:"plugin_publish_modal--infoBannerIcon--3jm36 publish_modal--infoBannerIcon--1EIdW",infoBannerHelperText:"plugin_publish_modal--infoBannerHelperText--3_l7d publish_modal--infoBannerHelperText--2pMnQ publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",doneButton:"plugin_publish_modal--doneButton--17Sz7 publish_modal--doneButton--LnCNU text--fontPos14--3UJ36 text--_fontBase--YWDo0",warningColumn:"plugin_publish_modal--warningColumn--1XXnI publish_modal--warningColumn--2-PPR",errorsContainer:"plugin_publish_modal--errorsContainer--2MhaE publish_modal--errorsContainer--3kTft",errorsRow:"plugin_publish_modal--errorsRow--3U0sJ publish_modal--errorsRow--24MuZ publish_modal--contentRow--2hq49 publish_modal--_row--Q0doT",errorsLeftColumn:"plugin_publish_modal--errorsLeftColumn--1P9y3 publish_modal--errorsLeftColumn--2elAZ text--fontPos11--RSei3 text--_fontBase--YWDo0",errorsRightColumn:"plugin_publish_modal--errorsRightColumn--EjIjg publish_modal--errorsRightColumn--1RNIO",error:"plugin_publish_modal--error--1mwin publish_modal--error--3Bhfn",warningIcon:"plugin_publish_modal--warningIcon--2NuRs publish_modal--warningIcon--YEIpM",footer:"plugin_publish_modal--footer--Mk1M7 publish_modal--footer--2W7Vp",buttonGroup:"plugin_publish_modal--buttonGroup--2VAwN publish_modal--buttonGroup--Qp4j_",publishContainer:"plugin_publish_modal--publishContainer--1HQad publish_modal--publishContainer--1xeni",publishHeader:"plugin_publish_modal--publishHeader--jFc6r publish_modal--publishHeader--JiYi1 text--fontPos14--3UJ36 text--_fontBase--YWDo0",successContentParagraph:"plugin_publish_modal--successContentParagraph--nyK6O publish_modal--successContentParagraph--2W-0t",blueLink:"plugin_publish_modal--blueLink--I392k blue_link--blueLink--22X56",authorName:"plugin_publish_modal--authorName--3vHNb ellipsis--ellipsis--1RWY6"}}),
(function(l,c,t){l.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.252 8.632C9.37 10.053 7.796 11 6 11c-2.761 0-5-2.239-5-5 0-.433.055-.853.158-1.253l1.043.391c.173.065.273.244.236.425l-.25 1.256c-.036.177.06.355.228.422L3.81 7.8c.118.047.204.15.229.274l.313 1.565c.014.072.05.139.102.191l.287.287c.186.185.499.129.607-.11l1.465-3.222c.097-.213-.023-.462-.25-.52l-.963-.24c-.066-.016-.126-.05-.174-.098l-.942-.942c-.07-.07-.166-.11-.265-.11h-.738c-.142 0-.272-.08-.336-.207l-.46-.92c-.1-.2-.004-.441.204-.52l2.286-.857c.183-.068.283-.266.229-.454l-.242-.847C5.435 1.024 5.715 1 6 1c.147 0 .292.006.435.019l-.027.218c-.02.157.062.31.204.382l.35.175c.103.051.223.053.327.004l.675-.315c.03-.013.056-.03.079-.048.732.328 1.371.827 1.866 1.447l-1.142-.229c-.091-.018-.186-.001-.266.047l-1.453.871c-.168.101-.23.314-.143.49l.866 1.732c.064.127.194.207.336.207h1.11c.168 0 .315.111.36.272l.675 2.36zM12 6c0 3.314-2.686 6-6 6-3.314 0-6-2.686-6-6 0-3.314 2.686-6 6-6 3.314 0 6 2.686 6 6z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(o,t,i){o.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm0-1c-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7 0 3.866-3.134 7-7 7zM8 4H7v5h5V8H8V4z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,e,o){l.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M4 16C4 9.373 9.373 4 16 4c6.627 0 12 5.373 12 12 0 6.627-5.373 12-12 12-6.627 0-12-5.373-12-12z" fill-rule="nonzero" fill-opacity="1" fill="#ffeb00" stroke="none"/><path d="M16.9 12.282c0-.497-.403-.9-.9-.9-.497 0-.9.403-.9.9V16c0 .497.403.9.9.9.497 0 .9-.403.9-.9v-3.718zM17.1 20c0-.608-.492-1.1-1.1-1.1-.607 0-1.1.492-1.1 1.1v.069c0 .607.493 1.1 1.1 1.1.608 0 1.1-.493 1.1-1.1V20z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2,1    ),a=i(43,1         ),l=i(441                                                     ),n=i(113                                     ),o=i(279                             ),r=i(211              ),c=i(86            ),u=i(214         ),p=i(125                        ),m=i(304                          ),h=i(359                                             ),g=i(466                            ),d=i(420              ),b=i(147                                            ),E=i(146                        ),v=i(1420                                      ),P=i(411                                                  ),C=i(794                                                                        ),f=i(773                                                    ),I=i(159                                 ),w=i(358                       ),N=i(300                              ),_=i(440                          ),S=i(271                                        ),y=i(303                             ),R=i(1613                           ),F=i(1616                           ),O=i(1618                                               ),T=i(588                        ),A=i(102              ),k=i(262                                     ),L=i(808                                                                 ),j=i(572                ),x=i(1619                        ),D=i(422                                        ),H=i(583                            ),M=i(1620                                ),B=i(1621                                    ),U=i(585                                  ),G=i(1621                                    ),V="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEyOCIgaGVpZ2h0PSIxMjgiIGZpbGw9IiNGMEYwRjAiLz48L3N2Zz4K",W=d.pxToInt(D.communityHubPublishModalWidth),Z=760,Y=i(1622                                                  ),z=i(1615                          ),$=s.createElement(E.Svg,{className:x.idRowWarningIcon,svg:z});t.iconForRole={[w.RoleToPublishAs.PUBLIC]:i(1620                                ),[w.RoleToPublishAs.ORG]:i(585                                  )};const q=["twoFactorAuthDisabledError","emailNotVerifiedError","accountDetailsChangedError","usesProposedApi","name","iconImageError","coverImageError","description","tags","supportContact","id","author","other"];class J extends s.Component{constructor(e){super(e),this.close=(()=>{const e=this.props.publishingState.status;e.code!==N.HubPublishingStatusCode.SUCCESS&&e.code!==N.HubPublishingStatusCode.FAILURE||this.props.dispatch(l.clearPluginPublishing({id:this.props.localPlugin.localFileId})),this.props.dispatch(n.fileBrowser.hideModal())}),this.onInputChanged=(e=>t=>{this.inputDebounce(e,t.currentTarget.value)}),this.inputDebounce=c.debounce((e,t)=>{this.props.dispatch(l.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{[e]:t})}))},200),this.onTagsChanged=(e=>{this.props.dispatch(l.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{tags:e})}))}),this.onPublishingMetadataAuthorChange=(e=>{this.props.dispatch(l.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{author:e})}))}),this.onPublishClick=(()=>{if(this.setState({showingDeferredFieldErrors:!0}),Object.keys(this.getFormErrors(!0)).length>0)return;const{metadata:e}=this.props.publishingState,t=this.props.publishedPlugin.id;this.props.dispatch(l.publishPluginVersion({pluginId:t,localFileId:this.props.localPlugin.localFileId,pluginVersion:{name:e.name,description:e.description,releaseNotes:e.releaseNotes,iconBlob:e.iconBlob,coverBlob:e.coverImageBlob}}));let i=e.tags.tokens.map(e=>e.email);e.tags.inputValue&&(i=i.concat([e.tags.inputValue]));const s=_.getNewRole(this.props.orgEntity,this.state.roleToPublishAs);null!=s&&(this.props.dispatch(l.updatePublishedPluginRole({pluginId:t,role:s})),this.props.dispatch(l.updatePublishedPlugin({pluginId:t,tags:i,supportContact:e.supportContact||"",authorTeamId:"team_id"in e.author?e.author.team_id:"",authorOrgId:"org_id"in e.author?e.author.org_id:""})))}),this.openConsole=(()=>{this.props.localPlugin.error&&Promise.reject(this.props.localPlugin.error),r.desktopApp.openDevTools("bottom")}),this.generatePluginId=(async()=>{const e=await _.newPublishedPlugin();this.props.dispatch(l.mergePublishedAndValidate({publishedPlugins:[e],src:"generatePluginId"})),this.props.dispatch(l.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{pendingPluginId:e.id})}))}),this.onRoleChanged=(e=>{this.setState({roleToPublishAs:e})}),this.iconRef=(e=>{e&&(this.iconFileInput=e)}),this.coverImageRef=(e=>{e&&(this.coverFileInput=e)}),this.iconUploadClick=(()=>{this.iconFileInput.click()}),this.coverUploadClick=(()=>{this.coverFileInput.click()}),this.iconUploadChange=(async()=>{try{if(null===this.iconFileInput.files||0===this.iconFileInput.files.length)throw new Error("file not found");const t=this.iconFileInput.files[0];_.validateIconFile(t);const i=await _.imageWithSrcLoaded(URL.createObjectURL(t));if(128!==i.height||128!==i.width)throw new Error("Icon image dimensions must be 128×128");this.props.dispatch(l.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{iconSrc:i.src,iconBlob:t,iconImageError:null})}))}catch(e){this.props.dispatch(l.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{iconSrc:"",iconBlob:void 0,iconImageError:e.message})}))}}),this.coverUploadChange=(async()=>{try{if(null===this.coverFileInput.files||0===this.coverFileInput.files.length)throw new Error("file not found");const t=this.coverFileInput.files[0];_.validateCoverFile(t);const i=await _.imageWithSrcLoaded(URL.createObjectURL(t));if(i.height!==y.COVER_IMAGE_HEIGHT||i.width!==y.COVER_IMAGE_WIDTH)throw new Error(`Artwork image dimensions must be ${y.COVER_IMAGE_WIDTH}×${y.COVER_IMAGE_HEIGHT}`);this.props.dispatch(l.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{coverImageSrc:i.src,coverImageBlob:t,coverImageError:null})}))}catch(e){this.props.dispatch(l.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{coverImageSrc:"",coverImageBlob:void 0,coverImageError:e.message})}))}}),this.getRoleHelperText=(()=>this.state.roleToPublishAs===w.RoleToPublishAs.ORG&&this.props.orgEntity?s.createElement("div",{className:x.roleHelperText},s.createElement(E.Svg,{svg:U,className:x.roleHelperTextIcon}),s.createElement("div",null,"Private: only people at ",this.props.orgEntity.name," have access")):s.createElement(s.Fragment,null,s.createElement("div",{className:x.roleHelperText},s.createElement(E.Svg,{svg:M,className:x.roleHelperTextIcon}),s.createElement("div",null,"Public: everyone in the world has access")),s.createElement("div",{className:x.infoBannerContainer},s.createElement(E.Svg,{className:x.infoBannerIcon,svg:G}),s.createElement("span",{className:x.infoBannerHelperText},"Plugins published to the public will be reviewed by the Figma team. Once approved, your plugin will be available to all Figma users.")))),this.isFirstTimePublish=(()=>0===Object.keys(this.props.publishedPlugin.versions).length),this.getLastPublishedAtDateString=(()=>{const e=_.getPluginVersion(this.props.publishedPlugin);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(e.created_at))}),this.formatAuthor=(e=>{var t;if("org_id"in e)return this.props.orgEntity?this.props.orgEntity.name:"Org";if("team_id"in e){const t=this.props.teams[e.team_id];return t?t.name:"Team"}return(null===(t=this.props.user)||void 0===t?void 0:t.handle)||"User"}),this.onShareLinkClick=(()=>{A.copyText(g.pluginShareURL(this.props.publishedPlugin.id)).then(()=>{this.props.dispatch(o.visualBellActions.enqueue({message:k.defaultStringsRaw["link-copied"]}))})}),this.getSuccessScreenText=(()=>{let e="",t="";const i=this.props.publishedPlugin,a=_.getPluginVersion(i),l=i.roles,n=g.pluginShareURL(i.id);return!!i.approval_status?(e="Success! Your plugin has been submitted for review.",t=s.createElement(s.Fragment,null,s.createElement("p",{className:x.successContentParagraph},s.createElement("span",{className:x.semiBoldText},a.name)," will now be reviewed by the Figma team. You will receive an email regarding its status in 3-7 business days. Once approved, your plugin will be available to the entire Figma community. ",s.createElement(b.LinkInline,{href:"https://help.figma.com/article/329-plugin-review-guidelines",target:"_blank",rel:"noopener"},"See our guidelines here.")),s.createElement("p",{className:x.successContentParagraph},"Below is your plugin's unique URL. Feel free to share it once your plugin is approved."),s.createElement("div",{className:x.blueLink,onClick:this.onShareLinkClick},n))):(e=l.org?"Success! Your plugin has been published to your Org.":"Success! Your plugin has been published.",t=s.createElement(s.Fragment,null,l.org?s.createElement(s.Fragment,null,s.createElement("p",{className:x.successContentParagraph},s.createElement("span",{className:x.semiBoldText},a.name)," is now available to members of ",l.org.name),s.createElement("p",{className:x.successContentParagraph},"Below is your plugin's unique URL. Feel free to share it with your teammates!")):s.createElement(s.Fragment,null,s.createElement("p",{className:x.successContentParagraph},s.createElement("span",{className:x.semiBoldText},a.name)," is now available to the entire Figma community."),s.createElement("p",{className:x.successContentParagraph},"Below is your plugin's unique URL. Feel free to share it!")),s.createElement("p",{className:x.blueLink,onClick:this.onShareLinkClick},n))),{title:e,description:t}}),this.renderErrorScreen=(()=>s.createElement(P.ScrollContainer,{className:x.scrollContainer,showScrollbar:!0},s.createElement("div",{className:x.publishContainer},s.createElement("div",{className:x.publishHeader},"Error"),"We could not load your development plugin at the moment. Please make sure that the manifest.json file still exists and try again.",s.createElement(F.ButtonSecondaryFooter,{onClick:this.close},"Done")))),this.state={roleToPublishAs:this.getDefaultRole(),showingDeferredFieldErrors:!1}}componentDidUpdate(e){e.localFileId!==this.props.localFileId&&this.setState({roleToPublishAs:this.getDefaultRole()})}getDefaultRole(){var e;return h.getDefaultRoleToPublishAsForPlugin(this.props.publishedPlugin,(null===(e=this.props.orgEntity)||void 0===e?void 0:e.id)||null)}renderIdentifier(){const e=this.props.publishedPlugin.id;if(e)return s.createElement("div",{className:x.idRow},e);if(this.props.localPlugin.error||!this.props.localPlugin.manifest)return s.createElement("div",{className:x.idRow},s.createElement("div",{className:x.idRowWarning},$," Failed to read manifest.json"),s.createElement(b.ButtonSecondary,{onClick:this.openConsole},"Open Console"));const t=this.props.publishingState.metadata.pendingPluginId;if(t)return s.createElement(s.Fragment,null,s.createElement("div",{className:x.idRow},"Please add this to your manifest.json file:"),s.createElement("div",{className:x.idPendingRow},'"id": "',t,'"'));const i=!this.props.localPlugin.manifest.id;return s.createElement("div",{className:x.idRow},s.createElement("div",{className:x.idRowWarning},i&&s.createElement("div",{className:x.idRowWarning},$," Missing ID in manifest.json"),!i&&s.createElement("div",{className:x.idRowWarning},$," Invalid ID in manifest.json")),s.createElement(b.ButtonSecondary,{onClick:this.generatePluginId},"Generate ID..."))}renderRoles(){const{metadata:e}=this.props.publishingState;return this.props.orgEntity?s.createElement(v.RadioGroup,{className:x.radioGroup,value:this.state.roleToPublishAs,onChange:this.onRoleChanged},s.createElement(v.RadioOption,{className:x.radioRow,value:w.RoleToPublishAs.ORG,labelClassName:x.ellipsis},this.props.orgEntity.name),s.createElement(v.RadioOption,{className:x.radioRow,value:w.RoleToPublishAs.PUBLIC,disabled:!this.props.orgEntity.isAdmin||h.isUserAuthor(e.author),labelClassName:x.ellipsis},"Community")):s.createElement("div",{className:x.rightColumnContentRow},"Community")}getFormErrors(e){let t={};const{metadata:i,status:s}=this.props.publishingState;return t=Object.assign(Object.assign({},t),_.validatePermissionPublishErrors(this.props.user,s)),e&&(this.props.publishedPlugin.id||(t.id="Identifier is invalid"),t=Object.assign(Object.assign({},t),_.validatePluginDeferredFieldErrors(i))),this.props.localPlugin.manifest.enableProposedApi&&(t.usesProposedApi="Cannot publish a plugin using enableProposedApi in the manifest"),h.isUserAuthor(i.author)&&this.props.orgEntity&&this.state.roleToPublishAs===w.RoleToPublishAs.PUBLIC&&(t.author="Cannot publish a plugin publicly as a user from within an org"),Object.assign(Object.assign({},t),_.validatePluginPublishForm(i))}renderForm(){var e,t,i;const{metadata:a}=this.props.publishingState,l=this.getFormErrors(this.state.showingDeferredFieldErrors),n=(null===(e=this.props.publishedPlugin)||void 0===e?void 0:e.id)&&Object.keys(this.props.publishedPlugin.versions).length>0&&!h.isAuthorInScope(this.props.publishedPlugin,Object.assign(Object.assign({},this.props.permissionsState),{currentOrgId:(null===(t=this.props.orgEntity)||void 0===t?void 0:t.id)||null})),o=(null===(i=this.props.publishingState.status)||void 0===i?void 0:i.code)===N.HubPublishingStatusCode.UPLOADING,r=this.props.publishedPlugin.current_plugin_version_id?s.createElement(j.AuthorLink,{publisher:this.props.publishedPlugin,className:H.hubFileAuthorName,showAvatar:!0,avatarClassName:H.avatar,avatarSize:24}):s.createElement("div",{className:x.authorName},this.formatAuthor(a.author)),c=s.createElement("div",{className:H.pluginTileViewAuthor},s.createElement("div",{className:H.pluginAuthorContainer},r));return s.createElement(s.Fragment,null,s.createElement(P.ScrollContainer,{className:x.scrollContainer,showScrollbar:!0},s.createElement("div",{className:x.container},s.createElement("div",{className:x.previewContainer},s.createElement("div",{className:x.tileContainer},s.createElement(T.PluginTileView,{name:a.name,isPublic:!0,iconSrc:a.iconSrc||V,showInstallCount:!0,installCount:this.props.publishedPlugin?this.props.publishedPlugin.install_count:0,isInstalled:!1,entity:this.props.user,description:a.description,author:c,likeCount:this.props.publishedPlugin?this.props.publishedPlugin.like_count:0,isLiked:!1})),s.createElement("div",{className:x.previewLabel},"This is a preview of your plugin as it will appear in community feeds and search results.")),s.createElement(C.Row,{className:x.contentRow},s.createElement(C.Label,{className:x.leftColumn},"Icon",s.createElement("span",{className:x.lightText},"128×128")),s.createElement("div",{className:x.iconFieldset,onClick:this.iconUploadClick},s.createElement("input",{type:"file",accept:"image/*",ref:this.iconRef,onChange:this.iconUploadChange,style:{display:"none"}}),a.iconSrc?s.createElement("img",{className:x.selectedIcon,src:a.iconSrc}):s.createElement(R.MissingIcon,null)),s.createElement("div",{className:x.warningColumn},l.iconImageError&&s.createElement(E.Svg,{svg:Y,useOriginalSrcFills:!0}))),s.createElement(C.Row,{className:x.contentRow},s.createElement(C.Label,{className:x.leftColumn},"Name"),s.createElement(b.TextInput,{className:x.textInput,maxLength:100,onChange:this.onInputChanged("name"),value:a.name,spellCheck:!1,autoFocus:!0}),s.createElement("div",{className:x.warningColumn},l.name&&s.createElement(E.Svg,{svg:Y,useOriginalSrcFills:!0}))),s.createElement(C.Row,{className:x.contentRow},s.createElement(C.Label,{className:x.leftColumn},"Description"),s.createElement(I.ExpandingTextarea,{maxLength:1e4,className:x.descriptionInput,onChange:this.onInputChanged("description"),value:a.description,placeholder:"Describe how your plugin works, stating clearly what it helps users do"}),s.createElement("div",{className:x.warningColumn},l.description&&s.createElement(E.Svg,{svg:Y,useOriginalSrcFills:!0}))),s.createElement(C.Row,{className:x.contentRow},s.createElement(C.Label,{className:x.leftColumn},"Cover Art",s.createElement("span",{className:x.lightText},`${y.COVER_IMAGE_WIDTH}×${y.COVER_IMAGE_HEIGHT}`),s.createElement("span",{className:x.lightText},"(safe area 1600×960)")),s.createElement("div",{className:x.coverFieldset,onClick:this.coverUploadClick},s.createElement("input",{type:"file",accept:"image/*",ref:this.coverImageRef,onChange:this.coverUploadChange,style:{display:"none"}}),s.createElement("div",{className:x.coverImageContainer},a.coverImageSrc?s.createElement("img",{src:a.coverImageSrc}):s.createElement(R.MissingCover,null))),s.createElement("div",{className:x.warningColumn},l.coverImageError&&s.createElement(E.Svg,{svg:Y,useOriginalSrcFills:!0}))),s.createElement(C.Row,{className:x.contentRow},s.createElement(C.Label,{className:x.tagsLeftColumn},"Tags"),s.createElement("div",{className:a.tags.tokens.length>m.MAX_TAGS_PER_RESOURCE?x.tagsCountError:x.tagsCount},a.tags.tokens.length),s.createElement("div",{className:x.rightColumn},s.createElement(L.AutocompleteInput,{className:x.autocompleteInput,autocomplete:a.tags,placeholder:`Add up to ${m.MAX_TAGS_PER_RESOURCE} tags, separated by commas or spaces`,onChange:this.onTagsChanged,validateToken:m.validateTagToken,newTokenKeyCodes:m.autoCompleteInputNewTokenKeyCodes})),s.createElement("div",{className:x.warningColumn},l.tags&&s.createElement(E.Svg,{svg:Y,useOriginalSrcFills:!0}))),s.createElement(C.Row,{className:x.contentRow},s.createElement(C.Label,{className:x.leftColumn},"Support contact"),s.createElement(b.TextInput,{maxLength:100,className:x.textInput,onChange:this.onInputChanged("supportContact"),value:a.supportContact,spellCheck:!1,placeholder:"Email or link where users can contact you"}),s.createElement("div",{className:x.warningColumn},l.supportContact&&s.createElement(E.Svg,{svg:Y,useOriginalSrcFills:!0}))),s.createElement(C.Row,{className:x.contentRow},s.createElement(C.Label,{className:x.authorLeftColumn},"Author"),s.createElement("div",{className:x.authorRightColumn},s.createElement("div",{className:x.rightColumnContentRow},s.createElement(O.PublishingMetadataAuthorSelect,{property:a.author,onChange:this.onPublishingMetadataAuthorChange,resourceType:"plugin",roleToPublishAs:this.state.roleToPublishAs})),n&&s.createElement("div",{className:x.warningBannerContainer},s.createElement(E.Svg,{className:x.warningBannerIcon,svg:z}),s.createElement("span",{className:x.infoBannerHelperText},"This plugin was previously published in a different space as a different author. Publishing from the current space will change authorship of this plugin.")))),!this.isFirstTimePublish()&&s.createElement(C.Row,{className:x.contentRow},s.createElement(C.Label,{className:x.leftColumn},"Version notes"),s.createElement(I.ExpandingTextarea,{maxLength:1e4,className:x.releaseInput,onChange:this.onInputChanged("releaseNotes"),value:a.releaseNotes})),s.createElement(C.Row,{className:x.contentRow},s.createElement(C.Label,{className:x.leftColumn},"Plugin ID"),s.createElement("div",{className:x.rightColumn},this.renderIdentifier(),"pending_public"===this.props.publishedPlugin.approval_status&&s.createElement("div",{className:x.pendingReview},s.createElement(E.Svg,{svg:B}),"Pending review")),s.createElement("div",{className:x.warningColumn},l.id&&s.createElement(E.Svg,{svg:Y,useOriginalSrcFills:!0}))),s.createElement(C.Row,{className:x.contentRow},s.createElement(C.Label,{className:x.leftColumn},"Publish to"),s.createElement("div",{className:x.rightColumn},this.renderRoles(),this.getRoleHelperText()))),s.createElement("div",{style:{height:F.extraPaddingForErrors(Object.keys(l).length)}})),s.createElement("div",null,s.createElement(F.FooterErrors,{errors:l,order:q}),s.createElement("div",{className:x.footer},this.isFirstTimePublish()?s.createElement("div",null):s.createElement("div",{className:x.lastPublished},"Last published on ",this.getLastPublishedAtDateString()),s.createElement("div",{className:x.buttonGroup},s.createElement(F.ButtonSecondaryFooter,{onClick:this.close},"Cancel"),s.createElement(F.ButtonPrimaryFooter,{disabled:Object.keys(l).length>0,onClick:o?void 0:this.onPublishClick},o?s.createElement(S.LoadingSpinner,{className:x.spinner}):"Publish")))))}render(){let e=null;const t=this.props.publishingState.status;if(this.props.localPlugin||(e=this.renderErrorScreen()),t.code===N.HubPublishingStatusCode.SUCCESS){const{title:t,description:i}=this.getSuccessScreenText(),{publishedPlugin:a,profile:l}=this.props;e=s.createElement(Q,{publisher:l,localFileId:this.props.localFileId,title:t,description:i,role:a.roles})}else e=this.renderForm();return s.createElement(f.DraggableModal,{headerClassName:x.modalHeader,title:"Publish Plugin",dragHeaderOnly:!0,onClose:this.close,initialPosition:new u.Vector(window.innerWidth/2-W/2,window.innerHeight/2-Z/2),initialWidth:W},e)}}J.displayName="PluginPublishModal";var K;t.PluginPublishModal=a.connect((e,t)=>{var i;const{localFileId:s}=t,a=e.localPlugins[s],l=_.getPublishedPluginForLocal(a,e.publishedPlugins);let n=e.publishingPlugins[s];return(null==n?void 0:n.metadata)||(n={status:m.getPublishingStatus(n),metadata:_.getDefaultPluginVersionMetadata(Object.assign(Object.assign({},p.getPermissionsState(e)),{localPlugins:e.localPlugins,publishedPlugins:e.publishedPlugins,currentOrgId:e.currentOrgId}),s)}),{localPlugin:a,publishedPlugin:l,orgEntity:m.getOrgPermissionEntity(e),publishingState:n,user:e.user,profile:(null==l?void 0:l.publisher.id)===(null===(i=e.communityHub.currentProfile)||void 0===i?void 0:i.id)?e.communityHub.currentProfile:null,dropdownShown:e.dropdownShown,permissionsState:p.getPermissionsState(e),teams:e.teams}})(J),function(e){let t;!function(e){e[e.SET_PROFILE_HANDLE=0]="SET_PROFILE_HANDLE",e[e.INFO=1]="INFO"}(t||(t={}));e.ConnectedPublishModalSucessScreen=a.connect(null)(class extends s.PureComponent{constructor(e){var i;super(e),this.onDismissClick=(()=>{this.props.dispatch(n.fileBrowser.hideModal()),this.props.dispatch(l.clearPluginPublishing({id:this.props.localFileId})),this.props.dispatch(l.clearPluginPublishingMetadata({id:this.props.localFileId}))}),this.onNextClick=(()=>{this.setState({step:t.INFO})});let s=t.SET_PROFILE_HANDLE;null==e.publisher&&(s=t.INFO),(null===(i=e.publisher)||void 0===i?void 0:i.public_at)&&(s=t.INFO),y.communityHubBrowsingEnabled()||(s=t.INFO),this.state={step:s}}render(){return this.state.step===t.SET_PROFILE_HANDLE?s.createElement(F.PublishSuccessHandleContent,{onHandleSet:this.onNextClick,publisher:this.props.publisher}):s.createElement(F.PublishSuccessContentView,{title:this.props.title,body:this.props.description,footerLeftSide:this.props.role.org?null:s.createElement(s.Fragment,null,"Review our ",s.createElement(b.Link,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines",target:"_blank"},"Community Guidelines")),primaryButton:{onClick:this.onDismissClick,text:"Done"},headerImgSrc:"https://static.figma.com/uploads/80553abfd7e216957e8f74c2ce02d5b60c0ad3ff"})}})}(K||(K={}));const Q=K.ConnectedPublishModalSucessScreen}),
(function(l,e,o){l.exports={scrollContainer:"hub_file_publish_modal--scrollContainer--2W6yt publish_modal--scrollContainer--30zHD",editorScrollContainer:"hub_file_publish_modal--editorScrollContainer--2FZOI hub_file_publish_modal--scrollContainer--2W6yt publish_modal--scrollContainer--30zHD",_textAreaInput:"hub_file_publish_modal--_textAreaInput--2fWO5 raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",descriptionInput:"hub_file_publish_modal--descriptionInput--1caXY hub_file_publish_modal--_textAreaInput--2fWO5 raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",autocompleteInput:"hub_file_publish_modal--autocompleteInput--1pu4B publish_modal--autocompleteInput--3QBIy",tagsLeftColumn:"hub_file_publish_modal--tagsLeftColumn--lf_FY publish_modal--tagsLeftColumn--3J5ZW publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",tagsCount:"hub_file_publish_modal--tagsCount--3YE8n publish_modal--tagsCount--iD5hk",tagsCountError:"hub_file_publish_modal--tagsCountError--HXrnS publish_modal--tagsCountError--1QMvQ publish_modal--tagsCount--iD5hk",licenseContainer:"hub_file_publish_modal--licenseContainer--314lK publish_modal--_userSelectNone--n-nxC publish_modal--rightColumn--3bMp_",creativeCommonsLearnMore:"hub_file_publish_modal--creativeCommonsLearnMore--BZ-OK",avatarContainer:"hub_file_publish_modal--avatarContainer--2Js99 publish_modal--rightColumn--3bMp_",avatarName:"hub_file_publish_modal--avatarName--kxbiu",agree:"hub_file_publish_modal--agree--kXB5D",checkbox:"hub_file_publish_modal--checkbox--3bHOe",remixedFromContainer:"hub_file_publish_modal--remixedFromContainer--YmGcH",remixedFromMetadata:"hub_file_publish_modal--remixedFromMetadata--1-pSS publish_modal--_userSelectNone--n-nxC ellipsis--ellipsis--1RWY6",remixedFromThumbnail:"hub_file_publish_modal--remixedFromThumbnail--2jG7J",remixedFromName:"hub_file_publish_modal--remixedFromName--3qSK2 ellipsis--ellipsis--1RWY6",hubFilePublishAsRadioGroup:"hub_file_publish_modal--hubFilePublishAsRadioGroup--3YMDC publish_modal--rightColumnContentRow--1MMgM",hubFilePublishAsRadioOption:"hub_file_publish_modal--hubFilePublishAsRadioOption--k_14b",buttonGroup:"hub_file_publish_modal--buttonGroup--17twt publish_modal--buttonGroup--Qp4j_",container:"hub_file_publish_modal--container--2gjuP publish_modal--container--21eGz",contentRow:"hub_file_publish_modal--contentRow--ZWFRO publish_modal--contentRow--2hq49 publish_modal--_row--Q0doT",coverFieldset:"hub_file_publish_modal--coverFieldset--3Euja publish_modal--coverFieldset--2ovwV publish_modal--rightColumn--3bMp_",footer:"hub_file_publish_modal--footer--27zpc publish_modal--footer--2W7Vp",helperText:"hub_file_publish_modal--helperText--2tvCV publish_modal--helperText--sBDHO publish_modal--rightColumn--3bMp_ publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0 publish_modal--_userSelectNone--n-nxC",infoBannerContainer:"hub_file_publish_modal--infoBannerContainer--26-Pn publish_modal--infoBannerContainer--3MWlZ",infoBannerHelperText:"hub_file_publish_modal--infoBannerHelperText--22RUj publish_modal--infoBannerHelperText--2pMnQ publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",infoBannerIcon:"hub_file_publish_modal--infoBannerIcon--1Rxg_ publish_modal--infoBannerIcon--1EIdW",leftColumn:"hub_file_publish_modal--leftColumn--EzP9A publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",lightText:"hub_file_publish_modal--lightText--3XyFl publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0",modalHeader:"hub_file_publish_modal--modalHeader--ASNSz publish_modal--modalHeader--13VVb",rightColumn:"hub_file_publish_modal--rightColumn--lnPyJ publish_modal--rightColumn--3bMp_",rightColumnContentRow:"hub_file_publish_modal--rightColumnContentRow--1zdYv publish_modal--rightColumnContentRow--1MMgM",authorLeftColumn:"hub_file_publish_modal--authorLeftColumn--2DkiH publish_modal--authorLeftColumn--3Rxvj publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",authorRightColumn:"hub_file_publish_modal--authorRightColumn--F0X-H publish_modal--authorRightColumn--1IeAl publish_modal--rightColumn--3bMp_",textInput:"hub_file_publish_modal--textInput--3n_Qq publish_modal--textInput--2Y-43 publish_modal--rightColumn--3bMp_ modal--textInput--q3dSz",warningColumn:"hub_file_publish_modal--warningColumn--3H5sc publish_modal--warningColumn--2-PPR",previewContainer:"hub_file_publish_modal--previewContainer--2DHwg publish_modal--previewContainer--3mIpT",tileContainer:"hub_file_publish_modal--tileContainer--wPYRd publish_modal--tileContainer--3Y_yg",previewLabel:"hub_file_publish_modal--previewLabel--2ztqI publish_modal--previewLabel--2MBPV publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",spinner:"hub_file_publish_modal--spinner--2VKZE publish_modal--spinner--1qd30",successContentParagraph:"hub_file_publish_modal--successContentParagraph--25dME publish_modal--successContentParagraph--2W-0t",shareLink:"hub_file_publish_modal--shareLink--2k23w detail_view--shareLink--2nteG",shareLinkIcon:"hub_file_publish_modal--shareLinkIcon--p6zqC detail_view--shareLinkIcon--EnAWm",shareLinkText:"hub_file_publish_modal--shareLinkText--3RiTn detail_view--shareLinkText--B_ZVh",authorName:"hub_file_publish_modal--authorName--1RqAE ellipsis--ellipsis--1RWY6"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(2,1    ),s=i(43,1         ),l=i(214         ),n=i(86            ),o=i(261                               ),r=i(118                    ),u=i(420              ),c=i(102              ),m=i(262                                     ),h=i(1337                       ),p=i(113                                     ),d=i(401                                               ),g=i(279                             ),b=i(794                                                                        ),f=i(146                        ),F=i(773                                                    ),E=i(411                                                  ),v=i(159                                 ),_=i(301                        ),C=i(300                              ),P=i(265                                    ),w=i(360                     ),S=i(304                          ),N=i(125                        ),y=i(303                             ),k=i(1420                                      ),M=i(1616                           ),H=i(147                                            ),T=i(1618                                               ),I=i(357                  ),L=i(588                        ),O=i(271                                        ),R=i(959                                                        ),A=i(1624                          ),x=i(422                                        ),D=i(583                            ),V=i(466                            ),B=i(468                                        ),U=i(112          ),K=i(808                                                                 ),j=i(758                                 ),G=i(572                ),W=u.pxToInt(x.communityHubPublishModalWidth),Y=900,z=u.pxToInt(x.toolbarHeight),$=i(182                          ),q=i(1622                                                  ),X=i(821                             ),J=i(850                            ),Q=i(851                           );const Z=["name","description","tags"];class ee extends a.Component{constructor(e){super(e),this.onClose=(()=>{this.props.hideModal()}),this.submit=(()=>{const{metadata:e}=this.props.publishingState;let t=e.tags.tokens.map(e=>e.email);if(e.tags.inputValue&&(t=t.concat([e.tags.inputValue])),this.props.isEditHubFilePageMode&&this.props.hubFile){const i={hubFileId:this.props.hubFile.id,name:e.name,description:e.description,tags:t,viewerMode:e.viewerModeToPublishAs,scalingMode:e.scalingMode},a=w.validateHubFilePublishForm(i);if(Object.keys(a).length>0)return void this.setState({formErrors:a});this.props.updateHubFile(i)}else{const i="org_id"in e.author?e.author.org_id:"",a="team_id"in e.author?e.author.team_id:"",s=this.props.isEditHubFilePageMode?null:w.getThumbnailBufferForHubFile(this.props.firstPageId),l={fileKey:this.props.figFile.key,name:e.name,description:e.description,tags:t,thumbnailBuffer:this.state.thumbnail.buffer,canvasThumbnailBuffer:s,thumbnailIsSet:e.thumbnailIsSet,viewerMode:e.viewerModeToPublishAs,scalingMode:e.scalingMode,authorOrgId:i,authorTeamId:a,fileVersionId:null,validPrototype:this.props.validPrototype},n=w.validateHubFilePublishForm(l);if(Object.keys(n).length>0)return void this.setState({formErrors:n});this.props.createHubFile(l)}}),this.onInputChanged=(e=>t=>{const i=t.currentTarget.value;"description"===e&&this.setState({unDebouncedDescription:i}),this.inputDebounce(e,i)}),this.updatePublishingMetadata=(e=>{this.props.onPublishingMetadataChanged(this.props.figFile.key,Object.assign(Object.assign({},this.props.publishingState.metadata),e))}),this.inputDebounce=n.debounce((e,t)=>{this.updatePublishingMetadata({[e]:t})},200),this.onTagsChanged=(e=>{this.updatePublishingMetadata({tags:e})}),this.onViewerModeToPublishAsChange=(e=>{this.updatePublishingMetadata({viewerModeToPublishAs:e}),e===_.ViewerModeToPublishAs.PROTOTYPE&&null==this.props.scalingMode&&this.updatePublishingMetadata({scalingMode:"min-zoom"})}),this.onPublishingMetadataAuthorChange=(e=>{this.updatePublishingMetadata({author:e})}),this.scalingDropdownFormatter={format:e=>h.scalingStrings[e]},this.onScalingOptionChange=(e=>{this.updatePublishingMetadata({scalingMode:e})}),this.renderScalingDropdown=(()=>{const e=this.props.scalingMode||"scale-down";return a.createElement(R.Select,{id:"hub-file-publish-prototype-viewer-mode",property:e,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChange:this.onScalingOptionChange,formatter:this.scalingDropdownFormatter},a.createElement(R.Option,{value:"scale-down"},this.scalingDropdownFormatter.format("scale-down")),a.createElement(R.Option,{value:"contain"},this.scalingDropdownFormatter.format("contain")),a.createElement(R.Option,{value:"min-zoom"},this.scalingDropdownFormatter.format("min-zoom")))}),this.formatAuthor=(e=>{var t;if("org_id"in e)return this.props.orgEntity?this.props.orgEntity.name:"Org";if("team_id"in e){const t=this.props.teams[e.team_id];return t?t.name:"Team"}return(null===(t=this.props.user)||void 0===t?void 0:t.handle)||"User"});const t={url:this.props.thumbnailUrl||this.props.isEditHubFilePageMode&&this.props.hubFile&&this.props.hubFile.redirect_thumbnail_url||"",buffer:this.props.thumbnailBuffer||null};this.state={unDebouncedDescription:this.props.publishingState.metadata?this.props.publishingState.metadata.description:"",formErrors:{},thumbnail:t}}componentWillUnmount(){!this.props.isEditHubFilePageMode&&this.state.thumbnail.url&&URL.revokeObjectURL(this.state.thumbnail.url),this.props.publishingState.status.code===C.HubPublishingStatusCode.SUCCESS&&this.props.clearPublishingState()}canPublish(){return this.props.canEditFigFile&&(!this.props.orgEntity||this.props.orgEntity.isAdmin||this.props.canAdminTeam)&&(this.props.isEditHubFilePageMode||!!this.state.thumbnail.buffer)}renderForm(){var e;const{metadata:t}=this.props.publishingState,i=this.state.formErrors,s=this.props.hubFile?a.createElement(G.AuthorLink,{publisher:this.props.hubFile,className:D.hubFileAuthorName,showAvatar:!0,avatarClassName:D.avatar,avatarSize:24}):a.createElement("div",{className:A.authorName},this.formatAuthor(t.author)),l=a.createElement("div",{className:D.hubFileTileViewAuthor},a.createElement("div",{className:D.hubFileTileAuthorContainer},s));return a.createElement(a.Fragment,null,a.createElement(E.ScrollContainer,{className:this.props.isEditHubFilePageMode?A.scrollContainer:A.editorScrollContainer,showScrollbar:!0},a.createElement("div",{className:A.container},a.createElement("div",{className:A.previewContainer},a.createElement("div",{className:A.tileContainer},a.createElement(L.HubFileTileView,{backgroundColor:I.fileBackgroundColor(this.props.figFile.client_meta),backgroundImage:`url(${this.state.thumbnail.url})`,name:t.name,showDuplicateCount:!0,duplicateCount:this.props.hubFile?this.props.hubFile.duplicate_count:0,entity:this.props.user,description:t.description,author:l,hasLiked:!1,likeCount:this.props.hubFile?this.props.hubFile.like_count:0,isPrototype:this.props.publishingState.metadata.viewerModeToPublishAs===_.ViewerModeToPublishAs.PROTOTYPE,thumbnailIsSet:!!(this.props.isEditHubFilePageMode?null===(e=this.props.hubFile)||void 0===e?void 0:e.thumbnail_is_set:this.props.figFile.thumbnail_guid)})),a.createElement("div",{className:A.previewLabel},"Thumbnail Size: 1920x960 (1600x960 safe area) ",a.createElement(H.LinkInline,{href:"https://help.figma.com/hc/en-us/articles/360038511413-Set-a-Custom-Thumbnail",target:"_blank"},"Learn more"))),a.createElement(b.Row,{className:A.contentRow},a.createElement(b.Label,{className:A.leftColumn},"Name"),a.createElement(H.TextInput,{maxLength:100,className:A.textInput,onChange:this.onInputChanged("name"),value:t.name,spellCheck:!1,autoFocus:!0}),a.createElement("div",{className:A.warningColumn},i.name&&a.createElement(f.Svg,{svg:q,useOriginalSrcFills:!0}))),a.createElement(b.Row,{className:A.contentRow},a.createElement(b.Label,{className:A.leftColumn},"Description"),a.createElement(v.ExpandingTextarea,{maxLength:1e4,className:A.descriptionInput,onChange:this.onInputChanged("description"),value:this.state.unDebouncedDescription,placeholder:"Describe your work",minHeight:96}),a.createElement("div",{className:A.warningColumn},i.description&&a.createElement(f.Svg,{svg:q,useOriginalSrcFills:!0}))),a.createElement(b.Row,{className:A.contentRow},a.createElement(b.Label,{className:A.tagsLeftColumn},"Tags"),a.createElement("div",{className:t.tags.tokens.length>S.MAX_TAGS_PER_RESOURCE?A.tagsCountError:A.tagsCount},t.tags.tokens.length),a.createElement("div",{className:A.rightColumn},a.createElement(K.AutocompleteInput,{className:A.autocompleteInput,autocomplete:t.tags,placeholder:`Add up to ${S.MAX_TAGS_PER_RESOURCE} tags, separated by commas or spaces`,onChange:this.onTagsChanged,validateToken:S.validateTagToken,newTokenKeyCodes:S.autoCompleteInputNewTokenKeyCodes})),a.createElement("div",{className:A.warningColumn},i.tags&&a.createElement(f.Svg,{svg:q,useOriginalSrcFills:!0}))),a.createElement(b.Row,{className:A.contentRow},a.createElement(b.Label,{className:A.leftColumn},"Preview as a"),a.createElement("div",{className:A.rightColumn},a.createElement(k.RadioGroup,{value:t.viewerModeToPublishAs,onChange:this.onViewerModeToPublishAsChange,className:A.hubFilePublishAsRadioGroup},a.createElement(k.RadioOption,{className:A.hubFilePublishAsRadioOption,value:_.ViewerModeToPublishAs.CANVAS},"File"),a.createElement(k.RadioOption,{className:A.hubFilePublishAsRadioOption,value:_.ViewerModeToPublishAs.PROTOTYPE,disabled:!this.props.validPrototype},"Prototype"),this.props.validPrototype&&this.renderScalingDropdown()))),a.createElement(b.Row,{className:A.contentRow},a.createElement(b.Label,{className:A.authorLeftColumn},"Author"),a.createElement("div",{className:A.authorRightColumn},a.createElement("div",{className:A.rightColumnContentRow},a.createElement(T.PublishingMetadataAuthorSelect,{property:t.author,onChange:this.onPublishingMetadataAuthorChange,resourceType:"hub_file",editingFile:this.props.figFile}))),a.createElement("div",{className:A.rightColumn},this.props.figFile.folder_id===this.props.personalDraftsFolderId&&a.createElement("div",{className:A.infoBannerContainer},a.createElement(f.Svg,{className:A.infoBannerIcon,svg:$}),a.createElement("span",{className:A.infoBannerHelperText},"To publish as a Team, move this file out of drafts and into a Team project.")))),a.createElement(b.Row,{className:A.contentRow},a.createElement(b.Label,{className:A.leftColumn},"License"),a.createElement("div",{className:A.licenseContainer},"Creative Commons BY 4.0"," ",a.createElement(H.LinkInline,{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",className:A.creativeCommonsLearnMore},"Learn more..."))),this.renderRemixedFrom(),a.createElement("div",{style:{height:M.extraPaddingForErrors(Object.keys(i).length)}}))),a.createElement("div",null,a.createElement(M.FooterErrors,{errors:i,order:Z}),a.createElement("div",{className:A.footer},a.createElement("div",null),a.createElement("div",{className:A.buttonGroup},a.createElement(M.ButtonSecondaryFooter,{onClick:this.props.hideModal},"Cancel"),this.props.publishingState.status.code===C.HubPublishingStatusCode.UPLOADING?a.createElement(M.ButtonPrimaryFooter,null,a.createElement(O.LoadingSpinner,{className:A.spinner})):a.createElement(M.ButtonPrimaryFooter,{disabled:!this.canPublish(),onClick:this.submit},this.props.isEditHubFilePageMode?"Save":"Publish")))))}renderRemixedFrom(){if(!this.props.remixedFrom)return null;const e=this.props.remixedFrom,t=w.getHubFileVersion(e);return a.createElement(b.Row,{className:A.contentRow},a.createElement(b.Label,{className:A.leftColumn},"Remixed from"),a.createElement("div",{style:{backgroundImage:`url(${e.redirect_thumbnail_url})`,backgroundColor:I.fileBackgroundColor(e.client_meta)},className:A.remixedFromThumbnail}),a.createElement("div",{className:A.remixedFromMetadata},a.createElement("div",{className:A.remixedFromName},t.name),"by ",S.getPublisherDisplayString(e)))}render(){let e=null,t=!1;if(this.props.publishingState.status.code===C.HubPublishingStatusCode.SUCCESS&&this.props.hubFile&&this.props.publisher){const{hubFile:i,publisher:s,fileKey:l}=this.props;e=a.createElement(ie,{fileKey:l,hubFile:i,publisher:s}),t=!0}else e=this.renderForm();return this.props.isEditHubFilePageMode?a.createElement(j.HeaderModal,{headerClassName:A.modalHeader,title:"Edit File Page",minWidth:W,maxWidth:W,onClose:this.onClose,isCloseHidden:t},e):a.createElement(F.DraggableModal,{headerClassName:A.modalHeader,title:"Publish File",dragHeaderOnly:!0,onClose:this.onClose,initialPosition:function(){const e=window.innerHeight/2-Y/2;return new l.Vector(window.innerWidth/2-W/2,e<0?z+32:e)}(),initialWidth:W,minBottomMargin:32,isCloseHidden:t},e)}}ee.displayName="HubFilePublishModal";var te;t.HubFilePublishModal=s.connect((e,t)=>{var i,a,s,l;const{fileKey:n,isEditHubFilePageMode:u}=t,c=e.fileByKey[n],m=e.hubFiles[e.figFilePublishedAsHubFile[c.key]]||null,h=m&&w.getHubFileVersion(m),p=N.canEditFile(n,e),d=u?h.valid_prototype:o.PrototypingHelpers.firstPagePrototypeStatus()===o.PrototypeStatus.VALID;let g=e.publishingHubFiles[n];g&&g.metadata||(g={status:S.getPublishingStatus(g),metadata:w.getDefaultHubFileVersionMetadata(Object.assign(Object.assign({},N.getPermissionsState(e)),{currentOrgId:e.currentOrgId,figFilePublishedAsHubFile:e.figFilePublishedAsHubFile,hubFiles:e.hubFiles}),n,u)});const b=S.getOrgPermissionEntity(e),f=(null===(a=null===(i=e.mirror)||void 0===i?void 0:i.appModel)||void 0===a?void 0:a.pagesList)||[];return{figFile:c,firstPageId:f.length>0?f[0].nodeId:"",dropdownShown:e.dropdownShown,publishingState:g,orgEntity:b,canEditFigFile:p,remixedFrom:e.figFileRemixedFromHubFile[n]?w.getHubFileById(e.figFileRemixedFromHubFile[n],e.hubFiles):null,user:e.user,personalDraftsFolderId:!e.currentOrgId&&(null===(s=r.getUserDraftsFolderOrNull(e.folders,e.currentOrgId,e.roles,e.user,e.orgUsersByOrgId.orgUsers))||void 0===s?void 0:s.id)||null,canAdminTeam:!!c.team_id&&N.canAdminTeam(c.team_id,e),hubFile:m,hubFileVersion:h,publisher:(null===(l=e.communityHub.currentProfile)||void 0===l?void 0:l.id)===(null==m?void 0:m.publisher.id)?e.communityHub.currentProfile:null,validPrototype:d,scalingMode:g.metadata.scalingMode,teams:e.teams}},(e,t)=>({createHubFile:t=>{e(d.createHubFile(t))},updateHubFile:t=>{e(d.updateHubFile({payload:t,successHandler:()=>{e(p.fileBrowser.hideModal()),e(g.visualBellActions.enqueue({message:"Changes Saved",icon:P.VisualBellIcon.CHECK}))}}))},hideModal:()=>{e(p.fileBrowser.hideModal())},onPublishingMetadataChanged:(t,i)=>{e(d.updateHubFilePublishingMetadata({id:t,metadata:i}))},clearPublishingState:()=>{e(d.clearHubFilePublishing({id:t.fileKey})),e(d.clearHubFilePublishingMetadata({id:t.fileKey}))},dispatch:e}))(ee),function(e){let t;!function(e){e[e.SET_PROFILE_HANDLE=0]="SET_PROFILE_HANDLE",e[e.INFO=1]="INFO"}(t||(t={}));e.ConnectedPublishModalSucessScreen=s.connect((e,t)=>{return{hubFileUrl:B.selectedViewToPath(e,{view:"communityHub",subView:"hubFile",hubFileId:t.hubFile.id})}})(class extends a.PureComponent{constructor(e){super(e),this.onViewResourceClick=(()=>{U.redirect(this.props.hubFileUrl,"_blank"),this.onDismissClick()}),this.onDismissClick=(()=>{this.props.dispatch(p.fileBrowser.hideModal()),this.props.dispatch(d.clearHubFilePublishing({id:this.props.fileKey})),this.props.dispatch(d.clearHubFilePublishingMetadata({id:this.props.fileKey}))}),this.onNextClick=(()=>{this.setState({step:t.INFO})}),this.onShareLinkClick=(()=>{const e=w.getHubFileVersion(this.props.hubFile);c.copyText(V.hubFileShareURL(this.props.hubFile.id,e.name)).then(()=>{this.props.dispatch(g.visualBellActions.enqueue({message:m.defaultStringsRaw["link-copied"]}))})});let i=t.SET_PROFILE_HANDLE;e.publisher.profile_created||(i=t.INFO),y.communityHubPublishingEnabled()||(i=t.INFO),this.state={step:i}}render(){return this.state.step===t.SET_PROFILE_HANDLE?a.createElement(M.PublishSuccessHandleContent,{className:A.editorScrollContainer,onHandleSet:this.onNextClick,publisher:this.props.publisher}):a.createElement(M.PublishSuccessContentView,{className:A.editorScrollContainer,title:"Congratulations!",body:a.createElement(a.Fragment,null,a.createElement("p",{className:A.successContentParagraph},"Your file will soon be available for everyone in the Community to duplicate, remix, and share. Thanks for your contribution. You rock.                "),a.createElement("p",{className:A.successContentParagraph},"Help people discover your file:"),a.createElement("div",null,a.createElement("div",{className:A.shareLink,onClick:this.onShareLinkClick},a.createElement("span",{className:A.shareLinkIcon},a.createElement(f.Svg,{svg:X})),a.createElement("span",{className:A.shareLinkText},"Copy link")),a.createElement("a",{className:A.shareLink,target:"_blank",href:V.hubFileTwitterShareURL(this.props.hubFile)},a.createElement("span",{className:A.shareLinkIcon},a.createElement(f.Svg,{svg:Q})),a.createElement("span",{className:A.shareLinkText},"Share on Twitter")),a.createElement("a",{className:A.shareLink,target:"_blank",href:V.hubFileFacebookShareURL(this.props.hubFile.id)},a.createElement("span",{className:A.shareLinkIcon},a.createElement(f.Svg,{svg:J})),a.createElement("span",{className:A.shareLinkText},"Share on Facebook")))),footerLeftSide:a.createElement(a.Fragment,null,"Review our ",a.createElement(H.Link,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines",target:"_blank"},"Community Guidelines")),primaryButton:{onClick:this.onViewResourceClick,text:"View page"},secondaryButton:{onClick:this.onDismissClick,text:"Done"},headerImgSrc:"https://static.figma.com/uploads/55cce76b49d5d5c5e62352d0d21ee8ce025eef38"})}})}(te||(te={}));const ie=te.ConnectedPublishModalSucessScreen}),
(function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=n(2,1    ),o=n(560                                                     ),s=n(113                                     ),l=n(147                                            ),a=n(154                                 ),r=n(440                          ),p=n(137                                    );class u extends e.Component{constructor(){super(...arguments),this.onConfirm=(()=>{var t;this.props.dispatch(o.uninstallPlugin({pluginId:this.props.plugin.id,orgId:null===(t=this.props.orgEntity)||void 0===t?void 0:t.id}))})}render(){const t=r.getPluginVersion(this.props.plugin);return e.createElement(a.ConfirmationModal,Object.assign({destructive:!0,confirmationTitle:"Uninstall plugin",confirmText:"Uninstall",onConfirm:this.onConfirm},this.props),!this.props.orgEntity&&e.createElement("span",null,"Are you sure you want to uninstall ",t.name,"?"),this.props.orgEntity&&e.createElement("span",null,"Are you sure you want to uninstall ",t.name," for everyone at ",this.props.orgEntity.name,"?"))}}i.PluginUninstallModal=u,u.displayName="PluginUninstallModal";class c extends e.Component{constructor(){super(...arguments),this.onConfirm=(()=>{var t;this.props.dispatch(o.installPlugin({pluginId:this.props.plugin.id,orgId:null===(t=this.props.orgEntity)||void 0===t?void 0:t.id}))}),this.installForSelfText=(t=>`${t} is a plugin that was used to edit this object. You don't have it installed. Do you want to install it?`),this.installForOrgText=((t,i)=>`${t} is a plugin that was used to edit this object. Your org doesn't have it installed. Do you want to install it for everyone at ${i}?`),this.onPluginClick=(t=>{t.metaKey||(t.preventDefault(),this.props.dispatch(s.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:this.props.plugin.id})))}),this.linkToPlugin=(t=>e.createElement(l.LinkInlineTracked,{onClick:this.onPluginClick},"More info about ",t))}render(){const t=r.getPluginVersion(this.props.plugin),i=t.name;return e.createElement(p.TrackingContext,{name:"PluginInstallModal",disableViewTracking:!0,properties:{pluginId:t.plugin_id}},e.createElement(a.ConfirmationModal,Object.assign({autoFocusConfirm:!0,confirmationTitle:`Install ${i}`,confirmText:"Install",cancelText:"Cancel",onConfirm:this.onConfirm,helperText:this.linkToPlugin(i)},this.props),!this.props.orgEntity&&e.createElement("span",null,this.installForSelfText(i)),this.props.orgEntity&&e.createElement("span",null,this.installForOrgText(i,this.props.orgEntity.name))))}}i.PluginInstallModal=c,c.displayName="PluginInstallModal"}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=s(2,1    ),i=s(495                      ),t=s(1518                                                           ),p=s(125                        ),l=s(1560                                                                            ),o=s(176                       ),n=s(1564                                                                  ),d=s(1577                               ),c=s(1578                                      ),u=s(1579                                       ),_=s(1609                                                     ),m=s(1611                                                  ),h=s(135                     ),g=s(1623                                  ),b=s(1625                                    ),O=s(175                            ),f=s(1626                                  ),y=s(459                          ),M=s(136                   );class E extends a.Component{render(){if(this.props.currentOrgId&&h.isOrgSuspended(this.props.currentOrgId,this.props))return a.createElement(m.OrgSuspensionModal,{currentOrgId:this.props.currentOrgId,dispatch:this.props.dispatch,permissionsState:p.getPermissionsState(this.props)});let e=this.props.user&&!(this.props.user.email_validated_at||i.inGracePeriod(this.props.user))&&!y.isUserAccountSettingsView(this.props.selectedView);if(this.props.user&&e)return a.createElement(t.EmailValidationModal,Object.assign({},this.props,{user:this.props.user}));let r=this.props.modalShown;if(r){switch(r.type){case O.PUBLISH_COMPONENTS_MODAL:return a.createElement(n.PublishingModal,{library:this.props.library,fileByKey:this.props.fileByKey,selectedView:this.props.selectedView,currentOrgId:this.props.currentOrgId,fileVersion:this.props.fileVersion,orgById:this.props.orgById,teams:this.props.teams,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown});case O.SETUP_PHONE_MODAL:return this.props.user?a.createElement(d.PhoneSetupModal,Object.assign({},this.props,{user:this.props.user})):null;case O.DISABLE_TWO_FACTOR_MODAL:return a.createElement(c.DisableTwoFactorModal,Object.assign({},this.props));case O.TWO_FACTOR_RECOVERY_MODAL:return this.props.user?a.createElement(u.TwoFactorRecoveryModal,Object.assign({},this.props,{user:this.props.user})):null;case O.LIBRARY_PREFERENCES_MODAL:{const e=r.data&&r.data.tab;return a.createElement(l.LibraryPreferencesModal,Object.assign({},this.props,{tab:e,recordingKey:"libraryPreferencesModal"}))}case O.SHARED_FONTS_MODAL:return a.createElement(l.LibraryPreferencesModal,Object.assign({},this.props,{tab:o.LibraryPreferencesModalTab.FONTS,recordingKey:"libraryPreferencesModal"}));case O.ORG_DASHBOARD_MODAL:return this.props.currentOrgId?a.createElement(_.OrgDashboardModal,Object.assign({},this.props,{currentOrgId:this.props.currentOrgId})):null;case O.PLUGIN_PUBLISH_MODAL:return a.createElement(g.PluginPublishModal,{localFileId:r.data.localFileId});case O.PLUGIN_UNINSTALL_MODAL:return a.createElement(f.PluginUninstallModal,{plugin:r.data.plugin,orgEntity:r.data.orgEntity,dispatch:this.props.dispatch,recordingKey:"pluginUninstallModal"});case O.PLUGIN_INSTALL_MODAL:return a.createElement(f.PluginInstallModal,{plugin:r.data.plugin,orgEntity:r.data.orgEntity,dispatch:this.props.dispatch,recordingKey:"pluginInstallModal"});case O.HUB_FILE_PUBLISH_MODAL:return a.createElement(b.HubFilePublishModal,{fileKey:r.data.fileKey,isEditHubFilePageMode:r.data.isEditHubFilePageMode||!1,thumbnailBuffer:r.data.thumbnailBuffer,thumbnailUrl:r.data.thumbnailUrl})}const e=M.modalForType(r.type);if(e)return e(this.props)}return null}}r.AppModal=E,E.displayName="AppModal"}),
(function(o,r,e){o.exports={button:"unsupported_browser--button--2-5h-",confirmButton:"unsupported_browser--confirmButton--35aA4",primaryButtonLink:"unsupported_browser--primaryButtonLink--39d5e",disabledButton:"unsupported_browser--disabledButton--3I0Cz",cancelLink:"unsupported_browser--cancelLink--1sKRr unsupported_browser--button--2-5h-",list:"unsupported_browser--list--rQfkI",left:"unsupported_browser--left--3s74Y",blueLink:"unsupported_browser--blueLink--4VgCG blue_link--blueLink--22X56",buttonRow:"unsupported_browser--buttonRow--2erK6",forgotLink:"unsupported_browser--forgotLink--1WzQZ",modalShadow:"unsupported_browser--modalShadow--2oXkG",modal:"unsupported_browser--modal--3Xz7X unsupported_browser--modalShadow--2oXkG",modalContent:"unsupported_browser--modalContent--389n5",welcome:"unsupported_browser--welcome--3RQXk unsupported_browser--modalContent--389n5",exportIcon:"unsupported_browser--exportIcon--1qytt",important:"unsupported_browser--important--1wppE",title:"unsupported_browser--title--fTSW6",textInput:"unsupported_browser--textInput--3NQAK",tfaQrCode:"unsupported_browser--tfaQrCode--H07MJ",error:"unsupported_browser--error--2FP37",code:"unsupported_browser--code--YZhF2",codes:"unsupported_browser--codes--qX7ws",avatarWithHandle:"unsupported_browser--avatarWithHandle--36dWJ",searchContainer:"unsupported_browser--searchContainer--3Ttze",link:"unsupported_browser--link--1IQJD",logos:"unsupported_browser--logos--3nr4R",logo:"unsupported_browser--logo--3b0cz unsupported_browser--link--1IQJD"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(2,1    ),a=s(154                                 ),n=s(147                                            ),r=s(211              ),p=s(1628                       );function l(){location.href="/downloads"}t.isUnsupportedDesktopApp=function(){return!(!r.isRunningOutdatedDesktopApp()&&!r.isRunningUnsupportedDesktopAppPlatform())};class i extends o.PureComponent{renderUnsupportedDesktopAppOS(){return o.createElement(a.Modal,Object.assign({size:"small",className:p.modal},this.props),o.createElement("div",{className:p.title},"Your operating system is out of date!"),o.createElement("div",{className:p.modalContent},"Figma Desktop App now requires macOS 10.10 or later. Please upgrade to a newer version of macOS or use ",o.createElement("a",{href:"https://www.figma.com",target:"_blank"},"www.figma.com")," on the web instead."))}renderOutdatedDesktopApp(){return o.createElement(a.Modal,Object.assign({size:"small",className:p.modal},this.props),o.createElement("div",{className:p.title},"Figma Desktop App is out of date!"),o.createElement("div",{className:p.modalContent},"Please download and install the latest version of the Figma Desktop App."),o.createElement("div",{className:p.buttonRow},o.createElement(n.ButtonPrimary,{className:p.confirmButton,onClick:l},"Download")))}render(){return r.isRunningUnsupportedDesktopAppPlatform()?this.renderUnsupportedDesktopAppOS():this.renderOutdatedDesktopApp()}}t.UnsupportedDesktopAppModal=i,i.displayName="UnsupportedBrowserModal"}),
(function(l,o,u){l.exports={callout:"onboarding_callout--callout--3Ervi",pulse:"onboarding_callout--pulse--1VeJ_"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=n(2,1    ),o=n(1630                      );class r extends l.Component{UNSAFE_componentWillMount(){this.interval=setInterval(()=>{this.forceUpdate()},1e3)}componentWillUnmount(){clearInterval(this.interval)}render(){const e=document.querySelector(`[data-onboarding-key=${this.props.target}]`);if(e){const t=e.getBoundingClientRect();if(!e.offsetParent)return l.createElement("div",null);const n=t.left+t.width/2,r={top:t.top+t.height/2,left:n};return l.createElement("div",{className:o.callout,style:r})}return l.createElement("div",null)}}t.OnboardingCallout=r,r.displayName="OnboardingCallout"}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(2,1    ),i=o(6,1        ),s=o(214         ),a=o(147                                            ),r=o(773                                                    ),l=o(1105                                                             ),d=o(137                                    ),p=o(449                                  ),c=o(1107                                                         ),h=o(1631                                                              ),g=o(1109                                          ),m=o(149                                              ),u=o(548                          ),y=o(722                                           ),b=o(154                                 ),f=o(152                                          ),E=o(86            ),T=o(1111                                 ),w=o(1106                                ),C=350,O=328,v=10,_=12,M=18,L=t=>null!==t?t:void 0;e.OnboardingSequence=u.withDispatch(class extends n.Component{constructor(t){super(t),this.isOnLastStep=(()=>this.state.currentStep===this.props.steps.length-1),this.advanceStepOrComplete=(()=>{var t,e;if(this.isOnLastStep())this.setUserFlagsOnComplete(),null===(e=(t=this.props).onComplete)||void 0===e||e.call(t),this.hideRCSOnboarding();else{const t=this.props.steps[this.state.currentStep].userFlag;t&&this.props.dispatch(p.userFlags.put({name:t})),this.setState({currentStep:this.state.currentStep+1})}}),this.setUserFlagsOnComplete=E.debounce(()=>{const t={};for(let e=0;e<this.props.steps.length;e++){const{userFlag:o}=this.props.steps[e];o&&(t[o]=!0)}if(this.props.userFlagsOnComplete)for(let e of this.props.userFlagsOnComplete)t[e]=!0;Object.keys(t).length>0&&this.props.dispatch(p.userFlags.post({flags:t}))},200),this.hideRCSOnboarding=(()=>{this.props.dispatch(y.responsiveContentActions.hideOnboardingSequence())}),this.state={currentStep:0,steps:t.steps}}static getDerivedStateFromProps(t,e){for(let o=0;o<Math.max(e.steps.length,t.steps.length);o++)if(t.steps[o]!==e.steps[o])return{steps:t.steps,currentStep:0};return null}attachButtonText(t){return t.modalType===g.ModalType.DRAGGABLE?Object.assign(Object.assign({},t),{ctaText:t.ctaText||(this.isOnLastStep()?"Done":"Next")}):t}render(){if(0===this.props.steps.length)return n.createElement("div",null);const t=this.attachButtonText(this.props.steps[this.state.currentStep]);return n.createElement(S,{onClose:this.setUserFlagsOnComplete,dismissModal:this.hideRCSOnboarding,step:t,onClickPrimaryCta:this.advanceStepOrComplete})}});class S extends n.Component{constructor(t){super(t),this.renderIfDocumentComplete=(()=>{"complete"===document.readyState&&this.forceRender()}),this.getOnboardingKeyElementInterval=null,this.startScanningForOnboardingKeyElement=(()=>{this.cleanUpOnboardingKeyElementScanner();const t=this.props.step;t.modalType===g.ModalType.DRAGGABLE&&(t.key?this.getOnboardingKeyElementInterval=setInterval(()=>{let t=this.getOnboardingKeyElement();if(null!=t){const e=this.computeLocation(t.getBoundingClientRect());null!=this.state.onboardingKeyLocation&&this.state.onboardingKeyLocation.top===e.top&&this.state.onboardingKeyLocation.left===e.left||this.setState({onboardingKeyLocation:e})}else this.setState({onboardingKeyLocation:null})},50):this.setState({onboardingKeyLocation:null}))}),this.cleanUpOnboardingKeyElementScanner=(()=>{null!=this.getOnboardingKeyElementInterval&&(clearInterval(this.getOnboardingKeyElementInterval),this.getOnboardingKeyElementInterval=null)}),this.acceptHeight=(t=>this.setState({modalHeight:t})),this.nextButtonRef=(t=>{t&&(this.button=i.findDOMNode(t),this.focusButton())}),this.focusButton=(()=>{this.button&&this.button.focus()}),this.computeLocation=(t=>{const e=this.props.step;if(e.modalType!==g.ModalType.DRAGGABLE)return{top:null,left:null,arrowRelativeX:null,arrowRelativeY:null,arrowPosition:null};if(e.pointDirection===g.PointDirectionOverride.LEFT_TITLE){let e=t.top+t.height/2-20,o=t.left+t.width+16;const n=r.HEADER_HEIGHT/2-M/2;return{left:o,top:e,arrowRelativeX:-1*M,arrowRelativeY:n,arrowPosition:r.ArrowPosition.LEFT_TITLE}}const o=t.left+t.width/2;let n=t.bottom+18,i=o-this.width/2;i=Math.max(i,v);let s=o-(i=Math.min(i,window.innerWidth-v-this.width)),a=r.ArrowPosition.TOP;return null!=this.state.modalHeight&&window.innerHeight-n<this.state.modalHeight+_&&(n=t.top-this.state.modalHeight-_,a=r.ArrowPosition.BOTTOM),{left:i,top:n,arrowRelativeX:s,arrowRelativeY:null,arrowPosition:a}}),this.getFramePosition=(()=>this.state.onboardingKeyLocation?this.state.onboardingKeyLocation:{top:null,left:null,arrowPosition:null,arrowRelativeX:null,arrowRelativeY:null}),this.getOnboardingKeyElement=(()=>{const t=this.props.step;if(t.modalType!==g.ModalType.DRAGGABLE)return null;const e=document.querySelector(`[data-onboarding-key=${t.key}]`);if(!e)return null;const o=e.getBoundingClientRect();return 0===o.left&&0===o.right&&0===o.height&&0===o.width?null:e}),this.acceptTitle=(t=>{this.setState({title:t,titleSetByStep:this.props.step})}),this.forceRender=(()=>this.setState({renderCount:this.state.renderCount+1})),this.getPositionAndConstraints=(t=>{const e=this.getFramePosition();if(e.top&&e.left)return{initialPosition:new s.Vector(e.left,e.top)};switch(t){case g.ModalLocation.BOTTOM_LEFT:return{initialPosition:new s.Vector(12,12),initialConstraints:{x:"left",y:"bottom"}};case g.ModalLocation.BOTTOM_RIGHT:return{initialPosition:new s.Vector(12,12),initialConstraints:{x:"right",y:"bottom"}};case g.ModalLocation.CENTER:default:return{initialPosition:new s.Vector(window.innerWidth/2-this.width/2,window.innerHeight/2-this.height/2)}}}),this.state={modalHeight:O,onboardingKeyLocation:null,renderCount:0}}componentDidMount(){window.addEventListener("beforeunload",this.props.onClose),this.startScanningForOnboardingKeyElement(),document.addEventListener("readystatechange",this.renderIfDocumentComplete)}componentWillUnmount(){this.props.onClose(),window.removeEventListener("beforeunload",this.props.onClose),document.removeEventListener("readystatechange",this.renderIfDocumentComplete),this.cleanUpOnboardingKeyElementScanner()}componentDidUpdate(t,e){this.focusButton();const o=this.props.step;if(o.modalType!==g.ModalType.DRAGGABLE)return;const n=t.step;(n.modalType!==g.ModalType.DRAGGABLE||o.key&&o.key!==n.key)&&this.startScanningForOnboardingKeyElement()}get width(){const t=this.props.step;return t.modalType!==g.ModalType.DRAGGABLE?C:t.width||C}get height(){return this.state.modalHeight||O}static getDerivedStateFromProps(t,e){return t.step!==e.titleSetByStep?{title:void 0,titleSetByStep:void 0}:{}}render(){const t=this.props.step,e=this.getFramePosition(),o={acceptTitle:this.acceptTitle,dismissModal:this.props.dismissModal,onClickPrimaryCta:this.props.onClickPrimaryCta,forceRender:this.forceRender},i=n.createElement(c.OnboardingLoadingContext.Provider,{value:this.forceRender},n.createElement(t.element,Object.assign({},o)));return d.asTrackedElement((()=>{switch(t.modalType){case g.ModalType.DRAGGABLE:const{initialPosition:o,initialConstraints:s}=this.getPositionAndConstraints(t.defaultLocation),d=this.state.title||t.title,p=t.key||t.highlightOnlyKey;return n.createElement(n.Fragment,null,p&&n.createElement(h.OnboardingCallout,{target:p}),n.createElement(r.DraggableModal,{initialWidth:this.width,acceptHeight:this.acceptHeight,title:d,initialPosition:o,initialConstraints:s,arrowRelativeX:L(e.arrowRelativeX),arrowRelativeY:L(e.arrowRelativeY),arrowPosition:L(e.arrowPosition),animatedIn:!0,dragHeaderOnly:!!d,onClose:this.props.dismissModal,headerClassName:t.lightHeader?void 0:l.onboardingModalHeader,closeButtonClassName:t.lightHeader?void 0:m.closeXLight},i,t.disableFooter?null:n.createElement(c.OnboardingFooter,null,n.createElement(a.ButtonPrimaryTracked,{ref:this.nextButtonRef,onClick:this.props.onClickPrimaryCta},t.ctaText))));case g.ModalType.FEATURE_UPDATE:case g.ModalType.NEW_USER:return n.createElement(b.ModalView,{className:`${l.modal} ${t.modalType===g.ModalType.FEATURE_UPDATE&&l.modalAnimateIn}`,size:g.LARGE_MODAL_WIDTH,hide:this.props.dismissModal,backgroundClassName:t.modalType===g.ModalType.FEATURE_UPDATE?l.modalLightBackground:void 0},i,n.createElement(f.CloseButton,{innerText:"Close",className:l.closeButton,onClick:this.props.dismissModal,svg:w,useOriginalSrcFills:!0}));case g.ModalType.WALK_THROUGH:return n.createElement(n.Fragment,null,n.createElement(h.OnboardingCallout,{target:t.key}),n.createElement(T.WalkThroughModal,{targetKey:t.key,dismissModal:this.props.dismissModal,height:t.height,width:t.width,pointerForegroundColor:t.pointerForegroundColor,highContrastCloseButton:t.highContrastCloseButton},i));case g.ModalType.WELCOME:return n.createElement(b.ModalView,{className:l.overflowingModal,size:g.MEDIUM_MODAL_WIDTH,hide:this.props.dismissModal,disableClickOutsideToHide:!0},i);case g.ModalType.SELF_CONTAINED:return i}})(),t.trackingContextName,t.trackingProperties)}}S.displayName="OnboardingFrame"}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=i(104              ).parse(window.location.search);n.isRunningViaSelenium="1"===s.selenium,n.shouldTakeScreenshots=n.isRunningViaSelenium&&"1"===s.screenshots,n.shouldPlaybackInRealtime=-1!==window.location.search.indexOf("realtime=1"),n.specFilter=s.only||null;const t=new Set((s.test_categories||"").split(",").filter(e=>e.length>0));n.shouldRunTestInCategory=function(e){return 0===t.size||t.has(e)}}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=s(2,1    ),t=s(1632                                            ),o=s(43,1         ),i=s(141              ),a=s(1633                                ),c=s(284                          );const g=o.connect(e=>Object.assign(Object.assign({},e.responsiveContent),{progressBar:e.showingProgressBar}))(class extends r.Component{render(){return window.figmaPerfTesting||a.shouldTakeScreenshots||i.isRunningInteractionTests()?r.createElement("div",null):this.props.onboardingSequence&&0!==this.props.onboardingSequence.steps.length&&this.props.progressBar===c.ProgressBarMode.OFF?r.createElement(t.OnboardingSequence,Object.assign({},this.props.onboardingSequence)):r.createElement("div",null)}});n.default=g}),
(function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=a(2,1    ),i=a(85                         ),n=a(111                );r.removePathIfFigmaReferrer=(e=>{if(0===e.length)return e;let r=new URL(e);return("figma.com"===r.hostname||r.hostname.endsWith(".figma.com"))&&(r.pathname=""),r.toString()}),r.GoogleTagManagerIframe=(()=>i.default().google_tag_manager_iframe_url?t.createElement("iframe",{"aria-hidden":"true",tabIndex:-1,name:"gtm-iframe",src:`${i.default().google_tag_manager_iframe_url}?referrer=${r.removePathIfFigmaReferrer(n.referrer)}`,style:{width:"0",height:"0",display:"none",visibility:"hidden"}}):null)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const p=o(2,1    ),s=o(421                                ),i=o(113                                     ),r=o(125                        ),n=o(232                       ),a=o(98                  ),l=o(1445                         ),h=o(482                              ),c=o(1627                       ),d=o(1629                                                           ),m=o(1383                                 ),w=o(279                             ),u=o(443                      ),g=o(1634                                                      ),y=o(137                                    ),f=o(830                                                  ),_=o(186                      ),v=o(1635                       );class E extends p.Component{constructor(){super(...arguments),this.onDocumentKeyDown=(e=>{27===e.keyCode&&(this.props.dropdownShown&&!this.props.dropdownShown.hasOwnEscKeyHandler&&this.props.dispatch(i.fileBrowser.hideDropdown()),this.props.tooltip.state===n.TooltipState.SHOWING&&this.props.dispatch(s.tooltip.hide()))}),this.onDocumentWheel=(e=>{(e.ctrlKey||e.metaKey)&&e.preventDefault()}),this.renderPage=(()=>{const e=this.props.selectedView;if("prototype"!==e.view)throw new Error(`Unexpected non-prototype view: ${e.view}`);const t=this.props.fileByKey[e.fileKey],o=u.getScalingMode(e),s=null==e.showHotspots||e.showHotspots,i=this.props;return y.asTrackedElement(p.createElement(m.PrototypeView,{dispatch:this.props.dispatch,fileFollowers:this.props.fileFollowers,fileByKey:this.props.fileByKey,selectedView:e,file:t,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,permissionState:r.getPermissionsState(this.props),comments:this.props.comments,contacts:this.props.contacts,user:this.props.user,prototype:i.prototype,scalingMode:o,showHotspots:s,multiplayer:this.props.multiplayer,modalShown:this.props.modalShown,appWindow:this.props.appWindow,interactionTests:this.props.interactionTests,org:this.props.currentOrgId?this.props.orgById[this.props.currentOrgId]:null,orgDomains:this.props.orgDomains,recordingKey:"prototypeView"}),f.TrackedContext.PROTOTYPE,_.fileViewTrackedProps(t,this.props))})}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),document.addEventListener("wheel",this.onDocumentWheel,{passive:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),document.removeEventListener("wheel",this.onDocumentWheel)}render(){return d.isUnsupportedDesktopApp()?p.createElement(d.UnsupportedDesktopAppModal,{dispatch:this.props.dispatch}):p.createElement(l.InAppPage,{reduxState:this.props,recordingKey:"inAppPage"},this.renderPage(),p.createElement(a.FlashView,{flashes:this.props.flashes}),p.createElement(c.AppModal,Object.assign({},this.props)),p.createElement(w.VisualBellView,{dispatch:this.props.dispatch,progress:this.props.progress,visualBell:this.props.visualBell}),p.createElement(h.MouseOverTooltipView,{strings:this.props.mirror.appModel.strings,keyboardShortcuts:this.props.mirror.appModel.keyboardShortcuts,tooltip:this.props.tooltip}),this.props.user&&p.createElement(g.default,null),p.createElement(v.GoogleTagManagerIframe,null))}}t.PrototypeAppView=E,E.displayName="PrototypeAppView"}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2,1    ),i=r(1516                ),n=r(1636                   ),l=r(213                           ),s=r(468                                ),d=r(112          );let a=!1;const c=e=>"prototype"===e.selectedView.view?o.createElement(n.PrototypeAppView,Object.assign({},e)):(a||(console.log(`Reloading due to missing view: ${e.selectedView.view}`),d.redirect(s.selectedViewToPath(e,e.selectedView)),a=!0),null);document.addEventListener("DOMContentLoaded",()=>{l.errorHandler.setGlobalErrorHandler(),i.start(c)})})]);
